/* =======================================================
   LC-ADVANCE - style.css (Versión Corregida y Optimizada 2025 v3.1)
   Estilo RETRO 8-BIT / 16-BIT con Toques Modernos
   Mejoras: Mayor legibilidad (font sizes aumentados, contraste mejorado, espaciado)
   SVG optimizados para nitidez, sin pixelado forzado en texto
   Nuevos estilos para dashboard y content elements
========================================================== */

/* ===== IMPORTACIÓN DE FUENTES ===== */
@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&display=swap');

/* ===== VARIABLES GLOBALES ===== */
:root {
    /* Colores Neón */
    --neon-green: #00ff00;
    --neon-blue: #00ccff;
    --neon-cyan: #00ffff;
    --neon-pink: #ff00ff;
    --neon-magenta: #ff00ff;
    --neon-yellow: #ffcc00;
    --neon-orange: #ff9800;
    --neon-red: #ff3333;
    
    /* Fondos */
    --bg-dark: #0a0a0a;
    --bg-card: #111111;
    --bg-panel: #1a1a1a;
    
    /* Texto */
    --text-light: #f0f0f0;
    --text-dim: #aaaaaa;
    --text-dark: #000000;
    --text-muted: #777777;
    
    /* Fuentes */
    --font-pixel: 'Press Start 2P', cursive;
    --font-retro: 'VT323', monospace;
    
    /* Efectos */
    --shadow-neon: 0 0 15px;
    --glow-green: 0 0 20px rgba(0, 255, 0, 0.6);
    --glow-cyan: 0 0 20px rgba(0, 255, 255, 0.6);
    --glow-pink: 0 0 20px rgba(255, 0, 255, 0.6);
    
    /* Nuevos para legibilidad */
    --base-font-size: 20px; /* Aumentado para mejor lectura */
    --line-height: 1.8; /* Más espacio entre líneas */
    --padding-base: 25px; /* Más espaciado en contenedores */
}

/* ===== RESET Y BASE ===== */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: var(--font-retro);
    background: var(--bg-dark);
    background-image: 
        radial-gradient(circle at center, rgba(0, 255, 0, 0.05) 1px, transparent 0),
        repeating-linear-gradient(0deg, rgba(0, 255, 0, 0.03) 0px, transparent 1px, transparent 2px);
    background-size: 20px 20px, 100% 4px;
    color: var(--text-light);
    font-size: var(--base-font-size); /* Mayor legibilidad base */
    line-height: var(--line-height); /* Mejor espaciado */
    min-height: 100vh;
    display: flex;
    flex-direction: column;
}

/* ===== TIPOGRAFÍA ===== */
h1 {
    font-family: var(--font-pixel);
    font-size: 36px; /* Aumentado para visibilidad */
    color: var(--neon-yellow);
    text-shadow: 4px 4px 0 #000, -2px -2px 0 var(--neon-orange);
    letter-spacing: 3px;
    margin: 25px 0; /* Más espacio */
}

h2 {
    font-family: var(--font-pixel);
    font-size: 28px; /* Aumentado */
    color: var(--neon-cyan);
    text-shadow: 2px 2px 0 #000, var(--glow-cyan);
    margin: 35px 0 20px;
    text-align: center;
}

h3 {
    font-family: var(--font-pixel);
    font-size: 24px; /* Aumentado */
    color: var(--neon-orange);
    margin: 30px 0 20px;
    border-bottom: 3px dotted var(--neon-yellow);
    padding-bottom: 8px;
}

h4 {
    font-family: var(--font-pixel);
    font-size: 20px; /* Aumentado */
    color: var(--neon-green);
    margin: 20px 0 12px;
}

p {
    margin: 20px 0; /* Más espacio */
    font-size: var(--base-font-size); /* Consistente */
}

/* ===== CONTENEDORES PRINCIPALES ===== */
.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: var(--padding-base);
    flex: 1;
}

.lesson-container,
.dashboard-container,
.quiz-container,
.ranking-container,
.register-container,
.login-container {
    max-width: 1000px;
    margin: 40px auto; /* Más espacio vertical */
    padding: var(--padding-base);
    background: var(--bg-card);
    border: 5px solid var(--neon-green);
    box-shadow: var(--glow-green), inset 0 0 15px rgba(0, 255, 0, 0.3);
    border-radius: 8px;
    animation: neonGlow 2s ease-in-out infinite alternate;
}

/* ===== HEADER Y NAVEGACIÓN (MENOS GRANDE) ===== */
.header {
    --header-height: 64px; /* usado por elementos flotantes que dependen del header */
    background: #000;
    padding: 10px 15px; /* Reducido para menos altura */
    border-bottom: 4px solid var(--neon-yellow);
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    position: sticky;
    top: 0;
    z-index: 1200; /* asegurar que quede por encima de paneles flotantes */
    box-shadow: 0 4px 12px rgba(255, 204, 0, 0.4);
}

.header h1 {
    font-size: 22px; /* Reducido */
    margin: 0;
}

.header nav {
    display: flex;
    gap: 12px; /* Espacio ajustado */
    margin: 0;
    align-items: center;
}

/* Asegurar estilo consistente aunque el body reciba clases dinámicas */
.header, .header * {
    background: inherit !important;
    color: inherit !important;
}


/* ===== BOTONES ===== */
.btn {
    display: inline-block;
    padding: 8px 14px; /* reducido */
    font-family: var(--font-pixel);
    font-size: 13px; /* ligeramente menor */
    font-weight: bold;
    text-align: center;
    text-decoration: none;
    color: #fff;
    background: #c00000;
    border: 3px solid #ff0000; /* menos grueso */
    border-radius: 0;
    box-shadow: 0 0 0 2px #000, 3px 3px 0 #000, inset 0 0 8px rgba(255,255,255,0.3);
    transition: all 0.12s cubic-bezier(0.17, 0.67, 0.83, 0.67);
    cursor: pointer;
    position: relative;
    text-shadow: 2px 2px 0 #800000;
    letter-spacing: 1px;
    text-transform: uppercase;
}

.btn:hover {
    background: #ff3333;
    transform: translate(2px, 2px); /* menos movimiento */
    box-shadow: 0 0 0 2px #000, 1px 1px 0 #000;
}

.btn:active {
    transform: translate(5px, 5px);
    box-shadow: 0 0 0 2px #000;
    background: #ff6666;
}

/* Efecto Scanlines */
.btn::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(rgba(255,255,255,0.1) 50%, rgba(0,0,0,0.1) 50%);
    background-size: 100% 4px;
    pointer-events: none;
    mix-blend-mode: overlay;
}

/* Variantes de Botones */
.btn-login,
.btn-register,
.btn-start {
    background: #0066cc;
    border-color: #0099ff;
    text-shadow: 2px 2px 0 #003366;
}

.btn-login:hover,
.btn-register:hover,
.btn-start:hover {
    background: #00ccff;
    color: #000;
}

.btn-guest {
    background: #333;
    border-color: #777;
    color: #fff;
    text-shadow: 1px 1px 0 #000;
}

.btn-guest:hover {
    background: #555;
    color: #fff;
}

.btn-dashboard {
    background: #338833;
    border-color: var(--neon-green);
    text-shadow: 2px 2px 0 #115511;
}

.btn-dashboard:hover {
    background: #66ff66;
    color: #000;
}

.btn-logout {
    background: #990000;
    border-color: #ff3333;
}

.btn-logout:hover {
    background: #cc0000;
}

.btn-primary {
    background: #0066cc;
    border-color: #0099ff;
    text-shadow: 2px 2px 0 #003366;
}

.btn-primary:hover {
    background: #00ccff;
    color: #000;
}

.btn-small {
    padding: 8px 14px;
    font-size: 12px;
    transform: none;
}

.btn-small:hover {
    transform: translate(1px, 1px);
}

.btn-repeat {
    background: #666600;
    border-color: var(--neon-yellow);
}

.btn-repeat:hover {
    background: var(--neon-yellow);
    color: #000;
}

/* ===== SVG Y VISUALES ===== */
.visual,
.svg-diagram {
    margin: 25px 0; /* Más espacio */
    text-align: center;
}

.svg-diagram svg {
    image-rendering: auto !important; /* Para legibilidad vectorial */
    width: 100%;
    height: auto;
    max-height: 750px; /* Ajustado */
    display: block;
    margin: 0 auto;
    border-radius: 12px;
    box-shadow: 0 0 30px rgba(0,255,255,0.3);
}

svg text {
    font-size: 24px; /* Legible */
    user-select: none;
}

/* ===== TABLAS ===== */
.table {
    width: 100%;
    margin: 20px 0;
    border-collapse: collapse;
}

.table th, .table td {
    padding: 15px; /* Espacio */
    text-align: center;
    border: 1px solid #444;
    font-size: var(--base-font-size); /* Consistente */
}

.table th {
    background: #1a1a1a;
    color: var(--neon-cyan);
}

/* ===== INTERACTIVOS ===== */
.interactive-block {
    padding: var(--padding-base); /* Espacio */
    margin: 40px 0;
    border-radius: 12px;
    background: linear-gradient(145deg, #111111, #000000);
    border: 5px double var(--neon-green);
    box-shadow: var(--glow-green);
}

.interactive-block h4 {
    font-size: 20px;
}

.interactive-block label {
    font-size: 18px;
    margin-bottom: 10px;
}

.opciones-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
}

.opcion-btn {
    padding: 12px; /* reducido */
    font-size: 16px; /* menos grande */
    border-radius: 8px;
    background: #333;
    border: 3px solid var(--neon-pink);
    color: var(--neon-pink);
    cursor: pointer;
    transition: all 0.2s;
}

.opcion-btn:hover {
    background: var(--neon-pink);
    color: #000;
}

.retro-input, .retro-select {
    background: #000;
    color: var(--neon-green);
    border: 3px solid var(--neon-green);
    padding: 12px;
    font-size: 18px;
    width: 100%;
    box-shadow: inset 0 0 10px rgba(0,255,0,0.5);
}

.retro-input:focus, .retro-select:focus {
    border-color: var(--neon-cyan);
    box-shadow: 0 0 15px var(--neon-cyan);
}

/* ===== ALERTAS ===== */
.alert {
    padding: 20px;
    margin: 25px 0;
    border-radius: 8px;
    font-size: var(--base-font-size);
}

/* ===== ESTILOS ESPECÍFICOS PARA DASHBOARD ===== */
.profile-summary {
    margin: 20px 0;
    text-align: center;
}

.profile-name {
    font-size: 26px; /* Ajustado para equilibrio */
}

.username-glow {
    color: var(--neon-cyan);
    text-shadow: var(--glow-cyan);
}

.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin: 20px 0;
}

.stat-card {
    padding: 20px;
    background: var(--bg-panel);
    border-radius: 8px;
    box-shadow: var(--shadow-neon) rgba(0,0,0,0.5);
    text-align: center;
}

.level-card {
    border: 2px solid var(--neon-orange);
}

.points-card {
    border: 2px solid var(--neon-pink);
}

.big-stat {
    font-size: 48px; /* Grande pero legible */
    color: var(--neon-yellow);
    text-shadow: var(--glow-pink);
}

.user-nivel {
    color: var(--neon-blue);
}

.progress-section {
    margin: 30px 0;
}

.progress-bar {
    background: #333;
    border: 3px solid var(--neon-cyan);
    height: 20px;
    border-radius: 10px;
    overflow: hidden;
}

.progress-fill {
    background: linear-gradient(90deg, var(--neon-green), var(--neon-cyan));
    height: 100%;
    transition: width 0.5s ease;
}

.progress-info {
    text-align: center;
    margin-top: 10px;
    font-size: 18px;
}

.badges-section {
    margin: 30px 0;
}

.badges-list {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    justify-content: center;
}

.badge {
    padding: 10px 20px;
    border-radius: 20px;
    font-size: 16px;
    text-shadow: 1px 1px 0 #000;
}

.badge.bronze {
    background: linear-gradient(135deg, #cd7f32, #a56727);
    color: #fff;
}

.badge.silver {
    background: linear-gradient(135deg, #c0c0c0, #a0a0a0);
    color: #fff;
}

.badge.gold {
    background: linear-gradient(135deg, #ffd700, #d4af37);
    color: #fff;
}

.text-muted {
    color: var(--text-dim);
    font-style: italic;
}

.materias-list {
    margin-top: 40px;
}

.materia-section {
    margin-bottom: 50px;
}

.materia-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

.materia-title {
    font-size: 24px;
    color: var(--neon-orange);
}

.materia-progress {
    font-size: 16px;
    color: var(--text-dim);
}

.leccion-list {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.leccion-item {
    display: grid;
    grid-template-columns: 40px 1fr auto;
    gap: 15px;
    align-items: center;
    padding: 15px;
    background: var(--bg-panel);
    border: 2px solid #444;
    border-radius: 8px;
    transition: all 0.2s;
}

.leccion-item:hover {
    transform: translateX(4px);
    box-shadow: 4px 4px 0 #000;
}

.leccion-status {
    font-size: 24px;
    text-align: center;
}

.leccion-name {
    font-family: var(--font-pixel);
    color: var(--neon-yellow);
    font-size: 18px;
}

.leccion-actions {
    display: flex;
    gap: 10px;
}

.ranking-panel {
    margin-top: 40px;
    padding: 20px;
    background: var(--bg-card);
    border-radius: 8px;
    box-shadow: var(--glow-pink);
}

.ranking-scroll-area {
    max-height: 300px;
    overflow-y: auto;
}

.ranking-table {
    width: 100%;
    border-collapse: collapse;
}

.ranking-table th, .ranking-table td {
    padding: 12px;
    text-align: left;
    border-bottom: 1px solid #444;
}

.actual-user {
    background: rgba(0,255,0,0.2);
    font-weight: bold;
}

.materia-nav-quick.fixed-quick-menu {
    position: fixed;
    bottom: 20px;
    left: 20px;
    padding: 10px;
    background: var(--bg-panel);
    border: 3px solid var(--neon-cyan);
    border-radius: 8px;
    box-shadow: var(--glow-cyan);
    z-index: 100;
}

.retro-select {
    background: #000;
    color: var(--neon-green);
    border: 2px solid var(--neon-green);
    padding: 8px;
    font-size: 16px;
    width: 200px;
}

.scroll-to-top-btn {
    position: fixed;
    bottom: 20px;
    right: 20px;
    padding: 10px 15px;
    background: var(--neon-blue);
    border: 3px solid var(--neon-cyan);
    border-radius: 50%;
    cursor: pointer;
    display: none;
    z-index: 100;
}

.arrow-up {
    font-size: 24px;
    color: #000;
}

/* ===== ESTILOS ESPECÍFICOS PARA CONTENT ===== */
.content-header {
    text-align: center;
    margin-bottom: 40px;
}

.materia-tag {
    display: inline-block;
    padding: 8px 16px;
    background: rgba(0,255,255,0.1);
    border: 2px solid var(--neon-cyan);
    border-radius: 20px;
    font-size: 16px;
    color: var(--neon-cyan);
    margin-top: 10px;
}

.progress-info-local {
    font-style: italic;
    color: var(--text-dim);
    margin-top: 15px;
}

.content-body {
    max-width: 800px;
    margin: 0 auto;
}

.latex-display {
    text-align: center;
    background: #1a1a1a;
    padding: 15px;
    border-radius: 8px;
    margin: 20px 0;
}

.caption {
    font-style: italic;
    color: var(--text-dim);
    text-align: center;
    margin-top: 10px;
}

#explorador-derivada {
    border: 3px solid var(--neon-blue);
    border-radius: 12px;
}

#curva {
    stroke-width: 4px;
}

#tangente {
    stroke-width: 3px;
}

#punto {
    r: 6px;
}

#tooltip-bg {
    opacity: 0.9;
}

#tooltip-text {
    font-size: 14px;
}

/* ===== RESPONSIVO ===== */
@media (max-width: 768px) {
    :root {
        --base-font-size: 18px;
    }

    h1 {
        font-size: 32px;
    }

    h2 {
        font-size: 24px;
    }

    .container {
        padding: 15px;
    }

    .interactive-block {
        padding: 20px;
    }

    .svg-diagram svg {
        max-height: 650px;
    }

    .header {
        padding: 8px 12px;
    }

    .header h1 {
        font-size: 20px;
    }

    .stats-grid {
        grid-template-columns: 1fr;
    }
}

/* ===== FIN DEL CSS ===== */

/* =======================================================
   LC-ADVANCE - style.css (Adiciones Específicas 2025 v3.1)
   Solo estilos nuevos o específicos para los archivos solicitados:
   - login.php
   - index.php
   - quiz.php
   - leccion_detalle.php
   - ranking.php
   (logout.php no necesita estilos, es solo redirección)
   No se repiten estilos ya existentes en tu CSS principal
========================================================== */

/* ===== LOGIN.PHP ===== */
.auth-page {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    background: var(--bg-dark);
}

.auth-form-wrapper {
    background: var(--bg-card);
    padding: 40px;
    border-radius: 12px;
    box-shadow: var(--glow-cyan);
    text-align: center;
    max-width: 450px;
    width: 90%;
}

.auth-title {
    font-size: 28px;
    color: var(--neon-cyan);
    margin-bottom: 30px;
    text-shadow: var(--glow-cyan);
}

.mensaje {
    padding: 15px;
    border-radius: 8px;
    margin-bottom: 25px;
    font-size: 18px;
}

.mensaje.exito {
    background: rgba(0,255,0,0.2);
    border: 2px solid var(--neon-green);
    color: var(--neon-green);
}

.mensaje.error {
    background: rgba(255,0,0,0.2);
    border: 2px solid var(--neon-red);
    color: var(--neon-red);
}

.auth-form {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.input-group {
    text-align: left;
}

.input-group label {
    display: block;
    font-size: 18px;
    color: var(--neon-yellow);
    margin-bottom: 8px;
}

.retro-input {
    background: #000;
    color: var(--text-light);
    border: 3px solid var(--neon-green);
    padding: 14px;
    font-size: 18px;
    width: 100%;
    border-radius: 0;
    box-shadow: inset 0 0 10px rgba(0,255,0,0.3);
}

.retro-input:focus {
    outline: none;
    border-color: var(--neon-cyan);
    box-shadow: 0 0 15px var(--neon-cyan), inset 0 0 10px rgba(0,255,255,0.5);
}

.btn-full-width {
    width: 100%;
    padding: 12px 14px; /* compacto */
}

.auth-links {
    margin-top: 25px;
    font-size: 16px;
}

.link-glow {
    color: var(--neon-blue);
    text-decoration: none;
}

.link-glow:hover {
    color: var(--neon-cyan);
    text-shadow: var(--glow-cyan);
}

/* ===== INDEX.PHP ===== */
.intro {
    text-align: center;
    margin: 60px 0;
}

.intro h2 {
    font-size: 32px;
    color: var(--neon-green);
    margin-bottom: 25px;
}

.intro p {
    font-size: 22px;
    margin: 15px 0;
    max-width: 800px;
    margin-left: auto;
    margin-right: auto;
}

.features {
    margin: 60px 0;
    text-align: center;
}

.features h3 {
    font-size: 28px;
    color: var(--neon-pink);
    margin-bottom: 30px;
}

.features ul {
    list-style: none;
    max-width: 700px;
    margin: 0 auto;
    text-align: left;
    font-size: 20px;
    line-height: 2.2;
}

.features li::before {
    content: "► ";
    color: var(--neon-cyan);
}

.footer {
    text-align: center;
    padding: 25px;
    background: #000;
    border-top: 4px solid var(--neon-yellow);
    font-size: 16px;
    color: var(--text-dim);
    margin-top: auto;
}

/* ===== QUIZ.PHP ===== */
.quiz-container {
    max-width: 900px;
    margin: 40px auto;
    padding: 35px;
    background: var(--bg-card);
    border-radius: 12px;
    box-shadow: var(--glow-pink);
}

.quiz-container h1 {
    font-size: 32px;
    color: var(--neon-magenta);
    text-align: center;
    margin-bottom: 40px;
}

.quiz-question {
    margin-bottom: 35px;
    padding: 25px;
    background: var(--bg-panel);
    border-radius: 10px;
    box-shadow: 0 0 15px rgba(255,0,255,0.2);
}

.quiz-question p {
    font-size: 22px;
    margin-bottom: 20px;
    color: var(--neon-yellow);
}

.quiz-option {
    display: block;
    margin: 12px 0;
    padding: 12px; /* más compacto */
    background: #222;
    border: 3px solid var(--neon-pink);
    border-radius: 8px;
    font-size: 16px;
    cursor: pointer;
    transition: all 0.2s;
}

.quiz-option:hover {
    background: var(--neon-pink);
    color: #000;
    transform: translate(1px, 1px);
}

.quiz-option input[type="radio"] {
    margin-right: 12px;
    accent-color: var(--neon-pink);
}

.btn-submit {
    width: 100%;
    padding: 12px 14px; /* compacto */
    font-size: 16px;
    margin-top: 20px;
}

.btn-back {
    display: block;
    text-align: center;
    margin-top: 30px;
    padding: 12px 20px;
}

/* ===== LECIÓN_DETALLE: Mejoras distribución y estética del content ===== */
.lesson-quiz-container {
    max-width: 1200px;
    margin: 30px auto;
    display: grid;
    grid-template-columns: 1fr 340px; /* columna principal + sidebar */
    gap: 28px;
    align-items: start;
}

/* Sidebar lateral sticky con info rápida */
.side-panel {
    position: sticky;
    top: 110px;
    align-self: start;
    background: linear-gradient(180deg,#0f1112,#0b0b0b);
    border: 2px solid rgba(255,255,255,0.04);
    padding: 18px;
    border-radius: 12px;
    box-shadow: 0 8px 18px rgba(0,0,0,0.6);
    min-width: 260px;
}

.side-panel .stat {
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:12px;
    padding:10px 12px;
    background: rgba(255,255,255,0.02);
    border-radius:8px;
    margin-bottom:12px;
    font-size: 15px;
}

.side-panel .progress {
    margin-top:8px;
}

.side-panel .actions { display:flex; flex-direction:column; gap:10px; margin-top:10px; }

/* Ajustes de paneles principales */
.content-view, .quiz-view {
    padding: 22px;
    background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.06));
    border-radius: 12px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.75);
    min-height: auto; /* evitar alturas exageradas */
}

/* Columnas legibles en contenido largo (desktop) */
.content-body {
    column-width: 440px;
    column-gap: 44px;
    max-width: none;
}

.content-body > * {
    break-inside: avoid;
    -webkit-column-break-inside: avoid;
    page-break-inside: avoid;
}

/* Forzar que ciertos elementos ocupen ambas columnas */
.content-body .svg-diagram,
.content-body table,
.content-body blockquote,
.content-body pre,
.content-body .visual {
    column-span: all;
    width: 100%;
    display: block;
}

/* Footer de contenido con botones compactos y ordenados */
.content-footer {
    display:flex;
    gap:12px;
    justify-content: space-between;
    align-items:center;
    margin-top:18px;
    flex-wrap:wrap;
}

.content-footer .btn {
    padding: 10px 14px;
    font-size: 14px;
    border-radius: 10px;
}

/* Botones específicos más discretos y coherentes */
.btn-play { padding: 10px 12px; font-size: 14px; border-radius: 8px; }
.btn-completar { padding: 10px 12px; font-size: 14px; border-radius: 8px; background: linear-gradient(90deg,#ffd54a,#ffdd57); border: 3px solid #ffb300; color:#000; }

/* Quiz: radio y opciones alineadas */
#quiz-form .quiz-option { display:flex; align-items:center; gap:12px; padding:10px 12px; }
#quiz-form .quiz-option label { margin:0; flex:1; }
#quiz-form .quiz-option input[type="radio"] { width:18px; height:18px; accent-color: var(--neon-pink); }

/* ===== QUIZ PANEL SEPARADO ===== */
.quiz-panel {
    max-width: 1100px;
    margin: 20px auto;
    background: linear-gradient(180deg,#071118,#0b0b0b);
    border: 3px solid var(--neon-cyan);
    border-radius: 12px;
    box-shadow: 0 12px 30px rgba(0,0,0,0.7);
    overflow: hidden;
    transition: transform .22s ease, opacity .22s ease;
    padding: 0;
}

.quiz-panel.hidden {
    opacity: 0;
    height: 0;
    pointer-events: none;
    transform: translateY(8px);
}

.quiz-panel-header {
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:12px;
    padding: 14px 18px;
    background: linear-gradient(90deg, rgba(0,255,255,0.03), rgba(0,0,0,0.02));
    border-bottom: 2px solid rgba(255,255,255,0.03);
}

.quiz-panel-header h3 {
    margin: 0;
    font-size: 16px;
    color: var(--neon-cyan);
    font-family: var(--font-pixel);
}

.quiz-panel-container {
    padding: 18px;
}

/* Botón para abrir/alternar quiz dentro del footer */
.toggle-quiz-btn {
    background: linear-gradient(90deg, #00bcd4, #00e5a8);
    border: 3px solid #009e9e;
    color: #000;
    box-shadow: 6px 6px 0 #000;
    padding: 8px 12px;
    font-size: 14px;
    border-radius: 999px;
}

.toggle-quiz-btn:hover { transform: translateY(-3px); }

/* Ajustes responsive: panel fijo en móviles (bottom sheet) */
@media (max-width: 900px) {
    .quiz-panel {
        position: fixed;
        left: 12px;
        right: 12px;
        bottom: 12px;
        z-index: 9999;
        width: auto;
        max-width: calc(100% - 24px);
        border-radius: 12px;
    }
    .quiz-panel.hidden { transform: translateY(40px) scale(.99); opacity:0; }
}

.tab-btn.quiz-tab-btn {
    min-width: 120px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

/* Marcar tab activo cuando panel abierto */
.tab-btn.active { box-shadow: 0 4px 0 rgba(0,0,0,0.9); transform: translateY(-2px); }

/* Pequeñas mejoras visuales a quiz options en panel */
.quiz-question-card { margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px dashed rgba(255,255,255,0.02); }
.quiz-footer { margin-top:10px; display:flex; justify-content:center; gap:10px; }

/* Ajustes de color y fondo para mejor contraste en quiz panel */
.quiz-panel {
    background: linear-gradient(180deg, rgba(7, 17, 24, 0.9), rgba(11, 11, 11, 0.9));
    border: 3px solid rgba(0, 255, 255, 0.2);
}

.quiz-panel-header {
    background: rgba(0, 0, 0, 0.6);
    border-bottom: 2px solid rgba(255, 255, 255, 0.1);
}

.quiz-option {
    background: rgba(34, 34, 34, 0.8);
    border: 3px solid var(--neon-pink);
}

.quiz-option:hover {
    background: var(--neon-pink);
    color: #000;
    transform: translate(1px, 1px);
}

.btn-submit {
    background: linear-gradient(90deg, #00bcd4, #00e5a8);
    border: 3px solid #009e9e;
    color: #000;
    padding: 10px 14px;
    font-size: 16px;
    border-radius: 10px;
    transition: background 0.3s, transform 0.3s;
}

.btn-submit:hover {
    transform: translateY(-2px);
    background: linear-gradient(90deg, #00e5a8, #00bcd4);
}

/* Ajustes finales para asegurar legibilidad y estética en todos los dispositivos */
@media (max-width: 900px) {
    .quiz-panel {
        padding: 12px;
        border-radius: 10px;
    }

    .quiz-panel-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 8px;
    }

    .quiz-panel-header h3 {
        font-size: 14px;
    }

    .quiz-panel-container {
        padding: 14px;
    }

    .btn-submit {
        width: 100%;
        padding: 12px 0;
        font-size: 18px;
    }
}

/* Pequeño polish: headers alineados en desktop */
@media (min-width: 1100px) {
    .content-header { display:flex; align-items:flex-start; justify-content:space-between; gap:16px; text-align:left; }
    .content-header h2 { margin:0; }
}

/* ===== BOTONES: más compactos y agradables ===== */
.navigation-tabs { gap: 10px; align-items:center; }
.tab-btn {
    padding: 6px 10px;
    font-size: 13px;
    background: linear-gradient(180deg,#0e1314,#141414);
    border: 2px solid rgba(0,255,255,0.14);
    color: var(--neon-cyan);
    border-radius: 999px;
    box-shadow: 0 6px 0 rgba(0,0,0,0.85);
    min-width: 110px;
    display:inline-flex;
    gap:8px;
    align-items:center;
    justify-content:center;
}
.tab-btn:hover { transform: translateY(-2px); box-shadow: 0 3px 0 rgba(0,0,0,0.85); }
.tab-btn.active {
    background: linear-gradient(90deg,var(--neon-cyan),var(--neon-green));
    color: #000;
    border-color: var(--neon-cyan);
    box-shadow: 0 4px 0 rgba(0,0,0,0.85);
}

/* "Ir al Quiz" y botones de acción */
.toggle-quiz-btn {
    background: linear-gradient(90deg,#00c2d6,#00e1a8);
    border: 3px solid #00a3a3;
    color: #000;
    padding: 8px 12px;
    font-size: 14px;
    border-radius: 999px;
    box-shadow: 6px 6px 0 rgba(0,0,0,0.9);
}
.toggle-quiz-btn:hover { transform: translateY(-3px); }

/* Asegurar que el toggle sea claramente clicable */
.toggle-quiz-btn[disabled], .tab-btn.disabled { opacity: .5; cursor:not-allowed; pointer-events:none; }

/* Spinner / overlay para el panel del quiz */
.quiz-panel-container { position: relative; min-height: 80px; }
.loading-overlay {
    position: absolute;
    inset: 0;
    display:flex;
    align-items:center;
    justify-content:center;
    flex-direction:column;
    gap:10px;
    background: rgba(0,0,0,0.45);
    backdrop-filter: blur(3px);
    z-index: 40;
}
.loading-overlay.hidden { display: none; }
.loading-overlay .spinner {
    width: 42px;
    height: 42px;
    border-radius: 50%;
    border: 4px solid rgba(255,255,255,0.06);
    border-top-color: var(--neon-cyan);
    animation: spin 0.9s linear infinite;
    box-shadow: 0 0 12px rgba(0,255,255,0.08);
}
@keyframes spin { to { transform: rotate(360deg); } }
.loading-overlay .loading-text { color: var(--text-dim); font-size: 13px; }

/* Overlay / spinner ya añadidos: asegurar visibilidad y stacking */
.quiz-panel { display: block; }
.quiz-panel.hidden { opacity: 0; height: 0; pointer-events: none; transform: translateY(8px); }
.loading-overlay { transition: opacity .18s ease; }
.loading-overlay.hidden { opacity: 0; pointer-events: none; }
.loading-overlay:not(.hidden) { opacity: 1; pointer-events: auto; }

/* =======================================================
   ESTILOS ESPECÍFICOS PARA LECCIÓN: DERIVADAS BÁSICAS
   (SVG interactivo, simulador, slider, autoevaluación)
========================================================== */

/* Contenedor principal del SVG explorador */
#explorador-derivada {
    background: #000;
    border: 4px solid var(--neon-blue);
    border-radius: 12px;
    box-shadow: 0 0 25px rgba(0, 204, 255, 0.4);
    margin: 30px auto;
    cursor: crosshair; /* Indica que es interactivo */
}

/* Tooltip dentro del SVG */
#tooltip-bg {
    fill: #111111;
    stroke: var(--neon-cyan);
    stroke-width: 2;
}

#tooltip-text {
    fill: var(--neon-yellow);
    font-family: var(--font-retro);
    font-size: 16px;
}

/* Líneas y elementos del SVG */
#curva { stroke: var(--neon-cyan); stroke-width: 5; }
#tangente { stroke: var(--neon-pink); stroke-width: 4; stroke-dasharray: 8,4; }
#punto { fill: var(--neon-pink); stroke: #000; stroke-width: 2; }

/* Caption bajo el SVG */
.caption {
    text-align: center;
    margin-top: 15px;
    font-style: italic;
    color: var(--text-dim);
    font-size: 18px;
}

/* =======================================================
   SIMULADOR INTELIGENTE DE DERIVADAS
========================================================== */
.derivative-simulator {
    margin: 40px 0;
    padding: 25px;
    background: var(--bg-panel);
    border-radius: 12px;
    border: 3px solid var(--neon-orange);
    box-shadow: var(--glow-orange);
}

.calc-box {
    display: flex;
    flex-direction: column;
    gap: 15px;
    margin: 20px 0;
    padding: 20px;
    background: #000;
    border-radius: 8px;
    border: 2px solid var(--neon-green);
}

#polyInput {
    background: #000;
    color: var(--neon-green);
    border: 3px solid var(--neon-green);
    padding: 14px;
    font-size: 20px;
    font-family: var(--font-retro);
    border-radius: 0;
    box-shadow: inset 0 0 10px rgba(0,255,0,0.3);
}

#polyInput:focus {
    border-color: var(--neon-cyan);
    box-shadow: 0 0 15px var(--neon-cyan);
    outline: none;
}

.calc-box button {
    align-self: flex-start;
    padding: 12px 24px;
    background: #006633;
    border: 3px solid var(--neon-green);
    color: #fff;
    font-size: 16px;
    cursor: pointer;
}

.calc-box button:hover {
    background: var(--neon-green);
    color: #000;
}

.math-output {
    margin-top: 20px;
    padding: 20px;
    background: #1a1a1a;
    border-radius: 8px;
    border-left: 5px solid var(--neon-yellow);
    font-size: 24px;
    min-height: 60px;
}

/* =======================================================
   DERIVACIÓN PASO A PASO
========================================================== */
.derivation-steps {
    margin: 30px 0;
}

.derivation-steps button {
    margin-bottom: 15px;
    background: #663300;
    border-color: var(--neon-orange);
}

.derivation-steps button:hover {
    background: var(--neon-orange);
    color: #000;
}

#stepsList {
    list-style: none;
    padding-left: 0;
}

#stepsList li {
    padding: 12px;
    background: var(--bg-panel);
    margin-bottom: 8px;
    border-radius: 6px;
    border-left: 4px solid var(--neon-orange);
    font-size: 20px;
}

/* =======================================================
   SLIDER DE PENDIENTE
========================================================== */
.slope-explorer {
    margin: 30px 0;
    padding: 20px;
    background: var(--bg-panel);
    border-radius: 10px;
    border: 2px solid var(--neon-blue);
}

#xSlider {
    width: 100%;
    height: 12px;
    background: #333;
    border-radius: 6px;
    accent-color: var(--neon-cyan);
    cursor: pointer;
}

#slopeInfo {
    margin-top: 20px;
    padding: 15px;
    background: #000;
    border-radius: 8px;
    text-align: center;
    font-size: 24px;
    color: var(--neon-yellow);
}

/* =======================================================
   AUTOEVALUACIÓN
========================================================== */
.self-check {
    margin: 30px 0;
    padding: 25px;
    background: var(--bg-panel);
    border-radius: 12px;
    border: 3px solid var(--neon-pink);
}

#studentAnswer {
    width: 100%;
    margin-bottom: 15px;
    padding: 14px;
    background: #000;
    border: 3px solid var(--neon-pink);
    color: var(--neon-pink);
    font-size: 20px;
}

#studentAnswer:focus {
    border-color: var(--neon-magenta);
    box-shadow: 0 0 15px var(--neon-magenta);
}

.self-check button {
    background: #660066;
    border-color: var(--neon-pink);
}

.self-check button:hover {
    background: var(--neon-pink);
    color: #000;
}

#feedback {
    margin-top: 20px;
    padding: 15px;
    border-radius: 8px;
    font-size: 22px;
    text-align: center;
    min-height: 60px;
}

#feedback .ok {
    color: var(--neon-green);
    background: rgba(0,255,0,0.2);
    border: 2px solid var(--neon-green);
}

#feedback .error {
    color: var(--neon-red);
    background: rgba(255,0,0,0.2);
    border: 2px solid var(--neon-red);
}
/* =======================================================
   ESTILOS ESPECÍFICOS PARA LECCIÓN: PUNTOS CRÍTICOS – MÁXIMOS Y MÍNIMOS
   (SVG interactivo, simulador, detector automático, autoevaluación)
   Solo elementos nuevos o no cubiertos en tu CSS actual
========================================================== */

/* Simulador de máximos y mínimos (slider) */
.critical-sim {
    margin: 40px 0;
    padding: 30px;
    background: var(--bg-panel);
    border-radius: 12px;
    border: 3px solid var(--neon-blue);
    box-shadow: var(--glow-blue);
}

#critSlider {
    width: 100%;
    height: 14px;
    background: #333;
    border-radius: 8px;
    outline: none;
    accent-color: var(--neon-cyan);
    cursor: pointer;
}

#critInfo {
    margin-top: 20px;
    padding: 20px;
    background: #000;
    border-radius: 8px;
    text-align: center;
    font-size: 24px;
    color: var(--neon-yellow);
    border: 2px solid var(--neon-cyan);
}

/* SVG del simulador */
#critSVG {
    background: #000;
    border: 4px solid var(--neon-blue);
    border-radius: 12px;
    box-shadow: 0 0 25px rgba(0, 204, 255, 0.4);
    margin-top: 20px;
}

#critCurve {
    stroke: var(--neon-cyan);
    stroke-width: 5;
}

#critPoint {
    fill: var(--neon-pink);
    stroke: #000;
    stroke-width: 2;
}

/* Autoevaluación rápida */
.self-check {
    margin: 40px 0;
    padding: 30px;
    background: var(--bg-panel);
    border-radius: 12px;
    border: 3px solid var(--neon-pink);
    box-shadow: var(--glow-pink);
}

#critAnswer {
    width: 100%;
    margin-bottom: 15px;
    padding: 14px;
    background: #000;
    border: 3px solid var(--neon-pink);
    color: var(--neon-pink);
    font-size: 20px;
    font-family: var(--font-retro);
}

#critAnswer:focus {
    border-color: var(--neon-magenta);
    box-shadow: 0 0 15px var(--neon-magenta);
    outline: none;
}

.self-check button {
    background: #660066;
    border-color: var(--neon-pink);
    padding: 12px 24px;
    font-size: 16px;
}

.self-check button:hover {
    background: var(--neon-pink);
    color: #000;
}

#critFeedback {
    margin-top: 20px;
    padding: 18px;
    border-radius: 8px;
    font-size: 22px;
    text-align: center;
    min-height: 60px;
}

#critFeedback .ok {
    color: var(--neon-green);
    background: rgba(0,255,0,0.2);
    border: 2px solid var(--neon-green);
}

#critFeedback .error {
    color: var(--neon-red);
    background: rgba(255,0,0,0.2);
    border: 2px solid var(--neon-red);
}

/* =======================================================
   DETECTOR AUTOMÁTICO DE MÁXIMOS Y MÍNIMOS
========================================================== */
.auto-detector {
    margin: 50px 0;
    padding: 35px;
    background: var(--bg-panel);
    border-radius: 14px;
    border: 4px solid var(--neon-orange);
    box-shadow: var(--glow-orange);
}

.input-panel {
    display: flex;
    flex-direction: column;
    gap: 15px;
    margin-bottom: 25px;
    padding: 20px;
    background: #000;
    border-radius: 10px;
    border: 2px solid var(--neon-green);
}

.input-panel label {
    font-size: 22px;
    color: var(--neon-yellow);
    text-align: center;
}

#funcInput {
    background: #000;
    color: var(--neon-green);
    border: 3px solid var(--neon-green);
    padding: 16px;
    font-size: 22px;
    font-family: var(--font-retro);
    text-align: center;
    border-radius: 0;
    box-shadow: inset 0 0 12px rgba(0,255,0,0.3);
}

#funcInput:focus {
    border-color: var(--neon-cyan);
    box-shadow: 0 0 20px var(--neon-cyan), inset 0 0 12px rgba(0,255,255,0.5);
    outline: none;
}

.input-panel button {
    align-self: center;
    padding: 14px 30px;
    background: #663300;
    border: 3px solid var(--neon-orange);
    color: #fff;
    font-size: 18px;
    cursor: pointer;
}

.input-panel button:hover {
    background: var(--neon-orange);
    color: #000;
}

/* Cajas de resultados matemáticos */
.math-box {
    margin: 20px 0;
    padding: 25px;
    background: #1a1a1a;
    border-radius: 10px;
    border-left: 6px solid var(--neon-yellow);
    font-size: 26px;
    text-align: center;
    min-height: 80px;
}

/* SVG del detector automático */
#autoSVG {
    background: #000;
    border: 4px solid var(--neon-orange);
    border-radius: 14px;
    box-shadow: 0 0 30px rgba(255, 153, 0, 0.4);
}

#autoCurve {
    stroke: var(--neon-cyan);
    stroke-width: 5;
}

#autoPoints circle {
    fill: var(--neon-pink);
    stroke: #000;
    stroke-width: 2;
}

#autoPoints text {
    fill: var(--neon-yellow);
    font-size: 16px;
    font-family: var(--font-retro);
}

/* Caption bajo SVG */
.caption {
    text-align: center;
    margin-top: 15px;
    font-style: italic;
    color: var(--text-dim);
    font-size: 18px;
}
/* =======================================================
   ESTILOS ESPECÍFICOS PARA LECCIÓN: NIVELES DE ORGANIZACIÓN BIOLÓGICA
   (Analogías celulares, simulador, mini-juego, tablas, etc.)
   Solo elementos nuevos o no cubiertos en tu CSS actual
========================================================== */

/* Título principal neón grande */
.neon-title {
    font-family: var(--font-pixel);
    font-size: 38px;
    color: var(--neon-cyan);
    text-shadow: 0 0 20px var(--neon-cyan), 4px 4px 0 #000;
    margin-bottom: 30px;
    letter-spacing: 4px;
}

/* Introducción destacada */
.intro {
    font-size: 22px;
    text-align: center;
    max-width: 900px;
    margin: 30px auto;
    color: var(--text-light);
    line-height: 2;
}

/* Títulos de sección */
.section-title {
    font-size: 28px;
    color: var(--neon-orange);
    text-align: center;
    margin: 50px 0 25px;
    text-shadow: var(--glow-orange);
    border-bottom: 3px dotted var(--neon-yellow);
    padding-bottom: 12px;
}

/* Lista numerada de niveles */
.niveles-list {
    counter-reset: nivel-counter;
    list-style: none;
    padding-left: 0;
    max-width: 800px;
    margin: 40px auto;
}

.niveles-list li {
    counter-increment: nivel-counter;
    font-size: 22px;
    margin: 20px 0;
    padding: 15px 20px 15px 70px;
    background: var(--bg-panel);
    border-radius: 10px;
    border-left: 6px solid var(--neon-green);
    position: relative;
    box-shadow: 0 0 12px rgba(0,255,0,0.2);
}

.niveles-list li::before {
    content: counter(nivel-counter);
    position: absolute;
    left: 15px;
    top: 50%;
    transform: translateY(-50%);
    width: 40px;
    height: 40px;
    background: var(--neon-green);
    color: #000;
    font-family: var(--font-pixel);
    font-size: 20px;
    line-height: 40px;
    text-align: center;
    border-radius: 50%;
    box-shadow: 0 0 15px var(--neon-green);
}

/* Tabla de analogías */
.tabla-analogias {
    width: 100%;
    max-width: 1000px;
    margin: 40px auto;
    border-collapse: collapse;
    font-size: 20px;
}

.tabla-analogias th {
    background: #1a1a1a;
    color: var(--neon-cyan);
    padding: 18px;
    font-size: 22px;
    text-shadow: var(--glow-cyan);
}

.tabla-analogias td {
    padding: 18px;
    text-align: center;
    border: 1px solid #444;
}

.tabla-analogias tbody tr:nth-child(odd) {
    background: rgba(255,255,255,0.03);
}

.tabla-analogias tbody tr:hover {
    background: rgba(0,255,255,0.1);
    box-shadow: 0 0 15px rgba(0,255,255,0.3);
}

/* Ejemplos de analogías */
.ejemplo {
    margin: 35px 0;
    padding: 25px;
    background: var(--bg-panel);
    border-radius: 12px;
    border-left: 6px solid var(--neon-pink);
    box-shadow: var(--glow-pink);
}

.ejemplo h4 {
    font-size: 24px;
    color: var(--neon-pink);
    margin-bottom: 15px;
}

/* Simulador interactivo célula ↔ cuerpo */
.simulador-celula {
    margin: 50px 0;
    padding: 30px;
    background: var(--bg-panel);
    border-radius: 14px;
    border: 4px solid var(--neon-blue);
    box-shadow: var(--glow-blue);
    text-align: center;
}

.simulador-celula label {
    font-size: 22px;
    color: var(--neon-yellow);
    display: block;
    margin-bottom: 15px;
}

#orgSelect {
    background: #000;
    color: var(--neon-green);
    border: 3px solid var(--neon-green);
    padding: 14px;
    font-size: 20px;
    width: 100%;
    max-width: 500px;
    margin: 0 auto 25px;
    border-radius: 0;
    box-shadow: inset 0 0 12px rgba(0,255,0,0.3);
}

#orgSelect:focus {
    border-color: var(--neon-cyan);
    box-shadow: 0 0 20px var(--neon-cyan);
}

#orgInfo {
    padding: 25px;
    background: #000;
    border-radius: 10px;
    font-size: 22px;
    min-height: 120px;
    border: 2px dashed var(--neon-blue);
}

/* Explorador de ecosistemas */
.ecosistema-explorer {
    margin: 50px 0;
    padding: 30px;
    background: var(--bg-panel);
    border-radius: 14px;
    border: 4px solid var(--neon-green);
    box-shadow: var(--glow-green);
    text-align: center;
}

.eco-controls {
    margin-bottom: 25px;
}

.eco-controls button {
    padding: 12px 28px;
    margin: 0 10px;
    background: #003300;
    border: 3px solid var(--neon-green);
    color: #fff;
    font-size: 18px;
}

.eco-controls button:hover {
    background: var(--neon-green);
    color: #000;
}

#ecoInfo {
    padding: 25px;
    background: #000;
    border-radius: 10px;
    font-size: 22px;
    min-height: 120px;
}

/* Autoevaluación simple */
.quiz-box {
    margin: 50px 0;
    padding: 30px;
    background: var(--bg-panel);
    border-radius: 14px;
    border: 4px solid var(--neon-pink);
    box-shadow: var(--glow-pink);
    text-align: center;
}

.quiz-box p {
    font-size: 24px;
    margin-bottom: 25px;
    color: var(--neon-yellow);
}

.quiz-box button {
    margin: 10px;
    padding: 12px 24px;
    background: #333;
    border: 3px solid var(--neon-pink);
    color: var(--neon-pink);
    font-size: 18px;
}

.quiz-box button:hover {
    background: var(--neon-pink);
    color: #000;
}

#quizFeedback {
    margin-top: 25px;
    padding: 20px;
    border-radius: 10px;
    font-size: 24px;
    min-height: 80px;
}

/* Mini-juego: Arma el Ecosistema */
.eco-game {
    margin: 50px 0;
    padding: 35px;
    background: var(--bg-panel);
    border-radius: 16px;
    border: 5px double var(--neon-cyan);
    box-shadow: var(--glow-cyan);
    text-align: center;
}

.eco-game h4 {
    font-size: 26px;
    color: var(--neon-cyan);
    margin-bottom: 25px;
}

#ecoBoard {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 20px;
    margin: 30px 0;
}

.eco-card {
    padding: 20px;
    background: #222;
    border-radius: 12px;
    border: 3px solid #555;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 20px;
}

.eco-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0,255,255,0.2);
}

.eco-card.selected {
    border-color: var(--neon-green);
    background: rgba(0,255,0,0.2);
    box-shadow: 0 0 20px var(--neon-green);
}

.eco-card.invalid {
    border-color: var(--neon-red);
    background: rgba(255,0,0,0.2);
    animation: shake 0.5s ease;
}

@keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    75% { transform: translateX(5px); }
}

.eco-card span {
    display: block;
    margin-top: 10px;
    font-size: 18px;
}

#ecoStatus {
    margin: 30px 0;
    padding: 20px;
    border-radius: 10px;
    font-size: 24px;
    min-height: 80px;
}

.eco-status.ok {
    background: rgba(0,255,0,0.2);
    border: 3px solid var(--neon-green);
    color: var(--neon-green);
}

.eco-status.bad {
    background: rgba(255,0,0,0.2);
    border: 3px solid var(--neon-red);
    color: var(--neon-red);
}

.eco-btn {
    padding: 16px 32px;
    background: #006666;
    border: 4px solid var(--neon-cyan);
    color: #fff;
    font-size: 20px;
}

.eco-btn:hover {
    background: var(--neon-cyan);
    color: #000;
}
/* =======================================================
   ESTILOS ESPECÍFICOS PARA LECCIÓN: LEYES DE LA TERMODINÁMICA EN ECOSISTEMAS
   (Simulador de flujo energético, animación de entropía, autoevaluación)
   Solo elementos nuevos o no cubiertos en tu CSS actual
========================================================== */

/* Título principal */
.neon-title {
    font-family: var(--font-pixel);
    font-size: 40px;
    color: var(--neon-cyan);
    text-shadow: 0 0 25px var(--neon-cyan), 4px 4px 0 #000;
    letter-spacing: 4px;
    margin-bottom: 40px;
}

/* Introducción */
.intro {
    font-size: 22px;
    text-align: center;
    max-width: 900px;
    margin: 30px auto 40px;
    line-height: 2;
}

/* Separador neón */
.divider-neon {
    border: none;
    height: 4px;
    background: linear-gradient(90deg, transparent, var(--neon-yellow), transparent);
    margin: 60px auto;
    width: 60%;
    box-shadow: 0 0 15px var(--neon-yellow);
}

/* Títulos de sección */
.section-title {
    font-size: 30px;
    color: var(--neon-orange);
    text-align: center;
    margin: 60px 0 30px;
    text-shadow: var(--glow-orange);
}

/* Fórmulas destacadas */
.formula-neon {
    font-size: 28px;
    padding: 25px;
    background: #000;
    border-radius: 12px;
    border: 3px solid var(--neon-yellow);
    box-shadow: 0 0 20px var(--neon-yellow);
    max-width: 600px;
    margin: 40px auto;
}

/* Explicación bajo fórmula */
.explain {
    font-size: 20px;
    text-align: center;
    margin: 20px auto;
    max-width: 800px;
    font-style: italic;
    color: var(--text-dim);
}

/* Cajas de ejemplo */
.ejemplo {
    margin: 40px auto;
    padding: 30px;
    background: var(--bg-panel);
    border-radius: 12px;
    border-left: 6px solid var(--neon-green);
    box-shadow: var(--glow-green);
    max-width: 800px;
}

.ejemplo h4 {
    font-size: 24px;
    color: var(--neon-green);
    margin-bottom: 15px;
}

/* =======================================================
   SIMULADOR DE FLUJO DE ENERGÍA
========================================================== */
.energy-sim {
    margin: 60px 0;
    padding: 40px;
    background: var(--bg-panel);
    border-radius: 16px;
    border: 5px double var(--neon-cyan);
    box-shadow: var(--glow-cyan);
    max-width: 900px;
    margin-left: auto;
    margin-right: auto;
}

.energy-control {
    text-align: center;
    margin-bottom: 40px;
}

.energy-control label {
    display: block;
    font-size: 24px;
    color: var(--neon-yellow);
    margin-bottom: 15px;
}

#energyInput {
    width: 100%;
    height: 16px;
    background: #333;
    border-radius: 8px;
    accent-color: var(--neon-cyan);
    cursor: pointer;
}

.energy-readout {
    margin-top: 15px;
    font-size: 28px;
    color: var(--neon-cyan);
}

.energy-readout #energyValue {
    font-family: var(--font-pixel);
    color: var(--neon-yellow);
}

/* Barras de energía */
.energy-bars {
    display: flex;
    flex-direction: column;
    gap: 25px;
}

.bar {
    display: flex;
    flex-direction: column;
}

.bar-label {
    font-size: 22px;
    color: var(--neon-yellow);
    margin-bottom: 10px;
    text-align: left;
}

.bar-track {
    height: 40px;
    background: #111;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: inset 0 0 10px #000;
    position: relative;
}

.bar-fill {
    height: 100%;
    width: 100%;
    border-radius: 20px;
    transition: width 0.6s ease;
    box-shadow: 0 0 15px;
}

.producers { background: linear-gradient(90deg, #006400, #00ff00); box-shadow: 0 0 20px #00ff00; }
.herbivores { background: linear-gradient(90deg, #8b4513, #ffaa00); box-shadow: 0 0 20px #ffaa00; }
.carnivores { background: linear-gradient(90deg, #8b0000, #ff4444); box-shadow: 0 0 20px #ff4444; }
.loss-fill { background: linear-gradient(90deg, #444, #ff1744); box-shadow: 0 0 20px #ff1744; }

.bar.loss .bar-label {
    color: #ff5252;
}

/* =======================================================
   ANIMACIÓN DE ENTROPÍA (PARTÍCULAS DE CALOR)
========================================================== */
.entropy-container {
    margin: 60px auto;
    padding: 40px;
    background: var(--bg-panel);
    border-radius: 16px;
    border: 5px double var(--neon-red);
    box-shadow: var(--glow-red);
    max-width: 900px;
    text-align: center;
    position: relative;
    overflow: hidden;
}

.entropy-label {
    font-size: 28px;
    color: var(--neon-red);
    margin-bottom: 20px;
    text-shadow: var(--glow-red);
}

#entropyBox {
    height: 300px;
    background: radial-gradient(circle at center, #220000, #000);
    border-radius: 12px;
    position: relative;
    overflow: hidden;
}

.entropy-particle {
    position: absolute;
    bottom: -10px;
    background: radial-gradient(circle, #ff4444, #ff8800);
    border-radius: 50%;
    opacity: 0.8;
    box-shadow: 0 0 15px #ff4444;
    animation: rise linear forwards;
}

@keyframes rise {
    0% {
        transform: translateY(0) translateX(0);
        opacity: 0.8;
    }
    100% {
        transform: translateY(-400px) translateX(var(--drift));
        opacity: 0;
    }
}

/* =======================================================
   AUTOEVALUACIÓN RÁPIDA
========================================================== */
.quiz-box {
    margin: 60px auto;
    padding: 35px;
    background: var(--bg-panel);
    border-radius: 16px;
    border: 5px double var(--neon-pink);
    box-shadow: var(--glow-pink);
    max-width: 800px;
    text-align: center;
}

.quiz-box p {
    font-size: 26px;
    margin-bottom: 30px;
    color: var(--neon-yellow);
}

.quiz-box button {
    margin: 10px 15px;
    padding: 14px 28px;
    background: #333;
    border: 3px solid var(--neon-pink);
    color: var(--neon-pink);
    font-size: 18px;
}

.quiz-box button:hover {
    background: var(--neon-pink);
    color: #000;
}

#quizFeedback {
    margin-top: 30px;
    padding: 20px;
    border-radius: 10px;
    font-size: 24px;
    min-height: 80px;
}

/* Quote final */
.neon-quote {
    font-size: 28px;
    text-align: center;
    margin: 60px auto;
    padding: 30px;
    max-width: 900px;
    background: #000;
    border: 4px solid var(--neon-yellow);
    border-radius: 12px;
    box-shadow: 0 0 30px var(--neon-yellow);
    color: var(--neon-yellow);
    font-style: italic;
}
/* =======================================================
   ESTILOS ESPECÍFICOS PARA LECCIÓN: RADIACIÓN ELECTROMAGNÉTICA
   (Simulador de espectro, selector, medidor fotosíntesis, UV sim, espectro interactivo)
   Solo elementos nuevos o no cubiertos en tu CSS actual
========================================================== */

/* Simulador de radiación y fotosíntesis */
.radiation-sim {
    margin: 60px auto;
    padding: 40px;
    background: var(--bg-panel);
    border-radius: 16px;
    border: 5px double var(--neon-cyan);
    box-shadow: var(--glow-cyan);
    max-width: 900px;
    text-align: center;
}

.spectrum-selector {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-bottom: 40px;
    flex-wrap: wrap;
}

.spec-btn {
    padding: 14px 28px;
    font-size: 20px;
    background: #222;
    border: 4px solid;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
    min-width: 180px;
}

.spec-btn.uv {
    border-color: #9c27b0;
    color: #e91e63;
}

.spec-btn.visible {
    border-color: #00e676;
    color: #00ff88;
}

.spec-btn.ir {
    border-color: #ff5722;
    color: #ff8a65;
}

.spec-btn.active {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0,255,255,0.4);
}

.spec-btn.uv.active {
    background: #9c27b0;
    color: #fff;
    box-shadow: 0 0 30px #9c27b0;
}

.spec-btn.visible.active {
    background: #00e676;
    color: #000;
    box-shadow: 0 0 30px #00e676;
}

.spec-btn.ir.active {
    background: #ff5722;
    color: #000;
    box-shadow: 0 0 30px #ff5722;
}

.spec-btn:hover:not(.active) {
    transform: translateY(-3px);
    box-shadow: 0 8px 20px rgba(0,255,255,0.3);
}

/* Visual de radiación (icono + label) */
.radiation-visual {
    margin: 40px 0;
}

#radiationIcon {
    font-size: 120px;
    display: block;
    margin: 0 auto 20px;
    filter: drop-shadow(0 0 20px currentColor);
}

#radLabel {
    font-size: 32px;
    color: var(--neon-yellow);
    text-shadow: var(--glow-yellow);
}

/* Medidor de fotosíntesis */
.photo-meter {
    margin: 40px auto;
    max-width: 700px;
}

.meter-track {
    height: 40px;
    background: #111;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: inset 0 0 15px #000;
}

#photoFill {
    height: 100%;
    width: 90%;
    background: linear-gradient(90deg, #00e676, #1de9b6);
    border-radius: 20px;
    transition: all 0.8s ease;
    box-shadow: 0 0 25px #00e676;
}

.meter-values {
    display: flex;
    justify-content: space-between;
    margin-top: 15px;
    font-size: 20px;
    color: var(--text-dim);
}

#rateText {
    font-size: 36px;
    color: var(--neon-yellow);
}

/* Texto resultado del simulador */
#photoText {
    margin-top: 30px;
    padding: 25px;
    background: #000;
    border-radius: 12px;
    font-size: 22px;
    min-height: 100px;
    border: 2px dashed var(--neon-cyan);
}

/* =======================================================
   SIMULADOR UV - ENTROPÍA BIOLÓGICA
========================================================== */
.uv-sim {
    margin: 60px auto;
    padding: 40px;
    background: var(--bg-panel);
    border-radius: 16px;
    border: 5px double #9c27b0;
    box-shadow: 0 0 40px rgba(156,39,176,0.6);
    max-width: 900px;
    position: relative;
    overflow: hidden;
}

.dna {
    height: 200px;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    margin-bottom: 30px;
}

.strand {
    width: 20px;
    height: 180px;
    background: repeating-linear-gradient(0deg, #00ffff 0px, #00ffff 20px, #ff00ff 20px, #ff00ff 40px);
    border-radius: 10px;
    position: relative;
}

.strand.left {
    transform: rotate(-15deg);
}

.strand.right {
    transform: rotate(15deg);
}

.dna.damage .strand {
    animation: shake-dna 0.6s ease;
}

@keyframes shake-dna {
    0%, 100% { transform: rotate(-15deg); }
    25% { transform: rotate(-25deg); }
    75% { transform: rotate(-5deg); }
}

.dna.damage .strand.right {
    animation: shake-dna-right 0.6s ease;
}

@keyframes shake-dna-right {
    0%, 100% { transform: rotate(15deg); }
    25% { transform: rotate(25deg); }
    75% { transform: rotate(5deg); }
}

.uv-photon {
    position: absolute;
    width: 8px;
    height: 8px;
    background: #e91e63;
    border-radius: 50%;
    box-shadow: 0 0 15px #e91e63;
    animation: photon-fall 1.5s linear forwards;
}

@keyframes photon-fall {
    0% { transform: translateY(-300px); opacity: 0; }
    30% { opacity: 1; }
    100% { transform: translateY(200px); opacity: 0; }
}

.entropy-meter {
    height: 30px;
    background: #111;
    border-radius: 15px;
    overflow: hidden;
    margin: 30px 0;
    box-shadow: inset 0 0 15px #000;
}

#entropyFill {
    height: 100%;
    width: 0%;
    background: linear-gradient(90deg, #9c27b0, #e91e63);
    border-radius: 15px;
    transition: width 0.8s ease;
    box-shadow: 0 0 25px #e91e63;
}

.entropy-label {
    font-size: 26px;
    color: var(--neon-pink);
    text-align: center;
}

#entropyValue {
    color: var(--neon-yellow);
    font-family: var(--font-pixel);
}

/* =======================================================
   ESPECTRO ELECTROMAGNÉTICO INTERACTIVO
========================================================== */
.spectrum-wrapper {
    margin: 60px auto;
    padding: 30px;
    background: var(--bg-panel);
    border-radius: 16px;
    border: 4px solid var(--neon-yellow);
    box-shadow: var(--glow-yellow);
    max-width: 950px;
    text-align: center;
}

#spectrumSVG {
    background: #000;
    border-radius: 14px;
    box-shadow: 0 0 30px rgba(255,255,0,0.4);
}

#spectrumSVG .labels text {
    font-size: 20px;
    fill: var(--text-light);
    font-family: var(--font-retro);
}

#spectrumSVG .labels text.highlight {
    fill: var(--neon-yellow);
    font-size: 28px;
    text-shadow: var(--glow-yellow);
}

#spectrumSVG .arrow {
    font-size: 22px;
    fill: var(--neon-cyan);
}

#selectorDot {
    fill: var(--neon-pink);
    stroke: #000;
    stroke-width: 3;
    r: 12;
    filter: drop-shadow(0 0 15px var(--neon-pink));
}

/* Panel de información del espectro */
.spectrum-panel {
    margin: 40px auto;
    padding: 30px;
    background: #000;
    border-radius: 12px;
    border: 3px solid var(--neon-yellow);
    max-width: 800px;
}

.spectrum-panel h4 {
    font-size: 28px;
    color: var(--neon-yellow);
    margin-bottom: 25px;
}

.spectrum-buttons {
    display: flex;
    justify-content: center;
    gap: 15px;
    flex-wrap: wrap;
    margin-bottom: 30px;
}

.spectrum-buttons button {
    padding: 12px 24px;
    background: #333;
    border: 3px solid var(--neon-blue);
    color: var(--neon-blue);
    font-size: 18px;
    cursor: pointer;
    transition: all 0.3s;
}

.spectrum-buttons button:hover {
    background: var(--neon-blue);
    color: #000;
}

.spectrum-buttons button.active {
    background: var(--neon-cyan);
    color: #000;
    border-color: var(--neon-cyan);
    box-shadow: 0 0 20px var(--neon-cyan);
}

#spectrumInfo {
    padding: 25px;
    background: var(--bg-panel);
    border-radius: 10px;
    font-size: 22px;
    min-height: 180px;
    border-left: 6px solid var(--neon-yellow);
}

#spectrumInfo h5 {
    font-size: 26px;
    color: var(--neon-yellow);
    margin-bottom: 15px;
}

#spectrumInfo ul {
    margin-top: 15px;
    text-align: left;
    font-size: 20px;
}

#spectrumInfo li {
    margin: 10px 0;
}

/* Autoevaluación de radiación */
.quiz-box {
    margin: 60px auto;
    padding: 35px;
    background: var(--bg-panel);
    border-radius: 16px;
    border: 5px double var(--neon-pink);
    box-shadow: var(--glow-pink);
    max-width: 800px;
    text-align: center;
}

.quiz-box p {
    font-size: 26px;
    margin-bottom: 30px;
    color: var(--neon-yellow);
}

.quiz-box button {
    margin: 10px 15px;
    padding: 14px 28px;
    background: #333;
    border: 3px solid var(--neon-pink);
    color: var(--neon-pink);
    font-size: 18px;
}

.quiz-box button:hover {
    background: var(--neon-pink);
    color: #000;
}

#radFeedback {
    margin-top: 30px;
    padding: 20px;
    border-radius: 10px;
    font-size: 24px;
    min-height: 80px;
}
.highlight-return {
    animation: pulse-highlight 3s ease;
    box-shadow: 0 0 30px var(--neon-yellow) !important;
}

@keyframes pulse-highlight {
    0%, 100% { box-shadow: 0 0 15px var(--neon-green); }
    50% { box-shadow: 0 0 40px var(--neon-yellow); }
}
/* =======================================================
   ESTILOS ESPECÍFICOS PARA LECCIÓN: MOVIMIENTOS DE LA TIERRA
   (Simulador cósmico, mini-juego estaciones, SVG orbital)
   Solo elementos nuevos o no cubiertos en tu CSS actual
========================================================== */

/* Simulador cósmico de movimientos terrestres */
.earth-simulator {
    margin: 60px auto;
    padding: 40px;
    background: var(--bg-panel);
    border-radius: 16px;
    border: 5px double var(--neon-cyan);
    box-shadow: var(--glow-cyan);
    max-width: 950px;
    text-align: center;
    position: relative;
}

.control-panel {
    display: flex;
    flex-direction: column;
    gap: 20px;
    margin-bottom: 40px;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
}

.control-panel label {
    font-size: 22px;
    color: var(--neon-yellow);
    display: flex;
    align-items: center;
    gap: 15px;
}

#tiltSlider, #iceSlider {
    flex: 1;
    height: 14px;
    background: #333;
    border-radius: 8px;
    accent-color: var(--neon-cyan);
    cursor: pointer;
}

#tiltValue, #iceValue {
    font-size: 20px;
    color: var(--neon-green);
    min-width: 120px;
    text-align: right;
}

#toggleOrbit {
    align-self: center;
    padding: 12px 28px;
    background: #006666;
    border: 3px solid var(--neon-cyan);
    color: #fff;
    font-size: 18px;
    cursor: pointer;
}

#toggleOrbit:hover {
    background: var(--neon-cyan);
    color: #000;
}

/* SVG orbital */
.orbit-svg {
    background: #000;
    border-radius: 14px;
    box-shadow: 0 0 30px rgba(0,255,255,0.4);
    margin: 30px auto;
}

.sun {
    fill: #ffb300;
    stroke: #fff176;
    stroke-width: 12;
    filter: drop-shadow(0 0 20px #ffb300);
}

#earth circle {
    fill: #2196f3;
    stroke: #fff;
    stroke-width: 3;
}

#axis {
    stroke: var(--neon-pink);
    stroke-width: 4;
    filter: drop-shadow(0 0 10px var(--neon-pink));
}

/* Mini-juego estaciones */
.mini-game {
    margin-top: 50px;
    padding: 30px;
    background: var(--bg-card);
    border-radius: 12px;
    border: 4px solid var(--neon-yellow);
    box-shadow: var(--glow-yellow);
}

.mini-game h4 {
    font-size: 26px;
    color: var(--neon-yellow);
    margin-bottom: 20px;
}

#gamePrompt {
    font-size: 22px;
    margin-bottom: 25px;
}

.game-buttons {
    display: flex;
    justify-content: center;
    gap: 15px;
    flex-wrap: wrap;
    margin-bottom: 25px;
}

.game-buttons button {
    padding: 12px 24px;
    background: #333;
    border: 3px solid var(--neon-blue);
    color: var(--neon-blue);
    font-size: 18px;
    cursor: pointer;
}

.game-buttons button:hover {
    background: var(--neon-blue);
    color: #000;
}

#gameFeedback {
    font-size: 24px;
    min-height: 60px;
    padding: 20px;
    border-radius: 10px;
}
/* =======================================================
   ESTILOS ESPECÍFICOS PARA LECCIÓN: RESPIRACIÓN CELULAR
   (SVG flujo energético, simulador ATP, animación ETC, tablas, quiz)
   Solo elementos nuevos o no cubiertos en tu CSS actual
========================================================== */

/* Contenedor principal de la lección */
.lesson-container {
    max-width: 1100px;
    margin: 40px auto;
    padding: 30px;
    background: var(--bg-panel);
    border-radius: 16px;
    border: 4px solid var(--neon-cyan);
    box-shadow: var(--glow-cyan);
}

/* Header de la lección */
.lesson-header {
    text-align: center;
    margin-bottom: 50px;
}

.lesson-title {
    font-size: 42px;
    color: var(--neon-magenta);
    text-shadow: 0 0 25px var(--neon-magenta), 4px 4px 0 #000;
    margin-bottom: 20px;
}

.lesson-title span {
    display: block;
    font-size: 28px;
    color: var(--neon-yellow);
    margin-top: 10px;
}

.lesson-intro {
    font-size: 22px;
    max-width: 900px;
    margin: 20px auto;
    line-height: 2;
}

/* Bloques de sección */
.lesson-block {
    margin: 60px 0;
    padding: 35px;
    background: var(--bg-card);
    border-radius: 14px;
    border-left: 6px solid var(--neon-green);
    box-shadow: 0 0 20px rgba(0,255,0,0.3);
}

/* Fórmula destacada */
.formula-box {
    font-size: 32px;
    padding: 30px;
    background: #000;
    border-radius: 12px;
    text-align: center;
    margin: 30px auto;
    max-width: 800px;
    border: 4px solid var(--neon-yellow);
    box-shadow: 0 0 30px var(--neon-yellow);
}

.formula-note {
    text-align: center;
    font-size: 20px;
    margin-top: 15px;
    color: var(--text-dim);
    font-style: italic;
}

/* SVG flujo energético */
.svg-diagram svg {
    background: #000;
    border-radius: 14px;
    box-shadow: 0 0 40px rgba(0,255,255,0.5);
}

/* Tabla neón */
.neo-table {
    width: 100%;
    max-width: 900px;
    margin: 40px auto;
    border-collapse: collapse;
    font-size: 20px;
}

.neo-table th {
    background: #1a1a1a;
    color: var(--neon-cyan);
    padding: 20px;
    font-size: 24px;
    text-shadow: var(--glow-cyan);
}

.neo-table td {
    padding: 18px;
    text-align: center;
    border: 1px solid #444;
}

.neo-table tbody tr:nth-child(even) {
    background: rgba(255,255,255,0.03);
}

.neo-table tbody tr:hover {
    background: rgba(0,255,255,0.1);
    box-shadow: 0 0 15px rgba(0,255,255,0.4);
}

.neo-table .highlight {
    background: rgba(0,255,0,0.2);
    font-weight: bold;
    font-size: 22px;
}

/* Simulador ATP */
.atp-sim {
    margin: 60px auto;
    padding: 40px;
    background: var(--bg-panel);
    border-radius: 16px;
    border: 5px double var(--neon-green);
    box-shadow: var(--glow-green);
    max-width: 800px;
    text-align: center;
}

.sim-controls {
    margin-bottom: 40px;
}

.btn-play[data-type] {
    padding: 14px 32px;
    margin: 0 15px;
    background: #006633;
    border: 4px solid var(--neon-green);
    color: #fff;
    font-size: 20px;
    cursor: pointer;
}

.btn-play[data-type]:hover {
    background: var(--neon-green);
    color: #000;
}

.atp-meter {
    height: 60px;
    background: #111;
    border-radius: 30px;
    overflow: hidden;
    margin: 30px auto;
    max-width: 700px;
    box-shadow: inset 0 0 20px #000;
}

#atpFill {
    height: 100%;
    width: 95%;
    background: linear-gradient(90deg, #00ffff, #00ffcc);
    border-radius: 30px;
    transition: all 1.2s ease;
    box-shadow: 0 0 30px #00ffcc;
}

#atpText {
    font-size: 28px;
    margin-top: 25px;
    color: var(--neon-yellow);
}

/* Animación Cadena ETC */
.etc-box {
    height: 300px;
    background: linear-gradient(180deg, #000, #110033);
    border-radius: 14px;
    position: relative;
    overflow: hidden;
    margin: 40px auto;
    max-width: 900px;
    border: 4px solid var(--neon-pink);
    box-shadow: 0 0 30px var(--neon-pink);
}

.electron {
    position: absolute;
    width: 10px;
    height: 10px;
    background: #ff00ff;
    border-radius: 50%;
    box-shadow: 0 0 20px #ff00ff;
    animation: electron-move 3s linear forwards;
}

@keyframes electron-move {
    0% {
        left: -10px;
        opacity: 0;
    }
    10% {
        opacity: 1;
    }
    90% {
        opacity: 1;
    }
    100% {
        left: 100%;
        opacity: 0;
    }
}

/* Caption bajo diagramas */
.diagram-caption {
    text-align: center;
    margin-top: 20px;
    font-size: 20px;
    font-style: italic;
    color: var(--text-dim);
}

/* Lista de ejercicios */
.exercise-list {
    counter-reset: exercise-counter;
    list-style: none;
    padding-left: 0;
    max-width: 800px;
    margin: 40px auto;
}

.exercise-list li {
    counter-increment: exercise-counter;
    font-size: 22px;
    margin: 25px 0;
    padding: 20px 20px 20px 80px;
    background: var(--bg-panel);
    border-radius: 12px;
    border-left: 6px solid var(--neon-orange);
    position: relative;
    box-shadow: 0 0 15px rgba(255,153,0,0.3);
}

.exercise-list li::before {
    content: counter(exercise-counter);
    position: absolute;
    left: 20px;
    top: 50%;
    transform: translateY(-50%);
    width: 40px;
    height: 40px;
    background: var(--neon-orange);
    color: #000;
    font-family: var(--font-pixel);
    font-size: 20px;
    line-height: 40px;
    text-align: center;
    border-radius: 50%;
    box-shadow: 0 0 15px var(--neon-orange);
}

/* Quiz de la lección */
.quiz-box {
    margin: 60px auto;
    padding: 40px;
    background: var(--bg-panel);
    border-radius: 16px;
    border: 5px double var(--neon-pink);
    box-shadow: var(--glow-pink);
    max-width: 800px;
    text-align: center;
}

.quiz-box p {
    font-size: 26px;
    margin-bottom: 30px;
    color: var(--neon-yellow);
}

.quiz-box .btn-play.quiz {
    margin: 10px 15px;
    padding: 14px 28px;
    background: #660066;
    border: 4px solid var(--neon-pink);
    color: var(--neon-pink);
    font-size: 20px;
}

.quiz-box .btn-play.quiz:hover {
    background: var(--neon-pink);
    color: #000;
}

#quizResult {
    margin-top: 30px;
    padding: 20px;
    border-radius: 10px;
    font-size: 26px;
    min-height: 80px;
}
/* =======================================================
   ESTILOS ESPECÍFICOS PARA LECCIÓN: COMPONENTES DEL SISTEMA CLIMÁTICO
   (SVG sistema climático, simuladores albedo/CO2, mini-laboratorio)
   Solo elementos nuevos o no cubiertos en tu CSS actual
========================================================== */

/* SVG del sistema climático terrestre */
.svg-diagram svg {
    background: #000;
    border-radius: 16px;
    box-shadow: 0 0 40px rgba(0,255,255,0.5);
    margin: 40px auto;
    max-width: 100%;
    height: auto;
}

/* Glows y textos dentro del SVG */
#glow-cyan, #glow-magenta {
    filter: drop-shadow(0 0 20px currentColor);
}

/* Título principal dentro del SVG */
text[filter="url(#glow-magenta)"] {
    font-family: var(--font-pixel);
    font-weight: bold;
}

/* Caption bajo SVG */
.caption {
    text-align: center;
    margin-top: 20px;
    font-size: 20px;
    font-style: italic;
    color: var(--text-dim);
    max-width: 900px;
    margin-left: auto;
    margin-right: auto;
}

/* Simuladores climáticos (albedo y CO2) */
.climate-sim {
    margin: 60px auto;
    padding: 40px;
    background: var(--bg-panel);
    border-radius: 16px;
    border: 5px double var(--neon-cyan);
    box-shadow: var(--glow-cyan);
    max-width: 900px;
    text-align: center;
}

.neon-label {
    display: block;
    font-size: 24px;
    color: var(--neon-yellow);
    margin-bottom: 20px;
}

#iceSlider, #co2Slider {
    width: 80%;
    height: 16px;
    background: #333;
    border-radius: 8px;
    accent-color: var(--neon-cyan);
    cursor: pointer;
}

#iceValue, #co2Value {
    display: inline-block;
    width: 100px;
    font-size: 28px;
    color: var(--neon-green);
    font-family: var(--font-pixel);
}

.meter {
    height: 50px;
    background: #111;
    border-radius: 25px;
    overflow: hidden;
    margin: 30px auto;
    max-width: 700px;
    box-shadow: inset 0 0 20px #000;
}

#albedoFill, #co2Fill {
    height: 100%;
    width: 60%;
    border-radius: 25px;
    transition: all 0.8s ease;
    box-shadow: 0 0 30px;
}

#albedoFill {
    background: linear-gradient(90deg, #e0f7fa, #00ffff);
}

#co2Fill {
    background: linear-gradient(90deg, #00e676, #ff1744);
}

#albedoText, #co2Text {
    font-size: 24px;
    padding: 25px;
    background: #000;
    border-radius: 12px;
    min-height: 120px;
    border: 2px dashed var(--neon-yellow);
}

/* Mini-laboratorio climático */
.climate-lab {
    margin: 60px auto;
    padding: 40px;
    background: var(--bg-panel);
    border-radius: 16px;
    border: 5px double var(--neon-orange);
    box-shadow: var(--glow-orange);
    max-width: 900px;
    text-align: center;
}

.lab-controls {
    display: flex;
    flex-direction: column;
    gap: 25px;
    max-width: 600px;
    margin: 0 auto 40px;
}

.lab-controls label {
    font-size: 24px;
    color: var(--neon-yellow);
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: 15px;
}

.lab-controls select {
    background: #000;
    color: var(--neon-green);
    border: 3px solid var(--neon-green);
    padding: 12px;
    font-size: 20px;
    width: 200px;
    border-radius: 0;
    box-shadow: inset 0 0 10px rgba(0,255,0,0.3);
}

.lab-controls select:focus {
    border-color: var(--neon-cyan);
    box-shadow: 0 0 20px var(--neon-cyan);
}

.lab-output {
    padding: 30px;
    background: #000;
    border-radius: 12px;
    font-size: 26px;
    min-height: 180px;
    border: 3px solid var(--neon-yellow);
}

.lab-output h5 {
    font-size: 32px;
    color: var(--neon-yellow);
    margin-bottom: 20px;
}

/* Tabla de interacciones */
.table.text-center.table-bordered {
    max-width: 900px;
    margin: 40px auto;
    font-size: 20px;
}

.table.text-center.table-bordered th {
    background: #1a1a1a;
    color: var(--neon-cyan);
    padding: 20px;
    font-size: 24px;
}

.table.text-center.table-bordered td {
    padding: 18px;
    background: var(--bg-panel);
}

/* Imagen visual (concentracion-atmosfera.jpg) */
.visual img {
    max-width: 100%;
    border-radius: 14px;
    border: 4px solid var(--neon-green);
    box-shadow: 0 0 30px rgba(0,255,0,0.4);
    margin: 30px auto;
    display: block;
}

.visual p {
    text-align: center;
    font-style: italic;
    color: var(--text-dim);
    font-size: 18px;
    margin-top: 10px;
}
.highlight-return {
    animation: pulse-highlight 3s ease;
    box-shadow: 0 0 30px var(--neon-yellow) !important;
    transform: scale(1.02);
}

@keyframes pulse-highlight {
    0%, 100% { box-shadow: 0 0 15px var(--neon-green); }
    50% { box-shadow: 0 0 40px var(--neon-yellow); }
}
/* =======================================================
   ESTILOS ESPECÍFICOS PARA LECCIÓN: CICLO DEL CARBONO
   (SVG ciclo global, tablas, flujo animado, impacto humano)
   Solo elementos nuevos o no cubiertos en tu CSS actual
========================================================== */

/* SVG del ciclo global del carbono */
.svg-diagram svg {
    background: #070714;
    border-radius: 16px;
    box-shadow: 0 0 40px rgba(0,255,255,0.6);
    margin: 50px auto;
    max-width: 100%;
    height: auto;
}

/* Caption bajo el SVG */
.diagram-caption {
    text-align: center;
    margin-top: 20px;
    font-size: 20px;
    font-style: italic;
    color: var(--text-dim);
    max-width: 900px;
    margin-left: auto;
    margin-right: auto;
}

/* Tablas de reservorios y flujos */
.table.fs-5 {
    max-width: 900px;
    margin: 40px auto;
    font-size: 20px;
}

.table.fs-5 th {
    background: #1a1a1a;
    color: var(--neon-cyan);
    padding: 20px;
    font-size: 24px;
}

.table.fs-5 td {
    padding: 18px;
    text-align: center;
    background: var(--bg-panel);
}

.table.fs-5 tbody tr:hover {
    background: rgba(0,255,255,0.1);
    box-shadow: 0 0 15px rgba(0,255,255,0.3);
}

.table-danger {
    background: rgba(255,51,102,0.2) !important;
    font-weight: bold;
    font-size: 22px;
}

/* Cajas de ejemplo y alerta */
.ejemplo {
    margin: 40px auto;
    padding: 30px;
    background: var(--bg-panel);
    border-radius: 12px;
    border-left: 6px solid var(--neon-red);
    box-shadow: var(--glow-red);
    max-width: 900px;
    font-size: 22px;
}

.alert.alert-dark.fs-4 {
    background: #111;
    border: 4px solid var(--neon-red);
    border-radius: 14px;
    padding: 40px;
    text-align: center;
    max-width: 1000px;
    margin: 60px auto;
    box-shadow: 0 0 40px rgba(255,51,102,0.5);
    font-size: 26px;
    color: var(--neon-red);
}

/* Imagen visual (nasa_carbono.gif) */
.visual img {
    max-width: 100%;
    border-radius: 14px;
    border: 4px solid var(--neon-red);
    box-shadow: 0 0 30px rgba(255,51,102,0.4);
    margin: 40px auto;
    display: block;
}

.visual p {
    text-align: center;
    font-style: italic;
    color: var(--text-dim);
    font-size: 18px;
    margin-top: 10px;
}

/* Animación de flechas en SVG (stroke-dasharray animado) */
path[stroke-dasharray] {
    stroke-dashoffset: 0;
    animation: dash-flow 4s linear infinite;
}

@keyframes dash-flow {
    to {
        stroke-dashoffset: -40;
    }
}

/* Mensaje final en SVG */
text[filter="url(#glow-red)"] {
    font-family: var(--font-pixel);
    font-weight: bold;
}
/* =======================================================
   ESTILOS ESPECÍFICOS PARA LECCIÓN: LEY DE LIEBIG
   (SVG barril animado, simulador barril, mini-laboratorio, quiz adaptativo)
   Solo elementos nuevos o no cubiertos en tu CSS actual
========================================================== */

/* SVG del Barril de Liebig */
.svg-diagram svg {
    background: #070714;
    border-radius: 16px;
    box-shadow: 0 0 40px rgba(0,255,255,0.6);
    margin: 50px auto;
    max-width: 100%;
    height: auto;
}

/* Animación del agua subiendo */
rect[fill="#1e90ff"] {
    animation: water-rise 4s ease-in-out infinite alternate;
}

@keyframes water-rise {
    0% { height: 0; y: 740; }
    100% { height: 340; y: 400; }
}

/* Caption bajo SVG */
.caption {
    text-align: center;
    margin-top: 20px;
    font-size: 20px;
    font-style: italic;
    color: var(--text-dim);
    max-width: 900px;
    margin-left: auto;
    margin-right: auto;
}

/* Ecuación destacada */
.eq {
    font-size: 28px;
    padding: 30px;
    background: #000;
    border-radius: 12px;
    text-align: center;
    margin: 40px auto;
    max-width: 600px;
    border: 4px solid var(--neon-yellow);
    box-shadow: 0 0 25px var(--neon-yellow);
}

/* Caja de ejemplo */
.ejemplo {
    margin: 40px auto;
    padding: 30px;
    background: var(--bg-panel);
    border-radius: 12px;
    border-left: 6px solid var(--neon-green);
    box-shadow: var(--glow-green);
    max-width: 900px;
    font-size: 22px;
}

/* Imagen visual (ley-tolerancia.jpg) */
.visual img {
    max-width: 100%;
    border-radius: 14px;
    border: 4px solid var(--neon-yellow);
    box-shadow: 0 0 30px rgba(255,255,0,0.4);
    margin: 40px auto;
    display: block;
}

.visual p {
    text-align: center;
    font-style: italic;
    color: var(--text-dim);
    font-size: 18px;
    margin-top: 10px;
}

/* Simulador Barril de Liebig */
.barrel-sim {
    margin: 60px auto;
    padding: 40px;
    background: var(--bg-panel);
    border-radius: 16px;
    border: 5px double var(--neon-green);
    box-shadow: var(--glow-green);
    max-width: 900px;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 30px;
}

.stave {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 120px;
}

.stave span {
    font-size: 28px;
    color: var(--neon-yellow);
    margin-bottom: 15px;
    font-weight: bold;
}

.stave input[type="range"] {
    width: 100%;
    height: 16px;
    background: #333;
    border-radius: 8px;
    accent-color: var(--neon-green);
    cursor: pointer;
}

.stave.limitante input[type="range"] {
    accent-color: var(--neon-red);
}

#barrelResult {
    width: 100%;
    text-align: center;
    font-size: 28px;
    padding: 25px;
    background: #000;
    border-radius: 12px;
    margin-top: 30px;
    border: 3px solid var(--neon-yellow);
    color: var(--neon-yellow);
}

/* Mini-laboratorio */
.mini-lab {
    margin: 60px auto;
    padding: 40px;
    background: var(--bg-panel);
    border-radius: 16px;
    border: 5px double var(--neon-orange);
    box-shadow: var(--glow-orange);
    max-width: 800px;
    text-align: center;
}

.mini-lab select {
    background: #000;
    color: var(--neon-orange);
    border: 3px solid var(--neon-orange);
    padding: 14px;
    font-size: 22px;
    border-radius: 0;
    box-shadow: inset 0 0 12px rgba(255,153,0,0.3);
}

.mini-lab select:focus {
    border-color: var(--neon-yellow);
    box-shadow: 0 0 20px var(--neon-yellow);
}

#labOutput {
    margin-top: 30px;
    padding: 25px;
    background: #000;
    border-radius: 12px;
    font-size: 24px;
    min-height: 120px;
    border: 2px dashed var(--neon-orange);
}

/* Quiz adaptativo */
.quiz-box {
    margin: 60px auto;
    padding: 40px;
    background: var(--bg-panel);
    border-radius: 16px;
    border: 5px double var(--neon-pink);
    box-shadow: var(--glow-pink);
    max-width: 900px;
    text-align: center;
}

#quizQuestion {
    font-size: 28px;
    margin-bottom: 30px;
    color: var(--neon-yellow);
}

.quiz-options {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
    margin-bottom: 30px;
}

.quiz-options button {
    padding: 14px 28px;
    background: #333;
    border: 3px solid var(--neon-pink);
    color: var(--neon-pink);
    font-size: 20px;
    cursor: pointer;
    min-width: 200px;
}

.quiz-options button:hover {
    background: var(--neon-pink);
    color: #000;
}

#quizFeedback {
    font-size: 28px;
    min-height: 80px;
    padding: 20px;
    border-radius: 10px;
}
/* ============================================================
   ESTILOS ESPECÍFICOS: LEY DE SHELFORD
   Evita colisiones mediante prefijos y selectores específicos
   ============================================================ */

/* Contenedor principal de la lección para aislar estilos */
.lesson-shelford {
    font-family: var(--font-retro); /* Uso de variables de style.css */
    color: var(--text-light);
}

/* --- Títulos y Separadores --- */
.lesson-shelford .divider-neon {
    border: 0;
    height: 3px;
    background: linear-gradient(90deg, transparent, var(--neon-cyan), transparent);
    margin: 40px 0;
    box-shadow: var(--glow-cyan);
}

.lesson-shelford .section-title {
    color: var(--neon-yellow);
    font-family: var(--font-pixel);
    border-left: 5px solid var(--neon-yellow);
    padding-left: 15px;
    margin: 40px 0 20px;
}

/* --- Diagramas SVG --- */
.lesson-shelford .svg-diagram {
    background: #050510;
    border: 3px solid var(--neon-cyan);
    border-radius: 12px;
    padding: 10px;
    box-shadow: 0 0 25px rgba(0, 255, 255, 0.2);
    margin: 30px 0;
}

/* --- Simulador Interactivo --- */
.lesson-shelford #factorSlider {
    -webkit-appearance: none;
    width: 100%;
    height: 15px;
    background: #222;
    outline: none;
    border: 2px solid var(--neon-green);
    border-radius: 0; /* Estilo retro */
    margin: 20px 0;
}

.lesson-shelford #factorSlider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 25px;
    height: 35px;
    background: var(--neon-yellow);
    cursor: pointer;
    border: 2px solid #000;
    box-shadow: 0 0 10px var(--neon-yellow);
}

.lesson-shelford .sim-result {
    background: #000;
    padding: 20px;
    border: 2px dashed var(--neon-cyan);
    font-size: 1.4rem;
    min-height: 80px;
    text-align: center;
}

/* --- Mini Lab y Selects --- */
.lesson-shelford select {
    background: #000;
    color: var(--neon-orange);
    border: 3px solid var(--neon-orange);
    padding: 12px;
    font-family: var(--font-pixel);
    font-size: 16px;
    width: 100%;
    margin-bottom: 20px;
    cursor: pointer;
}

.lesson-shelford .lab-output {
    padding: 20px;
    background: var(--bg-panel);
    border-left: 10px solid var(--neon-orange);
    font-size: 1.2rem;
    margin-bottom: 30px;
}

/* --- Quiz Adaptativo --- */
.lesson-shelford .quiz-box {
    background: #111;
    border: 4px double var(--neon-pink);
    padding: 30px;
    border-radius: 8px;
    box-shadow: var(--glow-pink);
}

.lesson-shelford .quiz-box #opts {
    display: grid;
    grid-template-columns: 1fr;
    gap: 15px;
    margin-top: 20px;
}

.lesson-shelford .quiz-box button {
    background: transparent;
    color: var(--neon-pink);
    border: 2px solid var(--neon-pink);
    padding: 12px;
    font-family: var(--font-pixel);
    font-size: 14px;
    cursor: pointer;
    transition: all 0.3s;
}

.lesson-shelford .quiz-box button:hover {
    background: var(--neon-pink);
    color: #000;
    box-shadow: 0 0 15px var(--neon-pink);
}

.lesson-shelford #fb {
    margin-top: 20px;
    font-weight: bold;
    font-size: 1.2rem;
    height: 30px;
}

/* --- Ecuaciones MathJax --- */
.lesson-shelford .eq {
    background: rgba(0,0,0,0.5);
    padding: 25px;
    border-radius: 8px;
    text-align: center;
    font-size: 1.5rem;
    color: var(--neon-cyan);
    margin: 20px 0;
}
/* ============================================================
   ESTILOS ESPECÍFICOS: FACTORES AMBIENTALES
   Namespace: .lesson-factors
   ============================================================ */

.lesson-factors {
    font-family: var(--font-retro);
    color: var(--text-light);
}

/* --- Títulos y Líneas --- */
.lesson-factors .divider-neon {
    border: 0;
    height: 4px;
    background: linear-gradient(90deg, transparent, var(--neon-blue), var(--neon-pink), transparent);
    margin: 40px 0;
}

.lesson-factors .section-title {
    color: var(--neon-cyan);
    font-family: var(--font-pixel);
    text-transform: uppercase;
    letter-spacing: 2px;
    border-bottom: 2px solid var(--neon-cyan);
    display: inline-block;
    margin-top: 50px;
}

/* --- Diagramas SVG --- */
.lesson-factors .svg-diagram {
    background: #05050f;
    border: 2px solid #333;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 0 30px rgba(0, 0, 0, 0.8), inset 0 0 20px rgba(0, 255, 255, 0.1);
    margin: 30px 0;
}

.lesson-factors .caption {
    background: rgba(0, 0, 0, 0.7);
    color: var(--neon-cyan);
    padding: 10px;
    text-align: center;
    font-size: 0.9rem;
    border-top: 1px solid #222;
}

/* --- Tablas Estilo Cyberpunk --- */
.lesson-factors .table {
    background: rgba(20, 20, 20, 0.8);
    border: 1px solid #333;
    color: #eee;
    margin: 30px 0;
}

.lesson-factors .table th {
    background: #000;
    color: var(--neon-yellow);
    font-family: var(--font-pixel);
    border-color: #444;
    text-transform: uppercase;
    font-size: 0.8rem;
}

.lesson-factors .table td {
    border-color: #222;
    vertical-align: middle;
}

/* --- Contenedor Idea Clave (Ejemplo) --- */
.lesson-factors .ejemplo {
    background: linear-gradient(135deg, #1a1a1a 0%, #000 100%);
    border: 2px solid var(--neon-yellow);
    padding: 30px;
    position: relative;
    margin: 40px 0;
    clip-path: polygon(0% 0%, 100% 0%, 100% 85%, 95% 100%, 0% 100%);
}

.lesson-factors .ejemplo strong {
    color: var(--neon-yellow);
    text-shadow: 0 0 10px rgba(255, 204, 0, 0.5);
}

/* --- Simulador de Presión --- */
.lesson-factors #envSlider {
    -webkit-appearance: none;
    height: 10px;
    background: #111;
    border: 1px solid var(--neon-blue);
    margin: 25px 0;
}

.lesson-factors #envSlider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 20px;
    height: 40px;
    background: var(--neon-blue);
    box-shadow: 0 0 15px var(--neon-blue);
    cursor: pointer;
    border-radius: 0;
}

.lesson-factors .sim-result {
    font-family: var(--font-pixel);
    background: #000;
    padding: 20px;
    color: var(--neon-green);
    border: 1px solid #333;
    text-align: center;
    font-size: 1.2rem;
}

/* --- Quiz --- */
.lesson-factors .quiz-box {
    background: var(--bg-card);
    border: 2px solid var(--neon-pink);
    padding: 25px;
    box-shadow: var(--glow-pink);
}

.lesson-factors #oFA button {
    display: block;
    width: 100%;
    margin: 10px 0;
    background: #000;
    color: #fff;
    border: 1px solid var(--neon-pink);
    padding: 15px;
    font-family: var(--font-retro);
    cursor: pointer;
    transition: 0.2s;
}

.lesson-factors #oFA button:hover {
    background: var(--neon-pink);
    color: #000;
}

/* Utility for text center */
.lesson-factors .text-center { text-align: center; }
.lesson-factors .display-4 { 
    font-family: var(--font-pixel); 
    color: var(--neon-cyan); 
    text-shadow: var(--glow-cyan);
}
/* ============================================================
   ESTILOS ESPECÍFICOS: BIOMAS DEL PLANETA
   Namespace: .lesson-biomes
   ============================================================ */

.lesson-biomes {
    font-family: var(--font-retro);
    color: var(--text-light);
    line-height: 1.6;
}

/* --- Títulos Neón --- */
.lesson-biomes .display-4 {
    font-family: var(--font-pixel);
    color: var(--neon-cyan);
    text-shadow: var(--glow-cyan);
    margin-bottom: 30px;
}

.lesson-biomes .divider-neon {
    border: 0;
    height: 4px;
    background: linear-gradient(90deg, transparent, var(--neon-green), var(--neon-blue), transparent);
    margin: 50px 0;
}

/* --- Diagramas y Contenedores --- */
.lesson-biomes .svg-diagram {
    background: #050510;
    border: 3px solid #1a1a2e;
    border-radius: 15px;
    padding: 15px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    margin: 30px 0;
}

.lesson-biomes .caption {
    text-align: center;
    color: var(--neon-blue);
    font-size: 0.9rem;
    margin-top: 10px;
    font-style: italic;
}

/* --- Tablas de Comparación --- */
.lesson-biomes .table {
    background: rgba(10, 10, 15, 0.9);
    border-collapse: separate;
    border-spacing: 0;
    border: 1px solid #333;
    border-radius: 10px;
    overflow: hidden;
    margin: 40px 0;
}

.lesson-biomes .table th {
    background: var(--bg-panel);
    color: var(--neon-yellow);
    font-family: var(--font-pixel);
    padding: 20px;
    text-transform: uppercase;
    border-bottom: 2px solid var(--neon-yellow);
}

.lesson-biomes .table td {
    padding: 15px;
    border-bottom: 1px solid #222;
    transition: background 0.3s;
}

.lesson-biomes .table tr:hover td {
    background: rgba(0, 255, 255, 0.05);
}

/* --- Simulador Clima -> Bioma --- */
.lesson-biomes .climate-sim {
    background: #111;
    border: 2px solid var(--neon-blue);
    padding: 30px;
    border-radius: 20px;
    margin: 30px 0;
}

.lesson-biomes .climate-sim label {
    display: block;
    margin-bottom: 25px;
    font-size: 1.2rem;
    color: var(--neon-cyan);
}

.lesson-biomes input[type="range"] {
    -webkit-appearance: none;
    width: 100%;
    height: 8px;
    background: #333;
    outline: none;
    border-radius: 4px;
}

.lesson-biomes input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 24px;
    height: 24px;
    background: var(--neon-yellow);
    cursor: pointer;
    border-radius: 50%;
    box-shadow: 0 0 10px var(--neon-yellow);
}

.lesson-biomes .sim-result {
    background: #000;
    border: 2px dashed var(--neon-green);
    padding: 20px;
    text-align: center;
    margin-top: 20px;
    min-height: 120px;
    border-radius: 10px;
}

/* --- Mapa Mundial Interactivo --- */
.lesson-biomes .map-controls {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    justify-content: center;
    margin-bottom: 20px;
}

.lesson-biomes .map-btn {
    background: #111;
    color: #fff;
    border: 1px solid #444;
    padding: 10px 18px;
    cursor: pointer;
    font-family: var(--font-retro);
    transition: all 0.3s;
    border-radius: 4px;
}

.lesson-biomes .map-btn:hover,
.lesson-biomes .map-btn.active {
    background: var(--neon-blue);
    color: #000;
    border-color: var(--neon-cyan);
    box-shadow: 0 0 15px var(--neon-blue);
}

.lesson-biomes .map-info {
    background: var(--bg-panel);
    border-left: 5px solid var(--neon-blue);
    padding: 20px;
    font-size: 1.3rem;
    margin-top: 20px;
    min-height: 80px;
}

/* --- Quiz Predictivo --- */
.lesson-biomes .btn-play {
    background: var(--neon-pink);
    color: #000;
    border: none;
    padding: 15px 30px;
    font-family: var(--font-pixel);
    cursor: pointer;
    width: 100%;
    margin-top: 15px;
    text-transform: uppercase;
}

.lesson-biomes #quizSelect {
    width: 100%;
    padding: 15px;
    background: #000;
    color: #fff;
    border: 2px solid var(--neon-pink);
    font-family: var(--font-retro);
    margin-top: 15px;
}
/* ============================================================
   ESTILOS ESPECÍFICOS: REDES TRÓFICAS (MASTER)
   Namespace: .lesson-trophic
   ============================================================ */

.lesson-trophic {
    font-family: var(--font-retro);
    color: var(--text-light);
}

/* --- Títulos y Alertas --- */
.lesson-trophic .display-4 {
    font-family: var(--font-pixel);
    color: var(--neon-magenta);
    text-shadow: 0 0 15px var(--neon-magenta);
}

.lesson-trophic .divider-neon {
    border: 0;
    height: 3px;
    background: linear-gradient(90deg, transparent, var(--neon-magenta), var(--neon-cyan), transparent);
    margin: 40px 0;
}

/* --- Tablas de Energía --- */
.lesson-trophic .table {
    background: #000;
    border: 1px solid var(--neon-cyan);
}

.lesson-trophic .table th {
    background: rgba(0, 255, 255, 0.1);
    color: var(--neon-cyan);
    font-family: var(--font-pixel);
    text-transform: uppercase;
    font-size: 0.8rem;
}

/* --- Bloques de Ejemplo y Ecuaciones --- */
.lesson-trophic .ejemplo {
    background: rgba(20, 20, 25, 0.8);
    border-left: 6px solid var(--neon-green);
    padding: 20px;
    margin: 20px 0;
    border-radius: 4px;
}

.lesson-trophic .eq {
    background: #050505;
    padding: 25px;
    border: 1px double #333;
    border-radius: 8px;
    color: var(--neon-yellow);
    font-size: 1.6rem;
    margin: 30px 0;
}

/* --- Diagrama SVG --- */
.lesson-trophic .svg-diagram {
    background: #020414;
    border: 2px solid #1a1a2e;
    border-radius: 12px;
    box-shadow: 0 0 40px rgba(0,0,0,0.8);
    padding: 10px;
}

/* --- Simulador de Alteración --- */
.lesson-trophic .trophic-sim {
    background: #0a0a0a;
    border: 2px solid #222;
    padding: 30px;
    border-radius: 16px;
    margin: 30px 0;
}

.lesson-trophic .species-controls {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-bottom: 25px;
}

.lesson-trophic .species-btn {
    background: transparent;
    border: 2px solid var(--neon-cyan);
    color: var(--neon-cyan);
    padding: 12px 20px;
    cursor: pointer;
    font-family: var(--font-retro);
    transition: 0.3s;
}

.lesson-trophic .species-btn:hover,
.lesson-trophic .species-btn.active {
    background: var(--neon-cyan);
    color: #000;
    box-shadow: 0 0 20px var(--neon-cyan);
}

.lesson-trophic .sim-output {
    background: #000;
    padding: 20px;
    border-radius: 8px;
    min-height: 100px;
    text-align: center;
    font-size: 1.2rem;
    border: 1px dashed #444;
}

/* --- Quiz de Cascadas --- */
.lesson-trophic .quiz-block {
    background: var(--bg-panel);
    padding: 30px;
    border: 2px solid var(--neon-magenta);
    border-radius: 12px;
}

.lesson-trophic .quiz-option {
    display: block;
    width: 100%;
    background: #111;
    color: #fff;
    border: 1px solid #333;
    padding: 15px;
    margin-bottom: 12px;
    cursor: pointer;
    text-align: left;
    transition: 0.2s;
}

.lesson-trophic .quiz-option:hover {
    border-color: var(--neon-magenta);
    background: rgba(255, 0, 255, 0.05);
}

.lesson-trophic .quiz-feedback {
    padding: 15px;
    margin-top: 15px;
    border-radius: 4px;
    display: none;
}

.lesson-trophic .quiz-feedback.correct { 
    display: block; background: rgba(0, 255, 0, 0.1); color: var(--neon-green); 
}

.lesson-trophic .quiz-feedback.incorrect { 
    display: block; background: rgba(255, 0, 0, 0.1); color: var(--neon-red); 
}

/* --- Calculador de Conectancia --- */
.lesson-trophic .analysis-block {
    background: linear-gradient(180deg, #111 0%, #000 100%);
    padding: 35px;
    border: 1px solid #333;
    border-radius: 15px;
}

.lesson-trophic .analysis-block label {
    display: block;
    margin-bottom: 20px;
    font-size: 1.1rem;
}

.lesson-trophic .analysis-block input {
    background: #000;
    border: 1px solid var(--neon-yellow);
    color: var(--neon-yellow);
    padding: 10px;
    width: 100px;
    margin-left: 10px;
}

.lesson-trophic #calcBtn {
    background: var(--neon-yellow);
    color: #000;
    border: none;
    padding: 12px 30px;
    font-family: var(--font-pixel);
    cursor: pointer;
    width: 100%;
    margin-top: 10px;
}

.lesson-trophic .analysis-output {
    margin-top: 25px;
    padding: 20px;
    background: #000;
    border-radius: 8px;
    text-align: center;
    font-size: 1.3rem;
    min-height: 80px;
}

/* ============================================================
   ESTILOS ESPECÍFICOS: RELACIONES ECOLÓGICAS (MASTER)
   Namespace: .lesson-relations
   ============================================================ */

.lesson-relations {
    font-family: var(--font-retro);
    color: var(--text-light);
}

/* --- Encabezados con Estilo de Laboratorio --- */
.lesson-relations .display-4 {
    font-family: var(--font-pixel);
    color: var(--neon-cyan);
    text-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
    text-transform: uppercase;
    letter-spacing: 4px;
}

.lesson-relations h4 {
    color: var(--neon-yellow);
    border-bottom: 2px solid #333;
    padding-bottom: 10px;
    margin-top: 40px;
}

/* --- Tabla de Interacciones --- */
.lesson-relations .table {
    background: #050505;
    border: 1px solid #1a1a2e;
    border-radius: 8px;
    overflow: hidden;
}

.lesson-relations .table th {
    background: #111;
    color: var(--neon-cyan);
    border-bottom: 2px solid var(--neon-cyan);
}

.lesson-relations .table td {
    border-bottom: 1px solid #222;
    vertical-align: middle;
}

/* --- Bloques de Ejemplo Estilizados --- */
.lesson-relations .ejemplo {
    background: rgba(0, 255, 136, 0.05);
    border: 1px solid rgba(0, 255, 136, 0.3);
    border-left: 8px solid #00ff88;
    padding: 25px;
    margin: 25px 0;
    border-radius: 8px;
    position: relative;
}

.lesson-relations .ejemplo strong {
    color: #00ff88;
    text-transform: uppercase;
}

/* --- Diagrama SVG de Red de Relaciones --- */
.lesson-relations .svg-diagram {
    background: #05050a;
    border: 2px solid #1a1a2e;
    border-radius: 20px;
    padding: 20px;
    box-shadow: 0 0 30px rgba(0,0,0,0.9);
    margin: 40px 0;
}

/* --- Simulador de Relaciones --- */
.lesson-relations .relation-sim {
    background: #0f0f15;
    border: 1px solid #333;
    padding: 35px;
    border-radius: 24px;
    margin: 30px 0;
}

.lesson-relations .relation-controls {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    margin-bottom: 30px;
}

.lesson-relations .rel-btn {
    background: #000;
    color: #fff;
    border: 2px solid #444;
    padding: 15px;
    cursor: pointer;
    font-family: var(--font-retro);
    transition: all 0.3s;
    border-radius: 8px;
    font-size: 1rem;
}

.lesson-relations .rel-btn:hover {
    border-color: var(--neon-cyan);
    color: var(--neon-cyan);
    box-shadow: 0 0 15px rgba(0, 255, 255, 0.3);
}

.lesson-relations .sim-output {
    background: #000;
    padding: 25px;
    border: 1px dashed var(--neon-cyan);
    border-radius: 12px;
    min-height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.4rem;
    text-align: center;
}

/* --- Quiz Identificador --- */
.lesson-relations .quiz-block {
    background: #111;
    border: 2px solid var(--neon-magenta);
    padding: 30px;
    border-radius: 15px;
}

.lesson-relations .quiz-option {
    display: block;
    width: 100%;
    background: #000;
    border: 1px solid #333;
    color: #fff;
    padding: 18px;
    margin-bottom: 12px;
    cursor: pointer;
    text-align: center;
    transition: 0.2s;
    font-family: var(--font-retro);
}

.lesson-relations .quiz-option:hover {
    border-color: var(--neon-magenta);
    background: rgba(255, 0, 255, 0.1);
}

.lesson-relations .quiz-feedback {
    margin-top: 20px;
    padding: 15px;
    border-radius: 8px;
    text-align: center;
    font-weight: bold;
}

/* --- Laboratorio de Coevolución --- */
.lesson-relations .coevolution-lab {
    background: #050505;
    border: 3px double #333;
    padding: 40px;
    border-radius: 20px;
    margin: 40px 0;
}

.lesson-relations .coevolution-lab label {
    display: block;
    margin-bottom: 30px;
    font-size: 1.2rem;
    color: var(--neon-yellow);
}

.lesson-relations input[type="range"] {
    width: 100%;
    margin-top: 10px;
    cursor: pointer;
}

.lesson-relations .lab-output {
    background: #000;
    padding: 20px;
    border: 1px solid #444;
    border-radius: 8px;
    text-align: center;
    font-size: 1.3rem;
    color: #fff;
}
/* ============================================================
   ESTILOS ESPECÍFICOS: HOMEOSTASIS (MASTER)
   Namespace: .lesson-homeostasis
   ============================================================ */

.lesson-homeostasis {
    font-family: 'VT323', monospace;
    color: var(--text-light);
    background-color: #050505;
    line-height: 1.4;
}

/* --- Títulos Neón Retro --- */
.lesson-homeostasis h1, 
.lesson-homeostasis h2 {
    font-family: 'Press Start 2P', cursive;
    text-transform: uppercase;
    text-shadow: 3px 3px 0px #000, 0 0 20px var(--neon-cyan);
    color: var(--neon-cyan);
    margin-bottom: 30px;
}

.lesson-homeostasis h2 {
    font-size: 1.5rem;
    color: var(--neon-yellow);
    text-shadow: 0 0 10px var(--neon-yellow);
    border-left: 5px solid var(--neon-yellow);
    padding-left: 15px;
}

/* --- Alertas Estilo "System Warning" --- */
.lesson-homeostasis .alert {
    border-radius: 0;
    border-width: 2px;
    padding: 25px;
    font-size: 1.2rem;
    box-shadow: inset 0 0 15px rgba(0, 255, 0, 0.1);
}

/* --- Tablas de Monitoreo --- */
.lesson-homeostasis .table {
    background: rgba(0, 0, 0, 0.8);
    border: 1px solid #333;
    color: #eee;
}

.lesson-homeostasis .table th {
    background: #111;
    color: var(--neon-cyan);
    font-family: 'Press Start 2P', cursive;
    font-size: 0.7rem;
    border-bottom: 2px solid var(--neon-cyan);
}

/* --- Contenedores de Diagramas SVG --- */
.lesson-homeostasis .svg-diagram {
    background: #000;
    border: 3px solid #222;
    padding: 15px;
    box-shadow: 0 0 40px rgba(0, 255, 204, 0.15);
    border-radius: 8px;
    margin: 20px auto;
    max-width: 1000px;
}

/* --- Bloques Interactivos (Simuladores y Labs) --- */
.lesson-homeostasis .interactive-block {
    position: relative;
    border-radius: 4px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    margin-bottom: 40px;
}

.lesson-homeostasis .interactive-block h4 {
    font-family: 'Press Start 2P', cursive;
    font-size: 0.9rem;
    margin-bottom: 20px;
}

/* --- Inputs y Controles Retro --- */
.lesson-homeostasis input[type="range"] {
    -webkit-appearance: none;
    background: #222;
    height: 10px;
    border: 1px solid var(--neon-green);
}

.lesson-homeostasis input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 20px;
    height: 30px;
    background: var(--neon-green);
    cursor: pointer;
    box-shadow: 0 0 10px var(--neon-green);
}

.lesson-homeostasis .retro-input {
    background: #000;
    color: var(--neon-cyan);
    border: 2px solid var(--neon-cyan);
    padding: 10px;
    font-family: 'VT323', monospace;
    font-size: 1.5rem;
}

/* --- Botones de Acción --- */
.lesson-homeostasis .btn-start,
.lesson-homeostasis .btn-dashboard {
    background: transparent;
    color: var(--neon-green);
    border: 2px solid var(--neon-green);
    font-family: 'Press Start 2P', cursive;
    font-size: 0.8rem;
    padding: 12px 20px;
    transition: 0.3s;
    cursor: pointer;
}

.lesson-homeostasis .btn-start:hover {
    background: var(--neon-green);
    color: #000;
    box-shadow: 0 0 20px var(--neon-green);
}

/* --- Quiz Opciones --- */
.lesson-homeostasis .opciones-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    margin-top: 20px;
}

.lesson-homeostasis .opcion-btn {
    background: #111;
    border: 2px solid #444;
    color: #fff;
    padding: 15px;
    font-family: 'VT323', monospace;
    font-size: 1.3rem;
    cursor: pointer;
}

.lesson-homeostasis .opcion-btn:hover {
    border-color: var(--neon-magenta);
    color: var(--neon-magenta);
}

.lesson-homeostasis .correcta { color: var(--neon-green); text-shadow: 0 0 5px var(--neon-green); }
.lesson-homeostasis .incorrecta { color: var(--neon-red); text-shadow: 0 0 5px var(--neon-red); }

/* --- Conclusión Final --- */
.lesson-homeostasis .alert-success {
    background: #001100;
    border: 3px double var(--neon-green);
    color: #fff;
    text-shadow: 0 0 10px var(--neon-green);
}
/* ============================================================
   AJUSTES: MODO ANÁLISIS (CONECTANCIA)
   ============================================================ */

/* Contenedor de etiquetas e inputs */
.lesson-homeostasis .interactive-block label {
    display: block;
    color: var(--neon-yellow);
    font-family: 'Press Start 2P', cursive;
    font-size: 0.75rem;
    margin-top: 20px;
    margin-bottom: 10px;
    text-transform: uppercase;
}

/* Estilo para los inputs numéricos tipo terminal */
.lesson-homeostasis input[type="number"] {
    background: #000;
    border: 2px solid var(--neon-yellow);
    color: var(--neon-yellow);
    font-family: 'VT323', monospace;
    font-size: 1.8rem;
    padding: 10px 15px;
    width: 100%;
    box-sizing: border-box;
    outline: none;
    box-shadow: inset 0 0 10px rgba(255, 204, 0, 0.2);
}

.lesson-homeostasis input[type="number"]:focus {
    border-color: #fff;
    box-shadow: 0 0 15px var(--neon-yellow);
}

/* Resultado del análisis */
.lesson-homeostasis #connectanceResult {
    background: rgba(0, 255, 0, 0.05);
    border: 1px solid rgba(0, 255, 0, 0.3);
    padding: 20px;
    margin-top: 25px;
    font-family: 'VT323', monospace;
    font-size: 1.6rem;
    min-height: 60px;
    border-radius: 4px;
}

/* Botón específico de Dashboard */
.lesson-homeostasis .btn-dashboard {
    width: 100%;
    margin-top: 25px;
    background: var(--neon-yellow);
    color: #000;
    border: none;
    font-weight: bold;
    cursor: pointer;
}

.lesson-homeostasis .btn-dashboard:hover {
    background: #fff;
    box-shadow: 0 0 25px var(--neon-yellow);
}
/* ============================================================
   ESTILOS ESPECÍFICOS: ENERGÍA Y PRODUCCIÓN (MASTER)
   Namespace: .lesson-energy
   ============================================================ */

.lesson-energy {
    font-family: 'VT323', monospace;
    background-color: #050805; /* Fondo verde oscuro abisal */
    color: #e0ffe0;
}

/* --- Títulos Neón --- */
.lesson-energy h1, .lesson-energy h2 {
    font-family: 'Press Start 2P', cursive;
    color: var(--neon-cyan);
    text-shadow: 0 0 15px rgba(0, 255, 255, 0.6);
    text-transform: uppercase;
    margin-bottom: 1.5rem;
}

.lesson-energy h2 {
    font-size: 1.4rem;
    color: var(--neon-green);
    border-bottom: 2px solid var(--neon-green);
    display: inline-block;
    padding-bottom: 5px;
}

/* --- MathJax Integration --- */
.lesson-energy .mjx-chtml {
    font-size: 1.5rem !important;
    color: var(--neon-yellow) !important;
    text-shadow: 0 0 8px rgba(255, 204, 0, 0.4);
}

/* --- Tablas de Datos Energéticos --- */
.lesson-energy .table {
    background: rgba(0, 20, 0, 0.8);
    border: 2px solid #222;
    color: #fff;
    border-radius: 8px;
    overflow: hidden;
}

.lesson-energy .table-success { background-color: #1b5e20 !important; color: #fff; }
.lesson-energy .table-info { background-color: #01579b !important; color: #fff; }

/* --- Contenedor SVG (Pirámide) --- */
.lesson-energy .svg-diagram {
    background: #000;
    border: 4px solid #1a1a1a;
    box-shadow: 0 0 50px rgba(0, 255, 0, 0.1);
    margin: 40px auto;
    border-radius: 15px;
    max-width: 100%;
}

/* --- Bloques Interactivos Estilo "Terminal" --- */
.lesson-energy .interactive-block {
    background: #0a0a0a;
    border: 2px solid #333;
    border-top: 5px solid var(--neon-blue);
    position: relative;
    box-shadow: 0 10px 20px rgba(0,0,0,0.5);
    transition: transform 0.3s ease;
}

.lesson-energy .interactive-block:hover {
    transform: translateY(-5px);
    border-color: var(--neon-blue);
}

.lesson-energy .interactive-block h4 {
    font-size: 1rem;
    letter-spacing: 2px;
}

/* --- Inputs y Controles --- */
.lesson-energy .retro-input {
    background: #111;
    color: var(--neon-cyan);
    border: 2px solid #444;
    padding: 10px;
    font-family: 'VT323', monospace;
    font-size: 1.4rem;
    transition: 0.3s;
}

.lesson-energy .retro-input:focus {
    border-color: var(--neon-cyan);
    box-shadow: 0 0 15px var(--neon-cyan);
    outline: none;
}

.lesson-energy input[type="range"] {
    accent-color: var(--neon-blue);
    cursor: pointer;
}

/* --- Botones --- */
.lesson-energy .btn-start, 
.lesson-energy .btn-primary {
    background: transparent;
    border: 2px solid var(--neon-green);
    color: var(--neon-green);
    font-family: 'Press Start 2P', cursive;
    font-size: 0.8rem;
    padding: 15px;
    transition: 0.3s;
}

.lesson-energy .btn-start:hover {
    background: var(--neon-green);
    color: #000;
    box-shadow: 0 0 20px var(--neon-green);
}

/* --- Quiz Feedback --- */
.lesson-energy .opcion-btn {
    background: #1a1a1a;
    border: 1px solid #444;
    color: #ccc;
    font-family: 'VT323', monospace;
    font-size: 1.4rem;
    transition: 0.2s;
}

.lesson-energy .opcion-btn:hover:not(:disabled) {
    border-color: var(--neon-magenta);
    color: var(--neon-magenta);
    background: rgba(255, 0, 255, 0.05);
}

.lesson-energy .opcion-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

/* --- Caption --- */
.lesson-energy .caption {
    text-align: center;
    font-size: 1.2rem;
    color: #888;
    margin-top: -20px;
    margin-bottom: 40px;
}
/* ============================================================
   ESTILOS ESPECÍFICOS: HUELLA DE CARBONO (MASTER)
   Namespace: .lesson-carbon
   ============================================================ */

.lesson-carbon {
    font-family: 'VT323', monospace;
    background-color: #0d0d0d;
    color: #e0e0e0;
    line-height: 1.5;
}

/* --- Títulos Estilo "Impacto Global" --- */
.lesson-carbon h3 {
    font-family: 'Press Start 2P', cursive;
    color: var(--neon-red);
    text-shadow: 0 0 20px rgba(255, 51, 51, 0.4);
    margin-bottom: 40px;
}

.lesson-carbon h4 {
    font-family: 'Press Start 2P', cursive;
    font-size: 1.2rem;
    color: var(--neon-cyan);
    border-left: 6px solid var(--neon-cyan);
    padding-left: 20px;
    margin-top: 50px;
    margin-bottom: 30px;
}

/* --- Alertas de Monitoreo --- */
.lesson-carbon .alert-info {
    background: rgba(0, 204, 255, 0.1);
    border: 2px solid var(--neon-blue);
    color: #fff;
    border-radius: 0;
}

.lesson-carbon .alert-success {
    background: #001a00;
    border: 2px solid var(--neon-green);
    color: var(--neon-green);
    box-shadow: 0 0 20px rgba(0, 255, 0, 0.2);
}

/* --- Tablas de Emisiones --- */
.lesson-carbon .table {
    background: #111;
    border: 1px solid #333;
    color: #fff;
    font-size: 1.3rem;
}

.lesson-carbon .table th {
    background: #222;
    color: var(--neon-yellow);
    text-transform: uppercase;
    font-size: 0.9rem;
    font-family: 'Press Start 2P', cursive;
}

/* --- Bloques de Ejemplo (Cálculos) --- */
.lesson-carbon .ejemplo {
    background: #1a1a1a;
    border-right: 5px solid var(--neon-orange);
    padding: 20px;
    margin: 30px 0;
    font-family: 'VT323', monospace;
    box-shadow: 10px 10px 0px rgba(255, 152, 0, 0.1);
}

.lesson-carbon .ejemplo strong {
    color: var(--neon-orange);
}

/* --- Integración MathJax --- */
.lesson-carbon .eq {
    padding: 30px;
    background: #000;
    border: 1px dashed #444;
    margin: 20px 0;
}

.lesson-carbon .mjx-chtml {
    color: var(--neon-cyan) !important;
    font-size: 1.8rem !important;
}

/* --- Contenedores Visuales y Gráficos --- */
.lesson-carbon .visual {
    text-align: center;
    margin: 40px 0;
    padding: 20px;
    background: #000;
    border: 1px solid #222;
}

.lesson-carbon .visual img {
    max-width: 100%;
    height: auto;
    filter: grayscale(20%) contrast(110%);
    border: 2px solid #444;
}

.lesson-carbon .visual p {
    margin-top: 15px;
    color: #888;
    font-style: italic;
}

/* --- SVG Diagrama de Flujo --- */
.lesson-carbon .svg-diagram {
    background: #000;
    border: 4px double #333;
    padding: 10px;
    margin-top: 30px;
    box-shadow: 0 0 40px rgba(0, 255, 255, 0.05);
}

/* --- Listas de Mitigación --- */
.lesson-carbon ul li {
    margin-bottom: 15px;
    position: relative;
    padding-left: 30px;
}

.lesson-carbon ul li::before {
    content: ">>";
    position: absolute;
    left: 0;
    color: var(--neon-green);
    font-weight: bold;
}
/* --- CSS MASTER: HUELLA DE CARBONO --- */
.lesson-carbon {
    background: #050505;
    color: #e0e0e0;
    font-family: 'VT323', monospace;
    padding: 20px;
}

.intro-header h1 {
    font-family: 'Press Start 2P', cursive;
    color: #ff3333;
    text-shadow: 0 0 20px rgba(255, 51, 51, 0.5);
}

.section-title {
    font-family: 'Press Start 2P', cursive;
    font-size: 1.2rem;
    color: #00ffff;
    margin: 40px 0 20px;
    border-bottom: 2px solid #00ffff;
    display: inline-block;
}

.alert-carbon {
    background: #111;
    border: 2px solid #333;
    border-left: 5px solid;
}
.alert-carbon h4 { font-family: 'Press Start 2P', cursive; font-size: 0.9rem; }
.mono-text { font-family: 'Courier New', monospace; color: #00ff00; }

.svg-container {
    background: #000;
    border: 3px solid #1a1a1a;
    border-radius: 10px;
    overflow: hidden;
}

.interactive-block {
    background: #0a0a0a;
    border: 2px solid #222;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
}

.retro-input {
    background: #000;
    border: 2px solid #444;
    color: #00ffff;
    padding: 10px;
    font-size: 1.5rem;
}

.display-huge {
    font-family: 'Press Start 2P', cursive;
    font-size: 4rem;
    color: #ff3333;
    text-shadow: 0 0 15px rgba(255, 51, 51, 0.3);
}

.lab-output {
    font-size: 2rem;
    padding: 20px;
    border: 2px dashed #ff00ff;
    background: rgba(255, 0, 255, 0.05);
}

.btn-quiz {
    display: block;
    width: 100%;
    background: #1a1a1a;
    border: 1px solid #444;
    color: #fff;
    padding: 15px;
    margin-bottom: 10px;
    text-align: left;
    transition: 0.3s;
}

.btn-quiz:hover {
    background: #333;
    border-color: #ffcc00;
    color: #ffcc00;
}

.conclusion-box {
    background: linear-gradient(45deg, #001a00, #000);
    border: 2px solid #00ff00;
    border-radius: 10px;
}
.conclusion-box h3 { font-family: 'Press Start 2P', cursive; color: #00ff00; font-size: 1.2rem; }

/* Colores Semánticos */
.text-cyan { color: #00ffff; }
.text-yellow { color: #ffcc00; }
.text-magenta { color: #ff00ff; }
.val-display { color: #ffcc00; font-weight: bold; }

/* --- CSS ADICIONAL PARA CLIMA MASTER --- */
.climate-master .text-neon-red { color: #ff3333; text-shadow: 0 0 10px rgba(255,51,51,0.5); }
.climate-master .custom-range { height: 15px; border-radius: 5px; background: #333; outline: none; transition: background .2s; }

.tipping-card {
    background: #111;
    border: 1px solid #333;
    padding: 15px;
    transition: all 0.5s ease;
}

.tipping-card.active {
    border-color: #ff3333;
    box-shadow: 0 0 15px rgba(255,51,51,0.4);
    background: #2a0a0a;
}

.tipping-card .status-indicator {
    font-family: 'VT323';
    font-size: 1.2rem;
    margin-top: 10px;
}

.btn-quiz {
    background: #1a1a1a;
    border: 1px solid #00ffff;
    color: #00ffff;
    text-align: left;
    padding: 15px;
}

.btn-quiz:hover {
    background: #00ffff;
    color: #000;
}

/* Estilos específicos para Variabilidad Climática */
.climate-variability .section-title {
    color: var(--neon-blue);
    border-bottom: 2px solid var(--neon-blue);
}

.climate-variability .retro-input {
    border-color: var(--neon-blue);
}

.climate-variability .display-huge {
    color: var(--neon-yellow);
}

.lab-output {
    font-family: 'Press Start 2P';
    font-size: 1.2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;
}
/* --- CSS MASTER HUELLA HÍDRICA --- */
.water-master {
    background: #020b14;
    color: #e0f7ff;
}

.text-blue { color: #00ccff; }
.text-green { color: #00ff00; }
.text-gray { color: #aaaaaa; }

.border-blue { border: 2px solid #00ccff; }
.border-green { border: 2px solid #00ff00; }
.border-gray { border: 2px solid #888; }

.btn-water {
    background: transparent;
    border: 2px solid #ffcc00;
    color: #ffcc00;
    padding: 10px 20px;
    font-family: 'VT323';
    font-size: 1.5rem;
    width: 100%;
    margin-bottom: 10px;
    transition: 0.3s;
}

.btn-water:hover {
    background: #ffcc00;
    color: #000;
    box-shadow: 0 0 15px #ffcc00;
}

.display-huge {
    font-family: 'Press Start 2P';
    font-size: 3rem;
    color: #00ffff;
    text-shadow: 0 0 10px rgba(0,255,255,0.5);
}

.btn-quiz {
    background: #111;
    border: 1px solid #ff00ff;
    color: #fff;
    text-align: left;
    padding: 15px;
}

.btn-quiz:hover {
    background: #ff00ff;
    color: #000;
}

/* --- ESTILOS FOOTPRINT MASTER --- */
.footprint-master .border-neon {
    border: 3px double var(--neon-magenta);
    box-shadow: 0 0 15px rgba(255,0,255,0.3);
}

.footprint-master .retro-input {
    background: #111;
    color: var(--neon-yellow);
    border: 1px solid var(--neon-yellow);
    padding: 10px;
}

.footprint-master .display-4 {
    font-family: 'Press Start 2P';
    font-size: 2.5rem;
}

.table-danger { background-color: rgba(255, 51, 51, 0.2) !important; color: #ff3333; }
.table-success { background-color: rgba(0, 255, 0, 0.2) !important; color: #00ff00; }

/* --- ESTILOS GOLDEN ARROW MASTER --- */
.golden-arrow-master .section-title {
    color: var(--neon-yellow, #ffcc00);
    text-transform: uppercase;
    letter-spacing: 2px;
}

.golden-arrow-master .alert-carbon {
    background: rgba(255, 204, 0, 0.05);
    border: 1px solid var(--neon-yellow, #ffcc00);
}

.btn-quiz {
    background: #111;
    border: 1px solid var(--neon-yellow, #ffcc00);
    color: #fff;
    transition: all 0.3s ease;
    font-weight: 600;
    letter-spacing: 1px;
    position: relative;
    overflow: hidden;
}

.btn-quiz:hover {
    background: var(--neon-yellow, #ffcc00);
    color: #000;
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(255,204,0,0.4);
}

.btn-scenario {
    font-weight: 600 !important;
    letter-spacing: 1px;
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
}

.btn-scenario:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(255,204,0,0.4) !important;
}

.scenario-output {
    background: linear-gradient(135deg, #0a0a0a, #1a1a1a) !important;
    border: 2px dashed #ffcc00 !important;
    transition: all 0.3s ease !important;
}

#quizFeedbackGolden .alert {
    animation: pulse 0.6s ease-in-out;
}

@keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.02); }
}
.perceived-obsolescence-master { color: #e0e0e0; }
.text-magenta { color: #ff00ff; }
.border-pink { border: 2px solid #ff00ff; }
.border-cyan { border: 2px solid #00ffff; }
.border-left-magenta { border-left: 5px solid #ff00ff; }
.counter-card { background: #111; padding: 20px; border-radius: 10px; border: 1px solid #333; height: 100%; }
.btn-quiz-obs { background: transparent; border: 1px solid #ff00ff; color: #ff00ff; transition: 0.3s; }
.btn-quiz-obs:hover { background: #ff00ff; color: #fff; }
.border-dashed-orange { border: 2px dashed #ff9800; }

.planned-obsolescence-master .section-title { text-transform: uppercase; letter-spacing: 2px; margin-top: 40px; }
.border-orange { border: 2px solid #ff9800; }
.border-left-orange { border-left: 5px solid #ff9800; background: rgba(255,152,0,0.05); padding: 15px; }
.bg-panel { background: #1a1a1a; border-radius: 10px; }
.text-orange { color: #ff9800; }

.fast-fashion-master { color: #e0e0e0; }
.text-magenta { color: #ff00ff; }
.text-neon-pink { color: #ff00ff; text-shadow: 0 0 10px #ff00ff; }
.border-pink { border: 2px solid #ff00ff; }
.border-cyan { border: 2px solid #00ffff; }
.border-left-magenta { border-left: 5px solid #ff00ff; background: rgba(255,0,255,0.05); }
.bg-danger-soft { background: rgba(255,0,0,0.1); }
.border-dashed-cyan { border: 1px dashed #00ffff; }

.modern-slavery-master { color: #e0e0e0; }
.text-red { color: #ff3333; }
.text-neon-red { color: #ff3333; text-shadow: 0 0 10px #ff3333; }
.border-red { border: 2px solid #ff3333; }
.border-left-red { border-left: 5px solid #ff3333; background: rgba(255,51,51,0.05); }

/* ========================================
   ESTILOS AVANZADOS: LABORATORIO TEEB & SIM
   ======================================== */

/* Contenedor de Laboratorio con efecto neón */
.lab-teeb-container {
    background: #0d1117;
    border: 1px solid var(--accent-gold);
    box-shadow: 0 0 15px rgba(255, 204, 0, 0.1);
    padding: 25px;
    border-radius: 12px;
    position: relative;
    overflow: hidden;
}

.lab-teeb-container::before {
    content: "BIO-ECONOMY ANALYZER v2.0";
    position: absolute;
    top: 5px;
    right: 15px;
    font-size: 0.6rem;
    color: var(--accent-gold);
    opacity: 0.5;
    letter-spacing: 1px;
}

/* Inputs Estilo Consola */
.form-control-master {
    background: #161b22 !important;
    border: 1px solid #30363d !important;
    color: var(--accent-gold) !important;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    text-align: center;
    transition: all 0.3s ease;
}

.form-control-master:focus {
    border-color: var(--accent-gold) !important;
    box-shadow: 0 0 8px rgba(255, 204, 0, 0.3);
    outline: none;
}

/* Resultado Dinámico con Animación */
#labResult {
    display: inline-block;
    color: var(--accent-gold);
    text-shadow: 0 0 10px rgba(255, 204, 0, 0.5);
    font-family: 'Orbitron', sans-serif;
    letter-spacing: 2px;
    transition: transform 0.2s ease;
}

.value-pulse {
    animation: pulse-gold 0.5s ease-out;
}

@keyframes pulse-gold {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); text-shadow: 0 0 20px rgba(255, 204, 0, 0.8); }
    100% { transform: scale(1); }
}

/* Tooltip de Causalidad */
.causal-link {
    font-size: 0.85rem;
    color: #8b949e;
    margin-top: 10px;
    padding: 10px;
    border-top: 1px dashed #30363d;
}

/* Sliders Personalizados */
.form-range::-webkit-slider-runnable-track {
    background: #30363d;
    height: 6px;
    border-radius: 3px;
}

.form-range::-webkit-slider-thumb {
    background: var(--accent-green);
    border: 2px solid #fff;
    margin-top: -6px;
    box-shadow: 0 0 10px var(--accent-green);
}

/* clase temporal para destacar la lección al volver */
.highlight-return {
  animation: highlight-return 2.5s ease;
  box-shadow: 0 0 0 3px rgba(255, 200, 0, .15);
}
@keyframes highlight-return {
  0% { background-color: rgba(255, 255, 0, .9); }
  40% { background-color: rgba(255, 255, 0, .3); }
  100% { background-color: transparent; }
}

/* ================================
   ANTI-NUTRIENTES · MASTER EXTENSION
   ================================ */

.antx-section{
    background:#0b1224;
    border:1px solid #1e293b;
    border-radius:18px;
    padding:28px;
    margin:40px 0;
    color:#e5e7eb;
}

/* ---------- LAB AVANZADO ---------- */
.antx-lab{
    background:linear-gradient(135deg,#020617,#0f172a);
    border:1px solid #334155;
    border-radius:16px;
    padding:24px;
}

.antx-lab label{
    font-size:.7rem;
    letter-spacing:1px;
    text-transform:uppercase;
    color:#94a3b8;
}

.antx-slider{
    width:100%;
    accent-color:#fbbf24;
}

.antx-stat{
    background:rgba(0,0,0,.4);
    border:1px solid #1e293b;
    border-radius:12px;
    padding:14px;
    text-align:center;
}

.antx-stat span.value{
    display:block;
    font-size:1.4rem;
    font-weight:800;
    color:#fbbf24;
}

/* ---------- ERRORES COMUNES ---------- */
.antx-warning{
    background:#020617;
    border-left:5px solid #ef4444;
    padding:18px;
    border-radius:10px;
    margin:16px 0;
}

.antx-warning strong{
    color:#ef4444;
}

/* ---------- QUIZ PROGRESIVO ---------- */
.antx-quiz{
    background:#020617;
    border:1px solid #334155;
    border-radius:18px;
    padding:24px;
}

.antx-question{
    font-size:1.05rem;
    margin-bottom:16px;
}

.antx-option{
    display:block;
    width:100%;
    text-align:left;
    padding:12px 16px;
    margin-bottom:10px;
    background:#020617;
    border:1px solid #334155;
    border-radius:12px;
    color:#e5e7eb;
    cursor:pointer;
    transition:.3s;
}

.antx-option:hover{
    background:#1e293b;
}

.antx-option.correct{
    background:#16a34a;
    color:#000;
}

.antx-option.incorrect{
    background:#dc2626;
    color:#000;
}

.antx-progress{
    font-size:.75rem;
    color:#94a3b8;
    margin-top:10px;
    text-align:right;
}

/* =========================================
   RETRO SCIENTIFIC EXTENSIONS – METODO
   ========================================= */

.ms-decision,
.ms-error,
.ms-q1,
.ms-exam,
.ms-meta {
    border:2px solid var(--neon-cyan);
    background:#000;
    padding:18px;
    margin:28px 0;
    box-shadow:0 0 15px rgba(0,255,255,.25);
}

.ms-title {
    font-family:"Press Start 2P";
    font-size:.7rem;
    color:var(--neon-pink);
    margin-bottom:12px;
}

.ms-btn {
    display:block;
    width:100%;
    margin:8px 0;
    padding:10px;
    background:#000;
    border:2px solid var(--neon-cyan);
    color:var(--neon-cyan);
    font-family:"Press Start 2P";
    font-size:.55rem;
}

.ms-btn:hover {
    background:var(--neon-cyan);
    color:#000;
    cursor:pointer;
}

.ms-feedback {
    margin-top:10px;
    font-size:1.2rem;
}

.ms-ok { color:var(--ok); }
.ms-bad { color:var(--error); }

.ms-tag {
    display:inline-block;
    border:1px solid var(--neon-green);
    padding:4px 8px;
    font-size:.6rem;
    margin:4px;
    color:var(--neon-green);
}
@import url("https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&display=swap");

.atomic-terminal {
    background-color: #0a0a0f;
    color: #39ff14;
    font-family: "VT323", monospace;
    padding: 25px;
    border: 3px solid #39ff14;
    box-shadow: 0 0 15px #39ff14;
    font-size: 1.3rem;
    position: relative;
}

.atomic-terminal h3, .atomic-terminal h4, .atomic-terminal h5 {
    font-family: "Press Start 2P", cursive;
    color: #ff00ff;
    text-transform: uppercase;
    text-shadow: 2px 2px #000;
    margin-top: 35px;
    font-size: 1rem;
    border-bottom: 2px dashed #ff00ff;
    padding-bottom: 10px;
}

.terminal-window {
    border: 1px solid #00ffff;
    background: rgba(0,0,0,0.9);
    padding: 15px;
    margin: 20px 0;
    position: relative;
}

.terminal-window::before {
    content: "[ ATOMIC_OS_v3.0 ]";
    position: absolute;
    top: -10px;
    left: 15px;
    background: #0a0a0f;
    color: #00ffff;
    font-size: 0.7rem;
    padding: 0 5px;
}

.retro-table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
    border: 1px solid #00ffff;
    font-size: 1.1rem;
}
.retro-table th {
    background: #00ffff;
    color: #000;
    padding: 8px;
    font-family: "Press Start 2P", cursive;
    font-size: 0.6rem;
}
.retro-table td {
    border: 1px solid rgba(0,255,255,0.3);
    padding: 8px;
}

.highlight { color: #ff00ff; font-weight: bold; }
.data { color: #00ffff; }

.svg-container {
    background: #000;
    border: 2px solid #ff00ff;
    margin: 30px 0;
    padding: 10px;
    box-shadow: 0 0 20px rgba(255,0,255,0.2);
}

.math-block {
    background: rgba(57,255,20,0.05);
    padding: 15px;
    border-left: 4px solid #39ff14;
    margin: 20px 0;
    text-align: center;
}

.scanline {
    position: absolute;
    top:0; left:0; width:100%; height:2px;
    background: rgba(57,255,20,0.1);
    animation: scanline 8s linear infinite;
    pointer-events:none;
}

@keyframes scanline {
    0% { transform: translateY(-100%); }
    100% { transform: translateY(100%); }
}

.quiz-btn {
    font-family: "Press Start 2P", monospace;
    margin: 5px;
    padding: 10px 15px;
    border: 2px solid #00ffff;
    color: #00ffff;
    background: transparent;
    cursor: pointer;
    transition: 0.3s;
}
.quiz-btn:hover { background: rgba(0,255,255,0.1); }
.quiz-btn.correct { background: #0f0; color:#000; border-color: #0f0; }
.quiz-btn.incorrect { background: #f00; color:#000; border-color: #f00; }
/* ====== Estilos únicos para los simuladores ====== */
.simulator-section {
    background-color: #0a0a0a;
    padding: 20px;
    border: 2px solid #00ffff;
    border-radius: 12px;
    font-family: 'VT323', monospace;
    color: #00ffff;
    margin-bottom: 30px;
}

.simulator-section h4 {
    color: #ff00ff;
    font-size: 1.5em;
    margin-bottom: 15px;
    text-shadow: 0 0 5px #ff00ff;
}

.simulator-section h5 {
    color: #39ff14;
    margin-top: 15px;
    margin-bottom: 5px;
    text-shadow: 0 0 4px #39ff14;
}

.simulator-section label {
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
    color: #00ffff;
}

.simulator-section input[type="range"] {
    width: 100%;
    margin-bottom: 10px;
    accent-color: #ff00ff;
}

.simulator-section input[type="number"] {
    width: 60px;
    padding: 4px;
    border-radius: 6px;
    border: 1px solid #39ff14;
    background-color: #0a0a0a;
    color: #39ff14;
    text-align: center;
    font-family: 'VT323', monospace;
}

.simulator-section select {
    padding: 5px;
    border-radius: 6px;
    border: 1px solid #39ff14;
    background-color: #0a0a0a;
    color: #39ff14;
    font-family: 'VT323', monospace;
}

.simulator-section div {
    margin-top: 5px;
    font-size: 1em;
    color: #ff00ff;
    text-shadow: 0 0 2px #ff00ff;
}

/* Animación suave para feedback */
.simulator-section div span {
    transition: all 0.3s ease;
}

/* ========================================
   INGLÉS B1 - FUTURE / CONVERSATION STYLES
   ======================================== */

/* ===== GLOBAL ===== */
.lesson-page-wrapper, .lesson-container {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(120deg,#0a0020,#000010);
    color: #fff;
    padding: 20px;
    line-height: 1.5;
}

h1,h2,h3,h4 {
    font-family: 'Orbitron', sans-serif;
    font-weight: bold;
    text-shadow: 0 0 6px #0ff, 0 0 12px #0ff;
}

hr.separator, hr.neon-separator {
    border: none;
    height: 2px;
    background: linear-gradient(to right, #ff00ff, #00ffff);
    margin: 20px 0;
    box-shadow: 0 0 8px #ff00ff, 0 0 12px #00ffff;
}

/* ===== BANNERS ===== */
.lesson-banner {
    text-align: center;
    padding: 30px;
    background: #0a0020;
    border-radius: 16px;
    box-shadow: 0 0 20px rgba(0,255,255,0.4);
}

.banner-content h1 {
    font-size: 42px;
    margin-bottom: 8px;
    color: #00ffff;
    text-shadow: 0 0 10px #00ffff;
}

.banner-subtitle {
    font-size: 20px;
    color: #ff00ff;
    text-shadow: 0 0 8px #ff00ff;
}

.banner-stats {
    display: flex;
    justify-content: center;
    gap: 25px;
    margin-top: 20px;
}

.banner-stats .stat {
    text-align: center;
    padding: 10px 20px;
    border-radius: 12px;
    background: rgba(255,255,255,0.05);
    box-shadow: 0 0 12px rgba(0,255,255,0.4);
}

.banner-stats .stat-number {
    font-size: 28px;
    color: #0ff;
    display: block;
}

.banner-stats .stat-label {
    font-size: 14px;
    color: #fff;
}

/* ===== PROGRESS BAR ===== */
.progress-container {
    margin: 20px 0;
}

.progress-bar {
    width: 100%;
    height: 18px;
    background: rgba(255,255,255,0.1);
    border-radius: 12px;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    width: 0%;
    background: linear-gradient(90deg, #ff00ff, #00ffff);
    box-shadow: 0 0 10px #ff00ff, 0 0 20px #00ffff;
    border-radius: 12px;
    transition: width 0.4s ease-in-out;
}

.progress-text {
    text-align: center;
    margin-top: 5px;
    font-weight: bold;
    color: #0ff;
}

/* ===== SECTION CARDS ===== */
.section-card {
    padding: 20px;
    border-radius: 16px;
    margin: 20px 0;
    background: rgba(0,0,0,0.3);
    box-shadow: 0 0 12px rgba(0,255,255,0.3);
}

.section-card h2 {
    font-size: 28px;
    color: #ff00ff;
    margin-bottom: 10px;
}

.section-card p {
    font-size: 16px;
    color: #fff;
}

/* Background Variants */
.bg-green-chat { background: rgba(0,128,128,0.2); }
.bg-orange-voice { background: rgba(255,140,0,0.2); }
.bg-blue-fillers { background: rgba(0,0,255,0.2); }
.bg-purple-example { background: rgba(128,0,128,0.2); }

/* ===== CHAT ===== */
.chat-display {
    max-height: 300px;
    overflow-y: auto;
    background: rgba(0,0,0,0.2);
    padding: 15px;
    border-radius: 12px;
    box-shadow: 0 0 10px #0ff inset;
}

.chat-bubble {
    padding: 10px 15px;
    margin: 8px 0;
    border-radius: 20px;
    max-width: 75%;
    position: relative;
    display: inline-block;
    box-shadow: 0 0 8px rgba(0,255,255,0.3);
}

.chat-bubble.user {
    background: #ff00ff;
    color: #fff;
    align-self: flex-end;
    float: right;
}

.chat-bubble.ai {
    background: #00ffff;
    color: #0a0020;
    align-self: flex-start;
    float: left;
}

.bubble-speak-btn {
    background: rgba(255,255,255,0.1);
    border: none;
    margin-right: 6px;
    border-radius: 50%;
    cursor: pointer;
    padding: 5px;
    transition: 0.2s;
}

.bubble-speak-btn:hover { transform: scale(1.2); }

/* ===== CHAT INPUTS ===== */
.chat-input-area {
    display: flex;
    gap: 10px;
    margin-top: 10px;
}

.chat-input {
    flex: 1;
    padding: 12px 15px;
    border-radius: 50px;
    border: none;
    font-size: 16px;
    outline: none;
    background: rgba(255,255,255,0.1);
    color: #fff;
}

.btn-send, .btn-clear-chat {
    padding: 12px 20px;
    border-radius: 50px;
    border: none;
    cursor: pointer;
    font-weight: bold;
    color: #fff;
    background: linear-gradient(45deg,#ff00ff,#00ffff);
    box-shadow: 0 0 12px #ff00ff,0 0 20px #00ffff;
    transition: 0.3s;
}

.btn-send:hover, .btn-clear-chat:hover {
    transform: scale(1.05);
}

/* ===== BUTTONS ===== */
button, .btn-prediction, .btn-interview, .btn-sample, .topic-chip, .filler-btn, .speak-mini-btn, .btn-play-all {
    cursor: pointer;
    font-family: 'Segoe UI', sans-serif;
    font-weight: bold;
    color: #fff;
    border: none;
    border-radius: 50px;
    padding: 12px 20px;
    margin: 5px;
    transition: 0.3s;
    text-shadow: 0 0 4px #fff;
}

button:hover, .btn-prediction:hover, .btn-interview:hover, .btn-sample:hover, .topic-chip:hover, .filler-btn:hover, .speak-mini-btn:hover, .btn-play-all:hover {
    transform: scale(1.1);
    box-shadow: 0 0 12px #ff00ff,0 0 20px #00ffff;
}

.btn-prediction.neon-glow {
    background: linear-gradient(45deg,#ff00ff,#00ffff);
    box-shadow: 0 0 15px #ff00ff, 0 0 25px #00ffff;
}

/* ===== VOICE RECORDER ===== */
.voice-controls button {
    background: linear-gradient(45deg,#ff0080,#00ffff);
    box-shadow: 0 0 10px #ff00ff,0 0 20px #00ffff;
    margin-right: 10px;
}

.voice-controls button:disabled {
    background: rgba(255,255,255,0.2);
    box-shadow: none;
    cursor: not-allowed;
}

.recording-wave {
    display: flex;
    gap: 3px;
    margin: 10px 0;
}

.wave-bar {
    width: 6px;
    height: 20px;
    background: #0ff;
    animation: wave 1s infinite;
}

.wave-bar:nth-child(2) { animation-delay: 0.1s; }
.wave-bar:nth-child(3) { animation-delay: 0.2s; }
.wave-bar:nth-child(4) { animation-delay: 0.3s; }
.wave-bar:nth-child(5) { animation-delay: 0.4s; }

@keyframes wave {
    0%,100% {height: 20px;}
    50% {height: 40px; background:#ff00ff;}
}

/* ===== FILLERS ===== */
.filler-btn, .topic-chip {
    background: linear-gradient(45deg,#ff00ff,#00ffff);
    box-shadow: 0 0 10px #ff00ff,0 0 15px #00ffff;
    color: #fff;
}

.filler-display {
    margin-top: 10px;
    padding: 12px;
    background: rgba(0,0,0,0.2);
    border-radius: 12px;
}

.filler-highlight {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px;
    background: rgba(0,255,255,0.1);
    border-radius: 12px;
    margin-bottom: 5px;
}

.repeat-btn {
    background: #ff00ff;
    padding: 6px 12px;
    border-radius: 50px;
    color: #fff;
    font-weight: bold;
}

/* ===== CRYSTAL BALL ===== */
.crystal-ball {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    background: radial-gradient(circle at 30% 30%,#00ffff,#0a0020);
    box-shadow: 0 0 25px #0ff, 0 0 50px #ff00ff inset;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    margin: auto;
    position: relative;
    overflow: hidden;
}

.crystal-glow {
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: radial-gradient(circle, #ff00ff, transparent);
    animation: glow 2s infinite alternate;
}

@keyframes glow {
    0% { transform: scale(1); opacity:0.5; }
    100% { transform: scale(1.2); opacity:1; }
}

.predictions-grid {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 10px;
    margin-top: 15px;
}

.prediction-output {
    margin-top: 20px;
    padding: 15px;
    text-align: center;
    font-weight: bold;
    background: rgba(0,0,0,0.3);
    border-radius: 12px;
    color: #0ff;
}

/* ===== FINAL MESSAGE ===== */
.final-message {
    text-align: center;
    margin-top: 20px;
}

.rainbow-text {
    background: linear-gradient(90deg, #ff00ff, #ff0, #0f0, #0ff, #00f, #f0f);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    font-weight: bold;
    font-size: 20px;
}

/* ===== SVG TIMELINES ===== */
.timeline-svg svg, .visual-diagram svg {
    width: 100%;
    height: auto;
    border-radius: 12px;
}

/* ===== ANIMATIONS ===== */
@keyframes pulse {
    0% { transform: scale(1); box-shadow: 0 0 10px #ff00ff,0 0 20px #00ffff; }
    50% { transform: scale(1.1); box-shadow: 0 0 20px #ff00ff,0 0 40px #00ffff; }
    100% { transform: scale(1); box-shadow: 0 0 10px #ff00ff,0 0 20px #00ffff; }
}
/* =============================================
   LC-ADVANCE ENGLISH LESSONS 2025 - CUSTOM CSS
   Prefix: lc-adv-
   ============================================= */

/* ---------------- GENERAL ---------------- */
.lc-adv-lesson-page-wrapper {
    font-family: 'Courier New', monospace;
    background: #0a0010;
    color: #fff;
    line-height: 1.5;
}

.lc-adv-section-card {
    background: #1a001f;
    border-radius: 12px;
    padding: 24px;
    margin-bottom: 30px;
    box-shadow: 0 0 15px rgba(255, 0, 255, 0.3);
    border: 2px solid #ff00ff;
}

.lc-adv-section-card h4 {
    font-family: 'Courier New', monospace;
    color: #00ffcc;
    margin-bottom: 16px;
}

/* ---------------- MENU INTERACTIVO ---------------- */
.lc-adv-menu-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 16px;
}

.lc-adv-menu-item button {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    font-family: 'Courier New', monospace;
    font-size: 16px;
    padding: 12px;
    border: 2px solid #ff00ff;
    border-radius: 10px;
    background: #120022;
    color: #fff;
    cursor: pointer;
    transition: all 0.3s ease;
}

.lc-adv-menu-item button:hover,
.lc-adv-menu-item button.active {
    background: #ff00ff;
    color: #000;
    transform: scale(1.05);
}

.lc-adv-menu-item .item-details {
    text-align: center;
    margin-top: 6px;
    font-size: 14px;
    color: #ccc;
}

/* Food type colors */
.lc-adv-food-type-main { border-color: #ff0066; }
.lc-adv-food-type-side { border-color: #00ffff; }
.lc-adv-food-type-drink { border-color: #ffcc00; }
.lc-adv-food-type-dessert { border-color: #ff8800; }

/* ---------------- FRASES DE COMPRA ---------------- */
.lc-adv-phrase-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    justify-content: center;
}

.lc-adv-phrase-btn {
    padding: 10px 14px;
    font-size: 14px;
    border-radius: 8px;
    border: none;
    cursor: pointer;
    transition: all 0.25s;
    font-family: 'Courier New', monospace;
}

.lc-adv-phrase-btn:hover { transform: scale(1.05); }

.btn-green { background: #00ff66; color: #000; }
.btn-blue { background: #00ccff; color: #000; }
.btn-orange { background: #ff8800; color: #000; }
.btn-purple { background: #cc00ff; color: #fff; }

/* ---------------- DIALOGUE AREA ---------------- */
.lc-adv-dialogue-area {
    background: #000000aa;
    border-radius: 12px;
    padding: 12px;
    min-height: 80px;
    margin-top: 16px;
    position: relative;
}

.lc-adv-dialogue-bubble {
    max-width: 70%;
    padding: 10px 14px;
    border-radius: 12px;
    margin-bottom: 6px;
    font-size: 14px;
}

.lc-adv-dialogue-bubble.left {
    background: #330066;
    color: #fff;
    align-self: flex-start;
}

.lc-adv-dialogue-bubble.right {
    background: #ff00ff;
    color: #000;
    align-self: flex-end;
}

/* ---------------- QUIZ ---------------- */
.lc-adv-quiz-question {
    margin-bottom: 20px;
}

.lc-adv-options-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
}

.lc-adv-option-btn {
    padding: 10px 14px;
    border-radius: 8px;
    border: 2px solid #ff00ff;
    background: #1a001f;
    color: #fff;
    cursor: pointer;
    transition: all 0.25s;
}

.lc-adv-option-btn:hover { transform: scale(1.05); }

.lc-adv-option-btn.correct { background: #00ff66; color: #000; border-color: #00ff66; }
.lc-adv-option-btn.incorrect { background: #ff0066; color: #fff; border-color: #ff0066; }
.lc-adv-option-btn.incorrect-disabled { opacity: 0.4; pointer-events: none; }

/* ---------------- NOTIFICACIONES ---------------- */
.lc-adv-notification-item {
    padding: 12px 16px;
    border-radius: 8px;
    margin-bottom: 8px;
    font-family: 'Courier New', monospace;
    font-size: 14px;
    transition: all 0.3s ease;
}

.lc-adv-feedback-success { background: #00ff66; color: #000; }
.lc-adv-feedback-info { background: #00ccff; color: #000; }
.lc-adv-feedback-warning { background: #ff8800; color: #000; }
.lc-adv-feedback-error { background: #ff0066; color: #fff; }

/* ---------------- PAST SIMPLE - VERBOS ---------------- */
.lc-adv-past-simple-container {
    background: #0a0020;
    border: 3px solid #ff00ff;
    border-radius: 12px;
    padding: 30px;
    margin-bottom: 30px;
    color: #fff;
}

.lc-adv-irregular-verbs-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 12px;
}

.lc-adv-btn-irregular {
    padding: 10px;
    border-radius: 10px;
    border: 2px solid #ff00ff;
    background: #120022;
    color: #fff;
    cursor: pointer;
    transition: all 0.3s;
    font-family: 'Courier New', monospace;
}

.lc-adv-btn-irregular:hover,
.lc-adv-btn-irregular.revealed { 
    background: #ff00ff; 
    color: #000;
}

/* ---------------- STORY BUILDER ---------------- */
.lc-adv-story-builder { 
    background: #1a001f; 
    border-radius: 12px; 
    padding: 20px; 
}

.lc-adv-btn-story {
    margin: 6px; 
    padding: 8px 12px; 
    border-radius: 8px; 
    border: 2px solid #ff00ff; 
    background: #120022; 
    color: #fff; 
    cursor: pointer;
}

.lc-adv-btn-story:hover { 
    transform: scale(1.05); 
}

.lc-adv-story-controls button {
    margin: 6px;
    padding: 10px 14px;
    border-radius: 8px;
    border: 2px solid #ff00ff;
    background: #00ffcc;
    color: #000;
    cursor: pointer;
}

.lc-adv-story-output {
    margin-top: 12px;
    padding: 10px;
    border-radius: 10px;
    background: #000000aa;
    min-height: 60px;
    font-family: 'Courier New', monospace;
    font-size: 14px;
    color: #fff;
}
/* lessons.css - Estilos exclusivos para las lecciones (LC-ADVANCE) */
:root {
  --ls-accent-1: #00ffb3;   /* verde neón */
  --ls-accent-2: #00ccff;   /* cyan */
  --ls-warm:    #ffcc00;    /* amarillo */
  --ls-bg-card: rgba(255,255,255,0.03);
  --ls-card-border: rgba(0,255,179,0.12);
  --ls-glow: 0 6px 28px rgba(0,204,255,0.08);
  --ls-radius: 12px;
  --ls-ease: cubic-bezier(.16,.8,.27,1);
}

/* Banner de lección */
.lesson-banner {
  background: linear-gradient(90deg, rgba(0,255,179,0.04), rgba(0,204,255,0.03));
  border: 2px solid var(--ls-card-border);
  border-radius: calc(var(--ls-radius) + 6px);
  padding: 22px;
  display:flex;
  gap:20px;
  align-items:center;
  justify-content:space-between;
  box-shadow: var(--ls-glow);
  margin-bottom: 20px;
}
.lesson-banner .banner-content h1 {
  font-family: "Press Start 2P", monospace;
  color: var(--ls-warm);
  font-size: 20px;
  margin-bottom: 6px;
}
.lesson-banner .banner-stats { display:flex; gap:12px; align-items:center; }

/* Barra de progreso distintiva */
.progress-container {
  margin: 14px 0 22px;
}
.progress-container .progress-bar {
  background: linear-gradient(90deg, rgba(255,255,255,0.03), rgba(0,0,0,0.02));
  border: 2px solid rgba(255,255,255,0.02);
  border-radius: 999px;
  padding: 3px;
}
.progress-container .progress-fill {
  height: 12px;
  border-radius: 999px;
  background: linear-gradient(90deg, var(--ls-accent-1), var(--ls-accent-2));
  box-shadow: 0 6px 18px rgba(0,255,179,0.075);
  transition: width 520ms var(--ls-ease);
}

/* Secciones y tarjetas de lección */
.section-card {
  background: var(--ls-bg-card);
  border: 1px solid rgba(255,255,255,0.03);
  border-left: 6px solid rgba(0,255,179,0.06);
  padding: 18px;
  margin-bottom: 18px;
  border-radius: var(--ls-radius);
  box-shadow: 0 8px 20px rgba(0,0,0,0.45);
  transition: transform 220ms var(--ls-ease), box-shadow 220ms var(--ls-ease);
}
.section-card:hover { transform: translateY(-6px); box-shadow: 0 18px 40px rgba(0,0,0,0.6); }
.section-header h2 { color: var(--ls-accent-2); font-family: var(--font-pixel); }

/* Tarjetas de vocab / objetos */
.card {
  display:flex;
  align-items:center;
  gap:12px;
  padding: 10px 12px;
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.02));
  border-radius: 10px;
  border: 2px solid rgba(255,255,255,0.02);
  transition: transform 200ms var(--ls-ease), box-shadow 200ms;
}
.family-card .card-icon, .object-card .object-emoji {
  width:56px;height:56px;border-radius:10px;
  display:flex;align-items:center;justify-content:center;
  font-size:26px;background: linear-gradient(180deg, rgba(0,255,179,0.06), rgba(0,204,255,0.03));
  border: 2px solid rgba(0,255,179,0.08);
}
.card:hover { transform: translateY(-6px); box-shadow: 0 14px 32px rgba(0,204,255,0.06); }

/* Acción en tarjeta */
.card-actions { margin-left:auto; display:flex; gap:6px; }
.action-btn {
  background: rgba(0,0,0,0.6);
  border: 2px solid rgba(255,255,255,0.03);
  color: var(--ls-accent-1);
  padding:8px; width:36px;height:36px;border-radius:8px;
  cursor:pointer; transition: transform 160ms var(--ls-ease);
}
.action-btn:hover { transform: translateY(-4px); color:#000; background: linear-gradient(90deg,var(--ls-accent-1),var(--ls-accent-2)); }

/* Voice simulator highlight */
.speaking { box-shadow: 0 0 20px rgba(0,255,179,0.18) !important; transform: scale(1.03); }

/* Quiz panel: tarjetas táctiles y accesibles */
.quiz-panel { border-radius: 14px; padding: 12px; }
.quiz-option-btn {
  display:block;
  width:100%;
  text-align:left;
  padding:12px 14px;
  margin:10px 0;
  background: rgba(17,17,17,0.75);
  color: var(--text-light);
  border: 2px solid rgba(255,255,255,0.03);
  border-left: 6px solid rgba(0,204,255,0.06);
  border-radius: 10px;
  transition: background 180ms var(--ls-ease), transform 120ms var(--ls-ease);
  cursor:pointer;
}
.quiz-option-btn:hover { transform: translateY(-3px); background: linear-gradient(90deg, rgba(0,255,179,0.04), rgba(0,204,255,0.04)); }
.quiz-option-btn.selected { background: linear-gradient(90deg, var(--ls-accent-1), var(--ls-accent-2)); color:#000; border-left-color: var(--ls-accent-1); box-shadow: 0 8px 20px rgba(0,255,179,0.06); }
.quiz-option-btn:focus { outline: 3px solid rgba(0,255,179,0.12); outline-offset: 3px; }

/* Resultado y micro-animaciones */
.quiz-result { text-align:center; padding:18px; }
.quiz-result h4 { color: var(--ls-accent-2); }
.btn-primary { background: linear-gradient(90deg,var(--ls-accent-2),var(--ls-accent-1)); border-color: rgba(0,255,179,0.12); color:#000; }

/* Clase para cuando volvemos desde dashboard (resaltado breve) */
.highlight-return {
  animation: lesson-highlight 2.8s ease forwards;
  box-shadow: 0 12px 32px rgba(0,204,255,0.08);
}
@keyframes lesson-highlight {
  0% { background: rgba(255,255,0,0.95); transform: scale(1.01); }
  40%{ background: rgba(255,255,0,0.25); transform: scale(1.0); }
  100% { background: transparent; }
}

/* Responsive: comprimido en móviles */
@media (max-width: 900px) {
  .lesson-banner { flex-direction: column; gap:12px; align-items:flex-start; }
  .card { flex-direction:row; gap:10px; }
  .quiz-option-btn { font-size: 16px; padding: 14px; }
}
/* lessons.css - Estilos exclusivos LC-ADVANCE (Menus, Chat, Voice, Crystal) */
:root{
  --accent-1: #00ffb3;   /* neon green */
  --accent-2: #00ccff;   /* cyan */
  --accent-3: #ff66cc;   /* pink */
  --warm: #ffcc00;
  --card-bg: rgba(20,20,20,0.6);
  --glass: rgba(255,255,255,0.03);
  --radius: 12px;
  --ease: cubic-bezier(.16,.8,.27,1);
}

/* ---------- MENU INTERACTIVO ---------- */
.menu-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px,1fr));
  gap: 14px;
}
.menu-item {
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.05));
  border: 2px solid rgba(255,255,255,0.04);
  border-radius: var(--radius);
  padding: 12px;
  display:flex;
  gap:12px;
  align-items:center;
  transition: transform .18s var(--ease), box-shadow .18s var(--ease);
}
.menu-item button {
  background: transparent;
  border: none;
  font-size: 20px;
  cursor: pointer;
  display:inline-block;
  text-align:left;
  padding:8px;
  color: var(--accent-1);
  transition: transform .12s ease, color .12s ease;
}
.menu-item button .block{display:block;font-size:13px;color:var(--accent-2);}
.menu-item .item-details { margin-left:auto; text-align:right; font-size:13px; color:#ddd; }
.menu-item:hover { transform: translateY(-6px); box-shadow: 0 14px 36px rgba(0,204,255,0.06); }
.menu-item button:active { transform: translateY(2px) scale(.99); }
.menu-item button.active { background: linear-gradient(90deg,var(--accent-2),var(--accent-1)); color:#000; border-radius:8px; padding:6px 8px; }

/* food-type badges */
.food-type-main { border-left: 6px solid rgba(0,255,179,0.08); }
.food-type-drink { border-left: 6px solid rgba(0,204,255,0.06); }
.food-type-side { border-left: 6px solid rgba(255,204,0,0.06); }
.food-type-dessert { border-left: 6px solid rgba(255,102,204,0.06); }

/* ---------- DIALOGUE AREA (burbujas) ---------- */
.dialogue-area {
  background: linear-gradient(180deg, rgba(0,0,0,0.5), rgba(0,0,0,0.6));
  border-radius: 12px;
  padding: 14px;
  min-height: 120px;
  position: relative;
  color: #fff;
  overflow: hidden;
}
.initial-message { color: #cfd8dc; font-weight:600; text-align:center; display:block; padding:18px 0; }
.dialogue-bubble {
  max-width: 76%;
  padding: 10px 14px;
  border-radius: 14px;
  margin: 8px 0;
  display:inline-block;
  line-height:1.3;
  box-shadow: 0 8px 18px rgba(0,0,0,0.5);
}
.dialogue-bubble.left {
  background: linear-gradient(180deg,#071822,#072433);
  border: 2px solid rgba(0,255,179,0.06);
  color: var(--accent-1);
  margin-right: auto;
}
.dialogue-bubble.right {
  background: linear-gradient(180deg,#08121f,#09172a);
  border: 2px solid rgba(0,204,255,0.06);
  color: var(--accent-2);
  margin-left: auto;
}

/* small speak button inside dialogues */
.small-speak-btn {
  background: transparent;
  border: 2px solid rgba(255,255,255,0.04);
  padding:6px 8px;
  border-radius:8px;
  margin-right:8px;
  color:#fff;
  cursor:pointer;
  transition:all .12s var(--ease);
}
.small-speak-btn:hover { transform: translateY(-2px); background: rgba(255,255,255,0.03); }

/* ---------- PHRASE / PLAY BUTTONS ---------- */
.phrase-btn { padding: 10px 14px; border-radius: 999px; font-weight:700; cursor:pointer; border: none; box-shadow: 0 8px 18px rgba(0,0,0,0.45); transition: transform .12s var(--ease); }
.phrase-btn:hover { transform: translateY(-4px); }
.btn-green{ background: linear-gradient(90deg,var(--accent-1), #7BFFDE); color:#002; }
.btn-blue{ background: linear-gradient(90deg,var(--accent-2), #00e5ff); color:#002; }
.btn-orange{ background: linear-gradient(90deg,var(--warm), #ffd54a); color:#002; }
.btn-purple{ background: linear-gradient(90deg,var(--accent-3), #ff7bd2); color:#002; }

/* example dialogue box */
.example-dialogue { background: #0b1214; border:2px solid rgba(255,255,255,0.03); }

/* ---------- CRYSTAL BALL / PREDICTIONS ---------- */
.crystal-ball-section { display:flex; gap:18px; align-items:center; flex-wrap:wrap; justify-content:center; }
.crystal-wrapper { width:220px; height:220px; display:flex; align-items:center; justify-content:center; }
.crystal-ball {
  width: 180px; height:180px; border-radius:50%;
  background: radial-gradient(circle at 30% 20%, rgba(0,255,255,0.14), rgba(0,0,0,0.5));
  border: 6px solid rgba(255,255,255,0.03);
  position:relative; display:flex; align-items:center; justify-content:center; cursor:pointer;
  box-shadow: 0 18px 44px rgba(0,255,200,0.06), 0 6px 14px rgba(255,255,255,0.02) inset;
}
.crystal-glow { position:absolute; inset:0; border-radius:inherit; pointer-events:none; }
@keyframes pulse { 0%{ transform: scale(1); filter:brightness(1); } 50%{ transform: scale(1.03); filter:brightness(1.08);} 100%{ transform:scale(1); filter:brightness(1); } }
.crystal-ball.pulse{ animation: pulse 1.5s infinite; }
.crystal-text { color:#cfefff; font-weight:700; text-align:center; padding:12px; }

/* predictions grid */
.predictions-grid { display:flex; gap:8px; flex-wrap:wrap; justify-content:center; }
.btn-prediction {
  padding:8px 12px; border-radius:10px; border:2px solid rgba(255,255,255,0.03); background:linear-gradient(90deg, rgba(0,255,179,0.04), rgba(0,204,255,0.04)); color:#fff; cursor:pointer;
  transition: transform .12s var(--ease), box-shadow .12s var(--ease);
}
.btn-prediction:hover{ transform: translateY(-4px); box-shadow: 0 10px 24px rgba(0,204,255,0.06); }

/* prediction result */
.prediction-output { min-height:72px; padding:12px; border-radius:10px; background:linear-gradient(180deg, rgba(0,0,0,0.45), rgba(255,255,255,0.01)); border:2px solid rgba(255,255,255,0.03); color:#e8faff; }

/* ---------- VOICE RECORDER ---------- */
.voice-controls { display:flex; gap:10px; flex-wrap:wrap; }
.btn-record, .btn-play, .btn-download { padding:12px 16px; border-radius:10px; cursor:pointer; border:none; color:#fff; background:linear-gradient(90deg,var(--accent-3),var(--accent-2)); box-shadow: 0 10px 24px rgba(0,0,0,0.45); }
.btn-record.recording { background: linear-gradient(90deg,#ff4d4d,#ff9966); box-shadow: 0 10px 30px rgba(255,80,80,0.18); transform: translateY(-2px); }

/* recording wave */
.recording-wave { display:flex; gap:6px; align-items:flex-end; height:36px; margin-top:8px; }
.recording-wave .wave-bar { width:6px; background: linear-gradient(180deg, var(--accent-2), var(--accent-1)); border-radius:4px; animation: wave 800ms infinite ease-in-out; }
.recording-wave .wave-bar:nth-child(1){ animation-delay:0ms; height:12px; }
.recording-wave .wave-bar:nth-child(2){ animation-delay:100ms; height:18px; }
.recording-wave .wave-bar:nth-child(3){ animation-delay:200ms; height:10px; }
.recording-wave .wave-bar:nth-child(4){ animation-delay:300ms; height:20px; }
.recording-wave .wave-bar:nth-child(5){ animation-delay:400ms; height:14px; }
@keyframes wave { 0%{ transform:scaleY(.5);}50%{ transform:scaleY(1.1);}100%{ transform:scaleY(.5);} }

/* ---------- CHAT SIMULATOR ---------- */
.chat-display { max-height:360px; overflow:auto; padding:14px; background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.6)); border-radius:12px; border: 1px solid rgba(255,255,255,0.02); }
.chat-bubble { display:flex; gap:8px; padding:10px 12px; border-radius:12px; margin:8px 0; align-items:center; }
.chat-bubble.user { background: linear-gradient(180deg,#072f1e,#033f2b); color: var(--accent-1); justify-content:flex-end; border:2px solid rgba(0,255,179,0.06); }
.chat-bubble.ai { background: linear-gradient(180deg,#07324f,#03384f); color: var(--accent-2); border:2px solid rgba(0,204,255,0.06); }
.bubble-speak-btn { border-radius:8px; padding:6px; border: none; background: rgba(255,255,255,0.03); color:#fff; cursor:pointer; }

/* ---------- FILLER / CONVERSATION PANELS ---------- */
.filler-btn, .filler-category .filler-btn { padding:10px 12px; margin:6px 6px 6px 0; border-radius:10px; background:linear-gradient(90deg,#0f1b1d,#0a1214); color:#fff; border:2px solid rgba(255,255,255,0.02); cursor:pointer; }

/* ---------- NOTIFICATIONS ---------- */
.notification { position: fixed; right:18px; top:18px; background:linear-gradient(90deg,#0b1111,#071017); color:#fff; padding:10px 14px; border-radius:10px; box-shadow:0 10px 24px rgba(0,0,0,0.5); opacity:1; transform: translateY(0); transition: opacity .3s ease, transform .3s ease; z-index:10010; }
.notification.success{ border-left:6px solid var(--accent-1); }
.notification.error{ border-left:6px solid #ff4d4d; }
.notification.info{ border-left:6px solid var(--accent-2); }

/* ---------- QUIZ / OPTIONS (small polish) ---------- */
.option-btn { padding:12px 14px; border-radius:10px; border:2px solid rgba(255,255,255,0.03); background: linear-gradient(180deg,#0b1115,#061016); color:#fff; margin:8px; cursor:pointer; box-shadow:0 8px 18px rgba(0,0,0,0.45); transition: transform .12s var(--ease); }
.option-btn.correct { background: linear-gradient(90deg,var(--accent-1), #7bffdf); color:#001; border-color: rgba(0,255,179,0.18);}
.option-btn.incorrect { background: linear-gradient(90deg,#ff6b6b,#ffb3a7); color:#210; border-color: rgba(255,80,80,0.18); }
.option-btn.incorrect-disabled { opacity:.45; pointer-events:none; }

/* ---------- RESPONSIVE ---------- */
@media (max-width:900px){
  .menu-grid { grid-template-columns: repeat(2,1fr); }
  .menu-item { padding:10px; }
  .crystal-wrapper{ width:140px; height:140px; }
  .crystal-ball { width:140px;height:140px; }
  .chat-display{ max-height:260px; }
}

.materia-highlight {
    box-shadow: 0 8px 24px rgba(255,200,0,0.12);
    transform: scale(1.01);
    transition: box-shadow .18s ease, transform .18s ease;
}

/* ...existing code... */

/* Ranking panel (dashboard) */
.ranking-floating {
    position: fixed; /* flota y no tapa la cabecera */
    top: calc(var(--header-height, 64px) + 16px); /* colocado justo debajo del header */
    right: 16px;
    width: 320px;
    max-height: calc(100vh - calc(var(--header-height,64px) + 40px));
    overflow: auto;
    background: rgba(8,10,12,0.88);
    backdrop-filter: blur(5px);
    border-radius: 8px;
    padding: 12px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.6);
    z-index: 1100; /* debajo del header (1200) pero encima del contenido */
    border: 2px solid rgba(255,255,255,0.03);
    transition: top .18s ease, transform .12s ease;
}
/* Extra spacing for very large screens */
@media (min-width: 1400px) {
    .ranking-floating { right: 24px; width: 360px; }
}
.ranking-floating h3 { margin: 10px 0 8px 0; font-size: 16px; color: var(--neon-cyan); }
.ranking-floating .ranking-table { width: 100%; font-size: 13px; }
.ranking-floating .ranking-table td, .ranking-floating .ranking-table th { padding: 6px 8px; }

/* Mobile: convertir en bloque normal para evitar solapar UI */
@media (max-width: 900px) {
    .ranking-floating {
        position: static;
        width: auto;
        max-height: none;
        margin: 12px 0;
    }
}

/* Si hay un filtro activo que mueve el scroll, reducir la mínima top para no solapar */
@media (min-width: 900px) {
    body:has(.materia-highlight) .ranking-floating { top: calc(var(--header-height,64px) + 22px); }
} 

/* Resaltado corto para materia filtrada */
.materia-highlight {
    box-shadow: 0 8px 24px rgba(255,200,0,0.12);
    transform: scale(1.01);
    transition: box-shadow .18s ease, transform .18s ease;
}

