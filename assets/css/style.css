/* =======================================================
   LC-ADVANCE - style.css (Versi칩n Corregida y Optimizada 2025 v3.1)
   Estilo RETRO 8-BIT / 16-BIT con Toques Modernos
   Mejoras: Mayor legibilidad (font sizes aumentados, contraste mejorado, espaciado)
   SVG optimizados para nitidez, sin pixelado forzado en texto
   Nuevos estilos para dashboard y content elements
========================================================== */

/* ===== IMPORTACI칍N DE FUENTES ===== */
@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&display=swap');

/* ===== VARIABLES GLOBALES ===== */
:root {
    /* Colores Ne칩n */
    --neon-green: #00ff00;
    --neon-blue: #00ccff;
    --neon-cyan: #00ffff;
    --neon-pink: #ff00ff;
    --neon-magenta: #ff00ff;
    --neon-yellow: #ffcc00;
    --neon-orange: #ff9800;
    --neon-red: #ff3333;
    
    /* Fondos */
    --bg-dark: #0a0a0a;
    --bg-card: #111111;
    --bg-panel: #1a1a1a;
    
    /* Texto */
    --text-light: #f0f0f0;
    --text-dim: #aaaaaa;
    --text-dark: #000000;
    --text-muted: #777777;
    
    /* Fuentes */
    --font-pixel: 'Press Start 2P', cursive;
    --font-retro: 'VT323', monospace;
    
    /* Efectos */
    --shadow-neon: 0 0 15px;
    --glow-green: 0 0 20px rgba(0, 255, 0, 0.6);
    --glow-cyan: 0 0 20px rgba(0, 255, 255, 0.6);
    --glow-pink: 0 0 20px rgba(255, 0, 255, 0.6);
    
    /* Legibilidad Adaptativa */
    --base-font-size: clamp(16px, 1.2vw, 20px);
    --line-height: 1.6;
    --padding-base: clamp(15px, 3vw, 25px);
}

/* ===== RESET Y BASE ===== */

/* ===== GLOBAL DARK OVERRIDES ===== */
.container,
.lesson-container,
.dashboard-container,
.quiz-container,
.ranking-container,
.register-container,
.login-container,
.card,
.panel,
.box,
.evidence-card,
.solution-card,
.exam-problem,
.quiz-box,
.simulator-box,
.reflection-card,
.conc-svg,
.mol-canvas,
.orbital-canvas {
    background: var(--bg-card);
    color: var(--text-light);
    border-color: rgba(255,255,255,0.04);
}

/* Formularios y controles */
input, textarea, select, button {
    background: var(--bg-panel);
    color: var(--text-light);
    border: 1px solid rgba(255,255,255,0.04);
    font-size: 1rem;
}

button { cursor: pointer; }

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: var(--font-retro);
    background: var(--bg-dark);
    background-image: 
        radial-gradient(circle at center, rgba(0, 255, 0, 0.05) 1px, transparent 0),
        repeating-linear-gradient(0deg, rgba(0, 255, 0, 0.03) 0px, transparent 1px, transparent 2px);
    background-size: 20px 20px, 100% 4px;
    color: var(--text-light);
    font-size: var(--base-font-size);
    line-height: var(--line-height);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    overflow-x: hidden; /* Evitar scroll horizontal accidental */
}

/* ===== TIPOGRAF칈A RESPONSIVA ===== */
h1 {
    font-family: var(--font-pixel);
    font-size: clamp(20px, 5vw, 36px);
    color: var(--neon-yellow);
    text-shadow: 2px 2px 0 #000, -1px -1px 0 var(--neon-orange);
    letter-spacing: clamp(1px, 0.5vw, 3px);
    margin: 20px 0;
    text-align: center;
}

h2 {
    font-family: var(--font-pixel);
    font-size: clamp(18px, 4vw, 28px);
    color: var(--neon-cyan);
    text-shadow: 1px 1px 0 #000, var(--glow-cyan);
    margin: 30px 0 15px;
    text-align: center;
    line-height: 1.3;
}

h3 {
    font-family: var(--font-pixel);
    font-size: clamp(16px, 3.5vw, 24px);
    color: var(--neon-orange);
    margin: 25px 0 15px;
    border-bottom: 2px dotted var(--neon-yellow);
    padding-bottom: 8px;
    line-height: 1.3;
}

h4 {
    font-family: var(--font-pixel);
    font-size: clamp(14px, 3vw, 20px);
    color: var(--neon-green);
    margin: 15px 0 10px;
    line-height: 1.3;
}

p {
    margin: 15px 0;
    font-size: 1rem;
}

/* ===== CONTENEDORES PRINCIPALES ===== */
.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: var(--padding-base);
    flex: 1;
}

.lesson-container,
.dashboard-container,
.quiz-container,
.ranking-container,
.register-container,
.login-container {
    max-width: 1000px;
    margin: 40px auto; /* M치s espacio vertical */
    /* Expandimos el ancho del dashboard para usar m치s espacio en pantallas grandes */
    max-width: 1200px;
    width: 100%;
    padding: var(--padding-base);
    background: var(--bg-card);
    border: 5px solid var(--neon-green);
    box-shadow: var(--glow-green), inset 0 0 15px rgba(0, 255, 0, 0.3);
    border-radius: 8px;
    animation: neonGlow 2s ease-in-out infinite alternate;
}

/* ===== HEADER Y NAVEGACI칍N (RESPONSIVE) ===== */
.header, .main-header {
    --header-height: 64px;
    background: #000;
    padding: 10px 20px;
    border-bottom: 4px solid var(--neon-yellow);
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: sticky;
    top: 0;
    z-index: 1200;
    box-shadow: 0 4px 12px rgba(255, 204, 0, 0.4);
}

.header h1, .main-header h1 {
    font-size: 22px;
    margin: 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--neon-yellow);
    text-shadow: 0 0 10px rgba(255, 204, 0, 0.5);
}

.header nav, .main-header .header-nav {
    display: flex;
    gap: 10px;
    align-items: center;
}

/* Hamburger menu */
.header .hamburger, .main-header .hamburger {
    display: none;
    background: none;
    border: 2px solid var(--neon-yellow);
    color: var(--neon-yellow);
    font-size: 24px;
    padding: 5px 10px;
    cursor: pointer;
    border-radius: 4px;
}

@media (max-width: 992px) {
    .header .hamburger, .main-header .hamburger {
        display: block;
    }

    .header nav, .main-header .header-nav {
        position: fixed;
        top: 68px; /* header-height + border */
        left: -100%;
        width: 280px;
        height: calc(100vh - 68px);
        background: rgba(0, 0, 0, 0.95);
        backdrop-filter: blur(10px);
        flex-direction: column;
        padding: 30px 20px;
        gap: 15px;
        transition: left 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        border-right: 2px solid var(--neon-yellow);
        z-index: 1100;
    }

    .header nav.active, .main-header .header-nav.active {
        left: 0;
    }

    .header nav .btn, .main-header .header-nav .btn {
        width: 100%;
        justify-content: center;
        padding: 15px;
        font-size: 16px;
    }
}

@media (max-width: 480px) {
    .header h1, .main-header h1 {
        font-size: 16px;
    }
    .header, .main-header {
        padding: 10px;
    }
}


/* ===== RESPONSIVE CONTENT UTILITIES ===== */
.lesson-wrapper {
    width: 100%;
    max-width: 100%;
    overflow-x: hidden;
    padding: 10px;
}

.lesson-content img, 
.lesson-content svg {
    max-width: 100%;
    height: auto !important;
    display: block;
    margin: 20px auto;
}

/* Tablas responsivas mejoradas */
.lesson-content table,
.sign-table {
    width: 100%;
    border-collapse: collapse;
    margin: 25px 0;
    display: block;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    border: 1px solid var(--neon-cyan);
    background: rgba(0, 0, 0, 0.3);
}

.lesson-content table th,
.lesson-content table td,
.sign-table th,
.sign-table td {
    padding: 12px 15px;
    border: 1px solid rgba(0, 243, 255, 0.3);
    text-align: center;
    min-width: 120px;
    font-size: 0.9em;
}

.lesson-content table th,
.sign-table th {
    background: rgba(0, 243, 255, 0.1);
    color: var(--neon-cyan);
    font-family: var(--font-pixel);
    font-size: 0.7em;
}

/* LaTeX display responsiveness */
.latex-display {
    overflow-x: auto;
    overflow-y: hidden;
    padding: 15px 0;
    margin: 20px 0;
    text-align: center;
    max-width: 100%;
    font-size: 1.1em;
}

/* Simulator responsiveness */
.critical-sim {
    padding: 15px;
    background: rgba(0, 0, 0, 0.6);
    border: 2px solid var(--neon-green);
    border-radius: 12px;
    margin: 30px 0;
    box-shadow: 0 0 15px rgba(0, 255, 0, 0.2);
}

.critical-sim .keypad {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
    gap: 8px;
    margin-bottom: 20px;
}

@media (max-width: 600px) {
    .critical-sim .keypad {
        grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
        gap: 5px;
    }
}

.critical-sim .keypad button {
    padding: 10px 5px;
    font-size: 13px;
    font-family: var(--font-retro);
    background: rgba(0, 255, 0, 0.05);
    border: 1px solid var(--neon-green);
    color: var(--neon-green);
    transition: all 0.2s;
    border-radius: 4px;
}

.critical-sim .keypad button:hover {
    background: var(--neon-green);
    color: #000;
}

.critical-sim .input-group {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-bottom: 20px;
}

@media (min-width: 600px) {
    .critical-sim .input-group {
        flex-direction: row;
        align-items: center;
    }
}

.critical-sim .input-group input {
    flex: 1;
    background: #000;
    border: 1px solid var(--neon-green);
    color: var(--neon-green);
    padding: 10px;
    font-family: var(--font-retro);
    font-size: 1.1em;
}

.critical-sim .input-group button {
    padding: 10px 20px;
    background: var(--neon-green);
    color: #000;
    border: none;
    font-family: var(--font-pixel);
    font-size: 10px;
    cursor: pointer;
    border-radius: 4px;
}

/* Quiz Modal Responsiveness */
.overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.95);
    backdrop-filter: blur(8px);
    z-index: 2000;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 10px;
    transition: opacity 0.3s ease;
}

.overlay.hidden {
    display: none;
    opacity: 0;
    pointer-events: none;
}

.quiz-modal {
    background: #0a0a0f;
    border: 2px solid var(--neon-cyan);
    box-shadow: 0 0 30px rgba(0, 243, 255, 0.3);
    width: 100%;
    max-width: 800px;
    height: 90vh;
    max-height: 800px;
    border-radius: 12px;
    display: flex;
    flex-direction: column;
    position: relative;
    overflow: hidden;
    animation: modalAppear 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

@media (max-width: 480px) {
    .quiz-modal {
        height: 100vh;
        max-height: 100vh;
        border-radius: 0;
        border: none;
    }
}

@keyframes modalAppear {
    from { transform: scale(0.8); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
}

.quiz-header {
    padding: 20px;
    border-bottom: 1px solid rgba(0, 243, 255, 0.2);
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: rgba(0, 243, 255, 0.05);
}

.quiz-header h3 {
    margin: 0;
    font-size: 16px;
    color: var(--neon-cyan);
    font-family: var(--font-pixel);
    border: none;
    padding: 0;
    line-height: 1.4;
}

.close-btn {
    background: rgba(255, 0, 0, 0.1);
    border: 1px solid var(--neon-red);
    color: var(--neon-red);
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 4px;
    font-size: 18px;
    cursor: pointer;
    transition: all 0.2s;
}

.close-btn:hover {
    background: var(--neon-red);
    color: #000;
}

.quiz-body {
    padding: 20px;
    overflow-y: auto;
    flex: 1;
    scrollbar-width: thin;
    scrollbar-color: var(--neon-cyan) transparent;
}

.quiz-body::-webkit-scrollbar {
    width: 6px;
}
.quiz-body::-webkit-scrollbar-thumb {
    background: var(--neon-cyan);
    border-radius: 10px;
}

.question-card {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    padding: 20px;
    border-radius: 10px;
    margin-bottom: 25px;
}

.question-text {
    font-size: 1.2em;
    color: #fff;
    margin-bottom: 15px;
    line-height: 1.4;
}

.options-container {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.option-btn {
    padding: 15px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    color: #ddd;
    text-align: left;
    cursor: pointer;
    transition: all 0.2s;
    font-family: var(--font-retro);
    font-size: 1.1em;
}

.option-btn:hover {
    background: rgba(0, 243, 255, 0.1);
    border-color: var(--neon-cyan);
    color: var(--neon-cyan);
}

.option-btn.selected {
    background: rgba(0, 243, 255, 0.2);
    border-color: var(--neon-cyan);
    color: #fff;
    box-shadow: 0 0 10px rgba(0, 243, 255, 0.2);
}

@media (max-width: 768px) {
    :root {
        --base-font-size: 18px;
    }
    
    h1 { font-size: 28px; }
    h2 { font-size: 22px; }
    h3 { font-size: 18px; }
    
    .lesson-container,
    .dashboard-container {
        margin: 20px auto;
        padding: 15px;
        border-width: 3px;
    }

    .quiz-modal {
        height: 95vh;
    }

    .quiz-body {
        padding: 15px;
    }

    .question-card {
        padding: 15px;
    }
}

@media (max-width: 480px) {
    .critical-sim .keypad {
        grid-template-columns: repeat(3, 1fr);
    }

    .quiz-header h3 {
        font-size: 12px;
    }

    .option-btn {
        font-size: 1em;
        padding: 12px;
    }
    
    .question-text {
        font-size: 1.1em;
    }
}

/* Quiz Form Styles */
.quiz-form {
    display: flex;
    flex-direction: column;
    gap: 20px;
    padding-bottom: 30px;
}

.option-label {
    display: flex;
    align-items: center;
    padding: 15px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s;
    margin-bottom: 10px;
}

.option-label:hover {
    background: rgba(0, 243, 255, 0.08);
    border-color: rgba(0, 243, 255, 0.3);
}

.option-label input[type="radio"] {
    display: none;
}

.radio-custom {
    width: 20px;
    height: 20px;
    border: 2px solid var(--neon-cyan);
    border-radius: 50%;
    margin-right: 15px;
    position: relative;
    flex-shrink: 0;
}

.option-label input[type="radio"]:checked + .radio-custom::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 10px;
    height: 10px;
    background: var(--neon-cyan);
    border-radius: 50%;
    box-shadow: 0 0 8px var(--neon-cyan);
}

.option-label input[type="radio"]:checked ~ .option-text {
    color: #fff;
}

.option-label:has(input[type="radio"]:checked) {
    background: rgba(0, 243, 255, 0.15);
    border-color: var(--neon-cyan);
    box-shadow: 0 0 15px rgba(0, 243, 255, 0.1);
}

.option-text {
    font-family: var(--font-retro);
    font-size: 1.1em;
    color: #ccc;
}

.quiz-submit {
    position: sticky;
    bottom: 0;
    background: #0a0a0f;
    padding: 20px 0;
    margin-top: 10px;
    border-top: 1px solid rgba(0, 243, 255, 0.2);
    display: flex;
    justify-content: center;
    z-index: 10;
}

.btn-submit {
    width: 100%;
    max-width: 300px;
    padding: 15px !important;
    font-size: 14px !important;
}

@media (max-width: 480px) {
    .option-label {
        padding: 12px;
    }
    .option-text {
        font-size: 1em;
    }
    .radio-custom {
        width: 18px;
        height: 18px;
        margin-right: 12px;
    }
}

/* Content Elements Styles */
.real-examples {
    list-style: none;
    padding: 0;
    margin: 20px 0;
}

.real-examples li {
    padding: 10px 15px;
    margin-bottom: 8px;
    background: rgba(0, 243, 255, 0.05);
    border-left: 3px solid var(--neon-cyan);
    font-family: var(--font-retro);
}

.key-idea {
    background: rgba(255, 0, 255, 0.05);
    border: 1px dashed var(--neon-magenta);
    padding: 20px;
    margin: 30px 0;
    border-radius: 8px;
    font-style: normal;
    text-align: center;
    box-shadow: 0 0 15px rgba(255, 0, 255, 0.1);
}

.key-idea strong {
    color: var(--neon-magenta);
    text-shadow: 0 0 5px var(--neon-magenta);
}

.common-errors {
    display: flex;
    flex-direction: column;
    gap: 15px;
    margin: 25px 0;
}

.error-item {
    background: rgba(255, 0, 0, 0.05);
    border: 1px solid rgba(255, 0, 0, 0.2);
    padding: 15px;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.error-item:hover {
    background: rgba(255, 0, 0, 0.1);
    border-color: var(--neon-red);
}

.error-item strong {
    color: var(--neon-red);
    display: block;
    margin-bottom: 5px;
}

.error-item .details {
    display: none;
    margin-top: 10px;
    padding-top: 10px;
    border-top: 1px solid rgba(255, 0, 0, 0.2);
    font-size: 0.9em;
    color: #eee;
}

.error-item.expanded .details {
    display: block;
}

.exam-problems, .reflection {
    background: rgba(255, 255, 255, 0.03);
    padding: 20px 20px 20px 40px;
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.exam-problems li, .reflection li {
    margin-bottom: 15px;
    line-height: 1.6;
}

@media (max-width: 480px) {
    .exam-problems, .reflection {
        padding: 15px 15px 15px 30px;
    }
}

/* Result Panel */
.result-panel {
    text-align: center;
    padding: 30px;
    background: rgba(0, 243, 255, 0.05);
    border: 2px solid var(--neon-cyan);
    border-radius: 12px;
    margin: 20px 0;
}

.result-score {
    font-family: var(--font-pixel);
    font-size: 2.5rem;
    color: var(--neon-cyan);
    margin: 20px 0;
    text-shadow: 0 0 20px var(--neon-cyan);
}

/* Quiz loading and container */
.loading {
    text-align: center;
    padding: 40px;
    font-family: var(--font-pixel);
    color: var(--neon-cyan);
    animation: pulse-glow 2s infinite;
}

.quiz-container {
    background: rgba(0, 0, 0, 0.4);
    border: 1px solid var(--neon-cyan);
    padding: 25px;
    border-radius: 12px;
    margin: 30px 0;
    box-shadow: 0 0 15px rgba(0, 243, 255, 0.1);
}

.quiz-question {
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.quiz-question p {
    font-weight: bold;
    color: var(--neon-cyan);
    margin-bottom: 10px;
}

.quiz-question label {
    display: block;
    margin-bottom: 8px;
    cursor: pointer;
    transition: color 0.2s;
}

.quiz-question label:hover {
    color: var(--neon-cyan);
}

.feedback {
    margin-top: 20px;
    padding: 15px;
    border-radius: 6px;
    font-weight: bold;
}

.feedback .ok { color: var(--neon-green); text-shadow: 0 0 5px var(--neon-green); }
.feedback .error { color: var(--neon-red); text-shadow: 0 0 5px var(--neon-red); }

/* ===== CONTENIDO DE LECCI칍N Y ELEMENTOS INTERACTIVOS ===== */
.lesson-wrapper {
    color: #eee;
    line-height: 1.6;
    max-width: 100%;
    overflow-x: hidden;
}

.content-header {
    background: rgba(0, 243, 255, 0.05);
    border-left: 4px solid var(--neon-cyan);
    padding: clamp(15px, 3vw, 25px);
    margin-bottom: clamp(20px, 4vw, 30px);
    border-radius: 0 8px 8px 0;
    font-style: italic;
    box-shadow: inset 10px 0 20px -10px rgba(0, 243, 255, 0.2);
    font-size: clamp(0.9rem, 1.2vw, 1.1rem);
}

.content-body {
    padding: 10px 0;
}

/* Gr치ficos y diagramas responsivos */
.visual, .svg-diagram {
    width: 100%;
    margin: clamp(20px, 5vw, 40px) 0;
    background: rgba(0, 0, 0, 0.4);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    padding: clamp(10px, 2vw, 20px);
    text-align: center;
    overflow-x: auto;
}

.visual svg, .svg-diagram svg {
    max-width: 100%;
    height: auto;
    display: block;
    margin: 0 auto;
}

.caption {
    font-size: clamp(0.75rem, 0.9vw, 0.85rem);
    color: var(--text-dim);
    margin-top: 15px;
    font-family: var(--font-retro);
}

/* Simulador Interactivo Avanzado */
.critical-sim {
    padding: clamp(15px, 3vw, 30px);
    background: rgba(0, 0, 0, 0.7);
    border: 2px solid var(--neon-green);
    border-radius: 15px;
    margin: clamp(30px, 6vw, 50px) 0;
    box-shadow: 0 0 20px rgba(0, 255, 0, 0.15), inset 0 0 15px rgba(0, 255, 0, 0.05);
}

.critical-sim .input-group {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    margin-bottom: 25px;
    align-items: center;
}

.critical-sim .input-group label {
    font-family: var(--font-pixel);
    font-size: clamp(0.6rem, 0.8vw, 0.75rem);
    color: var(--neon-green);
}

.critical-sim .input-group input {
    flex: 1;
    min-width: 150px;
    background: rgba(0, 0, 0, 0.8);
    border: 1px solid var(--neon-green);
    color: var(--neon-green);
    padding: clamp(10px, 1.5vw, 15px);
    font-family: var(--font-retro);
    font-size: clamp(1.1rem, 1.5vw, 1.4rem);
    border-radius: 4px;
}

.critical-sim .input-group button {
    background: var(--neon-green);
    color: #000;
    border: none;
    padding: clamp(10px, 1.5vw, 15px) clamp(20px, 3vw, 30px);
    font-family: var(--font-pixel);
    font-size: clamp(0.6rem, 0.75vw, 0.7rem);
    cursor: pointer;
    border-radius: 4px;
    transition: all 0.3s;
    text-transform: uppercase;
}

.critical-sim .input-group button:hover {
    box-shadow: 0 0 15px var(--neon-green);
    transform: translateY(-2px);
}

.critical-sim .keypad {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
    gap: 8px;
    margin-bottom: 25px;
}

.critical-sim .keypad button {
    padding: 10px 5px;
    font-size: clamp(12px, 1.2vw, 14px);
    background: rgba(0, 255, 0, 0.05);
    border: 1px solid rgba(0, 255, 0, 0.3);
    color: var(--neon-green);
    border-radius: 4px;
    transition: all 0.2s;
}

.critical-sim .keypad button:hover {
    background: rgba(0, 255, 0, 0.2);
    border-color: var(--neon-green);
    transform: scale(1.05);
}

.math-output {
    background: rgba(0, 0, 0, 0.5);
    padding: 15px;
    border-radius: 8px;
    border-left: 3px solid var(--neon-magenta);
    margin: 20px 0;
    font-family: var(--font-retro);
    font-size: clamp(0.9rem, 1.2vw, 1.1rem);
    min-height: 80px;
    overflow-x: auto;
}

/* Quiz de Autoevaluaci칩n Inline */
.quiz-container {
    background: rgba(0, 0, 0, 0.4);
    border: 1px solid var(--neon-cyan);
    padding: clamp(15px, 4vw, 30px);
    border-radius: 12px;
    margin: clamp(25px, 5vw, 40px) 0;
    box-shadow: 0 0 15px rgba(0, 243, 255, 0.1);
}

.quiz-question {
    margin-bottom: 25px;
    padding-bottom: 20px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.quiz-question p {
    font-weight: bold;
    color: var(--neon-cyan);
    margin-bottom: 15px;
    font-size: clamp(1rem, 1.2vw, 1.15rem);
}

.quiz-question label {
    display: block;
    margin-bottom: 10px;
    cursor: pointer;
    transition: all 0.2s;
    padding: clamp(8px, 1.5vw, 12px) clamp(10px, 2vw, 15px);
    border-radius: 6px;
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid transparent;
    font-size: clamp(0.9rem, 1.1vw, 1rem);
}

.quiz-question label:hover {
    background: rgba(0, 243, 255, 0.05);
    border-color: rgba(0, 243, 255, 0.2);
    color: var(--neon-cyan);
}

.quiz-container button {
    background: var(--neon-cyan);
    color: #000;
    border: none;
    padding: clamp(12px, 2vw, 15px) clamp(25px, 4vw, 40px);
    font-family: var(--font-pixel);
    font-size: clamp(0.65rem, 0.8vw, 0.75rem);
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.3s;
    display: block;
    margin: 0 auto;
    width: auto;
}

.quiz-container button:hover {
    box-shadow: 0 0 20px var(--neon-cyan);
    transform: translateY(-2px);
}

@media (max-width: 600px) {
    .critical-sim .input-group {
        flex-direction: column;
        align-items: stretch;
    }
    
    .critical-sim .keypad {
        grid-template-columns: repeat(4, 1fr);
    }

    .quiz-container {
        padding: 20px;
    }
    
    .quiz-container button {
        width: 100%;
    }
}

/* Bloques de ideas y ejemplos */
.key-idea {
    background: rgba(255, 204, 0, 0.1);
    border: 1px solid var(--neon-yellow);
    padding: clamp(20px, 4vw, 30px);
    margin: clamp(25px, 5vw, 40px) 0;
    border-radius: 8px;
    position: relative;
    font-weight: 500;
    text-align: center;
    box-shadow: 0 0 15px rgba(255, 204, 0, 0.1);
    font-size: clamp(0.95rem, 1.2vw, 1.1rem);
}

.key-idea::before {
    content: '游눠';
    position: absolute;
    top: -18px;
    left: 50%;
    transform: translateX(-50%);
    background: var(--bg-dark);
    padding: 0 15px;
    font-size: clamp(1.2rem, 2vw, 1.5rem);
}

.real-examples {
    list-style: none;
    padding: 0;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 15px;
    margin: 25px 0;
}

.real-examples li {
    background: rgba(255, 255, 255, 0.03);
    padding: 15px 20px;
    border-radius: 8px;
    border-left: 4px solid var(--neon-magenta);
    transition: all 0.3s;
    font-family: var(--font-retro);
    display: flex;
    align-items: center;
}

.real-examples li:hover {
    transform: translateX(8px);
    background: rgba(255, 255, 255, 0.06);
    box-shadow: -5px 0 15px rgba(255, 0, 255, 0.1);
}

/* Simuladores y Diagramas */
.visual, .svg-diagram, .critical-sim, .auto-detector {
    background: rgba(0, 0, 0, 0.7);
    border: 1px solid rgba(0, 243, 255, 0.3);
    padding: clamp(15px, 3vw, 30px);
    border-radius: 12px;
    margin: clamp(25px, 5vw, 40px) 0;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
    overflow: hidden;
}

.svg-diagram svg, #critSVG, #autoSVG {
    width: 100%;
    height: auto;
    max-height: 400px;
    display: block;
    background: #000;
    border-radius: 8px;
    margin-top: 15px;
}

.critical-sim .input-group, .auto-detector .input-panel {
    display: flex;
    gap: 15px;
    margin-bottom: 25px;
    flex-wrap: wrap;
    align-items: center;
}

.critical-sim input[type="text"], .auto-detector input[type="text"] {
    flex: 1;
    min-width: 150px;
    background: rgba(0, 0, 0, 0.8);
    border: 1px solid var(--neon-cyan);
    color: #fff;
    padding: clamp(10px, 1.5vw, 15px);
    border-radius: 4px;
    font-family: var(--font-retro);
    font-size: clamp(1rem, 1.5vw, 1.25rem);
}

.critical-sim button, .auto-detector button {
    background: var(--neon-cyan);
    color: #000;
    border: none;
    padding: clamp(10px, 1.5vw, 15px) clamp(20px, 3vw, 30px);
    font-family: var(--font-pixel);
    font-size: clamp(0.65rem, 0.8vw, 0.75rem);
    cursor: pointer;
    border-radius: 4px;
    transition: all 0.3s;
    text-transform: uppercase;
}

.critical-sim button:hover, .auto-detector button:hover {
    box-shadow: 0 0 20px var(--neon-cyan);
    transform: translateY(-2px);
}

/* Tablas Responsivas */
.table-responsive {
    width: 100%;
    overflow-x: auto;
    margin: 25px 0;
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.table, .sign-table {
    width: 100%;
    border-collapse: collapse;
    background: rgba(0, 0, 0, 0.3);
    font-size: clamp(0.85rem, 1.1vw, 1rem);
}

.table th, .sign-table th {
    background: rgba(0, 243, 255, 0.1);
    color: var(--neon-cyan);
    padding: 15px;
    text-align: left;
    border-bottom: 2px solid var(--neon-cyan);
    font-family: var(--font-pixel);
    font-size: 0.7rem;
}

.table td, .sign-table td {
    padding: 12px 15px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.max-row { background: rgba(255, 0, 255, 0.05); }
.min-row { background: rgba(0, 255, 136, 0.05); }
.none-row { opacity: 0.6; }

/* Otros elementos de contenido */
.important-box {
    background: rgba(255, 0, 0, 0.1);
    border-left: 4px solid var(--neon-red);
    padding: 20px;
    margin: 25px 0;
    border-radius: 0 8px 8px 0;
    font-size: clamp(0.9rem, 1.1vw, 1.1rem);
}

.self-check {
    display: flex;
    gap: 10px;
    margin: 20px 0;
    flex-wrap: wrap;
}

.self-check input {
    flex: 1;
    min-width: 200px;
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid var(--neon-magenta);
    color: #fff;
    padding: 12px;
    border-radius: 4px;
}

.math-box {
    background: rgba(0, 0, 0, 0.5);
    padding: 15px;
    margin: 15px 0;
    border-radius: 8px;
    border-left: 3px solid var(--neon-green);
    font-family: var(--font-retro);
    overflow-x: auto;
}

.materia-tag {
    display: inline-block;
    background: var(--neon-cyan);
    color: #000;
    padding: 2px 10px;
    font-family: var(--font-pixel);
    font-size: 0.6rem;
    border-radius: 4px;
    margin-bottom: 10px;
}

.intro-text {
    font-size: clamp(1rem, 1.3vw, 1.2rem);
    line-height: 1.7;
    color: #ccc;
}

/* ===== LECCI칍N DETALLE ===== */
.lesson-layout {
    display: flex;
    gap: clamp(15px, 3vw, 30px);
    max-width: 1300px;
    margin: clamp(15px, 4vw, 30px) auto;
    align-items: flex-start;
    padding: 0 clamp(10px, 2vw, 20px);
}

.lesson-main {
    flex: 1;
    min-width: 0;
}

.lesson-sidebar {
    width: 320px;
    flex-shrink: 0;
    position: sticky;
    top: 80px;
    background: rgba(0, 0, 0, 0.4);
    padding: clamp(15px, 3vw, 25px);
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
}

.lesson-sidebar .btn-primary {
    background: rgba(255, 0, 255, 0.1);
    border: 1px solid var(--neon-magenta);
    color: var(--neon-magenta);
    box-shadow: 0 0 10px rgba(255, 0, 255, 0.1);
    font-family: var(--font-pixel);
    font-size: 0.7rem;
    padding: 15px;
    width: 100%;
    margin-bottom: 15px;
    text-transform: uppercase;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    cursor: pointer;
    border-radius: 6px;
}

.lesson-sidebar .btn-primary:hover {
    background: var(--neon-magenta);
    color: #000;
    box-shadow: 0 0 20px var(--neon-magenta);
    transform: translateY(-2px);
}

.lesson-sidebar .btn-secondary {
    background: rgba(57, 255, 20, 0.05);
    border: 1px solid #39ff14;
    color: #39ff14;
    box-shadow: 0 0 10px rgba(57, 255, 20, 0.1);
    font-family: var(--font-pixel);
    font-size: 0.7rem;
    padding: 15px;
    width: 100%;
    text-transform: uppercase;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    cursor: pointer;
    border-radius: 6px;
}

.lesson-sidebar .btn-secondary:hover {
    background: #39ff14;
    color: #000;
    box-shadow: 0 0 20px #39ff14;
    transform: translateY(-2px);
}

@media (max-width: 1024px) {
    .lesson-layout {
        flex-direction: column;
        align-items: stretch;
    }
    
    .lesson-sidebar {
        width: 100%;
        position: static;
        order: -1;
        margin-bottom: 20px;
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        padding: 15px;
    }

    .lesson-sidebar .btn-primary,
    .lesson-sidebar .btn-secondary {
        flex: 1;
        min-width: 150px;
        margin-bottom: 0;
    }
}

@media (max-width: 480px) {
    .lesson-sidebar .btn-primary,
    .lesson-sidebar .btn-secondary {
        min-width: 100%;
    }
}

.module-title {
    font-size: 0.9rem;
    letter-spacing: 3px;
    color: var(--neon-cyan);
    margin: 20px 0 25px;
    text-align: center;
    text-transform: uppercase;
    font-weight: bold;
    display: block;
    border-bottom: 2px solid var(--neon-cyan);
    padding-bottom: 10px;
    box-shadow: 0 4px 10px -5px var(--neon-cyan);
}

.tabs {
    background: rgba(0, 0, 0, 0.4);
    padding: 4px;
    border-radius: 30px;
    margin-bottom: 25px;
    display: flex;
    gap: 5px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    max-width: 450px;
    margin-left: auto;
    margin-right: auto;
}

.tab-btn {
    flex: 1;
    font-size: 10px;
    padding: 10px 15px;
    border: none;
    border-radius: 25px;
    transition: all 0.3s ease;
    text-transform: uppercase;
    font-family: var(--font-pixel);
    background: transparent;
    color: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 5px;
    cursor: pointer;
}

.tab-btn.active {
    background: rgba(0, 243, 255, 0.15);
    box-shadow: inset 0 0 10px rgba(0, 243, 255, 0.1);
    color: var(--neon-cyan);
    border: 1px solid rgba(0, 243, 255, 0.3);
}

.panel {
    background: rgba(20, 20, 30, 0.6);
    border: 1px solid rgba(0, 243, 255, 0.1);
    border-radius: 12px;
    padding: 25px;
    backdrop-filter: blur(10px);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    margin-bottom: 30px;
}

.lesson-header {
    text-align: center;
    margin-bottom: 30px;
    padding: 20px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    position: relative;
    border: 1px solid rgba(255, 0, 255, 0.1);
}

.lesson-title-row {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 15px;
    margin-bottom: 15px;
    flex-wrap: wrap;
}

.icon-tema {
    font-size: 2.5rem;
    filter: drop-shadow(0 0 8px var(--neon-magenta));
}

.lesson-title {
    font-size: 1.4rem;
    color: #fff;
    margin: 0;
    text-transform: uppercase;
    letter-spacing: 1px;
    line-height: 1.3;
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
}

.lesson-materia {
    font-size: 0.8rem;
    color: var(--neon-magenta);
    text-transform: uppercase;
    letter-spacing: 2px;
    font-weight: bold;
    display: block;
    margin-bottom: 5px;
}

.previous-score {
    font-size: 0.9rem;
    color: #aaa;
    margin-top: 10px;
}

.previous-score strong {
    color: var(--neon-cyan);
    font-family: var(--font-pixel);
}

.lesson-content {
    font-size: 16px;
    line-height: 1.8;
    color: #eee;
    margin-bottom: 30px;
}

.lesson-content h3 {
    color: var(--neon-cyan) !important;
    border-bottom: 2px solid var(--neon-cyan) !important;
    font-size: 1.2rem !important;
    padding-bottom: 10px;
    margin-top: 40px;
}

.lesson-content h4 {
    color: var(--neon-magenta) !important;
    font-size: 1rem !important;
    margin-top: 25px;
}

/* Elementos de contenido responsivos */
.lesson-content img, 
.lesson-content video, 
.lesson-content iframe {
    max-width: 100%;
    height: auto;
    border-radius: 8px;
    margin: 15px 0;
}

.sign-table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
    background: rgba(0, 0, 0, 0.2);
    border: 1px solid rgba(0, 243, 255, 0.1);
}

.sign-table th, .sign-table td {
    padding: 12px;
    border: 1px solid rgba(0, 243, 255, 0.1);
    text-align: center;
}

.sign-table th {
    background: rgba(0, 243, 255, 0.05);
    color: var(--neon-cyan);
    font-family: var(--font-pixel);
    font-size: 0.8rem;
}

/* Contenedor scroll para tablas en m칩vil */
.table-responsive {
    width: 100%;
    overflow-x: auto;
    margin: 20px 0;
    -webkit-overflow-scrolling: touch;
}

.svg-diagram, .critical-sim {
    width: 100%;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    padding: 15px;
    margin: 25px 0;
    overflow: hidden;
}

.svg-diagram svg, .critical-sim svg {
    width: 100%;
    height: auto;
    max-height: 400px;
}

.keypad {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
    gap: 8px;
    margin: 20px 0;
}

.keypad button {
    padding: 8px;
    font-size: 0.8rem;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: #fff;
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s;
}

.keypad button:hover {
    background: var(--neon-cyan);
    color: #000;
}

.big-slider {
    width: 100%;
    margin: 20px 0;
    accent-color: var(--neon-cyan);
}

.math-output {
    background: rgba(0, 243, 255, 0.05);
    padding: 15px;
    border-radius: 8px;
    border-left: 4px solid var(--neon-cyan);
    margin: 20px 0;
    font-family: 'Roboto Mono', monospace;
}

.real-examples, .reflection {
    padding-left: 20px;
    margin: 20px 0;
}

.real-examples li, .reflection li {
    margin-bottom: 12px;
    color: #ddd;
    position: relative;
}

.key-idea {
    background: rgba(255, 0, 255, 0.05);
    border-left: 4px solid var(--neon-magenta);
    padding: 15px 20px;
    margin: 25px 0;
    font-style: italic;
    color: #fff;
}

.sidebar-card {
    background: rgba(20, 20, 30, 0.85);
    border: 1px solid rgba(0, 243, 255, 0.3);
    box-shadow: 0 0 20px rgba(0, 243, 255, 0.1);
    border-radius: 12px;
    padding: 20px;
}

.info-item {
    margin-bottom: 18px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.info-item .label {
    font-size: 11px;
    color: #888;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.info-item .value {
    font-size: 13px;
    color: #fff;
    font-weight: bold;
    font-family: var(--font-pixel);
}

.progress-item {
    flex-direction: column;
    align-items: flex-start;
    gap: 10px;
}

.percent {
    font-size: 14px;
    color: var(--neon-cyan);
    align-self: flex-end;
    font-family: var(--font-pixel);
    text-shadow: 0 0 5px var(--neon-cyan);
}

.sidebar-actions {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-top: 25px;
}

/* Sidebar specific buttons */
.lesson-sidebar .btn-small {
    font-size: 11px !important;
    padding: 12px 20px !important;
    text-transform: uppercase;
    letter-spacing: 1px;
    border-radius: 8px !important;
    font-weight: bold;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    width: 100%;
    margin-bottom: 0;
    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.lesson-sidebar .btn-primary {
    background: rgba(255, 0, 255, 0.1);
    border: 1px solid var(--neon-magenta);
    color: var(--neon-magenta);
    box-shadow: 0 0 10px rgba(255, 0, 255, 0.1);
}

/* ===== BOTONES ===== */
.btn {
    display: inline-block;
    padding: 6px 10px; /* m치s compacto */
    font-family: var(--font-pixel);
    font-size: 12px; /* ligeramente menor */
    font-weight: 700;
    line-height: 1;
    text-align: center;
    text-decoration: none;
    color: #fff;
    background: #c00000;
    border: 2px solid #ff0000; /* menos grueso */
    border-radius: 6px; /* esquinas suaves */
    box-shadow: 0 0 0 2px #000, 3px 3px 0 #000, inset 0 0 6px rgba(255,255,255,0.18);
    transition: transform 120ms cubic-bezier(0.17, 0.67, 0.83, 0.67), box-shadow 120ms;
    cursor: pointer;
    position: relative;
    text-shadow: 1px 1px 0 #800000;
    letter-spacing: 0.5px;
    text-transform: uppercase;
}

.btn:hover {
    background: #ff3333;
    transform: translate(1px, 1px);
    box-shadow: 0 0 0 1px #000, 1px 1px 0 #000;
}

.btn:active {
    transform: translate(5px, 5px);
    box-shadow: 0 0 0 2px #000;
    background: #ff6666;
}

/* Efecto Scanlines */
.btn::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(rgba(255,255,255,0.1) 50%, rgba(0,0,0,0.1) 50%);
    background-size: 100% 4px;
    pointer-events: none;
    mix-blend-mode: overlay;
}

/* Variantes de Botones */
.btn-login,
.btn-register,
.btn-start {
    background: #0066cc;
    border-color: #0099ff;
    text-shadow: 2px 2px 0 #003366;
}

.btn-login:hover,
.btn-register:hover,
.btn-start:hover {
    background: #00ccff;
    color: #000;
}

.btn-guest {
    background: #333;
    border-color: #777;
    color: #fff;
    text-shadow: 1px 1px 0 #000;
}

.btn-guest:hover {
    background: #555;
    color: #fff;
}

.btn-dashboard {
    background: #338833;
    border-color: var(--neon-green);
    text-shadow: 2px 2px 0 #115511;
}

.btn-dashboard:hover {
    background: #66ff66;
    color: #000;
}

.btn-logout {
    background: #990000;
    border-color: #ff3333;
}

.btn-logout:hover {
    background: #cc0000;
}

.btn-primary {
    background: #0066cc;
    border-color: #0099ff;
    text-shadow: 2px 2px 0 #003366;
}

.btn-primary:hover {
    background: #00ccff;
    color: #000;
}

.btn-small {
    padding: 6px 10px;
    font-size: 11px;
    transform: none;
    border-radius: 6px;
}

.btn-small:hover {
    transform: translate(1px, 1px);
}

.btn-repeat {
    background: linear-gradient(135deg, #FF9800, #FFCA28);
    border-color: #FFC107;
    text-shadow: 1px 1px 0 #E65100;
    color: #fff;
    padding: 8px 16px;
    font-size: 13px;
    font-weight: bold;
    text-transform: uppercase;
    transition: all 0.2s ease;
    box-shadow: 0 0 15px rgba(255, 193, 7, 0.5);
}

.btn-repeat:hover {
    background: linear-gradient(135deg, #FFCA28, #FFF59D);
    color: #000;
    box-shadow: 0 0 25px rgba(255, 235, 59, 0.7);
    transform: translateY(-2px);
}

.btn-repeat:active {
    transform: translateY(1px);
    box-shadow: 0 0 10px rgba(255, 193, 7, 0.4);
}

/* ===== SVG Y VISUALES ===== */
.visual,
.svg-diagram {
    margin: 25px 0; /* M치s espacio */
    text-align: center;
}

.svg-diagram svg {
    image-rendering: auto !important; /* Para legibilidad vectorial */
    width: 100%;
    height: auto;
    max-height: 750px; /* Ajustado */
    display: block;
    margin: 0 auto;
    border-radius: 12px;
    box-shadow: 0 0 30px rgba(0,255,255,0.3);
}

svg text {
    font-size: 24px; /* Legible */
    user-select: none;
}

/* ===== TABLAS ===== */
.table {
    width: 100%;
    margin: 20px 0;
    border-collapse: collapse;
}

.table th, .table td {
    padding: 15px; /* Espacio */
    text-align: center;
    border: 1px solid #444;
    font-size: var(--base-font-size); /* Consistente */
}

.table th {
    background: #1a1a1a;
    color: var(--neon-cyan);
}

/* ===== INTERACTIVOS ===== */
.interactive-block {
    padding: var(--padding-base); /* Espacio */
    margin: 40px 0;
    border-radius: 12px;
    background: linear-gradient(145deg, #111111, #000000);
    border: 5px double var(--neon-green);
    box-shadow: var(--glow-green);
}

.interactive-block h4 {
    font-size: 20px;
}

.interactive-block label {
    font-size: 18px;
    margin-bottom: 10px;
}

.opciones-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
}

.opcion-btn {
    padding: 12px; /* reducido */
    font-size: 16px; /* menos grande */
    border-radius: 8px;
    background: #333;
    border: 3px solid var(--neon-pink);
    color: var(--neon-pink);
    cursor: pointer;
    transition: all 0.2s;
}

.opcion-btn:hover {
    background: var(--neon-pink);
    color: #000;
}

.retro-input, .retro-select {
    background: #000;
    color: var(--neon-green);
    border: 3px solid var(--neon-green);
    padding: 12px;
    font-size: 18px;
    width: 100%;
    box-shadow: inset 0 0 10px rgba(0,255,0,0.5);
}

.retro-input:focus, .retro-select:focus {
    border-color: var(--neon-cyan);
    box-shadow: 0 0 15px var(--neon-cyan);
}

/* ===== ALERTAS ===== */
.alert {
    padding: 20px;
    margin: 25px 0;
    border-radius: 8px;
    font-size: var(--base-font-size);
}

/* ===== ESTILOS ESPEC칈FICOS PARA DASHBOARD ===== */
@keyframes glitch {
    0% { text-shadow: -3px 0 var(--neon-pink), 3px 0 var(--neon-cyan); }
    50% { text-shadow: 3px 0 var(--neon-pink), -3px 0 var(--neon-cyan); }
    100% { text-shadow: -3px 0 var(--neon-pink), 3px 0 var(--neon-cyan); }
}

@keyframes pulse-glow {
    0%, 100% { box-shadow: 0 0 10px currentColor, inset 0 0 10px rgba(255,255,255,0.1); }
    50% { box-shadow: 0 0 30px currentColor, inset 0 0 20px rgba(255,255,255,0.2); }
}

@keyframes scan-line {
    0% { transform: translateY(-100%); }
    100% { transform: translateY(100%); }
}

.profile-summary {
    margin: 30px 0;
    text-align: center;
    padding: 30px;
    background: linear-gradient(135deg, rgba(0, 255, 255, 0.05), rgba(255, 0, 255, 0.05));
    border: 2px solid var(--neon-cyan);
    border-radius: 12px;
    box-shadow: 0 0 30px rgba(0, 255, 255, 0.3), inset 0 0 20px rgba(0, 255, 255, 0.1);
    position: relative;
    overflow: hidden;
}

.profile-summary::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: var(--neon-cyan);
    animation: scan-line 8s linear infinite;
}

.profile-name {
    font-size: 32px;
    font-weight: bold;
    margin: 15px 0 25px;
    letter-spacing: 2px;
    color: var(--neon-yellow);
    text-shadow: 
        0 0 10px var(--neon-yellow),
        -3px 0 var(--neon-pink),
        3px 0 var(--neon-cyan),
        0 0 20px rgba(255, 204, 0, 0.5);
}

.username-glow {
    color: var(--neon-cyan);
    text-shadow: 
        0 0 15px var(--neon-cyan),
        0 0 30px rgba(0, 255, 255, 0.6);
    animation: pulse-glow 2s ease-in-out infinite;
}

.stats-grid {
    display: grid;
    grid-template-columns: 100% 100%;
    gap: 0;
    margin: 40px 0;
    padding: 0;
    background: linear-gradient(90deg, rgba(255, 152, 0, 0.03), rgba(255, 0, 255, 0.03));
    border-radius: 15px;
    border: 2px dashed rgba(255, 255, 255, 0.1);
}

.stat-card {
    padding: 56px; /* M치s espacio interior para dar protagonismo */
    background: linear-gradient(135deg, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.8));
    border: 3px solid;
    border-radius: 15px;
    text-align: center;
    position: relative;
    transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    overflow: hidden;
    cursor: pointer;
    min-height: 320px; /* Altura aumentada para que el n칰mero tenga m치s presencia */
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    /* Asegurar que la tarjeta ocupe todo el ancho de la celda y pueda reducirse sin overflow */
    width: 100%;
    min-width: 0;
}

.stat-card::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
    opacity: 0;
    transition: opacity 0.3s;
}

.stat-card:hover {
    transform: translateY(-12px) scale(1.08);
    box-shadow: 
        0 25px 60px rgba(0, 0, 0, 0.9),
        0 0 40px currentColor;
}

.stat-card:hover::before {
    opacity: 1;
}

.stat-card h4 {
    font-size: 18px;
    font-weight: bold;
    letter-spacing: 2px;
    margin-bottom: 20px;
    text-transform: uppercase;
    opacity: 0.9;
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
}

.level-card {
    border-color: var(--neon-orange);
    box-shadow: 
        0 0 30px rgba(255, 152, 0, 0.5), 
        inset 0 0 20px rgba(255, 152, 0, 0.1);
}

.level-card h4 {
    color: var(--neon-orange);
    text-shadow: 
        0 0 15px var(--neon-orange),
        0 0 5px rgba(255, 152, 0, 0.8);
}

.points-card {
    border-color: var(--neon-pink);
    box-shadow: 
        0 0 30px rgba(255, 0, 255, 0.5), 
        inset 0 0 20px rgba(255, 0, 255, 0.1);
}

.points-card h4 {
    color: var(--neon-pink);
    text-shadow: 
        0 0 15px var(--neon-pink),
        0 0 5px rgba(255, 0, 255, 0.8);
}

.big-stat {
    font-family: var(--font-pixel);
    font-size: 86px; /* Tama침o grande para enfatizar los n칰meros */
    font-weight: bold;
    line-height: 1;
    display: block;
    transition: all 0.3s ease;
    margin: 15px 0;
    text-align: center;
}

.level-card .big-stat {
    color: var(--neon-orange);
    text-shadow: 
        0 0 25px var(--neon-orange),
        0 0 50px rgba(255, 152, 0, 0.6),
        2px 2px 0 rgba(0, 0, 0, 0.8);
}

.points-card .big-stat {
    color: var(--neon-pink);
    text-shadow: 
        0 0 25px var(--neon-pink),
        0 0 50px rgba(255, 0, 255, 0.6),
        2px 2px 0 rgba(0, 0, 0, 0.8);
    width: 50%;
}

.stat-card:hover .big-stat {
    transform: scale(1.15);
    filter: brightness(1.3);
}

.user-nivel {
    color: var(--neon-blue);
}

/* Responsividad para Tablets y M칩viles */
@media (max-width: 1024px) {
    .stats-grid {
        grid-template-columns: 1fr 1fr;
        gap: 0;
        padding: 0;
    }
    
    .stat-card {
        padding: 44px;
        min-height: 260px;
    }
    
    .big-stat {
        font-size: 80px;
    }
}

@media (max-width: 768px) {
    .stats-grid {
        grid-template-columns: 1fr;
        gap: 20px;
        padding: 20px;
        margin: 30px 0;
    }
    
    .stat-card {
        padding: 40px;
        min-height: 240px;
    }
    
    .stat-card h4 {
        font-size: 16px;
        margin-bottom: 15px;
    }
    
    .big-stat {
        font-size: 72px;
    }
}

@media (max-width: 480px) {
    .stats-grid {
        grid-template-columns: 1fr;
        gap: 15px;
        padding: 15px;
        margin: 20px 0;
    }
    
    .stat-card {
        padding: 30px;
        min-height: 180px;
    }
    
    .stat-card h4 {
        font-size: 14px;
        margin-bottom: 10px;
    }
    
    .big-stat {
        font-size: 60px;
    }
    
    .stat-card:hover {
        transform: translateY(-8px) scale(1.05);
    }
}

.progress-section {
    margin: 40px 0;
    padding: 25px;
    background: linear-gradient(90deg, rgba(0, 255, 255, 0.05), rgba(0, 204, 255, 0.05));
    border: 2px dashed var(--neon-cyan);
    border-radius: 10px;
}

.progress-section h3 {
    color: var(--neon-pink);
    text-shadow: 0 0 15px var(--neon-pink);
    margin-bottom: 20px;
    font-size: 22px;
}

.progress-bar {
    background: linear-gradient(90deg, rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.6));
    border: 3px solid var(--neon-cyan);
    height: 28px;
    border-radius: 14px;
    overflow: hidden;
    position: relative;
    box-shadow: 
        0 0 20px rgba(0, 255, 255, 0.4),
        inset 0 0 10px rgba(0, 0, 0, 0.5);
}

.progress-bar::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: repeating-linear-gradient(
        90deg,
        transparent,
        transparent 2px,
        rgba(0, 255, 255, 0.1) 2px,
        rgba(0, 255, 255, 0.1) 4px
    );
    pointer-events: none;
}

.progress-fill {
    background: linear-gradient(90deg, 
        var(--neon-green) 0%, 
        var(--neon-cyan) 50%, 
        var(--neon-pink) 100%);
    height: 100%;
    transition: width 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    box-shadow: 
        0 0 20px var(--neon-cyan),
        inset 0 0 15px rgba(255, 255, 255, 0.3);
    position: relative;
}

.progress-fill::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(90deg, 
        transparent,
        rgba(255, 255, 255, 0.2),
        transparent);
    animation: scan-line 2s linear infinite;
}

.progress-info {
    text-align: center;
    margin-top: 15px;
    font-size: 18px;
    font-weight: bold;
    color: var(--neon-cyan);
    text-shadow: 0 0 10px var(--neon-cyan);
    letter-spacing: 1px;
}

.badges-section {
    margin: 40px 0;
    padding: 25px;
    background: linear-gradient(90deg, rgba(255, 215, 0, 0.05), rgba(255, 140, 0, 0.05));
    border: 2px solid var(--neon-yellow);
    border-radius: 10px;
}

.badges-section h3 {
    color: var(--neon-yellow);
    text-shadow: 0 0 15px var(--neon-yellow);
    margin-bottom: 20px;
}

.badges-list {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    justify-content: center;
    align-items: center;
}

.badge {
    padding: 15px 25px;
    border-radius: 25px;
    font-size: 16px;
    font-weight: bold;
    text-shadow: 0 0 8px rgba(0, 0, 0, 0.6);
    border: 2px solid;
    transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    cursor: pointer;
    position: relative;
    overflow: hidden;
}

.badge::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.2), transparent);
    opacity: 0;
    transition: opacity 0.3s;
}

.badge:hover {
    transform: translateY(-6px) scale(1.08);
    filter: brightness(1.2);
}

.badge:hover::before {
    opacity: 1;
}

.badge.bronze {
    background: linear-gradient(135deg, #cd7f32 0%, #a56727 100%);
    color: #fff;
    border-color: #ffa500;
    box-shadow: 0 0 15px rgba(205, 127, 50, 0.5);
}

.badge.silver {
    background: linear-gradient(135deg, #c0c0c0 0%, #a0a0a0 100%);
    color: #000;
    border-color: #e0e0e0;
    box-shadow: 0 0 15px rgba(192, 192, 192, 0.5);
}

.badge.gold {
    background: linear-gradient(135deg, #ffd700 0%, #d4af37 100%);
    color: #000;
    border-color: #ffed4e;
    box-shadow: 0 0 20px rgba(255, 215, 0, 0.7);
}

.text-muted {
    color: var(--text-dim)
    font-style: italic;
}

.materias-list {
    margin-top: 40px;
}

.materia-section {
    margin-bottom: 50px;
}

.materia-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

.materia-title {
    font-size: 24px;
    color: var(--neon-orange);
}

.materia-progress {
    font-size: 16px;
    color: var(--text-dim);
}

.lessons-area {
    margin: 50px 0;
    padding: 30px;
    background: linear-gradient(135deg, rgba(0, 255, 0, 0.05), rgba(0, 204, 255, 0.05));
    border: 2px solid var(--neon-green);
    border-radius: 12px;
    box-shadow: 0 0 25px rgba(0, 255, 0, 0.25);
}

.lessons-area > h3 {
    color: var(--neon-green);
    text-shadow: 0 0 15px var(--neon-green);
    margin-bottom: 25px;
}

.materia-group {
    margin: 25px 0;
    padding: 20px;
    background: linear-gradient(90deg, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.6));
    border: 2px solid var(--neon-orange);
    border-radius: 10px;
    transition: all 0.3s ease;
    /* Estado inicial: invisible */
    opacity: 0;
    transform: translateY(40px);
}

/* Estado visible: activado cuando entra en viewport */
.materia-group.visible {
    opacity: 1;
    transform: translateY(0);
    animation: slideInUp 0.7s ease-out forwards;
}

/* Delay escalonado para cada grupo */
.materia-group:nth-of-type(1).visible { animation-delay: 0s; }
.materia-group:nth-of-type(2).visible { animation-delay: 0.15s; }
.materia-group:nth-of-type(3).visible { animation-delay: 0.3s; }
.materia-group:nth-of-type(n+4).visible { animation-delay: calc(0.15s * (n - 1)); }

.materia-group:hover {
    box-shadow: 0 0 25px rgba(255, 152, 0, 0.4), inset 0 0 15px rgba(255, 152, 0, 0.1);
    transform: translateY(-3px);
}

.materia-title {
    color: var(--neon-orange);
    text-shadow: 0 0 12px var(--neon-orange);
    font-size: 22px;
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 2px dotted var(--neon-orange);
}

/* Animaciones de entrada para lecciones */
@keyframes slideInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideInLeft {
    from {
        opacity: 0;
        transform: translateX(-40px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes slideInRight {
    from {
        opacity: 0;
        transform: translateX(40px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.leccion-list {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.leccion-item {
    display: grid;
    grid-template-columns: 50px 1fr auto;
    gap: 15px;
    align-items: center;
    padding: 18px;
    background: linear-gradient(90deg, rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.5));
    border: 2px solid var(--neon-cyan);
    border-radius: 8px;
    transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    position: relative;
    overflow: hidden;
    /* Estado inicial: invisible */
    opacity: 0;
    transform: translateY(30px);
}

/* Estado visible: activado cuando entra en viewport */
.leccion-item.visible {
    animation: slideInUp 0.6s ease-out forwards;
}

/* Alternar animaci칩n izquierda/derecha para efecto en cascada */
.leccion-item:nth-child(odd).visible {
    animation: slideInLeft 0.6s ease-out forwards;
}

.leccion-item:nth-child(even).visible {
    animation: slideInRight 0.6s ease-out forwards;
}

/* Delay escalonado seg칰n posici칩n */
.leccion-item:nth-child(1).visible { animation-delay: 0.1s; }
.leccion-item:nth-child(2).visible { animation-delay: 0.2s; }
.leccion-item:nth-child(3).visible { animation-delay: 0.3s; }
.leccion-item:nth-child(4).visible { animation-delay: 0.4s; }
.leccion-item:nth-child(5).visible { animation-delay: 0.5s; }
.leccion-item:nth-child(n+6).visible { animation-delay: calc(0.1s * (n - 5)); }

.leccion-item::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, 
        transparent,
        rgba(255, 255, 255, 0.1),
        transparent);
    transition: left 0.5s;
}

.leccion-item:hover {
    transform: translateX(8px) scale(1.02);
    box-shadow: 
        0 0 20px rgba(0, 255, 255, 0.4),
        inset 0 0 15px rgba(0, 255, 255, 0.1);
    border-color: var(--neon-pink);
}

.leccion-item:hover::before {
    left: 100%;
}

.leccion-status {
    font-size: 28px;
    text-align: center;
    filter: drop-shadow(0 0 8px currentColor);
}

.leccion-name {
    font-family: var(--font-pixel);
    color: var(--neon-yellow);
    font-size: 18px;
    font-weight: bold;
    letter-spacing: 1px;
    text-align: left;
}

.leccion-item.completed .leccion-name {
    color: var(--neon-green);
}

.leccion-actions {
    display: flex;
    gap: 12px;
    align-items: center;
    justify-content: flex-end;
    justify-self: end;
    white-space: nowrap;
}

.leccion-actions a {
    padding: 10px 20px;
    background: linear-gradient(135deg, var(--neon-cyan), var(--neon-blue));
    color: #000;
    border: 2px solid var(--neon-cyan);
    border-radius: 6px;
    text-decoration: none;
    font-weight: bold;
    font-size: 14px;
    transition: all 0.3s ease;
    cursor: pointer;
    box-shadow: 0 0 15px rgba(0, 204, 255, 0.5);
}

.leccion-actions a:hover {
    transform: scale(1.08);
    box-shadow: 0 0 25px rgba(0, 204, 255, 0.8);
    background: linear-gradient(135deg, var(--neon-green), var(--neon-cyan));
    border-color: var(--neon-green);
}

.ranking-panel {
    margin-top: 40px;
    padding: 25px;
    background: linear-gradient(135deg, rgba(255, 0, 255, 0.05), rgba(0, 255, 255, 0.05));
    border: 2px solid var(--neon-pink);
    border-radius: 12px;
    box-shadow: 0 0 25px rgba(255, 0, 255, 0.25);
}

.ranking-scroll-area {
    max-height: 350px;
    overflow-y: auto;
    border: 1px solid var(--neon-cyan);
    border-radius: 8px;
    padding: 10px;
    background: rgba(0, 0, 0, 0.3);
}

/* Scrollbar para ranking-scroll-area */
.ranking-scroll-area::-webkit-scrollbar {
    width: 8px;
}

.ranking-scroll-area::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 10px;
}

.ranking-scroll-area::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, var(--neon-cyan), var(--neon-pink));
    border-radius: 10px;
}

.ranking-scroll-area::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, var(--neon-pink), var(--neon-cyan));
}

.ranking-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 16px;
}

.ranking-table th, .ranking-table td {
    padding: 12px;
    text-align: left;
    border-bottom: 1px solid #444;
}

.actual-user {
    background: rgba(0,255,0,0.2);
    font-weight: bold;
}

.materia-nav-quick.fixed-quick-menu {
    position: fixed;
    bottom: 20px;
    left: 20px;
    padding: 10px;
    background: var(--bg-panel);
    border: 3px solid var(--neon-cyan);
    border-radius: 8px;
    box-shadow: var(--glow-cyan);
    z-index: 100;
}

.retro-select {
    background: #000;
    color: var(--neon-green);
    border: 2px solid var(--neon-green);
    padding: 8px;
    font-size: 16px;
    width: 200px;
}

.scroll-to-top-btn {
    position: fixed !important;
    bottom: 24px !important;
    right: 24px !important;
    left: auto !important;
    width: 48px;
    height: 48px;
    display: none;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, var(--neon-cyan), var(--neon-green));
    border: 3px solid var(--neon-cyan);
    border-radius: 50%;
    box-shadow: 0 0 18px rgba(0,255,255,0.5), inset 0 0 10px rgba(255,255,255,0.15);
    cursor: pointer;
    z-index: 1400 !important;
    transition: transform 0.15s ease, box-shadow 0.2s ease, opacity 0.2s ease;
}

.scroll-to-top-btn:hover {
    transform: scale(1.08);
    box-shadow: 0 0 28px rgba(0,255,255,0.7), inset 0 0 12px rgba(255,255,255,0.2);
}

#goToLessonsBtn {
    display: inline-block;
    padding: 8px 12px;
    font-size: 13px;
    border-radius: 8px;
    background: linear-gradient(90deg, var(--neon-cyan), var(--neon-green));
    color: #000;
    border: 2px solid rgba(255,255,255,0.06);
    box-shadow: var(--glow-cyan);
}

.lessons-modal {
    position: fixed;
    top: 0; left: 0; right:0; bottom:0;
    display:none;
    align-items:center;
    justify-content:center;
    z-index: 1400;
}

.lessons-modal.open { display:flex; }

.lessons-modal .modal-backdrop {
    position:absolute; inset:0; background: rgba(0,0,0,0.7); backdrop-filter: blur(4px);
}

.lessons-modal .modal-content {
    position:relative; z-index:1401;
    max-width: 920px; width: 95%; max-height: 80vh; overflow:auto;
    background: linear-gradient(180deg, rgba(10,10,10,0.98), rgba(20,20,20,0.95));
    border: 4px solid var(--neon-green); border-radius: 10px;
    padding: 20px;
}

.lessons-modal h2 { margin-top:0; font-size:20px; }
.lessons-modal .modal-controls { margin: 10px 0 18px; }
#lessons-search { width:100%; padding:10px; border-radius:8px; font-size:16px; background:var(--bg-panel); border:1px solid rgba(255,255,255,0.04); color:var(--text-light); }

.lessons-filter-note { margin-bottom: 12px; color: var(--text-muted); font-size: 14px; }
.lessons-filter-note strong { color: var(--neon-cyan); }

.lessons-list { display:flex; flex-direction:column; gap:8px; }
.lesson-link { display:flex; justify-content:space-between; align-items:center; padding:10px; border-radius:8px; background:rgba(255,255,255,0.02); text-decoration:none; color:var(--text-light); }
.lesson-link:hover { background: rgba(0,255,255,0.06); transform:translateX(4px); }

.lesson-left { display:flex; align-items:center; gap:10px; }
.lesson-status { display:inline-block; width:26px; height:26px; line-height:26px; text-align:center; border-radius:6px; background:rgba(255,255,255,0.03); color:var(--neon-green); font-weight:700; }
.lesson-status[aria-hidden="true"] { pointer-events:none; }

.lesson-meta { color:var(--text-muted); font-size:13px; margin-left:12px; }

@media(max-width:720px){
    .lessons-modal .modal-content { padding:12px; max-width: 96%; width:96%; }
}

.arrow-up {
    font-size: 18px;
    color: #000;
}

/* ===== ESTILOS ESPEC칈FICOS PARA CONTENT ===== */
.content-header {
    text-align: center;
    margin-bottom: 40px;
}

.materia-tag {
    display: inline-block;
    padding: 8px 16px;
    background: rgba(0,255,255,0.1);
    border: 2px solid var(--neon-cyan);
    border-radius: 20px;
    font-size: 16px;
    color: var(--neon-cyan);
    margin-top: 10px;
}

.progress-info-local {
    font-style: italic;
    color: var(--text-dim);
    margin-top: 15px;
}

.content-body {
    max-width: 800px;
    margin: 0 auto;
}

.latex-display {
    text-align: center;
    background: #1a1a1a;
    padding: 15px;
    border-radius: 8px;
    margin: 20px 0;
}

.caption {
    font-style: italic;
    color: var(--text-dim);
    text-align: center;
    margin-top: 10px;
}

#explorador-derivada {
    border: 3px solid var(--neon-blue);
    border-radius: 12px;
}

#curva {
    stroke-width: 4px;
}

#tangente {
    stroke-width: 3px;
}

#punto {
    r: 6px;
}

#tooltip-bg {
    opacity: 0.9;
}

#tooltip-text {
    font-size: 14px;
}

/* ===== RESPONSIVO ===== */
@media (max-width: 768px) {
    :root {
        --base-font-size: 18px;
    }

    h1 {
        font-size: 32px;
    }

    h2 {
        font-size: 24px;
    }

    .container {
        padding: 15px;
    }

    .interactive-block {
        padding: 20px;
    }

    .svg-diagram svg {
        max-height: 650px;
    }

    .header {
        padding: 8px 12px;
    }

    .header h1 {
        font-size: 20px;
    }

    .stats-grid {
        grid-template-columns: 1fr;
    }
}

/* ===== FIN DEL CSS ===== */

/* =======================================================
   LC-ADVANCE - style.css (Adiciones Espec칤ficas 2025 v3.1)
   Solo estilos nuevos o espec칤ficos para los archivos solicitados:
   - login.php
   - index.php
   - quiz.php
   - leccion_detalle.php
   - ranking.php
   (logout.php no necesita estilos, es solo redirecci칩n)
   No se repiten estilos ya existentes en tu CSS principal
========================================================== */

/* ===== LOGIN.PHP ===== */
.auth-page {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    background: var(--bg-dark);
}

.auth-form-wrapper {
    background: var(--bg-card);
    padding: 40px;
    border-radius: 12px;
    box-shadow: var(--glow-cyan);
    text-align: center;
    max-width: 450px;
    width: 90%;
}

.auth-title {
    font-size: 42px;
    font-family: var(--font-pixel);
    color: var(--neon-cyan);
    margin-bottom: 40px;
    text-shadow: 
        0 0 20px var(--neon-cyan),
        0 0 40px rgba(0, 204, 255, 0.5),
        4px 4px 0 var(--neon-pink),
        -2px -2px 0 var(--neon-orange);
    letter-spacing: 3px;
    text-align: center;
    animation: pulse-glow 2s ease-in-out infinite;
    text-transform: uppercase;
    font-weight: bold;
}

.mensaje {
    padding: 15px;
    border-radius: 8px;
    margin-bottom: 25px;
    font-size: 18px;
}

.mensaje.exito {
    background: rgba(0,255,0,0.2);
    border: 2px solid var(--neon-green);
    color: var(--neon-green);
}

.mensaje.error {
    background: rgba(255,0,0,0.2);
    border: 2px solid var(--neon-red);
    color: var(--neon-red);
}

.auth-form {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.auth-form .btn-full-width,
.auth-form button.btn-full-width {
    width: 100% !important;
    display: block !important;
    max-width: 100% !important;
    align-self: stretch !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
}

.input-group {
    text-align: left;
}

.input-group label {
    display: block;
    font-size: 18px;
    color: var(--neon-yellow);
    margin-bottom: 8px;
}

.retro-input {
    background: #000;
    color: var(--text-light);
    border: 3px solid var(--neon-green);
    padding: 14px;
    font-size: 18px;
    width: 100%;
    border-radius: 0;
    box-shadow: inset 0 0 10px rgba(0,255,0,0.3);
}

.retro-input:focus {
    outline: none;
    border-color: var(--neon-cyan);
    box-shadow: 0 0 15px var(--neon-cyan), inset 0 0 10px rgba(0,255,255,0.5);
}

.btn-full-width {
    width: 100%;
    max-width: 100%;
    display: block;
    align-self: stretch;
    padding: 12px 14px; /* compacto */
}

.auth-links {
    margin-top: 25px;
    font-size: 16px;
}

.link-glow {
    color: var(--neon-blue);
    text-decoration: none;
}

.link-glow:hover {
    color: var(--neon-cyan);
    text-shadow: var(--glow-cyan);
}

/* ===== INDEX.PHP ===== */
.intro {
    text-align: center;
    margin: 60px 0;
}

.intro h2 {
    font-size: 32px;
    color: var(--neon-green);
    margin-bottom: 25px;
}

.intro p {
    font-size: 22px;
    margin: 15px 0;
    max-width: 800px;
    margin-left: auto;
    margin-right: auto;
}

.features {
    margin: 60px 0;
    text-align: center;
}

.features h3 {
    font-size: 28px;
    color: var(--neon-pink);
    margin-bottom: 30px;
}

.features ul {
    list-style: none;
    max-width: 700px;
    margin: 0 auto;
    text-align: left;
    font-size: 20px;
    line-height: 2.2;
}

.features li::before {
    content: "郊 ";
    color: var(--neon-cyan);
}

.footer {
    text-align: center;
    padding: 25px;
    background: #000;
    border-top: 4px solid var(--neon-yellow);
    font-size: 16px;
    color: var(--text-dim);
    margin-top: auto;
}

/* ===== QUIZ.PHP ===== */
.quiz-container {
    max-width: 900px;
    margin: 40px auto;
    padding: 35px;
    background: var(--bg-card);
    border-radius: 12px;
    box-shadow: var(--glow-pink);
}

.quiz-container h1 {
    font-size: 32px;
    color: var(--neon-magenta);
    text-align: center;
    margin-bottom: 40px;
}

.quiz-question {
    margin-bottom: 35px;
    padding: 25px;
    background: var(--bg-panel);
    border-radius: 10px;
    box-shadow: 0 0 15px rgba(255,0,255,0.2);
}

.quiz-question p {
    font-size: 22px;
    margin-bottom: 20px;
    color: var(--neon-yellow);
}

.quiz-option {
    display: block;
    margin: 12px 0;
    padding: 12px; /* m치s compacto */
    background: #222;
    border: 3px solid var(--neon-pink);
    border-radius: 8px;
    font-size: 16px;
    cursor: pointer;
    transition: all 0.2s;
}

.quiz-option:hover {
    background: var(--neon-pink);
    color: #000;
    transform: translate(1px, 1px);
}

.quiz-option input[type="radio"] {
    margin-right: 12px;
    accent-color: var(--neon-pink);
}

.btn-submit {
    width: 100%;
    padding: 12px 14px; /* compacto */
    font-size: 16px;
    margin-top: 20px;
}

.btn-back {
    display: block;
    text-align: center;
    margin-top: 30px;
    padding: 12px 20px;
}

/* ===== LECI칍N_DETALLE: Mejoras distribuci칩n y est칠tica del content ===== */
.lesson-quiz-container {
    max-width: 1200px;
    margin: 30px auto;
    display: grid;
    grid-template-columns: 1fr 340px; /* columna principal + sidebar */
    gap: 28px;
    align-items: start;
}

/* Sidebar lateral sticky con info r치pida */
.side-panel {
    position: sticky;
    top: 110px;
    align-self: start;
    background: linear-gradient(180deg,#0f1112,#0b0b0b);
    border: 2px solid rgba(255,255,255,0.04);
    padding: 18px;
    border-radius: 12px;
    box-shadow: 0 8px 18px rgba(0,0,0,0.6);
    min-width: 260px;
}

.side-panel .stat {
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:12px;
    padding:10px 12px;
    background: rgba(255,255,255,0.02);
    border-radius:8px;
    margin-bottom:12px;
    font-size: 15px;
}

.side-panel .progress {
    margin-top:8px;
}

.side-panel .actions { display:flex; flex-direction:column; gap:10px; margin-top:10px; }

/* Ajustes de paneles principales */
.content-view, .quiz-view {
    padding: 22px;
    background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.06));
    border-radius: 12px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.75);
    min-height: auto; /* evitar alturas exageradas */
}

/* Columnas legibles en contenido largo (desktop) */
.content-body {
    column-width: 440px;
    column-gap: 44px;
    max-width: none;
}

.content-body > * {
    break-inside: avoid;
    -webkit-column-break-inside: avoid;
    page-break-inside: avoid;
}

/* Forzar que ciertos elementos ocupen ambas columnas */
.content-body .svg-diagram,
.content-body table,
.content-body blockquote,
.content-body pre,
.content-body .visual {
    column-span: all;
    width: 100%;
    display: block;
}

/* Footer de contenido con botones compactos y ordenados */
.content-footer {
    display:flex;
    gap:12px;
    justify-content: space-between;
    align-items:center;
    margin-top:18px;
    flex-wrap:wrap;
}

.content-footer .btn {
    padding: 10px 14px;
    font-size: 14px;
    border-radius: 10px;
}

/* Botones espec칤ficos m치s discretos y coherentes */
.btn-play { 
    padding: 10px 20px; 
    font-size: 14px; 
    border-radius: 8px;
    background: linear-gradient(135deg, #0066cc, #0099ff);
    border: 2px solid #0099ff;
    color: #fff;
    text-shadow: 1px 1px 0 #003366;
    text-transform: uppercase;
    font-weight: bold;
    transition: all 0.2s ease;
    box-shadow: 0 0 10px rgba(0, 153, 255, 0.4);
}

.btn-play:hover {
    background: linear-gradient(135deg, #0099ff, #00ccff);
    box-shadow: 0 0 20px rgba(0, 204, 255, 0.6);
    transform: translateY(-2px);
}

.btn-play:active {
    transform: translateY(1px);
    box-shadow: 0 0 10px rgba(0, 153, 255, 0.3);
}

.btn-completar { 
    padding: 10px 20px; 
    font-size: 14px; 
    border-radius: 8px; 
    background: linear-gradient(90deg, #ffd54a, #ffdd57); 
    border: 2px solid #ffb300; 
    color: #000;
    text-shadow: 1px 1px 0 rgba(0, 0, 0, 0.2);
    text-transform: uppercase;
    font-weight: bold;
    transition: all 0.2s ease;
    box-shadow: 0 0 10px rgba(255, 193, 7, 0.4);
}

/* Quiz: radio y opciones alineadas */
#quiz-form .quiz-option { display:flex; align-items:center; gap:12px; padding:10px 12px; }
#quiz-form .quiz-option label { margin:0; flex:1; }
#quiz-form .quiz-option input[type="radio"] { width:18px; height:18px; accent-color: var(--neon-pink); }

/* ===== QUIZ PANEL SEPARADO ===== */
.quiz-panel {
    max-width: 1100px;
    margin: 20px auto;
    background: linear-gradient(180deg,#071118,#0b0b0b);
    border: 3px solid var(--neon-cyan);
    border-radius: 12px;
    box-shadow: 0 12px 30px rgba(0,0,0,0.7);
    overflow: hidden;
    transition: transform .22s ease, opacity .22s ease;
    padding: 0;
}

.quiz-panel.hidden {
    opacity: 0;
    height: 0;
    pointer-events: none;
    transform: translateY(8px);
}

.quiz-panel-header {
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:12px;
    padding: 14px 18px;
    background: linear-gradient(90deg, rgba(0,255,255,0.03), rgba(0,0,0,0.02));
    border-bottom: 2px solid rgba(255,255,255,0.03);
}

.quiz-panel-header h3 {
    margin: 0;
    font-size: 16px;
    color: var(--neon-cyan);
    font-family: var(--font-pixel);
}

.quiz-panel-container {
    padding: 18px;
}

/* Bot칩n para abrir/alternar quiz dentro del footer */
.toggle-quiz-btn {
    background: linear-gradient(90deg, #00bcd4, #00e5a8);
    border: 3px solid #009e9e;
    color: #000;
    box-shadow: 6px 6px 0 #000;
    padding: 8px 12px;
    font-size: 14px;
    border-radius: 999px;
}

.toggle-quiz-btn:hover { transform: translateY(-3px); }

/* Ajustes responsive: panel fijo en m칩viles (bottom sheet) */
@media (max-width: 900px) {
    .quiz-panel {
        position: fixed;
        left: 12px;
        right: 12px;
        bottom: 12px;
        z-index: 9999;
        width: auto;
        max-width: calc(100% - 24px);
        border-radius: 12px;
    }
    .quiz-panel.hidden { transform: translateY(40px) scale(.99); opacity:0; }
}

.tab-btn.quiz-tab-btn {
    min-width: 120px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

/* Marcar tab activo cuando panel abierto */
.tab-btn.active { box-shadow: 0 4px 0 rgba(0,0,0,0.9); transform: translateY(-2px); }

/* Peque침as mejoras visuales a quiz options en panel */
.quiz-question-card { margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px dashed rgba(255,255,255,0.02); }
.quiz-footer { margin-top:10px; display:flex; justify-content:center; gap:10px; }

/* Ajustes de color y fondo para mejor contraste en quiz panel */
.quiz-panel {
    background: linear-gradient(180deg, rgba(7, 17, 24, 0.9), rgba(11, 11, 11, 0.9));
    border: 3px solid rgba(0, 255, 255, 0.2);
}

.quiz-panel-header {
    background: rgba(0, 0, 0, 0.6);
    border-bottom: 2px solid rgba(255, 255, 255, 0.1);
}

.quiz-option {
    background: rgba(34, 34, 34, 0.8);
    border: 3px solid var(--neon-pink);
}

.quiz-option:hover {
    background: var(--neon-pink);
    color: #000;
    transform: translate(1px, 1px);
}

.btn-submit {
    background: linear-gradient(90deg, #00bcd4, #00e5a8);
    border: 3px solid #009e9e;
    color: #000;
    padding: 10px 14px;
    font-size: 16px;
    border-radius: 10px;
    transition: background 0.3s, transform 0.3s;
}

.btn-submit:hover {
    transform: translateY(-2px);
    background: linear-gradient(90deg, #00e5a8, #00bcd4);
}

/* Ajustes finales para asegurar legibilidad y est칠tica en todos los dispositivos */
@media (max-width: 900px) {
    .quiz-panel {
        padding: 12px;
        border-radius: 10px;
    }

    .quiz-panel-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 8px;
    }

    .quiz-panel-header h3 {
        font-size: 14px;
    }

    .quiz-panel-container {
        padding: 14px;
    }

    .btn-submit {
        width: 100%;
        padding: 12px 0;
        font-size: 18px;
    }
}

/* Peque침o polish: headers alineados en desktop */
@media (min-width: 1100px) {
    .content-header { display:flex; align-items:flex-start; justify-content:space-between; gap:16px; text-align:left; }
    .content-header h2 { margin:0; }
}

/* ===== BOTONES: m치s compactos y agradables ===== */
.navigation-tabs { gap: 10px; align-items:center; }
.tab-btn {
    padding: 6px 10px;
    font-size: 13px;
    background: linear-gradient(180deg,#0e1314,#141414);
    border: 2px solid rgba(0,255,255,0.14);
    color: var(--neon-cyan);
    border-radius: 999px;
    box-shadow: 0 6px 0 rgba(0,0,0,0.85);
    min-width: 110px;
    display:inline-flex;
    gap:8px;
    align-items:center;
    justify-content:center;
}
.tab-btn:hover { transform: translateY(-2px); box-shadow: 0 3px 0 rgba(0,0,0,0.85); }
.tab-btn.active {
    background: linear-gradient(90deg,var(--neon-cyan),var(--neon-green));
    color: #000;
    border-color: var(--neon-cyan);
    box-shadow: 0 4px 0 rgba(0,0,0,0.85);
}

/* "Ir al Quiz" y botones de acci칩n */
.toggle-quiz-btn {
    background: linear-gradient(90deg,#00c2d6,#00e1a8);
    border: 3px solid #00a3a3;
    color: #000;
    padding: 8px 12px;
    font-size: 14px;
    border-radius: 999px;
    box-shadow: 6px 6px 0 rgba(0,0,0,0.9);
}
.toggle-quiz-btn:hover { transform: translateY(-3px); }

/* Asegurar que el toggle sea claramente clicable */
.toggle-quiz-btn[disabled], .tab-btn.disabled { opacity: .5; cursor:not-allowed; pointer-events:none; }

/* Spinner / overlay para el panel del quiz */
.quiz-panel-container { position: relative; min-height: 80px; }
.loading-overlay {
    position: absolute;
    inset: 0;
    display:flex;
    align-items:center;
    justify-content:center;
    flex-direction:column;
    gap:10px;
    background: rgba(0,0,0,0.45);
    backdrop-filter: blur(3px);
    z-index: 40;
}
.loading-overlay.hidden { display: none; }
.loading-overlay .spinner {
    width: 42px;
    height: 42px;
    border-radius: 50%;
    border: 4px solid rgba(255,255,255,0.06);
    border-top-color: var(--neon-cyan);
    animation: spin 0.9s linear infinite;
    box-shadow: 0 0 12px rgba(0,255,255,0.08);
}
@keyframes spin { to { transform: rotate(360deg); } }
.loading-overlay .loading-text { color: var(--text-dim); font-size: 13px; }

/* Overlay / spinner ya a침adidos: asegurar visibilidad y stacking */
.quiz-panel { display: block; }
.quiz-panel.hidden { opacity: 0; height: 0; pointer-events: none; transform: translateY(8px); }
.loading-overlay { transition: opacity .18s ease; }
.loading-overlay.hidden { opacity: 0; pointer-events: none; }
.loading-overlay:not(.hidden) { opacity: 1; pointer-events: auto; }

/* =======================================================
   ESTILOS ESPEC칈FICOS PARA LECCI칍N: DERIVADAS B츼SICAS
   (SVG interactivo, simulador, slider, autoevaluaci칩n)
========================================================== */

/* Contenedor principal del SVG explorador */
#explorador-derivada {
    background: #000;
    border: 4px solid var(--neon-blue);
    border-radius: 12px;
    box-shadow: 0 0 25px rgba(0, 204, 255, 0.4);
    margin: 30px auto;
    cursor: crosshair; /* Indica que es interactivo */
}

/* Tooltip dentro del SVG */
#tooltip-bg {
    fill: #111111;
    stroke: var(--neon-cyan);
    stroke-width: 2;
}

#tooltip-text {
    fill: var(--neon-yellow);
    font-family: var(--font-retro);
    font-size: 16px;
}

/* L칤neas y elementos del SVG */
#curva { stroke: var(--neon-cyan); stroke-width: 5; }
#tangente { stroke: var(--neon-pink); stroke-width: 4; stroke-dasharray: 8,4; }
#punto { fill: var(--neon-pink); stroke: #000; stroke-width: 2; }

/* Caption bajo el SVG */
.caption {
    text-align: center;
    margin-top: 15px;
    font-style: italic;
    color: var(--text-dim);
    font-size: 18px;
}

/* =======================================================
   SIMULADOR INTELIGENTE DE DERIVADAS
========================================================== */
.derivative-simulator {
    margin: 40px 0;
    padding: 25px;
    background: var(--bg-panel);
    border-radius: 12px;
    border: 3px solid var(--neon-orange);
    box-shadow: var(--glow-orange);
}

.calc-box {
    display: flex;
    flex-direction: column;
    gap: 15px;
    margin: 20px 0;
    padding: 20px;
    background: #000;
    border-radius: 8px;
    border: 2px solid var(--neon-green);
}

#polyInput {
    background: #000;
    color: var(--neon-green);
    border: 3px solid var(--neon-green);
    padding: 14px;
    font-size: 20px;
    font-family: var(--font-retro);
    border-radius: 0;
    box-shadow: inset 0 0 10px rgba(0,255,0,0.3);
}

#polyInput:focus {
    border-color: var(--neon-cyan);
    box-shadow: 0 0 15px var(--neon-cyan);
    outline: none;
}

.calc-box button {
    align-self: flex-start;
    padding: 12px 24px;
    background: #006633;
    border: 3px solid var(--neon-green);
    color: #fff;
    font-size: 16px;
    cursor: pointer;
}

.calc-box button:hover {
    background: var(--neon-green);
    color: #000;
}

.math-output {
    margin-top: 20px;
    padding: 20px;
    background: #1a1a1a;
    border-radius: 8px;
    border-left: 5px solid var(--neon-yellow);
    font-size: 24px;
    min-height: 60px;
}

/* =======================================================
   DERIVACI칍N PASO A PASO
========================================================== */
.derivation-steps {
    margin: 30px 0;
}

.derivation-steps button {
    margin-bottom: 15px;
    background: #663300;
    border-color: var(--neon-orange);
}

.derivation-steps button:hover {
    background: var(--neon-orange);
    color: #000;
}

#stepsList {
    list-style: none;
    padding-left: 0;
}

#stepsList li {
    padding: 12px;
    background: var(--bg-panel);
    margin-bottom: 8px;
    border-radius: 6px;
    border-left: 4px solid var(--neon-orange);
    font-size: 20px;
}

/* =======================================================
   SLIDER DE PENDIENTE
========================================================== */
.slope-explorer {
    margin: 30px 0;
    padding: 20px;
    background: var(--bg-panel);
    border-radius: 10px;
    border: 2px solid var(--neon-blue);
}

#xSlider {
    width: 100%;
    height: 12px;
    background: #333;
    border-radius: 6px;
    accent-color: var(--neon-cyan);
    cursor: pointer;
}

#slopeInfo {
    margin-top: 20px;
    padding: 15px;
    background: #000;
    border-radius: 8px;
    text-align: center;
    font-size: 24px;
    color: var(--neon-yellow);
}

/* =======================================================
   AUTOEVALUACI칍N
========================================================== */
.self-check {
    margin: 30px 0;
    padding: 25px;
    background: var(--bg-panel);
    border-radius: 12px;
    border: 3px solid var(--neon-pink);
}

#studentAnswer {
    width: 100%;
    margin-bottom: 15px;
    padding: 14px;
    background: #000;
    border: 3px solid var(--neon-pink);
    color: var(--neon-pink);
    font-size: 20px;
}

#studentAnswer:focus {
    border-color: var(--neon-magenta);
    box-shadow: 0 0 15px var(--neon-magenta);
}

.self-check button {
    background: #660066;
    border-color: var(--neon-pink);
}

.self-check button:hover {
    background: var(--neon-pink);
    color: #000;
}

#feedback {
    margin-top: 20px;
    padding: 15px;
    border-radius: 8px;
    font-size: 22px;
    text-align: center;
    min-height: 60px;
}

#feedback .ok {
    color: var(--neon-green);
    background: rgba(0,255,0,0.2);
    border: 2px solid var(--neon-green);
}

#feedback .error {
    color: var(--neon-red);
    background: rgba(255,0,0,0.2);
    border: 2px solid var(--neon-red);
}
/* =======================================================
   ESTILOS ESPEC칈FICOS PARA LECCI칍N: PUNTOS CR칈TICOS  M츼XIMOS Y M칈NIMOS
   (SVG interactivo, simulador, detector autom치tico, autoevaluaci칩n)
   Solo elementos nuevos o no cubiertos en tu CSS actual
========================================================== */

/* Simulador de m치ximos y m칤nimos (slider) */
.critical-sim {
    margin: 40px 0;
    padding: 30px;
    background: var(--bg-panel);
    border-radius: 12px;
    border: 3px solid var(--neon-blue);
    box-shadow: var(--glow-blue);
}

#critSlider {
    width: 100%;
    height: 14px;
    background: #333;
    border-radius: 8px;
    outline: none;
    accent-color: var(--neon-cyan);
    cursor: pointer;
}

#critInfo {
    margin-top: 20px;
    padding: 20px;
    background: #000;
    border-radius: 8px;
    text-align: center;
    font-size: 24px;
    color: var(--neon-yellow);
    border: 2px solid var(--neon-cyan);
}

/* SVG del simulador */
#critSVG {
    background: #000;
    border: 4px solid var(--neon-blue);
    border-radius: 12px;
    box-shadow: 0 0 25px rgba(0, 204, 255, 0.4);
    margin-top: 20px;
}

#critCurve {
    stroke: var(--neon-cyan);
    stroke-width: 5;
}

#critPoint {
    fill: var(--neon-pink);
    stroke: #000;
    stroke-width: 2;
}

/* Autoevaluaci칩n r치pida */
.self-check {
    margin: 40px 0;
    padding: 30px;
    background: var(--bg-panel);
    border-radius: 12px;
    border: 3px solid var(--neon-pink);
    box-shadow: var(--glow-pink);
}

#critAnswer {
    width: 100%;
    margin-bottom: 15px;
    padding: 14px;
    background: #000;
    border: 3px solid var(--neon-pink);
    color: var(--neon-pink);
    font-size: 20px;
    font-family: var(--font-retro);
}

#critAnswer:focus {
    border-color: var(--neon-magenta);
    box-shadow: 0 0 15px var(--neon-magenta);
    outline: none;
}

.self-check button {
    background: #660066;
    border-color: var(--neon-pink);
    padding: 12px 24px;
    font-size: 16px;
}

.self-check button:hover {
    background: var(--neon-pink);
    color: #000;
}

#critFeedback {
    margin-top: 20px;
    padding: 18px;
    border-radius: 8px;
    font-size: 22px;
    text-align: center;
    min-height: 60px;
}

#critFeedback .ok {
    color: var(--neon-green);
    background: rgba(0,255,0,0.2);
    border: 2px solid var(--neon-green);
}

#critFeedback .error {
    color: var(--neon-red);
    background: rgba(255,0,0,0.2);
    border: 2px solid var(--neon-red);
}

/* =======================================================
   DETECTOR AUTOM츼TICO DE M츼XIMOS Y M칈NIMOS
========================================================== */
.auto-detector {
    margin: 50px 0;
    padding: 35px;
    background: var(--bg-panel);
    border-radius: 14px;
    border: 4px solid var(--neon-orange);
    box-shadow: var(--glow-orange);
}

.input-panel {
    display: flex;
    flex-direction: column;
    gap: 15px;
    margin-bottom: 25px;
    padding: 20px;
    background: #000;
    border-radius: 10px;
    border: 2px solid var(--neon-green);
}

.input-panel label {
    font-size: 22px;
    color: var(--neon-yellow);
    text-align: center;
}

#funcInput {
    background: #000;
    color: var(--neon-green);
    border: 3px solid var(--neon-green);
    padding: 16px;
    font-size: 22px;
    font-family: var(--font-retro);
    text-align: center;
    border-radius: 0;
    box-shadow: inset 0 0 12px rgba(0,255,0,0.3);
}

#funcInput:focus {
    border-color: var(--neon-cyan);
    box-shadow: 0 0 20px var(--neon-cyan), inset 0 0 12px rgba(0,255,255,0.5);
    outline: none;
}

.input-panel button {
    align-self: center;
    padding: 14px 30px;
    background: #663300;
    border: 3px solid var(--neon-orange);
    color: #fff;
    font-size: 18px;
    cursor: pointer;
}

.input-panel button:hover {
    background: var(--neon-orange);
    color: #000;
}

/* Cajas de resultados matem치ticos */
.math-box {
    margin: 20px 0;
    padding: 25px;
    background: #1a1a1a;
    border-radius: 10px;
    border-left: 6px solid var(--neon-yellow);
    font-size: 26px;
    text-align: center;
    min-height: 80px;
}

/* SVG del detector autom치tico */
#autoSVG {
    background: #000;
    border: 4px solid var(--neon-orange);
    border-radius: 14px;
    box-shadow: 0 0 30px rgba(255, 153, 0, 0.4);
}

#autoCurve {
    stroke: var(--neon-cyan);
    stroke-width: 5;
}

#autoPoints circle {
    fill: var(--neon-pink);
    stroke: #000;
    stroke-width: 2;
}

#autoPoints text {
    fill: var(--neon-yellow);
    font-size: 16px;
    font-family: var(--font-retro);
}

/* Caption bajo SVG */
.caption {
    text-align: center;
    margin-top: 15px;
    font-style: italic;
    color: var(--text-dim);
    font-size: 18px;
}
/* =======================================================
   ESTILOS ESPEC칈FICOS PARA LECCI칍N: NIVELES DE ORGANIZACI칍N BIOL칍GICA
   (Analog칤as celulares, simulador, mini-juego, tablas, etc.)
   Solo elementos nuevos o no cubiertos en tu CSS actual
========================================================== */

/* T칤tulo principal ne칩n grande */
.neon-title {
    font-family: var(--font-pixel);
    font-size: 38px;
    color: var(--neon-cyan);
    text-shadow: 0 0 20px var(--neon-cyan), 4px 4px 0 #000;
    margin-bottom: 30px;
    letter-spacing: 4px;
}

/* Introducci칩n destacada */
.intro {
    font-size: 22px;
    text-align: center;
    max-width: 900px;
    margin: 30px auto;
    color: var(--text-light);
    line-height: 2;
}

/* T칤tulos de secci칩n */
.section-title {
    font-size: 28px;
    color: var(--neon-orange);
    text-align: center;
    margin: 50px 0 25px;
    text-shadow: var(--glow-orange);
    border-bottom: 3px dotted var(--neon-yellow);
    padding-bottom: 12px;
}

/* Lista numerada de niveles */
.niveles-list {
    counter-reset: nivel-counter;
    list-style: none;
    padding-left: 0;
    max-width: 800px;
    margin: 40px auto;
}

.niveles-list li {
    counter-increment: nivel-counter;
    font-size: 22px;
    margin: 20px 0;
    padding: 15px 20px 15px 70px;
    background: var(--bg-panel);
    border-radius: 10px;
    border-left: 6px solid var(--neon-green);
    position: relative;
    box-shadow: 0 0 12px rgba(0,255,0,0.2);
}

.niveles-list li::before {
    content: counter(nivel-counter);
    position: absolute;
    left: 15px;
    top: 50%;
    transform: translateY(-50%);
    width: 40px;
    height: 40px;
    background: var(--neon-green);
    color: #000;
    font-family: var(--font-pixel);
    font-size: 20px;
    line-height: 40px;
    text-align: center;
    border-radius: 50%;
    box-shadow: 0 0 15px var(--neon-green);
}

/* Tabla de analog칤as */
.tabla-analogias {
    width: 100%;
    max-width: 1000px;
    margin: 40px auto;
    border-collapse: collapse;
    font-size: 20px;
}

.tabla-analogias th {
    background: #1a1a1a;
    color: var(--neon-cyan);
    padding: 18px;
    font-size: 22px;
    text-shadow: var(--glow-cyan);
}

.tabla-analogias td {
    padding: 18px;
    text-align: center;
    border: 1px solid #444;
}

.tabla-analogias tbody tr:nth-child(odd) {
    background: rgba(255,255,255,0.03);
}

.tabla-analogias tbody tr:hover {
    background: rgba(0,255,255,0.1);
    box-shadow: 0 0 15px rgba(0,255,255,0.3);
}

/* Ejemplos de analog칤as */
.ejemplo {
    margin: 35px 0;
    padding: 25px;
    background: var(--bg-panel);
    border-radius: 12px;
    border-left: 6px solid var(--neon-pink);
    box-shadow: var(--glow-pink);
}

.ejemplo h4 {
    font-size: 24px;
    color: var(--neon-pink);
    margin-bottom: 15px;
}

/* Simulador interactivo c칠lula  cuerpo */
.simulador-celula {
    margin: 50px 0;
    padding: 30px;
    background: var(--bg-panel);
    border-radius: 14px;
    border: 4px solid var(--neon-blue);
    box-shadow: var(--glow-blue);
    text-align: center;
}

.simulador-celula label {
    font-size: 22px;
    color: var(--neon-yellow);
    display: block;
    margin-bottom: 15px;
}

#orgSelect {
    background: #000;
    color: var(--neon-green);
    border: 3px solid var(--neon-green);
    padding: 14px;
    font-size: 20px;
    width: 100%;
    max-width: 500px;
    margin: 0 auto 25px;
    border-radius: 0;
    box-shadow: inset 0 0 12px rgba(0,255,0,0.3);
}

#orgSelect:focus {
    border-color: var(--neon-cyan);
    box-shadow: 0 0 20px var(--neon-cyan);
}

#orgInfo {
    padding: 25px;
    background: #000;
    border-radius: 10px;
    font-size: 22px;
    min-height: 120px;
    border: 2px dashed var(--neon-blue);
}

/* Explorador de ecosistemas */
.ecosistema-explorer {
    margin: 50px 0;
    padding: 30px;
    background: var(--bg-panel);
    border-radius: 14px;
    border: 4px solid var(--neon-green);
    box-shadow: var(--glow-green);
    text-align: center;
}

.eco-controls {
    margin-bottom: 25px;
}

.eco-controls button {
    padding: 12px 28px;
    margin: 0 10px;
    background: #003300;
    border: 3px solid var(--neon-green);
    color: #fff;
    font-size: 18px;
}

.eco-controls button:hover {
    background: var(--neon-green);
    color: #000;
}

#ecoInfo {
    padding: 25px;
    background: #000;
    border-radius: 10px;
    font-size: 22px;
    min-height: 120px;
}

/* Autoevaluaci칩n simple */
.quiz-box {
    margin: 50px 0;
    padding: 30px;
    background: var(--bg-panel);
    border-radius: 14px;
    border: 4px solid var(--neon-pink);
    box-shadow: var(--glow-pink);
    text-align: center;
}

.quiz-box p {
    font-size: 24px;
    margin-bottom: 25px;
    color: var(--neon-yellow);
}

.quiz-box button {
    margin: 10px;
    padding: 12px 24px;
    background: #333;
    border: 3px solid var(--neon-pink);
    color: var(--neon-pink);
    font-size: 18px;
}

.quiz-box button:hover {
    background: var(--neon-pink);
    color: #000;
}

#quizFeedback {
    margin-top: 25px;
    padding: 20px;
    border-radius: 10px;
    font-size: 24px;
    min-height: 80px;
}

/* Mini-juego: Arma el Ecosistema */
.eco-game {
    margin: 50px 0;
    padding: 35px;
    background: var(--bg-panel);
    border-radius: 16px;
    border: 5px double var(--neon-cyan);
    box-shadow: var(--glow-cyan);
    text-align: center;
}

.eco-game h4 {
    font-size: 26px;
    color: var(--neon-cyan);
    margin-bottom: 25px;
}

#ecoBoard {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 20px;
    margin: 30px 0;
}

.eco-card {
    padding: 20px;
    background: #222;
    border-radius: 12px;
    border: 3px solid #555;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 20px;
}

.eco-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0,255,255,0.2);
}

.eco-card.selected {
    border-color: var(--neon-green);
    background: rgba(0,255,0,0.2);
    box-shadow: 0 0 20px var(--neon-green);
}

.eco-card.invalid {
    border-color: var(--neon-red);
    background: rgba(255,0,0,0.2);
    animation: shake 0.5s ease;
}

@keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    75% { transform: translateX(5px); }
}

.eco-card span {
    display: block;
    margin-top: 10px;
    font-size: 18px;
}

#ecoStatus {
    margin: 30px 0;
    padding: 20px;
    border-radius: 10px;
    font-size: 24px;
    min-height: 80px;
}

.eco-status.ok {
    background: rgba(0,255,0,0.2);
    border: 3px solid var(--neon-green);
    color: var(--neon-green);
}

.eco-status.bad {
    background: rgba(255,0,0,0.2);
    border: 3px solid var(--neon-red);
    color: var(--neon-red);
}

.eco-btn {
    padding: 16px 32px;
    background: #006666;
    border: 4px solid var(--neon-cyan);
    color: #fff;
    font-size: 20px;
}

.eco-btn:hover {
    background: var(--neon-cyan);
    color: #000;
}
/* =======================================================
   ESTILOS ESPEC칈FICOS PARA LECCI칍N: LEYES DE LA TERMODIN츼MICA EN ECOSISTEMAS
   (Simulador de flujo energ칠tico, animaci칩n de entrop칤a, autoevaluaci칩n)
   Solo elementos nuevos o no cubiertos en tu CSS actual
========================================================== */

/* T칤tulo principal */
.neon-title {
    font-family: var(--font-pixel);
    font-size: 40px;
    color: var(--neon-cyan);
    text-shadow: 0 0 25px var(--neon-cyan), 4px 4px 0 #000;
    letter-spacing: 4px;
    margin-bottom: 40px;
}

/* Introducci칩n */
.intro {
    font-size: 22px;
    text-align: center;
    max-width: 900px;
    margin: 30px auto 40px;
    line-height: 2;
}

/* Separador ne칩n */
.divider-neon {
    border: none;
    height: 4px;
    background: linear-gradient(90deg, transparent, var(--neon-yellow), transparent);
    margin: 60px auto;
    width: 60%;
    box-shadow: 0 0 15px var(--neon-yellow);
}

/* T칤tulos de secci칩n */
.section-title {
    font-size: 30px;
    color: var(--neon-orange);
    text-align: center;
    margin: 60px 0 30px;
    text-shadow: var(--glow-orange);
}

/* F칩rmulas destacadas */
.formula-neon {
    font-size: 28px;
    padding: 25px;
    background: #000;
    border-radius: 12px;
    border: 3px solid var(--neon-yellow);
    box-shadow: 0 0 20px var(--neon-yellow);
    max-width: 600px;
    margin: 40px auto;
}

/* Explicaci칩n bajo f칩rmula */
.explain {
    font-size: 20px;
    text-align: center;
    margin: 20px auto;
    max-width: 800px;
    font-style: italic;
    color: var(--text-dim);
}

/* Cajas de ejemplo */
.ejemplo {
    margin: 40px auto;
    padding: 30px;
    background: var(--bg-panel);
    border-radius: 12px;
    border-left: 6px solid var(--neon-green);
    box-shadow: var(--glow-green);
    max-width: 800px;
}

.ejemplo h4 {
    font-size: 24px;
    color: var(--neon-green);
    margin-bottom: 15px;
}

/* =======================================================
   SIMULADOR DE FLUJO DE ENERG칈A
========================================================== */
.energy-sim {
    margin: 60px 0;
    padding: 40px;
    background: var(--bg-panel);
    border-radius: 16px;
    border: 5px double var(--neon-cyan);
    box-shadow: var(--glow-cyan);
    max-width: 900px;
    margin-left: auto;
    margin-right: auto;
}

.energy-control {
    text-align: center;
    margin-bottom: 40px;
}

.energy-control label {
    display: block;
    font-size: 24px;
    color: var(--neon-yellow);
    margin-bottom: 15px;
}

#energyInput {
    width: 100%;
    height: 16px;
    background: #333;
    border-radius: 8px;
    accent-color: var(--neon-cyan);
    cursor: pointer;
}

.energy-readout {
    margin-top: 15px;
    font-size: 28px;
    color: var(--neon-cyan);
}

.energy-readout #energyValue {
    font-family: var(--font-pixel);
    color: var(--neon-yellow);
}

/* Barras de energ칤a */
.energy-bars {
    display: flex;
    flex-direction: column;
    gap: 25px;
}

.bar {
    display: flex;
    flex-direction: column;
}

.bar-label {
    font-size: 22px;
    color: var(--neon-yellow);
    margin-bottom: 10px;
    text-align: left;
}

.bar-track {
    height: 40px;
    background: #111;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: inset 0 0 10px #000;
    position: relative;
}

.bar-fill {
    height: 100%;
    width: 100%;
    border-radius: 20px;
    transition: width 0.6s ease;
    box-shadow: 0 0 15px;
}

.producers { background: linear-gradient(90deg, #006400, #00ff00); box-shadow: 0 0 20px #00ff00; }
.herbivores { background: linear-gradient(90deg, #8b4513, #ffaa00); box-shadow: 0 0 20px #ffaa00; }
.carnivores { background: linear-gradient(90deg, #8b0000, #ff4444); box-shadow: 0 0 20px #ff4444; }
.loss-fill { background: linear-gradient(90deg, #444, #ff1744); box-shadow: 0 0 20px #ff1744; }

.bar.loss .bar-label {
    color: #ff5252;
}

/* =======================================================
   ANIMACI칍N DE ENTROP칈A (PART칈CULAS DE CALOR)
========================================================== */
.entropy-container {
    margin: 60px auto;
    padding: 40px;
    background: var(--bg-panel);
    border-radius: 16px;
    border: 5px double var(--neon-red);
    box-shadow: var(--glow-red);
    max-width: 900px;
    text-align: center;
    position: relative;
    overflow: hidden;
}

.entropy-label {
    font-size: 28px;
    color: var(--neon-red);
    margin-bottom: 20px;
    text-shadow: var(--glow-red);
}

#entropyBox {
    height: 300px;
    background: radial-gradient(circle at center, #220000, #000);
    border-radius: 12px;
    position: relative;
    overflow: hidden;
}

.entropy-particle {
    position: absolute;
    bottom: -10px;
    background: radial-gradient(circle, #ff4444, #ff8800);
    border-radius: 50%;
    opacity: 0.8;
    box-shadow: 0 0 15px #ff4444;
    animation: rise linear forwards;
}

@keyframes rise {
    0% {
        transform: translateY(0) translateX(0);
        opacity: 0.8;
    }
    100% {
        transform: translateY(-400px) translateX(var(--drift));
        opacity: 0;
    }
}

/* =======================================================
   AUTOEVALUACI칍N R츼PIDA
========================================================== */
.quiz-box {
    margin: 60px auto;
    padding: 35px;
    background: var(--bg-panel);
    border-radius: 16px;
    border: 5px double var(--neon-pink);
    box-shadow: var(--glow-pink);
    max-width: 800px;
    text-align: center;
}

.quiz-box p {
    font-size: 26px;
    margin-bottom: 30px;
    color: var(--neon-yellow);
}

.quiz-box button {
    margin: 10px 15px;
    padding: 14px 28px;
    background: #333;
    border: 3px solid var(--neon-pink);
    color: var(--neon-pink);
    font-size: 18px;
}

.quiz-box button:hover {
    background: var(--neon-pink);
    color: #000;
}

#quizFeedback {
    margin-top: 30px;
    padding: 20px;
    border-radius: 10px;
    font-size: 24px;
    min-height: 80px;
}

/* Quote final */
.neon-quote {
    font-size: 28px;
    text-align: center;
    margin: 60px auto;
    padding: 30px;
    max-width: 900px;
    background: #000;
    border: 4px solid var(--neon-yellow);
    border-radius: 12px;
    box-shadow: 0 0 30px var(--neon-yellow);
    color: var(--neon-yellow);
    font-style: italic;
}
/* =======================================================
   ESTILOS ESPEC칈FICOS PARA LECCI칍N: RADIACI칍N ELECTROMAGN칄TICA
   (Simulador de espectro, selector, medidor fotos칤ntesis, UV sim, espectro interactivo)
   Solo elementos nuevos o no cubiertos en tu CSS actual
========================================================== */

/* Simulador de radiaci칩n y fotos칤ntesis */
.radiation-sim {
    margin: 60px auto;
    padding: 40px;
    background: var(--bg-panel);
    border-radius: 16px;
    border: 5px double var(--neon-cyan);
    box-shadow: var(--glow-cyan);
    max-width: 900px;
    text-align: center;
}

.spectrum-selector {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-bottom: 40px;
    flex-wrap: wrap;
}

.spec-btn {
    padding: 14px 28px;
    font-size: 20px;
    background: #222;
    border: 4px solid;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
    min-width: 180px;
}

.spec-btn.uv {
    border-color: #9c27b0;
    color: #e91e63;
}

.spec-btn.visible {
    border-color: #00e676;
    color: #00ff88;
}

.spec-btn.ir {
    border-color: #ff5722;
    color: #ff8a65;
}

.spec-btn.active {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0,255,255,0.4);
}

.spec-btn.uv.active {
    background: #9c27b0;
    color: #fff;
    box-shadow: 0 0 30px #9c27b0;
}

.spec-btn.visible.active {
    background: #00e676;
    color: #000;
    box-shadow: 0 0 30px #00e676;
}

.spec-btn.ir.active {
    background: #ff5722;
    color: #000;
    box-shadow: 0 0 30px #ff5722;
}

.spec-btn:hover:not(.active) {
    transform: translateY(-3px);
    box-shadow: 0 8px 20px rgba(0,255,255,0.3);
}

/* Visual de radiaci칩n (icono + label) */
.radiation-visual {
    margin: 40px 0;
}

#radiationIcon {
    font-size: 120px;
    display: block;
    margin: 0 auto 20px;
    filter: drop-shadow(0 0 20px currentColor);
}

#radLabel {
    font-size: 32px;
    color: var(--neon-yellow);
    text-shadow: var(--glow-yellow);
}

/* Medidor de fotos칤ntesis */
.photo-meter {
    margin: 40px auto;
    max-width: 700px;
}

.meter-track {
    height: 40px;
    background: #111;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: inset 0 0 15px #000;
}

#photoFill {
    height: 100%;
    width: 90%;
    background: linear-gradient(90deg, #00e676, #1de9b6);
    border-radius: 20px;
    transition: all 0.8s ease;
    box-shadow: 0 0 25px #00e676;
}

.meter-values {
    display: flex;
    justify-content: space-between;
    margin-top: 15px;
    font-size: 20px;
    color: var(--text-dim);
}

#rateText {
    font-size: 36px;
    color: var(--neon-yellow);
}

/* Texto resultado del simulador */
#photoText {
    margin-top: 30px;
    padding: 25px;
    background: #000;
    border-radius: 12px;
    font-size: 22px;
    min-height: 100px;
    border: 2px dashed var(--neon-cyan);
}

/* =======================================================
   SIMULADOR UV - ENTROP칈A BIOL칍GICA
========================================================== */
.uv-sim {
    margin: 60px auto;
    padding: 40px;
    background: var(--bg-panel);
    border-radius: 16px;
    border: 5px double #9c27b0;
    box-shadow: 0 0 40px rgba(156,39,176,0.6);
    max-width: 900px;
    position: relative;
    overflow: hidden;
}

.dna {
    height: 200px;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    margin-bottom: 30px;
}

.strand {
    width: 20px;
    height: 180px;
    background: repeating-linear-gradient(0deg, #00ffff 0px, #00ffff 20px, #ff00ff 20px, #ff00ff 40px);
    border-radius: 10px;
    position: relative;
}

.strand.left {
    transform: rotate(-15deg);
}

.strand.right {
    transform: rotate(15deg);
}

.dna.damage .strand {
    animation: shake-dna 0.6s ease;
}

@keyframes shake-dna {
    0%, 100% { transform: rotate(-15deg); }
    25% { transform: rotate(-25deg); }
    75% { transform: rotate(-5deg); }
}

.dna.damage .strand.right {
    animation: shake-dna-right 0.6s ease;
}

@keyframes shake-dna-right {
    0%, 100% { transform: rotate(15deg); }
    25% { transform: rotate(25deg); }
    75% { transform: rotate(5deg); }
}

.uv-photon {
    position: absolute;
    width: 8px;
    height: 8px;
    background: #e91e63;
    border-radius: 50%;
    box-shadow: 0 0 15px #e91e63;
    animation: photon-fall 1.5s linear forwards;
}

@keyframes photon-fall {
    0% { transform: translateY(-300px); opacity: 0; }
    30% { opacity: 1; }
    100% { transform: translateY(200px); opacity: 0; }
}

.entropy-meter {
    height: 30px;
    background: #111;
    border-radius: 15px;
    overflow: hidden;
    margin: 30px 0;
    box-shadow: inset 0 0 15px #000;
}

#entropyFill {
    height: 100%;
    width: 0%;
    background: linear-gradient(90deg, #9c27b0, #e91e63);
    border-radius: 15px;
    transition: width 0.8s ease;
    box-shadow: 0 0 25px #e91e63;
}

.entropy-label {
    font-size: 26px;
    color: var(--neon-pink);
    text-align: center;
}

#entropyValue {
    color: var(--neon-yellow);
    font-family: var(--font-pixel);
}

/* =======================================================
   ESPECTRO ELECTROMAGN칄TICO INTERACTIVO
========================================================== */
.spectrum-wrapper {
    margin: 60px auto;
    padding: 30px;
    background: var(--bg-panel);
    border-radius: 16px;
    border: 4px solid var(--neon-yellow);
    box-shadow: var(--glow-yellow);
    max-width: 950px;
    text-align: center;
}

#spectrumSVG {
    background: #000;
    border-radius: 14px;
    box-shadow: 0 0 30px rgba(255,255,0,0.4);
}

#spectrumSVG .labels text {
    font-size: 20px;
    fill: var(--text-light);
    font-family: var(--font-retro);
}

#spectrumSVG .labels text.highlight {
    fill: var(--neon-yellow);
    font-size: 28px;
    text-shadow: var(--glow-yellow);
}

#spectrumSVG .arrow {
    font-size: 22px;
    fill: var(--neon-cyan);
}

#selectorDot {
    fill: var(--neon-pink);
    stroke: #000;
    stroke-width: 3;
    r: 12;
    filter: drop-shadow(0 0 15px var(--neon-pink));
}

/* Panel de informaci칩n del espectro */
.spectrum-panel {
    margin: 40px auto;
    padding: 30px;
    background: #000;
    border-radius: 12px;
    border: 3px solid var(--neon-yellow);
    max-width: 800px;
}

.spectrum-panel h4 {
    font-size: 28px;
    color: var(--neon-yellow);
    margin-bottom: 25px;
}

.spectrum-buttons {
    display: flex;
    justify-content: center;
    gap: 15px;
    flex-wrap: wrap;
    margin-bottom: 30px;
}

.spectrum-buttons button {
    padding: 12px 24px;
    background: #333;
    border: 3px solid var(--neon-blue);
    color: var(--neon-blue);
    font-size: 18px;
    cursor: pointer;
    transition: all 0.3s;
}

.spectrum-buttons button:hover {
    background: var(--neon-blue);
    color: #000;
}

.spectrum-buttons button.active {
    background: var(--neon-cyan);
    color: #000;
    border-color: var(--neon-cyan);
    box-shadow: 0 0 20px var(--neon-cyan);
}

#spectrumInfo {
    padding: 25px;
    background: var(--bg-panel);
    border-radius: 10px;
    font-size: 22px;
    min-height: 180px;
    border-left: 6px solid var(--neon-yellow);
}

#spectrumInfo h5 {
    font-size: 26px;
    color: var(--neon-yellow);
    margin-bottom: 15px;
}

#spectrumInfo ul {
    margin-top: 15px;
    text-align: left;
    font-size: 20px;
}

#spectrumInfo li {
    margin: 10px 0;
}

/* Autoevaluaci칩n de radiaci칩n */
.quiz-box {
    margin: 60px auto;
    padding: 35px;
    background: var(--bg-panel);
    border-radius: 16px;
    border: 5px double var(--neon-pink);
    box-shadow: var(--glow-pink);
    max-width: 800px;
    text-align: center;
}

.quiz-box p {
    font-size: 26px;
    margin-bottom: 30px;
    color: var(--neon-yellow);
}

.quiz-box button {
    margin: 10px 15px;
    padding: 14px 28px;
    background: #333;
    border: 3px solid var(--neon-pink);
    color: var(--neon-pink);
    font-size: 18px;
}

.quiz-box button:hover {
    background: var(--neon-pink);
    color: #000;
}

#radFeedback {
    margin-top: 30px;
    padding: 20px;
    border-radius: 10px;
    font-size: 24px;
    min-height: 80px;
}
.highlight-return {
    animation: pulse-highlight 3s ease;
    box-shadow: 0 0 30px var(--neon-yellow) !important;
}

@keyframes pulse-highlight {
    0%, 100% { box-shadow: 0 0 15px var(--neon-green); }
    50% { box-shadow: 0 0 40px var(--neon-yellow); }
}
/* =======================================================
   ESTILOS ESPEC칈FICOS PARA LECCI칍N: MOVIMIENTOS DE LA TIERRA
   (Simulador c칩smico, mini-juego estaciones, SVG orbital)
   Solo elementos nuevos o no cubiertos en tu CSS actual
========================================================== */

/* Simulador c칩smico de movimientos terrestres */
.earth-simulator {
    margin: 60px auto;
    padding: 40px;
    background: var(--bg-panel);
    border-radius: 16px;
    border: 5px double var(--neon-cyan);
    box-shadow: var(--glow-cyan);
    max-width: 950px;
    text-align: center;
    position: relative;
}

.control-panel {
    display: flex;
    flex-direction: column;
    gap: 20px;
    margin-bottom: 40px;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
}

.control-panel label {
    font-size: 22px;
    color: var(--neon-yellow);
    display: flex;
    align-items: center;
    gap: 15px;
}

#tiltSlider, #iceSlider {
    flex: 1;
    height: 14px;
    background: #333;
    border-radius: 8px;
    accent-color: var(--neon-cyan);
    cursor: pointer;
}

#tiltValue, #iceValue {
    font-size: 20px;
    color: var(--neon-green);
    min-width: 120px;
    text-align: right;
}

#toggleOrbit {
    align-self: center;
    padding: 12px 28px;
    background: #006666;
    border: 3px solid var(--neon-cyan);
    color: #fff;
    font-size: 18px;
    cursor: pointer;
}

#toggleOrbit:hover {
    background: var(--neon-cyan);
    color: #000;
}

/* SVG orbital */
.orbit-svg {
    background: #000;
    border-radius: 14px;
    box-shadow: 0 0 30px rgba(0,255,255,0.4);
    margin: 30px auto;
}

.sun {
    fill: #ffb300;
    stroke: #fff176;
    stroke-width: 12;
    filter: drop-shadow(0 0 20px #ffb300);
}

#earth circle {
    fill: #2196f3;
    stroke: #fff;
    stroke-width: 3;
}

#axis {
    stroke: var(--neon-pink);
    stroke-width: 4;
    filter: drop-shadow(0 0 10px var(--neon-pink));
}

/* Mini-juego estaciones */
.mini-game {
    margin-top: 50px;
    padding: 30px;
    background: var(--bg-card);
    border-radius: 12px;
    border: 4px solid var(--neon-yellow);
    box-shadow: var(--glow-yellow);
}

.mini-game h4 {
    font-size: 26px;
    color: var(--neon-yellow);
    margin-bottom: 20px;
}

#gamePrompt {
    font-size: 22px;
    margin-bottom: 25px;
}

.game-buttons {
    display: flex;
    justify-content: center;
    gap: 15px;
    flex-wrap: wrap;
    margin-bottom: 25px;
}

.game-buttons button {
    padding: 12px 24px;
    background: #333;
    border: 3px solid var(--neon-blue);
    color: var(--neon-blue);
    font-size: 18px;
    cursor: pointer;
}

.game-buttons button:hover {
    background: var(--neon-blue);
    color: #000;
}

#gameFeedback {
    font-size: 24px;
    min-height: 60px;
    padding: 20px;
    border-radius: 10px;
}
/* =======================================================
   ESTILOS ESPEC칈FICOS PARA LECCI칍N: RESPIRACI칍N CELULAR
   (SVG flujo energ칠tico, simulador ATP, animaci칩n ETC, tablas, quiz)
   Solo elementos nuevos o no cubiertos en tu CSS actual
========================================================== */

/* Contenedor principal de la lecci칩n */
.lesson-container {
    max-width: 1100px;
    margin: 40px auto;
    padding: 30px;
    background: var(--bg-panel);
    border-radius: 16px;
    border: 4px solid var(--neon-cyan);
    box-shadow: var(--glow-cyan);
}

/* Header de la lecci칩n */
.lesson-header {
    text-align: center;
    margin-bottom: 50px;
}

/* Alineaci칩n del icono dentro del header de la lecci칩n */
.lesson-title-row {
    display: flex;
    align-items: center;
    gap: 0.6rem;
    justify-content: center;
}

.lesson-icon {
    width: 2.6rem;
    height: 2.6rem;
    display: inline-block;
}

.lesson-icon svg { width: 100%; height: 100%; display: block; }

.lesson-title {
    font-size: 42px;
    color: var(--neon-magenta);
    text-shadow: 0 0 25px var(--neon-magenta), 4px 4px 0 #000;
    margin-bottom: 20px;
}

.lesson-title span {
    display: block;
    font-size: 28px;
    color: var(--neon-yellow);
    margin-top: 10px;
}

.lesson-intro {
    font-size: 22px;
    max-width: 900px;
    margin: 20px auto;
    line-height: 2;
}

/* Bloques de secci칩n */
.lesson-block {
    margin: 60px 0;
    padding: 35px;
    background: var(--bg-card);
    border-radius: 14px;
    border-left: 6px solid var(--neon-green);
    box-shadow: 0 0 20px rgba(0,255,0,0.3);
}

/* F칩rmula destacada */
.formula-box {
    font-size: 32px;
    padding: 30px;
    background: #000;
    border-radius: 12px;
    text-align: center;
    margin: 30px auto;
    max-width: 800px;
    border: 4px solid var(--neon-yellow);
    box-shadow: 0 0 30px var(--neon-yellow);
}

.formula-note {
    text-align: center;
    font-size: 20px;
    margin-top: 15px;
    color: var(--text-dim);
    font-style: italic;
}

/* SVG flujo energ칠tico */
.svg-diagram svg {
    background: #000;
    border-radius: 14px;
    box-shadow: 0 0 40px rgba(0,255,255,0.5);
}

/* Tabla ne칩n */
.neo-table {
    width: 100%;
    max-width: 900px;
    margin: 40px auto;
    border-collapse: collapse;
    font-size: 20px;
}

.neo-table th {
    background: #1a1a1a;
    color: var(--neon-cyan);
    padding: 20px;
    font-size: 24px;
    text-shadow: var(--glow-cyan);
}

.neo-table td {
    padding: 18px;
    text-align: center;
    border: 1px solid #444;
}

.neo-table tbody tr:nth-child(even) {
    background: rgba(255,255,255,0.03);
}

.neo-table tbody tr:hover {
    background: rgba(0,255,255,0.1);
    box-shadow: 0 0 15px rgba(0,255,255,0.4);
}

.neo-table .highlight {
    background: rgba(0,255,0,0.2);
    font-weight: bold;
    font-size: 22px;
}

/* Simulador ATP */
.atp-sim {
    margin: 60px auto;
    padding: 40px;
    background: var(--bg-panel);
    border-radius: 16px;
    border: 5px double var(--neon-green);
    box-shadow: var(--glow-green);
    max-width: 800px;
    text-align: center;
}

.sim-controls {
    margin-bottom: 40px;
}

.btn-play[data-type] {
    padding: 14px 32px;
    margin: 0 15px;
    background: #006633;
    border: 4px solid var(--neon-green);
    color: #fff;
    font-size: 20px;
    cursor: pointer;
}

.btn-play[data-type]:hover {
    background: var(--neon-green);
    color: #000;
}

.atp-meter {
    height: 60px;
    background: #111;
    border-radius: 30px;
    overflow: hidden;
    margin: 30px auto;
    max-width: 700px;
    box-shadow: inset 0 0 20px #000;
}

#atpFill {
    height: 100%;
    width: 95%;
    background: linear-gradient(90deg, #00ffff, #00ffcc);
    border-radius: 30px;
    transition: all 1.2s ease;
    box-shadow: 0 0 30px #00ffcc;
}

#atpText {
    font-size: 28px;
    margin-top: 25px;
    color: var(--neon-yellow);
}

/* Animaci칩n Cadena ETC */
.etc-box {
    height: 300px;
    background: linear-gradient(180deg, #000, #110033);
    border-radius: 14px;
    position: relative;
    overflow: hidden;
    margin: 40px auto;
    max-width: 900px;
    border: 4px solid var(--neon-pink);
    box-shadow: 0 0 30px var(--neon-pink);
}

.electron {
    position: absolute;
    width: 10px;
    height: 10px;
    background: #ff00ff;
    border-radius: 50%;
    box-shadow: 0 0 20px #ff00ff;
    animation: electron-move 3s linear forwards;
}

@keyframes electron-move {
    0% {
        left: -10px;
        opacity: 0;
    }
    10% {
        opacity: 1;
    }
    90% {
        opacity: 1;
    }
    100% {
        left: 100%;
        opacity: 0;
    }
}

/* Caption bajo diagramas */
.diagram-caption {
    text-align: center;
    margin-top: 20px;
    font-size: 20px;
    font-style: italic;
    color: var(--text-dim);
}

/* Lista de ejercicios */
.exercise-list {
    counter-reset: exercise-counter;
    list-style: none;
    padding-left: 0;
    max-width: 800px;
    margin: 40px auto;
}

.exercise-list li {
    counter-increment: exercise-counter;
    font-size: 22px;
    margin: 25px 0;
    padding: 20px 20px 20px 80px;
    background: var(--bg-panel);
    border-radius: 12px;
    border-left: 6px solid var(--neon-orange);
    position: relative;
    box-shadow: 0 0 15px rgba(255,153,0,0.3);
}

.exercise-list li::before {
    content: counter(exercise-counter);
    position: absolute;
    left: 20px;
    top: 50%;
    transform: translateY(-50%);
    width: 40px;
    height: 40px;
    background: var(--neon-orange);
    color: #000;
    font-family: var(--font-pixel);
    font-size: 20px;
    line-height: 40px;
    text-align: center;
    border-radius: 50%;
    box-shadow: 0 0 15px var(--neon-orange);
}

/* Quiz de la lecci칩n */
.quiz-box {
    margin: 60px auto;
    padding: 40px;
    background: var(--bg-panel);
    border-radius: 16px;
    border: 5px double var(--neon-pink);
    box-shadow: var(--glow-pink);
    max-width: 800px;
    text-align: center;
}

.quiz-box p {
    font-size: 26px;
    margin-bottom: 30px;
    color: var(--neon-yellow);
}

.quiz-box .btn-play.quiz {
    margin: 10px 15px;
    padding: 14px 28px;
    background: #660066;
    border: 4px solid var(--neon-pink);
    color: var(--neon-pink);
    font-size: 20px;
}

.quiz-box .btn-play.quiz:hover {
    background: var(--neon-pink);
    color: #000;
}

#quizResult {
    margin-top: 30px;
    padding: 20px;
    border-radius: 10px;
    font-size: 26px;
    min-height: 80px;
}
/* =======================================================
   ESTILOS ESPEC칈FICOS PARA LECCI칍N: COMPONENTES DEL SISTEMA CLIM츼TICO
   (SVG sistema clim치tico, simuladores albedo/CO2, mini-laboratorio)
   Solo elementos nuevos o no cubiertos en tu CSS actual
========================================================== */

/* SVG del sistema clim치tico terrestre */
.svg-diagram svg {
    background: #000;
    border-radius: 16px;
    box-shadow: 0 0 40px rgba(0,255,255,0.5);
    margin: 40px auto;
    max-width: 100%;
    height: auto;
}

/* Glows y textos dentro del SVG */
#glow-cyan, #glow-magenta {
    filter: drop-shadow(0 0 20px currentColor);
}

/* T칤tulo principal dentro del SVG */
text[filter="url(#glow-magenta)"] {
    font-family: var(--font-pixel);
    font-weight: bold;
}

/* Caption bajo SVG */
.caption {
    text-align: center;
    margin-top: 20px;
    font-size: 20px;
    font-style: italic;
    color: var(--text-dim);
    max-width: 900px;
    margin-left: auto;
    margin-right: auto;
}

/* Simuladores clim치ticos (albedo y CO2) */
.climate-sim {
    margin: 60px auto;
    padding: 40px;
    background: var(--bg-panel);
    border-radius: 16px;
    border: 5px double var(--neon-cyan);
    box-shadow: var(--glow-cyan);
    max-width: 900px;
    text-align: center;
}

.neon-label {
    display: block;
    font-size: 24px;
    color: var(--neon-yellow);
    margin-bottom: 20px;
}

#iceSlider, #co2Slider {
    width: 80%;
    height: 16px;
    background: #333;
    border-radius: 8px;
    accent-color: var(--neon-cyan);
    cursor: pointer;
}

#iceValue, #co2Value {
    display: inline-block;
    width: 100px;
    font-size: 28px;
    color: var(--neon-green);
    font-family: var(--font-pixel);
}

.meter {
    height: 50px;
    background: #111;
    border-radius: 25px;
    overflow: hidden;
    margin: 30px auto;
    max-width: 700px;
    box-shadow: inset 0 0 20px #000;
}

#albedoFill, #co2Fill {
    height: 100%;
    width: 60%;
    border-radius: 25px;
    transition: all 0.8s ease;
    box-shadow: 0 0 30px;
}

#albedoFill {
    background: linear-gradient(90deg, #e0f7fa, #00ffff);
}

#co2Fill {
    background: linear-gradient(90deg, #00e676, #ff1744);
}

#albedoText, #co2Text {
    font-size: 24px;
    padding: 25px;
    background: #000;
    border-radius: 12px;
    min-height: 120px;
    border: 2px dashed var(--neon-yellow);
}

/* Mini-laboratorio clim치tico */
.climate-lab {
    margin: 60px auto;
    padding: 40px;
    background: var(--bg-panel);
    border-radius: 16px;
    border: 5px double var(--neon-orange);
    box-shadow: var(--glow-orange);
    max-width: 900px;
    text-align: center;
}

.lab-controls {
    display: flex;
    flex-direction: column;
    gap: 25px;
    max-width: 600px;
    margin: 0 auto 40px;
}

.lab-controls label {
    font-size: 24px;
    color: var(--neon-yellow);
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: 15px;
}

.lab-controls select {
    background: #000;
    color: var(--neon-green);
    border: 3px solid var(--neon-green);
    padding: 12px;
    font-size: 20px;
    width: 200px;
    border-radius: 0;
    box-shadow: inset 0 0 10px rgba(0,255,0,0.3);
}

.lab-controls select:focus {
    border-color: var(--neon-cyan);
    box-shadow: 0 0 20px var(--neon-cyan);
}

.lab-output {
    padding: 30px;
    background: #000;
    border-radius: 12px;
    font-size: 26px;
    min-height: 180px;
    border: 3px solid var(--neon-yellow);
}

.lab-output h5 {
    font-size: 32px;
    color: var(--neon-yellow);
    margin-bottom: 20px;
}

/* Tabla de interacciones */
.table.text-center.table-bordered {
    max-width: 900px;
    margin: 40px auto;
    font-size: 20px;
}

.table.text-center.table-bordered th {
    background: #1a1a1a;
    color: var(--neon-cyan);
    padding: 20px;
    font-size: 24px;
}

.table.text-center.table-bordered td {
    padding: 18px;
    background: var(--bg-panel);
}

/* Imagen visual (concentracion-atmosfera.jpg) */
.visual img {
    max-width: 100%;
    border-radius: 14px;
    border: 4px solid var(--neon-green);
    box-shadow: 0 0 30px rgba(0,255,0,0.4);
    margin: 30px auto;
    display: block;
}

.visual p {
    text-align: center;
    font-style: italic;
    color: var(--text-dim);
    font-size: 18px;
    margin-top: 10px;
}
.highlight-return {
    animation: pulse-highlight 3s ease;
    box-shadow: 0 0 30px var(--neon-yellow) !important;
    transform: scale(1.02);
}

@keyframes pulse-highlight {
    0%, 100% { box-shadow: 0 0 15px var(--neon-green); }
    50% { box-shadow: 0 0 40px var(--neon-yellow); }
}
/* =======================================================
   ESTILOS ESPEC칈FICOS PARA LECCI칍N: CICLO DEL CARBONO
   (SVG ciclo global, tablas, flujo animado, impacto humano)
   Solo elementos nuevos o no cubiertos en tu CSS actual
========================================================== */

/* SVG del ciclo global del carbono */
.svg-diagram svg {
    background: #070714;
    border-radius: 16px;
    box-shadow: 0 0 40px rgba(0,255,255,0.6);
    margin: 50px auto;
    max-width: 100%;
    height: auto;
}

/* Caption bajo el SVG */
.diagram-caption {
    text-align: center;
    margin-top: 20px;
    font-size: 20px;
    font-style: italic;
    color: var(--text-dim);
    max-width: 900px;
    margin-left: auto;
    margin-right: auto;
}

/* Tablas de reservorios y flujos */
.table.fs-5 {
    max-width: 900px;
    margin: 40px auto;
    font-size: 20px;
}

.table.fs-5 th {
    background: #1a1a1a;
    color: var(--neon-cyan);
    padding: 20px;
    font-size: 24px;
}

.table.fs-5 td {
    padding: 18px;
    text-align: center;
    background: var(--bg-panel);
}

.table.fs-5 tbody tr:hover {
    background: rgba(0,255,255,0.1);
    box-shadow: 0 0 15px rgba(0,255,255,0.3);
}

.table-danger {
    background: rgba(255,51,102,0.2) !important;
    font-weight: bold;
    font-size: 22px;
}

/* Cajas de ejemplo y alerta */
.ejemplo {
    margin: 40px auto;
    padding: 30px;
    background: var(--bg-panel);
    border-radius: 12px;
    border-left: 6px solid var(--neon-red);
    box-shadow: var(--glow-red);
    max-width: 900px;
    font-size: 22px;
}

.alert.alert-dark.fs-4 {
    background: #111;
    border: 4px solid var(--neon-red);
    border-radius: 14px;
    padding: 40px;
    text-align: center;
    max-width: 1000px;
    margin: 60px auto;
    box-shadow: 0 0 40px rgba(255,51,102,0.5);
    font-size: 26px;
    color: var(--neon-red);
}

/* Imagen visual (nasa_carbono.gif) */
.visual img {
    max-width: 100%;
    border-radius: 14px;
    border: 4px solid var(--neon-red);
    box-shadow: 0 0 30px rgba(255,51,102,0.4);
    margin: 40px auto;
    display: block;
}

.visual p {
    text-align: center;
    font-style: italic;
    color: var(--text-dim);
    font-size: 18px;
    margin-top: 10px;
}

/* Animaci칩n de flechas en SVG (stroke-dasharray animado) */
path[stroke-dasharray] {
    stroke-dashoffset: 0;
    animation: dash-flow 4s linear infinite;
}

@keyframes dash-flow {
    to {
        stroke-dashoffset: -40;
    }
}

/* Mensaje final en SVG */
text[filter="url(#glow-red)"] {
    font-family: var(--font-pixel);
    font-weight: bold;
}
/* =======================================================
   ESTILOS ESPEC칈FICOS PARA LECCI칍N: LEY DE LIEBIG
   (SVG barril animado, simulador barril, mini-laboratorio, quiz adaptativo)
   Solo elementos nuevos o no cubiertos en tu CSS actual
========================================================== */

/* SVG del Barril de Liebig */
.svg-diagram svg {
    background: #070714;
    border-radius: 16px;
    box-shadow: 0 0 40px rgba(0,255,255,0.6);
    margin: 50px auto;
    max-width: 100%;
    height: auto;
}

/* Animaci칩n del agua subiendo */
rect[fill="#1e90ff"] {
    animation: water-rise 4s ease-in-out infinite alternate;
}

@keyframes water-rise {
    0% { height: 0; y: 740; }
    100% { height: 340; y: 400; }
}

/* Caption bajo SVG */
.caption {
    text-align: center;
    margin-top: 20px;
    font-size: 20px;
    font-style: italic;
    color: var(--text-dim);
    max-width: 900px;
    margin-left: auto;
    margin-right: auto;
}

/* Ecuaci칩n destacada */
.eq {
    font-size: 28px;
    padding: 30px;
    background: #000;
    border-radius: 12px;
    text-align: center;
    margin: 40px auto;
    max-width: 600px;
    border: 4px solid var(--neon-yellow);
    box-shadow: 0 0 25px var(--neon-yellow);
}

/* Caja de ejemplo */
.ejemplo {
    margin: 40px auto;
    padding: 30px;
    background: var(--bg-panel);
    border-radius: 12px;
    border-left: 6px solid var(--neon-green);
    box-shadow: var(--glow-green);
    max-width: 900px;
    font-size: 22px;
}

/* Imagen visual (ley-tolerancia.jpg) */
.visual img {
    max-width: 100%;
    border-radius: 14px;
    border: 4px solid var(--neon-yellow);
    box-shadow: 0 0 30px rgba(255,255,0,0.4);
    margin: 40px auto;
    display: block;
}

.visual p {
    text-align: center;
    font-style: italic;
    color: var(--text-dim);
    font-size: 18px;
    margin-top: 10px;
}

/* Simulador Barril de Liebig */
.barrel-sim {
    margin: 60px auto;
    padding: 40px;
    background: var(--bg-panel);
    border-radius: 16px;
    border: 5px double var(--neon-green);
    box-shadow: var(--glow-green);
    max-width: 900px;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 30px;
}

.stave {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 120px;
}

.stave span {
    font-size: 28px;
    color: var(--neon-yellow);
    margin-bottom: 15px;
    font-weight: bold;
}

.stave input[type="range"] {
    width: 100%;
    height: 16px;
    background: #333;
    border-radius: 8px;
    accent-color: var(--neon-green);
    cursor: pointer;
}

.stave.limitante input[type="range"] {
    accent-color: var(--neon-red);
}

#barrelResult {
    width: 100%;
    text-align: center;
    font-size: 28px;
    padding: 25px;
    background: #000;
    border-radius: 12px;
    margin-top: 30px;
    border: 3px solid var(--neon-yellow);
    color: var(--neon-yellow);
}

/* Mini-laboratorio */
.mini-lab {
    margin: 60px auto;
    padding: 40px;
    background: var(--bg-panel);
    border-radius: 16px;
    border: 5px double var(--neon-orange);
    box-shadow: var(--glow-orange);
    max-width: 800px;
    text-align: center;
}

.mini-lab select {
    background: #000;
    color: var(--neon-orange);
    border: 3px solid var(--neon-orange);
    padding: 14px;
    font-size: 22px;
    border-radius: 0;
    box-shadow: inset 0 0 12px rgba(255,153,0,0.3);
}

.mini-lab select:focus {
    border-color: var(--neon-yellow);
    box-shadow: 0 0 20px var(--neon-yellow);
}

#labOutput {
    margin-top: 30px;
    padding: 25px;
    background: #000;
    border-radius: 12px;
    font-size: 24px;
    min-height: 120px;
    border: 2px dashed var(--neon-orange);
}

/* Quiz adaptativo */
.quiz-box {
    margin: 60px auto;
    padding: 40px;
    background: var(--bg-panel);
    border-radius: 16px;
    border: 5px double var(--neon-pink);
    box-shadow: var(--glow-pink);
    max-width: 900px;
    text-align: center;
}

#quizQuestion {
    font-size: 28px;
    margin-bottom: 30px;
    color: var(--neon-yellow);
}

.quiz-options {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
    margin-bottom: 30px;
}

.quiz-options button {
    padding: 14px 28px;
    background: #333;
    border: 3px solid var(--neon-pink);
    color: var(--neon-pink);
    font-size: 20px;
    cursor: pointer;
    min-width: 200px;
}

.quiz-options button:hover {
    background: var(--neon-pink);
    color: #000;
}

#quizFeedback {
    font-size: 28px;
    min-height: 80px;
    padding: 20px;
    border-radius: 10px;
}
/* ============================================================
   ESTILOS ESPEC칈FICOS: LEY DE SHELFORD
   Evita colisiones mediante prefijos y selectores espec칤ficos
   ============================================================ */

/* Contenedor principal de la lecci칩n para aislar estilos */
.lesson-shelford {
    font-family: var(--font-retro); /* Uso de variables de style.css */
    color: var(--text-light);
}

/* --- T칤tulos y Separadores --- */
.lesson-shelford .divider-neon {
    border: 0;
    height: 3px;
    background: linear-gradient(90deg, transparent, var(--neon-cyan), transparent);
    margin: 40px 0;
    box-shadow: var(--glow-cyan);
}

.lesson-shelford .section-title {
    color: var(--neon-yellow);
    font-family: var(--font-pixel);
    border-left: 5px solid var(--neon-yellow);
    padding-left: 15px;
    margin: 40px 0 20px;
}

/* --- Diagramas SVG --- */
.lesson-shelford .svg-diagram {
    background: #050510;
    border: 3px solid var(--neon-cyan);
    border-radius: 12px;
    padding: 10px;
    box-shadow: 0 0 25px rgba(0, 255, 255, 0.2);
    margin: 30px 0;
}

/* --- Simulador Interactivo --- */
.lesson-shelford #factorSlider {
    appearance: none;
    -webkit-appearance: none;
    width: 100%;
    height: 15px;
    background: #222;
    outline: none;
    border: 2px solid var(--neon-green);
    border-radius: 0; /* Estilo retro */
    margin: 20px 0;
}

.lesson-shelford #factorSlider::-webkit-slider-thumb {
    appearance: none;
    -webkit-appearance: none;
    width: 25px;
    height: 35px;
    background: var(--neon-yellow);
    cursor: pointer;
    border: 2px solid #000;
    box-shadow: 0 0 10px var(--neon-yellow);
}

.lesson-shelford .sim-result {
    background: #000;
    padding: 20px;
    border: 2px dashed var(--neon-cyan);
    font-size: 1.4rem;
    min-height: 80px;
    text-align: center;
}

/* --- Mini Lab y Selects --- */
.lesson-shelford select {
    background: #000;
    color: var(--neon-orange);
    border: 3px solid var(--neon-orange);
    padding: 12px;
    font-family: var(--font-pixel);
    font-size: 16px;
    width: 100%;
    margin-bottom: 20px;
    cursor: pointer;
}

.lesson-shelford .lab-output {
    padding: 20px;
    background: var(--bg-panel);
    border-left: 10px solid var(--neon-orange);
    font-size: 1.2rem;
    margin-bottom: 30px;
}

/* --- Quiz Adaptativo --- */
.lesson-shelford .quiz-box {
    background: #111;
    border: 4px double var(--neon-pink);
    padding: 30px;
    border-radius: 8px;
    box-shadow: var(--glow-pink);
}

.lesson-shelford .quiz-box #opts {
    display: grid;
    grid-template-columns: 1fr;
    gap: 15px;
    margin-top: 20px;
}

.lesson-shelford .quiz-box button {
    background: transparent;
    color: var(--neon-pink);
    border: 2px solid var(--neon-pink);
    padding: 12px;
    font-family: var(--font-pixel);
    font-size: 14px;
    cursor: pointer;
    transition: all 0.3s;
}

.lesson-shelford .quiz-box button:hover {
    background: var(--neon-pink);
    color: #000;
    box-shadow: 0 0 15px var(--neon-pink);
}

.lesson-shelford #fb {
    margin-top: 20px;
    font-weight: bold;
    font-size: 1.2rem;
    height: 30px;
}

/* --- Ecuaciones MathJax --- */
.lesson-shelford .eq {
    background: rgba(0,0,0,0.5);
    padding: 25px;
    border-radius: 8px;
    text-align: center;
    font-size: 1.5rem;
    color: var(--neon-cyan);
    margin: 20px 0;
}
/* ============================================================
   ESTILOS ESPEC칈FICOS: FACTORES AMBIENTALES
   Namespace: .lesson-factors
   ============================================================ */

.lesson-factors {
    font-family: var(--font-retro);
    color: var(--text-light);
}

/* --- T칤tulos y L칤neas --- */
.lesson-factors .divider-neon {
    border: 0;
    height: 4px;
    background: linear-gradient(90deg, transparent, var(--neon-blue), var(--neon-pink), transparent);
    margin: 40px 0;
}

.lesson-factors .section-title {
    color: var(--neon-cyan);
    font-family: var(--font-pixel);
    text-transform: uppercase;
    letter-spacing: 2px;
    border-bottom: 2px solid var(--neon-cyan);
    display: inline-block;
    margin-top: 50px;
}

/* --- Diagramas SVG --- */
.lesson-factors .svg-diagram {
    background: #05050f;
    border: 2px solid #333;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 0 30px rgba(0, 0, 0, 0.8), inset 0 0 20px rgba(0, 255, 255, 0.1);
    margin: 30px 0;
}

.lesson-factors .caption {
    background: rgba(0, 0, 0, 0.7);
    color: var(--neon-cyan);
    padding: 10px;
    text-align: center;
    font-size: 0.9rem;
    border-top: 1px solid #222;
}

/* --- Tablas Estilo Cyberpunk --- */
.lesson-factors .table {
    background: rgba(20, 20, 20, 0.8);
    border: 1px solid #333;
    color: #eee;
    margin: 30px 0;
}

.lesson-factors .table th {
    background: #000;
    color: var(--neon-yellow);
    font-family: var(--font-pixel);
    border-color: #444;
    text-transform: uppercase;
    font-size: 0.8rem;
}

.lesson-factors .table td {
    border-color: #222;
    vertical-align: middle;
}

/* --- Contenedor Idea Clave (Ejemplo) --- */
.lesson-factors .ejemplo {
    background: linear-gradient(135deg, #1a1a1a 0%, #000 100%);
    border: 2px solid var(--neon-yellow);
    padding: 30px;
    position: relative;
    margin: 40px 0;
    clip-path: polygon(0% 0%, 100% 0%, 100% 85%, 95% 100%, 0% 100%);
}

.lesson-factors .ejemplo strong {
    color: var(--neon-yellow);
    text-shadow: 0 0 10px rgba(255, 204, 0, 0.5);
}

/* --- Simulador de Presi칩n --- */
.lesson-factors #envSlider {
    appearance: none;
    -webkit-appearance: none;
    height: 10px;
    background: #111;
    border: 1px solid var(--neon-blue);
    margin: 25px 0;
}

.lesson-factors #envSlider::-webkit-slider-thumb {
    appearance: none;
    -webkit-appearance: none;
    width: 20px;
    height: 40px;
    background: var(--neon-blue);
    box-shadow: 0 0 15px var(--neon-blue);
    cursor: pointer;
    border-radius: 0;
}

.lesson-factors .sim-result {
    font-family: var(--font-pixel);
    background: #000;
    padding: 20px;
    color: var(--neon-green);
    border: 1px solid #333;
    text-align: center;
    font-size: 1.2rem;
}

/* --- Quiz --- */

/* =======================================================
   MODO OSCURO GLOBAL - Overrides y variables
   - Clase `.dark` para activar manualmente
   - Soporte `prefers-color-scheme: dark`
   - Overrides generales para elementos comunes
=========================================================== */

:root {
    --dm-bg: #071014;
    --dm-card: #0e1417;
    --dm-panel: #0b0f12;
    --dm-text: #e6eef3;
    --dm-muted: #9aa8b0;
    --dm-accent: #4fb3ff;
    --dm-border: rgba(255,255,255,0.04);
    --dm-surface: #0d1215;
}

@media (prefers-color-scheme: dark) {
    body {
        background: var(--dm-bg) !important;
        color: var(--dm-text) !important;
    }
    .container, .card, .panel, .box, .lesson-container, .quiz-container, .ranking-container, .auth-form-wrapper {
        background: var(--dm-card) !important;
        color: var(--dm-text) !important;
        border-color: var(--dm-border) !important;
    }
    input, textarea, select, button {
        background: var(--dm-panel) !important;
        color: var(--dm-text) !important;
        border-color: var(--dm-border) !important;
    }
    a, .link-glow { color: var(--dm-accent) !important; }
}

/* Clase manual .dark (agregar a <html> o <body>) */
.dark, .dark body {
    background: var(--dm-bg) !important;
    color: var(--dm-text) !important;
}
.dark .container,
.dark .card,
.dark .panel,
.dark .box,
.dark .lesson-container,
.dark .quiz-container,
.dark .ranking-container,
.dark .auth-form-wrapper,
.dark .side-panel,
.dark .content-view,
.dark .quiz-view {
    background: var(--dm-card) !important;
    color: var(--dm-text) !important;
    border-color: var(--dm-border) !important;
}
.dark input, .dark textarea, .dark select, .dark button {
    background: var(--dm-panel) !important;
    color: var(--dm-text) !important;
    border-color: var(--dm-border) !important;
}
.dark a, .dark .link-glow { color: var(--dm-accent) !important; }
.dark .btn { background: #1b1f22 !important; border-color: rgba(255,255,255,0.06) !important; color: var(--dm-text) !important; text-shadow: none !important; }
.dark .btn:hover { background: #2a2f33 !important; }
.dark .quiz-option { background: rgba(255,255,255,0.02) !important; }
.dark .progress-bar, .dark .bar-track { background: #0b0b0b !important; }
.dark .footer { background: #050505 !important; }
.dark .svg-diagram svg, .dark .visual img { filter: none; }

/* Ajustes espec칤ficos para lecciones */
.dark .lesson-block,
.dark .lesson-title,
.dark .lesson-intro,
.dark .lesson-header,
.dark .content-body,
.dark .exercise-list li,
.dark .neo-table td,
.dark .caption,
.dark .svg-diagram,
.dark .diagram-caption {
    background: var(--dm-card) !important;
    color: var(--dm-text) !important;
    border-color: var(--dm-border) !important;
}

/* Robust overrides for inline and SVG backgrounds often injected in lesson markup */
/* Catch any element that sets a background via inline style and neutralize it in dark mode */
.dark [style*="background:"] {
    background: var(--dm-card) !important;
    color: var(--dm-text) !important;
    border-color: var(--dm-border) !important;
}

/* Specific handling for SVG elements that set background via style attr */
.dark svg[style*="background"] {
    background: transparent !important;
}

/* Legend color swatches: keep hue but lower brightness so they are not glaring in dark mode */
.dark .leyenda-color {
    filter: brightness(0.55) saturate(0.85) !important;
    border: 1px solid rgba(255,255,255,0.04) !important;
    box-shadow: none !important;
}

/* Progress bars and dashboard metrics: ensure contrast and visible accent */
.dark .progress { background: rgba(255,255,255,0.02) !important; }
.dark .progress .progress-bar { background: var(--dm-accent) !important; }

/* Specific override for AQI bar which previously used inline yellow */
.dark #aqiBar[style], .dark #aqiBar { background: var(--dm-accent) !important; }

/* Ensure interactive blocks and cards generated with inline styles obey dark theme */
.dark .opm-svg-container, .dark .opp-svg-container, .dark .ffm-svg-container, .dark .esm-svg-container {
    background: var(--dm-card) !important;
    border-color: var(--dm-border) !important;
}

/* Reduce intensity of glows and bright strokes inside SVGs while preserving meaning */
/* Preserve original SVG colors in dark mode: do not recolor embedded fills/strokes or apply over-aggressive filters */
.dark svg, .dark svg * {
    background: transparent !important;
    filter: none !important;
    mix-blend-mode: normal !important;
    fill: initial !important;
    stroke: initial !important;
    opacity: 1 !important;
}

/* Fallback: neutralize extremely bright inline colors */
.dark [style*="#fff"], .dark [style*="#FFFF00"], .dark [style*="#ffcc00"], .dark [style*="#ffffff"] {
    background: var(--dm-card) !important;
    color: var(--dm-text) !important;
}

/* Tags, small indicators and legend colors: preserve context but tone down brightness */
.dark .status-tag, .dark .legend-color, .dark .color-indicator {
    filter: brightness(0.6) saturate(0.7) !important;
    border: 1px solid rgba(255,255,255,0.04) !important;
    box-shadow: none !important;
}

/* Ensure small inline feedback panels that used heavy gradients are usable */
.dark .monday-feedback { background: linear-gradient(135deg, rgba(255,0,0,0.12), rgba(128,0,0,0.08)) !important; box-shadow: none !important; color: var(--dm-text) !important; }



/* Bordes y sombras menos saturadas en modo oscuro para legibilidad */
.dark * { box-shadow: none; }

/* Preferencia por defecto: si el autor quiere forzar modo oscuro, a침adir la clase .dark al html */

.lesson-factors .quiz-box {
    background: var(--bg-card);
    border: 2px solid var(--neon-pink);
    padding: 25px;
    box-shadow: var(--glow-pink);
}

.lesson-factors #oFA button {
    display: block;
    width: 100%;
    margin: 10px 0;
    background: #000;
    color: #fff;
    border: 1px solid var(--neon-pink);
    padding: 15px;
    font-family: var(--font-retro);
    cursor: pointer;
    transition: 0.2s;
}

.lesson-factors #oFA button:hover {
    background: var(--neon-pink);
    color: #000;
}

/* Utility for text center */
.lesson-factors .text-center { text-align: center; }
.lesson-factors .display-4 { 
    font-family: var(--font-pixel); 
    color: var(--neon-cyan); 
    text-shadow: var(--glow-cyan);
}
/* ============================================================
   ESTILOS ESPEC칈FICOS: BIOMAS DEL PLANETA
   Namespace: .lesson-biomes
   ============================================================ */

.lesson-biomes {
    font-family: var(--font-retro);
    color: var(--text-light);
    line-height: 1.6;
}

/* --- T칤tulos Ne칩n --- */
.lesson-biomes .display-4 {
    font-family: var(--font-pixel);
    color: var(--neon-cyan);
    text-shadow: var(--glow-cyan);
    margin-bottom: 30px;
}

.lesson-biomes .divider-neon {
    border: 0;
    height: 4px;
    background: linear-gradient(90deg, transparent, var(--neon-green), var(--neon-blue), transparent);
    margin: 50px 0;
}

/* --- Diagramas y Contenedores --- */
.lesson-biomes .svg-diagram {
    background: #050510;
    border: 3px solid #1a1a2e;
    border-radius: 15px;
    padding: 15px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    margin: 30px 0;
}

.lesson-biomes .caption {
    text-align: center;
    color: var(--neon-blue);
    font-size: 0.9rem;
    margin-top: 10px;
    font-style: italic;
}

/* --- Tablas de Comparaci칩n --- */
.lesson-biomes .table {
    background: rgba(10, 10, 15, 0.9);
    border-collapse: separate;
    border-spacing: 0;
    border: 1px solid #333;
    border-radius: 10px;
    overflow: hidden;
    margin: 40px 0;
}

.lesson-biomes .table th {
    background: var(--bg-panel);
    color: var(--neon-yellow);
    font-family: var(--font-pixel);
    padding: 20px;
    text-transform: uppercase;
    border-bottom: 2px solid var(--neon-yellow);
}

.lesson-biomes .table td {
    padding: 15px;
    border-bottom: 1px solid #222;
    transition: background 0.3s;
}

.lesson-biomes .table tr:hover td {
    background: rgba(0, 255, 255, 0.05);
}

/* --- Simulador Clima -> Bioma --- */
.lesson-biomes .climate-sim {
    background: #111;
    border: 2px solid var(--neon-blue);
    padding: 30px;
    border-radius: 20px;
    margin: 30px 0;
}

.lesson-biomes .climate-sim label {
    display: block;
    margin-bottom: 25px;
    font-size: 1.2rem;
    color: var(--neon-cyan);
}

.lesson-biomes input[type="range"] {
    appearance: none;
    -webkit-appearance: none;
    width: 100%;
    height: 8px;
    background: #333;
    outline: none;
    border-radius: 4px;
}

.lesson-biomes input[type="range"]::-webkit-slider-thumb {
    appearance: none;
    -webkit-appearance: none;
    width: 24px;
    height: 24px;
    background: var(--neon-yellow);
    cursor: pointer;
    border-radius: 50%;
    box-shadow: 0 0 10px var(--neon-yellow);
}

.lesson-biomes .sim-result {
    background: #000;
    border: 2px dashed var(--neon-green);
    padding: 20px;
    text-align: center;
    margin-top: 20px;
    min-height: 120px;
    border-radius: 10px;
}

/* --- Mapa Mundial Interactivo --- */
.lesson-biomes .map-controls {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    justify-content: center;
    margin-bottom: 20px;
}

.lesson-biomes .map-btn {
    background: #111;
    color: #fff;
    border: 1px solid #444;
    padding: 10px 18px;
    cursor: pointer;
    font-family: var(--font-retro);
    transition: all 0.3s;
    border-radius: 4px;
}

.lesson-biomes .map-btn:hover,
.lesson-biomes .map-btn.active {
    background: var(--neon-blue);
    color: #000;
    border-color: var(--neon-cyan);
    box-shadow: 0 0 15px var(--neon-blue);
}

.lesson-biomes .map-info {
    background: var(--bg-panel);
    border-left: 5px solid var(--neon-blue);
    padding: 20px;
    font-size: 1.3rem;
    margin-top: 20px;
    min-height: 80px;
}

/* --- Quiz Predictivo --- */
.lesson-biomes .btn-play {
    background: var(--neon-pink);
    color: #000;
    border: none;
    padding: 15px 30px;
    font-family: var(--font-pixel);
    cursor: pointer;
    width: 100%;
    margin-top: 15px;
    text-transform: uppercase;
}

.lesson-biomes #quizSelect {
    width: 100%;
    padding: 15px;
    background: #000;
    color: #fff;
    border: 2px solid var(--neon-pink);
    font-family: var(--font-retro);
    margin-top: 15px;
}
/* ============================================================
   ESTILOS ESPEC칈FICOS: REDES TR칍FICAS (MASTER)
   Namespace: .lesson-trophic
   ============================================================ */

.lesson-trophic {
    font-family: var(--font-retro);
    color: var(--text-light);
}

/* --- T칤tulos y Alertas --- */
.lesson-trophic .display-4 {
    font-family: var(--font-pixel);
    color: var(--neon-magenta);
    text-shadow: 0 0 15px var(--neon-magenta);
}

.lesson-trophic .divider-neon {
    border: 0;
    height: 3px;
    background: linear-gradient(90deg, transparent, var(--neon-magenta), var(--neon-cyan), transparent);
    margin: 40px 0;
}

/* --- Tablas de Energ칤a --- */
.lesson-trophic .table {
    background: #000;
    border: 1px solid var(--neon-cyan);
}

.lesson-trophic .table th {
    background: rgba(0, 255, 255, 0.1);
    color: var(--neon-cyan);
    font-family: var(--font-pixel);
    text-transform: uppercase;
    font-size: 0.8rem;
}

/* --- Bloques de Ejemplo y Ecuaciones --- */
.lesson-trophic .ejemplo {
    background: rgba(20, 20, 25, 0.8);
    border-left: 6px solid var(--neon-green);
    padding: 20px;
    margin: 20px 0;
    border-radius: 4px;
}

.lesson-trophic .eq {
    background: #050505;
    padding: 25px;
    border: 1px double #333;
    border-radius: 8px;
    color: var(--neon-yellow);
    font-size: 1.6rem;
    margin: 30px 0;
}

/* --- Diagrama SVG --- */
.lesson-trophic .svg-diagram {
    background: #020414;
    border: 2px solid #1a1a2e;
    border-radius: 12px;
    box-shadow: 0 0 40px rgba(0,0,0,0.8);
    padding: 10px;
}

/* --- Simulador de Alteraci칩n --- */
.lesson-trophic .trophic-sim {
    background: #0a0a0a;
    border: 2px solid #222;
    padding: 30px;
    border-radius: 16px;
    margin: 30px 0;
}

.lesson-trophic .species-controls {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-bottom: 25px;
}

.lesson-trophic .species-btn {
    background: transparent;
    border: 2px solid var(--neon-cyan);
    color: var(--neon-cyan);
    padding: 12px 20px;
    cursor: pointer;
    font-family: var(--font-retro);
    transition: 0.3s;
}

.lesson-trophic .species-btn:hover,
.lesson-trophic .species-btn.active {
    background: var(--neon-cyan);
    color: #000;
    box-shadow: 0 0 20px var(--neon-cyan);
}

.lesson-trophic .sim-output {
    background: #000;
    padding: 20px;
    border-radius: 8px;
    min-height: 100px;
    text-align: center;
    font-size: 1.2rem;
    border: 1px dashed #444;
}

/* --- Quiz de Cascadas --- */
.lesson-trophic .quiz-block {
    background: var(--bg-panel);
    padding: 30px;
    border: 2px solid var(--neon-magenta);
    border-radius: 12px;
}

.lesson-trophic .quiz-option {
    display: block;
    width: 100%;
    background: #111;
    color: #fff;
    border: 1px solid #333;
    padding: 15px;
    margin-bottom: 12px;
    cursor: pointer;
    text-align: left;
    transition: 0.2s;
}

.lesson-trophic .quiz-option:hover {
    border-color: var(--neon-magenta);
    background: rgba(255, 0, 255, 0.05);
}

.lesson-trophic .quiz-feedback {
    padding: 15px;
    margin-top: 15px;
    border-radius: 4px;
    display: none;
}

.lesson-trophic .quiz-feedback.correct { 
    display: block; background: rgba(0, 255, 0, 0.1); color: var(--neon-green); 
}

.lesson-trophic .quiz-feedback.incorrect { 
    display: block; background: rgba(255, 0, 0, 0.1); color: var(--neon-red); 
}

/* --- Calculador de Conectancia --- */
.lesson-trophic .analysis-block {
    background: linear-gradient(180deg, #111 0%, #000 100%);
    padding: 35px;
    border: 1px solid #333;
    border-radius: 15px;
}

.lesson-trophic .analysis-block label {
    display: block;
    margin-bottom: 20px;
    font-size: 1.1rem;
}

.lesson-trophic .analysis-block input {
    background: #000;
    border: 1px solid var(--neon-yellow);
    color: var(--neon-yellow);
    padding: 10px;
    width: 100px;
    margin-left: 10px;
}

.lesson-trophic #calcBtn {
    background: var(--neon-yellow);
    color: #000;
    border: none;
    padding: 12px 30px;
    font-family: var(--font-pixel);
    cursor: pointer;
    width: 100%;
    margin-top: 10px;
}

.lesson-trophic .analysis-output {
    margin-top: 25px;
    padding: 20px;
    background: #000;
    border-radius: 8px;
    text-align: center;
    font-size: 1.3rem;
    min-height: 80px;
}

/* ============================================================
   ESTILOS ESPEC칈FICOS: RELACIONES ECOL칍GICAS (MASTER)
   Namespace: .lesson-relations
   ============================================================ */

.lesson-relations {
    font-family: var(--font-retro);
    color: var(--text-light);
}

/* --- Encabezados con Estilo de Laboratorio --- */
.lesson-relations .display-4 {
    font-family: var(--font-pixel);
    color: var(--neon-cyan);
    text-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
    text-transform: uppercase;
    letter-spacing: 4px;
}

.lesson-relations h4 {
    color: var(--neon-yellow);
    border-bottom: 2px solid #333;
    padding-bottom: 10px;
    margin-top: 40px;
}

/* --- Tabla de Interacciones --- */
.lesson-relations .table {
    background: #050505;
    border: 1px solid #1a1a2e;
    border-radius: 8px;
    overflow: hidden;
}

.lesson-relations .table th {
    background: #111;
    color: var(--neon-cyan);
    border-bottom: 2px solid var(--neon-cyan);
}

.lesson-relations .table td {
    border-bottom: 1px solid #222;
    vertical-align: middle;
}

/* --- Bloques de Ejemplo Estilizados --- */
.lesson-relations .ejemplo {
    background: rgba(0, 255, 136, 0.05);
    border: 1px solid rgba(0, 255, 136, 0.3);
    border-left: 8px solid #00ff88;
    padding: 25px;
    margin: 25px 0;
    border-radius: 8px;
    position: relative;
}

.lesson-relations .ejemplo strong {
    color: #00ff88;
    text-transform: uppercase;
}

/* --- Diagrama SVG de Red de Relaciones --- */
.lesson-relations .svg-diagram {
    background: #05050a;
    border: 2px solid #1a1a2e;
    border-radius: 20px;
    padding: 20px;
    box-shadow: 0 0 30px rgba(0,0,0,0.9);
    margin: 40px 0;
}

/* --- Simulador de Relaciones --- */
.lesson-relations .relation-sim {
    background: #0f0f15;
    border: 1px solid #333;
    padding: 35px;
    border-radius: 24px;
    margin: 30px 0;
}

.lesson-relations .relation-controls {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    margin-bottom: 30px;
}

.lesson-relations .rel-btn {
    background: #000;
    color: #fff;
    border: 2px solid #444;
    padding: 15px;
    cursor: pointer;
    font-family: var(--font-retro);
    transition: all 0.3s;
    border-radius: 8px;
    font-size: 1rem;
}

.lesson-relations .rel-btn:hover {
    border-color: var(--neon-cyan);
    color: var(--neon-cyan);
    box-shadow: 0 0 15px rgba(0, 255, 255, 0.3);
}

.lesson-relations .sim-output {
    background: #000;
    padding: 25px;
    border: 1px dashed var(--neon-cyan);
    border-radius: 12px;
    min-height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.4rem;
    text-align: center;
}

/* --- Quiz Identificador --- */
.lesson-relations .quiz-block {
    background: #111;
    border: 2px solid var(--neon-magenta);
    padding: 30px;
    border-radius: 15px;
}

.lesson-relations .quiz-option {
    display: block;
    width: 100%;
    background: #000;
    border: 1px solid #333;
    color: #fff;
    padding: 18px;
    margin-bottom: 12px;
    cursor: pointer;
    text-align: center;
    transition: 0.2s;
    font-family: var(--font-retro);
}

.lesson-relations .quiz-option:hover {
    border-color: var(--neon-magenta);
    background: rgba(255, 0, 255, 0.1);
}

.lesson-relations .quiz-feedback {
    margin-top: 20px;
    padding: 15px;
    border-radius: 8px;
    text-align: center;
    font-weight: bold;
}

/* --- Laboratorio de Coevoluci칩n --- */
.lesson-relations .coevolution-lab {
    background: #050505;
    border: 3px double #333;
    padding: 40px;
    border-radius: 20px;
    margin: 40px 0;
}

.lesson-relations .coevolution-lab label {
    display: block;
    margin-bottom: 30px;
    font-size: 1.2rem;
    color: var(--neon-yellow);
}

.lesson-relations input[type="range"] {
    width: 100%;
    margin-top: 10px;
    cursor: pointer;
}

.lesson-relations .lab-output {
    background: #000;
    padding: 20px;
    border: 1px solid #444;
    border-radius: 8px;
    text-align: center;
    font-size: 1.3rem;
    color: #fff;
}
/* ============================================================
   ESTILOS ESPEC칈FICOS: HOMEOSTASIS (MASTER)
   Namespace: .lesson-homeostasis
   ============================================================ */

.lesson-homeostasis {
    font-family: 'VT323', monospace;
    color: var(--text-light);
    background-color: #050505;
    line-height: 1.4;
}

/* --- T칤tulos Ne칩n Retro --- */
.lesson-homeostasis h1, 
.lesson-homeostasis h2 {
    font-family: 'Press Start 2P', cursive;
    text-transform: uppercase;
    text-shadow: 3px 3px 0px #000, 0 0 20px var(--neon-cyan);
    color: var(--neon-cyan);
    margin-bottom: 30px;
}

.lesson-homeostasis h2 {
    font-size: 1.5rem;
    color: var(--neon-yellow);
    text-shadow: 0 0 10px var(--neon-yellow);
    border-left: 5px solid var(--neon-yellow);
    padding-left: 15px;
}

/* --- Alertas Estilo "System Warning" --- */
.lesson-homeostasis .alert {
    border-radius: 0;
    border-width: 2px;
    padding: 25px;
    font-size: 1.2rem;
    box-shadow: inset 0 0 15px rgba(0, 255, 0, 0.1);
}

/* --- Tablas de Monitoreo --- */
.lesson-homeostasis .table {
    background: rgba(0, 0, 0, 0.8);
    border: 1px solid #333;
    color: #eee;
}

.lesson-homeostasis .table th {
    background: #111;
    color: var(--neon-cyan);
    font-family: 'Press Start 2P', cursive;
    font-size: 0.7rem;
    border-bottom: 2px solid var(--neon-cyan);
}

/* --- Contenedores de Diagramas SVG --- */
.lesson-homeostasis .svg-diagram {
    background: #000;
    border: 3px solid #222;
    padding: 15px;
    box-shadow: 0 0 40px rgba(0, 255, 204, 0.15);
    border-radius: 8px;
    margin: 20px auto;
    max-width: 1000px;
}

/* --- Bloques Interactivos (Simuladores y Labs) --- */
.lesson-homeostasis .interactive-block {
    position: relative;
    border-radius: 4px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    margin-bottom: 40px;
}

.lesson-homeostasis .interactive-block h4 {
    font-family: 'Press Start 2P', cursive;
    font-size: 0.9rem;
    margin-bottom: 20px;
}

/* --- Inputs y Controles Retro --- */
.lesson-homeostasis input[type="range"] {
    appearance: none;
    -webkit-appearance: none;
    background: #222;
    height: 10px;
    border: 1px solid var(--neon-green);
}

.lesson-homeostasis input[type="range"]::-webkit-slider-thumb {
    appearance: none;
    -webkit-appearance: none;
    width: 20px;
    height: 30px;
    background: var(--neon-green);
    cursor: pointer;
    box-shadow: 0 0 10px var(--neon-green);
}

.lesson-homeostasis .retro-input {
    background: #000;
    color: var(--neon-cyan);
    border: 2px solid var(--neon-cyan);
    padding: 10px;
    font-family: 'VT323', monospace;
    font-size: 1.5rem;
}

/* --- Botones de Acci칩n --- */
.lesson-homeostasis .btn-start,
.lesson-homeostasis .btn-dashboard {
    background: transparent;
    color: var(--neon-green);
    border: 2px solid var(--neon-green);
    font-family: 'Press Start 2P', cursive;
    font-size: 0.8rem;
    padding: 12px 20px;
    transition: 0.3s;
    cursor: pointer;
}

.lesson-homeostasis .btn-start:hover {
    background: var(--neon-green);
    color: #000;
    box-shadow: 0 0 20px var(--neon-green);
}

/* --- Quiz Opciones --- */
.lesson-homeostasis .opciones-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    margin-top: 20px;
}

.lesson-homeostasis .opcion-btn {
    background: #111;
    border: 2px solid #444;
    color: #fff;
    padding: 15px;
    font-family: 'VT323', monospace;
    font-size: 1.3rem;
    cursor: pointer;
}

.lesson-homeostasis .opcion-btn:hover {
    border-color: var(--neon-magenta);
    color: var(--neon-magenta);
}

.lesson-homeostasis .correcta { color: var(--neon-green); text-shadow: 0 0 5px var(--neon-green); }
.lesson-homeostasis .incorrecta { color: var(--neon-red); text-shadow: 0 0 5px var(--neon-red); }

/* --- Conclusi칩n Final --- */
.lesson-homeostasis .alert-success {
    background: #001100;
    border: 3px double var(--neon-green);
    color: #fff;
    text-shadow: 0 0 10px var(--neon-green);
}
/* ============================================================
   AJUSTES: MODO AN츼LISIS (CONECTANCIA)
   ============================================================ */

/* Contenedor de etiquetas e inputs */
.lesson-homeostasis .interactive-block label {
    display: block;
    color: var(--neon-yellow);
    font-family: 'Press Start 2P', cursive;
    font-size: 0.75rem;
    margin-top: 20px;
    margin-bottom: 10px;
    text-transform: uppercase;
}

/* Estilo para los inputs num칠ricos tipo terminal */
.lesson-homeostasis input[type="number"] {
    background: #000;
    border: 2px solid var(--neon-yellow);
    color: var(--neon-yellow);
    font-family: 'VT323', monospace;
    font-size: 1.8rem;
    padding: 10px 15px;
    width: 100%;
    box-sizing: border-box;
    outline: none;
    box-shadow: inset 0 0 10px rgba(255, 204, 0, 0.2);
}

.lesson-homeostasis input[type="number"]:focus {
    border-color: #fff;
    box-shadow: 0 0 15px var(--neon-yellow);
}

/* Resultado del an치lisis */
.lesson-homeostasis #connectanceResult {
    background: rgba(0, 255, 0, 0.05);
    border: 1px solid rgba(0, 255, 0, 0.3);
    padding: 20px;
    margin-top: 25px;
    font-family: 'VT323', monospace;
    font-size: 1.6rem;
    min-height: 60px;
    border-radius: 4px;
}

/* Bot칩n espec칤fico de Dashboard */
.lesson-homeostasis .btn-dashboard {
    width: 100%;
    margin-top: 25px;
    background: var(--neon-yellow);
    color: #000;
    border: none;
    font-weight: bold;
    cursor: pointer;
}

.lesson-homeostasis .btn-dashboard:hover {
    background: #fff;
    box-shadow: 0 0 25px var(--neon-yellow);
}
/* ============================================================
   ESTILOS ESPEC칈FICOS: ENERG칈A Y PRODUCCI칍N (MASTER)
   Namespace: .lesson-energy
   ============================================================ */

.lesson-energy {
    font-family: 'VT323', monospace;
    background-color: #050805; /* Fondo verde oscuro abisal */
    color: #e0ffe0;
}

/* --- T칤tulos Ne칩n --- */
.lesson-energy h1, .lesson-energy h2 {
    font-family: 'Press Start 2P', cursive;
    color: var(--neon-cyan);
    text-shadow: 0 0 15px rgba(0, 255, 255, 0.6);
    text-transform: uppercase;
    margin-bottom: 1.5rem;
}

.lesson-energy h2 {
    font-size: 1.4rem;
    color: var(--neon-green);
    border-bottom: 2px solid var(--neon-green);
    display: inline-block;
    padding-bottom: 5px;
}

/* --- MathJax Integration --- */
.lesson-energy .mjx-chtml {
    font-size: 1.5rem !important;
    color: var(--neon-yellow) !important;
    text-shadow: 0 0 8px rgba(255, 204, 0, 0.4);
}

/* --- Tablas de Datos Energ칠ticos --- */
.lesson-energy .table {
    background: rgba(0, 20, 0, 0.8);
    border: 2px solid #222;
    color: #fff;
    border-radius: 8px;
    overflow: hidden;
}

.lesson-energy .table-success { background-color: #1b5e20 !important; color: #fff; }
.lesson-energy .table-info { background-color: #01579b !important; color: #fff; }

/* --- Contenedor SVG (Pir치mide) --- */
.lesson-energy .svg-diagram {
    background: #000;
    border: 4px solid #1a1a1a;
    box-shadow: 0 0 50px rgba(0, 255, 0, 0.1);
    margin: 40px auto;
    border-radius: 15px;
    max-width: 100%;
}

/* --- Bloques Interactivos Estilo "Terminal" --- */
.lesson-energy .interactive-block {
    background: #0a0a0a;
    border: 2px solid #333;
    border-top: 5px solid var(--neon-blue);
    position: relative;
    box-shadow: 0 10px 20px rgba(0,0,0,0.5);
    transition: transform 0.3s ease;
}

.lesson-energy .interactive-block:hover {
    transform: translateY(-5px);
    border-color: var(--neon-blue);
}

.lesson-energy .interactive-block h4 {
    font-size: 1rem;
    letter-spacing: 2px;
}

/* --- Inputs y Controles --- */
.lesson-energy .retro-input {
    background: #111;
    color: var(--neon-cyan);
    border: 2px solid #444;
    padding: 10px;
    font-family: 'VT323', monospace;
    font-size: 1.4rem;
    transition: 0.3s;
}

.lesson-energy .retro-input:focus {
    border-color: var(--neon-cyan);
    box-shadow: 0 0 15px var(--neon-cyan);
    outline: none;
}

.lesson-energy input[type="range"] {
    accent-color: var(--neon-blue);
    cursor: pointer;
}

/* --- Botones --- */
.lesson-energy .btn-start, 
.lesson-energy .btn-primary {
    background: transparent;
    border: 2px solid var(--neon-green);
    color: var(--neon-green);
    font-family: 'Press Start 2P', cursive;
    font-size: 0.8rem;
    padding: 15px;
    transition: 0.3s;
}

.lesson-energy .btn-start:hover {
    background: var(--neon-green);
    color: #000;
    box-shadow: 0 0 20px var(--neon-green);
}

/* --- Quiz Feedback --- */
.lesson-energy .opcion-btn {
    background: #1a1a1a;
    border: 1px solid #444;
    color: #ccc;
    font-family: 'VT323', monospace;
    font-size: 1.4rem;
    transition: 0.2s;
}

.lesson-energy .opcion-btn:hover:not(:disabled) {
    border-color: var(--neon-magenta);
    color: var(--neon-magenta);
    background: rgba(255, 0, 255, 0.05);
}

.lesson-energy .opcion-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

/* --- Caption --- */
.lesson-energy .caption {
    text-align: center;
    font-size: 1.2rem;
    color: #888;
    margin-top: -20px;
    margin-bottom: 40px;
}
/* ============================================================
   ESTILOS ESPEC칈FICOS: HUELLA DE CARBONO (MASTER)
   Namespace: .lesson-carbon
   ============================================================ */

.lesson-carbon {
    font-family: 'VT323', monospace;
    background-color: #0d0d0d;
    color: #e0e0e0;
    line-height: 1.5;
}

/* --- T칤tulos Estilo "Impacto Global" --- */
.lesson-carbon h3 {
    font-family: 'Press Start 2P', cursive;
    color: var(--neon-red);
    text-shadow: 0 0 20px rgba(255, 51, 51, 0.4);
    margin-bottom: 40px;
}

.lesson-carbon h4 {
    font-family: 'Press Start 2P', cursive;
    font-size: 1.2rem;
    color: var(--neon-cyan);
    border-left: 6px solid var(--neon-cyan);
    padding-left: 20px;
    margin-top: 50px;
    margin-bottom: 30px;
}

/* --- Alertas de Monitoreo --- */
.lesson-carbon .alert-info {
    background: rgba(0, 204, 255, 0.1);
    border: 2px solid var(--neon-blue);
    color: #fff;
    border-radius: 0;
}

.lesson-carbon .alert-success {
    background: #001a00;
    border: 2px solid var(--neon-green);
    color: var(--neon-green);
    box-shadow: 0 0 20px rgba(0, 255, 0, 0.2);
}

/* --- Tablas de Emisiones --- */
.lesson-carbon .table {
    background: #111;
    border: 1px solid #333;
    color: #fff;
    font-size: 1.3rem;
}

.lesson-carbon .table th {
    background: #222;
    color: var(--neon-yellow);
    text-transform: uppercase;
    font-size: 0.9rem;
    font-family: 'Press Start 2P', cursive;
}

/* --- Bloques de Ejemplo (C치lculos) --- */
.lesson-carbon .ejemplo {
    background: #1a1a1a;
    border-right: 5px solid var(--neon-orange);
    padding: 20px;
    margin: 30px 0;
    font-family: 'VT323', monospace;
    box-shadow: 10px 10px 0px rgba(255, 152, 0, 0.1);
}

.lesson-carbon .ejemplo strong {
    color: var(--neon-orange);
}

/* --- Integraci칩n MathJax --- */
.lesson-carbon .eq {
    padding: 30px;
    background: #000;
    border: 1px dashed #444;
    margin: 20px 0;
}

.lesson-carbon .mjx-chtml {
    color: var(--neon-cyan) !important;
    font-size: 1.8rem !important;
}

/* --- Contenedores Visuales y Gr치ficos --- */
.lesson-carbon .visual {
    text-align: center;
    margin: 40px 0;
    padding: 20px;
    background: #000;
    border: 1px solid #222;
}

.lesson-carbon .visual img {
    max-width: 100%;
    height: auto;
    filter: grayscale(20%) contrast(110%);
    border: 2px solid #444;
}

.lesson-carbon .visual p {
    margin-top: 15px;
    color: #888;
    font-style: italic;
}

/* --- SVG Diagrama de Flujo --- */
.lesson-carbon .svg-diagram {
    background: #000;
    border: 4px double #333;
    padding: 10px;
    margin-top: 30px;
    box-shadow: 0 0 40px rgba(0, 255, 255, 0.05);
}

/* --- Listas de Mitigaci칩n --- */
.lesson-carbon ul li {
    margin-bottom: 15px;
    position: relative;
    padding-left: 30px;
}

.lesson-carbon ul li::before {
    content: ">>";
    position: absolute;
    left: 0;
    color: var(--neon-green);
    font-weight: bold;
}
/* --- CSS MASTER: HUELLA DE CARBONO --- */
.lesson-carbon {
    background: #050505;
    color: #e0e0e0;
    font-family: 'VT323', monospace;
    padding: 20px;
}

.intro-header h1 {
    font-family: 'Press Start 2P', cursive;
    color: #ff3333;
    text-shadow: 0 0 20px rgba(255, 51, 51, 0.5);
}

.section-title {
    font-family: 'Press Start 2P', cursive;
    font-size: 1.2rem;
    color: #00ffff;
    margin: 40px 0 20px;
    border-bottom: 2px solid #00ffff;
    display: inline-block;
}

.alert-carbon {
    background: #111;
    border: 2px solid #333;
    border-left: 5px solid;
}
.alert-carbon h4 { font-family: 'Press Start 2P', cursive; font-size: 0.9rem; }
.mono-text { font-family: 'Courier New', monospace; color: #00ff00; }

.svg-container {
    background: #000;
    border: 3px solid #1a1a1a;
    border-radius: 10px;
    overflow: hidden;
}

.interactive-block {
    background: #0a0a0a;
    border: 2px solid #222;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
}

.retro-input {
    background: #000;
    border: 2px solid #444;
    color: #00ffff;
    padding: 10px;
    font-size: 1.5rem;
}

.display-huge {
    font-family: 'Press Start 2P', cursive;
    font-size: 4rem;
    color: #ff3333;
    text-shadow: 0 0 15px rgba(255, 51, 51, 0.3);
}

.lab-output {
    font-size: 2rem;
    padding: 20px;
    border: 2px dashed #ff00ff;
    background: rgba(255, 0, 255, 0.05);
}

.btn-quiz {
    display: block;
    width: 100%;
    background: #1a1a1a;
    border: 1px solid #444;
    color: #fff;
    padding: 15px;
    margin-bottom: 10px;
    text-align: left;
    transition: 0.3s;
}

.btn-quiz:hover {
    background: #333;
    border-color: #ffcc00;
    color: #ffcc00;
}

.conclusion-box {
    background: linear-gradient(45deg, #001a00, #000);
    border: 2px solid #00ff00;
    border-radius: 10px;
}
.conclusion-box h3 { font-family: 'Press Start 2P', cursive; color: #00ff00; font-size: 1.2rem; }

/* Colores Sem치nticos */
.text-cyan { color: #00ffff; }
.text-yellow { color: #ffcc00; }
.text-magenta { color: #ff00ff; }
.val-display { color: #ffcc00; font-weight: bold; }

/* --- CSS ADICIONAL PARA CLIMA MASTER --- */
.climate-master .text-neon-red { color: #ff3333; text-shadow: 0 0 10px rgba(255,51,51,0.5); }
.climate-master .custom-range { height: 15px; border-radius: 5px; background: #333; outline: none; transition: background .2s; }

.tipping-card {
    background: #111;
    border: 1px solid #333;
    padding: 15px;
    transition: all 0.5s ease;
}

.tipping-card.active {
    border-color: #ff3333;
    box-shadow: 0 0 15px rgba(255,51,51,0.4);
    background: #2a0a0a;
}

.tipping-card .status-indicator {
    font-family: 'VT323';
    font-size: 1.2rem;
    margin-top: 10px;
}

.btn-quiz {
    background: #1a1a1a;
    border: 1px solid #00ffff;
    color: #00ffff;
    text-align: left;
    padding: 15px;
}

.btn-quiz:hover {
    background: #00ffff;
    color: #000;
}

/* Estilos espec칤ficos para Variabilidad Clim치tica */
.climate-variability .section-title {
    color: var(--neon-blue);
    border-bottom: 2px solid var(--neon-blue);
}

.climate-variability .retro-input {
    border-color: var(--neon-blue);
}

.climate-variability .display-huge {
    color: var(--neon-yellow);
}

.lab-output {
    font-family: 'Press Start 2P';
    font-size: 1.2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;
}
/* --- CSS MASTER HUELLA H칈DRICA --- */
.water-master {
    background: #020b14;
    color: #e0f7ff;
}

.text-blue { color: #00ccff; }
.text-green { color: #00ff00; }
.text-gray { color: #aaaaaa; }

.border-blue { border: 2px solid #00ccff; }
.border-green { border: 2px solid #00ff00; }
.border-gray { border: 2px solid #888; }

.btn-water {
    background: transparent;
    border: 2px solid #ffcc00;
    color: #ffcc00;
    padding: 10px 20px;
    font-family: 'VT323';
    font-size: 1.5rem;
    width: 100%;
    margin-bottom: 10px;
    transition: 0.3s;
}

.btn-water:hover {
    background: #ffcc00;
    color: #000;
    box-shadow: 0 0 15px #ffcc00;
}

.display-huge {
    font-family: 'Press Start 2P';
    font-size: 3rem;
    color: #00ffff;
    text-shadow: 0 0 10px rgba(0,255,255,0.5);
}

.btn-quiz {
    background: #111;
    border: 1px solid #ff00ff;
    color: #fff;
    text-align: left;
    padding: 15px;
}

.btn-quiz:hover {
    background: #ff00ff;
    color: #000;
}

/* --- ESTILOS FOOTPRINT MASTER --- */
.footprint-master .border-neon {
    border: 3px double var(--neon-magenta);
    box-shadow: 0 0 15px rgba(255,0,255,0.3);
}

.footprint-master .retro-input {
    background: #111;
    color: var(--neon-yellow);
    border: 1px solid var(--neon-yellow);
    padding: 10px;
}

.footprint-master .display-4 {
    font-family: 'Press Start 2P';
    font-size: 2.5rem;
}

.table-danger { background-color: rgba(255, 51, 51, 0.2) !important; color: #ff3333; }
.table-success { background-color: rgba(0, 255, 0, 0.2) !important; color: #00ff00; }

/* --- ESTILOS GOLDEN ARROW MASTER --- */
.golden-arrow-master .section-title {
    color: var(--neon-yellow, #ffcc00);
    text-transform: uppercase;
    letter-spacing: 2px;
}

.golden-arrow-master .alert-carbon {
    background: rgba(255, 204, 0, 0.05);
    border: 1px solid var(--neon-yellow, #ffcc00);
}

.btn-quiz {
    background: #111;
    border: 1px solid var(--neon-yellow, #ffcc00);
    color: #fff;
    transition: all 0.3s ease;
    font-weight: 600;
    letter-spacing: 1px;
    position: relative;
    overflow: hidden;
}

.btn-quiz:hover {
    background: var(--neon-yellow, #ffcc00);
    color: #000;
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(255,204,0,0.4);
}

.btn-scenario {
    font-weight: 600 !important;
    letter-spacing: 1px;
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
}

.btn-scenario:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(255,204,0,0.4) !important;
}

.scenario-output {
    background: linear-gradient(135deg, #0a0a0a, #1a1a1a) !important;
    border: 2px dashed #ffcc00 !important;
    transition: all 0.3s ease !important;
}

#quizFeedbackGolden .alert {
    animation: pulse 0.6s ease-in-out;
}

@keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.02); }
}
.perceived-obsolescence-master { color: #e0e0e0; }
.text-magenta { color: #ff00ff; }
.border-pink { border: 2px solid #ff00ff; }
.border-cyan { border: 2px solid #00ffff; }
.border-left-magenta { border-left: 5px solid #ff00ff; }
.counter-card { background: #111; padding: 20px; border-radius: 10px; border: 1px solid #333; height: 100%; }
.btn-quiz-obs { background: transparent; border: 1px solid #ff00ff; color: #ff00ff; transition: 0.3s; }
.btn-quiz-obs:hover { background: #ff00ff; color: #fff; }
.border-dashed-orange { border: 2px dashed #ff9800; }

.planned-obsolescence-master .section-title { text-transform: uppercase; letter-spacing: 2px; margin-top: 40px; }
.border-orange { border: 2px solid #ff9800; }
.border-left-orange { border-left: 5px solid #ff9800; background: rgba(255,152,0,0.05); padding: 15px; }
.bg-panel { background: #1a1a1a; border-radius: 10px; }
.text-orange { color: #ff9800; }

.fast-fashion-master { color: #e0e0e0; }
.text-magenta { color: #ff00ff; }
.text-neon-pink { color: #ff00ff; text-shadow: 0 0 10px #ff00ff; }
.border-pink { border: 2px solid #ff00ff; }
.border-cyan { border: 2px solid #00ffff; }
.border-left-magenta { border-left: 5px solid #ff00ff; background: rgba(255,0,255,0.05); }
.bg-danger-soft { background: rgba(255,0,0,0.1); }
.border-dashed-cyan { border: 1px dashed #00ffff; }

.modern-slavery-master { color: #e0e0e0; }
.text-red { color: #ff3333; }
.text-neon-red { color: #ff3333; text-shadow: 0 0 10px #ff3333; }
.border-red { border: 2px solid #ff3333; }
.border-left-red { border-left: 5px solid #ff3333; background: rgba(255,51,51,0.05); }

/* ========================================
   ESTILOS AVANZADOS: LABORATORIO TEEB & SIM
   ======================================== */

/* Contenedor de Laboratorio con efecto ne칩n */
.lab-teeb-container {
    background: #0d1117;
    border: 1px solid var(--accent-gold);
    box-shadow: 0 0 15px rgba(255, 204, 0, 0.1);
    padding: 25px;
    border-radius: 12px;
    position: relative;
    overflow: hidden;
}

.lab-teeb-container::before {
    content: "BIO-ECONOMY ANALYZER v2.0";
    position: absolute;
    top: 5px;
    right: 15px;
    font-size: 0.6rem;
    color: var(--accent-gold);
    opacity: 0.5;
    letter-spacing: 1px;
}

/* Inputs Estilo Consola */
.form-control-master {
    background: #161b22 !important;
    border: 1px solid #30363d !important;
    color: var(--accent-gold) !important;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    text-align: center;
    transition: all 0.3s ease;
}

.form-control-master:focus {
    border-color: var(--accent-gold) !important;
    box-shadow: 0 0 8px rgba(255, 204, 0, 0.3);
    outline: none;
}

/* Resultado Din치mico con Animaci칩n */
#labResult {
    display: inline-block;
    color: var(--accent-gold);
    text-shadow: 0 0 10px rgba(255, 204, 0, 0.5);
    font-family: 'Orbitron', sans-serif;
    letter-spacing: 2px;
    transition: transform 0.2s ease;
}

.value-pulse {
    animation: pulse-gold 0.5s ease-out;
}

@keyframes pulse-gold {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); text-shadow: 0 0 20px rgba(255, 204, 0, 0.8); }
    100% { transform: scale(1); }
}

/* Tooltip de Causalidad */
.causal-link {
    font-size: 0.85rem;
    color: #8b949e;
    margin-top: 10px;
    padding: 10px;
    border-top: 1px dashed #30363d;
}

/* Sliders Personalizados */
.form-range::-webkit-slider-runnable-track {
    background: #30363d;
    height: 6px;
    border-radius: 3px;
}

.form-range::-webkit-slider-thumb {
    background: var(--accent-green);
    border: 2px solid #fff;
    margin-top: -6px;
    box-shadow: 0 0 10px var(--accent-green);
}

/* clase temporal para destacar la lecci칩n al volver */
.highlight-return {
  animation: highlight-return 2.5s ease;
  box-shadow: 0 0 0 3px rgba(255, 200, 0, .15);
}
@keyframes highlight-return {
  0% { background-color: rgba(255, 255, 0, .9); }
  40% { background-color: rgba(255, 255, 0, .3); }
  100% { background-color: transparent; }
}

/* ================================
   ANTI-NUTRIENTES 췅 MASTER EXTENSION
   ================================ */

.antx-section{
    background:#0b1224;
    border:1px solid #1e293b;
    border-radius:18px;
    padding:28px;
    margin:40px 0;
    color:#e5e7eb;
}

/* ---------- LAB AVANZADO ---------- */
.antx-lab{
    background:linear-gradient(135deg,#020617,#0f172a);
    border:1px solid #334155;
    border-radius:16px;
    padding:24px;
}

.antx-lab label{
    font-size:.7rem;
    letter-spacing:1px;
    text-transform:uppercase;
    color:#94a3b8;
}

.antx-slider{
    width:100%;
    accent-color:#fbbf24;
}

.antx-stat{
    background:rgba(0,0,0,.4);
    border:1px solid #1e293b;
    border-radius:12px;
    padding:14px;
    text-align:center;
}

.antx-stat span.value{
    display:block;
    font-size:1.4rem;
    font-weight:800;
    color:#fbbf24;
}

/* ---------- ERRORES COMUNES ---------- */
.antx-warning{
    background:#020617;
    border-left:5px solid #ef4444;
    padding:18px;
    border-radius:10px;
    margin:16px 0;
}

.antx-warning strong{
    color:#ef4444;
}

/* ---------- QUIZ PROGRESIVO ---------- */
.antx-quiz{
    background:#020617;
    border:1px solid #334155;
    border-radius:18px;
    padding:24px;
}

.antx-question{
    font-size:1.05rem;
    margin-bottom:16px;
}

.antx-option{
    display:block;
    width:100%;
    text-align:left;
    padding:12px 16px;
    margin-bottom:10px;
    background:#020617;
    border:1px solid #334155;
    border-radius:12px;
    color:#e5e7eb;
    cursor:pointer;
    transition:.3s;
}

.antx-option:hover{
    background:#1e293b;
}

.antx-option.correct{
    background:#16a34a;
    color:#000;
}

.antx-option.incorrect{
    background:#dc2626;
    color:#000;
}

.antx-progress{
    font-size:.75rem;
    color:#94a3b8;
    margin-top:10px;
    text-align:right;
}

/* =========================================
   RETRO SCIENTIFIC EXTENSIONS  METODO
   ========================================= */

.ms-decision,
.ms-error,
.ms-q1,
.ms-exam,
.ms-meta {
    border:2px solid var(--neon-cyan);
    background:#000;
    padding:18px;
    margin:28px 0;
    box-shadow:0 0 15px rgba(0,255,255,.25);
}

.ms-title {
    font-family:"Press Start 2P";
    font-size:.7rem;
    color:var(--neon-pink);
    margin-bottom:12px;
}

.ms-btn {
    display:block;
    width:100%;
    margin:8px 0;
    padding:10px;
    background:#000;
    border:2px solid var(--neon-cyan);
    color:var(--neon-cyan);
    font-family:"Press Start 2P";
    font-size:.55rem;
}

.ms-btn:hover {
    background:var(--neon-cyan);
    color:#000;
    cursor:pointer;
}

.ms-feedback {
    margin-top:10px;
    font-size:1.2rem;
}

.ms-ok { color:var(--ok); }
.ms-bad { color:var(--error); }

.ms-tag {
    display:inline-block;
    border:1px solid var(--neon-green);
    padding:4px 8px;
    font-size:.6rem;
    margin:4px;
    color:var(--neon-green);
}
@import url("https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&display=swap");

.atomic-terminal {
    background-color: #0a0a0f;
    color: #39ff14;
    font-family: "VT323", monospace;
    padding: 25px;
    border: 3px solid #39ff14;
    box-shadow: 0 0 15px #39ff14;
    font-size: 1.3rem;
    position: relative;
}

.atomic-terminal h3, .atomic-terminal h4, .atomic-terminal h5 {
    font-family: "Press Start 2P", cursive;
    color: #ff00ff;
    text-transform: uppercase;
    text-shadow: 2px 2px #000;
    margin-top: 35px;
    font-size: 1rem;
    border-bottom: 2px dashed #ff00ff;
    padding-bottom: 10px;
}

.terminal-window {
    border: 1px solid #00ffff;
    background: rgba(0,0,0,0.9);
    padding: 15px;
    margin: 20px 0;
    position: relative;
}

.terminal-window::before {
    content: "[ ATOMIC_OS_v3.0 ]";
    position: absolute;
    top: -10px;
    left: 15px;
    background: #0a0a0f;
    color: #00ffff;
    font-size: 0.7rem;
    padding: 0 5px;
}

.retro-table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
    border: 1px solid #00ffff;
    font-size: 1.1rem;
}
.retro-table th {
    background: #00ffff;
    color: #000;
    padding: 8px;
    font-family: "Press Start 2P", cursive;
    font-size: 0.6rem;
}
.retro-table td {
    border: 1px solid rgba(0,255,255,0.3);
    padding: 8px;
}

.highlight { color: #ff00ff; font-weight: bold; }
.data { color: #00ffff; }

.svg-container {
    background: #000;
    border: 2px solid #ff00ff;
    margin: 30px 0;
    padding: 10px;
    box-shadow: 0 0 20px rgba(255,0,255,0.2);
}

.math-block {
    background: rgba(57,255,20,0.05);
    padding: 15px;
    border-left: 4px solid #39ff14;
    margin: 20px 0;
    text-align: center;
}

.scanline {
    position: absolute;
    top:0; left:0; width:100%; height:2px;
    background: rgba(57,255,20,0.1);
    animation: scanline 8s linear infinite;
    pointer-events:none;
}

@keyframes scanline {
    0% { transform: translateY(-100%); }
    100% { transform: translateY(100%); }
}

.quiz-btn {
    font-family: "Press Start 2P", monospace;
    margin: 5px;
    padding: 10px 15px;
    border: 2px solid #00ffff;
    color: #00ffff;
    background: transparent;
    cursor: pointer;
    transition: 0.3s;
}
.quiz-btn:hover { background: rgba(0,255,255,0.1); }
.quiz-btn.correct { background: #0f0; color:#000; border-color: #0f0; }
.quiz-btn.incorrect { background: #f00; color:#000; border-color: #f00; }
/* ====== Estilos 칰nicos para los simuladores ====== */
.simulator-section {
    background-color: #0a0a0a;
    padding: 20px;
    border: 2px solid #00ffff;
    border-radius: 12px;
    font-family: 'VT323', monospace;
    color: #00ffff;
    margin-bottom: 30px;
}

.simulator-section h4 {
    color: #ff00ff;
    font-size: 1.5em;
    margin-bottom: 15px;
    text-shadow: 0 0 5px #ff00ff;
}

.simulator-section h5 {
    color: #39ff14;
    margin-top: 15px;
    margin-bottom: 5px;
    text-shadow: 0 0 4px #39ff14;
}

.simulator-section label {
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
    color: #00ffff;
}

.simulator-section input[type="range"] {
    width: 100%;
    margin-bottom: 10px;
    accent-color: #ff00ff;
}

.simulator-section input[type="number"] {
    width: 60px;
    padding: 4px;
    border-radius: 6px;
    border: 1px solid #39ff14;
    background-color: #0a0a0a;
    color: #39ff14;
    text-align: center;
    font-family: 'VT323', monospace;
}

.simulator-section select {
    padding: 5px;
    border-radius: 6px;
    border: 1px solid #39ff14;
    background-color: #0a0a0a;
    color: #39ff14;
    font-family: 'VT323', monospace;
}

.simulator-section div {
    margin-top: 5px;
    font-size: 1em;
    color: #ff00ff;
    text-shadow: 0 0 2px #ff00ff;
}

/* Animaci칩n suave para feedback */
.simulator-section div span {
    transition: all 0.3s ease;
}

/* ========================================
   INGL칄S B1 - FUTURE / CONVERSATION STYLES
   ======================================== */

/* ===== GLOBAL ===== */
.lesson-page-wrapper, .lesson-container {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(120deg,#0a0020,#000010);
    color: #fff;
    padding: 20px;
    line-height: 1.5;
}

h1,h2,h3,h4 {
    font-family: 'Orbitron', sans-serif;
    font-weight: bold;
    text-shadow: 0 0 6px #0ff, 0 0 12px #0ff;
}

hr.separator, hr.neon-separator {
    border: none;
    height: 2px;
    background: linear-gradient(to right, #ff00ff, #00ffff);
    margin: 20px 0;
    box-shadow: 0 0 8px #ff00ff, 0 0 12px #00ffff;
}

/* ===== BANNERS ===== */
.lesson-banner {
    text-align: center;
    padding: 30px;
    background: #0a0020;
    border-radius: 16px;
    box-shadow: 0 0 20px rgba(0,255,255,0.4);
}

.banner-content h1 {
    font-size: 42px;
    margin-bottom: 8px;
    color: #00ffff;
    text-shadow: 0 0 10px #00ffff;
}

.banner-subtitle {
    font-size: 20px;
    color: #ff00ff;
    text-shadow: 0 0 8px #ff00ff;
}

.banner-stats {
    display: flex;
    justify-content: center;
    gap: 25px;
    margin-top: 20px;
}

.banner-stats .stat {
    text-align: center;
    padding: 10px 20px;
    border-radius: 12px;
    background: rgba(255,255,255,0.05);
    box-shadow: 0 0 12px rgba(0,255,255,0.4);
}

.banner-stats .stat-number {
    font-size: 28px;
    color: #0ff;
    display: block;
}

.banner-stats .stat-label {
    font-size: 14px;
    color: #fff;
}

/* ===== PROGRESS BAR ===== */
.progress-container {
    margin: 20px 0;
}

.progress-bar {
    width: 100%;
    height: 18px;
    background: rgba(255,255,255,0.1);
    border-radius: 12px;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    width: 0%;
    background: linear-gradient(90deg, #ff00ff, #00ffff);
    box-shadow: 0 0 10px #ff00ff, 0 0 20px #00ffff;
    border-radius: 12px;
    transition: width 0.4s ease-in-out;
}

.progress-text {
    text-align: center;
    margin-top: 5px;
    font-weight: bold;
    color: #0ff;
}

/* ===== SECTION CARDS ===== */
.section-card {
    padding: 20px;
    border-radius: 16px;
    margin: 20px 0;
    background: rgba(0,0,0,0.3);
    box-shadow: 0 0 12px rgba(0,255,255,0.3);
}

.section-card h2 {
    font-size: 28px;
    color: #ff00ff;
    margin-bottom: 10px;
}

.section-card p {
    font-size: 16px;
    color: #fff;
}

/* Background Variants */
.bg-green-chat { background: rgba(0,128,128,0.2); }
.bg-orange-voice { background: rgba(255,140,0,0.2); }
.bg-blue-fillers { background: rgba(0,0,255,0.2); }
.bg-purple-example { background: rgba(128,0,128,0.2); }

/* ===== CHAT ===== */
.chat-display {
    max-height: 300px;
    overflow-y: auto;
    background: rgba(0,0,0,0.2);
    padding: 15px;
    border-radius: 12px;
    box-shadow: 0 0 10px #0ff inset;
}

.chat-bubble {
    padding: 10px 15px;
    margin: 8px 0;
    border-radius: 20px;
    max-width: 75%;
    position: relative;
    display: inline-block;
    box-shadow: 0 0 8px rgba(0,255,255,0.3);
}

.chat-bubble.user {
    background: #ff00ff;
    color: #fff;
    align-self: flex-end;
    float: right;
}

.chat-bubble.ai {
    background: #00ffff;
    color: #0a0020;
    align-self: flex-start;
    float: left;
}

.bubble-speak-btn {
    background: rgba(255,255,255,0.1);
    border: none;
    margin-right: 6px;
    border-radius: 50%;
    cursor: pointer;
    padding: 5px;
    transition: 0.2s;
}

.bubble-speak-btn:hover { transform: scale(1.2); }

/* ===== CHAT INPUTS ===== */
.chat-input-area {
    display: flex;
    gap: 10px;
    margin-top: 10px;
}

.chat-input {
    flex: 1;
    padding: 12px 15px;
    border-radius: 50px;
    border: none;
    font-size: 16px;
    outline: none;
    background: rgba(255,255,255,0.1);
    color: #fff;
}

.btn-send, .btn-clear-chat {
    padding: 12px 20px;
    border-radius: 50px;
    border: none;
    cursor: pointer;
    font-weight: bold;
    color: #fff;
    background: linear-gradient(45deg,#ff00ff,#00ffff);
    box-shadow: 0 0 12px #ff00ff,0 0 20px #00ffff;
    transition: 0.3s;
}

.btn-send:hover, .btn-clear-chat:hover {
    transform: scale(1.05);
}

/* ===== BUTTONS ===== */
button, .btn-prediction, .btn-interview, .btn-sample, .topic-chip, .filler-btn, .speak-mini-btn, .btn-play-all {
    cursor: pointer;
    font-family: 'Segoe UI', sans-serif;
    font-weight: bold;
    color: #fff;
    border: none;
    border-radius: 50px;
    padding: 12px 20px;
    margin: 5px;
    transition: 0.3s;
    text-shadow: 0 0 4px #fff;
}

button:hover, .btn-prediction:hover, .btn-interview:hover, .btn-sample:hover, .topic-chip:hover, .filler-btn:hover, .speak-mini-btn:hover, .btn-play-all:hover {
    transform: scale(1.1);
    box-shadow: 0 0 12px #ff00ff,0 0 20px #00ffff;
}

.btn-prediction.neon-glow {
    background: linear-gradient(45deg,#ff00ff,#00ffff);
    box-shadow: 0 0 15px #ff00ff, 0 0 25px #00ffff;
}

/* ===== VOICE RECORDER ===== */
.voice-controls button {
    background: linear-gradient(45deg,#ff0080,#00ffff);
    box-shadow: 0 0 10px #ff00ff,0 0 20px #00ffff;
    margin-right: 10px;
}

.voice-controls button:disabled {
    background: rgba(255,255,255,0.2);
    box-shadow: none;
    cursor: not-allowed;
}

.recording-wave {
    display: flex;
    gap: 3px;
    margin: 10px 0;
}

.wave-bar {
    width: 6px;
    height: 20px;
    background: #0ff;
    animation: wave 1s infinite;
}

.wave-bar:nth-child(2) { animation-delay: 0.1s; }
.wave-bar:nth-child(3) { animation-delay: 0.2s; }
.wave-bar:nth-child(4) { animation-delay: 0.3s; }
.wave-bar:nth-child(5) { animation-delay: 0.4s; }

@keyframes wave {
    0%,100% {height: 20px;}
    50% {height: 40px; background:#ff00ff;}
}

/* ===== FILLERS ===== */
.filler-btn, .topic-chip {
    background: linear-gradient(45deg,#ff00ff,#00ffff);
    box-shadow: 0 0 10px #ff00ff,0 0 15px #00ffff;
    color: #fff;
}

.filler-display {
    margin-top: 10px;
    padding: 12px;
    background: rgba(0,0,0,0.2);
    border-radius: 12px;
}

.filler-highlight {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px;
    background: rgba(0,255,255,0.1);
    border-radius: 12px;
    margin-bottom: 5px;
}

.repeat-btn {
    background: #ff00ff;
    padding: 6px 12px;
    border-radius: 50px;
    color: #fff;
    font-weight: bold;
}

/* ===== CRYSTAL BALL ===== */
.crystal-ball {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    background: radial-gradient(circle at 30% 30%,#00ffff,#0a0020);
    box-shadow: 0 0 25px #0ff, 0 0 50px #ff00ff inset;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    margin: auto;
    position: relative;
    overflow: hidden;
}

.crystal-glow {
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: radial-gradient(circle, #ff00ff, transparent);
    animation: glow 2s infinite alternate;
}

@keyframes glow {
    0% { transform: scale(1); opacity:0.5; }
    100% { transform: scale(1.2); opacity:1; }
}

.predictions-grid {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 10px;
    margin-top: 15px;
}

.prediction-output {
    margin-top: 20px;
    padding: 15px;
    text-align: center;
    font-weight: bold;
    background: rgba(0,0,0,0.3);
    border-radius: 12px;
    color: #0ff;
}

/* Modal selector de materia (estilo compacto y accesible) */
.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.64);
  display: none; /* se mostrar치 con JS */
  align-items: center;
  justify-content: center;
  z-index: 9999;
}
.modal-card {
  background: linear-gradient(180deg,#021018,#06202a);
  border: 1px solid rgba(0,255,220,0.12);
  box-shadow: 0 20px 60px rgba(0,0,0,0.8);
  border-radius: 14px;
  padding: 26px;
  width: min(920px, 92%);
  text-align: center;
  color: #cde;
  position: relative;
}
.modal-card h2 { color: #00e5ff; margin-top: 0; }
.modal-close {
  position: absolute;
  right: 12px;
  top: 10px;
  background: transparent;
  border: none;
  color: #fff;
  font-size: 18px;
  cursor: pointer;
}
.materias-grid { display:flex; flex-wrap:wrap; gap:10px; justify-content:center; margin-top:14px; }
.materias-grid .btn { min-width:140px; padding:10px 14px; }

/* ===== FINAL MESSAGE ===== */
.final-message {
    text-align: center;
    margin-top: 20px;
}

.rainbow-text {
    background: linear-gradient(90deg, #ff00ff, #ff0, #0f0, #0ff, #00f, #f0f);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    font-weight: bold;
    font-size: 20px;
}

/* ===== SVG TIMELINES ===== */
.timeline-svg svg, .visual-diagram svg {
    width: 100%;
    height: auto;
    border-radius: 12px;
}

/* ===== ANIMATIONS ===== */
@keyframes pulse {
    0% { transform: scale(1); box-shadow: 0 0 10px #ff00ff,0 0 20px #00ffff; }
    50% { transform: scale(1.1); box-shadow: 0 0 20px #ff00ff,0 0 40px #00ffff; }
    100% { transform: scale(1); box-shadow: 0 0 10px #ff00ff,0 0 20px #00ffff; }
}
/* =============================================
   LC-ADVANCE ENGLISH LESSONS 2025 - CUSTOM CSS
   Prefix: lc-adv-
   ============================================= */

/* ---------------- GENERAL ---------------- */
.lc-adv-lesson-page-wrapper {
    font-family: 'Courier New', monospace;
    background: #0a0010;
    color: #fff;
    line-height: 1.5;
}

.lc-adv-section-card {
    background: #1a001f;
    border-radius: 12px;
    padding: 24px;
    margin-bottom: 30px;
    box-shadow: 0 0 15px rgba(255, 0, 255, 0.3);
    border: 2px solid #ff00ff;
}

.lc-adv-section-card h4 {
    font-family: 'Courier New', monospace;
    color: #00ffcc;
    margin-bottom: 16px;
}

/* ---------------- MENU INTERACTIVO ---------------- */
.lc-adv-menu-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 16px;
}

.lc-adv-menu-item button {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    font-family: 'Courier New', monospace;
    font-size: 16px;
    padding: 12px;
    border: 2px solid #ff00ff;
    border-radius: 10px;
    background: #120022;
    color: #fff;
    cursor: pointer;
    transition: all 0.3s ease;
}

.lc-adv-menu-item button:hover,
.lc-adv-menu-item button.active {
    background: #ff00ff;
    color: #000;
    transform: scale(1.05);
}

.lc-adv-menu-item .item-details {
    text-align: center;
    margin-top: 6px;
    font-size: 14px;
    color: #ccc;
}

/* Food type colors */
.lc-adv-food-type-main { border-color: #ff0066; }
.lc-adv-food-type-side { border-color: #00ffff; }
.lc-adv-food-type-drink { border-color: #ffcc00; }
.lc-adv-food-type-dessert { border-color: #ff8800; }

/* ---------------- FRASES DE COMPRA ---------------- */
.lc-adv-phrase-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    justify-content: center;
}

.lc-adv-phrase-btn {
    padding: 10px 14px;
    font-size: 14px;
    border-radius: 8px;
    border: none;
    cursor: pointer;
    transition: all 0.25s;
    font-family: 'Courier New', monospace;
}

.lc-adv-phrase-btn:hover { transform: scale(1.05); }

.btn-green { background: #00ff66; color: #000; }
.btn-blue { background: #00ccff; color: #000; }
.btn-orange { background: #ff8800; color: #000; }
.btn-purple { background: #cc00ff; color: #fff; }

/* ---------------- DIALOGUE AREA ---------------- */
.lc-adv-dialogue-area {
    background: #000000aa;
    border-radius: 12px;
    padding: 12px;
    min-height: 80px;
    margin-top: 16px;
    position: relative;
}

.lc-adv-dialogue-bubble {
    max-width: 70%;
    padding: 10px 14px;
    border-radius: 12px;
    margin-bottom: 6px;
    font-size: 14px;
}

.lc-adv-dialogue-bubble.left {
    background: #330066;
    color: #fff;
    align-self: flex-start;
}

.lc-adv-dialogue-bubble.right {
    background: #ff00ff;
    color: #000;
    align-self: flex-end;
}

/* ---------------- QUIZ ---------------- */
.lc-adv-quiz-question {
    margin-bottom: 20px;
}

.lc-adv-options-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
}

.lc-adv-option-btn {
    padding: 10px 14px;
    border-radius: 8px;
    border: 2px solid #ff00ff;
    background: #1a001f;
    color: #fff;
    cursor: pointer;
    transition: all 0.25s;
}

.lc-adv-option-btn:hover { transform: scale(1.05); }

.lc-adv-option-btn.correct { background: #00ff66; color: #000; border-color: #00ff66; }
.lc-adv-option-btn.incorrect { background: #ff0066; color: #fff; border-color: #ff0066; }
.lc-adv-option-btn.incorrect-disabled { opacity: 0.4; pointer-events: none; }

/* ---------------- NOTIFICACIONES ---------------- */
.lc-adv-notification-item {
    padding: 12px 16px;
    border-radius: 8px;
    margin-bottom: 8px;
    font-family: 'Courier New', monospace;
    font-size: 14px;
    transition: all 0.3s ease;
}

.lc-adv-feedback-success { background: #00ff66; color: #000; }
.lc-adv-feedback-info { background: #00ccff; color: #000; }
.lc-adv-feedback-warning { background: #ff8800; color: #000; }
.lc-adv-feedback-error { background: #ff0066; color: #fff; }

/* ---------------- PAST SIMPLE - VERBOS ---------------- */
.lc-adv-past-simple-container {
    background: #0a0020;
    border: 3px solid #ff00ff;
    border-radius: 12px;
    padding: 30px;
    margin-bottom: 30px;
    color: #fff;
}

.lc-adv-irregular-verbs-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 12px;
}

.lc-adv-btn-irregular {
    padding: 10px;
    border-radius: 10px;
    border: 2px solid #ff00ff;
    background: #120022;
    color: #fff;
    cursor: pointer;
    transition: all 0.3s;
    font-family: 'Courier New', monospace;
}

.lc-adv-btn-irregular:hover,
.lc-adv-btn-irregular.revealed { 
    background: #ff00ff; 
    color: #000;
}

/* ---------------- STORY BUILDER ---------------- */
.lc-adv-story-builder { 
    background: #1a001f; 
    border-radius: 12px; 
    padding: 20px; 
}

.lc-adv-btn-story {
    margin: 6px; 
    padding: 8px 12px; 
    border-radius: 8px; 
    border: 2px solid #ff00ff; 
    background: #120022; 
    color: #fff; 
    cursor: pointer;
}

.lc-adv-btn-story:hover { 
    transform: scale(1.05); 
}

.lc-adv-story-controls button {
    margin: 6px;
    padding: 10px 14px;
    border-radius: 8px;
    border: 2px solid #ff00ff;
    background: #00ffcc;
    color: #000;
    cursor: pointer;
}

.lc-adv-story-output {
    margin-top: 12px;
    padding: 10px;
    border-radius: 10px;
    background: #000000aa;
    min-height: 60px;
    font-family: 'Courier New', monospace;
    font-size: 14px;
    color: #fff;
}
/* lessons.css - Estilos exclusivos para las lecciones (LC-ADVANCE) */
:root {
  --ls-accent-1: #00ffb3;   /* verde ne칩n */
  --ls-accent-2: #00ccff;   /* cyan */
  --ls-warm:    #ffcc00;    /* amarillo */
  --ls-bg-card: rgba(255,255,255,0.03);
  --ls-card-border: rgba(0,255,179,0.12);
  --ls-glow: 0 6px 28px rgba(0,204,255,0.08);
  --ls-radius: 12px;
  --ls-ease: cubic-bezier(.16,.8,.27,1);
}

/* Banner de lecci칩n */
.lesson-banner {
  background: linear-gradient(90deg, rgba(0,255,179,0.04), rgba(0,204,255,0.03));
  border: 2px solid var(--ls-card-border);
  border-radius: calc(var(--ls-radius) + 6px);
  padding: 22px;
  display:flex;
  gap:20px;
  align-items:center;
  justify-content:space-between;
  box-shadow: var(--ls-glow);
  margin-bottom: 20px;
}
.lesson-banner .banner-content h1 {
  font-family: "Press Start 2P", monospace;
  color: var(--ls-warm);
  font-size: 20px;
  margin-bottom: 6px;
}
.lesson-banner .banner-stats { display:flex; gap:12px; align-items:center; }

/* Barra de progreso distintiva */
.progress-container {
  margin: 14px 0 22px;
}
.progress-container .progress-bar {
  background: linear-gradient(90deg, rgba(255,255,255,0.03), rgba(0,0,0,0.02));
  border: 2px solid rgba(255,255,255,0.02);
  border-radius: 999px;
  padding: 3px;
}
.progress-container .progress-fill {
  height: 12px;
  border-radius: 999px;
  background: linear-gradient(90deg, var(--ls-accent-1), var(--ls-accent-2));
  box-shadow: 0 6px 18px rgba(0,255,179,0.075);
  transition: width 520ms var(--ls-ease);
}

/* Secciones y tarjetas de lecci칩n */
.section-card {
  background: var(--ls-bg-card);
  border: 1px solid rgba(255,255,255,0.03);
  border-left: 6px solid rgba(0,255,179,0.06);
  padding: 18px;
  margin-bottom: 18px;
  border-radius: var(--ls-radius);
  box-shadow: 0 8px 20px rgba(0,0,0,0.45);
  transition: transform 220ms var(--ls-ease), box-shadow 220ms var(--ls-ease);
}
.section-card:hover { transform: translateY(-6px); box-shadow: 0 18px 40px rgba(0,0,0,0.6); }
.section-header h2 { color: var(--ls-accent-2); font-family: var(--font-pixel); }

/* Tarjetas de vocab / objetos */
.card {
  display:flex;
  align-items:center;
  gap:12px;
  padding: 10px 12px;
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.02));
  border-radius: 10px;
  border: 2px solid rgba(255,255,255,0.02);
  transition: transform 200ms var(--ls-ease), box-shadow 200ms;
}
.family-card .card-icon, .object-card .object-emoji {
  width:56px;height:56px;border-radius:10px;
  display:flex;align-items:center;justify-content:center;
  font-size:26px;background: linear-gradient(180deg, rgba(0,255,179,0.06), rgba(0,204,255,0.03));
  border: 2px solid rgba(0,255,179,0.08);
}
.card:hover { transform: translateY(-6px); box-shadow: 0 14px 32px rgba(0,204,255,0.06); }

/* Acci칩n en tarjeta */
.card-actions { margin-left:auto; display:flex; gap:6px; }
.action-btn {
  background: rgba(0,0,0,0.6);
  border: 2px solid rgba(255,255,255,0.03);
  color: var(--ls-accent-1);
  padding:8px; width:36px;height:36px;border-radius:8px;
  cursor:pointer; transition: transform 160ms var(--ls-ease);
}
.action-btn:hover { transform: translateY(-4px); color:#000; background: linear-gradient(90deg,var(--ls-accent-1),var(--ls-accent-2)); }

/* Voice simulator highlight */
.speaking { box-shadow: 0 0 20px rgba(0,255,179,0.18) !important; transform: scale(1.03); }

/* Quiz panel: tarjetas t치ctiles y accesibles */
.quiz-panel { border-radius: 14px; padding: 12px; }
.quiz-option-btn {
  display:block;
  width:100%;
  text-align:left;
  padding:12px 14px;
  margin:10px 0;
  background: rgba(17,17,17,0.75);
  color: var(--text-light);
  border: 2px solid rgba(255,255,255,0.03);
  border-left: 6px solid rgba(0,204,255,0.06);
  border-radius: 10px;
  transition: background 180ms var(--ls-ease), transform 120ms var(--ls-ease);
  cursor:pointer;
}
.quiz-option-btn:hover { transform: translateY(-3px); background: linear-gradient(90deg, rgba(0,255,179,0.04), rgba(0,204,255,0.04)); }
.quiz-option-btn.selected { background: linear-gradient(90deg, var(--ls-accent-1), var(--ls-accent-2)); color:#000; border-left-color: var(--ls-accent-1); box-shadow: 0 8px 20px rgba(0,255,179,0.06); }
.quiz-option-btn:focus { outline: 3px solid rgba(0,255,179,0.12); outline-offset: 3px; }

/* Resultado y micro-animaciones */
.quiz-result { text-align:center; padding:18px; }
.quiz-result h4 { color: var(--ls-accent-2); }
.btn-primary { background: linear-gradient(90deg,var(--ls-accent-2),var(--ls-accent-1)); border-color: rgba(0,255,179,0.12); color:#000; }

/* Clase para cuando volvemos desde dashboard (resaltado breve) */
.highlight-return {
  animation: lesson-highlight 2.8s ease forwards;
  box-shadow: 0 12px 32px rgba(0,204,255,0.08);
}
@keyframes lesson-highlight {
  0% { background: rgba(255,255,0,0.95); transform: scale(1.01); }
  40%{ background: rgba(255,255,0,0.25); transform: scale(1.0); }
  100% { background: transparent; }
}

/* Responsive: comprimido en m칩viles */
@media (max-width: 900px) {
  .lesson-banner { flex-direction: column; gap:12px; align-items:flex-start; }
  .card { flex-direction:row; gap:10px; }
  .quiz-option-btn { font-size: 16px; padding: 14px; }
}
/* lessons.css - Estilos exclusivos LC-ADVANCE (Menus, Chat, Voice, Crystal) */
:root{
  --accent-1: #00ffb3;   /* neon green */
  --accent-2: #00ccff;   /* cyan */
  --accent-3: #ff66cc;   /* pink */
  --warm: #ffcc00;
  --card-bg: rgba(20,20,20,0.6);
  --glass: rgba(255,255,255,0.03);
  --radius: 12px;
  --ease: cubic-bezier(.16,.8,.27,1);
}

/* ---------- MENU INTERACTIVO ---------- */
.menu-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px,1fr));
  gap: 14px;
}
.menu-item {
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.05));
  border: 2px solid rgba(255,255,255,0.04);
  border-radius: var(--radius);
  padding: 12px;
  display:flex;
  gap:12px;
  align-items:center;
  transition: transform .18s var(--ease), box-shadow .18s var(--ease);
}
.menu-item button {
  background: transparent;
  border: none;
  font-size: 20px;
  cursor: pointer;
  display:inline-block;
  text-align:left;
  padding:8px;
  color: var(--accent-1);
  transition: transform .12s ease, color .12s ease;
}
.menu-item button .block{display:block;font-size:13px;color:var(--accent-2);}
.menu-item .item-details { margin-left:auto; text-align:right; font-size:13px; color:#ddd; }
.menu-item:hover { transform: translateY(-6px); box-shadow: 0 14px 36px rgba(0,204,255,0.06); }
.menu-item button:active { transform: translateY(2px) scale(.99); }
.menu-item button.active { background: linear-gradient(90deg,var(--accent-2),var(--accent-1)); color:#000; border-radius:8px; padding:6px 8px; }

/* food-type badges */
.food-type-main { border-left: 6px solid rgba(0,255,179,0.08); }
.food-type-drink { border-left: 6px solid rgba(0,204,255,0.06); }
.food-type-side { border-left: 6px solid rgba(255,204,0,0.06); }
.food-type-dessert { border-left: 6px solid rgba(255,102,204,0.06); }

/* ---------- DIALOGUE AREA (burbujas) ---------- */
.dialogue-area {
  background: linear-gradient(180deg, rgba(0,0,0,0.5), rgba(0,0,0,0.6));
  border-radius: 12px;
  padding: 14px;
  min-height: 120px;
  position: relative;
  color: #fff;
  overflow: hidden;
}
.initial-message { color: #cfd8dc; font-weight:600; text-align:center; display:block; padding:18px 0; }
.dialogue-bubble {
  max-width: 76%;
  padding: 10px 14px;
  border-radius: 14px;
  margin: 8px 0;
  display:inline-block;
  line-height:1.3;
  box-shadow: 0 8px 18px rgba(0,0,0,0.5);
}
.dialogue-bubble.left {
  background: linear-gradient(180deg,#071822,#072433);
  border: 2px solid rgba(0,255,179,0.06);
  color: var(--accent-1);
  margin-right: auto;
}
.dialogue-bubble.right {
  background: linear-gradient(180deg,#08121f,#09172a);
  border: 2px solid rgba(0,204,255,0.06);
  color: var(--accent-2);
  margin-left: auto;
}

/* small speak button inside dialogues */
.small-speak-btn {
  background: transparent;
  border: 2px solid rgba(255,255,255,0.04);
  padding:6px 8px;
  border-radius:8px;
  margin-right:8px;
  color:#fff;
  cursor:pointer;
  transition:all .12s var(--ease);
}
.small-speak-btn:hover { transform: translateY(-2px); background: rgba(255,255,255,0.03); }

/* ---------- PHRASE / PLAY BUTTONS ---------- */
.phrase-btn { padding: 10px 14px; border-radius: 999px; font-weight:700; cursor:pointer; border: none; box-shadow: 0 8px 18px rgba(0,0,0,0.45); transition: transform .12s var(--ease); }
.phrase-btn:hover { transform: translateY(-4px); }
.btn-green{ background: linear-gradient(90deg,var(--accent-1), #7BFFDE); color:#002; }
.btn-blue{ background: linear-gradient(90deg,var(--accent-2), #00e5ff); color:#002; }
.btn-orange{ background: linear-gradient(90deg,var(--warm), #ffd54a); color:#002; }
.btn-purple{ background: linear-gradient(90deg,var(--accent-3), #ff7bd2); color:#002; }

/* example dialogue box */
.example-dialogue { background: #0b1214; border:2px solid rgba(255,255,255,0.03); }

/* ---------- CRYSTAL BALL / PREDICTIONS ---------- */
.crystal-ball-section { display:flex; gap:18px; align-items:center; flex-wrap:wrap; justify-content:center; }
.crystal-wrapper { width:220px; height:220px; display:flex; align-items:center; justify-content:center; }
.crystal-ball {
  width: 180px; height:180px; border-radius:50%;
  background: radial-gradient(circle at 30% 20%, rgba(0,255,255,0.14), rgba(0,0,0,0.5));
  border: 6px solid rgba(255,255,255,0.03);
  position:relative; display:flex; align-items:center; justify-content:center; cursor:pointer;
  box-shadow: 0 18px 44px rgba(0,255,200,0.06), 0 6px 14px rgba(255,255,255,0.02) inset;
}
.crystal-glow { position:absolute; inset:0; border-radius:inherit; pointer-events:none; }
@keyframes pulse { 0%{ transform: scale(1); filter:brightness(1); } 50%{ transform: scale(1.03); filter:brightness(1.08);} 100%{ transform:scale(1); filter:brightness(1); } }
.crystal-ball.pulse{ animation: pulse 1.5s infinite; }
.crystal-text { color:#cfefff; font-weight:700; text-align:center; padding:12px; }

/* predictions grid */
.predictions-grid { display:flex; gap:8px; flex-wrap:wrap; justify-content:center; }
.btn-prediction {
  padding:8px 12px; border-radius:10px; border:2px solid rgba(255,255,255,0.03); background:linear-gradient(90deg, rgba(0,255,179,0.04), rgba(0,204,255,0.04)); color:#fff; cursor:pointer;
  transition: transform .12s var(--ease), box-shadow .12s var(--ease);
}
.btn-prediction:hover{ transform: translateY(-4px); box-shadow: 0 10px 24px rgba(0,204,255,0.06); }

/* prediction result */
.prediction-output { min-height:72px; padding:12px; border-radius:10px; background:linear-gradient(180deg, rgba(0,0,0,0.45), rgba(255,255,255,0.01)); border:2px solid rgba(255,255,255,0.03); color:#e8faff; }

/* ---------- VOICE RECORDER ---------- */
.voice-controls { display:flex; gap:10px; flex-wrap:wrap; }
.btn-record, .btn-play, .btn-download { padding:12px 16px; border-radius:10px; cursor:pointer; border:none; color:#fff; background:linear-gradient(90deg,var(--accent-3),var(--accent-2)); box-shadow: 0 10px 24px rgba(0,0,0,0.45); }
.btn-record.recording { background: linear-gradient(90deg,#ff4d4d,#ff9966); box-shadow: 0 10px 30px rgba(255,80,80,0.18); transform: translateY(-2px); }

/* recording wave */
.recording-wave { display:flex; gap:6px; align-items:flex-end; height:36px; margin-top:8px; }
.recording-wave .wave-bar { width:6px; background: linear-gradient(180deg, var(--accent-2), var(--accent-1)); border-radius:4px; animation: wave 800ms infinite ease-in-out; }
.recording-wave .wave-bar:nth-child(1){ animation-delay:0ms; height:12px; }
.recording-wave .wave-bar:nth-child(2){ animation-delay:100ms; height:18px; }
.recording-wave .wave-bar:nth-child(3){ animation-delay:200ms; height:10px; }
.recording-wave .wave-bar:nth-child(4){ animation-delay:300ms; height:20px; }
.recording-wave .wave-bar:nth-child(5){ animation-delay:400ms; height:14px; }
@keyframes wave { 0%{ transform:scaleY(.5);}50%{ transform:scaleY(1.1);}100%{ transform:scaleY(.5);} }

/* ---------- CHAT SIMULATOR ---------- */
.chat-display { max-height:360px; overflow:auto; padding:14px; background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.6)); border-radius:12px; border: 1px solid rgba(255,255,255,0.02); }
.chat-bubble { display:flex; gap:8px; padding:10px 12px; border-radius:12px; margin:8px 0; align-items:center; }
.chat-bubble.user { background: linear-gradient(180deg,#072f1e,#033f2b); color: var(--accent-1); justify-content:flex-end; border:2px solid rgba(0,255,179,0.06); }
.chat-bubble.ai { background: linear-gradient(180deg,#07324f,#03384f); color: var(--accent-2); border:2px solid rgba(0,204,255,0.06); }
.bubble-speak-btn { border-radius:8px; padding:6px; border: none; background: rgba(255,255,255,0.03); color:#fff; cursor:pointer; }

/* ---------- FILLER / CONVERSATION PANELS ---------- */
.filler-btn, .filler-category .filler-btn { padding:10px 12px; margin:6px 6px 6px 0; border-radius:10px; background:linear-gradient(90deg,#0f1b1d,#0a1214); color:#fff; border:2px solid rgba(255,255,255,0.02); cursor:pointer; }

/* ---------- NOTIFICATIONS ---------- */
.notification { position: fixed; right:18px; top:18px; background:linear-gradient(90deg,#0b1111,#071017); color:#fff; padding:10px 14px; border-radius:10px; box-shadow:0 10px 24px rgba(0,0,0,0.5); opacity:1; transform: translateY(0); transition: opacity .3s ease, transform .3s ease; z-index:10010; }
.notification.success{ border-left:6px solid var(--accent-1); }
.notification.error{ border-left:6px solid #ff4d4d; }
.notification.info{ border-left:6px solid var(--accent-2); }

/* ---------- QUIZ / OPTIONS (small polish) ---------- */
.option-btn { padding:12px 14px; border-radius:10px; border:2px solid rgba(255,255,255,0.03); background: linear-gradient(180deg,#0b1115,#061016); color:#fff; margin:8px; cursor:pointer; box-shadow:0 8px 18px rgba(0,0,0,0.45); transition: transform .12s var(--ease); }
.option-btn.correct { background: linear-gradient(90deg,var(--accent-1), #7bffdf); color:#001; border-color: rgba(0,255,179,0.18);}
.option-btn.incorrect { background: linear-gradient(90deg,#ff6b6b,#ffb3a7); color:#210; border-color: rgba(255,80,80,0.18); }
.option-btn.incorrect-disabled { opacity:.45; pointer-events:none; }

/* ---------- RESPONSIVE ---------- */
@media (max-width:900px){
  .menu-grid { grid-template-columns: repeat(2,1fr); }
  .menu-item { padding:10px; }
  .crystal-wrapper{ width:140px; height:140px; }
  .crystal-ball { width:140px;height:140px; }
  .chat-display{ max-height:260px; }
}

.materia-highlight {
    box-shadow: 0 8px 24px rgba(255,200,0,0.12);
    transform: scale(1.01);
    transition: box-shadow .18s ease, transform .18s ease;
}

/* ...existing code... */

/* Ranking panel (dashboard) */
.ranking-floating {
    display: block;
    position: fixed; /* flota y no tapa la cabecera */
    top: calc(var(--header-height, 64px) + 16px); /* colocado justo debajo del header */
    right: 16px;
    width: 340px;
    max-height: calc(100vh - calc(var(--header-height,64px) + 40px));
    overflow: hidden;
    background: linear-gradient(135deg, rgba(0, 0, 0, 0.9), rgba(0, 0, 0, 0.8));
    backdrop-filter: blur(10px);
    border-radius: 12px;
    padding: 18px;
    box-shadow: 
        0 15px 50px rgba(0, 255, 255, 0.3),
        inset 0 0 20px rgba(0, 255, 255, 0.1);
    z-index: 1100; /* debajo del header (1200) pero encima del contenido */
    border: 2px solid var(--neon-cyan);
    transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.ranking-floating:hover {
    box-shadow: 
        0 20px 60px rgba(0, 255, 255, 0.4),
        inset 0 0 25px rgba(0, 255, 255, 0.15);
    transform: translateY(-5px);
}

/* Scrollbar personalizada */
.ranking-floating::-webkit-scrollbar {
    width: 8px;
}

.ranking-floating::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 10px;
}

.ranking-floating::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, var(--neon-cyan), var(--neon-pink));
    border-radius: 10px;
}

.ranking-floating::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, var(--neon-pink), var(--neon-cyan));
    box-shadow: 0 0 10px var(--neon-cyan);
}

/* Extra spacing for very large screens */
@media (min-width: 1400px) {
    .ranking-floating { 
        right: 24px; 
        width: 380px; 
    }
}

.ranking-floating h3 { 
    margin: 0 0 15px 0;
    font-size: 18px; 
    color: var(--neon-yellow);
    text-shadow: 0 0 12px var(--neon-yellow);
    text-align: center;
    letter-spacing: 2px;
    font-weight: bold;
}

.ranking-floating .ranking-table { 
    width: 100%; 
    font-size: 14px;
    border-collapse: collapse;
}

.ranking-floating .ranking-table thead {
    background: linear-gradient(90deg, rgba(0, 255, 255, 0.1), rgba(255, 0, 255, 0.1));
}

.ranking-floating .ranking-table th {
    padding: 10px 8px;
    color: var(--neon-cyan);
    text-shadow: 0 0 8px var(--neon-cyan);
    border-bottom: 2px solid var(--neon-cyan);
    font-weight: bold;
    letter-spacing: 1px;
}

.ranking-floating .ranking-table td { 
    padding: 10px 8px;
    border-bottom: 1px solid rgba(0, 255, 255, 0.2);
    color: var(--text-light);
}

.ranking-floating .ranking-table tbody tr {
    transition: all 0.2s ease;
}

.ranking-floating .ranking-table tbody tr:hover {
    background: rgba(0, 255, 255, 0.1);
}

.ranking-floating .ranking-table tbody tr.ranking-current-user {
    background: rgba(0, 255, 0, 0.15) !important;
    border-left: 4px solid var(--neon-green);
}

.ranking-floating .ranking-table tbody tr.ranking-current-user td {
    color: var(--neon-green);
    text-shadow: 0 0 8px var(--neon-green);
    font-weight: bold;
}

.ranking-floating .ranking-table .rank-number {
    font-weight: bold;
    color: var(--neon-yellow);
    text-align: center;
    width: 30px;
    text-shadow: 0 0 8px var(--neon-yellow);
}

.ranking-floating .ranking-table .rank-player {
    flex: 1;
}

.ranking-floating .ranking-table .rank-points {
    text-align: right;
    color: var(--neon-cyan);
    font-weight: bold;
    text-shadow: 0 0 6px var(--neon-cyan);
}

.ranking-floating .ranking-table tbody tr:nth-child(1) td:nth-child(1) {
    color: var(--neon-yellow);
    font-weight: bold;
    text-shadow: 0 0 10px var(--neon-yellow);
}

.ranking-floating .ranking-table tbody tr:nth-child(2) td:nth-child(1) {
    color: #c0c0c0;
    font-weight: bold;
}

.ranking-floating .ranking-table tbody tr:nth-child(3) td:nth-child(1) {
    color: #cd7f32;
    font-weight: bold;
}

/* Mobile: convertir en bloque normal para evitar solapar UI */
@media (max-width: 900px) {
    .ranking-floating {
        position: static;
        width: auto;
        max-height: none;
        margin: 20px 0;
        border: 2px solid var(--neon-cyan);
    }
}

/* Si hay un filtro activo que mueve el scroll, reducir la m칤nima top para no solapar */
@media (min-width: 900px) {
    body:has(.materia-highlight) .ranking-floating { top: calc(var(--header-height,64px) + 22px); }
} 

/* Resaltado corto para materia filtrada */
.materia-highlight {
    box-shadow: 0 8px 24px rgba(255,200,0,0.12);
    transform: scale(1.01);
    transition: box-shadow .18s ease, transform .18s ease;
}

/* =====================================================
   ESTILOS 칔NICOS PARA LA LECCI칍N puntos-criticos-maximos-minimos
   ===================================================== */

.lesson-wrapper {
    max-width: 960px;
    margin: 0 auto;
    font-family: 'Segoe UI', sans-serif;
    color: #eee;
    background: #111;
    padding: 20px;
    border-radius: 16px;
}

.content-header {
    text-align: center;
    margin-bottom: 30px;
}

.content-header h2 {
    font-size: 2.2em;
    color: #00e5ff;
    margin-bottom: 10px;
}

.materia-tag {
    background: #333;
    padding: 6px 14px;
    border-radius: 20px;
    font-size: 0.9em;
}

.intro-text {
    font-size: 1.15em;
    margin-top: 20px;
    line-height: 1.6;
}

.key-idea {
    background: #222;
    border-left: 5px solid #00e5ff;
    padding: 15px;
    font-style: italic;
    font-size: 1.1em;
}

.real-life {
    background: #003333;
    padding: 12px;
    border-radius: 10px;
    margin: 15px 0;
}

.sign-table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
}

.sign-table th, .sign-table td {
    border: 1px solid #444;
    padding: 12px;
    text-align: center;
}

.sign-table .max-row { background: rgba(255,0,255,0.15); }
.sign-table .min-row { background: rgba(0,255,136,0.15); }
.sign-table .none-row { background: rgba(255,255,0,0.1); }

.important-box {
    background: #440044;
    border: 2px solid #ff00ff;
    padding: 12px;
    border-radius: 10px;
    margin: 20px 0;
}

.svg-diagram svg {
    background: #000;
    border-radius: 12px;
    margin: 20px 0;
}

.caption {
    text-align: center;
    font-style: italic;
    color: #aaa;
}

.simulator-box {
    background: #002233;
    padding: 20px;
    border-radius: 14px;
    text-align: center;
}

.big-slider {
    width: 80%;
    height: 12px;
    margin: 20px 0;
}

.sim-info {
    display: flex;
    justify-content: space-around;
    margin: 15px 0;
    font-size: 1.2em;
    background: #001122;
    padding: 10px;
    border-radius: 10px;
}

.auto-detector-advanced {
    background: #002200;
    padding: 20px;
    border-radius: 14px;
}

.input-panel {
    margin-bottom: 20px;
    text-align: center;
}

.input-panel input {
    width: 300px;
    padding: 10px;
    font-family: monospace;
    font-size: 1.1em;
}

.input-panel button {
    padding: 10px 20px;
    font-size: 1.1em;
    background: #00e5ff;
    color: #000;
    border: none;
    border-radius: 8px;
    cursor: pointer;
}

.math-box {
    background: #113311;
    padding: 12px;
    border-radius: 8px;
    margin: 10px 0;
}

.common-errors .error-item {
    background: #330000;
    padding: 12px;
    margin: 10px 0;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s;
}

.common-errors .error-item.expanded {
    background: #550000;
}

.common-errors .details {
    display: block;
    margin-top: 10px;
    font-style: italic;
    color: #ffaaaa;
}

.exam-problems {
    background: #222233;
    padding: 20px;
    border-radius: 12px;
}

.quiz-container {
    background: #221133;
    padding: 20px;
    border-radius: 12px;
}

.quiz-question {
    margin: 20px 0;
}

.quiz-question label {
    display: block;
    margin: 8px 0;
}

#quizFeedback {
    margin-top: 20px;
    font-size: 1.2em;
    text-align: center;
}

.ok { color: #00ff88; }
.error { color: #ff6666; }

.reflection {
    background: #003344;
    padding: 15px;
    border-radius: 10px;
}

.reflection li {
    margin: 15px 0;
    font-style: italic;
}

/* =====================================================
   ESTILOS 칔NICOS PARA LA LECCI칍N puntos-criticos-maximos-minimos
   ===================================================== */

.lesson-wrapper {
    max-width: 960px;
    margin: 0 auto;
    font-family: 'Segoe UI', sans-serif;
    color: #eee;
    background: #111;
    padding: 20px;
    border-radius: 16px;
}

.content-header {
    text-align: center;
    margin-bottom: 30px;
}

.content-header h2 {
    font-size: 2.2em;
    color: #00e5ff;
    margin-bottom: 10px;
}

.materia-tag {
    background: #333;
    padding: 6px 14px;
    border-radius: 20px;
    font-size: 0.9em;
}

.intro-text {
    font-size: 1.15em;
    margin-top: 20px;
    line-height: 1.6;
}

.key-idea {
    background: #222;
    border-left: 5px solid #00e5ff;
    padding: 15px;
    font-style: italic;
    font-size: 1.1em;
}

.real-life {
    background: #003333;
    padding: 12px;
    border-radius: 10px;
    margin: 15px 0;
}

.sign-table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
}

.sign-table th, .sign-table td {
    border: 1px solid #444;
    padding: 12px;
    text-align: center;
}

.sign-table .max-row { background: rgba(255,0,255,0.15); }
.sign-table .min-row { background: rgba(0,255,136,0.15); }
.sign-table .none-row { background: rgba(255,255,0,0.1); }

.important-box {
    background: #440044;
    border: 2px solid #ff00ff;
    padding: 12px;
    border-radius: 10px;
    margin: 20px 0;
}

.svg-diagram svg {
    background: #000;
    border-radius: 12px;
    margin: 20px 0;
}

.caption {
    text-align: center;
    font-style: italic;
    color: #aaa;
}

.keypad {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 5px;
    margin: 10px 0;
}

.keypad button {
    background: #6a1b9a;
    color: black;
    border: none;
    padding: 8px;
    border-radius: 4px;
    cursor: pointer;
}

.keypad button:hover {
    background: #ab47bc;
}

.common-errors .error-item {
    background: #330000;
    padding: 12px;
    margin: 10px 0;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s;
}

.common-errors .error-item.expanded {
    background: #550000;
}

.common-errors .details {
    display: block;
    margin-top: 10px;
    font-style: italic;
    color: #ffaaaa;
}

.exam-problems {
    background: #222233;
    padding: 20px;
    border-radius: 12px;
}

.quiz-container {
    background: #221133;
    padding: 20px;
    border-radius: 12px;
}

.quiz-question {
    margin: 20px 0;
}

.quiz-question label {
    display: block;
    margin: 8px 0;
}

#quizFeedback {
    margin-top: 20px;
    font-size: 1.2em;
    text-align: center;
}

.ok { color: #00ff88; }
.error { color: #ff6666; }

.reflection {
    background: #003344;
    padding: 15px;
    border-radius: 10px;
}

.reflection li {
    margin: 15px 0;
    font-style: italic;
}
/* =====================================================
   ESTILOS MEJORADOS PARA EL SIMULADOR INTERACTIVO (versi칩n FINAL sin ning칰n t칤tulo interno)
   (Secci칩n 5: Simulador interactivo de m치ximos y m칤nimos)
   ===================================================== */

.critical-sim {
    background: linear-gradient(to bottom, #0a0a1a, #1a0026);
    border: 2px solid #00ffff;
    border-radius: 20px;
    padding: 30px 25px 25px 25px;
    margin: 30px 0;
    box-shadow: 0 0 25px rgba(0, 255, 255, 0.3);
    position: relative;
    overflow: hidden;
}

/* L칤nea animada amarilla en la parte superior (se mantiene) */
.critical-sim::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, transparent, #ffff00, transparent);
    box-shadow: 0 0 15px #ffff00;
    animation: glow-line 4s linear infinite;
}

@keyframes glow-line {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

/* Texto descriptivo */
.critical-sim > p {
    color: #ccc;
    font-size: 1.15em;
    margin-bottom: 25px;
    text-align: center;
}

/* Grupo input + bot칩n */
.critical-sim .input-group {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 15px;
    margin-bottom: 25px;
    flex-wrap: wrap;
}

.critical-sim label {
    color: #00ffff;
    font-size: 1.3em;
    font-weight: bold;
    text-shadow: 0 0 8px #00ffff;
}

#simFuncInput {
    background: #000;
    color: #00ffcc;
    border: 2px solid #00ffff;
    border-radius: 12px;
    padding: 12px 18px;
    font-family: 'Courier New', monospace;
    font-size: 1.2em;
    width: 380px;
    max-width: 100%;
    box-shadow: 0 0 15px rgba(0, 255, 255, 0.2);
    transition: all 0.3s;
}

#simFuncInput:focus {
    outline: none;
    border-color: #ffff00;
    box-shadow: 0 0 20px rgba(255, 255, 0, 0.5);
    background: #111;
}

/* Bot칩n "Actualizar gr치fica" con estilo cian brillante */
.critical-sim button[onclick="updateSimCurve()"] {
    background: linear-gradient(145deg, #00ffff, #00b3b3);
    color: #000;
    font-weight: bold;
    font-size: 1.1em;
    padding: 14px 32px;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    box-shadow: 0 6px 20px rgba(0, 255, 255, 0.6);
    text-shadow: 0 0 8px rgba(0, 0, 0, 0.5);
    transition: all 0.3s;
}

.critical-sim button[onclick="updateSimCurve()"]:hover {
    background: linear-gradient(145deg, #ffff00, #cccc00);
    transform: translateY(-4px);
    box-shadow: 0 10px 25px rgba(255, 255, 0, 0.6);
}

/* Teclado virtual */
.keypad {
    display: grid;
    grid-template-columns: repeat(8, 1fr);
    gap: 10px;
    max-width: 800px;
    margin: 30px auto 25px auto;
}

.keypad button {
    background: linear-gradient(to bottom, #6a1b9a, #9c27b0);
    color: black;
    border: none;
    border-radius: 12px;
    padding: 14px 8px;
    font-size: 1em;
    font-weight: bold;
    cursor: pointer;
    box-shadow: 0 4px 10px rgba(0,0,0,0.5);
    transition: all 0.3s;
    text-shadow: 0 0 5px #000;
}

.keypad button:hover {
    background: linear-gradient(to bottom, #ab47bc, #ce93d8);
    transform: translateY(-4px);
    box-shadow: 0 8px 20px rgba(171, 71, 188, 0.6);
}

.keypad button:active {
    transform: translateY(0);
}

/* Slider */
#critSlider {
    width: 80%;
    max-width: 700px;
    height: 12px;
    border-radius: 10px;
    background: #333;
    outline: none;
    margin: 30px auto;
    display: block;
    box-shadow: 0 0 15px rgba(0, 255, 255, 0.3);
    -webkit-appearance: none;
}

#critSlider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 28px;
    height: 28px;
    background: #ffff00;
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0 0 15px #ffff00;
    border: 3px solid #000;
}

#critSlider::-moz-range-thumb {
    width: 28px;
    height: 28px;
    background: #ffff00;
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0 0 15px #ffff00;
    border: 3px solid #000;
}

/* Panel de informaci칩n */
.math-output {
    background: rgba(0, 0, 0, 0.6);
    color: #00ffcc;
    padding: 15px;
    border-radius: 12px;
    text-align: center;
    font-size: 1.3em;
    margin: 20px auto;
    max-width: 600px;
    border: 1px solid #00ffff;
    box-shadow: 0 0 20px rgba(0, 255, 255, 0.2);
}

/* Gr치fica SVG */
#critSVG {
    background: #000;
    border-radius: 16px;
    border: 2px solid #00ffff;
    box-shadow: 0 0 30px rgba(0, 255, 255, 0.4);
    margin: 20px auto;
    display: block;
}
/* =====================================================
   ESTILOS 칔NICOS PARA LA LECCI칍N derivadas-basicas-pendientes-dominio
   ===================================================== */

.lesson-wrapper {
    max-width: 960px;
    margin: 0 auto;
    font-family: 'Segoe UI', sans-serif;
    color: #eee;
    background: #111;
    padding: 20px;
    border-radius: 16px;
}

.content-header h2 {
    font-size: 2.2em;
    color: #00e5ff;
    text-align: center;
}

.materia-tag {
    background: #333;
    padding: 6px 14px;
    border-radius: 20px;
    font-size: 0.9em;
}

.intro-text {
    font-size: 1.15em;
    line-height: 1.6;
    text-align: center;
    margin: 20px 0;
}

.key-idea {
    background: #222;
    border-left: 5px solid #00e5ff;
    padding: 15px;
    font-style: italic;
    font-size: 1.1em;
}

.real-examples li {
    margin: 10px 0;
    padding: 8px;
    background: #002233;
    border-radius: 8px;
}

.sign-table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
}

.sign-table th, .sign-table td {
    border: 1px solid #444;
    padding: 12px;
    text-align: center;
}

.svg-diagram svg {
    background: #000;
    border-radius: 16px;
    border: 2px solid #00ffff;
    box-shadow: 0 0 30px rgba(0,255,255,0.4);
    margin: 20px 0;
}

.caption {
    text-align: center;
    color: #aaa;
    font-style: italic;
}

/* Simulador avanzado (mismo estilo que la lecci칩n anterior) */
.critical-sim {
    background: linear-gradient(to bottom, #0a0a1a, #1a0026);
    border: 2px solid #00ffff;
    border-radius: 20px;
    padding: 30px 25px 25px 25px;
    margin: 30px 0;
    box-shadow: 0 0 25px rgba(0, 255, 255, 0.3);
    position: relative;
    overflow: hidden;
}

.critical-sim::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, transparent, #ffff00, transparent);
    box-shadow: 0 0 15px #ffff00;
    animation: glow-line 4s linear infinite;
}

@keyframes glow-line {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

.critical-sim .input-group {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 15px;
    flex-wrap: wrap;
    margin-bottom: 25px;
}

.critical-sim label {
    color: #00ffff;
    font-size: 1.3em;
    font-weight: bold;
    text-shadow: 0 0 8px #00ffff;
}

#simFuncInput {
    background: #000;
    color: #00ffcc;
    border: 2px solid #00ffff;
    border-radius: 12px;
    padding: 12px 18px;
    font-family: 'Courier New', monospace;
    font-size: 1.2em;
    width: 380px;
    max-width: 100%;
}

.critical-sim button[onclick="updateSimCurve()"] {
    background: linear-gradient(145deg, #00ffff, #00b3b3);
    color: #000;
    font-weight: bold;
    padding: 14px 32px;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    box-shadow: 0 6px 20px rgba(0,255,255,0.6);
}

.critical-sim button[onclick="updateSimCurve()"]:hover {
    background: linear-gradient(145deg, #ffff00, #cccc00);
    transform: translateY(-4px);
}

.keypad {
    display: grid;
    grid-template-columns: repeat(8, 1fr);
    gap: 10px;
    max-width: 800px;
    margin: 30px auto 25px auto;
}

.keypad button {
    background: linear-gradient(to bottom, #6a1b9a, #9c27b0);
    color: black;
    border: none;
    border-radius: 12px;
    padding: 14px;
    font-weight: bold;
    cursor: pointer;
    box-shadow: 0 4px 10px rgba(0,0,0,0.5);
}

.keypad button:hover {
    background: linear-gradient(to bottom, #ab47bc, #ce93d8);
    transform: translateY(-4px);
}

.big-slider {
    width: 80%;
    max-width: 700px;
    height: 12px;
    background: #333;
    border-radius: 10px;
    margin: 30px auto;
    display: block;
}

.big-slider::-webkit-slider-thumb {
    width: 28px;
    height: 28px;
    background: #ffff00;
    border-radius: 50%;
    cursor: pointer;
    border: 3px solid #000;
    box-shadow: 0 0 15px #ffff00;
}

.math-output {
    background: rgba(0,0,0,0.6);
    color: #00ffcc;
    padding: 15px;
    border-radius: 12px;
    text-align: center;
    font-size: 1.3em;
    margin: 20px auto;
    max-width: 600px;
    border: 1px solid #00ffff;
    box-shadow: 0 0 20px rgba(0,255,255,0.2);
}

#critSVG {
    background: #000;
    border-radius: 16px;
    border: 2px solid #00ffff;
    box-shadow: 0 0 30px rgba(0,255,255,0.4);
    margin: 20px auto;
    display: block;
}

.common-errors .error-item {
    background: #330000;
    padding: 12px;
    margin: 10px 0;
    border-radius: 8px;
    cursor: pointer;
}

.common-errors .error-item.expanded {
    background: #550000;
}

.common-errors .details {
    display: block;
    margin-top: 10px;
    color: #ffaaaa;
    font-style: italic;
}

.exam-problems {
    background: #222233;
    padding: 20px;
    border-radius: 12px;
}

.quiz-container {
    background: #221133;
    padding: 20px;
    border-radius: 12px;
}

.quiz-question label {
    display: block;
    margin: 10px 0;
}

#quizFeedback {
    margin-top: 20px;
    font-size: 1.2em;
    text-align: center;
}

.ok { color: #00ff88; }
.error { color: #ff6666; }

.reflection {
    background: #003344;
    padding: 15px;
    border-radius: 10px;
}

.reflection li {
    margin: 15px 0;
    font-style: italic;
}
/* =====================================================
   assets/css/leccion_detalle.css
   ESTILOS 칔NICOS Y PROFESIONALES PARA leccion_detalle.php (2025)
   Cyberpunk/ne칩n, responsive, sin bugs visuales
   ===================================================== */

:root {
    --bg-primary: #0b0e17;
    --bg-secondary: #1a1e2e;
    --neon-cyan: #00ffff;
    --neon-green: #39ff14;
    --neon-pink: #ff00aa;
    --text-primary: #e0e0e0;
    --text-secondary: #aaaaaa;
    --accent: #00b3b3;
}

* { box-sizing: border-box; margin: 0; padding: 0; }
body { background: var(--bg-primary); color: var(--text-primary); font-family: 'Roboto Mono', monospace; line-height: 1.6; }

.page-wrapper { min-height: 100vh; display: flex; flex-direction: column; }

/* Header */
.main-header {
    background: rgba(15, 20, 35, 0.85);
    backdrop-filter: blur(10px);
    padding: 1rem 2rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 2px solid var(--neon-cyan);
    box-shadow: 0 4px 20px rgba(0,255,255,0.2);
}

.header-title h1 { font-family: 'Orbitron', sans-serif; font-size: 1.8rem; }
.access { color: var(--neon-green); text-shadow: 0 0 10px var(--neon-green); }

.header-nav .btn {
    margin-left: 1rem;
    padding: 0.6rem 1.2rem;
    border-radius: 8px;
    text-decoration: none;
    font-weight: bold;
    transition: all 0.3s;
}

.btn-nav { background: var(--bg-secondary); color: var(--text-primary); border: 1px solid var(--neon-cyan); }
.btn-nav:hover { background: var(--neon-cyan); color: #000; }
.btn-logout { background: var(--neon-pink); color: #fff; }
.btn-logout:hover { background: #ff33bb; box-shadow: 0 0 15px var(--neon-pink); }

/* Layout principal */
.main-content { flex: 1; padding: 2rem; max-width: 1400px; margin: 0 auto; width: 100%; }
.lesson-layout { display: grid; grid-template-columns: 1fr 320px; gap: 2rem; }

@media (max-width: 1024px) {
    .lesson-layout { grid-template-columns: 1fr; }
    .lesson-sidebar { order: -1; }
}

/* Contenido principal */
.lesson-main { background: linear-gradient(135deg, rgba(26, 30, 46, 0.85), rgba(35, 40, 60, 0.7)); border-radius: 16px; padding: 2rem; box-shadow: 0 0 30px rgba(0,255,255,0.15); border: 1px solid var(--neon-cyan); }
.module-title { font-family: 'Orbitron', sans-serif; text-align: center; color: var(--neon-cyan); margin-bottom: 1.5rem; text-shadow: 0 0 10px var(--neon-cyan); }

.tabs { display: flex; margin-bottom: 1.5rem; border-bottom: 1px solid #333; }
.tab-btn { background: none; border: none; padding: 1rem 2rem; color: var(--text-secondary); font-size: 1.1rem; cursor: pointer; transition: all 0.3s; }
.tab-btn.active { color: var(--neon-cyan); border-bottom: 3px solid var(--neon-cyan); text-shadow: 0 0 8px var(--neon-cyan); }

.lesson-header { text-align: center; margin-bottom: 2rem; }
.lesson-title { font-size: 1.8rem; color: var(--neon-green); margin-bottom: 0.5rem; }
.lesson-materia { display: block; background: #222; padding: 0.5rem 1rem; border-radius: 20px; font-size: 0.9rem; }
.previous-score { margin-top: 1rem; font-size: 1.1rem; }

.lesson-content { min-height: 60vh; }
.lesson-actions { text-align: center; margin-top: 2rem; }

/* Sidebar */
.lesson-sidebar .sidebar-card {
    background: var(--bg-secondary);
    border-radius: 16px;
    padding: 1.5rem;
    border: 1px solid var(--neon-cyan);
    box-shadow: 0 0 20px rgba(0,255,255,0.1);
    position: sticky;
    top: 2rem;
}

.info-item { margin-bottom: 1.2rem; }
.info-item .label { display: block; color: var(--text-secondary); font-size: 0.9rem; }
.info-item .value { font-size: 1.2rem; font-weight: bold; color: var(--neon-cyan); }

.progress-bar { background: #111; height: 12px; border-radius: 6px; overflow: hidden; margin: 0.5rem 0; }
.progress-fill { height: 100%; background: linear-gradient(90deg, var(--neon-green), var(--neon-cyan)); transition: width 0.8s ease; }
.percent { text-align: right; color: var(--neon-green); }

.sidebar-actions { margin-top: 2rem; display: flex; flex-direction: column; gap: 1rem; }

/* Botones */
.btn {
    padding: 0.8rem 1.5rem;
    border: none;
    border-radius: 12px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s;
    width: 100%;
}

.btn-primary { background: linear-gradient(145deg, var(--neon-cyan), var(--accent)); color: #000; box-shadow: 0 0 15px rgba(0,255,255,0.4); }
.btn-primary:hover { transform: translateY(-3px); box-shadow: 0 0 25px rgba(0,255,255,0.6); }

.btn-secondary { background: var(--bg-primary); color: var(--text-primary); border: 1px solid var(--neon-pink); }
.btn-secondary:hover { background: var(--neon-pink); color: #fff; }

/* Bot칩n submit m치s compacto */
.btn-submit { background: var(--neon-green); color: #000; padding: 0.6rem 1.2rem; font-size: 0.95rem; border-radius: 8px; }

/* Quiz Modal (completamente separado) */
.overlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.95);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    backdrop-filter: blur(8px);
    padding: 10px;
}

.quiz-modal {
    background: #0d0d12;
    border-radius: 14px;
    width: 100%;
    max-width: 820px;
    max-height: 95vh;
    overflow: hidden;
    border: 2px solid var(--neon-cyan);
    box-shadow: 0 0 50px rgba(0,255,255,0.3);
    display: flex;
    flex-direction: column;
}

.quiz-header {
    padding: 1.2rem;
    background: rgba(0,255,255,0.05);
    border-bottom: 1px solid rgba(255,255,255,0.1);
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-shrink: 0;
}

.quiz-header h3 { 
    color: var(--neon-cyan); 
    margin: 0; 
    font-size: 1.1rem; 
    font-family: var(--font-pixel);
    line-height: 1.4;
}

.close-btn { 
    background: rgba(255,255,255,0.05); 
    border: 1px solid rgba(255,255,255,0.1); 
    font-size: 1.2rem; 
    color: #fff; 
    cursor: pointer; 
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}

.close-btn:hover {
    background: rgba(255, 0, 0, 0.2);
    border-color: #ff3333;
    color: #ff3333;
}

/* cuerpo m치s compacto y con scroll interno */
.quiz-body { 
    padding: 1.5rem; 
    overflow-y: auto; 
    flex: 1;
    position: relative; 
    scrollbar-width: thin;
    scrollbar-color: var(--neon-cyan) transparent;
}

.quiz-body::-webkit-scrollbar {
    width: 6px;
}

.quiz-body::-webkit-scrollbar-thumb {
    background: var(--neon-cyan);
    border-radius: 10px;
}

/* tarjetas y opciones reducidas para que quepan mejor en pantallas peque침as */
.question-card { 
    margin-bottom: 1.5rem; 
    background: rgba(255, 255, 255, 0.03); 
    padding: 1.2rem; 
    border-radius: 12px; 
    border-left: 4px solid var(--neon-cyan); 
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
}

.question { 
    margin-bottom: 1rem; 
    font-size: 1.1rem; 
    line-height: 1.5;
    color: #fff;
}

.options { 
    display: flex; 
    flex-direction: column; 
    gap: 0.8rem; 
}

.option-label {
    display: flex;
    align-items: center;
    padding: 0.8rem 1rem;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: 1rem;
}

.option-label:hover { 
    background: rgba(0, 243, 255, 0.1); 
    border-color: var(--neon-cyan);
    transform: translateX(5px);
}

.option-label.selected {
    background: rgba(0, 243, 255, 0.15);
    border-color: var(--neon-cyan);
    box-shadow: 0 0 10px rgba(0, 243, 255, 0.2);
}

@media (max-width: 600px) {
    .quiz-modal {
        max-height: 100vh;
        border-radius: 0;
        border: none;
    }
    
    .quiz-header h3 {
        font-size: 0.9rem;
    }
    
    .quiz-body {
        padding: 1rem;
    }
    
    .question {
        font-size: 1rem;
    }
    
    .option-label {
        padding: 0.7rem;
        font-size: 0.9rem;
    }
}

.radio-custom {
    width: 16px;
    height: 16px;
    border: 2px solid var(--neon-cyan);
    border-radius: 50%;
    margin-right: 0.8rem;
    position: relative;
    flex-shrink: 0;
}

input[type="radio"]:checked + .radio-custom::after {
    content: '';
    width: 8px;
    height: 8px;
    background: var(--neon-cyan);
    border-radius: 50%;
    position: absolute;
    top: 50%; left: 50%;
    transform: translate(-50%,-50%);
}

/* Submit fijo al final del panel para que siempre sea visible */
.quiz-submit { position: sticky; bottom: 0; background: linear-gradient(180deg, transparent, rgba(0,0,0,0.08)); padding: 0.8rem 1rem; text-align: center; border-top: 1px solid rgba(255,255,255,0.02); }

/* panel de resultado */
.result-panel { text-align: center; padding: 1.25rem; background: rgba(0,255,255,0.03); border-radius: 8px; border: 1px solid rgba(0,255,255,0.02); }

/* utilidades de notificaciones y animaciones XP */
.loading, .no-questions { text-align: center; padding: 2rem; color: var(--text-secondary); font-size: 1rem; }

/* Toast */
.toast-container { position: fixed; top: 1rem; right: 1rem; z-index: 1201; }
.toast { background: linear-gradient(90deg, rgba(0,255,200,0.95), rgba(0,200,255,0.95)); color: #000; padding: 0.7rem 1rem; border-radius: 8px; box-shadow: 0 6px 18px rgba(0,0,0,0.4); transform-origin: right top; animation: toast-in 360ms ease forwards; font-weight:700; }
@keyframes toast-in { from { transform: translateY(-12px) scale(.98); opacity: 0 } to { transform: translateY(0) scale(1); opacity: 1 } }
@keyframes toast-out { to { transform: translateY(-12px) scale(.98); opacity: 0 } }

/* XP fly animation */
.xp-fly { position: fixed; left: 50%; top: 40%; transform: translateX(-50%); background: linear-gradient(90deg, rgba(255,255,255,0.9), rgba(240,255,220,0.95)); color: #000; padding: 0.4rem 0.8rem; border-radius: 999px; font-weight:700; box-shadow: 0 6px 24px rgba(0,0,0,0.4); animation: xp-fly 1.8s ease forwards; z-index: 1202; }
@keyframes xp-fly { 0% { opacity: 0; transform: translate(-50%, 8px) scale(0.96); } 10% { opacity: 1 } 70% { transform: translate(-50%, -60px) scale(1.02); } 100% { opacity: 0; transform: translate(-50%, -120px) scale(0.98); } }

/* Detalle por pregunta */
.details-list { display:block; margin-top:0.6rem; text-align:left; }
.detail-item { padding:0.6rem; border-radius:8px; margin-bottom:0.4rem; display:flex; gap:0.6rem; align-items:flex-start; border:1px solid rgba(255,255,255,0.02); }
.detail-item.correct { background: rgba(0,255,200,0.03); border-left:4px solid var(--neon-green); }
.detail-item.wrong { background: rgba(255,80,80,0.03); border-left:4px solid var(--neon-pink); }
.detail-q { font-weight:600; }
.detail-a { color: var(--text-dim); margin-top:0.25rem; }
.detail-ok { color: var(--neon-green); font-weight:700; margin-left:auto; }
.detail-wrong { color: #ff9999; font-weight:700; margin-left:auto; }

/* Toast helper hidden removal animation */
.toast.hide { animation: toast-out 360ms ease forwards; }

/* Scroll to top */
.scroll-top-btn {
    position: fixed;
    bottom: 2rem;
    right: 2rem;
    width: 50px;
    height: 50px;
    background: var(--neon-cyan);
    color: #000;
    border: none;
    border-radius: 50%;
    font-size: 1.8rem;
    cursor: pointer;
    box-shadow: 0 0 20px rgba(0,255,255,0.6);
    opacity: 0;
    transition: opacity 0.3s;
}

.scroll-top-btn.visible { opacity: 1; }

.hidden { display: none !important; }

/* =====================================================
   ESTILOS 칔NICOS PARA LA LECCI칍N niveles-organizacion-biologica
   Tem치tica: Biol칩gica / Naturaleza / Verde luminoso
   ===================================================== */

.lesson-wrapper {
    max-width: 960px;
    margin: 0 auto;
    font-family: 'Segoe UI', sans-serif;
    color: #e0f7e0;
}

/* =====================================================
   ESTILOS 칔NICOS PARA LA LECCI칍N contaminacion-ambiental
   T칤tulo: Contaminaci칩n Ambiental: An치lisis Cient칤fico y Soluciones
   Paleta: verdes apagados, 치mbar y acentos cian
   ===================================================== */

/* Contenedor principal espec칤fico (opcional wrapper que aplica en esta lecci칩n) */
.lesson-contaminacion {
    --accent: var(--neon-green);
    --accent-2: #ffb84d; /* 치mbar */
    --muted-bg: linear-gradient(180deg, rgba(6,10,8,0.7), rgba(12,18,14,0.6));
    padding: 1.25rem;
    border-radius: 14px;
    border: 1px solid rgba(0,255,200,0.04);
    background: var(--muted-bg);
    box-shadow: 0 8px 28px rgba(0,80,50,0.12);
}

.content-header .learning-goals {
    display: block;
    background: rgba(0,64,40,0.18);
    border-left: 6px solid var(--accent);
    padding: 1rem;
    border-radius: 10px;
}
.content-header .learning-goals h3 { color: var(--accent); margin-top:0; }
.content-header .learning-goals ul { margin:0.5rem 0 0 1rem; color: var(--text-dim); }

/* Grid te칩rico con tarjetas */
.theory-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
    margin: 1rem 0 1.25rem 0;
}

.theory-card {
    background: rgba(255,255,255,0.02);
    border: 1px solid rgba(0,255,200,0.03);
    padding: 0.85rem;
    border-radius: 10px;
    box-shadow: 0 4px 18px rgba(0,0,0,0.35) inset;
}

.theory-card h4 { color: var(--accent-2); margin:0 0 0.45rem 0; }
.theory-card p, .theory-card ul { color: var(--text-dim); font-size: 0.96rem; }
.theory-card.example { border-left: 4px solid var(--accent-2); background: linear-gradient(90deg, rgba(255,200,120,0.02), transparent); }

/* Tabla de clasificaci칩n */
.classification-table {
    width: 100%;
    border-collapse: collapse;
    margin: 0.8rem 0 1.2rem 0;
    background: rgba(0,0,0,0.03);
    overflow: auto;
}
.classification-table thead th {
    background: rgba(0,0,0,0.04);
    color: var(--neon-yellow);
    padding: 0.6rem 0.8rem;
    text-align: left;
    font-weight:700;
    border-bottom: 2px solid rgba(255,255,255,0.02);
}
.classification-table tbody td { padding: 0.5rem 0.8rem; border-bottom: 1px dashed rgba(255,255,255,0.02); color: var(--text-dim); font-size: 0.95rem; }
.classification-table tbody tr:nth-child(even) { background: rgba(0,0,0,0.015); }

/* Simulador/diagrama */
.diagram-container { 
    margin: 2rem auto; 
    border-radius: 10px; 
    overflow: visible; 
    border: 1px solid rgba(0,255,200,0.1); 
    box-shadow: none; 
    max-width: 100%; 
    width: 100%; 
    padding: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

.diagram-container svg { 
    display: block; 
    width: 100%; 
    max-width: 100%; 
    height: auto; 
    background: none; 
    margin: 0 auto;
    object-fit: contain;
}

/* Variante en espa침ol: asegurar que el SVG del diagrama est칠 visible y responsive */
.diagrama-container svg, .diagrama-visual svg {
    display: block;
    width: 100%;
    max-width: 100%;
    height: auto;
    background: none;
    border-radius: 6px;
    margin: 0 auto;
    object-fit: contain;
}

.er-diagram-interactive {
    border: none;
    width: 100%;
    max-width: 100%;
    height: auto;
    display: block !important;
    margin: 0 auto;
    object-fit: contain;
}

/* SVGs gen칠ricos - asegurar adaptabilidad */
svg[class*="svg"] {
    width: 100% !important;
    max-width: 100% !important;
    height: auto !important;
    object-fit: contain;
    margin: 0 auto;
    display: block !important;
}

/* Bot칩n de zoom para SVGs */
.svg-zoom-btn {
    padding: 8px 16px;
    background: #00FF41;
    color: #000;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-weight: bold;
    font-size: 14px;
    margin: 10px auto 10px auto;
    display: block;
    transition: all 0.3s ease;
    box-shadow: 0 0 10px rgba(0, 255, 65, 0.3);
}

.svg-zoom-btn:hover {
    box-shadow: 0 0 20px rgba(0, 255, 65, 0.6);
    transform: scale(1.05);
}

.diagram-container, .diagrama-visual {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
}

/* Emisiones animadas: a침adir brillo y difuminado */
.emission { filter: drop-shadow(0 6px 10px rgba(0,0,0,0.25)); opacity:0.9; mix-blend-mode: multiply; }
.vehicle .emission { transform-origin: center; }

/* Industria y elementos clicables */
.clickable { cursor: pointer; transition: transform 200ms ease, box-shadow 200ms ease; }
.clickable:hover { transform: translateY(-6px); box-shadow: 0 10px 30px rgba(0,0,0,0.25), 0 0 16px rgba(255,128,0,0.06); }

/* Textos de efectos (p.ej. 'Contaminaci칩n agua') */
.effect-text { display:inline-block; padding:0.3rem 0.6rem; background: rgba(255,184,77,0.08); color: var(--neon-yellow); border-radius: 999px; font-weight:700; box-shadow: 0 4px 18px rgba(255,184,77,0.06); }

/* Responsive: en m칩vil, columna 칰nica y tabla scrollable */
@media (max-width: 900px) {
    .theory-grid { grid-template-columns: 1fr; }
    .classification-table thead th, .classification-table tbody td { font-size: 0.92rem; padding: 0.45rem 0.6rem; }
    .diagram-container svg, .er-diagram-interactive, svg[class*="svg"] { width: 100% !important; max-width: 100% !important; }
    .diagrama-visual { width: 100% !important; }
}

/* Peque침os ajustes visuales extra */
.content-body h3 { color: var(--neon-green); margin-top:1rem; }
.content-body h4 { color: var(--neon-yellow); }

/* class to apply on page wrapper when showing this lesson */
.page-lesson-contaminacion .main-content {
    background: linear-gradient(to bottom, #001a00, #002b00);
    padding: 30px;
    border-radius: 20px;
    border: 2px solid #00ff88;
    box-shadow: 0 0 40px rgba(0, 255, 136, 0.4);
}

.content-header h2 {
    font-size: 2.4em;
    color: #00ff88;
    text-align: center;
    text-shadow: 0 0 15px #00ff88;
}

.materia-tag {
    background: #003300;
    padding: 8px 20px;
    border-radius: 30px;
    font-size: 1em;
    border: 1px solid #00ff88;
}

.intro-text {
    font-size: 1.2em;
    line-height: 1.7;
    text-align: center;
    margin: 25px 0;
}

/* ===== COMPONENTES ESPEC칈FICOS: AQI, SOLUCIONES Y PROBLEMAS ===== */
/* AQI details - tarjetas para mostrar calidad del aire */
.aqi-details {
    display: flex;
    background-color: black;
    gap: 0.8rem;
    align-items: stretch;
    margin: 1rem 0;
    flex-wrap: wrap;
}
.aqi-metric {
    flex: 1 1 140px;
    min-width: 140px;
    background: rgba(0,0,0,0.04);
    border: 1px solid rgba(0,255,200,0.03);
    padding: 0.8rem;
    border-radius: 10px;
    text-align: center;
    color: var(--text-dim);
}
.aqi-metric .label { display:block; font-size:0.85rem; color:var(--neon-yellow); margin-bottom:0.35rem; }
.aqi-value { font-size:1.6rem; font-weight:800; line-height:1; }
.aqi-value.good { color: var(--neon-green); }
.aqi-value.moderate { color: var(--neon-yellow); }
.aqi-value.unhealthy { color: var(--neon-pink); }
.aqi-unit { display:block; font-size:0.78rem; color:var(--text-secondary); margin-top:0.25rem; }

/* Solution cards - pasos de mitigaci칩n o tecnolog칤as */
.solution-card {
    background: linear-gradient(180deg, rgba(2,8,6,0.32), rgba(4,12,8,0.28));
    border: 1px solid rgba(0,255,200,0.04);
    padding: 0.9rem;
    border-radius: 10px;
    margin: 0.6rem 0;
    color: var(--text-dim);
    box-shadow: 0 6px 18px rgba(0,0,0,0.35) inset;
}
.solution-card .title { font-weight:800; color:var(--neon-green); margin-bottom:0.4rem; }
.solution-card .meta { font-size:0.85rem; color:var(--text-secondary); margin-bottom:0.6rem; }
.solution-card .steps { display:flex; flex-direction:column; gap:0.4rem; }
.solution-card .step { background: rgba(255,255,255,0.01); padding:0.45rem; border-radius:8px; border-left:4px solid rgba(0,255,200,0.06); }
.solution-card .step strong { color:var(--neon-yellow); }

/* Exam problem / ejercicios */
.exam-problem {
    background: rgba(0,0,0,0.03);
    border: 1px solid rgba(255,255,255,0.02);
    padding: 0.85rem;
    border-radius: 8px;
    margin: 0.6rem 0;
    color: var(--text-dim);
}
.exam-problem .meta { font-size:0.85rem; color:var(--text-secondary); margin-bottom:0.45rem; }
.exam-problem .statement { font-size:1rem; }
.exam-problem pre, .exam-problem code { background: rgba(0,0,0,0.06); padding:0.6rem; border-radius:6px; overflow:auto; display:block; }
.exam-problem .difficulty { float:right; background: rgba(255,184,77,0.06); color:var(--neon-yellow); padding:0.25rem 0.5rem; border-radius:6px; font-weight:700; }

/* Ajustes para listas de problemas */
.exam-problems li { margin-bottom:0.5rem; }

/* Responsive tweaks */
@media (max-width:900px) {
    .aqi-details { gap:0.5rem; }
    .aqi-metric { min-width:120px; padding:0.6rem; }
    .solution-card { padding:0.65rem; }
    .exam-problem { padding:0.65rem; }
}

.key-idea {
    background: #002200;
    border-left: 6px solid #00ff88;
    padding: 20px;
    font-size: 1.2em;
    font-style: italic;
    text-align: center;
    margin: 30px 0;
}

.levels-list {
    background: rgba(0, 80, 0, 0.3);
    padding: 25px;
    border-radius: 15px;
    counter-reset: level;
}

.levels-list li {
    margin: 18px 0;
    padding: 12px;
    background: rgba(0, 100, 0, 0.3);
    border-radius: 10px;
    position: relative;
    padding-left: 50px;
}

.levels-list li::before {
    counter-increment: level;
    content: counter(level);
    position: absolute;
    left: 10px;
    top: 50%;
    transform: translateY(-50%);
    background: #00ff88;
    color: #000;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    text-align: center;
    line-height: 30px;
    font-weight: bold;
}

.hierarchy-diagram svg {
    background: #000;
    border-radius: 20px;
    border: 3px solid #00ff88;
    box-shadow: 0 0 30px rgba(0, 255, 136, 0.5);
    margin: 30px 0;
}

.level-detail {
    background: rgba(0, 50, 0, 0.6);
    padding: 20px;
    border-radius: 15px;
    text-align: center;
    font-size: 1.2em;
    min-height: 80px;
}

.analogy-table {
    width: 100%;
    border-collapse: collapse;
    margin: 30px 0;
    background: rgba(0, 40, 0, 0.5);
}

.analogy-table th, .analogy-table td {
    border: 1px solid #00ff88;
    padding: 15px;
    text-align: center;
}

.analogy-table th {
    background: #003300;
    color: #00ff88;
}

.cell-simulator {
    background: rgba(0, 60, 0, 0.5);
    padding: 25px;
    border-radius: 20px;
    text-align: center;
}

.sim-select {
    padding: 12px;
    font-size: 1.1em;
    border-radius: 10px;
    background: #000;
    color: #00ff88;
    border: 2px solid #00ff88;
}

.analogy-output {
    margin-top: 20px;
    padding: 20px;
    background: rgba(0, 80, 0, 0.4);
    border-radius: 15px;
    min-height: 100px;
    font-size: 1.1em;
}

.ecosystem-game {
    background: rgba(0, 40, 0, 0.6);
    padding: 30px;
    border-radius: 20px;
}

.components-pool {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    margin-bottom: 25px;
    justify-content: center;
}

.component {
    background: #003300;
    padding: 15px 20px;
    border-radius: 15px;
    cursor: grab;
    border: 2px solid #006600;
    font-size: 1.2em;
    text-align: center;
    min-width: 120px;
}

.component.draggable:active { cursor: grabbing; }

.ecosystem-zone {
    min-height: 200px;
    background: rgba(0, 100, 0, 0.3);
    border: 3px dashed #00ff88;
    border-radius: 20px;
    padding: 20px;
    margin: 20px 0;
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    align-content: flex-start;
}

.dropped {
    opacity: 0.9;
}

.eval-btn {
    padding: 12px 30px;
    background: #00ff88;
    color: #000;
    border: none;
    border-radius: 30px;
    font-weight: bold;
    cursor: pointer;
}

.game-feedback {
    margin-top: 20px;
    padding: 15px;
    border-radius: 12px;
    font-size: 1.2em;
    text-align: center;
}

.game-feedback.success { background: rgba(0, 255, 0, 0.3); color: #00ff88; }
.game-feedback.error { background: rgba(255, 0, 0, 0.3); color: #ff6666; }
.game-feedback.warning { background: rgba(255, 255, 0, 0.3); color: #ffff00; }

.common-errors .error-item {
    background: rgba(80, 0, 0, 0.4);
    padding: 15px;
    margin: 12px 0;
    border-radius: 12px;
    cursor: pointer;
    border-left: 5px solid #ff5252;
}

.common-errors .details {
    display: none;
    margin-top: 10px;
    font-style: italic;
    color: #ffaaaa;
}

.common-errors .error-item.expanded .details { display: block; }

.exam-problems {
    background: rgba(0, 50, 0, 0.5);
    padding: 25px;
    border-radius: 15px;
}

.quiz-container {
    background: rgba(0, 40, 0, 0.6);
    padding: 25px;
    border-radius: 15px;
}

.quiz-question {
    margin: 20px 0;
}

.quiz-question label {
    display: block;
    margin: 12px 0;
    padding: 10px;
    background: rgba(0, 80, 0, 0.3);
    border-radius: 10px;
}

.feedback, #quizResult {
    margin-top: 20px;
    padding: 15px;
    border-radius: 12px;
    text-align: center;
    font-size: 1.2em;
}

.success { color: #00ff88; }
.error { color: #ff6666; }

.reflection {
    background: rgba(0, 60, 0, 0.5);
    padding: 25px;
    border-radius: 15px;
}

.reflection li {
    margin: 18px 0;
    font-style: italic;
    font-size: 1.1em;
}

/* =====================================================
   ESTILOS 칔NICOS PARA LA LECCI칍N niveles-organizacion-biologica
   Tem치tica biol칩gica verde luminoso - Versi칩n corregida
   ===================================================== */

.lesson-wrapper {
    max-width: 960px;
    margin: 0 auto;
    font-family: 'Segoe UI', sans-serif;
    color: #e0f7e0;
    background: linear-gradient(to bottom, #001a00, #002b00);
    padding: 30px;
    border-radius: 20px;
    border: 2px solid #00ff88;
    box-shadow: 0 0 40px rgba(0, 255, 136, 0.4);
}

.content-header h2 {
    font-size: 2.4em;
    color: #00ff88;
    text-align: center;
    text-shadow: 0 0 15px #00ff88;
}

.materia-tag {
    background: #003300;
    padding: 8px 20px;
    border-radius: 30px;
    font-size: 1em;
    border: 1px solid #00ff88;
    display: inline-block;
    margin: 15px 0;
}

.intro-text {
    font-size: 1.2em;
    line-height: 1.7;
    text-align: center;
    margin: 25px 0;
    background: rgba(0, 50, 0, 0.4);
    padding: 20px;
    border-radius: 15px;
}

.key-idea {
    background: #002200;
    border-left: 6px solid #00ff88;
    padding: 20px;
    font-size: 1.2em;
    font-style: italic;
    text-align: center;
    margin: 30px 0;
}

/* Diagrama SVG */
.hierarchy-diagram svg {
    width: 100%;
    height: 800px;
    background: #000;
    border-radius: 20px;
    border: 3px solid #00ff88;
    box-shadow: 0 0 30px rgba(0, 255, 136, 0.5);
    margin: 30px 0;
}

.level-detail {
    background: rgba(0, 50, 0, 0.6);
    padding: 20px;
    border-radius: 15px;
    text-align: center;
    font-size: 1.2em;
    min-height: 100px;
    border: 1px solid #00ff88;
}

/* Mini-juego ecosistema */
.ecosystem-game {
    background: rgba(0, 40, 0, 0.6);
    padding: 30px;
    border-radius: 20px;
    margin: 30px 0;
}

.components-pool {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    justify-content: center;
    margin-bottom: 30px;
}

.component {
    background: #003300;
    padding: 18px 25px;
    border-radius: 20px;
    cursor: grab;
    border: 3px solid #006600;
    font-size: 1.3em;
    text-align: center;
    min-width: 140px;
    transition: all 0.3s;
    user-select: none;
}

.component:active { cursor: grabbing; transform: scale(1.1); }

.ecosystem-zone {
    min-height: 250px;
    background: rgba(0, 100, 0, 0.3);
    border: 4px dashed #006600;
    border-radius: 20px;
    padding: 20px;
    margin: 30px 0;
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    align-content: flex-start;
    transition: border-color 0.3s;
}

.dropped {
    opacity: 0.95;
    border: 2px solid #00ff88;
}

.eval-btn {
    padding: 15px 40px;
    background: #00ff88;
    color: #000;
    border: none;
    border-radius: 30px;
    font-size: 1.2em;
    font-weight: bold;
    cursor: pointer;
    display: block;
    margin: 20px auto;
}

.game-feedback {
    margin-top: 20px;
    padding: 20px;
    border-radius: 15px;
    font-size: 1.3em;
    text-align: center;
}

.game-feedback.success { background: rgba(0, 255, 0, 0.3); color: #00ff88; }
.game-feedback.error { background: rgba(255, 0, 0, 0.3); color: #ff6666; }
.game-feedback.warning { background: rgba(255, 255, 0, 0.3); color: #ffff88; }

/* Resto de estilos (mantengo los anteriores que funcionan) */
.levels-list, .analogy-table, .cell-simulator, .common-errors, .exam-problems, .quiz-container, .reflection {
    /* Los mismos estilos que en la versi칩n anterior */
    margin: 30px 0;
    background: rgba(0, 50, 0, 0.4);
    padding: 25px;
    border-radius: 15px;
}

.analogy-table th, .analogy-table td {
    border: 1px solid #00ff88;
    padding: 15px;
}

.quiz-question label {
    display: block;
    margin: 15px 0;
    padding: 12px;
    background: rgba(0, 80, 0, 0.3);
    border-radius: 10px;
}

.success { color: #00ff88; }
.error { color: #ff6666; }

/* =====================================================
   ESTILOS 칔NICOS PARA niveles-organizacion-biologica (versi칩n final corregida)
   ===================================================== */

.lesson-wrapper {
    max-width: 960px;
    margin: 0 auto;
    font-family: 'Segoe UI', sans-serif;
    color: #e0f7e0;
    background: linear-gradient(to bottom, #001a00, #002b00);
    padding: 30px;
    border-radius: 20px;
    border: 2px solid #00ff88;
    box-shadow: 0 0 40px rgba(0, 255, 136, 0.4);
}

.content-header h2 {
    font-size: 2.4em;
    color: #00ff88;
    text-align: center;
    text-shadow: 0 0 15px #00ff88;
}

.materia-tag {
    background: #003300;
    padding: 8px 20px;
    border-radius: 30px;
    font-size: 1em;
    border: 1px solid #00ff88;
    display: inline-block;
    margin: 15px 0;
}

.intro-text {
    font-size: 1.2em;
    line-height: 1.7;
    text-align: center;
    margin: 25px 0;
    background: rgba(0, 50, 0, 0.4);
    padding: 20px;
    border-radius: 15px;
}

/* Diagrama SVG */
.hierarchy-diagram svg {
    width: 100%;
    height: 800px;
    background: #000;
    border-radius: 20px;
    border: 3px solid #00ff88;
    box-shadow: 0 0 30px rgba(0, 255, 136, 0.5);
    margin: 30px 0;
    display: block;
}

/* Popup del nivel */
.level-popup {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.8);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.level-popup.hidden { display: none; }

.popup-content {
    background: #002b00;
    padding: 30px;
    border-radius: 20px;
    border: 3px solid #00ff88;
    max-width: 600px;
    text-align: center;
    box-shadow: 0 0 40px rgba(0,255,136,0.6);
    position: relative;
}

.close-popup {
    position: absolute;
    top: 10px;
    right: 20px;
    font-size: 2rem;
    cursor: pointer;
    color: #ff6666;
}

/* Mini-juego ecosistema */
.ecosystem-game {
    background: rgba(0, 40, 0, 0.6);
    padding: 30px;
    border-radius: 20px;
    margin: 30px 0;
}

.components-pool {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    justify-content: center;
    margin-bottom: 30px;
    min-height: 120px;
    padding: 15px;
    background: rgba(0,60,0,0.3);
    border-radius: 15px;
}

.component {
    background: #003300;
    padding: 18px 25px;
    border-radius: 20px;
    cursor: grab;
    border: 3px solid #006600;
    font-size: 1.3em;
    text-align: center;
    min-width: 140px;
    transition: all 0.3s;
    user-select: none;
}

.component:active { cursor: grabbing; transform: scale(1.1); }

.ecosystem-zone {
    min-height: 300px;
    background: rgba(0, 100, 0, 0.3);
    border: 4px dashed #006600;
    border-radius: 20px;
    padding: 20px;
    margin: 30px 0;
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    align-content: flex-start;
    position: relative;
    transition: border-color 0.3s;
}

.ecosystem-zone .placeholder {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: #006600;
    font-size: 1.4em;
    pointer-events: none;
}

.game-controls {
    text-align: center;
    margin: 20px 0;
}

.reset-btn {
    padding: 12px 30px;
    background: #ff5252;
    color: #fff;
    border: none;
    border-radius: 30px;
    margin-right: 15px;
    cursor: pointer;
}

.eval-btn {
    padding: 15px 40px;
    background: #00ff88;
    color: #000;
    border: none;
    border-radius: 30px;
    font-size: 1.2em;
    font-weight: bold;
    cursor: pointer;
}

.game-feedback {
    margin-top: 20px;
    padding: 20px;
    border-radius: 15px;
    font-size: 1.3em;
    text-align: center;
}

.game-feedback.success { background: rgba(0, 255, 0, 0.3); color: #00ff88; }
.game-feedback.error { background: rgba(255, 0, 0, 0.3); color: #ff6666; }
.game-feedback.warning { background: rgba(255, 255, 0, 0.3); color: #ffff88; }

/* Otros estilos (mantengo los anteriores) */
.levels-list, .analogy-table, .cell-simulator, .common-errors, .exam-problems, .quiz-container, .reflection {
    margin: 30px 0;
    background: rgba(0, 50, 0, 0.4);
    padding: 25px;
    border-radius: 15px;
}

.analogy-table th, .analogy-table td {
    border: 1px solid #00ff88;
    padding: 15px;
}

.success { color: #00ff88; }
.error { color: #ff6666; }
/* Estilo Qu칤mico: Minimalista Molecular - No colisiona con otros temas */
.chem-title {
    color: #2d3748;
    text-shadow: 0 0 10px #51cf66;
    font-family: 'Courier New', monospace;
    animation: glow 2s ease-in-out infinite alternate;
}

@keyframes glow {
    from { text-shadow: 0 0 10px #51cf66; }
    to { text-shadow: 0 0 20px #40c057, 0 0 30px #40c057; }
}

.intro {
    background: linear-gradient(135deg, #f7fafc, #edf2f7);
    padding: 1rem;
    border-left: 4px solid #51cf66;
    font-size: 1.1em;
}

.divider-chem {
    border: none;
    height: 2px;
    background: linear-gradient(to right, transparent, #51cf66, transparent);
    margin: 2rem 0;
}

.section-title {
    color: #2d3748;
    border-bottom: 2px solid #51cf66;
    padding-bottom: 0.5rem;
    font-family: 'Courier New', monospace;
}

.formula-chem {
    background: #1a202c;
    color: #51cf66;
    padding: 1rem;
    border-radius: 8px;
    font-size: 1.2em;
    margin: 1rem 0;
}

.chem-table {
    width: 100%;
    border-collapse: collapse;
    margin: 1rem 0;
}

.chem-table th, .chem-table td {
    border: 1px solid #e2e8f0;
    padding: 0.75rem;
    text-align: left;
}

.chem-table th {
    background: #51cf66;
    color: black;
}

.ejemplo {
    background: #f0fff4;
    border: 1px solid #51cf66;
    padding: 1rem;
    border-radius: 8px;
    margin: 1rem 0;
}

.conc-svg {
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    background: #f7fafc;
}

.axis-label {
    font-size: 0.9em;
    fill: #4a5568;
}

.eq-label {
    font-weight: bold;
    fill: #ffd43b;
}

.lechat-sim {
    background: #f7fafc;
    padding: 1rem;
    border-radius: 8px;
    margin: 1rem 0;
}

.control-panel {
    display: flex;
    gap: 1rem;
    align-items: center;
    margin-bottom: 1rem;
}

.reaction-viz {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 2rem;
    font-size: 1.5em;
    font-family: 'Courier New', monospace;
}

.react-side, .prod-side {
    padding: 0.5rem;
    border: 2px solid #ff6b6b;
    border-radius: 4px;
    background: #fff5f5;
}

.arrow {
    font-size: 2em;
    transition: transform 0.3s ease;
}

.shift-display {
    text-align: center;
    font-weight: bold;
    margin-top: 1rem;
    padding: 0.5rem;
    border-radius: 4px;
    transition: background 0.3s;
}

.quiz-box {
    background: #f0fff4;
    padding: 1rem;
    border-radius: 8px;
    margin: 1rem 0;
}

.quiz-box button {
    display: block;
    margin: 0.5rem 0;
    padding: 0.5rem;
    background: #51cf66;
    color: black;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

.quiz-box button:hover {
    background: #40c057;
}

.calc-block {
    display: flex;
    gap: 0.5rem;
    align-items: center;
    margin: 1rem 0;
}

.calc-block input {
    width: 80px;
    padding: 0.25rem;
}

.calc-block button {
    padding: 0.5rem;
    background: #2d3748;
    color: black;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

#kcResult {
    margin-top: 0.5rem;
    padding: 0.5rem;
    background: #f7fafc;
    border-radius: 4px;
}

.errors-interactive {
    margin: 1rem 0;
}

.error-item {
    margin-bottom: 1rem;
    padding: 1rem;
    background: #fff5f5;
    border-left: 4px solid #ff6b6b;
    border-radius: 4px;
}

.error-explain {
    display: none;
    margin-top: 0.5rem;
    padding: 0.5rem;
    background: #ffeb ee;
    border-radius: 4px;
    font-style: italic;
}

.exam-problems {
    list-style-type: decimal;
    padding-left: 1.5rem;
}

.exam-problems li {
    margin-bottom: 1rem;
    padding: 1rem;
    background: #f7fafc;
    border-radius: 8px;
}

.subsection-title {
    color: #4a5568;
    margin-top: 1.5rem;
}

.chem-quote {
    border-left: 4px solid #51cf66;
    padding-left: 1rem;
    font-style: italic;
    color: #2d3748;
    background: #f0fff4;
}

.conclusion {
    font-size: 1.1em;
    text-align: center;
    padding: 1rem;
    background: linear-gradient(135deg, #f0fff4, #e6fffa);
    border-radius: 8px;
    margin-top: 2rem;
}

/* Estilo Qu칤mico Mejorado: Minimalista Molecular con Animaciones - No colisiona */
.chem-title {
    color: #2d3748;
    text-shadow: 0 0 10px #51cf66;
    font-family: 'Courier New', monospace;
    animation: glow 2s ease-in-out infinite alternate;
}

@keyframes glow {
    from { text-shadow: 0 0 10px #51cf66; }
    to { text-shadow: 0 0 20px #40c057, 0 0 30px #40c057; }
}

.intro, .conclusion {
    background: linear-gradient(135deg, #f7fafc, #edf2f7);
    padding: 1.5rem;
    border-left: 6px solid #51cf66;
    font-size: 1.1em;
    border-radius: 8px;
}

.divider-chem {
    border: none;
    height: 3px;
    background: linear-gradient(to right, transparent, #51cf66, transparent);
    margin: 2.5rem 0;
}

.section-title {
    color: #2d3748;
    border-bottom: 3px solid #51cf66;
    padding-bottom: 0.75rem;
    font-family: 'Courier New', monospace;
}

.subsection-title {
    color: #4a5568;
    margin-top: 2rem;
    border-bottom: 1px solid #e2e8f0;
    padding-bottom: 0.25rem;
}

.formula-chem {
    background: #1a202c;
    color: #51cf66;
    padding: 1.25rem;
    border-radius: 10px;
    font-size: 1.3em;
    margin: 1.5rem 0;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.chem-table {
    width: 100%;
    border-collapse: collapse;
    margin: 1.5rem 0;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}

.chem-table th, .chem-table td {
    border: 1px solid #e2e8f0;
    padding: 1rem;
    text-align: left;
}

.chem-table th {
    background: #51cf66;
    color: black;
    font-weight: bold;
}

.ejemplo {
    background: #f0fff4;
    border: 1px solid #51cf66;
    padding: 1.25rem;
    border-radius: 10px;
    margin: 1.5rem 0;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

.conc-svg, .mol-canvas {
    border: 1px solid #e2e8f0;
    border-radius: 10px;
    background: #f7fafc;
    display: block;
    margin: 1rem auto;
}

.axis-label, .legend {
    font-size: 0.95em;
    fill: #4a5568;
}

.eq-label {
    font-weight: bold;
    fill: #ffd43b;
}

.lechat-sim {
    background: #f7fafc;
    padding: 1.25rem;
    border-radius: 10px;
    margin: 1.5rem 0;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

.control-panel {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    align-items: center;
    margin-bottom: 1.5rem;
}

.reaction-viz {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 3rem;
    font-size: 1.8em;
    font-family: 'Courier New', monospace;
    margin: 1rem 0;
}

.react-side, .prod-side {
    padding: 0.75rem;
    border: 2px solid #ff6b6b;
    border-radius: 6px;
    background: #fff5f5;
}

.prod-side {
    border-color: #51cf66;
    background: #f0fff4;
}

.arrow {
    font-size: 2.5em;
    transition: transform 0.4s ease;
}

.shift-display {
    text-align: center;
    font-weight: bold;
    margin: 1rem 0;
    padding: 0.75rem;
    border-radius: 6px;
    background: #f7fafc;
    transition: color 0.3s;
}

.explain-box {
    margin-top: 1rem;
    padding: 1rem;
    background: #edf2f7;
    border-radius: 6px;
    font-style: italic;
}

.quiz-box {
    background: #f0fff4;
    padding: 1.25rem;
    border-radius: 10px;
    margin: 1.5rem 0;
}

.quiz-box p {
    margin-bottom: 0.5rem;
}

.quiz-box button {
    display: inline-block;
    margin: 0.25rem 0.5rem 0.25rem 0;
    padding: 0.5rem 1rem;
    background: #51cf66;
    color: black;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: background 0.3s;
}

.quiz-box button:hover {
    background: #40c057;
}

.score-display {
    margin-top: 1rem;
    font-weight: bold;
    color: #2d3748;
}

.ice-calc, .calc-block {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    align-items: center;
    margin: 1.5rem 0;
    padding: 1rem;
    background: #f7fafc;
    border-radius: 10px;
}

.ice-calc input, .calc-block input {
    width: 120px;
    padding: 0.5rem;
    border: 1px solid #e2e8f0;
    border-radius: 6px;
}

.ice-calc button, .calc-block button {
    padding: 0.75rem 1.5rem;
    background: #2d3748;
    color: black;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: background 0.3s;
}

.ice-calc button:hover, .calc-block button:hover {
    background: #1a202c;
}

#iceTable {
    margin-top: 1rem;
    width: auto;
}

#iceResult, #kcKpResult {
    margin-top: 1rem;
    padding: 1rem;
    background: #f0fff4;
    border-radius: 6px;
}

.errors-interactive {
    margin: 1.5rem 0;
}

.error-item {
    margin-bottom: 1.25rem;
    padding: 1.25rem;
    background: #fff5f5;
    border-left: 6px solid #ff6b6b;
    border-radius: 10px;
}

.error-explain {
    display: none;
    margin-top: 0.75rem;
    padding: 0.75rem;
    background: #ffeeee;
    border-radius: 6px;
    font-style: italic;
}

.exam-problems {
    list-style-type: decimal;
    padding-left: 2rem;
}

.exam-problems li {
    margin-bottom: 1.5rem;
    padding: 1.25rem;
    background: #f7fafc;
    border-radius: 10px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

.chem-quote {
    border-left: 6px solid #51cf66;
    padding-left: 1.5rem;
    font-style: italic;
    color: #2d3748;
    background: #f0fff4;
    margin: 2rem 0;
    padding: 1.5rem;
    border-radius: 10px;
}

.glossary {
    margin: 1.5rem 0;
    padding: 1rem;
    background: #edf2f7;
    border-radius: 10px;
}

.glossary dt {
    font-weight: bold;
    margin-top: 0.5rem;
}

.glossary dd {
    margin-left: 1rem;
}

/* Estilo Retro-Ne칩n Cyberpunk - Ecosistemas REM - No colisiona */
.neon-title {
    color: #00e5ff;
    text-shadow: 0 0 10px #00e5ff, 0 0 20px #00e5ff, 0 0 30px #00e5ff;
    font-family: 'Courier New', monospace;
    font-size: 2.2em;
    animation: flicker 3s infinite alternate;
}

@keyframes flicker {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.95; }
}

.intro, .conclusion {
    background: rgba(0, 229, 255, 0.1);
    border-left: 4px solid #00e5ff;
    padding: 1.5rem;
    border-radius: 8px;
    font-size: 1.1em;
}

.divider-neon {
    border: none;
    height: 3px;
    background: linear-gradient(to right, transparent, #00e5ff, transparent);
    margin: 3rem 0;
    box-shadow: 0 0 10px #00e5ff;
}

.section-title {
    color: #00e5ff;
    text-shadow: 0 0 10px #00e5ff;
    border-bottom: 2px solid #00e5ff;
    padding-bottom: 0.5rem;
}

.subsection-title {
    color: #00bcd4;
    margin-top: 2rem;
}

.formula-neon {
    background: rgba(0, 0, 0, 0.6);
    color: #00e5ff;
    padding: 1.5rem;
    border-radius: 10px;
    text-align: center;
    border: 1px solid #00e5ff;
    box-shadow: 0 0 15px rgba(0, 229, 255, 0.4);
    margin: 1.5rem 0;
}

.neon-list {
    list-style: none;
    padding-left: 1rem;
}

.neon-list li {
    position: relative;
    margin: 0.75rem 0;
    padding-left: 1.5rem;
}

.neon-list li::before {
    content: "췉";
    color: #00e5ff;
    position: absolute;
    left: 0;
}

.neon-table {
    width: 100%;
    border-collapse: collapse;
    margin: 1.5rem 0;
    background: rgba(0, 0, 0, 0.4);
}

.neon-table th, .neon-table td {
    border: 1px solid #00e5ff;
    padding: 1rem;
    text-align: center;
}

.neon-table th {
    background: rgba(0, 229, 255, 0.2);
    color: #00e5ff;
}

.ejemplo {
    background: rgba(0, 229, 255, 0.15);
    border: 1px solid #00e5ff;
    padding: 1.25rem;
    border-radius: 10px;
    margin: 1.5rem 0;
}

.spectrum-wrapper, .radiation-sim, .uv-sim {
    background: rgba(0, 0, 0, 0.5);
    padding: 1.5rem;
    border-radius: 15px;
    border: 2px solid #00e5ff;
    margin: 2rem 0;
    box-shadow: 0 0 20px rgba(0, 229, 255, 0.3);
}

.spec-label {
    fill: #00e5ff;
    font-weight: bold;
    text-shadow: 0 0 5px #00e5ff;
}

.highlight {
    fill: #00ff41;
    font-size: 1.2em;
}

.scale-label, .scale-value {
    fill: #00bcd4;
}

.energy-text {
    fill: #00ff41;
    font-weight: bold;
    text-shadow: 0 0 10px #00ff41;
}

.spectrum-panel {
    margin-top: 1rem;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.4);
    border-radius: 10px;
}

.spectrum-buttons button {
    margin: 0.5rem;
    padding: 0.75rem 1.2rem;
    background: transparent;
    border: 2px solid #00e5ff;
    color: #00e5ff;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s;
}

.spectrum-buttons button:hover, .spectrum-buttons button.active {
    background: #00e5ff;
    color: #000;
    box-shadow: 0 0 15px #00e5ff;
}

.spectrum-info {
    margin-top: 1rem;
    padding: 1rem;
    background: rgba(0, 229, 255, 0.1);
    border-radius: 8px;
}

.effect-list li {
    margin: 0.5rem 0;
}

.control-panel {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.control-panel label {
    color: #00e5ff;
    font-weight: bold;
}

.control-panel input[type="range"] {
    width: 100%;
}

.photo-meter {
    margin: 1.5rem 0;
}

.meter-track {
    height: 30px;
    background: #000;
    border: 2px solid #00e5ff;
    border-radius: 15px;
    overflow: hidden;
}

.meter-fill {
    height: 100%;
    width: 75%;
    background: linear-gradient(90deg, #00e676, #1de9b6);
    transition: width 0.5s ease;
}

.meter-values {
    display: flex;
    justify-content: space-between;
    color: #00e5ff;
    margin-top: 0.5rem;
}

.sim-result {
    color: #00ff41;
    font-weight: bold;
    min-height: 2rem;
}

.uv-sim {
    position: relative;
    height: 250px;
    overflow: hidden;
}

.dna {
    position: absolute;
    top: 50px;
    left: 50%;
    transform: translateX(-50%);
    width: 120px;
}

.strand {
    width: 20px;
    height: 180px;
    background: repeating-linear-gradient(0deg, #00e5ff, #00e5ff 10px, #000 10px, #000 20px);
    position: absolute;
}

.left { left: 0; }
.right { right: 0; }

.dna.damage {
    animation: shake 0.6s;
}

@keyframes shake {
    0%, 100% { transform: translateX(-50%); }
    25% { transform: translateX(-50%) translateY(-5px); }
    75% { transform: translateX(-50%) translateY(5px); }
}

.uv-photon {
    position: absolute;
    top: -20px;
    width: 8px;
    height: 30px;
    background: #ff1744;
    box-shadow: 0 0 15px #ff1744;
    animation: fall 2s linear forwards;
}

@keyframes fall {
    to { top: 200px; }
}

.entropy-meter {
    height: 20px;
    background: #000;
    border: 2px solid #ff1744;
    border-radius: 10px;
    overflow: hidden;
    margin: 2rem 0;
}

.entropy-fill {
    height: 100%;
    width: 0%;
    background: linear-gradient(90deg, #ff1744, #ff5252);
    transition: width 0.8s ease;
}

.entropy-label {
    text-align: center;
    color: #ff1744;
}

.quiz-box {
    background: rgba(0, 0, 0, 0.5);
    padding: 1.5rem;
    border-radius: 10px;
    border: 1px solid #00e5ff;
}

.quiz-box button {
    margin: 0.5rem;
    padding: 0.75rem 1.5rem;
    background: transparent;
    border: 2px solid #00e5ff;
    color: #00e5ff;
    border-radius: 8px;
    cursor: pointer;
}

.quiz-box button:hover {
    background: #00e5ff;
    color: #000;
}

.score-display {
    margin-top: 1rem;
    font-size: 1.2em;
    color: #00ff41;
    text-align: center;
}

.errors-interactive {
    margin: 2rem 0;
}

.error-item {
    margin: 1rem 0;
    padding: 1rem;
    background: rgba(255, 23, 68, 0.1);
    border-left: 4px solid #ff1744;
    border-radius: 8px;
}

.error-explain {
    display: none;
    margin-top: 0.75rem;
    padding: 0.75rem;
    background: rgba(255, 23, 68, 0.2);
    border-radius: 6px;
    font-style: italic;
}

.exam-problems {
    padding-left: 2rem;
}

.exam-problems li {
    margin: 1.5rem 0;
    padding: 1rem;
    background: rgba(0, 229, 255, 0.1);
    border-radius: 8px;
}

.reflection-list li {
    margin: 1rem 0;
    padding: 1rem;
    background: rgba(0, 229, 255, 0.1);
    border-left: 4px solid #00e5ff;
    border-radius: 8px;
}

.neon-quote {
    border-left: 6px solid #00e5ff;
    padding: 1.5rem;
    font-style: italic;
    color: #00e5ff;
    background: rgba(0, 0, 0, 0.4);
    margin: 2rem 0;
    text-shadow: 0 0 10px #00e5ff;
}

/* Estilo Retro-Ne칩n Cyberpunk - Movimientos de la Tierra */
.neon-title {
    color: #00ffff;
    text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff, 0 0 30px #00ffff;
    font-family: 'Courier New', monospace;
    animation: neon-flicker 4s infinite alternate;
}

@keyframes neon-flicker {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.98; }
}

.intro, .conclusion {
    background: rgba(0, 255, 255, 0.1);
    border-left: 6px solid #00ffff;
    padding: 1.5rem;
    border-radius: 10px;
    font-size: 1.1em;
}

.divider-neon {
    border: none;
    height: 4px;
    background: linear-gradient(to right, transparent, #00ffff, transparent);
    margin: 3rem 0;
    box-shadow: 0 0 15px #00ffff;
}

.section-title {
    color: #ff00ff;
    text-shadow: 0 0 15px #ff00ff;
    border-bottom: 3px solid #00ffff;
    padding-bottom: 0.75rem;
}

.subsection-title {
    color: #00bcd4;
    margin-top: 2rem;
    font-size: 1.4em;
}

.formula-neon {
    background: rgba(0, 0, 0, 0.7);
    color: #00ffff;
    padding: 1.5rem;
    border-radius: 12px;
    text-align: center;
    border: 2px solid #00ffff;
    box-shadow: 0 0 20px rgba(0, 255, 255, 0.4);
    margin: 2rem 0;
}

.neon-list {
    list-style: none;
    padding-left: 1rem;
}

.neon-list li {
    position: relative;
    margin: 1rem 0;
    padding-left: 2rem;
    color: #00ffff;
}

.neon-list li::before {
    content: "郊";
    color: #ff00ff;
    position: absolute;
    left: 0;
}

.neon-table {
    width: 100%;
    border-collapse: collapse;
    margin: 2rem 0;
    background: rgba(0, 0, 0, 0.6);
    box-shadow: 0 0 20px rgba(0, 255, 255, 0.2);
}

.neon-table th, .neon-table td {
    border: 1px solid #00ffff;
    padding: 1rem;
    text-align: center;
    color: #00ffff;
}

.neon-table th {
    background: rgba(0, 255, 255, 0.2);
    color: #ff00ff;
    font-weight: bold;
}

.ejemplo {
    background: rgba(255, 0, 255, 0.1);
    border: 2px solid #ff00ff;
    padding: 1.5rem;
    border-radius: 12px;
    margin: 2rem 0;
}

.concept-box {
    background: rgba(0, 255, 255, 0.15);
    border-left: 6px solid #00ffff;
    padding: 1.25rem;
    margin: 2rem 0;
    border-radius: 8px;
    font-weight: bold;
}

.orbit-diagram, .orbit-svg {
    display: block;
    margin: 2rem auto;
    border: 2px solid #00ffff;
    border-radius: 15px;
    box-shadow: 0 0 30px rgba(0, 255, 255, 0.4);
    background: #000;
}

.sun-glow {
    filter: drop-shadow(0 0 20px #ffb300);
}

.earth-simulator {
    background: rgba(0, 0, 0, 0.6);
    padding: 2rem;
    border-radius: 15px;
    border: 3px solid #00ffff;
    margin: 2rem 0;
    box-shadow: 0 0 25px rgba(0, 255, 255, 0.3);
}

.control-panel {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.control-panel label {
    color: #00ffff;
    font-weight: bold;
    display: block;
}

.control-panel input[type="range"] {
    width: 100%;
}

.sim-result {
    text-align: center;
    padding: 1rem;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
    color: #00ff00;
    font-weight: bold;
    min-height: 3rem;
}

.quiz-box {
    background: rgba(0, 0, 0, 0.6);
    padding: 2rem;
    border-radius: 15px;
    border: 2px solid #00ffff;
    margin: 2rem 0;
}

.quiz-box button {
    margin: 0.5rem;
    padding: 0.75rem 1.5rem;
    background: transparent;
    border: 2px solid #ff00ff;
    color: #ff00ff;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s;
}

.quiz-box button:hover {
    background: #ff00ff;
    color: #000;
}

.score-display {
    margin-top: 1.5rem;
    font-size: 1.3em;
    color: #00ff00;
    text-align: center;
}

.errors-interactive {
    margin: 2rem 0;
}

.error-item {
    margin: 1.5rem 0;
    padding: 1.5rem;
    background: rgba(255, 23, 68, 0.1);
    border-left: 6px solid #ff1744;
    border-radius: 10px;
}

.error-explain {
    display: none;
    margin-top: 1rem;
    padding: 1rem;
    background: rgba(255, 23, 68, 0.2);
    border-radius: 8px;
    font-style: italic;
}

.exam-problems {
    padding-left: 2rem;
}

.exam-problems li {
    margin: 2rem 0;
    padding: 1.5rem;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
    border-left: 4px solid #00ffff;
}

.reflection-list li {
    margin: 1.5rem 0;
    padding: 1.5rem;
    background: rgba(255, 0, 255, 0.1);
    border-left: 6px solid #ff00ff;
    border-radius: 10px;
}

.neon-quote {
    border-left: 8px solid #00ffff;
    padding: 2rem;
    font-style: italic;
    color: #00ffff;
    background: rgba(0, 0, 0, 0.5);
    margin: 3rem 0;
    text-shadow: 0 0 15px #00ffff;
    font-size: 1.4em;
}

/* Estilo Cyberpunk-Ne칩n - Respiraci칩n Celular - Optimizado para m칩viles y pantallas peque침as */
.neon-title {
    color: #00ffff;
    text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff, 0 0 40px #00ffff;
    font-family: 'Courier New', monospace;
    animation: neon-pulse 3s infinite alternate;
}

@keyframes neon-pulse {
    from { text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff; }
    to { text-shadow: 0 0 20px #00ffff, 0 0 40px #00ffff, 0 0 60px #00ffff; }
}

.intro, .conclusion {
    background: rgba(0, 255, 255, 0.1);
    border-left: 6px solid #00ffff;
    padding: 1.5rem;
    border-radius: 12px;
    font-size: 1.1em;
}

.divider-neon {
    border: none;
    height: 4px;
    background: linear-gradient(to right, transparent, #00ffff, transparent);
    margin: 2.5rem 0;
    box-shadow: 0 0 20px #00ffff;
}

.section-title {
    color: #ff00ff;
    text-shadow: 0 0 15px #ff00ff;
    border-bottom: 3px solid #00ffff;
    padding-bottom: 0.75rem;
}

.subsection-title {
    color: #00bcd4;
    margin-top: 2rem;
    font-size: 1.4em;
}

.formula-neon {
    background: rgba(0, 0, 0, 0.7);
    color: #00ffff;
    padding: 1.5rem;
    border-radius: 12px;
    text-align: center;
    border: 2px solid #00ffff;
    box-shadow: 0 0 25px rgba(0, 255, 255, 0.4);
    margin: 1.5rem 0;
    font-size: 1.2em;
    overflow-x: auto;
}

.neon-table {
    width: 100%;
    max-width: 100%;
    border-collapse: collapse;
    margin: 1.5rem 0;
    background: rgba(0, 0, 0, 0.6);
    box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
    overflow-x: auto;
    display: block;
}

.neon-table th, .neon-table td {
    border: 2px solid #00ffff;
    padding: 0.8rem;
    text-align: center;
    color: #00ffff;
    min-width: 100px;
}

.neon-table th {
    background: rgba(0, 255, 255, 0.2);
    color: #ff00ff;
    font-weight: bold;
}

.highlight-row {
    background: rgba(255, 0, 255, 0.2);
    font-weight: bold;
    color: #00ff00;
}

.concept-box {
    background: rgba(255, 0, 255, 0.15);
    border: 2px solid #ff00ff;
    padding: 1.2rem;
    border-radius: 10px;
    margin: 1.5rem 0;
}

.svg-container {
    width: 100%;
    overflow-x: auto;
    margin: 2rem 0;
    padding: 1rem 0;
}

.cellular-svg {
    width: 100%;
    max-width: 1000px;
    height: auto;
    border: 3px solid #00ffff;
    border-radius: 12px;
    box-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
    background: #000;
    display: block;
    margin: 0 auto;
}

.resp-sim {
    background: rgba(0, 0, 0, 0.6);
    padding: 1.5rem;
    border-radius: 12px;
    border: 3px solid #00ffff;
    margin: 2rem 0;
    box-shadow: 0 0 25px rgba(0, 255, 255, 0.4);
}

.control-panel {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    align-items: center;
    justify-content: center;
    margin-bottom: 1.5rem;
}

.control-panel select, .control-panel button {
    padding: 0.6rem;
    background: transparent;
    border: 2px solid #00ffff;
    color: #00ffff;
    border-radius: 8px;
    font-size: 0.9em;
}

.atp-meter {
    margin: 1.5rem 0;
}

.meter-track {
    height: 35px;
    background: #000;
    border: 3px solid #00ffff;
    border-radius: 18px;
    overflow: hidden;
}

.meter-fill {
    height: 100%;
    width: 0%;
    transition: width 1.5s ease, background 1s ease;
}

.meter-labels {
    display: flex;
    justify-content: space-between;
    color: #00ffff;
    margin-top: 0.5rem;
    font-weight: bold;
    font-size: 0.9em;
}

.sim-result {
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
    color: #00ffcc;
    min-height: 3rem;
    text-align: center;
}

.etc-animation {
    position: relative;
    height: 180px;
    background: rgba(0, 0, 0, 0.7);
    border: 2px solid #00ffff;
    border-radius: 12px;
    overflow: hidden;
    margin: 2rem 0;
}

.electron-particle, .proton-particle {
    position: absolute;
    width: 8px;
    height: 8px;
    background: #00ffff;
    border-radius: 50%;
    box-shadow: 0 0 15px #00ffff;
    animation: moveElectron 3s linear forwards;
}

.proton-particle {
    background: #ff00ff;
    box-shadow: 0 0 15px #ff00ff;
    animation: moveProton 2.5s linear forwards;
}

@keyframes moveElectron {
    0% { left: 5%; top: 50%; }
    100% { left: 95%; top: 50%; }
}

@keyframes moveProton {
    0% { right: 5%; bottom: 20%; }
    100% { right: 95%; bottom: 80%; }
}

.quiz-container {
    background: rgba(0, 0, 0, 0.6);
    padding: 1.5rem;
    border-radius: 12px;
    border: 2px solid #00ffff;
}

.quiz-question {
    margin: 1.5rem 0;
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.05);
    border-radius: 10px;
}

.quiz-question button {
    margin: 0.4rem;
    padding: 0.6rem 1.2rem;
    background: transparent;
    border: 2px solid #ff00ff;
    color: #ff00ff;
    border-radius: 8px;
    cursor: pointer;
    font-size: 0.9em;
}

.score-display {
    font-size: 1.3em;
    color: #00ff00;
    text-align: center;
    margin-top: 1.5rem;
}

.errors-interactive .error-item {
    margin: 1.2rem 0;
    padding: 1.2rem;
    background: rgba(255, 23, 68, 0.1);
    border-left: 5px solid #ff1744;
    border-radius: 10px;
}

.error-explain {
    display: none;
    margin-top: 0.8rem;
    padding: 0.8rem;
    background: rgba(255, 23, 68, 0.2);
    border-radius: 8px;
    font-style: italic;
}

.exam-problems li {
    margin: 1.5rem 0;
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
    border-left: 4px solid #00ffff;
}

.reflection-list li {
    margin: 1.2rem 0;
    padding: 1.2rem;
    background: rgba(255, 0, 255, 0.1);
    border-left: 5px solid #ff00ff;
    border-radius: 10px;
}

.neon-quote {
    border-left: 8px solid #00ffff;
    padding: 2rem;
    font-style: italic;
    color: #00ffff;
    background: rgba(0, 0, 0, 0.6);
    margin: 2.5rem 0;
    text-shadow: 0 0 15px #00ffff;
    font-size: 1.3em;
}

/* Responsividad general */
@media (max-width: 768px) {
    .neon-title { font-size: 1.8em; }
    .formula-neon { font-size: 1em; padding: 1rem; }
    .control-panel { flex-direction: column; }
    .quiz-question button { display: block; width: 100%; margin: 0.5rem 0; }
}

/* Estilo Cyberpunk-Ne칩n - Sistema Clim치tico - Optimizado para responsividad */
.neon-title {
    color: #00ffff;
    text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff, 0 0 40px #00ffff;
    font-family: 'Courier New', monospace;
    animation: neon-pulse 4s infinite alternate;
}

@keyframes neon-pulse {
    from { text-shadow: 0 0 10px #00ffff; }
    to { text-shadow: 0 0 20px #00ffff, 0 0 40px #00ffff; }
}

.intro, .conclusion {
    background: rgba(0, 255, 255, 0.1);
    border-left: 6px solid #00ffff;
    padding: 1.5rem;
    border-radius: 12px;
    font-size: 1.1em;
}

.divider-neon {
    border: none;
    height: 4px;
    background: linear-gradient(to right, transparent, #00ffff, transparent);
    margin: 2.5rem 0;
    box-shadow: 0 0 20px #00ffff;
}

.section-title {
    color: #ff00ff;
    text-shadow: 0 0 15px #ff00ff;
    border-bottom: 3px solid #00ffff;
    padding-bottom: 0.75rem;
}

.subsection-title {
    color: #00bcd4;
    margin-top: 2rem;
    font-size: 1.4em;
}

.formula-neon {
    background: rgba(0, 0, 0, 0.7);
    color: #00ffff;
    padding: 1.5rem;
    border-radius: 12px;
    text-align: center;
    border: 2px solid #00ffff;
    box-shadow: 0 0 25px rgba(0, 255, 255, 0.4);
    margin: 1.5rem 0;
    overflow-x: auto;
}

.neon-table {
    width: 100%;
    border-collapse: collapse;
    margin: 1.5rem 0;
    background: rgba(0, 0, 0, 0.6);
    box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
    overflow-x: auto;
    display: block;
}

.neon-table th, .neon-table td {
    border: 2px solid #00ffff;
    padding: 0.8rem;
    text-align: center;
    color: #00ffff;
    min-width: 120px;
}

.neon-table th {
    background: rgba(0, 255, 255, 0.2);
    color: #ff00ff;
}

.concept-box {
    background: rgba(255, 0, 255, 0.15);
    border: 2px solid #ff00ff;
    padding: 1.2rem;
    border-radius: 10px;
    margin: 1.5rem 0;
}

.svg-container {
    width: 100%;
    overflow-x: auto;
    margin: 2rem 0;
}

.climate-svg {
    width: 100%;
    max-width: 1000px;
    height: auto;
    border: 3px solid #00ffff;
    border-radius: 12px;
    box-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
    background: #000;
    display: block;
    margin: 0 auto;
}

.climate-sim, .climate-lab {
    background: rgba(0, 0, 0, 0.6);
    padding: 1.5rem;
    border-radius: 12px;
    border: 3px solid #00ffff;
    margin: 2rem 0;
    box-shadow: 0 0 25px rgba(0, 255, 255, 0.4);
}

.lab-controls {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.lab-controls label {
    color: #00ffff;
    font-weight: bold;
}

.lab-controls select {
    width: 100%;
    padding: 0.5rem;
    background: transparent;
    border: 2px solid #00ffff;
    color: #00ffff;
    border-radius: 8px;
}

.lab-output {
    padding: 1.5rem;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
    color: #00ffcc;
    text-align: center;
    min-height: 6rem;
}

.meter-track {
    height: 35px;
    background: #000;
    border: 3px solid #00ffff;
    border-radius: 18px;
    overflow: hidden;
    margin: 1rem 0;
}

.meter-fill {
    height: 100%;
    width: 60%;
    transition: width 1s ease;
}

.sim-result {
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
    color: #00ffcc;
    min-height: 4rem;
}

.quiz-container {
    background: rgba(0, 0, 0, 0.6);
    padding: 1.5rem;
    border-radius: 12px;
    border: 2px solid #00ffff;
}

.quiz-question {
    margin: 1.5rem 0;
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.05);
    border-radius: 10px;
}

.quiz-question button {
    margin: 0.4rem;
    padding: 0.6rem 1.2rem;
    background: transparent;
    border: 2px solid #ff00ff;
    color: #ff00ff;
    border-radius: 8px;
    cursor: pointer;
    font-size: 0.9em;
}

.score-display {
    font-size: 1.3em;
    color: #00ff00;
    text-align: center;
    margin-top: 1.5rem;
}

.errors-interactive .error-item {
    margin: 1.2rem 0;
    padding: 1.2rem;
    background: rgba(255, 23, 68, 0.1);
    border-left: 5px solid #ff1744;
    border-radius: 10px;
}

.error-explain {
    display: none;
    margin-top: 0.8rem;
    padding: 0.8rem;
    background: rgba(255, 23, 68, 0.2);
    border-radius: 8px;
    font-style: italic;
}

.exam-problems li {
    margin: 1.5rem 0;
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
    border-left: 4px solid #00ffff;
}

.reflection-list li {
    margin: 1.2rem 0;
    padding: 1.2rem;
    background: rgba(255, 0, 255, 0.1);
    border-left: 5px solid #ff00ff;
    border-radius: 10px;
}

.neon-quote {
    border-left: 8px solid #00ffff;
    padding: 2rem;
    font-style: italic;
    color: #00ffff;
    background: rgba(0, 0, 0, 0.6);
    margin: 2.5rem 0;
    text-shadow: 0 0 15px #00ffff;
    font-size: 1.3em;
}

/* Responsividad */
@media (max-width: 768px) {
    .neon-title { font-size: 1.8em; }
    .formula-neon { font-size: 1em; }
    .lab-controls { grid-template-columns: 1fr; }
    .quiz-question button { display: block; width: 100%; margin: 0.5rem 0; }
}

/* Estilo Cyberpunk-Ne칩n - Ciclo del Carbono - Optimizado */
.neon-title {
    color: #00ffff;
    text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff, 0 0 40px #00ffff;
    font-family: 'Courier New', monospace;
    animation: neon-pulse 3s infinite alternate;
}

@keyframes neon-pulse {
    from { text-shadow: 0 0 10px #00ffff; }
    to { text-shadow: 0 0 20px #00ffff, 0 0 40px #00ffff; }
}

.intro, .conclusion {
    background: rgba(0, 255, 255, 0.1);
    border-left: 6px solid #00ffff;
    padding: 1.5rem;
    border-radius: 12px;
    font-size: 1.1em;
}

.divider-neon {
    border: none;
    height: 4px;
    background: linear-gradient(to right, transparent, #00ffff, transparent);
    margin: 2.5rem 0;
    box-shadow: 0 0 20px #00ffff;
}

.section-title {
    color: #ff00ff;
    text-shadow: 0 0 15px #ff00ff;
    border-bottom: 3px solid #00ffff;
    padding-bottom: 0.75rem;
}

.subsection-title {
    color: #00bcd4;
    margin-top: 2rem;
    font-size: 1.4em;
}

.formula-neon {
    background: rgba(0, 0, 0, 0.7);
    color: #00ffff;
    padding: 1.5rem;
    border-radius: 12px;
    text-align: center;
    border: 2px solid #00ffff;
    box-shadow: 0 0 25px rgba(0, 255, 255, 0.4);
    margin: 1.5rem 0;
}

.neon-table {
    width: 100%;
    border-collapse: collapse;
    margin: 1.5rem 0;
    background: rgba(0, 0, 0, 0.6);
    box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
    overflow-x: auto;
    display: block;
}

.neon-table th, .neon-table td {
    border: 2px solid #00ffff;
    padding: 0.8rem;
    text-align: center;
    color: #00ffff;
}

.neon-table th {
    background: rgba(0, 255, 255, 0.2);
    color: #ff00ff;
}

.concept-box {
    background: rgba(255, 0, 255, 0.15);
    border: 2px solid #ff00ff;
    padding: 1.2rem;
    border-radius: 10px;
    margin: 1.5rem 0;
}

.svg-container {
    width: 100%;
    overflow-x: auto;
    margin: 2rem 0;
}

.carbon-svg {
    width: 100%;
    max-width: 1600px;
    height: auto;
    border: 3px solid #00ffff;
    border-radius: 12px;
    box-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
    background: #070714;
    display: block;
    margin: 0 auto;
}

.carbon-sim {
    background: rgba(0, 0, 0, 0.6);
    padding: 1.5rem;
    border-radius: 12px;
    border: 3px solid #00ffff;
    margin: 2rem 0;
    box-shadow: 0 0 25px rgba(0, 255, 255, 0.4);
}

.meter-track {
    height: 35px;
    background: #000;
    border: 3px solid #00ffff;
    border-radius: 18px;
    overflow: hidden;
    margin: 1rem 0;
}

.meter-fill {
    height: 100%;
    width: 50%;
    transition: width 1s ease;
}

.sim-result {
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
    color: #00ffcc;
    min-height: 4rem;
}

.quiz-container {
    background: rgba(0, 0, 0, 0.6);
    padding: 1.5rem;
    border-radius: 12px;
    border: 2px solid #00ffff;
}

.quiz-question {
    margin: 1.5rem 0;
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.05);
    border-radius: 10px;
}

.quiz-question button {
    margin: 0.4rem;
    padding: 0.6rem 1.2rem;
    background: transparent;
    border: 2px solid #ff00ff;
    color: #ff00ff;
    border-radius: 8px;
    cursor: pointer;
}

.score-display {
    font-size: 1.3em;
    color: #00ff00;
    text-align: center;
    margin-top: 1.5rem;
}

.errors-interactive .error-item {
    margin: 1.2rem 0;
    padding: 1.2rem;
    background: rgba(255, 23, 68, 0.1);
    border-left: 5px solid #ff1744;
    border-radius: 10px;
}

.error-explain {
    display: none;
    margin-top: 0.8rem;
    padding: 0.8rem;
    background: rgba(255, 23, 68, 0.2);
    border-radius: 8px;
    font-style: italic;
}

.exam-problems li {
    margin: 1.5rem 0;
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
    border-left: 4px solid #00ffff;
}

.reflection-list li {
    margin: 1.2rem 0;
    padding: 1.2rem;
    background: rgba(255, 0, 255, 0.1);
    border-left: 5px solid #ff00ff;
    border-radius: 10px;
}

.neon-quote {
    border-left: 8px solid #00ffff;
    padding: 2rem;
    font-style: italic;
    color: #00ffff;
    background: rgba(0, 0, 0, 0.6);
    margin: 2.5rem 0;
    text-shadow: 0 0 15px #00ffff;
    font-size: 1.3em;
}

/* Responsividad */
@media (max-width: 768px) {
    .neon-title { font-size: 1.8em; }
    .formula-neon { font-size: 1em; }
    .quiz-question button { display: block; width: 100%; margin: 0.5rem 0; }
}
/* Estilo Cyberpunk-Ne칩n Sobrio - Ley de Liebig */
.neon-title {
    color: #00ffff;
    text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff;
    font-family: 'Courier New', monospace;
    animation: neon-pulse 4s infinite alternate;
}

@keyframes neon-pulse {
    from { text-shadow: 0 0 10px #00ffff; }
    to { text-shadow: 0 0 20px #00ffff, 0 0 30px #00ffff; }
}

.intro, .conclusion {
    background: rgba(0, 255, 255, 0.1);
    border-left: 6px solid #00ffff;
    padding: 1.5rem;
    border-radius: 12px;
    font-size: 1.1em;
}

.divider-neon {
    border: none;
    height: 4px;
    background: linear-gradient(to right, transparent, #00ffff, transparent);
    margin: 2.5rem 0;
    box-shadow: 0 0 15px #00ffff;
}

.section-title {
    color: #ff00ff;
    text-shadow: 0 0 12px #ff00ff;
    border-bottom: 3px solid #00ffff;
    padding-bottom: 0.75rem;
}

.subsection-title {
    color: #00bcd4;
    margin-top: 2rem;
    font-size: 1.4em;
}

.formula-neon {
    background: rgba(0, 0, 0, 0.7);
    color: #00ffff;
    padding: 1.5rem;
    border-radius: 12px;
    text-align: center;
    border: 2px solid #00ffff;
    box-shadow: 0 0 25px rgba(0, 255, 255, 0.4);
    margin: 1.5rem 0;
}

.neon-table {
    width: 100%;
    border-collapse: collapse;
    margin: 1.5rem 0;
    background: rgba(0, 0, 0, 0.6);
    box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
}

.neon-table th, .neon-table td {
    border: 2px solid #00ffff;
    padding: 0.8rem;
    text-align: center;
    color: #00ffff;
}

.neon-table th {
    background: rgba(0, 255, 255, 0.2);
    color: #ff00ff;
}

.concept-box {
    background: rgba(255, 0, 255, 0.15);
    border: 2px solid #ff00ff;
    padding: 1.2rem;
    border-radius: 10px;
    margin: 1.5rem 0;
}

.svg-container {
    width: 100%;
    overflow-x: auto;
    margin: 2rem 0;
}

.liebig-svg {
    width: 100%;
    max-width: 1600px;
    height: auto;
    border: 3px solid #00ffff;
    border-radius: 12px;
    box-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
    background: #070714;
    display: block;
    margin: 0 auto;
}

.barrel-sim {
    background: rgba(0, 0, 0, 0.6);
    padding: 1.5rem;
    border-radius: 12px;
    border: 3px solid #00ffff;
    margin: 2rem 0;
}

.stave {
    margin: 1rem 0;
    padding: 1rem;
    background: rgba(0, 255, 255, 0.05);
    border-radius: 8px;
    display: flex;
    align-items: center;
    gap: 1rem;
}

.stave.limitante {
    border: 2px solid #ff1744;
    background: rgba(255, 23, 68, 0.1);
}

.stave input[type="range"] {
    flex: 1;
}

.stave .value {
    min-width: 50px;
    color: #00ffff;
    font-weight: bold;
}

.sim-result {
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
    color: #00ffcc;
    text-align: center;
    min-height: 3rem;
    margin-top: 1.5rem;
}

.mini-lab, .quiz-container {
    background: rgba(0, 0, 0, 0.6);
    padding: 1.5rem;
    border-radius: 12px;
    border: 3px solid #00ffff;
    margin: 2rem 0;
}

.lab-controls, .quiz-question {
    margin: 1rem 0;
}

.lab-output {
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
    color: #00ffcc;
    min-height: 4rem;
}

.quiz-question button {
    margin: 0.4rem;
    padding: 0.6rem 1.2rem;
    background: transparent;
    border: 2px solid #ff00ff;
    color: #ff00ff;
    border-radius: 8px;
    cursor: pointer;
}

.score-display {
    font-size: 1.3em;
    color: #00ff00;
    text-align: center;
    margin-top: 1.5rem;
}

.errors-interactive .error-item {
    margin: 1.2rem 0;
    padding: 1.2rem;
    background: rgba(255, 23, 68, 0.1);
    border-left: 5px solid #ff1744;
    border-radius: 10px;
}

.error-explain {
    display: none;
    margin-top: 0.8rem;
    padding: 0.8rem;
    background: rgba(255, 23, 68, 0.2);
    border-radius: 8px;
    font-style: italic;
}

.exam-problems li {
    margin: 1.5rem 0;
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
    border-left: 4px solid #00ffff;
}

.reflection-list li {
    margin: 1.2rem 0;
    padding: 1.2rem;
    background: rgba(255, 0, 255, 0.1);
    border-left: 5px solid #ff00ff;
    border-radius: 10px;
}

.neon-quote {
    border-left: 8px solid #00ffff;
    padding: 2rem;
    font-style: italic;
    color: #00ffff;
    background: rgba(0, 0, 0, 0.6);
    margin: 2.5rem 0;
    text-shadow: 0 0 15px #00ffff;
    font-size: 1.3em;
}

/* Responsividad */
@media (max-width: 768px) {
    .neon-title { font-size: 1.8em; }
    .stave { flex-direction: column; align-items: stretch; }
    .stave input[type="range"] { width: 100%; }
}
/* Estilo Cyberpunk-Ne칩n Sobrio - Ley de Liebig - Mejorado */
.neon-title {
    color: #00ffff;
    text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff;
    font-family: 'Courier New', monospace;
    animation: neon-pulse 4s infinite alternate;
}

@keyframes neon-pulse {
    from { text-shadow: 0 0 10px #00ffff; }
    to { text-shadow: 0 0 20px #00ffff, 0 0 30px #00ffff; }
}

/* Estilo Cyberpunk para .intro / .conclusion (sobrescribe variantes anteriores) */
.intro, .conclusion {
    background: linear-gradient(135deg, rgba(10,12,18,0.6), rgba(4,6,12,0.45));
    border-left: 6px solid var(--neon-cyan);
    padding: 1.75rem;
    border-radius: 12px;
    font-size: 1.1em;
    box-shadow: 0 0 28px rgba(0,255,255,0.06), inset 0 1px 0 rgba(255,255,255,0.02);
    backdrop-filter: blur(6px);
    border: 1px solid rgba(255,255,255,0.02);
    transition: transform .25s ease, box-shadow .25s ease;
}

.intro:hover, .conclusion:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 40px rgba(0,255,255,0.07), 0 0 40px rgba(0,255,255,0.03);
}

/* ===== UNIFICAR .intro Y VARIANTES ===== */
/* Asegura que .intro-text y .intro-header reciban el mismo estilo de la aplicaci칩n */
.intro, .intro-text, .intro-header, .conclusion {
    background: linear-gradient(135deg, rgba(10,12,18,0.6), rgba(4,6,12,0.45));
    border-left: 6px solid var(--neon-cyan);
    padding: 1.4rem 1.75rem;
    border-radius: 10px;
    font-size: 1em;
    color: var(--text);
    box-shadow: 0 0 22px rgba(0,255,255,0.04), inset 0 1px 0 rgba(255,255,255,0.02);
    backdrop-filter: blur(4px);
    border: 1px solid rgba(255,255,255,0.02);
    transition: transform .25s ease, box-shadow .25s ease;
}

.intro h2, .intro-header h1 {
    color: var(--neon-green);
    margin-bottom: 0.5rem;
    font-size: 1.25em;
}

.intro p, .intro-text {
    margin: 0.35rem 0;
    font-size: 1rem;
    line-height: 1.5;
    color: var(--text-dim);
    max-width: 100%;
}

/* ===== APLICAR ESTILO DE BOT칍N A ELEMENTOS NATIVOS ===== */
/* As칤 los botones sin clase .btn adoptan la apariencia de la app */
button, input[type="submit"], input[type="button"], a.button, .button {
    display: inline-block;
    padding: 6px 10px;
    font-family: var(--font-pixel);
    font-size: 12px;
    font-weight: 700;
    line-height: 1;
    text-align: center;
    color: #fff;
    background: #c00000;
    border: 2px solid #ff0000;
    border-radius: 6px;
    box-shadow: 0 0 0 2px #000, 3px 3px 0 #000, inset 0 0 6px rgba(255,255,255,0.18);
    transition: transform 120ms cubic-bezier(0.17, 0.67, 0.83, 0.67), box-shadow 120ms;
    cursor: pointer;
    position: relative;
    text-shadow: 1px 1px 0 #800000;
    letter-spacing: 0.5px;
    text-transform: uppercase;
    text-decoration: none;
}

button:hover, input[type="submit"]:hover, input[type="button"]:hover, a.button:hover, .button:hover {
    background: #ff3333;
    transform: translate(1px, 1px);
    box-shadow: 0 0 0 1px #000, 1px 1px 0 #000;
}

button:active, input[type="submit"]:active, input[type="button"]:active {
    transform: translate(5px, 5px);
    box-shadow: 0 0 0 2px #000;
    background: #ff6666;
}

/* Mantener compatibilidad con variantes espec칤ficas (.btn-*, .btn-primary, etc.) */
button.btn, input.btn, a.btn { /* si ya tienen clase .btn no se sobrescribe */
    /* nada aqu칤; las clases existentes tienen prioridad */
}


.intro h2 {
    font-family: var(--font-pixel);
    font-size: 34px;
    color: var(--neon-green);
    margin-bottom: 8px;
    text-shadow: 0 0 6px var(--neon-green), 0 0 18px rgba(0,255,0,0.12);
    animation: neon-flicker 2.6s infinite;
}

@keyframes neon-flicker {
    0%, 18%, 22%, 25%, 53%, 57%, 100% { opacity: 1; filter: drop-shadow(0 0 12px rgba(0,255,255,0.12)); }
    20%, 24%, 55% { opacity: 0.92; filter: none; }
}

.intro p {
    color: var(--text-light);
    font-size: 20px;
    text-shadow: 0 0 6px rgba(0,0,0,0.4);
    max-width: 900px;
    margin: 10px auto 0;
}

.divider-neon {
    border: none;
    height: 4px;
    background: linear-gradient(to right, transparent, var(--neon-cyan), transparent);
    margin: 2.5rem 0;
    box-shadow: 0 0 15px var(--neon-cyan);
}

.section-title {
    color: #ff00ff;
    text-shadow: 0 0 12px #ff00ff;
    border-bottom: 3px solid #00ffff;
    padding-bottom: 0.75rem;
}

.subsection-title {
    color: #00bcd4;
    margin-top: 2rem;
    font-size: 1.4em;
}

.formula-neon {
    background: rgba(0, 0, 0, 0.7);
    color: #00ffff;
    padding: 1.5rem;
    border-radius: 12px;
    text-align: center;
    border: 2px solid #00ffff;
    box-shadow: 0 0 25px rgba(0, 255, 255, 0.4);
    margin: 1.5rem 0;
}

.neon-table {
    width: 100%;
    border-collapse: collapse;
    margin: 1.5rem 0;
    background: rgba(0, 0, 0, 0.6);
    box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
}

.neon-table th, .neon-table td {
    border: 2px solid #00ffff;
    padding: 0.8rem;
    text-align: center;
    color: #00ffff;
}

.neon-table th {
    background: rgba(0, 255, 255, 0.2);
    color: #ff00ff;
}

.concept-box {
    background: rgba(255, 0, 255, 0.15);
    border: 2px solid #ff00ff;
    padding: 1.2rem;
    border-radius: 10px;
    margin: 1.5rem 0;
}

.svg-container {
    width: 100%;
    overflow-x: auto;
    margin: 2rem 0;
}

.liebig-svg {
    width: 100%;
    max-width: 1600px;
    height: auto;
    border: 3px solid #00ffff;
    border-radius: 12px;
    box-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
    background: #070714;
    display: block;
    margin: 0 auto;
}

.mini-lab {
    background: rgba(0, 0, 0, 0.6);
    padding: 1.8rem;
    border-radius: 12px;
    border: 3px solid #00ffff;
    margin: 2rem 0;
    box-shadow: 0 0 25px rgba(0, 255, 255, 0.4);
}

.lab-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1.5rem;
    flex-wrap: wrap;
}

.lab-header label {
    color: #00ffff;
    font-weight: bold;
    black-space: nowrap;
}

.lab-header select {
    padding: 0.6rem;
    background: transparent;
    border: 2px solid #00ffff;
    color: #00ffff;
    border-radius: 8px;
    min-width: 200px;
}

.lab-output {
    padding: 1.5rem;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
    color: #00ffcc;
    min-height: 120px;
}

.output-title {
    font-size: 1.4em;
    font-weight: bold;
    color: #ff00ff;
    margin-bottom: 0.8rem;
}

.output-content {
    font-size: 1.2em;
    margin-bottom: 1rem;
}

.output-consequence {
    font-style: italic;
}

.barrel-sim {
    background: rgba(0, 0, 0, 0.6);
    padding: 1.5rem;
    border-radius: 12px;
    border: 3px solid #00ffff;
    margin: 2rem 0;
}

.stave {
    margin: 1rem 0;
    padding: 1rem;
    background: rgba(0, 255, 255, 0.05);
    border-radius: 8px;
    display: flex;
    align-items: center;
    gap: 1rem;
    flex-wrap: wrap;
}

.stave.limitante {
    border: 2px solid #ff1744;
    background: rgba(255, 23, 68, 0.1);
}

.stave span:first-child {
    min-width: 100px;
    color: #00ffff;
    font-weight: bold;
}

.stave input[type="range"] {
    flex: 1;
    min-width: 200px;
}

.stave .value {
    min-width: 60px;
    color: #00ffff;
    font-weight: bold;
    text-align: right;
}

.sim-result {
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
    color: #00ffcc;
    text-align: center;
    min-height: 3rem;
    margin-top: 1.5rem;
    font-size: 1.1em;
}

.quiz-container {
    background: rgba(0, 0, 0, 0.6);
    padding: 1.5rem;
    border-radius: 12px;
    border: 2px solid #00ffff;
}

.quiz-question {
    margin: 1.5rem 0;
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.05);
    border-radius: 10px;
}

.quiz-question button {
    margin: 0.4rem;
    padding: 0.6rem 1.2rem;
    background: transparent;
    border: 2px solid #ff00ff;
    color: #ff00ff;
    border-radius: 8px;
    cursor: pointer;
    font-size: 0.9em;
}

.score-display {
    font-size: 1.3em;
    color: #00ff00;
    text-align: center;
    margin-top: 1.5rem;
}

.errors-interactive .error-item {
    margin: 1.2rem 0;
    padding: 1.2rem;
    background: rgba(255, 23, 68, 0.1);
    border-left: 5px solid #ff1744;
    border-radius: 10px;
}

.error-explain {
    display: none;
    margin-top: 0.8rem;
    padding: 0.8rem;
    background: rgba(255, 23, 68, 0.2);
    border-radius: 8px;
    font-style: italic;
}

.exam-problems li {
    margin: 1.5rem 0;
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
    border-left: 4px solid #00ffff;
}

.reflection-list li {
    margin: 1.2rem 0;
    padding: 1.2rem;
    background: rgba(255, 0, 255, 0.1);
    border-left: 5px solid #ff00ff;
    border-radius: 10px;
}

.neon-quote {
    border-left: 8px solid #00ffff;
    padding: 2rem;
    font-style: italic;
    color: #00ffff;
    background: rgba(0, 0, 0, 0.6);
    margin: 2.5rem 0;
    text-shadow: 0 0 15px #00ffff;
    font-size: 1.3em;
}

/* Responsividad mejorada */
@media (max-width: 768px) {
    .neon-title { font-size: 1.8em; }
    .stave { flex-direction: column; align-items: flex-start; }
    .stave .value { align-self: flex-end; }
    .lab-header { flex-direction: column; align-items: stretch; }
    .quiz-question button { display: block; width: 100%; margin: 0.5rem 0; }
}
/* Estilo Cyberpunk-Ne칩n Sobrio - Ley de Liebig - Mini-Laboratorio Mejorado */
.neon-title {
    color: #00ffff;
    text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff;
    font-family: 'Courier New', monospace;
    animation: neon-pulse 4s infinite alternate;
}

@keyframes neon-pulse {
    from { text-shadow: 0 0 10px #00ffff; }
    to { text-shadow: 0 0 20px #00ffff, 0 0 30px #00ffff; }
}

.intro, .conclusion {
    background: rgba(0, 255, 255, 0.1);
    border-left: 6px solid #00ffff;
    padding: 1.5rem;
    border-radius: 12px;
    font-size: 1.1em;
}

.divider-neon {
    border: none;
    height: 4px;
    background: linear-gradient(to right, transparent, #00ffff, transparent);
    margin: 2.5rem 0;
    box-shadow: 0 0 15px #00ffff;
}

.section-title {
    color: #ff00ff;
    text-shadow: 0 0 12px #ff00ff;
    border-bottom: 3px solid #00ffff;
    padding-bottom: 0.75rem;
}

.subsection-title {
    color: #00bcd4;
    margin-top: 2rem;
    font-size: 1.4em;
}

.formula-neon {
    background: rgba(0, 0, 0, 0.7);
    color: #00ffff;
    padding: 1.5rem;
    border-radius: 12px;
    text-align: center;
    border: 2px solid #00ffff;
    box-shadow: 0 0 25px rgba(0, 255, 255, 0.4);
    margin: 1.5rem 0;
}

.neon-table {
    width: 100%;
    border-collapse: collapse;
    margin: 1.5rem 0;
    background: rgba(0, 0, 0, 0.6);
    box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
}

.neon-table th, .neon-table td {
    border: 2px solid #00ffff;
    padding: 0.8rem;
    text-align: center;
    color: #00ffff;
}

.neon-table th {
    background: rgba(0, 255, 255, 0.2);
    color: #ff00ff;
}

.concept-box {
    background: rgba(255, 0, 255, 0.15);
    border: 2px solid #ff00ff;
    padding: 1.2rem;
    border-radius: 10px;
    margin: 1.5rem 0;
}

.svg-container {
    width: 100%;
    overflow-x: auto;
    margin: 2rem 0;
}

.liebig-svg {
    width: 100%;
    max-width: 1600px;
    height: auto;
    border: 3px solid #00ffff;
    border-radius: 12px;
    box-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
    background: #070714;
    display: block;
    margin: 0 auto;
}

/* MINI-LABORATORIO MEJORADO */
.mini-lab {
    background: rgba(0, 0, 0, 0.7);
    padding: 2rem;
    border-radius: 15px;
    border: 3px solid #00ffff;
    box-shadow: 0 0 30px rgba(0, 255, 255, 0.4);
    margin: 2.5rem 0;
    text-align: center;
}

.lab-header {
    margin-bottom: 2rem;
}

.lab-label {
    display: inline-block;
    color: #00ffff;
    font-weight: bold;
    font-size: 1.3em;
    background: rgba(0, 255, 255, 0.1);
    padding: 0.8rem 1.5rem;
    border-radius: 30px;
    border: 2px solid #00ffff;
    box-shadow: 0 0 15px rgba(0, 255, 255, 0.5);
}

.lab-header select {
    margin-left: 1rem;
    padding: 0.8rem 1.2rem;
    background: transparent;
    border: 2px solid #ff00ff;
    color: #ff00ff;
    border-radius: 30px;
    font-size: 1.2em;
    min-width: 280px;
    box-shadow: 0 0 15px rgba(255, 0, 255, 0.3);
}

.lab-card {
    background: rgba(0, 0, 0, 0.6);
    padding: 2rem;
    border-radius: 15px;
    border: 2px solid #ff00ff;
    box-shadow: 0 0 25px rgba(255, 0, 255, 0.3);
}

.card-title {
    color: #ff00ff;
    font-size: 1.5em;
    font-weight: bold;
    margin-bottom: 1rem;
    text-shadow: 0 0 10px #ff00ff;
}

.card-limiting {
    color: #ff1744;
    font-size: 2em;
    font-weight: bold;
    margin: 1.5rem 0;
    text-shadow: 0 0 15px #ff1744;
}

.card-section {
    margin: 1.5rem 0;
    text-align: left;
}

.section-title {
    color: #00e676;
    font-weight: bold;
    font-size: 1.2em;
    margin-bottom: 0.5rem;
}

.section-content {
    color: #00ffff;
    font-size: 1.1em;
    line-height: 1.6;
}

/* Resto de estilos sin cambios */
.barrel-sim {
    background: rgba(0, 0, 0, 0.6);
    padding: 1.5rem;
    border-radius: 12px;
    border: 3px solid #00ffff;
    margin: 2rem 0;
}

.stave {
    margin: 1rem 0;
    padding: 1rem;
    background: rgba(0, 255, 255, 0.05);
    border-radius: 8px;
    display: flex;
    align-items: center;
    gap: 1rem;
    flex-wrap: wrap;
}

.stave.limitante {
    border: 2px solid #ff1744;
    background: rgba(255, 23, 68, 0.1);
}

.stave span:first-child {
    min-width: 100px;
    color: #00ffff;
    font-weight: bold;
}

.stave input[type="range"] {
    flex: 1;
    min-width: 200px;
}

.stave .value {
    min-width: 60px;
    color: #00ffff;
    font-weight: bold;
    text-align: right;
}

.sim-result {
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
    color: #00ffcc;
    text-align: center;
    min-height: 3rem;
    margin-top: 1.5rem;
    font-size: 1.1em;
}

.quiz-container {
    background: rgba(0, 0, 0, 0.6);
    padding: 1.5rem;
    border-radius: 12px;
    border: 2px solid #00ffff;
}

.quiz-question {
    margin: 1.5rem 0;
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.05);
    border-radius: 10px;
}

.quiz-question button {
    margin: 0.4rem;
    padding: 0.6rem 1.2rem;
    background: transparent;
    border: 2px solid #ff00ff;
    color: #ff00ff;
    border-radius: 8px;
    cursor: pointer;
    font-size: 0.9em;
}

.score-display {
    font-size: 1.3em;
    color: #00ff00;
    text-align: center;
    margin-top: 1.5rem;
}

.errors-interactive .error-item {
    margin: 1.2rem 0;
    padding: 1.2rem;
    background: rgba(255, 23, 68, 0.1);
    border-left: 5px solid #ff1744;
    border-radius: 10px;
}

.error-explain {
    display: none;
    margin-top: 0.8rem;
    padding: 0.8rem;
    background: rgba(255, 23, 68, 0.2);
    border-radius: 8px;
    font-style: italic;
}

.exam-problems li {
    margin: 1.5rem 0;
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
    border-left: 4px solid #00ffff;
}

.reflection-list li {
    margin: 1.2rem 0;
    padding: 1.2rem;
    background: rgba(255, 0, 255, 0.1);
    border-left: 5px solid #ff00ff;
    border-radius: 10px;
}

.neon-quote {
    border-left: 8px solid #00ffff;
    padding: 2rem;
    font-style: italic;
    color: #00ffff;
    background: rgba(0, 0, 0, 0.6);
    margin: 2.5rem 0;
    text-shadow: 0 0 15px #00ffff;
    font-size: 1.3em;
}

/* Responsividad */
@media (max-width: 768px) {
    .neon-title { font-size: 1.8em; }
    .stave { flex-direction: column; align-items: flex-start; }
    .stave .value { align-self: flex-end; }
    .lab-header { flex-direction: column; align-items: center; }
    .lab-header select { margin: 1rem 0 0 0; width: 100%; }
    .card-limiting { font-size: 1.6em; }
    .quiz-question button { display: block; width: 100%; margin: 0.5rem 0; }
}
/* FUENTE RETRO */
@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Share+Tech+Mono&display=swap');

:root {
    --cyber-cyan: #00f2ff;
    --cyber-pink: #ff00ff;
    --cyber-green: #39ff14;
    --cyber-bg: #050510;
    --pixel-size: 4px;
}

.lesson-shelford {
    background-color: var(--cyber-bg);
    color: #e0e0e0;
    font-family: 'Share Tech Mono', monospace;
    padding: 20px;
    line-height: 1.6;
}

/* T칈TULOS 8-BIT */
.lesson-shelford h3, .lesson-shelford h4 {
    font-family: 'Press Start 2P', cursive;
    text-transform: uppercase;
    color: var(--cyber-cyan);
    text-shadow: 3px 3px 0px var(--cyber-pink);
    line-height: 1.4;
    margin-bottom: 30px;
}

.lesson-shelford h3 { font-size: 1.5rem; text-align: center; }
.lesson-shelford h4 { font-size: 1rem; color: var(--cyber-pink); text-shadow: 2px 2px 0px var(--cyber-cyan); }

/* CONTENEDORES ESTILO TERMINAL */
.cyber-card {
    background: rgba(0, 0, 0, 0.8);
    border: var(--pixel-size) solid var(--cyber-cyan);
    padding: 20px;
    margin: 25px 0;
    box-shadow: 8px 8px 0px rgba(0, 242, 255, 0.2);
    position: relative;
}

/* SIMULADOR & LAB */
.cyber-simulator-container, .mini-lab {
    border: var(--pixel-size) solid var(--cyber-pink);
    padding: 20px;
    background: #000;
    box-shadow: 8px 8px 0px var(--cyber-cyan);
}

/* INPUTS ESTILO RETRO */
input[type="range"] {
    -webkit-appearance: none;
    width: 100%;
    background: #222;
    height: 12px;
    border: 2px solid var(--cyber-cyan);
    margin: 20px 0;
}

input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 20px;
    height: 30px;
    background: var(--cyber-pink);
    border: 2px solid #fff;
    cursor: pointer;
    box-shadow: 3px 3px 0px #000;
}

select {
    background: #000;
    color: var(--cyber-green);
    border: 2px solid var(--cyber-green);
    font-family: 'Press Start 2P', cursive;
    font-size: 0.7rem;
    padding: 10px;
    width: 100%;
    margin-bottom: 15px;
}

/* RESULTADOS DIN츼MICOS */
.sim-result, .lab-output, .quiz-box {
    background: #111;
    border: 2px dashed var(--cyber-cyan);
    padding: 15px;
    margin-top: 15px;
    font-family: 'Press Start 2P', cursive;
    font-size: 0.6rem;
    color: var(--cyber-green);
    text-align: center;
    min-height: 50px;
}

/* BOTONES QUIZ */
.quiz-box button {
    background: transparent;
    border: 2px solid var(--cyber-cyan);
    color: var(--cyber-cyan);
    font-family: 'Press Start 2P', cursive;
    font-size: 0.6rem;
    padding: 12px;
    margin: 5px;
    cursor: pointer;
    width: 100%;
    transition: 0.3s;
}

.quiz-box button:hover {
    background: var(--cyber-cyan);
    color: #000;
}

/* DIVISORES */
.divider-neon {
    border: none;
    height: 6px;
    background: repeating-linear-gradient(90deg, var(--cyber-pink), var(--cyber-pink) 10px, transparent 10px, transparent 20px);
    margin: 40px 0;
}

/* FORMULAS */
.eq {
    background: #1a1a1a;
    padding: 15px;
    border-left: 5px solid var(--cyber-pink);
    font-family: serif;
    overflow-x: auto;
}

/* RESPONSIVIDAD */
@media (max-width: 768px) {
    .lesson-shelford h3 { font-size: 1.1rem; }
    .lesson-shelford h4 { font-size: 0.8rem; }
}

  .cyber-simulator-container {
    background-color: var(--dark-bg);
    color: #fff;
    font-family: 'Press Start 2P', cursive; /* Fuente 8-bit */
    padding: 20px;
    border: var(--pixel-border);
    box-shadow: 8px 8px 0px var(--neon-pink);
    max-width: 500px;
    margin: 20px auto;
    image-rendering: pixelated;
    text-transform: uppercase;
  }

  .section-title-cyber {
    font-size: 0.8rem;
    color: var(--neon-blue);
    text-shadow: 2px 2px #000;
    margin-bottom: 20px;
    line-height: 1.5;
  }

  .sim-description {
    font-size: 0.5rem;
    color: #bbb;
    margin-bottom: 20px;
  }

  /* Estilo del Slider (Input Range) */
  #factorSlider {
    -webkit-appearance: none;
    width: 100%;
    background: transparent;
    cursor: pointer;
    margin: 20px 0;
  }

  #factorSlider::-webkit-slider-runnable-track {
    background: #333;
    border: 2px solid var(--neon-blue);
    height: 15px;
  }

  #factorSlider::-webkit-slider-thumb {
    -webkit-appearance: none;
    height: 30px;
    width: 15px;
    background: var(--neon-pink);
    border: 2px solid #fff;
    margin-top: -10px;
    box-shadow: 4px 4px 0px #000;
  }

  /* Resultado */
  .sim-result {
    background: #000;
    border: 2px dashed var(--neon-green);
    padding: 15px;
    min-height: 60px;
    font-size: 0.6rem;
    line-height: 1.8;
    text-align: center;
  }

  .divider-neon {
    border: none;
    height: 4px;
    background: linear-gradient(90deg, var(--neon-pink), var(--neon-blue));
    margin: 20px 0;
    box-shadow: 0 0 10px var(--neon-blue);
  }

  /* Responsividad */
  @media (max-width: 480px) {
    .cyber-simulator-container {
      width: 90%;
      font-size: 0.7rem;
    }
  }

  /* CONTENEDOR PRINCIPAL DEL LAB */
.mini-lab {
    background: #000;
    border: 4px solid var(--cyber-cyan);
    padding: 20px;
    margin: 30px auto;
    max-width: 800px;
    box-shadow: 10px 10px 0px var(--cyber-pink);
}

/* HEADER DEL SELECTOR */
.lab-header {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-bottom: 25px;
    border-bottom: 2px dashed var(--cyber-cyan);
    padding-bottom: 15px;
}

.lab-label {
    font-family: 'Press Start 2P', cursive;
    font-size: 0.7rem;
    color: var(--cyber-pink);
}

#ecosystemSelect {
    background: #111;
    color: var(--cyber-cyan);
    border: 2px solid var(--cyber-cyan);
    padding: 10px;
    font-family: 'Share Tech Mono', monospace;
    font-size: 1.1rem;
    cursor: pointer;
    outline: none;
}

/* TARJETA DE DATOS (DATA CARD) */
.lab-card {
    background: rgba(0, 242, 255, 0.05);
    border: 2px solid var(--cyber-pink);
    padding: 20px;
    position: relative;
}

.card-title {
    font-family: 'Press Start 2P', cursive;
    font-size: 0.6rem;
    color: #fff;
    margin-bottom: 10px;
    opacity: 0.8;
}

/* EFECTO GLITCH/PARPADEO PARA EL FACTOR */
.card-limiting {
    font-family: 'Press Start 2P', cursive;
    font-size: 1.2rem;
    color: var(--cyber-green);
    text-shadow: 2px 2px 0px #000;
    margin-bottom: 25px;
    padding: 10px;
    background: rgba(57, 255, 20, 0.1);
    text-align: center;
    border: 1px solid var(--cyber-green);
    animation: blink-text 2s infinite;
}

@keyframes blink-text {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

/* SECCIONES DE EXPLICACI칍N */
.card-section {
    margin-top: 20px;
    border-left: 4px solid var(--cyber-cyan);
    padding-left: 15px;
    background: rgba(255, 255, 255, 0.03);
    padding-top: 10px;
    padding-bottom: 10px;
}

.section-title {
    font-family: 'Press Start 2P', cursive;
    font-size: 0.55rem;
    color: var(--cyber-pink);
    margin-bottom: 8px;
    text-transform: uppercase;
}

.section-content {
    font-family: 'Share Tech Mono', monospace;
    font-size: 1.1rem;
    color: #e0e0e0;
    line-height: 1.4;
}

/* RESPONSIVIDAD */
@media (min-width: 600px) {
    .lab-header {
        flex-direction: row;
        align-items: center;
    }
    .lab-label { margin-right: 15px; }
    #ecosystemSelect { flex-grow: 1; }
}

/* Estilo Cyberpunk-Ne칩n Sobrio - Ley de Shelford */
.neon-title {
    color: #00ffff;
    text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff;
    font-family: 'Courier New', monospace;
    animation: neon-pulse 4s infinite alternate;
}

@keyframes neon-pulse {
    from { text-shadow: 0 0 10px #00ffff; }
    to { text-shadow: 0 0 20px #00ffff, 0 0 30px #00ffff; }
}

.intro, .conclusion {
    background: rgba(0, 255, 255, 0.1);
    border-left: 6px solid #00ffff;
    padding: 1.5rem;
    border-radius: 12px;
    font-size: 1.1em;
}

.divider-neon {
    border: none;
    height: 4px;
    background: linear-gradient(to right, transparent, #00ffff, transparent);
    margin: 2.5rem 0;
    box-shadow: 0 0 15px #00ffff;
}

.section-title {
    color: #ff00ff;
    text-shadow: 0 0 12px #ff00ff;
    border-bottom: 3px solid #00ffff;
    padding-bottom: 0.75rem;
}

.subsection-title {
    color: #00bcd4;
    margin-top: 2rem;
    font-size: 1.4em;
}

.formula-neon {
    background: rgba(0, 0, 0, 0.7);
    color: #00ffff;
    padding: 1.5rem;
    border-radius: 12px;
    text-align: center;
    border: 2px solid #00ffff;
    box-shadow: 0 0 25px rgba(0, 255, 255, 0.4);
    margin: 1.5rem 0;
}

.neon-table {
    width: 100%;
    border-collapse: collapse;
    margin: 1.5rem 0;
    background: rgba(0, 0, 0, 0.6);
    box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
}

.neon-table th, .neon-table td {
    border: 2px solid #00ffff;
    padding: 0.8rem;
    text-align: center;
    color: #00ffff;
}

.neon-table th {
    background: rgba(0, 255, 255, 0.2);
    color: #ff00ff;
}

.concept-box {
    background: rgba(255, 0, 255, 0.15);
    border: 2px solid #ff00ff;
    padding: 1.2rem;
    border-radius: 10px;
    margin: 1.5rem 0;
}

.svg-container {
    width: 100%;
    overflow-x: auto;
    margin: 2rem 0;
}

.shelford-svg {
    width: 100%;
    max-width: 1600px;
    height: auto;
    border: 3px solid #00ffff;
    border-radius: 12px;
    box-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
    background: #050510;
    display: block;
    margin: 0 auto;
}

.shelford-sim {
    background: rgba(0, 0, 0, 0.6);
    padding: 1.5rem;
    border-radius: 12px;
    border: 3px solid #00ffff;
    margin: 2rem 0;
}

.meter-track {
    height: 35px;
    background: #000;
    border: 3px solid #00ffff;
    border-radius: 18px;
    overflow: hidden;
    margin: 1rem 0;
}

.meter-fill {
    height: 100%;
    width: 50%;
    transition: width 1s ease, background 0.5s ease;
}

.sim-result {
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
    color: #00ffcc;
    text-align: center;
    min-height: 4rem;
    margin-top: 1rem;
}

.mini-lab {
    background: rgba(0, 0, 0, 0.6);
    padding: 1.8rem;
    border-radius: 12px;
    border: 3px solid #00ffff;
    margin: 2rem 0;
}

.lab-header {
    display: flex;
    flex-wrap: wrap;
    gap: 1.5rem;
    align-items: center;
    justify-content: center;
    margin-bottom: 1.5rem;
}

.lab-header label {
    color: #00ffff;
    font-weight: bold;
}

.lab-header select {
    padding: 0.6rem;
    background: transparent;
    border: 2px solid #ff00ff;
    color: #ff00ff;
    border-radius: 8px;
}

.lab-output {
    padding: 1.5rem;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
    color: #00ffcc;
    min-height: 6rem;
}

.quiz-container {
    background: rgba(0, 0, 0, 0.6);
    padding: 1.5rem;
    border-radius: 12px;
    border: 2px solid #00ffff;
}

.quiz-question {
    margin: 1.5rem 0;
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.05);
    border-radius: 10px;
}

.quiz-question button {
    margin: 0.4rem;
    padding: 0.6rem 1.2rem;
    background: transparent;
    border: 2px solid #ff00ff;
    color: #ff00ff;
    border-radius: 8px;
    cursor: pointer;
}

.score-display {
    font-size: 1.3em;
    color: #00ff00;
    text-align: center;
    margin-top: 1.5rem;
}

.errors-interactive .error-item {
    margin: 1.2rem 0;
    padding: 1.2rem;
    background: rgba(255, 23, 68, 0.1);
    border-left: 5px solid #ff1744;
    border-radius: 10px;
}

.error-explain {
    display: none;
    margin-top: 0.8rem;
    padding: 0.8rem;
    background: rgba(255, 23, 68, 0.2);
    border-radius: 8px;
    font-style: italic;
}

.exam-problems li {
    margin: 1.5rem 0;
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
    border-left: 4px solid #00ffff;
}

.reflection-list li {
    margin: 1.2rem 0;
    padding: 1.2rem;
    background: rgba(255, 0, 255, 0.1);
    border-left: 5px solid #ff00ff;
    border-radius: 10px;
}

.neon-quote {
    border-left: 8px solid #00ffff;
    padding: 2rem;
    font-style: italic;
    color: #00ffff;
    background: rgba(0, 0, 0, 0.6);
    margin: 2.5rem 0;
    text-shadow: 0 0 15px #00ffff;
    font-size: 1.3em;
}

/* Responsividad */
@media (max-width: 768px) {
    .neon-title { font-size: 1.8em; }
    .lab-header { flex-direction: column; align-items: stretch; }
    .quiz-question button { display: block; width: 100%; margin: 0.5rem 0; }
}

/* Estilo Cyberpunk-Ne칩n Sobrio - Factores Ambientales */
.neon-title {
    color: #00ffff;
    text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff;
    font-family: 'Courier New', monospace;
    animation: neon-pulse 4s infinite alternate;
}

@keyframes neon-pulse {
    from { text-shadow: 0 0 10px #00ffff; }
    to { text-shadow: 0 0 20px #00ffff, 0 0 30px #00ffff; }
}

.intro, .conclusion {
    background: rgba(0, 255, 255, 0.1);
    border-left: 6px solid #00ffff;
    padding: 1.5rem;
    border-radius: 12px;
    font-size: 1.1em;
}

.divider-neon {
    border: none;
    height: 4px;
    background: linear-gradient(to right, transparent, #00ffff, transparent);
    margin: 2.5rem 0;
    box-shadow: 0 0 15px #00ffff;
}

.section-title {
    color: #ff00ff;
    text-shadow: 0 0 12px #ff00ff;
    border-bottom: 3px solid #00ffff;
    padding-bottom: 0.75rem;
}

.subsection-title {
    color: #00bcd4;
    margin-top: 2rem;
    font-size: 1.4em;
}

.formula-neon {
    background: rgba(0, 0, 0, 0.7);
    color: #00ffff;
    padding: 1.5rem;
    border-radius: 12px;
    text-align: center;
    border: 2px solid #00ffff;
    box-shadow: 0 0 25px rgba(0, 255, 255, 0.4);
    margin: 1.5rem 0;
}

.neon-table {
    width: 100%;
    border-collapse: collapse;
    margin: 1.5rem 0;
    background: rgba(0, 0, 0, 0.6);
    box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
}

.neon-table th, .neon-table td {
    border: 2px solid #00ffff;
    padding: 0.8rem;
    text-align: center;
    color: #00ffff;
}

.neon-table th {
    background: rgba(0, 255, 255, 0.2);
    color: #ff00ff;
}

.concept-box {
    background: rgba(255, 0, 255, 0.15);
    border: 2px solid #ff00ff;
    padding: 1.2rem;
    border-radius: 10px;
    margin: 1.5rem 0;
}

.svg-container {
    width: 100%;
    overflow-x: auto;
    margin: 2rem 0;
}

.factors-svg {
    width: 100%;
    max-width: 1600px;
    height: auto;
    border: 3px solid #00ffff;
    border-radius: 12px;
    box-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
    background: #05050f;
    display: block;
    margin: 0 auto;
}

.factors-sim {
    background: rgba(0, 0, 0, 0.6);
    padding: 1.5rem;
    border-radius: 12px;
    border: 3px solid #00ffff;
    margin: 2rem 0;
}

.factors-sim label {
    display: block;
    margin: 1rem 0 0.5rem;
    color: #00ffff;
    font-weight: bold;
}

.factors-sim select, .factors-sim input[type="range"] {
    width: 100%;
    padding: 0.6rem;
    background: transparent;
    border: 2px solid #00ffff;
    color: #00ffff;
    border-radius: 8px;
}

.sim-result {
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
    color: #00ffcc;
    text-align: center;
    min-height: 4rem;
    margin-top: 1.5rem;
}

.quiz-container {
    background: rgba(0, 0, 0, 0.6);
    padding: 1.5rem;
    border-radius: 12px;
    border: 2px solid #00ffff;
}

.quiz-question {
    margin: 1.5rem 0;
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.05);
    border-radius: 10px;
}

.quiz-question button {
    margin: 0.4rem;
    padding: 0.6rem 1.2rem;
    background: transparent;
    border: 2px solid #ff00ff;
    color: #ff00ff;
    border-radius: 8px;
    cursor: pointer;
}

.score-display {
    font-size: 1.3em;
    color: #00ff00;
    text-align: center;
    margin-top: 1.5rem;
}

.errors-interactive .error-item {
    margin: 1.2rem 0;
    padding: 1.2rem;
    background: rgba(255, 23, 68, 0.1);
    border-left: 5px solid #ff1744;
    border-radius: 10px;
}

.error-explain {
    display: none;
    margin-top: 0.8rem;
    padding: 0.8rem;
    background: rgba(255, 23, 68, 0.2);
    border-radius: 8px;
    font-style: italic;
}

.exam-problems li {
    margin: 1.5rem 0;
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
    border-left: 4px solid #00ffff;
}

.reflection-list li {
    margin: 1.2rem 0;
    padding: 1.2rem;
    background: rgba(255, 0, 255, 0.1);
    border-left: 5px solid #ff00ff;
    border-radius: 10px;
}

.neon-quote {
    border-left: 8px solid #00ffff;
    padding: 2rem;
    font-style: italic;
    color: #00ffff;
    background: rgba(0, 0, 0, 0.6);
    margin: 2.5rem 0;
    text-shadow: 0 0 15px #00ffff;
    font-size: 1.3em;
}

/* Responsividad */
@media (max-width: 768px) {
    .neon-title { font-size: 1.8em; }
    .quiz-question button { display: block; width: 100%; margin: 0.5rem 0; }
}

/* Estilo Cyberpunk-Ne칩n Sobrio - Biomas del Planeta */
.neon-title {
    color: #00ffff;
    text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff;
    font-family: 'Courier New', monospace;
    animation: neon-pulse 4s infinite alternate;
}

@keyframes neon-pulse {
    from { text-shadow: 0 0 10px #00ffff; }
    to { text-shadow: 0 0 20px #00ffff, 0 0 30px #00ffff; }
}

.intro, .conclusion {
    background: rgba(0, 255, 255, 0.1);
    border-left: 6px solid #00ffff;
    padding: 1.5rem;
    border-radius: 12px;
    font-size: 1.1em;
}

.divider-neon {
    border: none;
    height: 4px;
    background: linear-gradient(to right, transparent, #00ffff, transparent);
    margin: 2.5rem 0;
    box-shadow: 0 0 15px #00ffff;
}

.section-title {
    color: #ff00ff;
    text-shadow: 0 0 12px #ff00ff;
    border-bottom: 3px solid #00ffff;
    padding-bottom: 0.75rem;
}

.subsection-title {
    color: #00bcd4;
    margin-top: 2rem;
    font-size: 1.4em;
}

.formula-neon {
    background: rgba(0, 0, 0, 0.7);
    color: #00ffff;
    padding: 1.5rem;
    border-radius: 12px;
    text-align: center;
    border: 2px solid #00ffff;
    box-shadow: 0 0 25px rgba(0, 255, 255, 0.4);
    margin: 1.5rem 0;
}

.neon-table {
    width: 100%;
    border-collapse: collapse;
    margin: 1.5rem 0;
    background: rgba(0, 0, 0, 0.6);
    box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
}

.neon-table th, .neon-table td {
    border: 2px solid #00ffff;
    padding: 0.8rem;
    text-align: center;
    color: #00ffff;
}

.neon-table th {
    background: rgba(0, 255, 255, 0.2);
    color: #ff00ff;
}

.concept-box {
    background: rgba(255, 0, 255, 0.15);
    border: 2px solid #ff00ff;
    padding: 1.2rem;
    border-radius: 10px;
    margin: 1.5rem 0;
}

.svg-container {
    width: 100%;
    overflow-x: auto;
    margin: 2rem 0;
}

.biomes-svg {
    width: 100%;
    max-width: 1600px;
    height: auto;
    border: 3px solid #00ffff;
    border-radius: 12px;
    box-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
    background: #05050f;
    display: block;
    margin: 0 auto;
}

.biomes-sim {
    background: rgba(0, 0, 0, 0.6);
    padding: 1.5rem;
    border-radius: 12px;
    border: 3px solid #00ffff;
    margin: 2rem 0;
}

.biomes-sim label {
    display: block;
    margin: 1rem 0 0.5rem;
    color: #00ffff;
    font-weight: bold;
}

.biomes-sim input[type="range"] {
    width: 100%;
    margin: 0.5rem 0;
}

.map-controls {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    justify-content: center;
    margin-bottom: 1.5rem;
}

.map-controls button {
    padding: 0.8rem 1.5rem;
    background: transparent;
    border: 2px solid #00ffff;
    color: #00ffff;
    border-radius: 30px;
    cursor: pointer;
    font-size: 1.1em;
}

.map-controls button.active {
    background: #00ffff;
    color: #000;
}

.sim-result {
    padding: 1.5rem;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
    color: #00ffcc;
    text-align: center;
    min-height: 5rem;
    margin-top: 1rem;
}

.quiz-container {
    background: rgba(0, 0, 0, 0.6);
    padding: 1.5rem;
    border-radius: 12px;
    border: 2px solid #00ffff;
}

.quiz-question {
    margin: 1.5rem 0;
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.05);
    border-radius: 10px;
}

.quiz-question button {
    margin: 0.4rem;
    padding: 0.6rem 1.2rem;
    background: transparent;
    border: 2px solid #ff00ff;
    color: #ff00ff;
    border-radius: 8px;
    cursor: pointer;
}

.score-display {
    font-size: 1.3em;
    color: #00ff00;
    text-align: center;
    margin-top: 1.5rem;
}

.errors-interactive .error-item {
    margin: 1.2rem 0;
    padding: 1.2rem;
    background: rgba(255, 23, 68, 0.1);
    border-left: 5px solid #ff1744;
    border-radius: 10px;
}

.error-explain {
    display: none;
    margin-top: 0.8rem;
    padding: 0.8rem;
    background: rgba(255, 23, 68, 0.2);
    border-radius: 8px;
    font-style: italic;
}

.exam-problems li {
    margin: 1.5rem 0;
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
    border-left: 4px solid #00ffff;
}

.reflection-list li {
    margin: 1.2rem 0;
    padding: 1.2rem;
    background: rgba(255, 0, 255, 0.1);
    border-left: 5px solid #ff00ff;
    border-radius: 10px;
}

.neon-quote {
    border-left: 8px solid #00ffff;
    padding: 2rem;
    font-style: italic;
    color: #00ffff;
    background: rgba(0, 0, 0, 0.6);
    margin: 2.5rem 0;
    text-shadow: 0 0 15px #00ffff;
    font-size: 1.3em;
}

/* Responsividad */
@media (max-width: 768px) {
    .neon-title { font-size: 1.8em; }
    .map-controls { flex-direction: column; align-items: center; }
    .quiz-question button { display: block; width: 100%; margin: 0.5rem 0; }
}

/* Estilo Cyberpunk-Ne칩n Sobrio - Redes Tr칩ficas */
.neon-title {
    color: #00ffff;
    text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff;
    font-family: 'Courier New', monospace;
    animation: neon-pulse 4s infinite alternate;
}

@keyframes neon-pulse {
    from { text-shadow: 0 0 10px #00ffff; }
    to { text-shadow: 0 0 20px #00ffff, 0 0 30px #00ffff; }
}

.intro, .conclusion {
    background: rgba(0, 255, 255, 0.1);
    border-left: 6px solid #00ffff;
    padding: 1.5rem;
    border-radius: 12px;
    font-size: 1.1em;
}

.divider-neon {
    border: none;
    height: 4px;
    background: linear-gradient(to right, transparent, #00ffff, transparent);
    margin: 2.5rem 0;
    box-shadow: 0 0 15px #00ffff;
}

.section-title {
    color: #ff00ff;
    text-shadow: 0 0 12px #ff00ff;
    border-bottom: 3px solid #00ffff;
    padding-bottom: 0.75rem;
}

.subsection-title {
    color: #00bcd4;
    margin-top: 2rem;
    font-size: 1.4em;
}

.formula-neon {
    background: rgba(0, 0, 0, 0.7);
    color: #00ffff;
    padding: 1.5rem;
    border-radius: 12px;
    text-align: center;
    border: 2px solid #00ffff;
    box-shadow: 0 0 25px rgba(0, 255, 255, 0.4);
    margin: 1.5rem 0;
}

.neon-table {
    width: 100%;
    border-collapse: collapse;
    margin: 1.5rem 0;
    background: rgba(0, 0, 0, 0.6);
    box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
}

.neon-table th, .neon-table td {
    border: 2px solid #00ffff;
    padding: 0.8rem;
    text-align: center;
    color: #00ffff;
}

.neon-table th {
    background: rgba(0, 255, 255, 0.2);
    color: #ff00ff;
}

.concept-box {
    background: rgba(255, 0, 255, 0.15);
    border: 2px solid #ff00ff;
    padding: 1.2rem;
    border-radius: 10px;
    margin: 1.5rem 0;
}

.svg-container {
    width: 100%;
    overflow-x: auto;
    margin: 2rem 0;
}

.trophic-svg {
    width: 100%;
    max-width: 1200px;
    height: auto;
    border: 3px solid #00ffff;
    border-radius: 12px;
    box-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
    background: #020414;
    display: block;
    margin: 0 auto;
}

.trophic-sim {
    background: rgba(0, 0, 0, 0.6);
    padding: 1.5rem;
    border-radius: 12px;
    border: 3px solid #00ffff;
    margin: 2rem 0;
}

.species-controls {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    justify-content: center;
    margin-bottom: 1.5rem;
}

.species-controls button {
    padding: 0.8rem 1.5rem;
    background: transparent;
    border: 2px solid #00ffff;
    color: #00ffff;
    border-radius: 30px;
    cursor: pointer;
}

.species-controls button.active {
    background: #00ffff;
    color: #000;
}

.trophic-sim label {
    display: block;
    margin: 1rem 0;
    color: #00ffff;
    font-weight: bold;
}

.trophic-sim input[type="number"] {
    width: 100%;
    padding: 0.6rem;
    background: transparent;
    border: 2px solid #00ffff;
    color: #00ffff;
    border-radius: 8px;
}

.sim-result {
    padding: 1.5rem;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
    color: #00ffcc;
    text-align: center;
    min-height: 5rem;
}

.quiz-container {
    background: rgba(0, 0, 0, 0.6);
    padding: 1.5rem;
    border-radius: 12px;
    border: 2px solid #00ffff;
}

.quiz-question {
    margin: 1.5rem 0;
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.05);
    border-radius: 10px;
}

.quiz-question button {
    margin: 0.4rem;
    padding: 0.6rem 1.2rem;
    background: transparent;
    border: 2px solid #ff00ff;
    color: #ff00ff;
    border-radius: 8px;
    cursor: pointer;
}

.score-display {
    font-size: 1.3em;
    color: #00ff00;
    text-align: center;
    margin-top: 1.5rem;
}

.errors-interactive .error-item {
    margin: 1.2rem 0;
    padding: 1.2rem;
    background: rgba(255, 23, 68, 0.1);
    border-left: 5px solid #ff1744;
    border-radius: 10px;
}

.error-explain {
    display: none;
    margin-top: 0.8rem;
    padding: 0.8rem;
    background: rgba(255, 23, 68, 0.2);
    border-radius: 8px;
    font-style: italic;
}

.exam-problems li {
    margin: 1.5rem 0;
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
    border-left: 4px solid #00ffff;
}

.reflection-list li {
    margin: 1.2rem 0;
    padding: 1.2rem;
    background: rgba(255, 0, 255, 0.1);
    border-left: 5px solid #ff00ff;
    border-radius: 10px;
}

.neon-quote {
    border-left: 8px solid #00ffff;
    padding: 2rem;
    font-style: italic;
    color: #00ffff;
    background: rgba(0, 0, 0, 0.6);
    margin: 2.5rem 0;
    text-shadow: 0 0 15px #00ffff;
    font-size: 1.3em;
}

/* Responsividad */
@media (max-width: 768px) {
    .neon-title { font-size: 1.8em; }
    .species-controls { flex-direction: column; align-items: center; }
    .quiz-question button { display: block; width: 100%; margin: 0.5rem 0; }
}

/* Estilo Cyberpunk-Ne칩n Sobrio - Relaciones Ecol칩gicas */
.neon-title {
    color: #00ffff;
    text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff;
    font-family: 'Courier New', monospace;
    animation: neon-pulse 4s infinite alternate;
}

@keyframes neon-pulse {
    from { text-shadow: 0 0 10px #00ffff; }
    to { text-shadow: 0 0 20px #00ffff, 0 0 30px #00ffff; }
}

.intro, .conclusion {
    background: rgba(0, 255, 255, 0.1);
    border-left: 6px solid #00ffff;
    padding: 1.5rem;
    border-radius: 12px;
    font-size: 1.1em;
}

.divider-neon {
    border: none;
    height: 4px;
    background: linear-gradient(to right, transparent, #00ffff, transparent);
    margin: 2.5rem 0;
    box-shadow: 0 0 15px #00ffff;
}

.section-title {
    color: #ff00ff;
    text-shadow: 0 0 12px #ff00ff;
    border-bottom: 3px solid #00ffff;
    padding-bottom: 0.75rem;
}

.subsection-title {
    color: #00bcd4;
    margin-top: 2rem;
    font-size: 1.4em;
}

.neon-table {
    width: 100%;
    border-collapse: collapse;
    margin: 1.5rem 0;
    background: rgba(0, 0, 0, 0.6);
    box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
}

.neon-table th, .neon-table td {
    border: 2px solid #00ffff;
    padding: 0.8rem;
    text-align: center;
    color: #00ffff;
}

.neon-table th {
    background: rgba(0, 255, 255, 0.2);
    color: #ff00ff;
}

.concept-box {
    background: rgba(255, 0, 255, 0.15);
    border: 2px solid #ff00ff;
    padding: 1.2rem;
    border-radius: 10px;
    margin: 1.5rem 0;
}

.svg-container {
    width: 100%;
    overflow-x: auto;
    margin: 2rem 0;
}

.relations-svg {
    width: 100%;
    max-width: 900px;
    height: auto;
    border: 3px solid #00ffff;
    border-radius: 12px;
    box-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
    background: #05050a;
    display: block;
    margin: 0 auto;
}

.relations-sim {
    background: rgba(0, 0, 0, 0.6);
    padding: 1.5rem;
    border-radius: 12px;
    border: 3px solid #00ffff;
    margin: 2rem 0;
}

.relations-sim label {
    display: block;
    margin: 1rem 0 0.5rem;
    color: #00ffff;
    font-weight: bold;
}

.relations-sim select, .relations-sim input[type="range"] {
    width: 100%;
    padding: 0.6rem;
    background: transparent;
    border: 2px solid #00ffff;
    color: #00ffff;
    border-radius: 8px;
}

.sim-result {
    padding: 1.5rem;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
    color: #00ffcc;
    text-align: center;
    min-height: 5rem;
    margin-top: 1rem;
}

.quiz-container {
    background: rgba(0, 0, 0, 0.6);
    padding: 1.5rem;
    border-radius: 12px;
    border: 2px solid #00ffff;
}

.quiz-question {
    margin: 1.5rem 0;
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.05);
    border-radius: 10px;
}

.quiz-question button {
    margin: 0.4rem;
    padding: 0.6rem 1.2rem;
    background: transparent;
    border: 2px solid #ff00ff;
    color: #ff00ff;
    border-radius: 8px;
    cursor: pointer;
}

.score-display {
    font-size: 1.3em;
    color: #00ff00;
    text-align: center;
    margin-top: 1.5rem;
}

.errors-interactive .error-item {
    margin: 1.2rem 0;
    padding: 1.2rem;
    background: rgba(255, 23, 68, 0.1);
    border-left: 5px solid #ff1744;
    border-radius: 10px;
}

.error-explain {
    display: none;
    margin-top: 0.8rem;
    padding: 0.8rem;
    background: rgba(255, 23, 68, 0.2);
    border-radius: 8px;
    font-style: italic;
}

.exam-problems li {
    margin: 1.5rem 0;
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
    border-left: 4px solid #00ffff;
}

.reflection-list li {
    margin: 1.2rem 0;
    padding: 1.2rem;
    background: rgba(255, 0, 255, 0.1);
    border-left: 5px solid #ff00ff;
    border-radius: 10px;
}

.neon-quote {
    border-left: 8px solid #00ffff;
    padding: 2rem;
    font-style: italic;
    color: #00ffff;
    background: rgba(0, 0, 0, 0.6);
    margin: 2.5rem 0;
    text-shadow: 0 0 15px #00ffff;
    font-size: 1.3em;
}

/* Responsividad */
@media (max-width: 768px) {
    .neon-title { font-size: 1.8em; }
    .quiz-question button { display: block; width: 100%; margin: 0.5rem 0; }
}
/* Estilo Retro 8-Bit Ne칩n - Homeostasis */
@font-face {
    font-family: 'Press Start 2P';
    src: url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap') format('woff2');
}

@font-face {
    font-family: 'VT323';
    src: url('https://fonts.googleapis.com/css2?family=VT323&display=swap') format('woff2');
}

.homeo-title {
    color: #00ffff;
    text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff, 0 0 40px #00ffff;
    font-family: 'Press Start 2P', monospace;
    animation: neon-flicker 2s infinite alternate;
}

@keyframes neon-flicker {
    0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% { text-shadow: 0 0 10px #00ffff; }
    20%, 24%, 55% { text-shadow: 0 0 20px #00ffff, 0 0 40px #00ffff; }
}

.homeo-intro, .homeo-conclusion {
    background: #001111;
    border: 4px solid #00ff00;
    padding: 1.5rem;
    border-radius: 0;
    font-family: 'VT323', monospace;
    font-size: 1.2em;
    color: #00ff00;
    box-shadow: 0 0 20px #00ff00;
}

.homeo-divider {
    border: none;
    height: 6px;
    background: repeating-linear-gradient(to right, #00ff00, #00ff00 10px, transparent 10px, transparent 20px);
    margin: 2.5rem 0;
    animation: scanline 2s linear infinite;
}

@keyframes scanline {
    0% { background-position: 0 0; }
    100% { background-position: 40px 0; }
}

.homeo-section-title {
    color: #ff00ff;
    text-shadow: 0 0 8px #ff00ff;
    font-family: 'Press Start 2P', monospace;
    border-bottom: 4px dashed #ff00ff;
    padding-bottom: 0.75rem;
}

.homeo-subsection-title {
    color: #ffff00;
    font-family: 'VT323', monospace;
    font-size: 1.6em;
    text-shadow: 0 0 6px #ffff00;
}

.homeo-formula {
    background: #000022;
    color: #00ffff;
    padding: 1.5rem;
    text-align: center;
    border: 4px solid #00ffff;
    box-shadow: 0 0 25px #00ffff;
    margin: 1.5rem 0;
    font-family: 'VT323', monospace;
    font-size: 1.2em;
}

.homeo-table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
    margin: 1.5rem 0;
    background: #000022;
    box-shadow: 0 0 20px #00ffff;
    border: 4px solid #00ffff;
}

.homeo-table th, .homeo-table td {
    border: 2px solid #00ffff;
    padding: 0.8rem;
    text-align: center;
    color: #00ffff;
    font-family: 'VT323', monospace;
}

.homeo-table th {
    background: #001133;
    color: #ff00ff;
}

.homeo-concept-box {
    background: #001100;
    border: 4px solid #00ff00;
    padding: 1.2rem;
    margin: 1.5rem 0;
    box-shadow: 0 0 15px #00ff00;
    font-family: 'VT323', monospace;
    color: #00ff00;
}

.homeo-svg-container {
    width: 100%;
    overflow-x: auto;
    margin: 2rem 0;
    border: 4px solid #00ffff;
    box-shadow: 0 0 30px #00ffff;
}

.homeo-svg {
    width: 100%;
    max-width: 900px;
    height: auto;
    background: #000022;
    display: block;
    margin: 0 auto;
}

.homeo-sim {
    background: #001111;
    padding: 1.5rem;
    border: 4px solid #00ff00;
    margin: 2rem 0;
    box-shadow: 0 0 20px #00ff00;
}

.homeo-sim label {
    display: block;
    margin: 1rem 0 0.5rem;
    color: #00ff00;
    font-family: 'VT323', monospace;
    font-size: 1.2em;
}

.homeo-sim input[type="range"], .homeo-sim input[type="number"] {
    width: 100%;
    background: #000022;
    border: 2px solid #00ff00;
    color: #00ff00;
}

.homeo-sim-result {
    padding: 1.2rem;
    background: #000022;
    border: 2px solid #00ff00;
    color: #00ff00;
    text-align: center;
    min-height: 4rem;
    margin-top: 1rem;
    font-family: 'VT323', monospace;
}

.homeo-quiz-container {
    background: #001111;
    padding: 1.5rem;
    border: 4px solid #ff00ff;
    box-shadow: 0 0 20px #ff00ff;
}

.homeo-quiz-question {
    margin: 1.5rem 0;
    padding: 1.2rem;
    background: #000022;
    border: 2px solid #ff00ff;
}

.homeo-quiz-question button {
    margin: 0.4rem;
    padding: 0.6rem 1.2rem;
    background: #000022;
    border: 2px solid #ff00ff;
    color: #ff00ff;
    cursor: pointer;
    font-family: 'VT323', monospace;
}

.homeo-score-display {
    font-size: 1.3em;
    color: #ffff00;
    text-align: center;
    margin-top: 1.5rem;
    font-family: 'Press Start 2P', monospace;
}

.homeo-errors-interactive .homeo-error-item {
    margin: 1.2rem 0;
    padding: 1.2rem;
    background: #220000;
    border-left: 5px solid #ff0000;
    color: #ff0000;
    font-family: 'VT323', monospace;
}

.homeo-error-explain {
    display: none;
    margin-top: 0.8rem;
    padding: 0.8rem;
    background: #110000;
    color: #ffcccc;
    font-style: italic;
}

.homeo-exam-problems li {
    margin: 1.5rem 0;
    padding: 1.2rem;
    background: #001100;
    border-left: 4px solid #00ff00;
    color: #00ff00;
    font-family: 'VT323', monospace;
}

.homeo-reflection-list li {
    margin: 1.2rem 0;
    padding: 1.2rem;
    background: #001133;
    border-left: 5px solid #00ffff;
    color: #00ffff;
    font-family: 'VT323', monospace;
}

.homeo-neon-quote {
    border-left: 8px solid #ffff00;
    padding: 2rem;
    font-style: italic;
    color: #ffff00;
    background: #000022;
    margin: 2.5rem 0;
    text-shadow: 0 0 15px #ffff00;
    font-size: 1.3em;
    font-family: 'Press Start 2P', monospace;
}

/* Responsividad */
@media (max-width: 768px) {
    .homeo-title { font-size: 1.8em; }
    .homeo-quiz-question button { display: block; width: 100%; margin: 0.5rem 0; }
}

/* Estilo Cyberpunk-Ne칩n Sobrio - Producci칩n Primaria y Transferencia de Energ칤a */
.neon-title {
    color: #00ffff;
    text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff;
    font-family: 'Courier New', monospace;
    animation: neon-pulse 4s infinite alternate;
}

@keyframes neon-pulse {
    from { text-shadow: 0 0 10px #00ffff; }
    to { text-shadow: 0 0 20px #00ffff, 0 0 30px #00ffff; }
}

.intro, .conclusion {
    background: rgba(0, 255, 255, 0.1);
    border-left: 6px solid #00ffff;
    padding: 1.5rem;
    border-radius: 12px;
    font-size: 1.1em;
}

.divider-neon {
    border: none;
    height: 4px;
    background: linear-gradient(to right, transparent, #00ffff, transparent);
    margin: 2.5rem 0;
    box-shadow: 0 0 15px #00ffff;
}

.section-title {
    color: #ff00ff;
    text-shadow: 0 0 12px #ff00ff;
    border-bottom: 3px solid #00ffff;
    padding-bottom: 0.75rem;
}

.subsection-title {
    color: #00bcd4;
    margin-top: 2rem;
    font-size: 1.4em;
}

.formula-neon {
    background: rgba(0, 0, 0, 0.7);
    color: #00ffff;
    padding: 1.5rem;
    border-radius: 12px;
    text-align: center;
    border: 2px solid #00ffff;
    box-shadow: 0 0 25px rgba(0, 255, 255, 0.4);
    margin: 1.5rem 0;
}

.neon-table {
    width: 100%;
    border-collapse: collapse;
    margin: 1.5rem 0;
    background: rgba(0, 0, 0, 0.6);
    box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
}

.neon-table th, .neon-table td {
    border: 2px solid #00ffff;
    padding: 0.8rem;
    text-align: center;
    color: #00ffff;
}

.neon-table th {
    background: rgba(0, 255, 255, 0.2);
    color: #ff00ff;
}

.concept-box {
    background: rgba(255, 0, 255, 0.15);
    border: 2px solid #ff00ff;
    padding: 1.2rem;
    border-radius: 10px;
    margin: 1.5rem 0;
}

.svg-container {
    width: 100%;
    overflow-x: auto;
    margin: 2rem 0;
}

.energy-svg {
    width: 100%;
    max-width: 1200px;
    height: auto;
    border: 3px solid #00ffff;
    border-radius: 12px;
    box-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
    background: #000;
    display: block;
    margin: 0 auto;
}

.energy-sim {
    background: rgba(0, 0, 0, 0.6);
    padding: 1.5rem;
    border-radius: 12px;
    border: 3px solid #00ffff;
    margin: 2rem 0;
}

.energy-sim label {
    display: block;
    margin: 1rem 0 0.5rem;
    color: #00ffff;
    font-weight: bold;
}

.energy-sim input[type="number"], .energy-sim input[type="range"] {
    width: 100%;
    padding: 0.6rem;
    background: transparent;
    border: 2px solid #00ffff;
    color: #00ffff;
    border-radius: 8px;
}

.energy-sim button {
    margin-top: 1rem;
    padding: 0.8rem;
    background: transparent;
    border: 2px solid #ff00ff;
    color: #ff00ff;
    cursor: pointer;
}

.sim-result {
    padding: 1.5rem;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
    color: #00ffcc;
    text-align: center;
    min-height: 5rem;
    margin-top: 1rem;
}

.quiz-container {
    background: rgba(0, 0, 0, 0.6);
    padding: 1.5rem;
    border-radius: 12px;
    border: 2px solid #00ffff;
}

.quiz-question {
    margin: 1.5rem 0;
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.05);
    border-radius: 10px;
}

.quiz-question button {
    margin: 0.4rem;
    padding: 0.6rem 1.2rem;
    background: transparent;
    border: 2px solid #ff00ff;
    color: #ff00ff;
    border-radius: 8px;
    cursor: pointer;
}

.score-display {
    font-size: 1.3em;
    color: #00ff00;
    text-align: center;
    margin-top: 1.5rem;
}

.errors-interactive .error-item {
    margin: 1.2rem 0;
    padding: 1.2rem;
    background: rgba(255, 23, 68, 0.1);
    border-left: 5px solid #ff1744;
    border-radius: 10px;
}

.error-explain {
    display: none;
    margin-top: 0.8rem;
    padding: 0.8rem;
    background: rgba(255, 23, 68, 0.2);
    border-radius: 8px;
    font-style: italic;
}

.exam-problems li {
    margin: 1.5rem 0;
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
    border-left: 4px solid #00ffff;
}

.reflection-list li {
    margin: 1.2rem 0;
    padding: 1.2rem;
    background: rgba(255, 0, 255, 0.1);
    border-left: 5px solid #ff00ff;
    border-radius: 10px;
}

.neon-quote {
    border-left: 8px solid #00ffff;
    padding: 2rem;
    font-style: italic;
    color: #00ffff;
    background: rgba(0, 0, 0, 0.6);
    margin: 2.5rem 0;
    text-shadow: 0 0 15px #00ffff;
    font-size: 1.3em;
}

/* Responsividad */
@media (max-width: 768px) {
    .neon-title { font-size: 1.8em; }
    .quiz-question button { display: block; width: 100%; margin: 0.5rem 0; }
}
/* Estilo Cyberpunk-Ne칩n Sobrio - Huella de Carbono */
.neon-title {
    color: #00ffff;
    text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff;
    font-family: 'Courier New', monospace;
    animation: neon-pulse 4s infinite alternate;
}

@keyframes neon-pulse {
    from { text-shadow: 0 0 10px #00ffff; }
    to { text-shadow: 0 0 20px #00ffff, 0 0 30px #00ffff; }
}

.intro, .conclusion {
    background: rgba(0, 255, 255, 0.1);
    border-left: 6px solid #00ffff;
    padding: 1.5rem;
    border-radius: 12px;
    font-size: 1.1em;
}

.divider-neon {
    border: none;
    height: 4px;
    background: linear-gradient(to right, transparent, #00ffff, transparent);
    margin: 2.5rem 0;
    box-shadow: 0 0 15px #00ffff;
}

.section-title {
    color: #ff00ff;
    text-shadow: 0 0 12px #ff00ff;
    border-bottom: 3px solid #00ffff;
    padding-bottom: 0.75rem;
}

.subsection-title {
    color: #00bcd4;
    margin-top: 2rem;
    font-size: 1.4em;
}

.formula-neon {
    background: rgba(0, 0, 0, 0.7);
    color: #00ffff;
    padding: 1.5rem;
    border-radius: 12px;
    text-align: center;
    border: 2px solid #00ffff;
    box-shadow: 0 0 25px rgba(0, 255, 255, 0.4);
    margin: 1.5rem 0;
}

.neon-table {
    width: 100%;
    border-collapse: collapse;
    margin: 1.5rem 0;
    background: rgba(0, 0, 0, 0.6);
    box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
}

.neon-table th, .neon-table td {
    border: 2px solid #00ffff;
    padding: 0.8rem;
    text-align: center;
    color: #00ffff;
}

.neon-table th {
    background: rgba(0, 255, 255, 0.2);
    color: #ff00ff;
}

.concept-box {
    background: rgba(255, 0, 255, 0.15);
    border: 2px solid #ff00ff;
    padding: 1.2rem;
    border-radius: 10px;
    margin: 1.5rem 0;
}

.svg-container {
    width: 100%;
    overflow-x: auto;
    margin: 2rem 0;
}

.carbon-svg {
    width: 100%;
    max-width: 1000px;
    height: auto;
    border: 3px solid #00ffff;
    border-radius: 12px;
    box-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
    background: #000022;
    display: block;
    margin: 0 auto;
}

.carbon-sim {
    background: rgba(0, 0, 0, 0.6);
    padding: 1.5rem;
    border-radius: 12px;
    border: 3px solid #00ffff;
    margin: 2rem 0;
}

.carbon-sim label {
    display: block;
    margin: 1rem 0 0.5rem;
    color: #00ffff;
    font-weight: bold;
}

.carbon-sim select, .carbon-sim input[type="range"], .carbon-sim input[type="number"] {
    width: 100%;
    padding: 0.6rem;
    background: transparent;
    border: 2px solid #00ffff;
    color: #00ffff;
    border-radius: 8px;
}

.sim-result {
    padding: 1.5rem;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
    color: #00ffcc;
    text-align: center;
    min-height: 5rem;
    margin-top: 1rem;
}

.quiz-container {
    background: rgba(0, 0, 0, 0.6);
    padding: 1.5rem;
    border-radius: 12px;
    border: 2px solid #00ffff;
}

.quiz-question {
    margin: 1.5rem 0;
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.05);
    border-radius: 10px;
}

.quiz-question button {
    margin: 0.4rem;
    padding: 0.6rem 1.2rem;
    background: transparent;
    border: 2px solid #ff00ff;
    color: #ff00ff;
    border-radius: 8px;
    cursor: pointer;
}

.score-display {
    font-size: 1.3em;
    color: #00ff00;
    text-align: center;
    margin-top: 1.5rem;
}

.errors-interactive .error-item {
    margin: 1.2rem 0;
    padding: 1.2rem;
    background: rgba(255, 23, 68, 0.1);
    border-left: 5px solid #ff1744;
    border-radius: 10px;
}

.error-explain {
    display: none;
    margin-top: 0.8rem;
    padding: 0.8rem;
    background: rgba(255, 23, 68, 0.2);
    border-radius: 8px;
    font-style: italic;
}

.exam-problems li {
    margin: 1.5rem 0;
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
    border-left: 4px solid #00ffff;
}

.reflection-list li {
    margin: 1.2rem 0;
    padding: 1.2rem;
    background: rgba(255, 0, 255, 0.1);
    border-left: 5px solid #ff00ff;
    border-radius: 10px;
}

.neon-quote {
    border-left: 8px solid #00ffff;
    padding: 2rem;
    font-style: italic;
    color: #00ffff;
    background: rgba(0, 0, 0, 0.6);
    margin: 2.5rem 0;
    text-shadow: 0 0 15px #00ffff;
    font-size: 1.3em;
}

/* Responsividad */
@media (max-width: 768px) {
    .neon-title { font-size: 1.8em; }
    .quiz-question button { display: block; width: 100%; margin: 0.5rem 0; }
}

/* Estilo Cyberpunk-Ne칩n Sobrio - Cambio Clim치tico */
.neon-title {
    color: #00ffff;
    text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff;
    font-family: 'Courier New', monospace;
    animation: neon-pulse 4s infinite alternate;
}

@keyframes neon-pulse {
    from { text-shadow: 0 0 10px #00ffff; }
    to { text-shadow: 0 0 20px #00ffff, 0 0 30px #00ffff; }
}

.intro, .conclusion {
    background: rgba(0, 255, 255, 0.1);
    border-left: 6px solid #00ffff;
    padding: 1.5rem;
    border-radius: 12px;
    font-size: 1.1em;
}

.divider-neon {
    border: none;
    height: 4px;
    background: linear-gradient(to right, transparent, #00ffff, transparent);
    margin: 2.5rem 0;
    box-shadow: 0 0 15px #00ffff;
}

.section-title {
    color: #ff00ff;
    text-shadow: 0 0 12px #ff00ff;
    border-bottom: 3px solid #00ffff;
    padding-bottom: 0.75rem;
}

.subsection-title {
    color: #00bcd4;
    margin-top: 2rem;
    font-size: 1.4em;
}

.formula-neon {
    background: rgba(0, 0, 0, 0.7);
    color: #00ffff;
    padding: 1.5rem;
    border-radius: 12px;
    text-align: center;
    border: 2px solid #00ffff;
    box-shadow: 0 0 25px rgba(0, 255, 255, 0.4);
    margin: 1.5rem 0;
}

.neon-table {
    width: 100%;
    border-collapse: collapse;
    margin: 1.5rem 0;
    background: rgba(0, 0, 0, 0.6);
    box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
}

.neon-table th, .neon-table td {
    border: 2px solid #00ffff;
    padding: 0.8rem;
    text-align: center;
    color: #00ffff;
}

.neon-table th {
    background: rgba(0, 255, 255, 0.2);
    color: #ff00ff;
}

.concept-box {
    background: rgba(255, 0, 255, 0.15);
    border: 2px solid #ff00ff;
    padding: 1.2rem;
    border-radius: 10px;
    margin: 1.5rem 0;
}

.svg-container {
    width: 100%;
    overflow-x: auto;
    margin: 2rem 0;
}

.climate-svg {
    width: 100%;
    max-width: 1000px;
    height: auto;
    border: 3px solid #00ffff;
    border-radius: 12px;
    box-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
    background: #050510;
    display: block;
    margin: 0 auto;
}

.climate-sim {
    background: rgba(0, 0, 0, 0.6);
    padding: 1.5rem;
    border-radius: 12px;
    border: 3px solid #00ffff;
    margin: 2rem 0;
}

.climate-sim label {
    display: block;
    margin: 1rem 0 0.5rem;
    color: #00ffff;
    font-weight: bold;
}

.climate-sim input[type="range"] {
    width: 100%;
}

.sim-result {
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
    color: #00ffcc;
    text-align: left;
    min-height: 4rem;
    margin-top: 1rem;
}

.quiz-container {
    background: rgba(0, 0, 0, 0.6);
    padding: 1.5rem;
    border-radius: 12px;
    border: 2px solid #00ffff;
}

.quiz-question {
    margin: 1.5rem 0;
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.05);
    border-radius: 10px;
}

.quiz-question button {
    margin: 0.4rem;
    padding: 0.6rem 1.2rem;
    background: transparent;
    border: 2px solid #ff00ff;
    color: #ff00ff;
    border-radius: 8px;
    cursor: pointer;
}

.score-display {
    font-size: 1.3em;
    color: #00ff00;
    text-align: center;
    margin-top: 1.5rem;
}

.errors-interactive .error-item {
    margin: 1.2rem 0;
    padding: 1.2rem;
    background: rgba(255, 23, 68, 0.1);
    border-left: 5px solid #ff1744;
    border-radius: 10px;
}

.error-explain {
    display: none;
    margin-top: 0.8rem;
    padding: 0.8rem;
    background: rgba(255, 23, 68, 0.2);
    border-radius: 8px;
    font-style: italic;
}

.exam-problems li {
    margin: 1.5rem 0;
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
    border-left: 4px solid #00ffff;
}

.reflection-list li {
    margin: 1.2rem 0;
    padding: 1.2rem;
    background: rgba(255, 0, 255, 0.1);
    border-left: 5px solid #ff00ff;
    border-radius: 10px;
}

.neon-quote {
    border-left: 8px solid #00ffff;
    padding: 2rem;
    font-style: italic;
    color: #00ffff;
    background: rgba(0, 0, 0, 0.6);
    margin: 2.5rem 0;
    text-shadow: 0 0 15px #00ffff;
    font-size: 1.3em;
}

/* Responsividad */
@media (max-width: 768px) {
    .neon-title { font-size: 1.8em; }
    .quiz-question button { display: block; width: 100%; margin: 0.5rem 0; }
}
/* Estilo Cyberpunk-Ne칩n Sobrio - Variabilidad Clim치tica */
.neon-title {
    color: #00ffff;
    text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff;
    font-family: 'Courier New', monospace;
    animation: neon-pulse 4s infinite alternate;
}

@keyframes neon-pulse {
    from { text-shadow: 0 0 10px #00ffff; }
    to { text-shadow: 0 0 20px #00ffff, 0 0 30px #00ffff; }
}

.intro, .conclusion {
    background: rgba(0, 255, 255, 0.1);
    border-left: 6px solid #00ffff;
    padding: 1.5rem;
    border-radius: 12px;
    font-size: 1.1em;
}

.divider-neon {
    border: none;
    height: 4px;
    background: linear-gradient(to right, transparent, #00ffff, transparent);
    margin: 2.5rem 0;
    box-shadow: 0 0 15px #00ffff;
}

.section-title {
    color: #ff00ff;
    text-shadow: 0 0 12px #ff00ff;
    border-bottom: 3px solid #00ffff;
    padding-bottom: 0.75rem;
}

.subsection-title {
    color: #00bcd4;
    margin-top: 2rem;
    font-size: 1.4em;
}

.formula-neon {
    background: rgba(0, 0, 0, 0.7);
    color: #00ffff;
    padding: 1.5rem;
    border-radius: 12px;
    text-align: center;
    border: 2px solid #00ffff;
    box-shadow: 0 0 25px rgba(0, 255, 255, 0.4);
    margin: 1.5rem 0;
}

.neon-table {
    width: 100%;
    border-collapse: collapse;
    margin: 1.5rem 0;
    background: rgba(0, 0, 0, 0.6);
    box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
}

.neon-table th, .neon-table td {
    border: 2px solid #00ffff;
    padding: 0.8rem;
    text-align: center;
    color: #00ffff;
}

.neon-table th {
    background: rgba(0, 255, 255, 0.2);
    color: #ff00ff;
}

.concept-box {
    background: rgba(255, 0, 255, 0.15);
    border: 2px solid #ff00ff;
    padding: 1.2rem;
    border-radius: 10px;
    margin: 1.5rem 0;
}

.svg-container {
    width: 100%;
    overflow-x: auto;
    margin: 2rem 0;
}

.variability-svg {
    width: 100%;
    max-width: 800px;
    height: auto;
    border: 3px solid #00ffff;
    border-radius: 12px;
    box-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
    background: #001a33;
    display: block;
    margin: 0 auto;
}

.variability-sim {
    background: rgba(0, 0, 0, 0.6);
    padding: 1.5rem;
    border-radius: 12px;
    border: 3px solid #00ffff;
    margin: 2rem 0;
}

.variability-sim label {
    display: block;
    margin: 1rem 0 0.5rem;
    color: #00ffff;
    font-weight: bold;
}

.variability-sim select, .variability-sim input[type="range"] {
    width: 100%;
    padding: 0.6rem;
    background: transparent;
    border: 2px solid #00ffff;
    color: #00ffff;
    border-radius: 8px;
}

.sim-result {
    padding: 1.5rem;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
    color: #00ffcc;
    text-align: center;
    min-height: 5rem;
    margin-top: 1rem;
}

.quiz-container {
    background: rgba(0, 0, 0, 0.6);
    padding: 1.5rem;
    border-radius: 12px;
    border: 2px solid #00ffff;
}

.quiz-question {
    margin: 1.5rem 0;
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.05);
    border-radius: 10px;
}

.quiz-question button {
    margin: 0.4rem;
    padding: 0.6rem 1.2rem;
    background: transparent;
    border: 2px solid #ff00ff;
    color: #ff00ff;
    border-radius: 8px;
    cursor: pointer;
}

.score-display {
    font-size: 1.3em;
    color: #00ff00;
    text-align: center;
    margin-top: 1.5rem;
}

.errors-interactive .error-item {
    margin: 1.2rem 0;
    padding: 1.2rem;
    background: rgba(255, 23, 68, 0.1);
    border-left: 5px solid #ff1744;
    border-radius: 10px;
}

.error-explain {
    display: none;
    margin-top: 0.8rem;
    padding: 0.8rem;
    background: rgba(255, 23, 68, 0.2);
    border-radius: 8px;
    font-style: italic;
}

.exam-problems li {
    margin: 1.5rem 0;
    padding: 1.2rem;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
    border-left: 4px solid #00ffff;
}

.reflection-list li {
    margin: 1.2rem 0;
    padding: 1.2rem;
    background: rgba(255, 0, 255, 0.1);
    border-left: 5px solid #ff00ff;
    border-radius: 10px;
}

.neon-quote {
    border-left: 8px solid #00ffff;
    padding: 2rem;
    font-style: italic;
    color: #00ffff;
    background: rgba(0, 0, 0, 0.6);
    margin: 2.5rem 0;
    text-shadow: 0 0 15px #00ffff;
    font-size: 1.3em;
}

/* Responsividad */
@media (max-width: 768px) {
    .neon-title { font-size: 1.8em; }
    .quiz-question button { display: block; width: 100%; margin: 0.5rem 0; }
}
/* Estilo Cyberpunk-Ne칩n Sobrio M칈NIMO - Compatible con todas las lecciones */
.neon-title {
    color: #00ffff;
    text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff;
    font-family: 'Courier New', monospace;
    animation: neon-pulse 4s infinite alternate;
}

@keyframes neon-pulse {
    from { text-shadow: 0 0 10px #00ffff; }
    to { text-shadow: 0 0 20px #00ffff, 0 0 30px #00ffff; }
}

.intro, .conclusion {
    background: rgba(0, 255, 255, 0.1);
    border-left: 6px solid #00ffff;
    padding: 1.5rem;
    border-radius: 12px;
    font-size: 1.1em;
}

.divider-neon {
    border: none;
    height: 4px;
    background: linear-gradient(to right, transparent, #00ffff, transparent);
    margin: 2.5rem 0;
    box-shadow: 0 0 15px #00ffff;
}

.section-title {
    color: #ff00ff;
    text-shadow: 0 0 12px #ff00ff;
    border-bottom: 3px solid #00ffff;
    padding-bottom: .75rem;
}

.subsection-title {
    color: #00bcd4;
    margin-top: 2rem;
    font-size: 1.4em;
}

.formula-neon {
    background: rgba(0,0,0,.7);
    color: #00ffff;
    padding: 1.5rem;
    border: 2px solid #00ffff;
    border-radius: 12px;
    text-align: center;
    box-shadow: 0 0 25px rgba(0,255,255,.4);
    margin: 1.5rem 0;
}

.neon-table {
    width: 100%;
    border-collapse: collapse;
    margin: 1.5rem 0;
    background: rgba(0,0,0,.6);
    box-shadow: 0 0 20px rgba(0,255,255,.3);
}

.neon-table th,.neon-table td {
    border: 2px solid #00ffff;
    padding: .8rem;
    text-align: center;
    color: #00ffff;
}

.neon-table th {
    background: rgba(0,255,255,.2);
    color: #ff00ff;
}

.concept-box {
    background: rgba(255,0,255,.15);
    border: 2px solid #ff00ff;
    padding: 1.2rem;
    border-radius: 10px;
    margin: 1.5rem 0;
}

.svg-container {
    width: 100%;
    overflow-x: auto;
    margin: 2rem 0;
}

.svg-container svg {
    width: 100%;
    max-width: 100%;
    height: auto;
    border: 3px solid #00ffff;
    border-radius: 12px;
    box-shadow: 0 0 30px rgba(0,255,255,.5);
    display: block;
    margin: 0 auto;
}

.sim-container {
    background: rgba(0,0,0,.6);
    padding: 1.5rem;
    border: 3px solid #00ffff;
    border-radius: 12px;
    margin: 2rem 0;
}

.sim-container label {
    display: block;
    margin: 1rem 0 .5rem;
    color: #00ffff;
    font-weight: bold;
}

.sim-container select,
.sim-container input[type="range"],
.sim-container input[type="number"] {
    width: 100%;
    padding: .6rem;
    background: transparent;
    border: 2px solid #00ffff;
    color: #00ffff;
    border-radius: 8px;
}

.sim-result {
    padding: 1.5rem;
    background: rgba(0,255,255,.1);
    border-radius: 10px;
    color: #00ffcc;
    text-align: center;
    min-height: 5rem;
    margin-top: 1rem;
}

.quiz-container {
    background: rgba(0,0,0,.6);
    padding: 1.5rem;
    border: 2px solid #00ffff;
    border-radius: 12px;
}

.quiz-question {
    margin: 1.5rem 0;
    padding: 1.2rem;
    background: rgba(0,255,255,.05);
    border-radius: 10px;
}

.quiz-question button {
    margin: .4rem;
    padding: .6rem 1.2rem;
    background: transparent;
    border: 2px solid #ff00ff;
    color: #ff00ff;
    border-radius: 8px;
    cursor: pointer;
}

.score-display {
    font-size: 1.3em;
    color: #00ff00;
    text-align: center;
    margin-top: 1.5rem;
}

.errors-interactive .error-item {
    margin: 1.2rem 0;
    padding: 1.2rem;
    background: rgba(255,23,68,.1);
    border-left: 5px solid #ff1744;
    border-radius: 10px;
}

.error-explain {
    display: none;
    margin-top: .8rem;
    padding: .8rem;
    background: rgba(255,23,68,.2);
    border-radius: 8px;
    font-style: italic;
}

.exam-problems li {
    margin: 1.5rem 0;
    padding: 1.2rem;
    background: rgba(0,255,255,.1);
    border-left: 4px solid #00ffff;
    border-radius: 10px;
}

.reflection-list li {
    margin: 1.2rem 0;
    padding: 1.2rem;
    background: rgba(255,0,255,.1);
    border-left: 5px solid #ff00ff;
    border-radius: 10px;
}

.neon-quote {
    border-left: 8px solid #00ffff;
    padding: 2rem;
    font-style: italic;
    color: #00ffff;
    background: rgba(0,0,0,.6);
    margin: 2.5rem 0;
    text-shadow: 0 0 15px #00ffff;
    font-size: 1.3em;
}

/* Responsividad m칤nima */
@media (max-width:768px) {
    .neon-title { font-size:1.8em; }
    .quiz-question button { display:block; width:100%; margin:.5rem 0; }
}

/* Estilo Cyberpunk-Ne칩n SUPER COMPACTO - M치xima reducci칩n sin perder esencia */
/* Ideal para pantallas peque침as y evitar overflow */

.neon-title {
    color: #00ffff;
    text-shadow: 0 0 6px #00ffff;
    font-family: 'Courier New', monospace;
    font-size: 1.8rem;
    margin: .8rem 0;
    animation: neon-pulse 4s infinite alternate;
}

@keyframes neon-pulse {
    from { text-shadow: 0 0 6px #00ffff; }
    to { text-shadow: 0 0 12px #00ffff; }
}

.intro, .conclusion {
    background: rgba(0,255,255,.06);
    border-left: 3px solid #00ffff;
    padding: .8rem;
    border-radius: 6px;
    font-size: .95rem;
    margin: .8rem 0;
}

.divider-neon {
    height: 2px;
    background: linear-gradient(to right, transparent, #00ffff, transparent);
    margin: 1.2rem 0;
    box-shadow: 0 0 8px #00ffff;
}

.section-title {
    color: #ff00ff;
    text-shadow: 0 0 6px #ff00ff;
    font-size: 1.4rem;
    border-bottom: 2px solid #00ffff;
    padding-bottom: .4rem;
    margin-top: 1.5rem;
}

.subsection-title {
    color: #00bcd4;
    font-size: 1.2rem;
    margin-top: 1.2rem;
}

.formula-neon {
    background: rgba(0,0,0,.7);
    color: #00ffff;
    padding: .8rem;
    border: 1px solid #00ffff;
    border-radius: 6px;
    text-align: center;
    box-shadow: 0 0 10px rgba(0,255,255,.2);
    margin: .8rem 0;
    font-size: .95rem;
}

.neon-table {
    width: 100%;
    border-collapse: collapse;
    margin: .8rem 0;
    background: rgba(0,0,0,.4);
    font-size: .85rem;
}

.neon-table th, .neon-table td {
    border: 1px solid #00ffff;
    padding: .4rem;
    text-align: center;
    color: #00ffff;
}

.neon-table th {
    background: rgba(0,255,255,.1);
    color: #ff00ff;
}

.concept-box {
    background: rgba(255,0,255,.08);
    border: 1px solid #ff00ff;
    padding: .6rem;
    border-radius: 6px;
    margin: .8rem 0;
    font-size: .9rem;
}

.svg-container {
    width: 100%;
    overflow-x: auto;
    margin: .8rem 0;
}

.svg-container svg {
    width: 100%;
    max-width: 100%;
    height: auto;
    border: 1px solid #00ffff;
    border-radius: 6px;
    box-shadow: 0 0 10px rgba(0,255,255,.2);
    display: block;
    margin: 0 auto;
}

.sim-container {
    background: rgba(0,0,0,.4);
    padding: .8rem;
    border: 1px solid #00ffff;
    border-radius: 6px;
    margin: 1rem 0;
    font-size: .9rem;
}

.sim-container label {
    margin: .6rem 0 .3rem;
    color: #00ffff;
}

.sim-container select,
.sim-container input[type="range"],
.sim-container input[type="number"] {
    padding: .4rem;
    border: 1px solid #00ffff;
    border-radius: 4px;
    background: transparent;
    color: #00ffff;
}

.sim-result {
    padding: .8rem;
    background: rgba(0,255,255,.06);
    border-radius: 6px;
    color: #00ffcc;
    text-align: center;
    min-height: 3rem;
    margin-top: .6rem;
    font-size: .9rem;
}

.quiz-container {
    background: rgba(0,0,0,.4);
    padding: .8rem;
    border: 1px solid #00ffff;
    border-radius: 6px;
}

.quiz-question {
    margin: .8rem 0;
    padding: .6rem;
    background: rgba(0,255,255,.04);
    border-radius: 6px;
}

.quiz-question button {
    margin: .3rem;
    padding: .4rem .8rem;
    border: 1px solid #ff00ff;
    color: #ff00ff;
    border-radius: 4px;
    font-size: .85rem;
}

.score-display {
    font-size: 1.1em;
    color: #00ff00;
    text-align: center;
    margin-top: .8rem;
}

.errors-interactive .error-item {
    margin: .6rem 0;
    padding: .6rem;
    background: rgba(255,23,68,.08);
    border-left: 3px solid #ff1744;
    border-radius: 6px;
}

.error-explain {
    display: none;
    margin-top: .4rem;
    padding: .5rem;
    background: rgba(255,23,68,.12);
    border-radius: 4px;
    font-size: .85rem;
}

.exam-problems li, .reflection-list li {
    margin: .6rem 0;
    padding: .6rem;
    background: rgba(0,255,255,.06);
    border-left: 3px solid #00ffff;
    border-radius: 6px;
    font-size: .9rem;
}

.neon-quote {
    border-left: 5px solid #00ffff;
    padding: 1.2rem;
    color: #00ffff;
    background: rgba(0,0,0,.4);
    margin: 1.2rem 0;
    text-shadow: 0 0 8px #00ffff;
    font-size: 1em;
}

/* Responsividad agresiva */
@media (max-width: 768px) {
    .neon-title { font-size: 1.5rem; }
    .section-title { font-size: 1.3rem; }
    .subsection-title { font-size: 1.1rem; }
    .intro, .conclusion, .concept-box, .sim-result, .exam-problems li, .reflection-list li { font-size: .85rem; padding: .6rem; }
    .neon-table { font-size: .75rem; }
    .neon-table th, .neon-table td { padding: .3rem; }
    .quiz-question button { display: block; width: 100%; margin: .3rem 0; font-size: .8rem; }
}

/* Estilo Cyberpunk-Ne칩n M츼XIMO COMPACTO - Para pantallas peque침as y layout apretado */
/* Todo reducido al m칤nimo legible, sin m치rgenes excesivos */

.neon-title {
    color: #00ffff;
    text-shadow: 0 0 5px #00ffff;
    font-family: 'Courier New', monospace;
    font-size: 1.5rem;
    margin: .5rem 0;
    animation: neon-pulse 4s infinite alternate;
}

@keyframes neon-pulse {
    from { text-shadow: 0 0 5px #00ffff; }
    to { text-shadow: 0 0 10px #00ffff; }
}

.intro, .conclusion {
    background: rgba(0,255,255,.05);
    border-left: 2px solid #00ffff;
    padding: .6rem;
    border-radius: 4px;
    font-size: .9rem;
    margin: .6rem 0;
}

.divider-neon {
    height: 1px;
    background: #00ffff;
    margin: 1rem 0;
    opacity: .6;
}

.section-title {
    color: #ff00ff;
    text-shadow: 0 0 5px #ff00ff;
    font-size: 1.3rem;
    border-bottom: 1px solid #00ffff;
    padding-bottom: .3rem;
    margin-top: 1.2rem;
}

.subsection-title {
    color: #00bcd4;
    font-size: 1.1rem;
    margin-top: 1rem;
}

.formula-neon {
    background: rgba(0,0,0,.6);
    color: #00ffff;
    padding: .6rem;
    border: 1px solid #00ffff;
    border-radius: 4px;
    text-align: center;
    margin: .6rem 0;
    font-size: .9rem;
}

.neon-table {
    width: 100%;
    border-collapse: collapse;
    margin: .6rem 0;
    background: rgba(0,0,0,.3);
    font-size: .8rem;
}

.neon-table th, .neon-table td {
    border: 1px solid #00ffff;
    padding: .3rem;
    text-align: center;
    color: #00ffff;
}

.neon-table th {
    background: rgba(0,255,255,.08);
    color: #ff00ff;
}

.concept-box {
    background: rgba(255,0,255,.05);
    border: 1px solid #ff00ff;
    padding: .5rem;
    border-radius: 4px;
    margin: .6rem 0;
    font-size: .85rem;
}

.svg-container {
    width: 100%;
    overflow-x: auto;
    margin: .6rem 0;
}

.svg-container svg {
    width: 100%;
    max-width: 100%;
    height: auto;
    border: 1px solid #00ffff;
    border-radius: 4px;
    display: block;
    margin: 0 auto;
}

.sim-container {
    background: rgba(0,0,0,.3);
    padding: .6rem;
    border: 1px solid #00ffff;
    border-radius: 4px;
    margin: .8rem 0;
    font-size: .85rem;
}

.sim-container label {
    margin: .5rem 0 .2rem;
    color: #00ffff;
    font-size: .9rem;
}

.sim-container select,
.sim-container input[type="range"],
.sim-container input[type="number"] {
    padding: .3rem;
    border: 1px solid #00ffff;
    border-radius: 4px;
    background: transparent;
    color: #00ffff;
    font-size: .9rem;
}

.sim-result {
    padding: .6rem;
    background: rgba(0,255,255,.05);
    border-radius: 4px;
    color: #00ffcc;
    text-align: center;
    min-height: 2.5rem;
    margin-top: .5rem;
    font-size: .85rem;
}

.quiz-container {
    background: rgba(0,0,0,.3);
    padding: .6rem;
    border: 1px solid #00ffff;
    border-radius: 4px;
}

.quiz-question {
    margin: .6rem 0;
    padding: .5rem;
    background: rgba(0,255,255,.03);
    border-radius: 4px;
}

.quiz-question button {
    margin: .2rem;
    padding: .3rem .6rem;
    border: 1px solid #ff00ff;
    color: #ff00ff;
    border-radius: 4px;
    font-size: .8rem;
}

.score-display {
    font-size: 1em;
    color: #00ff00;
    text-align: center;
    margin-top: .6rem;
}

.errors-interactive .error-item {
    margin: .5rem 0;
    padding: .5rem;
    background: rgba(255,23,68,.05);
    border-left: 2px solid #ff1744;
    border-radius: 4px;
    font-size: .85rem;
}

.error-explain {
    display: none;
    margin-top: .3rem;
    padding: .4rem;
    background: rgba(255,23,68,.1);
    border-radius: 4px;
    font-size: .8rem;
}

.exam-problems li, .reflection-list li {
    margin: .5rem 0;
    padding: .5rem;
    background: rgba(0,255,255,.05);
    border-left: 2px solid #00ffff;
    border-radius: 4px;
    font-size: .85rem;
}

.neon-quote {
    border-left: 4px solid #00ffff;
    padding: 1rem;
    color: #00ffff;
    background: rgba(0,0,0,.3);
    margin: 1rem 0;
    text-shadow: 0 0 6px #00ffff;
    font-size: .95rem;
}

/* Responsividad extrema */
@media (max-width: 768px) {
    .neon-title { font-size: 1.3rem; }
    .section-title { font-size: 1.2rem; }
    .subsection-title { font-size: 1rem; }
    .intro, .conclusion, .concept-box, .sim-result, .exam-problems li, .reflection-list li { font-size: .8rem; padding: .5rem; }
    .neon-table { font-size: .7rem; }
    .neon-table th, .neon-table td { padding: .2rem; }
    .quiz-question button { display: block; width: 100%; margin: .2rem 0; font-size: .75rem; }
}

/* Estilo Cyberpunk-Ne칩n SUPER COMPACTO - Huella Ecol칩gica */
.neon-title {
    color: #00ffff;
    text-shadow: 0 0 5px #00ffff;
    font-family: 'Courier New', monospace;
    font-size: 1.5rem;
    margin: .5rem 0;
    animation: neon-pulse 4s infinite alternate;
}

@keyframes neon-pulse {
    from { text-shadow: 0 0 5px #00ffff; }
    to { text-shadow: 0 0 10px #00ffff; }
}

.intro, .conclusion {
    background: rgba(0,255,255,.05);
    border-left: 2px solid #00ffff;
    padding: .6rem;
    border-radius: 4px;
    font-size: .9rem;
    margin: .6rem 0;
}

.divider-neon {
    height: 1px;
    background: #00ffff;
    margin: 1rem 0;
    opacity: .6;
}

.section-title {
    color: #ff00ff;
    text-shadow: 0 0 5px #ff00ff;
    font-size: 1.3rem;
    border-bottom: 1px solid #00ffff;
    padding-bottom: .3rem;
    margin-top: 1.2rem;
}

.subsection-title {
    color: #00bcd4;
    font-size: 1.1rem;
    margin-top: 1rem;
}

.formula-neon {
    background: rgba(0,0,0,.6);
    color: #00ffff;
    padding: .6rem;
    border: 1px solid #00ffff;
    border-radius: 4px;
    text-align: center;
    margin: .6rem 0;
    font-size: .9rem;
}

.neon-table {
    width: 100%;
    border-collapse: collapse;
    margin: .6rem 0;
    background: rgba(0,0,0,.3);
    font-size: .8rem;
}

.neon-table th, .neon-table td {
    border: 1px solid #00ffff;
    padding: .3rem;
    text-align: center;
    color: #00ffff;
}

.neon-table th {
    background: rgba(0,255,255,.08);
    color: #ff00ff;
}

.concept-box {
    background: rgba(255,0,255,.05);
    border: 1px solid #ff00ff;
    padding: .5rem;
    border-radius: 4px;
    margin: .6rem 0;
    font-size: .85rem;
}

.svg-container {
    width: 100%;
    overflow-x: auto;
    margin: .6rem 0;
}

.footprint-svg {
    width: 100%;
    max-width: 100%;
    height: auto;
    border: 1px solid #00ffff;
    border-radius: 4px;
    display: block;
    margin: 0 auto;
}

.footprint-sim {
    background: rgba(0,0,0,.3);
    padding: .6rem;
    border: 1px solid #00ffff;
    border-radius: 4px;
    margin: .8rem 0;
    font-size: .85rem;
}

.footprint-sim label {
    margin: .5rem 0 .2rem;
    color: #00ffff;
    font-size: .9rem;
}

.footprint-sim select,
.footprint-sim input[type="range"] {
    padding: .3rem;
    border: 1px solid #00ffff;
    border-radius: 4px;
    background: transparent;
    color: #00ffff;
    font-size: .9rem;
}

.sim-result {
    padding: .6rem;
    background: rgba(0,255,255,.05);
    border-radius: 4px;
    color: #00ffcc;
    text-align: center;
    min-height: 2.5rem;
    margin-top: .5rem;
    font-size: .85rem;
}

.quiz-container {
    background: rgba(0,0,0,.3);
    padding: .6rem;
    border: 1px solid #00ffff;
    border-radius: 4px;
}

.quiz-question {
    margin: .6rem 0;
    padding: .5rem;
    background: rgba(0,255,255,.03);
    border-radius: 4px;
}

.quiz-question button {
    margin: .2rem;
    padding: .3rem .6rem;
    border: 1px solid #ff00ff;
    color: #ff00ff;
    border-radius: 4px;
    font-size: .8rem;
}

.score-display {
    font-size: 1em;
    color: #00ff00;
    text-align: center;
    margin-top: .6rem;
}

.errors-interactive .error-item {
    margin: .5rem 0;
    padding: .5rem;
    background: rgba(255,23,68,.05);
    border-left: 2px solid #ff1744;
    border-radius: 4px;
    font-size: .85rem;
}

.error-explain {
    display: none;
    margin-top: .3rem;
    padding: .4rem;
    background: rgba(255,23,68,.1);
    border-radius: 4px;
    font-size: .8rem;
}

.exam-problems li, .reflection-list li {
    margin: .5rem 0;
    padding: .5rem;
    background: rgba(0,255,255,.05);
    border-left: 2px solid #00ffff;
    border-radius: 4px;
    font-size: .85rem;
}

.neon-quote {
    border-left: 4px solid #00ffff;
    padding: 1rem;
    color: #00ffff;
    background: rgba(0,0,0,.3);
    margin: 1rem 0;
    text-shadow: 0 0 6px #00ffff;
    font-size: .95rem;
}

/* Responsividad extrema */
@media (max-width:768px) {
    .neon-title { font-size:1.3rem; }
    .section-title { font-size:1.2rem; }
    .subsection-title { font-size:1rem; }
    .intro,.conclusion,.concept-box,.sim-result,.exam-problems li,.reflection-list li { font-size:.8rem; padding:.5rem; }
    .neon-table { font-size:.7rem; }
    .neon-table th,.neon-table td { padding:.2rem; }
    .quiz-question button { display:block; width:100%; margin:.2rem 0; font-size:.75rem; }
}

/* Estilo Cyberpunk-Ne칩n SUPER COMPACTO - Flecha Dorada */
.neon-title {
    color: #00ffff;
    text-shadow: 0 0 5px #00ffff;
    font-family: 'Courier New', monospace;
    font-size: 1.5rem;
    margin: .5rem 0;
    animation: neon-pulse 4s infinite alternate;
}

@keyframes neon-pulse {
    from { text-shadow: 0 0 5px #00ffff; }
    to { text-shadow: 0 0 10px #00ffff; }
}

.intro, .conclusion {
    background: rgba(0,255,255,.05);
    border-left: 2px solid #00ffff;
    padding: .6rem;
    border-radius: 4px;
    font-size: .9rem;
    margin: .6rem 0;
}

.divider-neon {
    height: 1px;
    background: #00ffff;
    margin: 1rem 0;
    opacity: .6;
}

.section-title {
    color: #ff00ff;
    text-shadow: 0 0 5px #ff00ff;
    font-size: 1.3rem;
    border-bottom: 1px solid #00ffff;
    padding-bottom: .3rem;
    margin-top: 1.2rem;
}

.subsection-title {
    color: #00bcd4;
    font-size: 1.1rem;
    margin-top: 1rem;
}

.formula-neon {
    background: rgba(0,0,0,.6);
    color: #00ffff;
    padding: .6rem;
    border: 1px solid #00ffff;
    border-radius: 4px;
    text-align: center;
    margin: .6rem 0;
    font-size: .9rem;
}

.neon-table {
    width: 100%;
    border-collapse: collapse;
    margin: .6rem 0;
    background: rgba(0,0,0,.3);
    font-size: .8rem;
}

.neon-table th, .neon-table td {
    border: 1px solid #00ffff;
    padding: .3rem;
    text-align: center;
    color: #00ffff;
}

.neon-table th {
    background: rgba(0,255,255,.08);
    color: #ff00ff;
}

.concept-box {
    background: rgba(255,0,255,.05);
    border: 1px solid #ff00ff;
    padding: .5rem;
    border-radius: 4px;
    margin: .6rem 0;
    font-size: .85rem;
}

.svg-container {
    width: 100%;
    overflow-x: auto;
    margin: .6rem 0;
}

.golden-svg {
    width: 100%;
    max-width: 100%;
    height: auto;
    border: 1px solid #00ffff;
    border-radius: 4px;
    display: block;
    margin: 0 auto;
}

.golden-sim {
    background: rgba(0,0,0,.3);
    padding: .6rem;
    border: 1px solid #00ffff;
    border-radius: 4px;
    margin: .8rem 0;
    font-size: .85rem;
}

.golden-sim label {
    margin: .5rem 0 .2rem;
    color: #00ffff;
    font-size: .9rem;
}

.golden-sim button {
    margin: .3rem;
    padding: .4rem .8rem;
    border: 1px solid #ffcc00;
    background: transparent;
    color: #ffcc00;
    border-radius: 4px;
    cursor: pointer;
}

.sim-result {
    padding: .6rem;
    background: rgba(0,255,255,.05);
    border-radius: 4px;
    color: #00ffcc;
    text-align: center;
    min-height: 2.5rem;
    margin-top: .5rem;
    font-size: .85rem;
}

.quiz-container {
    background: rgba(0,0,0,.3);
    padding: .6rem;
    border: 1px solid #00ffff;
    border-radius: 4px;
}

.quiz-question {
    margin: .6rem 0;
    padding: .5rem;
    background: rgba(0,255,255,.03);
    border-radius: 4px;
}

.quiz-question button {
    margin: .2rem;
    padding: .3rem .6rem;
    border: 1px solid #ff00ff;
    color: #ff00ff;
    border-radius: 4px;
    font-size: .8rem;
}

.score-display {
    font-size: 1em;
    color: #00ff00;
    text-align: center;
    margin-top: .6rem;
}

.errors-interactive .error-item {
    margin: .5rem 0;
    padding: .5rem;
    background: rgba(255,23,68,.05);
    border-left: 2px solid #ff1744;
    border-radius: 4px;
    font-size: .85rem;
}

.error-explain {
    display: none;
    margin-top: .3rem;
    padding: .4rem;
    background: rgba(255,23,68,.1);
    border-radius: 4px;
    font-size: .8rem;
}

.exam-problems li, .reflection-list li {
    margin: .5rem 0;
    padding: .5rem;
    background: rgba(0,255,255,.05);
    border-left: 2px solid #00ffff;
    border-radius: 4px;
    font-size: .85rem;
}

.neon-quote {
    border-left: 4px solid #00ffff;
    padding: 1rem;
    color: #00ffff;
    background: rgba(0,0,0,.3);
    margin: 1rem 0;
    text-shadow: 0 0 6px #00ffff;
    font-size: .95rem;
}

/* Responsividad extrema */
@media (max-width:768px) {
    .neon-title { font-size:1.3rem; }
    .section-title { font-size:1.2rem; }
    .subsection-title { font-size:1rem; }
    .intro,.conclusion,.concept-box,.sim-result,.exam-problems li,.reflection-list li { font-size:.8rem; padding:.5rem; }
    .neon-table { font-size:.7rem; }
    .neon-table th,.neon-table td { padding:.2rem; }
    .quiz-question button { display:block; width:100%; margin:.2rem 0; font-size:.75rem; }
}
/* CSS 칔NICO PARA LA LECCI칍N: obsolescencia-percibida-master */
/* Prop칩sito: Estilo tem치tico cyberpunk/neon para enfatizar el consumismo moderno y su impacto ambiental. Colores vibrantes para resaltar conceptos clave, fondos oscuros para legibilidad en temas ecol칩gicos. No colisiona con estilos globales al usar clases espec칤ficas con prefijo 'opm-'. */

.opm-lesson-carbon { background-color: #121212; color: #e0e0e0; font-family: 'Arial', sans-serif; padding: 20px; border-radius: 10px; }
.opm-text-neon-pink { color: #ff1493; text-shadow: 0 0 5px #ff1493, 0 0 10px #ff1493; font-weight: bold; }
.opm-text-magenta { color: #ff00ff; }
.opm-text-cyan { color: #00ffff; }
.opm-text-yellow { color: #ffff00; }
.opm-text-neon-red { color: #ff4500; text-shadow: 0 0 5px #ff4500; }
.opm-text-neon-blue { color: #00bfff; text-shadow: 0 0 5px #00bfff; }
.opm-text-neon-yellow { color: #ffd700; text-shadow: 0 0 5px #ffd700; }
.opm-text-neon-green { color: #32cd32; text-shadow: 0 0 5px #32cd32; }
.opm-text-green { color: #00ff00; }
.opm-alert-carbon { background-color: #1e1e1e; border: 2px solid #ff00ff; padding: 15px; border-radius: 8px; }
.opm-border-pink { border-color: #ff1493; }
.opm-eq-box { background-color: #282828; border: 1px solid #444; padding: 10px; text-align: center; border-radius: 5px; }
.opm-section-title { font-size: 1.8rem; margin-bottom: 20px; }
.opm-stats-box { background-color: #0a0a0a; border-left: 5px solid #ff00ff; padding: 15px; border-radius: 5px; }
.opm-border-left-magenta { border-left-color: #ff00ff; }
.opm-counter-card { background-color: #1f1f1f; padding: 10px; border-radius: 10px; border: 1px solid #333; }
.opm-svg-container { width: 100%; max-width: 800px; margin: 0 auto; padding: 20px; }
.opm-interactive-block { background-color: #181818; border: 2px solid #00ffff; padding: 20px; border-radius: 10px; }
.opm-border-cyan { border-color: #00ffff; }
.opm-btn-outline-danger { border: 1px solid #dc3545; color: #dc3545; background: transparent; padding: 10px; cursor: pointer; }
.opm-btn-outline-danger:hover { background: #dc3545; color: #fff; }
.opm-btn-outline-success { border: 1px solid #28a745; color: #28a745; background: transparent; padding: 10px; cursor: pointer; }
.opm-btn-outline-success:hover { background: #28a745; color: #fff; }
.opm-bg-black { background-color: #000; }
.opm-border-dashed-orange { border: 2px dashed #ffa500; }
.opm-table-dark { background-color: #212121; color: #fff; }
.opm-table-hover tr:hover { background-color: #333; }
.opm-border-magenta { border: 2px solid #ff00ff; }
.opm-btn-quiz-obs { border: 1px solid #ff00ff; color: #ff00ff; background: transparent; padding: 10px; cursor: pointer; }
.opm-btn-quiz-obs:hover { background: #ff00ff; color: #000; }
.opm-alert-success { background-color: #28a745; color: #fff; padding: 10px; border-radius: 5px; }
.opm-alert-danger { background-color: #dc3545; color: #fff; padding: 10px; border-radius: 5px; }
.opm-errors-list { list-style-type: none; padding: 0; }
.opm-errors-list li { margin-bottom: 10px; cursor: pointer; padding: 10px; background: #1e1e1e; border-radius: 5px; }
.opm-errors-list li:hover { background: #282828; }
.opm-exam-problem { background-color: #1e1e1e; padding: 15px; border-left: 5px solid #ffff00; margin-bottom: 20px; border-radius: 5px; }
.opm-reflection { font-style: italic; color: #ccc; }

/* CSS 칔NICO PARA LA LECCI칍N: obsolescencia-programada-master */
/* Prop칩sito: Estilo tem치tico cyberpunk/orange-neon para resaltar la "ingenier칤a del desperdicio" y 칠tica del dise침o. Colores c치lidos (naranja, amarillo) para contraste con fondos oscuros, enfatizando alerta y cr칤tica. Prefijo 'opp-' para evitar colisiones. */

.opp-lesson-carbon { background-color: #121212; color: #e0e0e0; font-family: 'Arial', sans-serif; padding: 20px; border-radius: 10px; }
.opp-text-neon-orange { color: #ff4500; text-shadow: 0 0 5px #ff4500, 0 0 10px #ff4500; font-weight: bold; }
.opp-text-orange { color: #ff8c00; }
.opp-text-yellow { color: #ffff00; }
.opp-text-neon-yellow { color: #ffd700; text-shadow: 0 0 5px #ffd700; }
.opp-text-cyan { color: #00ffff; }
.opp-text-magenta { color: #ff00ff; }
.opp-text-green { color: #00ff00; }
.opp-text-neon-red { color: #ff3333; text-shadow: 0 0 5px #ff3333; }
.opp-alert-carbon { background-color: #1e1e1e; border: 2px solid #ff8c00; padding: 15px; border-radius: 8px; }
.opp-border-orange { border-color: #ff4500; }
.opp-eq-box { background-color: #282828; border: 1px solid #444; padding: 10px; text-align: center; border-radius: 5px; }
.opp-section-title { font-size: 1.8rem; margin-bottom: 20px; }
.opp-border-left-orange { border-left: 5px solid #ff4500; }
.opp-card { background-color: #1f1f1f; border-radius: 10px; }
.opp-border-cyan { border-color: #00ffff; }
.opp-border-magenta { border-color: #ff00ff; }
.opp-border-yellow { border-color: #ffff00; }
.opp-svg-container { width: 100%; max-width: 800px; margin: 0 auto; padding: 20px; }
.opp-interactive-block { background-color: #181818; border: 2px solid #ffff00; padding: 20px; border-radius: 10px; }
.opp-border-green { border-color: #00ff00; }
.opp-btn-outline-danger { border: 1px solid #dc3545; color: #dc3545; background: transparent; padding: 10px; cursor: pointer; }
.opp-btn-outline-danger:hover { background: #dc3545; color: #fff; }
.opp-btn-outline-success { border: 1px solid #28a745; color: #28a745; background: transparent; padding: 10px; cursor: pointer; }
.opp-btn-outline-success:hover { background: #28a745; color: #fff; }
.opp-bg-black { background-color: #000; }
.opp-table-dark { background-color: #212121; color: #fff; }
.opp-table-hover tr:hover { background-color: #333; }
.opp-errors-list { list-style-type: none; padding: 0; }
.opp-errors-list li { margin-bottom: 10px; cursor: pointer; padding: 10px; background: #1e1e1e; border-radius: 5px; }
.opp-errors-list li:hover { background: #282828; }
.opp-exam-problem { background-color: #1e1e1e; padding: 15px; border-left: 5px solid #ffff00; margin-bottom: 20px; border-radius: 5px; }
.opp-reflection { font-style: italic; color: #ccc; }
.opp-alert-success { background-color: #28a745; color: #fff; padding: 10px; border-radius: 5px; }
.opp-alert-danger { background-color: #dc3545; color: #fff; padding: 10px; border-radius: 5px; }

/* CSS 칔NICO PARA LA LECCI칍N: fast-fashion-master */
/* Prop칩sito: Estilo tem치tico cyberpunk/pink-neon para resaltar el exceso y la desechabilidad en fast fashion. Colores rosas/magenta para moda, contrastes con cian/verde para sostenibilidad. Prefijo 'ffm-' para evitar colisiones. */

.ffm-lesson-carbon { background-color: #121212; color: #e0e0e0; font-family: 'Arial', sans-serif; padding: 20px; border-radius: 10px; }
.ffm-text-neon-pink { color: #ff1493; text-shadow: 0 0 5px #ff1493, 0 0 10px #ff1493; font-weight: bold; }
.ffm-text-magenta { color: #ff00ff; }
.ffm-text-cyan { color: #00ffff; }
.ffm-text-orange { color: #ff8c00; }
.ffm-text-yellow { color: #ffff00; }
.ffm-text-neon-blue { color: #00bfff; text-shadow: 0 0 5px #00bfff; }
.ffm-text-green { color: #00ff00; }
.ffm-alert-carbon { background-color: #1e1e1e; border: 2px solid #ff1493; padding: 15px; border-radius: 8px; }
.ffm-border-pink { border-color: #ff1493; }
.ffm-eq-box { background-color: #282828; border: 1px solid #444; padding: 10px; text-align: center; border-radius: 5px; }
.ffm-section-title { font-size: 1.8rem; margin-bottom: 20px; }
.ffm-stats-box { background-color: #0a0a0a; border-left: 5px solid #ff00ff; padding: 15px; border-radius: 5px; }
.ffm-border-left-magenta { border-left-color: #ff00ff; }
.ffm-table-dark { background-color: #212121; color: #fff; }
.ffm-table-hover tr:hover { background-color: #333; }
.ffm-border-magenta { border-color: #ff00ff; }
.ffm-svg-container { width: 100%; max-width: 800px; margin: 0 auto; padding: 20px; }
.ffm-interactive-block { background-color: #181818; border: 2px solid #00ffff; padding: 20px; border-radius: 10px; }
.ffm-border-cyan { border-color: #00ffff; }
.ffm-border-yellow { border-color: #ffff00; }
.ffm-btn-outline-danger { border: 1px solid #dc3545; color: #dc3545; background: transparent; padding: 10px; cursor: pointer; }
.ffm-btn-outline-danger:hover { background: #dc3545; color: #fff; }
.ffm-btn-outline-success { border: 1px solid #28a745; color: #28a745; background: transparent; padding: 10px; cursor: pointer; }
.ffm-btn-outline-success:hover { background: #28a745; color: #fff; }
.ffm-bg-black { background-color: #000; }
.ffm-border-dashed-cyan { border: 2px dashed #00ffff; }
.ffm-errors-list { list-style-type: none; padding: 0; }
.ffm-errors-list li { margin-bottom: 10px; cursor: pointer; padding: 10px; background: #1e1e1e; border-radius: 5px; }
.ffm-errors-list li:hover { background: #282828; }
.ffm-exam-problem { background-color: #1e1e1e; padding: 15px; border-left: 5px solid #ffff00; margin-bottom: 20px; border-radius: 5px; }
.ffm-reflection { font-style: italic; color: #ccc; }
.ffm-alert-success { background-color: #28a745; color: #fff; padding: 10px; border-radius: 5px; }
.ffm-alert-danger { background-color: #dc3545; color: #fff; padding: 10px; border-radius: 5px; }

/* CSS 칔NICO PARA LA LECCI칍N: esclavitud-moderna-master */
/* Prop칩sito: Estilo tem치tico cyberpunk/red-neon para resaltar la explotaci칩n humana y el nexo ambiental. Colores rojos intensos para alerta 칠tica, contrastes con naranja/amarillo para datos cr칤ticos. Prefijo 'esm-' para evitar colisiones. */

.esm-lesson-carbon { background-color: #121212; color: #e0e0e0; font-family: 'Arial', sans-serif; padding: 20px; border-radius: 10px; }
.esm-text-neon-red { color: #ff0000; text-shadow: 0 0 5px #ff0000, 0 0 10px #ff0000; font-weight: bold; }
.esm-text-red { color: #ff4500; }
.esm-text-orange { color: #ff8c00; }
.esm-text-yellow { color: #ffff00; }
.esm-text-neon-yellow { color: #ffd700; text-shadow: 0 0 5px #ffd700; }
.esm-text-cyan { color: #00ffff; }
.esm-text-green { color: #00ff00; }
.esm-alert-carbon { background-color: #1e1e1e; border: 2px solid #ff0000; padding: 15px; border-radius: 8px; }
.esm-border-red { border-color: #ff0000; }
.esm-eq-box { background-color: #282828; border: 1px solid #444; padding: 10px; text-align: center; border-radius: 5px; }
.esm-section-title { font-size: 1.8rem; margin-bottom: 20px; }
.esm-stats-box { background-color: #0a0a0a; border-left: 5px solid #ff0000; padding: 15px; border-radius: 5px; }
.esm-border-left-red { border-left-color: #ff0000; }
.esm-table-dark { background-color: #212121; color: #fff; }
.esm-table-hover tr:hover { background-color: #333; }
.esm-border-orange { border-color: #ff8c00; }
.esm-svg-container { width: 100%; max-width: 800px; margin: 0 auto; padding: 20px; }
.esm-interactive-block { background-color: #181818; border: 2px solid #00ffff; padding: 20px; border-radius: 10px; }
.esm-border-cyan { border-color: #00ffff; }
.esm-border-yellow { border-color: #ffff00; }
.esm-btn-outline-warning { border: 1px solid #ffc107; color: #ffc107; background: transparent; padding: 10px; cursor: pointer; }
.esm-btn-outline-warning:hover { background: #ffc107; color: #000; }
.esm-bg-black { background-color: #000; }
.esm-errors-list { list-style-type: none; padding: 0; }
.esm-errors-list li { margin-bottom: 10px; cursor: pointer; padding: 10px; background: #1e1e1e; border-radius: 5px; }
.esm-errors-list li:hover { background: #282828; }
.esm-exam-problem { background-color: #1e1e1e; padding: 15px; border-left: 5px solid #ffff00; margin-bottom: 20px; border-radius: 5px; }
.esm-reflection { font-style: italic; color: #ccc; }
.esm-alert-success { background-color: #28a745; color: #fff; padding: 10px; border-radius: 5px; }
.esm-alert-danger { background-color: #dc3545; color: #fff; padding: 10px; border-radius: 5px; }

/* CSS 칔NICO PARA LA LECCI칍N: esclavitud-moderna-master (ESTILO MONDAY CYBERPUNK) */
/* Prop칩sito: Estilo cyberpunk futurista inspirado en la captura (fondo oscuro con overlay industrial, bordes neon cyan, botones pill redondeados, feedback en caja verde, tipograf칤a glitch/neon). Prefijo 'monday-' para evitar colisiones. */

.monday-lesson { 
    background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.85)), url('https://example.com/cyberpunk-industrial-bg.jpg') center/cover no-repeat; /* Puedes reemplazar con imagen real o dejar negro */
    background-color: #0b0e17; 
    color: #e0e0e0; 
    font-family: 'Orbitron', 'Arial', sans-serif; 
    padding: 30px; 
    border-radius: 20px; 
    border: 3px solid #00ffff; 
    box-shadow: 0 0 20px rgba(0, 255, 255, 0.6); 
    position: relative;
    min-height: 100vh;
}

.monday-title { 
    color: #ff0000; 
    text-shadow: 0 0 15px #ff0000; 
    font-size: 4rem; 
    font-weight: bold; 
    text-align: center; 
    margin-bottom: 20px;
}

.monday-quiz-header {
    display: flex;
    align-items: center;
    margin-bottom: 20px;
}

.monday-quiz-icon {
    font-size: 2rem;
    color: #ff00ff;
    text-shadow: 0 0 10px #ff00ff;
    margin-right: 15px;
}

.monday-quiz-title {
    color: #00ff00;
    text-shadow: 0 0 10px #00ff00;
    font-size: 2rem;
}

.monday-quiz-question {
    font-size: 1.5rem;
    color: #ffffff;
    margin-bottom: 30px;
    text-align: center;
}

.monday-quiz-options {
    display: flex;
    flex-direction: column;
    gap: 15px;
    max-width: 800px;
    margin: 0 auto;
}

.monday-quiz-btn {
    background: rgba(255, 255, 255, 0.15);
    color: #ffffff;
    border: none;
    border-radius: 50px;
    padding: 15px 25px;
    font-size: 1.1rem;
    text-align: left;
    cursor: pointer;
    transition: all 0.3s;
    box-shadow: 0 4px 10px rgba(0,0,0,0.5);
}

.monday-quiz-btn:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: translateY(-3px);
}

.monday-quiz-btn.correct {
    background: #00ff00 !important;
    color: #000;
}

.monday-feedback {
    background: linear-gradient(135deg, #00ff00, #008000);
    color: #ffffff;
    padding: 20px 30px;
    border-radius: 15px;
    text-align: center;
    font-size: 1.4rem;
    max-width: 700px;
    margin: 30px auto;
    box-shadow: 0 0 20px rgba(0, 255, 0, 0.6);
}

.monday-section-title {
    color: #ff8c00;
    text-shadow: 0 0 10px #ff8c00;
    font-size: 2rem;
    margin: 40px 0 20px;
}

.monday-alert {
    background: rgba(30, 30, 30, 0.8);
    border: 2px solid #ff0000;
    border-radius: 15px;
    padding: 20px;
}

.monday-btn-primary {
    background: #ff4500;
    border: 2px solid #ff4500;
    color: #fff;
    border-radius: 50px;
    padding: 12px 30px;
}

.monday-btn-primary:hover {
    background: #ff0000;
    box-shadow: 0 0 15px #ff0000;
}
/* CSS 칔NICO PARA LA LECCI칍N: efecto-invernadero-natural-master (ESTILO MONDAY CYBERPUNK) */
/* Estilo cyberpunk futurista: fondo industrial oscuro con neon cyan, glows, bordes redondeados, feedback verde, tipograf칤a bold. Prefijo 'monday-' para evitar colisiones. */

.monday-lesson { 
    background: linear-gradient(rgba(0,0,0,0.8), rgba(0,0,0,0.9)), #0b0e17; 
    color: #e0e0e0; 
    font-family: 'Orbitron', 'Arial', sans-serif; 
    padding: 40px; 
    border-radius: 25px; 
    border: 4px solid #00ffff; 
    box-shadow: 0 0 30px rgba(0, 255, 255, 0.8); 
    min-height: 100vh;
}

.monday-title { 
    color: #ffff00; 
    text-shadow: 0 0 20px #ffff00, 0 0 40px #ffff00; 
    font-size: 4.5rem; 
    font-weight: bold; 
    text-align: center; 
    margin-bottom: 30px;
}

.monday-intro { 
    font-size: 1.3rem; 
    max-width: 900px; 
    margin: 0 auto 40px; 
    text-align: center;
}

.monday-alert { 
    background: rgba(30, 30, 30, 0.7); 
    border: 3px solid #ffff00; 
    border-radius: 20px; 
    padding: 25px; 
    text-align: center; 
    box-shadow: 0 0 15px rgba(255,255,0,0.5);
}

.monday-eq-box { 
    background: rgba(0,0,0,0.5); 
    border: 1px solid #00ffff; 
    padding: 20px; 
    border-radius: 15px; 
    font-size: 1.8rem;
}

.monday-section-title { 
    color: #00ffff; 
    text-shadow: 0 0 15px #00ffff; 
    font-size: 2.5rem; 
    margin: 50px 0 30px; 
    text-align: center;
}

.monday-stats-box { 
    background: rgba(0,0,0,0.6); 
    border-left: 6px solid #00ffff; 
    padding: 20px; 
    border-radius: 10px;
}

.monday-mini-lab { 
    background: rgba(255,152,0,0.1); 
    border: 4px double #ff9800; 
    border-radius: 20px; 
    padding: 30px; 
    box-shadow: 0 0 20px rgba(255,152,0,0.4);
}

.monday-slider { 
    width: 100%; 
    height: 15px; 
    border-radius: 50px; 
    background: #333; 
    outline: none;
}

.monday-temp-display { 
    font-size: 4rem; 
    text-shadow: 0 0 20px;
}

.monday-albedo-card { 
    background: rgba(0,0,0,0.6); 
    border: 2px dashed #666; 
    border-radius: 15px; 
    padding: 20px;
}

.monday-svg-container { 
    background: #000; 
    border-radius: 25px; 
    padding: 20px; 
    box-shadow: 0 0 20px rgba(0,255,255,0.5);
}

.monday-quiz-header { 
    display: flex; 
    align-items: center; 
    justify-content: center; 
    margin: 50px 0 30px;
}

.monday-quiz-icon { 
    font-size: 3rem; 
    color: #ff00ff; 
    text-shadow: 0 0 15px #ff00ff; 
    margin-right: 20px;
}

.monday-quiz-title { 
    color: #00ff00; 
    text-shadow: 0 0 15px #00ff00; 
    font-size: 2.5rem;
}

.monday-quiz-question { 
    font-size: 1.8rem; 
    text-align: center; 
    margin-bottom: 40px;
}

.monday-quiz-options { 
    display: flex; 
    flex-direction: column; 
    gap: 20px; 
    max-width: 900px; 
    margin: 0 auto;
}

.monday-quiz-btn { 
    background: rgba(255,255,255,0.15); 
    color: #fff; 
    border: none; 
    border-radius: 50px; 
    padding: 20px 30px; 
    font-size: 1.3rem; 
    text-align: left; 
    cursor: pointer; 
    transition: all 0.4s; 
    box-shadow: 0 5px 15px rgba(0,0,0,0.6);
}

.monday-quiz-btn:hover { 
    background: rgba(255,255,255,0.3); 
    transform: translateY(-5px);
}

.monday-feedback { 
    background: linear-gradient(135deg, #00ff00, #008000); 
    color: #fff; 
    padding: 30px; 
    border-radius: 20px; 
    text-align: center; 
    font-size: 1.8rem; 
    max-width: 800px; 
    margin: 40px auto; 
    box-shadow: 0 0 30px rgba(0,255,0,0.8);
}

.monday-exam-problem { 
    background: rgba(0,0,0,0.5); 
    padding: 25px; 
    border-left: 6px solid #ffff00; 
    border-radius: 15px; 
    margin-bottom: 30px;
}

.monday-reflection { 
    font-style: italic; 
    font-size: 1.4rem; 
    color: #ccc; 
    text-align: center;
}
/* CSS 칔NICO PARA LA LECCI칍N: huella-ecologica-efecto-invernadero (ESTILO MONDAY CYBERPUNK) */
/* Estilo cyberpunk futurista: fondo oscuro industrial, neon verde para sostenibilidad, rojo para overshoot, glows intensos. Prefijo 'monday-' para evitar colisiones. */

.monday-lesson { 
    background: linear-gradient(rgba(0,0,0,0.85), rgba(0,0,0,0.95)), #0a140a; 
    color: #e0e0e0; 
    font-family: 'Orbitron', 'Arial', sans-serif; 
    padding: 40px; 
    border-radius: 25px; 
    border: 4px solid #39ff14; 
    box-shadow: 0 0 30px rgba(57, 255, 20, 0.8); 
    min-height: 100vh;
}

.monday-title { 
    color: #39ff14; 
    text-shadow: 0 0 20px #39ff14, 0 0 40px #39ff14; 
    font-size: 4.5rem; 
    font-weight: bold; 
    text-align: center; 
    margin-bottom: 30px;
}

.monday-intro { 
    font-size: 1.3rem; 
    max-width: 900px; 
    margin: 0 auto 40px; 
    text-align: center;
}

.monday-alert { 
    background: rgba(30, 30, 30, 0.7); 
    border: 3px solid #39ff14; 
    border-radius: 20px; 
    padding: 25px; 
    text-align: center; 
    box-shadow: 0 0 15px rgba(57,255,20,0.5);
}

.monday-eq-box { 
    background: rgba(0,0,0,0.5); 
    border: 1px solid #00ffff; 
    padding: 20px; 
    border-radius: 15px; 
    font-size: 1.8rem;
}

.monday-section-title { 
    color: #ff9800; 
    text-shadow: 0 0 15px #ff9800; 
    font-size: 2.5rem; 
    margin: 50px 0 30px; 
    text-align: center;
}

.monday-stats-box { 
    background: rgba(0,0,0,0.6); 
    border-left: 6px solid #ff9800; 
    padding: 20px; 
    border-radius: 10px;
}

.monday-mini-lab { 
    background: rgba(0,255,255,0.1); 
    border: 4px double #00ffff; 
    border-radius: 20px; 
    padding: 30px; 
    box-shadow: 0 0 20px rgba(0,255,255,0.4);
}

.monday-select { 
    background: #000; 
    color: #fff; 
    border: 2px solid #00ffff;
}

.monday-overshoot-display { 
    font-size: 4rem; 
    text-shadow: 0 0 20px;
}

.monday-table-dark { 
    background: rgba(0,0,0,0.6); 
}

.monday-svg-container { 
    background: #000; 
    border-radius: 25px; 
    padding: 20px; 
    box-shadow: 0 0 20px rgba(57,255,20,0.5);
}

.monday-quiz-header { 
    display: flex; 
    align-items: center; 
    justify-content: center; 
    margin: 50px 0 30px;
}

.monday-quiz-icon { 
    font-size: 3rem; 
    color: #ff00ff; 
    text-shadow: 0 0 15px #ff00ff; 
    margin-right: 20px;
}

.monday-quiz-title { 
    color: #00ff00; 
    text-shadow: 0 0 15px #00ff00; 
    font-size: 2.5rem;
}

.monday-quiz-question { 
    font-size: 1.8rem; 
    text-align: center; 
    margin-bottom: 40px;
}

.monday-quiz-options { 
    display: flex; 
    flex-direction: column; 
    gap: 20px; 
    max-width: 900px; 
    margin: 0 auto;
}

.monday-quiz-btn { 
    background: rgba(255,255,255,0.15); 
    color: #fff; 
    border: none; 
    border-radius: 50px; 
    padding: 20px 30px; 
    font-size: 1.3rem; 
    text-align: left; 
    cursor: pointer; 
    transition: all 0.4s; 
    box-shadow: 0 5px 15px rgba(0,0,0,0.6);
}

.monday-quiz-btn:hover { 
    background: rgba(255,255,255,0.3); 
    transform: translateY(-5px);
}

.monday-feedback { 
    background: linear-gradient(135deg, #00ff00, #008000); 
    color: #fff; 
    padding: 30px; 
    border-radius: 20px; 
    text-align: center; 
    font-size: 1.8rem; 
    max-width: 800px; 
    margin: 40px auto; 
    box-shadow: 0 0 30px rgba(0,255,0,0.8);
}

.monday-exam-problem { 
    background: rgba(0,0,0,0.5); 
    padding: 25px; 
    border-left: 6px solid #ffff00; 
    border-radius: 15px; 
    margin-bottom: 30px;
}

.monday-reflection { 
    font-style: italic; 
    font-size: 1.4rem; 
    color: #ccc; 
    text-align: center;
}
/* =====================================================
   LECCI칍N: Desertificaci칩n y Restauraci칩n Avanzada
   ESTILO: Cient칤fico  Ecosistemas 츼ridos
   CSS 칔NICO Y AISLADO
===================================================== */

.desertificacion-master {
    background: radial-gradient(circle at top, #0f1a14, #050806);
    color: #e6f2ec;
    padding: 2.5rem;
    border-radius: 18px;
    font-family: "Segoe UI", system-ui, sans-serif;
}

/* =========================
   T칈TULOS Y TEXTO
========================= */

.desertificacion-master .monday-title {
    font-size: 2.4rem;
    font-weight: 800;
    letter-spacing: 1px;
    color: #7CFC98;
    text-shadow: 0 0 12px rgba(124, 252, 152, 0.35);
}

.desertificacion-master .monday-intro {
    font-size: 1.1rem;
    max-width: 900px;
    margin: auto;
    color: #cde8dc;
    line-height: 1.7;
}

.desertificacion-master .monday-section-title {
    margin-top: 3rem;
    margin-bottom: 1.2rem;
    font-size: 1.7rem;
    font-weight: 700;
    color: #FFD966;
    border-left: 6px solid #FFD966;
    padding-left: 14px;
}

/* =========================
   ALERTA / DEFINICI칍N
========================= */

.desertificacion-master .monday-alert {
    background: linear-gradient(135deg, #5a3b00, #2a1600);
    border-left: 6px solid #ffae00;
    padding: 1.2rem 1.4rem;
    border-radius: 10px;
    box-shadow: 0 0 15px rgba(255, 174, 0, 0.25);
    margin-bottom: 2.5rem;
}

/* =========================
   TABLAS
========================= */

.desertificacion-master .monday-table {
    background-color: #0c140f;
    border-radius: 12px;
    overflow: hidden;
}

.desertificacion-master .monday-table th {
    background-color: #1f3d2b;
    color: #7CFC98;
    text-align: center;
    font-weight: 700;
}

.desertificacion-master .monday-table td {
    background-color: #0f1f17;
    color: #e1f5ec;
    vertical-align: middle;
}

.desertificacion-master .monday-table tr:hover td {
    background-color: #173827;
}

/* =========================
   ECUACI칍N (MATHJAX)
========================= */

.desertificacion-master .monday-eq-box {
    background: #070d0a;
    border: 2px dashed #7CFC98;
    border-radius: 14px;
    padding: 1.5rem;
    text-align: center;
    box-shadow: inset 0 0 25px rgba(124, 252, 152, 0.15);
}

/* =========================
   SVG DID츼CTICO
========================= */

.desertificacion-master .monday-svg-container {
    background: #020403;
    border-radius: 16px;
    padding: 1.5rem;
    box-shadow: 0 0 30px rgba(0, 0, 0, 0.7);
}

/* =========================
   SIMULADOR USLE
========================= */

.desertificacion-master .monday-simulator {
    background: linear-gradient(135deg, #10281c, #06110c);
    border-radius: 16px;
    padding: 1.8rem;
    box-shadow: 0 0 20px rgba(124, 252, 152, 0.25);
}

.desertificacion-master .monday-simulator label {
    font-weight: 600;
    color: #FFD966;
}

.desertificacion-master .monday-simulator input[type="range"] {
    width: 100%;
    margin-bottom: 1.2rem;
    accent-color: #7CFC98;
}

.desertificacion-master #simOutput {
    background: #020806;
    padding: 1rem;
    border-radius: 10px;
    border-left: 5px solid #7CFC98;
}

/* =========================
   QUIZ
========================= */

.desertificacion-master .monday-quiz-btn {
    background: #173827;
    color: #eafff4;
    border: 2px solid #7CFC98;
    padding: 0.7rem 1.2rem;
    margin: 0.4rem;
    border-radius: 10px;
    font-weight: 600;
    transition: all 0.25s ease;
}

.desertificacion-master .monday-quiz-btn:hover {
    background: #7CFC98;
    color: #002b1a;
    transform: scale(1.05);
}

.desertificacion-master .monday-feedback {
    margin-top: 1rem;
    padding: 1rem;
    border-radius: 10px;
    font-weight: 700;
}

.desertificacion-master .monday-feedback.correct {
    background: #0f3b22;
    border-left: 6px solid #7CFC98;
}

.desertificacion-master .monday-feedback.error {
    background: #3b0f0f;
    border-left: 6px solid #ff6b6b;
}

/* =========================
   ERRORES COMUNES
========================= */

.desertificacion-master .error-item {
    background: #1a1a1a;
    padding: 0.9rem 1.2rem;
    margin-bottom: 0.6rem;
    border-radius: 10px;
    cursor: pointer;
    font-weight: 600;
    border-left: 6px solid #ffae00;
}

.desertificacion-master .error-item:hover {
    background: #2a2a2a;
}

.desertificacion-master .error-detail {
    display: none;
    background: #090909;
    padding: 1rem 1.4rem;
    border-left: 6px solid #ff6b00;
    border-radius: 0 0 12px 12px;
    margin-bottom: 1rem;
}

/* =========================
   PROBLEMAS EXAMEN
========================= */

.desertificacion-master .monday-exam-problem {
    background: #050a08;
    padding: 1.2rem 1.5rem;
    border-radius: 14px;
    border-left: 6px solid #FFD966;
    margin-bottom: 1.2rem;
}

/* =========================
   CIERRE METACOGNITIVO
========================= */

.desertificacion-master .monday-reflection {
    background: linear-gradient(135deg, #10281c, #06110c);
    border-radius: 16px;
    padding: 1.6rem;
    font-style: italic;
    color: #c8f7df;
    box-shadow: 0 0 20px rgba(124, 252, 152, 0.2);
}
.deforestacion-master {
    background: linear-gradient(180deg, #0a0f0c, #020403);
    color: #e8f5ef;
    padding: 2.5rem;
    border-radius: 18px;
    font-family: system-ui, sans-serif;
}

.def-title {
    color: #2ecc71;
    font-weight: 800;
    letter-spacing: 1px;
}

.def-intro {
    max-width: 900px;
    margin: auto;
    font-size: 1.1rem;
}

.def-section {
    margin-top: 3rem;
    color: #ffcc00;
    border-left: 6px solid #ffcc00;
    padding-left: 12px;
}

.def-list li {
    background: #0f1f18;
    margin-bottom: 0.6rem;
    padding: 0.8rem;
    border-radius: 10px;
}

.def-alert {
    background: #2a1400;
    border-left: 6px solid #ff6b00;
    padding: 1.2rem;
    border-radius: 12px;
}

.def-eq {
    background: #020806;
    border: 2px dashed #2ecc71;
    padding: 1.5rem;
    border-radius: 14px;
    text-align: center;
}

.def-svg {
    background: #000;
    padding: 1.2rem;
    border-radius: 16px;
}

.def-sim {
    background: #0c1f17;
    padding: 1.5rem;
    border-radius: 16px;
}

.def-btn {
    margin: 0.4rem;
    padding: 0.7rem 1.2rem;
    border-radius: 10px;
    border: 2px solid #2ecc71;
    background: transparent;
    color: #eafff4;
}

.def-ok {
    background: #0f3b22;
    padding: 1rem;
    border-left: 6px solid #2ecc71;
}

.def-bad {
    background: #3b0f0f;
    padding: 1rem;
    border-left: 6px solid #ff4d4d;
}

.def-error {
    background: #1a1a1a;
    padding: 0.8rem;
    cursor: pointer;
    border-left: 6px solid #ffcc00;
}

.def-error-detail {
    display: none;
    background: #090909;
    padding: 1rem;
}

.def-exam {
    background: #050a08;
    padding: 1.2rem;
    border-left: 6px solid #ffcc00;
}

.def-reflection {
    background: #10281c;
    padding: 1.4rem;
    border-radius: 14px;
    font-style: italic;
}
/* CSS CYBERPUNK/8BIT PARA SUCESI칍N PRIMARIA - ESTILO RETRO-FUTURISTA */
.leccion-sucesion {
    font-family: 'Courier New', 'VT323', monospace;
    line-height: 1.4;
    color: #0ff; /* Cian brillante cyberpunk */
    background: linear-gradient(135deg, #000022 0%, #0a0a2a 100%);
    padding: 20px;
    border: 2px solid #f0f;
    box-shadow: 0 0 20px #f0f, inset 0 0 15px rgba(0, 255, 255, 0.1);
    image-rendering: pixelated;
}

/* ============ ELEMENTOS T칈PICOS CYBERPUNK/8BIT ============ */
.leccion-sucesion .concepto-maestro {
    background: linear-gradient(90deg, #000 0%, #220033 50%, #000 100%);
    color: #0ff;
    padding: 20px;
    border: 3px solid #f0f;
    margin-bottom: 30px;
    position: relative;
    overflow: hidden;
    box-shadow: 0 0 15px #f0f;
    text-shadow: 0 0 5px #0ff;
}

.leccion-sucesion .concepto-maestro::before {
    content: '郊';
    position: absolute;
    top: 5px;
    left: 5px;
    color: #f0f;
    animation: blink 1s infinite;
}

.leccion-sucesion .concepto-maestro::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 0, 255, 0.3), transparent);
    animation: scanline 3s linear infinite;
}

/* Animaciones cyberpunk */
@keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0; }
}

@keyframes scanline {
    0% { left: -100%; }
    100% { left: 100%; }
}

@keyframes glitch {
    0% { transform: translate(0); }
    20% { transform: translate(-2px, 2px); }
    40% { transform: translate(-2px, -2px); }
    60% { transform: translate(2px, 2px); }
    80% { transform: translate(2px, -2px); }
    100% { transform: translate(0); }
}

/* ============ T칈TULOS Y ENCABEZADOS ============ */
.leccion-sucesion h2, 
.leccion-sucesion h3, 
.leccion-sucesion h4 {
    color: #f0f;
    border-bottom: 2px solid #0ff;
    padding-bottom: 8px;
    margin-top: 25px;
    text-transform: uppercase;
    letter-spacing: 2px;
    text-shadow: 0 0 10px #f0f;
    position: relative;
}

.leccion-sucesion h2::before {
    content: '>';
    color: #0ff;
    margin-right: 10px;
}

/* ============ TARJETAS Y CONTENEDORES ============ */
.leccion-sucesion .card {
    background: rgba(0, 20, 40, 0.9);
    border: 2px solid #0ff;
    border-radius: 0 !important; /* Estilo 8bit - sin bordes redondeados */
    margin: 20px 0;
    box-shadow: 0 0 15px rgba(0, 255, 255, 0.3);
    transition: all 0.3s;
}

.leccion-sucesion .card:hover {
    border-color: #f0f;
    box-shadow: 0 0 20px #f0f;
    animation: glitch 0.3s;
}

.leccion-sucesion .card-header {
    background: linear-gradient(90deg, #002 0%, #004 100%);
    color: #0ff;
    border-bottom: 2px solid #f0f;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 1px;
    padding: 15px;
}

/* ============ BOTONES 8BIT ============ */
.leccion-sucesion .btn,
.leccion-sucesion .boton-etapa {
    background: #000;
    color: #0ff;
    border: 2px solid #0ff;
    border-radius: 0;
    padding: 10px 20px;
    font-family: 'VT323', monospace;
    font-size: 18px;
    text-transform: uppercase;
    letter-spacing: 1px;
    cursor: pointer;
    transition: all 0.2s;
    position: relative;
    overflow: hidden;
    box-shadow: 0 4px 0 #008;
}

.leccion-sucesion .btn:hover,
.leccion-sucesion .boton-etapa:hover {
    background: #00a;
    color: #fff;
    border-color: #f0f;
    transform: translateY(-2px);
    box-shadow: 0 6px 0 #008, 0 0 15px #0ff;
}

.leccion-sucesion .btn:active,
.leccion-sucesion .boton-etapa:active {
    transform: translateY(2px);
    box-shadow: 0 2px 0 #008;
}

.leccion-sucesion .boton-etapa.activo {
    background: #f0f;
    color: #000;
    border-color: #0ff;
    box-shadow: 0 0 15px #f0f;
    animation: blink 1s infinite;
}

/* ============ SIMULADORES CYBERPUNK ============ */
.leccion-sucesion .simulador-container {
    background: rgba(0, 10, 30, 0.9);
    border: 3px solid #0ff;
    margin: 25px 0;
    padding: 20px;
    position: relative;
    overflow: hidden;
}

.leccion-sucesion .simulador-container::before {
    content: '郊걱둗郊';
    position: absolute;
    top: 5px;
    left: 5px;
    color: #0ff;
    opacity: 0.5;
    font-size: 12px;
}

.leccion-sucesion .controles-simulador {
    background: rgba(0, 0, 40, 0.8);
    border: 1px solid #f0f;
    padding: 15px;
    margin: 15px 0;
}

.leccion-sucesion .slider-container {
    background: #000;
    border: 2px solid #0ff;
    padding: 15px;
    margin: 10px 0;
}

.leccion-sucesion .form-range {
    -webkit-appearance: none;
    width: 100%;
    height: 8px;
    background: #002;
    border: 1px solid #0ff;
    outline: none;
    border-radius: 0;
}

.leccion-sucesion .form-range::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 20px;
    height: 20px;
    background: #f0f;
    border: 2px solid #0ff;
    cursor: pointer;
    box-shadow: 0 0 10px #f0f;
}

.leccion-sucesion .form-range::-moz-range-thumb {
    width: 20px;
    height: 20px;
    background: #f0f;
    border: 2px solid #0ff;
    cursor: pointer;
    box-shadow: 0 0 10px #f0f;
}

/* ============ QUIZ RETRO ============ */
.leccion-sucesion .quiz-pregunta {
    background: rgba(0, 20, 40, 0.9);
    border: 2px solid #0ff;
    border-left: 8px solid #f0f;
    padding: 20px;
    margin: 20px 0;
    position: relative;
}

.leccion-sucesion .quiz-pregunta::before {
    content: '?';
    position: absolute;
    top: -10px;
    left: -10px;
    background: #f0f;
    color: #000;
    width: 20px;
    height: 20px;
    text-align: center;
    line-height: 20px;
    font-weight: bold;
}

.leccion-sucesion .opcion-quiz {
    background: #001;
    border: 2px solid #008;
    padding: 12px;
    margin: 8px 0;
    cursor: pointer;
    transition: all 0.2s;
    font-family: 'Courier New', monospace;
}

.leccion-sucesion .opcion-quiz:hover {
    background: #002;
    border-color: #0ff;
    transform: translateX(5px);
    box-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
}

.leccion-sucesion .opcion-correcta {
    background: #002200;
    border-color: #0f0;
    color: #0f0;
    box-shadow: 0 0 15px #0f0;
}

.leccion-sucesion .opcion-incorrecta {
    background: #220000;
    border-color: #f00;
    color: #f00;
    box-shadow: 0 0 15px #f00;
}

.leccion-sucesion .feedback-quiz {
    background: #000;
    border: 2px solid #0ff;
    padding: 15px;
    margin: 15px 0;
    font-family: 'Courier New', monospace;
    opacity: 0;
    transform: scale(0.9);
    transition: all 0.3s;
}

.leccion-sucesion .feedback-visible {
    opacity: 1;
    transform: scale(1);
    animation: blink 0.5s;
}

/* ============ ERRORES COMUNES GLITCH ============ */
.leccion-sucesion .error-comun {
    background: #110011;
    border: 2px solid #f0f;
    padding: 15px;
    margin: 10px 0;
    cursor: pointer;
    transition: all 0.2s;
    position: relative;
    overflow: hidden;
}

.leccion-sucesion .error-comun:hover {
    background: #220022;
    animation: glitch 0.3s;
    box-shadow: 0 0 20px #f0f;
}

.leccion-sucesion .error-detalle {
    background: #000;
    border: 2px solid #0ff;
    padding: 15px;
    margin: 10px 0;
    display: none;
    font-family: 'Courier New', monospace;
    box-shadow: inset 0 0 10px rgba(0, 255, 255, 0.3);
}

/* ============ PROBLEMAS EXAMEN TERMINAL ============ */
.leccion-sucesion .problema-examen {
    background: #000;
    border: 3px solid #0ff;
    padding: 25px;
    margin: 25px 0;
    font-family: 'Courier New', monospace;
    position: relative;
    box-shadow: 0 0 20px rgba(0, 255, 255, 0.2);
}

.leccion-sucesion .problema-examen::before {
    content: 'EXAM_MODE.EXE';
    position: absolute;
    top: -12px;
    left: 20px;
    background: #000;
    color: #0ff;
    padding: 0 10px;
    font-size: 14px;
    font-weight: bold;
}

.leccion-sucesion .problema-examen table {
    border: 2px solid #0ff;
    border-collapse: collapse;
    width: 100%;
    margin: 15px 0;
}

.leccion-sucesion .problema-examen th {
    background: #002;
    color: #0ff;
    border: 1px solid #0ff;
    padding: 10px;
    text-align: left;
}

.leccion-sucesion .problema-examen td {
    border: 1px solid #008;
    padding: 10px;
    color: #8af;
}

/* ============ METACOGNITIVO MATRIX ============ */
.leccion-sucesion .metacognitivo-box {
    background: rgba(0, 20, 0, 0.9);
    border: 3px solid #0f0;
    padding: 25px;
    margin-top: 30px;
    position: relative;
    overflow: hidden;
    box-shadow: 0 0 30px rgba(0, 255, 0, 0.3);
}

.leccion-sucesion .metacognitivo-box::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 2px,
        rgba(0, 255, 0, 0.05) 2px,
        rgba(0, 255, 0, 0.05) 4px
    );
    pointer-events: none;
}

.leccion-sucesion .metacognitivo-box h4 {
    color: #0f0;
    border-color: #0f0;
    text-shadow: 0 0 10px #0f0;
}

/* ============ FORMULAS MATHJAX CYBERPUNK ============ */
.leccion-sucesion .MathJax {
    color: #f0f !important;
    text-shadow: 0 0 5px #f0f !important;
}

.leccion-sucesion mjx-container {
    background: #001 !important;
    padding: 10px !important;
    border: 1px solid #0ff !important;
}

/* ============ SVG CYBERPUNK ============ */
.leccion-sucesion .svg-animado {
    background: #000;
    border: 3px solid #0ff;
    padding: 20px;
    margin: 20px 0;
    box-shadow: 0 0 25px rgba(0, 255, 255, 0.4);
}

/* ============ LEYENDA 8BIT ============ */
.leccion-sucesion .leyenda-ecologica {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin: 15px 0;
    flex-wrap: wrap;
}

.leccion-sucesion .leyenda-item {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 5px 10px;
    background: #002;
    border: 1px solid #0ff;
}

.leccion-sucesion .leyenda-color {
    width: 16px;
    height: 16px;
    border: 2px solid #fff;
    image-rendering: pixelated;
}

/* ============ TEXTAREAS Y INPUTS ============ */
.leccion-sucesion textarea,
.leccion-sucesion input[type="text"],
.leccion-sucesion select {
    background: #000;
    color: #0ff;
    border: 2px solid #0ff;
    border-radius: 0;
    padding: 10px;
    font-family: 'Courier New', monospace;
    width: 100%;
    margin: 10px 0;
}

.leccion-sucesion textarea:focus,
.leccion-sucesion input[type="text"]:focus,
.leccion-sucesion select:focus {
    outline: none;
    border-color: #f0f;
    box-shadow: 0 0 15px #f0f;
}

/* ============ BADGES Y ETIQUETAS ============ */
.leccion-sucesion .badge {
    background: #f0f;
    color: #000;
    border: 2px solid #0ff;
    border-radius: 0;
    padding: 5px 10px;
    font-family: 'VT323', monospace;
    font-size: 16px;
    text-transform: uppercase;
    letter-spacing: 1px;
}

/* ============ ALERTAS GLITCH ============ */
.leccion-sucesion .alert {
    border-radius: 0;
    border: 2px solid;
    font-family: 'Courier New', monospace;
    margin: 15px 0;
    padding: 15px;
    position: relative;
    overflow: hidden;
}

.leccion-sucesion .alert-success {
    background: rgba(0, 40, 0, 0.9);
    border-color: #0f0;
    color: #0f0;
}

.leccion-sucesion .alert-danger {
    background: rgba(40, 0, 0, 0.9);
    border-color: #f00;
    color: #f00;
}

.leccion-sucesion .alert-warning {
    background: rgba(40, 40, 0, 0.9);
    border-color: #ff0;
    color: #ff0;
}

.leccion-sucesion .alert-info {
    background: rgba(0, 20, 40, 0.9);
    border-color: #0ff;
    color: #0ff;
}

/* ============ TABLAS MATRIX ============ */
.leccion-sucesion .tabla-contenidos {
    background: #000;
    border: 2px solid #0ff;
    margin: 20px 0;
    overflow: hidden;
    position: relative;
}

.leccion-sucesion .tabla-contenidos::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent, #0ff, transparent);
    animation: scanline 2s linear infinite;
}

.leccion-sucesion .tabla-contenidos th {
    background: #002;
    color: #0ff;
    border: 1px solid #0ff;
    padding: 15px;
    text-transform: uppercase;
    letter-spacing: 1px;
    font-family: 'VT323', monospace;
    font-size: 18px;
}

.leccion-sucesion .tabla-contenidos td {
    border: 1px solid #008;
    padding: 12px;
    color: #8af;
    font-family: 'Courier New', monospace;
}

.leccion-sucesion .tabla-contenidos tr:hover {
    background: rgba(0, 50, 100, 0.3);
    animation: glitch 0.2s;
}

/* ============ RESPONSIVE CYBERPUNK ============ */
@media (max-width: 768px) {
    .leccion-sucesion {
        padding: 10px;
        border-width: 1px;
    }
    
    .leccion-sucesion h2,
    .leccion-sucesion h3 {
        font-size: 1.3em;
        letter-spacing: 1px;
    }
    
    .leccion-sucesion .boton-etapa {
        padding: 8px 12px;
        font-size: 14px;
        margin: 2px;
    }
    
    .leccion-sucesion .leyenda-item {
        font-size: 12px;
        padding: 3px 6px;
    }
}

/* ============ EFECTOS DE TEXTO 8BIT ============ */
.leccion-sucesion p, 
.leccion-sucesion li, 
.leccion-sucesion td {
    text-shadow: 1px 1px 0 #000, -1px -1px 0 #000;
    letter-spacing: 0.5px;
}

.leccion-sucesion strong {
    color: #f0f;
    text-shadow: 0 0 5px #f0f;
}

.leccion-sucesion em {
    color: #0ff;
    font-style: normal;
    border-bottom: 1px dashed #0ff;
}

/* ============ EFECTO SCANLINES ============ */
.leccion-sucesion::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    background: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 2px,
        rgba(0, 255, 255, 0.03) 2px,
        rgba(0, 255, 255, 0.03) 4px
    );
    z-index: 9999;
    opacity: 0.3;
}

/* ============ EFECTO CRT ============ */
.leccion-sucesion::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    background: radial-gradient(
        ellipse at center,
        transparent 0%,
        rgba(0, 0, 0, 0.3) 100%
    );
    z-index: 9998;
}
/* CSS CYBERPUNK/8BIT PARA SERVICIOS ECOSIST칄MICOS */
.leccion-ecoservicios {
    font-family: 'Courier New', 'VT323', 'Consolas', monospace;
    line-height: 1.3;
    color: #00ff88; /* Verde cibern칠tico */
    background: #0a0a0c;
    padding: 25px;
    border: 3px solid #00ff88;
    box-shadow: 
        0 0 30px rgba(0, 255, 136, 0.3),
        inset 0 0 20px rgba(0, 255, 136, 0.1);
    image-rendering: pixelated;
    position: relative;
    overflow: hidden;
}

/* ============ EFECTO SCANLINES ============ */
.leccion-ecoservicios::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    background: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 1px,
        rgba(0, 255, 136, 0.05) 1px,
        rgba(0, 255, 136, 0.05) 2px
    );
    z-index: 9998;
    opacity: 0.4;
}

/* ============ EFECTO GLITCH BACKGROUND ============ */
.leccion-ecoservicios::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        linear-gradient(90deg, 
            transparent 0%, 
            rgba(0, 212, 255, 0.03) 50%, 
            transparent 100%),
        radial-gradient(
            circle at 30% 50%,
            rgba(204, 102, 255, 0.1) 0%,
            transparent 50%
        );
    z-index: -1;
}

/* ============ ANIMACIONES CYBERPUNK ============ */
@keyframes glitch {
    0% { transform: translate(0); }
    20% { transform: translate(-2px, 1px); }
    40% { transform: translate(-1px, -2px); }
    60% { transform: translate(2px, 1px); }
    80% { transform: translate(1px, -1px); }
    100% { transform: translate(0); }
}

@keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.3; }
}

@keyframes pulse-glow {
    0%, 100% { 
        box-shadow: 0 0 15px rgba(0, 255, 136, 0.5);
    }
    50% { 
        box-shadow: 0 0 25px rgba(0, 255, 136, 0.8),
                   0 0 40px rgba(0, 255, 136, 0.3);
    }
}

@keyframes scanline {
    0% { transform: translateY(-100%); }
    100% { transform: translateY(100%); }
}

@keyframes matrix-drop {
    0% { 
        transform: translateY(-50px) translateX(20px);
        opacity: 0;
    }
    10% { opacity: 1; }
    90% { opacity: 1; }
    100% { 
        transform: translateY(100vh) translateX(-20px);
        opacity: 0;
    }
}

/* ============ T칈TULOS Y ENCABEZADOS ============ */
.leccion-ecoservicios h2 {
    color: #00ff88;
    text-align: center;
    text-transform: uppercase;
    letter-spacing: 3px;
    text-shadow: 
        0 0 10px #00ff88,
        0 0 20px rgba(0, 255, 136, 0.5);
    border-bottom: 2px solid #00ff88;
    padding-bottom: 15px;
    margin-bottom: 30px;
    font-family: 'VT323', monospace;
    font-size: 2.5em;
    position: relative;
}

.leccion-ecoservicios h2::before {
    content: '> ';
    color: #ffcc00;
}

.leccion-ecoservicios h2::after {
    content: ' <';
    color: #ffcc00;
}

.leccion-ecoservicios h3,
.leccion-ecoservicios h4 {
    color: #00d4ff;
    border-left: 4px solid #00d4ff;
    padding-left: 15px;
    margin-top: 25px;
    text-transform: uppercase;
    letter-spacing: 2px;
    font-family: 'VT323', monospace;
    position: relative;
}

.leccion-ecoservicios h3::before,
.leccion-ecoservicios h4::before {
    content: '郊';
    color: #ffcc00;
    position: absolute;
    left: 0;
}

/* ============ CONCEPT BOX TERMINAL ============ */
.leccion-ecoservicios .concept-box {
    background: rgba(0, 20, 10, 0.8);
    border: 2px solid #00ff88;
    padding: 20px;
    margin: 25px 0;
    position: relative;
    overflow: hidden;
    font-family: 'Courier New', monospace;
    animation: pulse-glow 3s infinite;
}

.leccion-ecoservicios .concept-box::before {
    content: '郊걱둡郊뉙둠 INFO_SYSTEM';
    position: absolute;
    top: 5px;
    left: 10px;
    color: #00ff88;
    font-size: 12px;
    opacity: 0.7;
    animation: blink 2s infinite;
}

.leccion-ecoservicios .concept-box h4 {
    color: #ffcc00;
    border: none;
    padding: 0;
    margin-top: 0;
}

/* ============ LEAD TEXT ============ */
.leccion-ecoservicios .lead {
    color: #8af;
    font-size: 1.1em;
    line-height: 1.6;
    border: 1px solid #30363d;
    padding: 20px;
    background: rgba(13, 17, 23, 0.7);
    margin: 20px 0;
    font-family: 'Courier New', monospace;
}

.leccion-ecoservicios .lead strong {
    color: #00ff88;
    text-shadow: 0 0 5px #00ff88;
}

/* ============ SVG DIAGRAMA CYBERPUNK ============ */
.leccion-ecoservicios .svg-container {
    background: #000;
    border: 3px solid #00d4ff;
    padding: 20px;
    margin: 30px 0;
    box-shadow: 0 0 20px rgba(0, 212, 255, 0.3);
    position: relative;
}

.leccion-ecoservicios .svg-container::before {
    content: 'DIAGRAMA_SIST칄MICO.EXE';
    position: absolute;
    top: -10px;
    left: 20px;
    background: #000;
    color: #00d4ff;
    padding: 0 10px;
    font-size: 12px;
    font-family: 'VT323', monospace;
}

/* ============ SIMULADOR CYBERPUNK ============ */
.leccion-ecoservicios .simulator-container {
    background: rgba(13, 17, 23, 0.9);
    border: 3px solid #00d4ff;
    padding: 25px;
    margin: 30px 0;
    font-family: 'Courier New', monospace;
    position: relative;
    overflow: hidden;
}

.leccion-ecoservicios .simulator-container::before {
    content: 'SIMULATOR_ACTIVE';
    position: absolute;
    top: 5px;
    right: 10px;
    color: #00ff88;
    font-size: 11px;
    animation: blink 1.5s infinite;
}

.leccion-ecoservicios .simulator-container h4 {
    color: #00d4ff;
    border: none;
    padding: 0;
    margin-top: 0;
    font-family: 'VT323', monospace;
    font-size: 1.5em;
}

.leccion-ecoservicios .simulator-container h4::before {
    content: '丘 ';
}

/* ============ SLIDER CYBERPUNK ============ */
.leccion-ecoservicios .form-range {
    -webkit-appearance: none;
    width: 100%;
    height: 12px;
    background: #002;
    border: 2px solid #00ff88;
    border-radius: 0;
    outline: none;
    margin: 15px 0;
}

.leccion-ecoservicios .form-range::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 25px;
    height: 25px;
    background: #ffcc00;
    border: 2px solid #00ff88;
    cursor: pointer;
    box-shadow: 0 0 15px #ffcc00;
    transition: all 0.2s;
}

.leccion-ecoservicios .form-range::-webkit-slider-thumb:hover {
    background: #ffdd44;
    box-shadow: 0 0 20px #ffcc00;
    transform: scale(1.1);
}

.leccion-ecoservicios .form-range::-moz-range-thumb {
    width: 25px;
    height: 25px;
    background: #ffcc00;
    border: 2px solid #00ff88;
    cursor: pointer;
    box-shadow: 0 0 15px #ffcc00;
}

/* ============ STAT CARDS 8BIT ============ */
.leccion-ecoservicios .stat-card {
    background: #000;
    border: 2px solid #00d4ff;
    padding: 15px;
    text-align: center;
    margin: 10px 0;
    font-family: 'VT323', monospace;
    position: relative;
    transition: all 0.3s;
}

.leccion-ecoservicios .stat-card:hover {
    border-color: #ffcc00;
    animation: glitch 0.3s;
    box-shadow: 0 0 20px rgba(255, 204, 0, 0.3);
}

.leccion-ecoservicios .stat-card .small {
    color: #8af;
    text-transform: uppercase;
    letter-spacing: 1px;
    font-size: 0.9em;
}

.leccion-ecoservicios .stat-card .stat-value {
    display: block;
    font-size: 2em;
    font-weight: bold;
    color: #00ff88;
    text-shadow: 0 0 10px #00ff88;
    margin: 10px 0;
    font-family: 'Courier New', monospace;
}

/* ============ QUIZ CYBERPUNK ============ */
.leccion-ecoservicios .quiz-checkpoint {
    background: rgba(20, 0, 40, 0.9);
    border: 3px solid #cc66ff;
    padding: 25px;
    margin: 30px 0;
    font-family: 'Courier New', monospace;
    position: relative;
}

.leccion-ecoservicios .quiz-checkpoint::before {
    content: 'QUIZ_PROTOCOL';
    position: absolute;
    top: -12px;
    left: 20px;
    background: #000;
    color: #cc66ff;
    padding: 0 10px;
    font-size: 12px;
    font-family: 'VT323', monospace;
}

.leccion-ecoservicios .quiz-checkpoint h5 {
    color: #cc66ff;
    font-family: 'VT323', monospace;
    font-size: 1.3em;
    margin-bottom: 20px;
}

.leccion-ecoservicios .quiz-checkpoint h5::before {
    content: '游 ';
}

/* ============ BOTONES OPCI칍N ============ */
.leccion-ecoservicios .option-btn {
    display: block;
    width: 100%;
    background: #001;
    border: 2px solid #444c56;
    color: #8af;
    padding: 15px;
    margin: 10px 0;
    text-align: left;
    cursor: pointer;
    font-family: 'Courier New', monospace;
    transition: all 0.2s;
    position: relative;
    overflow: hidden;
}

.leccion-ecoservicios .option-btn:hover {
    background: #002;
    border-color: #00d4ff;
    transform: translateX(10px);
    box-shadow: 0 0 15px rgba(0, 212, 255, 0.3);
}

.leccion-ecoservicios .option-btn.correct {
    background: rgba(0, 255, 136, 0.1);
    border-color: #00ff88;
    color: #00ff88;
    box-shadow: 0 0 20px rgba(0, 255, 136, 0.4);
    animation: blink 0.5s;
}

.leccion-ecoservicios .option-btn.incorrect {
    background: rgba(255, 68, 68, 0.1);
    border-color: #ff4444;
    color: #ff4444;
    box-shadow: 0 0 20px rgba(255, 68, 68, 0.4);
}

.leccion-ecoservicios .option-btn:disabled {
    opacity: 0.7;
    cursor: not-allowed;
}

/* ============ FEEDBACK QUIZ ============ */
.leccion-ecoservicios #quizFeedback {
    background: #000;
    border: 2px solid #00ff88;
    padding: 15px;
    margin-top: 20px;
    font-family: 'Courier New', monospace;
    display: none;
    animation: glitch 0.3s;
}

.leccion-ecoservicios .text-success {
    color: #00ff88 !important;
    text-shadow: 0 0 5px #00ff88;
}

.leccion-ecoservicios .text-danger {
    color: #ff4444 !important;
    text-shadow: 0 0 5px #ff4444;
}

/* ============ LABORATORIO TEEB CYBERPUNK ============ */
.leccion-ecoservicios .lab-teeb-container {
    background: rgba(0, 10, 20, 0.9);
    border: 3px solid #ffcc00;
    padding: 30px;
    margin: 30px 0;
    font-family: 'Courier New', monospace;
    position: relative;
    overflow: hidden;
}

.leccion-ecoservicios .lab-teeb-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        repeating-linear-gradient(
            0deg,
            transparent,
            transparent 2px,
            rgba(255, 204, 0, 0.05) 2px,
            rgba(255, 204, 0, 0.05) 4px
        );
    pointer-events: none;
}

.leccion-ecoservicios .lab-teeb-container h4 {
    color: #ffcc00;
    border: none;
    padding: 0;
    margin: 0;
    font-family: 'VT323', monospace;
    font-size: 1.8em;
}

/* ============ BADGE TERMINAL ============ */
.leccion-ecoservicios .badge {
    background: transparent;
    border: 2px solid #ffcc00;
    color: #ffcc00;
    border-radius: 0;
    padding: 5px 15px;
    font-family: 'VT323', monospace;
    font-size: 0.9em;
    letter-spacing: 2px;
    text-transform: uppercase;
}

/* ============ FORMULA BOX MATRIX ============ */
.leccion-ecoservicios .formula-box {
    background: #000;
    border: 2px solid #00d4ff;
    padding: 20px;
    color: #00d4ff;
    font-family: 'Courier New', monospace;
    font-size: 1.2em;
    text-align: center;
    margin: 20px 0;
    box-shadow: 0 0 20px rgba(0, 212, 255, 0.2);
    position: relative;
}

.leccion-ecoservicios .formula-box::before,
.leccion-ecoservicios .formula-box::after {
    content: '郊';
    color: #00d4ff;
    position: absolute;
    animation: blink 1s infinite;
}

.leccion-ecoservicios .formula-box::before {
    top: 5px;
    left: 10px;
}

.leccion-ecoservicios .formula-box::after {
    bottom: 5px;
    right: 10px;
}

/* ============ LAB GROUP INPUTS ============ */
.leccion-ecoservicios .lab-group {
    background: rgba(0, 0, 0, 0.8);
    border: 2px solid #30363d;
    padding: 20px;
    transition: all 0.3s;
    height: 100%;
    position: relative;
}

.leccion-ecoservicios .lab-group:hover {
    border-color: #ffcc00;
    background: rgba(255, 204, 0, 0.05);
    animation: glitch 0.2s;
}

.leccion-ecoservicios .form-label {
    color: #8af;
    font-family: 'VT323', monospace;
    font-size: 0.9em;
    text-transform: uppercase;
    letter-spacing: 2px;
    margin-bottom: 15px;
    display: block;
    transition: color 0.3s;
}

.leccion-ecoservicios .lab-group:hover .form-label {
    color: #ffcc00;
    text-shadow: 0 0 8px rgba(255, 204, 0, 0.5);
}

/* ============ INPUTS TERMINAL ============ */
.leccion-ecoservicios .form-control-master {
    background: #000 !important;
    border: 2px solid #00d4ff !important;
    color: #ffcc00 !important;
    font-family: 'Courier New', monospace;
    font-size: 1.3em;
    font-weight: bold;
    text-align: center;
    padding: 15px;
    border-radius: 0;
    transition: all 0.3s;
}

.leccion-ecoservicios .form-control-master:focus {
    border-color: #ffcc00 !important;
    box-shadow: 0 0 20px rgba(255, 204, 0, 0.4);
    outline: none;
    animation: pulse-glow 1s infinite;
}

.leccion-ecoservicios .form-control-master:disabled {
    opacity: 0.7;
    border-color: #444c56 !important;
    color: #666 !important;
}

/* ============ RESULTADO ANIMADO ============ */
.leccion-ecoservicios #labResult {
    display: inline-block;
    font-family: 'VT323', monospace;
    font-size: 3em;
    color: #ffcc00;
    text-shadow: 
        0 0 10px #ffcc00,
        0 0 20px rgba(255, 204, 0, 0.5);
    margin: 0 10px;
    transition: all 0.3s;
}

.leccion-ecoservicios .value-pulse {
    animation: pulse-gold 0.5s ease-out;
}

@keyframes pulse-gold {
    0% { 
        transform: scale(1);
        text-shadow: 0 0 10px #ffcc00;
    }
    50% { 
        transform: scale(1.1);
        text-shadow: 0 0 30px #ffcc00,
                     0 0 50px rgba(255, 204, 0, 0.5);
    }
    100% { 
        transform: scale(1);
        text-shadow: 0 0 10px #ffcc00;
    }
}

/* ============ SECCI칍N CONCLUSI칍N ============ */
.leccion-ecoservicios .conclusion {
    background: rgba(0, 40, 0, 0.8);
    border: 3px solid #00ff88;
    padding: 25px;
    margin-top: 40px;
    font-family: 'Courier New', monospace;
    position: relative;
}

.leccion-ecoservicios .conclusion::before {
    content: 'CONCLUSION_SYS';
    position: absolute;
    top: -12px;
    left: 20px;
    background: #000;
    color: #00ff88;
    padding: 0 10px;
    font-size: 12px;
    font-family: 'VT323', monospace;
}

.leccion-ecoservicios .conclusion h4 {
    color: #00ff88;
    border: none;
    padding: 0;
    margin-top: 0;
    font-family: 'VT323', monospace;
    font-size: 1.5em;
}

.leccion-ecoservicios .conclusion strong {
    color: #ffcc00;
    text-shadow: 0 0 5px #ffcc00;
}

/* ============ HR CYBERPUNK ============ */
.leccion-ecoservicios hr {
    border: none;
    height: 2px;
    background: linear-gradient(90deg, 
        transparent, 
        #00ff88, 
        #00d4ff, 
        #cc66ff, 
        #ffcc00, 
        transparent
    );
    margin: 40px 0;
    position: relative;
}

.leccion-ecoservicios hr::before {
    content: '';
    position: absolute;
    top: -5px;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, 
        transparent, 
        rgba(0, 255, 136, 0.3), 
        transparent
    );
    animation: scanline 2s linear infinite;
}

/* ============ TEXTOS SECUNDARIOS ============ */
.leccion-ecoservicios .text-muted {
    color: #666 !important;
    font-family: 'Courier New', monospace;
    font-size: 0.9em;
}

.leccion-ecoservicios .text-info {
    color: #00d4ff !important;
    text-shadow: 0 0 5px #00d4ff;
}

.leccion-ecoservicios .text-secondary {
    color: #8af !important;
}

/* ============ EFECTO MATRIX DROPS ============ */
.matrix-drop {
    position: absolute;
    color: #00ff88;
    font-family: 'VT323', monospace;
    font-size: 14px;
    opacity: 0;
    pointer-events: none;
    z-index: -1;
}

/* ============ RESPONSIVE 8BIT ============ */
@media (max-width: 768px) {
    .leccion-ecoservicios {
        padding: 15px;
        border-width: 2px;
    }
    
    .leccion-ecoservicios h2 {
        font-size: 1.8em;
        letter-spacing: 2px;
    }
    
    .leccion-ecoservicios h3,
    .leccion-ecoservicios h4 {
        font-size: 1.2em;
    }
    
    .leccion-ecoservicios .form-control-master {
        font-size: 1.1em;
        padding: 10px;
    }
    
    .leccion-ecoservicios #labResult {
        font-size: 2em;
    }
}

/* ============ EFECTO DE C칍DIGO CAYENDO ============ */
.matrix-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: -1;
    overflow: hidden;
}
/* CSS CYBERPUNK/8BIT PARA SUSTENTABILIDAD SIST칄MICA */
.leccion-sustentabilidad {
    font-family: 'VT323', 'Courier New', 'Consolas', monospace;
    line-height: 1.3;
    color: #00ff9d; /* Verde cibern칠tico */
    background: #05070a;
    padding: 30px;
    border: 4px solid #00ff9d;
    box-shadow: 
        0 0 40px rgba(0, 255, 157, 0.4),
        inset 0 0 30px rgba(0, 255, 157, 0.1);
    image-rendering: pixelated;
    position: relative;
    overflow: hidden;
}

/* ============ EFECTO SCANLINES VERDE ============ */
.leccion-sustentabilidad::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    background: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 1px,
        rgba(0, 255, 157, 0.05) 1px,
        rgba(0, 255, 157, 0.05) 2px
    );
    z-index: 9998;
    opacity: 0.4;
}

/* ============ EFECTO GLITCH BACKGROUND ============ */
.leccion-sustentabilidad::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        linear-gradient(90deg, 
            transparent 0%, 
            rgba(0, 212, 255, 0.03) 50%, 
            transparent 100%),
        radial-gradient(
            circle at 70% 30%,
            rgba(255, 157, 0, 0.1) 0%,
            transparent 50%
        );
    z-index: -1;
}

/* ============ ANIMACIONES CYBERPUNK ============ */
@keyframes glitch {
    0% { transform: translate(0); }
    20% { transform: translate(-1px, 2px); }
    40% { transform: translate(-1px, -1px); }
    60% { transform: translate(2px, 1px); }
    80% { transform: translate(1px, -2px); }
    100% { transform: translate(0); }
}

@keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.3; }
}

@keyframes pulse-green {
    0%, 100% { 
        box-shadow: 0 0 15px rgba(0, 255, 157, 0.5);
    }
    50% { 
        box-shadow: 0 0 25px rgba(0, 255, 157, 0.8),
                   0 0 40px rgba(0, 255, 157, 0.3);
    }
}

@keyframes scanline-h {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

@keyframes rotate-slow {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* ============ HEADER TERMINAL ============ */
.leccion-sustentabilidad .terminal-header {
    background: rgba(0, 20, 15, 0.8);
    border: 2px solid #00ff9d;
    padding: 15px;
    margin-bottom: 30px;
    font-family: 'VT323', monospace;
    position: relative;
    overflow: hidden;
}

.leccion-sustentabilidad .terminal-header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        repeating-linear-gradient(
            90deg,
            transparent,
            transparent 2px,
            rgba(0, 255, 157, 0.1) 2px,
            rgba(0, 255, 157, 0.1) 4px
        );
    pointer-events: none;
}

.leccion-sustentabilidad .terminal-prompt {
    color: #00ff9d;
    font-size: 1.2em;
}

.leccion-sustentabilidad .terminal-prompt .blink {
    animation: blink 1s infinite;
}

/* ============ T칈TULOS Y ENCABEZADOS ============ */
.leccion-sustentabilidad h1 {
    color: #00ff9d;
    text-transform: uppercase;
    letter-spacing: 3px;
    text-shadow: 
        0 0 10px #00ff9d,
        0 0 20px rgba(0, 255, 157, 0.5);
    border-bottom: 3px solid #00ff9d;
    padding-bottom: 15px;
    margin-bottom: 25px;
    font-family: 'VT323', monospace;
    font-size: 2.8em;
    position: relative;
}

.leccion-sustentabilidad h1::before {
    content: '丘 ';
    color: #00d4ff;
}

.leccion-sustentabilidad h1::after {
    content: ' 丘';
    color: #00d4ff;
}

.leccion-sustentabilidad h3, 
.leccion-sustentabilidad h4, 
.leccion-sustentabilidad h5 {
    color: #00d4ff;
    border-left: 5px solid #00d4ff;
    padding-left: 15px;
    margin-top: 30px;
    text-transform: uppercase;
    letter-spacing: 2px;
    font-family: 'VT323', monospace;
    position: relative;
}

.leccion-sustentabilidad h4::before,
.leccion-sustentabilidad h5::before {
    content: '郊';
    color: #ff9d00;
    position: absolute;
    left: 5px;
}

/* ============ CONCEPT HEADER ============ */
.leccion-sustentabilidad .concept-header {
    background: rgba(0, 30, 20, 0.7);
    border: 2px solid #00ff9d;
    padding: 25px;
    margin: 30px 0;
    position: relative;
    overflow: hidden;
    animation: pulse-green 3s infinite;
}

.leccion-sustentabilidad .concept-header::before {
    content: 'SYS_ANALYSIS';
    position: absolute;
    top: 5px;
    left: 10px;
    color: #00ff9d;
    font-size: 11px;
    opacity: 0.7;
    animation: blink 2s infinite;
}

.leccion-sustentabilidad .lead {
    color: #8af;
    font-size: 1.2em;
    line-height: 1.7;
    margin-top: 15px;
    font-family: 'Courier New', monospace;
}

.leccion-sustentabilidad .lead strong {
    color: #00ff9d;
    text-shadow: 0 0 5px #00ff9d;
}

/* ============ SVG DIAGRAMA CYBERPUNK ============ */
.leccion-sustentabilidad .svg-container {
    background: #000;
    border: 3px solid #00d4ff;
    padding: 25px;
    margin: 35px 0;
    box-shadow: 0 0 25px rgba(0, 212, 255, 0.3);
    position: relative;
}

.leccion-sustentabilidad .svg-container::before {
    content: 'DIAGRAMA_METAB칍LICO.EXE';
    position: absolute;
    top: -12px;
    left: 20px;
    background: #000;
    color: #00d4ff;
    padding: 0 10px;
    font-size: 12px;
    font-family: 'VT323', monospace;
}

/* ============ SIMULADOR CYBERPUNK ============ */
.leccion-sustentabilidad .sim-panel {
    background: rgba(13, 17, 23, 0.9);
    border: 3px solid #00d4ff;
    padding: 30px;
    margin: 35px 0;
    font-family: 'Courier New', monospace;
    position: relative;
    overflow: hidden;
}

.leccion-sustentabilidad .sim-panel::before {
    content: 'SIMULATOR_CIRCULAR';
    position: absolute;
    top: 5px;
    right: 10px;
    color: #00d4ff;
    font-size: 11px;
    animation: blink 1.5s infinite;
}

.leccion-sustentabilidad .sim-panel h4 {
    color: #00d4ff;
    border: none;
    padding: 0;
    margin-top: 0;
    font-family: 'VT323', monospace;
    font-size: 1.8em;
}

.leccion-sustentabilidad .sim-panel h4::before {
    content: '游댃 ';
}

/* ============ SLIDERS CYBERPUNK ============ */
.leccion-sustentabilidad .slider-group {
    background: rgba(0, 0, 0, 0.8);
    border: 2px solid #00ff9d;
    padding: 20px;
    margin: 20px 0;
    position: relative;
}

.leccion-sustentabilidad .stat-label {
    color: #8af;
    font-family: 'VT323', monospace;
    font-size: 0.9em;
    text-transform: uppercase;
    letter-spacing: 2px;
    margin-bottom: 15px;
    display: block;
    transition: color 0.3s;
}

.leccion-sustentabilidad .form-range {
    -webkit-appearance: none;
    width: 100%;
    height: 12px;
    background: #002;
    border: 2px solid #00ff9d;
    border-radius: 0;
    outline: none;
    margin: 15px 0;
}

.leccion-sustentabilidad .form-range::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 25px;
    height: 25px;
    background: #ff9d00;
    border: 2px solid #00ff9d;
    cursor: pointer;
    box-shadow: 0 0 15px #ff9d00;
    transition: all 0.2s;
}

.leccion-sustentabilidad .form-range::-webkit-slider-thumb:hover {
    background: #ffb340;
    box-shadow: 0 0 20px #ff9d00;
    transform: scale(1.1);
}

.leccion-sustentabilidad .form-range::-moz-range-thumb {
    width: 25px;
    height: 25px;
    background: #ff9d00;
    border: 2px solid #00ff9d;
    cursor: pointer;
    box-shadow: 0 0 15px #ff9d00;
}

/* ============ DASHBOARD STATS ============ */
.leccion-sustentabilidad .dashboard-stat {
    background: #000;
    border: 2px solid #00d4ff;
    padding: 20px;
    text-align: center;
    margin: 10px 0;
    font-family: 'VT323', monospace;
    position: relative;
    transition: all 0.3s;
    min-height: 100px;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.leccion-sustentabilidad .dashboard-stat:hover {
    border-color: #ff9d00;
    animation: glitch 0.3s;
    box-shadow: 0 0 20px rgba(255, 157, 0, 0.3);
}

.leccion-sustentabilidad .dashboard-stat .stat-val {
    display: block;
    font-size: 2em;
    font-weight: bold;
    color: #00d4ff;
    text-shadow: 0 0 10px #00d4ff;
    margin: 10px 0;
    font-family: 'Courier New', monospace;
}

.leccion-sustentabilidad .dashboard-stat .stat-val[style*="color:var(--neon-orange)"] {
    color: #ff9d00 !important;
    text-shadow: 0 0 10px #ff9d00 !important;
}

/* ============ SIMULATOR FEEDBACK ============ */
.leccion-sustentabilidad #simFeedback {
    background: rgba(0, 0, 0, 0.8);
    border: 2px solid;
    padding: 15px;
    margin-top: 20px;
    font-family: 'VT323', monospace;
    font-size: 1.2em;
    text-align: center;
    text-transform: uppercase;
    letter-spacing: 2px;
}

/* ============ LABORATORIO CYBERPUNK ============ */
.leccion-sustentabilidad .lab-box {
    background: radial-gradient(circle at top right, #1c2128, #0a0e14);
    border: 3px solid #ff9d00;
    padding: 30px;
    margin: 35px 0;
    position: relative;
    overflow: hidden;
}

.leccion-sustentabilidad .lab-box::before {
    content: 'LAB_ADVANCED';
    position: absolute;
    top: -12px;
    left: 20px;
    background: #000;
    color: #ff9d00;
    padding: 0 10px;
    font-size: 12px;
    font-family: 'VT323', monospace;
}

.leccion-sustentabilidad .lab-box h4 {
    color: #ff9d00;
    border: none;
    padding: 0;
    margin: 0 0 25px 0;
    font-family: 'VT323', monospace;
    font-size: 1.8em;
}

.leccion-sustentabilidad .lab-box h4::before {
    content: '丘勇 ';
}

/* ============ LAB FIELD GROUPS ============ */
.leccion-sustentabilidad .lab-field-group {
    background: rgba(0, 0, 0, 0.8);
    border: 2px solid rgba(255, 157, 0, 0.3);
    padding: 20px;
    border-radius: 0;
    transition: all 0.3s;
    margin-bottom: 20px;
    position: relative;
    overflow: hidden;
}

.leccion-sustentabilidad .lab-field-group:hover {
    border-color: #ff9d00;
    animation: glitch 0.2s;
    background: rgba(255, 157, 0, 0.05);
}

.leccion-sustentabilidad .lab-field-group:focus-within {
    border-color: #ff9d00;
    box-shadow: 0 0 20px rgba(255, 157, 0, 0.4);
}

.leccion-sustentabilidad .lab-field-group:focus-within .stat-label {
    color: #ff9d00;
    text-shadow: 0 0 8px rgba(255, 157, 0, 0.5);
}

/* ============ INPUTS LABORATORIO ============ */
.leccion-sustentabilidad .input-master-lab {
    background: #000 !important;
    border: 2px solid #00d4ff !important;
    color: #ff9d00 !important;
    font-family: 'Courier New', monospace;
    font-size: 1.4em;
    font-weight: bold;
    text-align: center;
    padding: 15px;
    border-radius: 0;
    transition: all 0.3s;
}

.leccion-sustentabilidad .input-master-lab:focus {
    border-color: #ff9d00 !important;
    box-shadow: 0 0 20px rgba(255, 157, 0, 0.4);
    outline: none;
    animation: pulse-green 1s infinite;
}

/* ============ DISPLAY VALUES ============ */
.leccion-sustentabilidad #surfaceArea,
.leccion-sustentabilidad #remEff {
    font-family: 'VT323', monospace;
    text-shadow: 0 0 10px currentColor;
}

.leccion-sustentabilidad #surfaceArea {
    font-size: 2.5em;
    color: #00ff9d;
}

.leccion-sustentabilidad #remEff {
    font-size: 3.5em;
    color: #ff9d00;
}

.leccion-sustentabilidad .removal-display {
    border: 2px solid rgba(0, 255, 157, 0.2);
    padding: 25px;
    background: rgba(0, 20, 10, 0.7);
}

/* ============ QUIZ TERMINAL ============ */
.leccion-sustentabilidad .quiz-terminal {
    background: #000;
    border: 3px solid #00ff9d;
    padding: 30px;
    margin: 35px 0;
    font-family: 'Courier New', monospace;
    position: relative;
}

.leccion-sustentabilidad .quiz-terminal::before {
    content: 'QUIZ_PROTOCOL_ODS12';
    position: absolute;
    top: -12px;
    left: 20px;
    background: #000;
    color: #00ff9d;
    padding: 0 10px;
    font-size: 12px;
    font-family: 'VT323', monospace;
}

.leccion-sustentabilidad .quiz-terminal h5 {
    color: #00ff9d;
    font-family: 'VT323', monospace;
    font-size: 1.5em;
    margin-bottom: 25px;
}

.leccion-sustentabilidad .quiz-terminal h5::before {
    content: '游 ';
}

/* ============ BOTONES QUIZ ============ */
.leccion-sustentabilidad .opt-btn {
    background: #001;
    border: 2px solid #444c56;
    color: #8af;
    padding: 15px;
    margin: 10px 0;
    text-align: left;
    cursor: pointer;
    font-family: 'Courier New', monospace;
    transition: all 0.2s;
    position: relative;
    overflow: hidden;
    width: 100%;
    display: flex;
    align-items: center;
}

.leccion-sustentabilidad .opt-btn:hover {
    background: #002;
    border-color: #00d4ff;
    transform: translateX(10px);
    box-shadow: 0 0 15px rgba(0, 212, 255, 0.3);
}

.leccion-sustentabilidad .opt-btn.correct {
    background: rgba(0, 255, 157, 0.1);
    border-color: #00ff9d;
    color: #00ff9d;
    box-shadow: 0 0 20px rgba(0, 255, 157, 0.4);
    animation: blink 0.5s;
}

.leccion-sustentabilidad .opt-btn.incorrect {
    background: rgba(255, 68, 68, 0.1);
    border-color: #ff4444;
    color: #ff4444;
    box-shadow: 0 0 20px rgba(255, 68, 68, 0.4);
}

.leccion-sustentabilidad .opt-btn:disabled {
    opacity: 0.7;
    cursor: not-allowed;
}

.leccion-sustentabilidad .opt-letter {
    color: #ff9d00;
    font-weight: bold;
    margin-right: 15px;
    font-family: 'VT323', monospace;
    font-size: 1.2em;
    min-width: 30px;
}

/* ============ QUIZ RESULT ============ */
.leccion-sustentabilidad #quizResult {
    background: rgba(0, 0, 0, 0.8);
    border: 2px solid #00d4ff;
    padding: 20px;
    margin-top: 20px;
    font-family: 'Courier New', monospace;
    display: none;
}

/* ============ CONCLUSI칍N SIST칄MICA ============ */
.leccion-sustentabilidad .conclusion-section {
    background: rgba(0, 40, 20, 0.8);
    border: 3px solid #00ff9d;
    padding: 35px;
    margin-top: 40px;
    position: relative;
    overflow: hidden;
}

.leccion-sustentabilidad .conclusion-section::before {
    content: 'CONCLUSION_SYSTEMIC';
    position: absolute;
    top: -12px;
    left: 20px;
    background: #000;
    color: #00ff9d;
    padding: 0 10px;
    font-size: 12px;
    font-family: 'VT323', monospace;
}

.leccion-sustentabilidad .conclusion-section h3 {
    color: #00ff9d;
    border: none;
    padding: 0;
    margin-top: 0;
    font-family: 'VT323', monospace;
    font-size: 2em;
    text-align: center;
}

.leccion-sustentabilidad .conclusion-section p {
    color: #8af;
    font-size: 1.1em;
    line-height: 1.7;
    max-width: 900px;
    margin: 20px auto;
    font-family: 'Courier New', monospace;
    text-align: center;
}

.leccion-sustentabilidad .conclusion-section strong {
    color: #00ff9d;
    text-shadow: 0 0 5px #00ff9d;
}

/* ============ KEY FRAMES CUSTOM ============ */
@keyframes pulse-orange {
    0%, 100% { 
        box-shadow: 0 0 15px rgba(255, 157, 0, 0.5);
    }
    50% { 
        box-shadow: 0 0 25px rgba(255, 157, 0, 0.8),
                   0 0 40px rgba(255, 157, 0, 0.3);
    }
}

@keyframes value-update {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
}

/* ============ RESPONSIVE 8BIT ============ */
@media (max-width: 768px) {
    .leccion-sustentabilidad {
        padding: 15px;
        border-width: 2px;
    }
    
    .leccion-sustentabilidad h1 {
        font-size: 1.8em;
        letter-spacing: 2px;
    }
    
    .leccion-sustentabilidad h3,
    .leccion-sustentabilidad h4,
    .leccion-sustentabilidad h5 {
        font-size: 1.2em;
    }
    
    .leccion-sustentabilidad .input-master-lab {
        font-size: 1.1em;
        padding: 10px;
    }
    
    .leccion-sustentabilidad #surfaceArea {
        font-size: 1.8em;
    }
    
    .leccion-sustentabilidad #remEff {
        font-size: 2.5em;
    }
}

/* ============ UTILITY CLASSES ============ */
.leccion-sustentabilidad .text-cyan { color: #00d4ff !important; }
.leccion-sustentabilidad .text-orange { color: #ff9d00 !important; }
.leccion-sustentabilidad .text-green { color: #00ff9d !important; }
.leccion-sustentabilidad .text-purple { color: #cc66ff !important; }

.leccion-sustentabilidad .border-cyan { border-color: #00d4ff !important; }
.leccion-sustentabilidad .border-orange { border-color: #ff9d00 !important; }
.leccion-sustentabilidad .border-green { border-color: #00ff9d !important; }

.leccion-sustentabilidad .bg-cyan { background-color: #00d4ff !important; }
.leccion-sustentabilidad .bg-orange { background-color: #ff9d00 !important; }
.leccion-sustentabilidad .bg-green { background-color: #00ff9d !important; }

.leccion-sustentabilidad .blink { animation: blink 1s infinite; }
.leccion-sustentabilidad .glitch { animation: glitch 0.3s; }
.leccion-sustentabilidad .pulse { animation: pulse-green 2s infinite; }

/* ============ MATRIX DROPS ============ */
.matrix-drop {
    position: absolute;
    color: #00ff9d;
    font-family: 'VT323', monospace;
    font-size: 14px;
    opacity: 0;
    pointer-events: none;
    z-index: -1;
}

/* ============ CUSTOM SCROLLBAR ============ */
.leccion-sustentabilidad::-webkit-scrollbar {
    width: 10px;
}

.leccion-sustentabilidad::-webkit-scrollbar-track {
    background: #000;
    border: 1px solid #00ff9d;
}

.leccion-sustentabilidad::-webkit-scrollbar-thumb {
    background: #00ff9d;
    border: 2px solid #000;
}

.leccion-sustentabilidad::-webkit-scrollbar-thumb:hover {
    background: #00d4ff;
    box-shadow: 0 0 10px #00d4ff;
}

/* CSS CYBERPUNK/8BIT MINI */
.leccion-sustentabilidad {
    font-family: 'VT323', 'Courier New', monospace;
    color: #00ff9d;
    background: #05070a;
    padding: 20px;
    border: 2px solid #00ff9d;
    box-shadow: 0 0 20px rgba(0, 255, 157, 0.3);
    image-rendering: pixelated;
    position: relative;
    overflow: hidden;
}
.leccion-sustentabilidad::before {
    content: '';
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    pointer-events: none;
    background: repeating-linear-gradient(0deg, transparent, transparent 1px, rgba(0, 255, 157, 0.05) 1px);
    opacity: 0.3;
    z-index: 9998;
}
.leccion-sustentabilidad::after {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background: linear-gradient(90deg, transparent, rgba(0, 212, 255, 0.03) 50%, transparent);
    z-index: -1;
}

/* ANIMACIONES */
@keyframes glitch { 0%, 100% { transform: translate(0); } 20% { transform: translate(-1px, 2px); } 40% { transform: translate(-1px, -1px); } 60% { transform: translate(2px, 1px); } 80% { transform: translate(1px, -2px); } }
@keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.3; } }
@keyframes pulse-green { 0%, 100% { box-shadow: 0 0 10px rgba(0, 255, 157, 0.5); } 50% { box-shadow: 0 0 20px rgba(0, 255, 157, 0.8); } }

/* HEADER TERMINAL */
.terminal-header {
    background: rgba(0, 20, 15, 0.8);
    border: 1px solid #00ff9d;
    padding: 10px;
    margin-bottom: 20px;
    position: relative;
}
.terminal-header::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background: repeating-linear-gradient(90deg, transparent, transparent 2px, rgba(0, 255, 157, 0.1) 2px);
    pointer-events: none;
}
.terminal-prompt { color: #00ff9d; font-size: 1.1em; }
.blink { animation: blink 1s infinite; }

/* T칈TULOS */
.leccion-sustentabilidad h1 {
    color: #00ff9d;
    text-transform: uppercase;
    letter-spacing: 2px;
    text-shadow: 0 0 10px #00ff9d;
    border-bottom: 2px solid #00ff9d;
    padding-bottom: 10px;
    margin-bottom: 20px;
    font-size: 2em;
}
.leccion-sustentabilidad h1::before { content: '丘 '; color: #00d4ff; }
.leccion-sustentabilidad h1::after { content: ' 丘'; color: #00d4ff; }
.leccion-sustentabilidad h3, .leccion-sustentabilidad h4, .leccion-sustentabilidad h5 {
    color: #00d4ff;
    border-left: 3px solid #00d4ff;
    padding-left: 10px;
    margin-top: 20px;
    text-transform: uppercase;
    letter-spacing: 1px;
}
.leccion-sustentabilidad h4::before, .leccion-sustentabilidad h5::before {
    content: '郊';
    color: #ff9d00;
    position: absolute;
    left: 5px;
}

/* CONCEPT HEADER */
.concept-header {
    background: rgba(0, 30, 20, 0.7);
    border: 1px solid #00ff9d;
    padding: 15px;
    margin: 20px 0;
    animation: pulse-green 3s infinite;
}
.concept-header::before {
    content: 'SYS_ANALYSIS';
    position: absolute;
    top: 5px;
    left: 10px;
    color: #00ff9d;
    font-size: 10px;
    opacity: 0.7;
    animation: blink 2s infinite;
}

/* SLIDERS */
.slider-group {
    background: rgba(0, 0, 0, 0.8);
    border: 1px solid #00ff9d;
    padding: 15px;
    margin: 15px 0;
}
.stat-label {
    color: #8af;
    font-family: 'VT323', monospace;
    font-size: 0.8em;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 10px;
}
.form-range {
    -webkit-appearance: none;
    width: 100%;
    height: 10px;
    background: #002;
    border: 1px solid #00ff9d;
    margin: 10px 0;
}
.form-range::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 20px;
    height: 20px;
    background: #ff9d00;
    border: 1px solid #00ff9d;
    cursor: pointer;
    box-shadow: 0 0 10px #ff9d00;
}

/* DASHBOARD */
.dashboard-stat {
    background: #000;
    border: 1px solid #00d4ff;
    padding: 15px;
    text-align: center;
    margin: 8px 0;
    min-height: 80px;
    display: flex;
    flex-direction: column;
    justify-content: center;
}
.dashboard-stat:hover {
    border-color: #ff9d00;
    animation: glitch 0.3s;
}
.stat-val {
    font-size: 1.5em;
    color: #00d4ff;
    text-shadow: 0 0 8px #00d4ff;
    margin: 8px 0;
}

/* LABORATORIO */
.lab-box {
    background: radial-gradient(circle at top right, #1c2128, #0a0e14);
    border: 2px solid #ff9d00;
    padding: 20px;
    margin: 25px 0;
}
.lab-box::before {
    content: 'LAB_ADVANCED';
    position: absolute;
    top: -10px;
    left: 15px;
    background: #000;
    color: #ff9d00;
    padding: 0 8px;
    font-size: 10px;
}
.lab-box h4 {
    color: #ff9d00;
    font-size: 1.5em;
    margin-bottom: 15px;
}
.lab-box h4::before { content: '丘勇 '; }

/* QUIZ */
.quiz-terminal {
    background: #000;
    border: 2px solid #00ff9d;
    padding: 20px;
    margin: 25px 0;
}
.quiz-terminal::before {
    content: 'QUIZ_PROTOCOL_ODS12';
    position: absolute;
    top: -10px;
    left: 15px;
    background: #000;
    color: #00ff9d;
    padding: 0 8px;
    font-size: 10px;
}
.quiz-terminal h5 {
    color: #00ff9d;
    font-size: 1.3em;
    margin-bottom: 15px;
}
.quiz-terminal h5::before { content: '游 '; }

/* BOTONES QUIZ */
.opt-btn {
    background: #001;
    border: 1px solid #444c56;
    color: #8af;
    padding: 10px;
    margin: 6px 0;
    cursor: pointer;
    display: flex;
    align-items: center;
}
.opt-btn:hover {
    background: #002;
    border-color: #00d4ff;
    transform: translateX(8px);
}
.opt-btn.correct {
    background: rgba(0, 255, 157, 0.1);
    border-color: #00ff9d;
    color: #00ff9d;
}
.opt-btn.incorrect {
    background: rgba(255, 68, 68, 0.1);
    border-color: #ff4444;
    color: #ff4444;
}
.opt-letter {
    color: #ff9d00;
    font-weight: bold;
    margin-right: 10px;
    min-width: 25px;
}

/* CONCLUSI칍N */
.conclusion-section {
    background: rgba(0, 40, 20, 0.8);
    border: 2px solid #00ff9d;
    padding: 25px;
    margin-top: 30px;
}
.conclusion-section::before {
    content: 'CONCLUSION_SYSTEMIC';
    position: absolute;
    top: -10px;
    left: 15px;
    background: #000;
    color: #00ff9d;
    padding: 0 8px;
    font-size: 10px;
}
.conclusion-section h3 {
    color: #00ff9d;
    font-size: 1.5em;
    text-align: center;
}
.conclusion-section p {
    color: #8af;
    font-size: 1em;
    line-height: 1.6;
    max-width: 800px;
    margin: 15px auto;
    text-align: center;
}

/* UTILITIES */
.text-cyan { color: #00d4ff !important; }
.text-orange { color: #ff9d00 !important; }
.text-green { color: #00ff9d !important; }
.border-cyan { border-color: #00d4ff !important; }
.border-orange { border-color: #ff9d00 !important; }
.border-green { border-color: #00ff9d !important; }
.blink { animation: blink 1s infinite; }
.pulse { animation: pulse-green 2s infinite; }

/* RESPONSIVE */
@media (max-width: 768px) {
    .leccion-sustentabilidad { padding: 10px; }
    .leccion-sustentabilidad h1 { font-size: 1.5em; }
    .leccion-sustentabilidad h3, .leccion-sustentabilidad h4, .leccion-sustentabilidad h5 { font-size: 1em; }
}

/* CSS CYBERPUNK/8BIT MINI */
.leccion-sustentabilidad{font-family:'VT323',monospace;color:#00ff9d;background:#05070a;padding:15px;border:1px solid #00ff9d;box-shadow:0 0 10px rgba(0,255,157,0.2);position:relative;overflow:hidden}
.leccion-sustentabilidad::before{content:'';position:fixed;top:0;left:0;right:0;bottom:0;pointer-events:none;background:repeating-linear-gradient(0deg,transparent,transparent 1px,rgba(0,255,157,0.05) 1px);opacity:0.2;z-index:9998}
.leccion-sustentabilidad::after{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(90deg,transparent,rgba(0,212,255,0.03) 50%,transparent);z-index:-1}

/* ANIMACIONES */
@keyframes glitch{20%{transform:translate(-1px,2px)}40%{transform:translate(-1px,-1px)}60%{transform:translate(2px,1px)}80%{transform:translate(1px,-2px)}}
@keyframes blink{50%{opacity:0.3}}
@keyframes pulse-green{50%{box-shadow:0 0 15px rgba(0,255,157,0.7)}}

/* HEADER TERMINAL */
.terminal-header{background:rgba(0,20,15,0.7);border:1px solid #00ff9d;padding:8px;margin-bottom:15px;position:relative}
.terminal-header::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:repeating-linear-gradient(90deg,transparent,transparent 2px,rgba(0,255,157,0.1) 2px);pointer-events:none}
.terminal-prompt{color:#00ff9d;font-size:1em}.blink{animation:blink 1s infinite}

/* T칈TULOS */
.leccion-sustentabilidad h1{color:#00ff9d;text-transform:uppercase;letter-spacing:1px;text-shadow:0 0 8px #00ff9d;border-bottom:1px solid #00ff9d;padding-bottom:8px;margin-bottom:15px;font-size:1.5em}
.leccion-sustentabilidad h1::before,.leccion-sustentabilidad h1::after{content:'丘';color:#00d4ff}
.leccion-sustentabilidad h3,.leccion-sustentabilidad h4,.leccion-sustentabilidad h5{color:#00d4ff;border-left:2px solid #00d4ff;padding-left:8px;margin-top:15px;text-transform:uppercase;letter-spacing:1px;font-size:0.9em}
.leccion-sustentabilidad h4::before,.leccion-sustentabilidad h5::before{content:'郊';color:#ff9d00;position:absolute;left:3px}

/* CONCEPT HEADER */
.concept-header{background:rgba(0,30,20,0.6);border:1px solid #00ff9d;padding:12px;margin:15px 0;animation:pulse-green 3s infinite}
.concept-header::before{content:'SYS_ANALYSIS';position:absolute;top:3px;left:8px;color:#00ff9d;font-size:9px;opacity:0.6;animation:blink 2s infinite}

/* SLIDERS */
.slider-group{background:rgba(0,0,0,0.7);border:1px solid #00ff9d;padding:12px;margin:12px 0}
.stat-label{color:#8af;font-family:'VT323',monospace;font-size:0.7em;text-transform:uppercase;letter-spacing:1px;margin-bottom:8px}
.form-range{-webkit-appearance:none;width:100%;height:8px;background:#002;border:1px solid #00ff9d;margin:8px 0}
.form-range::-webkit-slider-thumb{-webkit-appearance:none;width:16px;height:16px;background:#ff9d00;border:1px solid #00ff9d;cursor:pointer;box-shadow:0 0 8px #ff9d00}

/* DASHBOARD */
.dashboard-stat{background:#000;border:1px solid #00d4ff;padding:12px;text-align:center;margin:6px 0;min-height:70px;display:flex;flex-direction:column;justify-content:center}
.dashboard-stat:hover{border-color:#ff9d00;animation:glitch 0.3s}
.stat-val{font-size:1.3em;color:#00d4ff;text-shadow:0 0 6px #00d4ff;margin:6px 0}

/* LABORATORIO */
.lab-box{background:radial-gradient(circle at top right,#1c2128,#0a0e14);border:1px solid #ff9d00;padding:15px;margin:20px 0}
.lab-box::before{content:'LAB_ADVANCED';position:absolute;top:-8px;left:12px;background:#000;color:#ff9d00;padding:0 6px;font-size:9px}
.lab-box h4{color:#ff9d00;font-size:1.3em;margin-bottom:12px}.lab-box h4::before{content:'丘勇'}

/* QUIZ */
.quiz-terminal{background:#000;border:1px solid #00ff9d;padding:15px;margin:20px 0}
.quiz-terminal::before{content:'QUIZ_PROTOCOL';position:absolute;top:-8px;left:12px;background:#000;color:#00ff9d;padding:0 6px;font-size:9px}
.quiz-terminal h5{color:#00ff9d;font-size:1.1em;margin-bottom:12px}.quiz-terminal h5::before{content:'游'}

/* BOTONES QUIZ */
.opt-btn{background:#001;border:1px solid #444c56;color:#8af;padding:8px;margin:4px 0;cursor:pointer;display:flex;align-items:center}
.opt-btn:hover{background:#002;border-color:#00d4ff;transform:translateX(6px)}
.opt-btn.correct{background:rgba(0,255,157,0.1);border-color:#00ff9d;color:#00ff9d}
.opt-btn.incorrect{background:rgba(255,68,68,0.1);border-color:#ff4444;color:#ff4444}
.opt-letter{color:#ff9d00;font-weight:bold;margin-right:8px;min-width:20px}

/* CONCLUSI칍N */
.conclusion-section{background:rgba(0,40,20,0.7);border:1px solid #00ff9d;padding:20px;margin-top:25px}
.conclusion-section::before{content:'CONCLUSION';position:absolute;top:-8px;left:12px;background:#000;color:#00ff9d;padding:0 6px;font-size:9px}
.conclusion-section h3{color:#00ff9d;font-size:1.3em;text-align:center}
.conclusion-section p{color:#8af;font-size:0.9em;line-height:1.5;max-width:800px;margin:12px auto;text-align:center}

/* UTILITIES */
.text-cyan{color:#00d4ff!important}.text-orange{color:#ff9d00!important}.text-green{color:#00ff9d!important}
.border-cyan{border-color:#00d4ff!important}.border-orange{border-color:#ff9d00!important}.border-green{border-color:#00ff9d!important}
.blink{animation:blink 1s infinite}.pulse{animation:pulse-green 2s infinite}

/* RESPONSIVE */
@media (max-width:768px){.leccion-sustentabilidad{padding:8px}.leccion-sustentabilidad h1{font-size:1.2em}}

/* CSS CYBERPUNK/8BIT PARA URBANISMO SIST칄MICO */
.leccion-urbanismo {
    font-family: 'VT323', 'Courier New', 'Consolas', monospace;
    line-height: 1.3;
    color: #00f2ff; /* Cian cibern칠tico */
    background: #0a0c10;
    padding: 35px;
    border: 4px solid #00f2ff;
    box-shadow: 
        0 0 50px rgba(0, 242, 255, 0.5),
        inset 0 0 40px rgba(0, 242, 255, 0.1);
    image-rendering: pixelated;
    position: relative;
    overflow: hidden;
}

/* ============ EFECTO GRID DE CIUDAD ============ */
.leccion-urbanismo::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    background-image: 
        linear-gradient(rgba(0, 242, 255, 0.1) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 242, 255, 0.1) 1px, transparent 1px);
    background-size: 50px 50px;
    z-index: 9997;
    opacity: 0.3;
}

/* ============ SCANLINES CYBERPUNK ============ */
.leccion-urbanismo::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    background: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 2px,
        rgba(0, 242, 255, 0.05) 2px,
        rgba(0, 242, 255, 0.05) 4px
    );
    z-index: 9998;
    animation: scanlines 8s linear infinite;
}

@keyframes scanlines {
    0% { transform: translateY(-100%); }
    100% { transform: translateY(100%); }
}

/* ============ ANIMACIONES CYBERPUNK ============ */
@keyframes glitch {
    0% { transform: translate(0); filter: hue-rotate(0deg); }
    20% { transform: translate(-1px, 1px); filter: hue-rotate(90deg); }
    40% { transform: translate(1px, -1px); filter: hue-rotate(180deg); }
    60% { transform: translate(-1px, 2px); filter: hue-rotate(270deg); }
    80% { transform: translate(1px, -2px); filter: hue-rotate(360deg); }
    100% { transform: translate(0); filter: hue-rotate(0deg); }
}

@keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.3; }
}

@keyframes pulse-cyan {
    0%, 100% { 
        box-shadow: 0 0 20px rgba(0, 242, 255, 0.6);
    }
    50% { 
        box-shadow: 0 0 40px rgba(0, 242, 255, 0.9),
                   0 0 60px rgba(0, 242, 255, 0.3);
    }
}

@keyframes rotate-3d {
    0% { transform: rotateY(0deg) rotateX(0deg); }
    25% { transform: rotateY(5deg) rotateX(2deg); }
    50% { transform: rotateY(0deg) rotateX(0deg); }
    75% { transform: rotateY(-5deg) rotateX(-2deg); }
    100% { transform: rotateY(0deg) rotateX(0deg); }
}

@keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

/* ============ HEADER TERMINAL URBANO ============ */
.leccion-urbanismo .terminal-header {
    background: rgba(0, 20, 40, 0.8);
    border: 3px solid #00f2ff;
    padding: 20px;
    margin-bottom: 35px;
    font-family: 'VT323', monospace;
    position: relative;
    overflow: hidden;
}

.leccion-urbanismo .terminal-header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        repeating-linear-gradient(
            90deg,
            transparent,
            transparent 2px,
            rgba(0, 242, 255, 0.1) 2px,
            rgba(0, 242, 255, 0.1) 4px
        );
    pointer-events: none;
}

.leccion-urbanismo .terminal-prompt {
    color: #00f2ff;
    font-size: 1.4em;
    text-shadow: 0 0 10px #00f2ff;
}

.leccion-urbanismo .terminal-prompt .blink {
    animation: blink 1s infinite;
}

/* ============ T칈TULOS Y ENCABEZADOS ============ */
.leccion-urbanismo h1 {
    color: #00f2ff;
    text-transform: uppercase;
    letter-spacing: 4px;
    text-shadow: 
        0 0 15px #00f2ff,
        0 0 30px rgba(0, 242, 255, 0.5);
    border-bottom: 3px solid #ffcc00;
    padding-bottom: 20px;
    margin-bottom: 30px;
    font-family: 'VT323', monospace;
    font-size: 3.2em;
    position: relative;
    animation: float 6s ease-in-out infinite;
}

.leccion-urbanismo h1::before {
    content: '游끷勇 ';
    color: #ffcc00;
}

.leccion-urbanismo h1::after {
    content: ' 游끷勇';
    color: #ffcc00;
}

.leccion-urbanismo h3, 
.leccion-urbanismo h4, 
.leccion-urbanismo h5 {
    color: #39ff14;
    border-left: 6px solid #39ff14;
    padding-left: 20px;
    margin-top: 35px;
    text-transform: uppercase;
    letter-spacing: 2px;
    font-family: 'VT323', monospace;
    position: relative;
}

.leccion-urbanismo h4::before,
.leccion-urbanismo h5::before {
    content: '郊';
    color: #ffcc00;
    position: absolute;
    left: 5px;
}

/* ============ HEADER PRINCIPAL ============ */
.leccion-urbanismo .main-header {
    background: rgba(0, 40, 60, 0.7);
    border: 3px solid #00f2ff;
    padding: 30px;
    margin: 35px 0;
    position: relative;
    overflow: hidden;
    animation: pulse-cyan 4s infinite;
}

.leccion-urbanismo .main-header::before {
    content: 'URBAN_SYSTEM_ANALYSIS';
    position: absolute;
    top: 5px;
    left: 15px;
    color: #00f2ff;
    font-size: 12px;
    opacity: 0.7;
    animation: blink 3s infinite;
}

.leccion-urbanismo .lead {
    color: #8af;
    font-size: 1.3em;
    line-height: 1.8;
    margin-top: 20px;
    font-family: 'Courier New', monospace;
}

.leccion-urbanismo .lead strong {
    color: #39ff14;
    text-shadow: 0 0 8px #39ff14;
}

/* ============ STATUS MONITOR ============ */
.leccion-urbanismo .status-monitor {
    background: #000;
    border: 3px solid #00f2ff;
    padding: 25px;
    font-family: 'Courier New', monospace;
    position: relative;
    overflow: hidden;
    box-shadow: 0 0 25px rgba(0, 242, 255, 0.3);
}

.leccion-urbanismo .status-monitor::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, #00f2ff, transparent);
    animation: scanline-h 3s linear infinite;
}

.leccion-urbanismo .status-monitor .ui-label {
    color: #ffcc00;
    font-family: 'VT323', monospace;
    font-size: 1em;
    text-transform: uppercase;
    letter-spacing: 3px;
    margin-bottom: 20px;
    display: block;
}

.leccion-urbanismo .status-monitor > div {
    color: #00f2ff;
    font-size: 1.1em;
    margin: 12px 0;
    padding-left: 15px;
    position: relative;
}

.leccion-urbanismo .status-monitor > div::before {
    content: '>';
    color: #39ff14;
    position: absolute;
    left: 0;
}

/* ============ SVG DIAGRAMA METAB칍LICO ============ */
.leccion-urbanismo .svg-container {
    background: #000;
    border: 4px solid #39ff14;
    padding: 30px;
    margin: 40px 0;
    position: relative;
    overflow: hidden;
    box-shadow: 0 0 35px rgba(57, 255, 20, 0.4);
}

.leccion-urbanismo .svg-container::before {
    content: 'METABOLIC_FLOW_DIAGRAM.EXE';
    position: absolute;
    top: -15px;
    left: 25px;
    background: #000;
    color: #39ff14;
    padding: 0 15px;
    font-size: 14px;
    font-family: 'VT323', monospace;
    z-index: 1;
}

/* ============ SIMULADOR CYBERPUNK ============ */
.leccion-urbanismo .sim-card {
    background: rgba(13, 20, 30, 0.9);
    border: 3px solid #ffcc00;
    padding: 35px;
    margin: 40px 0;
    position: relative;
    overflow: hidden;
    animation: rotate-3d 10s infinite linear;
}

.leccion-urbanismo .sim-card::before {
    content: 'SIMULATOR_ODS11';
    position: absolute;
    top: 5px;
    right: 15px;
    color: #ffcc00;
    font-size: 12px;
    animation: blink 2s infinite;
}

.leccion-urbanismo .sim-card h4 {
    color: #ffcc00;
    border: none;
    padding: 0;
    margin: 0 0 25px 0;
    font-family: 'VT323', monospace;
    font-size: 2em;
}

.leccion-urbanismo .sim-card h4::before {
    content: '游꿡 ';
}

/* ============ SLIDERS URBANOS ============ */
.leccion-urbanismo .slider-urban {
    background: rgba(0, 0, 0, 0.8);
    border: 2px solid #00f2ff;
    padding: 25px;
    margin: 25px 0;
    position: relative;
}

.leccion-urbanismo .slider-urban:hover {
    animation: glitch 0.5s;
}

.leccion-urbanismo .ui-label {
    color: #ffcc00;
    font-family: 'VT323', monospace;
    font-size: 1.1em;
    text-transform: uppercase;
    letter-spacing: 3px;
    margin-bottom: 20px;
    display: block;
}

.leccion-urbanismo .form-range {
    -webkit-appearance: none;
    width: 100%;
    height: 15px;
    background: #002;
    border: 2px solid #00f2ff;
    border-radius: 0;
    outline: none;
    margin: 20px 0;
}

.leccion-urbanismo .form-range::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 30px;
    height: 30px;
    background: #39ff14;
    border: 3px solid #00f2ff;
    cursor: pointer;
    box-shadow: 0 0 20px #39ff14;
    transition: all 0.2s;
}

.leccion-urbanismo .form-range::-webkit-slider-thumb:hover {
    background: #6aff44;
    box-shadow: 0 0 30px #39ff14;
    transform: scale(1.2);
}

.leccion-urbanismo .form-range::-moz-range-thumb {
    width: 30px;
    height: 30px;
    background: #39ff14;
    border: 3px solid #00f2ff;
    cursor: pointer;
    box-shadow: 0 0 20px #39ff14;
}

/* ============ VALORES DE DATOS ============ */
.leccion-urbanismo .data-value {
    font-size: 2.5em;
    font-weight: bold;
    color: #00f2ff;
    text-shadow: 0 0 15px #00f2ff;
    margin: 15px 0;
    font-family: 'Courier New', monospace;
    display: block;
}

.leccion-urbanismo .data-container {
    background: #000;
    border: 2px solid #39ff14;
    padding: 25px;
    text-align: center;
    margin: 15px 0;
    position: relative;
    transition: all 0.3s;
    min-height: 120px;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.leccion-urbanismo .data-container:hover {
    border-color: #ffcc00;
    animation: glitch 0.3s;
    box-shadow: 0 0 25px rgba(255, 204, 0, 0.4);
}

/* ============ SIM LOG ============ */
.leccion-urbanismo #simLog {
    background: rgba(0, 0, 0, 0.8);
    border: 2px solid #39ff14;
    padding: 20px;
    margin-top: 25px;
    font-family: 'Courier New', monospace;
    font-size: 1.1em;
    text-align: center;
    text-transform: uppercase;
    letter-spacing: 2px;
    position: relative;
    overflow: hidden;
}

.leccion-urbanismo #simLog::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        repeating-linear-gradient(
            0deg,
            transparent,
            transparent 2px,
            rgba(57, 255, 20, 0.1) 2px,
            rgba(57, 255, 20, 0.1) 4px
        );
    pointer-events: none;
}

/* ============ QUIZ MASTER ============ */
.leccion-urbanismo .quiz-master {
    background: rgba(0, 40, 20, 0.9);
    border: 3px solid #39ff14;
    padding: 40px;
    margin: 40px 0;
    position: relative;
}

.leccion-urbanismo .quiz-master::before {
    content: 'MASTER_EVALUATION';
    position: absolute;
    top: -15px;
    left: 25px;
    background: #000;
    color: #39ff14;
    padding: 0 15px;
    font-size: 14px;
    font-family: 'VT323', monospace;
}

.leccion-urbanismo .quiz-master h5 {
    color: #39ff14;
    font-family: 'VT323', monospace;
    font-size: 1.8em;
    margin-bottom: 30px;
}

.leccion-urbanismo .quiz-master h5::before {
    content: '游 ';
}

/* ============ BOTONES QUIZ ============ */
.leccion-urbanismo .quiz-btn {
    background: #001;
    border: 2px solid #444c56;
    color: #8af;
    padding: 20px;
    margin: 15px 0;
    text-align: left;
    cursor: pointer;
    font-family: 'Courier New', monospace;
    transition: all 0.3s;
    position: relative;
    overflow: hidden;
    width: 100%;
    display: flex;
    align-items: center;
}

.leccion-urbanismo .quiz-btn:hover {
    background: #002;
    border-color: #00f2ff;
    transform: translateX(15px);
    box-shadow: 0 0 20px rgba(0, 242, 255, 0.4);
}

.leccion-urbanismo .quiz-btn.activated {
    background: rgba(0, 242, 255, 0.1);
    border-color: #00f2ff;
    color: #00f2ff;
}

.leccion-urbanismo .quiz-btn.correct {
    background: rgba(57, 255, 20, 0.1);
    border-color: #39ff14;
    color: #39ff14;
    box-shadow: 0 0 25px rgba(57, 255, 20, 0.5);
    animation: blink 0.5s;
}

.leccion-urbanismo .quiz-btn.incorrect {
    background: rgba(255, 68, 68, 0.1);
    border-color: #ff4444;
    color: #ff4444;
    box-shadow: 0 0 25px rgba(255, 68, 68, 0.5);
}

.leccion-urbanismo .quiz-btn:disabled {
    opacity: 0.7;
    cursor: not-allowed;
}

.leccion-urbanismo .quiz-letter {
    color: #ffcc00;
    font-weight: bold;
    margin-right: 20px;
    font-family: 'VT323', monospace;
    font-size: 1.5em;
    min-width: 40px;
    text-align: center;
}

/* ============ FEEDBACK MASTER ============ */
.leccion-urbanismo #masterFeedback {
    background: rgba(0, 0, 0, 0.9);
    border: 3px solid;
    padding: 25px;
    margin-top: 25px;
    font-family: 'Courier New', monospace;
    display: none;
    animation: glitch 0.3s;
}

.leccion-urbanismo .alert-success {
    background: rgba(57, 255, 20, 0.1) !important;
    border-color: #39ff14 !important;
    color: #39ff14 !important;
}

.leccion-urbanismo .alert-danger {
    background: rgba(255, 68, 68, 0.1) !important;
    border-color: #ff4444 !important;
    color: #ff4444 !important;
}

/* ============ CONCLUSI칍N EVOLUTIVA ============ */
.leccion-urbanismo .conclusion-evolutiva {
    background: rgba(0, 60, 80, 0.8);
    border: 3px solid #00f2ff;
    padding: 45px;
    margin-top: 50px;
    position: relative;
    overflow: hidden;
    animation: pulse-cyan 6s infinite;
}

.leccion-urbanismo .conclusion-evolutiva::before {
    content: 'EVOLUTIONARY_CONCLUSION';
    position: absolute;
    top: -15px;
    left: 25px;
    background: #000;
    color: #00f2ff;
    padding: 0 15px;
    font-size: 14px;
    font-family: 'VT323', monospace;
}

.leccion-urbanismo .conclusion-evolutiva h3 {
    color: #00f2ff;
    border: none;
    padding: 0;
    margin: 0 0 30px 0;
    font-family: 'VT323', monospace;
    font-size: 2.5em;
    text-align: center;
}

.leccion-urbanismo .conclusion-evolutiva p {
    color: #8af;
    font-size: 1.2em;
    line-height: 1.9;
    max-width: 900px;
    margin: 0 auto 30px auto;
    font-family: 'Courier New', monospace;
    text-align: center;
}

.leccion-urbanismo .conclusion-evolutiva strong {
    color: #39ff14;
    text-shadow: 0 0 8px #39ff14;
}

/* ============ BOTONES DE ACCI칍N ============ */
.leccion-urbanismo .btn-action {
    background: transparent;
    border: 2px solid #ffcc00;
    color: #ffcc00;
    padding: 15px 30px;
    transition: all 0.3s;
    text-transform: uppercase;
    font-family: 'VT323', monospace;
    font-size: 1.2em;
    letter-spacing: 2px;
    position: relative;
    overflow: hidden;
}

.leccion-urbanismo .btn-action:hover {
    background: #ffcc00;
    color: #000;
    box-shadow: 0 0 30px rgba(255, 204, 0, 0.6);
    transform: scale(1.05);
}

.leccion-urbanismo .btn-action::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.5s;
}

.leccion-urbanismo .btn-action:hover::before {
    left: 100%;
}

/* ============ CITY GRID EFFECT ============ */
.city-grid {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: -1;
    opacity: 0.1;
}

.grid-line {
    position: absolute;
    background: #00f2ff;
}

.grid-horizontal {
    width: 100%;
    height: 1px;
    left: 0;
}

.grid-vertical {
    width: 1px;
    height: 100%;
    top: 0;
}

/* ============ RESPONSIVE 8BIT ============ */
@media (max-width: 768px) {
    .leccion-urbanismo {
        padding: 20px;
        border-width: 2px;
    }
    
    .leccion-urbanismo h1 {
        font-size: 2em;
        letter-spacing: 2px;
    }
    
    .leccion-urbanismo h3,
    .leccion-urbanismo h4,
    .leccion-urbanismo h5 {
        font-size: 1.3em;
    }
    
    .leccion-urbanismo .data-value {
        font-size: 1.8em;
    }
    
    .leccion-urbanismo .quiz-letter {
        font-size: 1.2em;
        min-width: 30px;
    }
}

/* ============ UTILITY CLASSES ============ */
.leccion-urbanismo .text-cyan { color: #00f2ff !important; }
.leccion-urbanismo .text-green { color: #39ff14 !important; }
.leccion-urbanismo .text-gold { color: #ffcc00 !important; }
.leccion-urbanismo .text-purple { color: #cc66ff !important; }

.leccion-urbanismo .border-cyan { border-color: #00f2ff !important; }
.leccion-urbanismo .border-green { border-color: #39ff14 !important; }
.leccion-urbanismo .border-gold { border-color: #ffcc00 !important; }

.leccion-urbanismo .bg-cyan { background-color: #00f2ff !important; }
.leccion-urbanismo .bg-green { background-color: #39ff14 !important; }
.leccion-urbanismo .bg-gold { background-color: #ffcc00 !important; }

.leccion-urbanismo .blink { animation: blink 1s infinite; }
.leccion-urbanismo .glitch { animation: glitch 0.5s; }
.leccion-urbanismo .pulse { animation: pulse-cyan 3s infinite; }
.leccion-urbanismo .float { animation: float 5s ease-in-out infinite; }

/* ============ CUSTOM SCROLLBAR ============ */
.leccion-urbanismo::-webkit-scrollbar {
    width: 12px;
}

.leccion-urbanismo::-webkit-scrollbar-track {
    background: #000;
    border: 2px solid #00f2ff;
}

.leccion-urbanismo::-webkit-scrollbar-thumb {
    background: #00f2ff;
    border: 3px solid #000;
    box-shadow: 0 0 10px #00f2ff;
}

.leccion-urbanismo::-webkit-scrollbar-thumb:hover {
    background: #39ff14;
    box-shadow: 0 0 15px #39ff14;
}

/* CSS CYBERPUNK/8BIT URBANISMO MINI */
.leccion-urbanismo{font-family:'VT323',monospace;line-height:1.2;color:#00f2ff;background:#0a0c10;padding:20px;border:2px solid #00f2ff;box-shadow:0 0 20px rgba(0,242,255,0.3);position:relative;overflow:hidden}
.leccion-urbanismo::before{content:'';position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;background:linear-gradient(#00f2ff1a 1px,transparent 1px),linear-gradient(90deg,#00f2ff1a 1px,transparent 1px);background-size:30px 30px;z-index:9997;opacity:0.2}
.leccion-urbanismo::after{content:'';position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;background:repeating-linear-gradient(0deg,transparent,transparent 2px,#00f2ff0d 2px,#00f2ff0d 4px);z-index:9998;animation:scanlines 6s linear infinite}
@keyframes scanlines{to{transform:translateY(100%)}}
@keyframes glitch{20%{transform:translate(-1px,1px)}40%{transform:translate(1px,-1px)}60%{transform:translate(-1px,2px)}80%{transform:translate(1px,-2px)}}
@keyframes blink{50%{opacity:0.3}}
@keyframes pulse-cyan{50%{box-shadow:0 0 20px rgba(0,242,255,0.7)}}
@keyframes float{50%{transform:translateY(-8px)}}
.leccion-urbanismo .terminal-header{background:rgba(0,20,40,0.7);border:2px solid #00f2ff;padding:12px;margin-bottom:20px;position:relative}
.leccion-urbanismo .terminal-header::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:repeating-linear-gradient(90deg,transparent,transparent 2px,#00f2ff1a 2px,#00f2ff1a 4px);pointer-events:none}
.leccion-urbanismo .terminal-prompt{color:#00f2ff;font-size:1.1em;text-shadow:0 0 6px #00f2ff}
.leccion-urbanismo h1{color:#00f2ff;text-transform:uppercase;letter-spacing:2px;text-shadow:0 0 10px #00f2ff;border-bottom:2px solid #ffcc00;padding-bottom:10px;margin-bottom:20px;font-size:2em;animation:float 5s infinite}
.leccion-urbanismo h1::before,.leccion-urbanismo h1::after{content:'游끷勇';color:#ffcc00}
.leccion-urbanismo h3,.leccion-urbanismo h4,.leccion-urbanismo h5{color:#39ff14;border-left:3px solid #39ff14;padding-left:10px;margin-top:15px;text-transform:uppercase;letter-spacing:1px;font-size:0.9em}
.leccion-urbanismo h4::before,.leccion-urbanismo h5::before{content:'郊';color:#ffcc00;position:absolute;left:3px}
.leccion-urbanismo .main-header{background:rgba(0,40,60,0.6);border:2px solid #00f2ff;padding:15px;margin:20px 0;animation:pulse-cyan 3s infinite}
.leccion-urbanismo .main-header::before{content:'URBAN_SYS';position:absolute;top:3px;left:10px;color:#00f2ff;font-size:10px;opacity:0.6;animation:blink 2s infinite}
.leccion-urbanismo .lead{color:#8af;font-size:1em;line-height:1.5;margin-top:10px}
.leccion-urbanismo .status-monitor{background:#000;border:2px solid #00f2ff;padding:15px;box-shadow:0 0 15px rgba(0,242,255,0.2)}
.leccion-urbanismo .status-monitor::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,#00f2ff,transparent)}
.leccion-urbanismo .ui-label{color:#ffcc00;font-family:'VT323',monospace;font-size:0.8em;text-transform:uppercase;letter-spacing:1px;margin-bottom:10px}
.leccion-urbanismo .form-range{-webkit-appearance:none;width:100%;height:8px;background:#002;border:1px solid #00f2ff;margin:10px 0}
.leccion-urbanismo .form-range::-webkit-slider-thumb{-webkit-appearance:none;width:16px;height:16px;background:#39ff14;border:1px solid #00f2ff;cursor:pointer;box-shadow:0 0 8px #39ff14}
.leccion-urbanismo .data-value{font-size:1.8em;color:#00f2ff;text-shadow:0 0 8px #00f2ff;margin:10px 0;font-family:monospace}
.leccion-urbanismo .data-container{background:#000;border:1px solid #39ff14;padding:15px;text-align:center;margin:10px 0;min-height:80px;display:flex;flex-direction:column;justify-content:center}
.leccion-urbanismo .data-container:hover{border-color:#ffcc00;animation:glitch 0.3s}
.leccion-urbanismo .quiz-btn{background:#001;border:1px solid #444c56;color:#8af;padding:10px;margin:8px 0;cursor:pointer;display:flex;align-items:center}
.leccion-urbanismo .quiz-btn:hover{background:#002;border-color:#00f2ff;transform:translateX(8px)}
.leccion-urbanismo .quiz-btn.correct{background:rgba(57,255,20,0.1);border-color:#39ff14;color:#39ff14}
.leccion-urbanismo .quiz-btn.incorrect{background:rgba(255,68,68,0.1);border-color:#ff4444;color:#ff4444}
.leccion-urbanismo .quiz-letter{color:#ffcc00;font-weight:bold;margin-right:10px;min-width:20px}
.leccion-urbanismo .btn-action{background:transparent;border:1px solid #ffcc00;color:#ffcc00;padding:10px 20px;transition:all 0.2s;text-transform:uppercase;font-family:'VT323',monospace;letter-spacing:1px;position:relative;overflow:hidden}
.leccion-urbanismo .btn-action:hover{background:#ffcc00;color:#000;box-shadow:0 0 15px rgba(255,204,0,0.5);transform:scale(1.03)}
.leccion-urbanismo .conclusion-evolutiva{background:rgba(0,60,80,0.7);border:2px solid #00f2ff;padding:25px;margin-top:30px;animation:pulse-cyan 5s infinite}
.leccion-urbanismo .conclusion-evolutiva h3{color:#00f2ff;text-align:center;font-size:1.8em}
.leccion-urbanismo .conclusion-evolutiva p{color:#8af;font-size:0.9em;line-height:1.6;max-width:800px;margin:10px auto;text-align:center}
.text-cyan{color:#00f2ff!important}.text-green{color:#39ff14!important}.text-gold{color:#ffcc00!important}
.border-cyan{border-color:#00f2ff!important}.border-green{border-color:#39ff14!important}.border-gold{border-color:#ffcc00!important}
.blink{animation:blink 1s infinite}.glitch{animation:glitch 0.5s}.pulse{animation:pulse-cyan 2s infinite}.float{animation:float 4s infinite}
@media (max-width:768px){.leccion-urbanismo{padding:10px}.leccion-urbanismo h1{font-size:1.5em}.leccion-urbanismo .data-value{font-size:1.3em}}

/* CSS CYBERPUNK/8BIT URBANISMO ULTRAMINI */
.leccion-urbanismo{font-family:VT323,monospace;color:#00f2ff;background:#0a0c10;padding:10px;border:1px solid #00f2ff;box-shadow:0 0 10px #00f2ff33;position:relative;overflow:hidden}
.leccion-urbanismo::before{content:'';position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;background:linear-gradient(#00f2ff1a 1px,transparent 1px),linear-gradient(90deg,#00f2ff1a 1px,transparent 1px);background-size:20px 20px;z-index:9997;opacity:0.1}
.leccion-urbanismo::after{content:'';position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;background:repeating-linear-gradient(0,transparent,transparent 1px,#00f2ff0d 1px,#00f2ff0d 2px);z-index:9998;animation:s 4s linear infinite}
@keyframes s{to{transform:translateY(100%)}}
@keyframes g{20%,60%{transform:translate(-1px)}40%,80%{transform:translate(1px)}}
@keyframes b{50%{opacity:0.3}}
@keyframes p{50%{box-shadow:0 0 10px #00f2ff}}
@keyframes f{50%{transform:translateY(-5px)}}
.leccion-urbanismo .terminal-header{background:#000a1480;border:1px solid #00f2ff;padding:8px;margin-bottom:10px;position:relative}
.leccion-urbanismo .terminal-header::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:repeating-linear-gradient(90deg,transparent,transparent 1px,#00f2ff1a 1px,#00f2ff1a 2px);pointer-events:none}
.leccion-urbanismo .terminal-prompt{color:#00f2ff;font-size:1em;text-shadow:0 0 3px #00f2ff}
.leccion-urbanismo h1{color:#00f2ff;text-transform:uppercase;letter-spacing:1px;text-shadow:0 0 5px #00f2ff;border-bottom:1px solid #ffcc00;padding-bottom:5px;margin-bottom:10px;font-size:1.5em;animation:f 4s infinite}
.leccion-urbanismo h1::before,.leccion-urbanismo h1::after{content:'游끷';color:#ffcc00}
.leccion-urbanismo h3,.leccion-urbanismo h4,.leccion-urbanismo h5{color:#39ff14;border-left:2px solid #39ff14;padding-left:8px;margin-top:10px;text-transform:uppercase;letter-spacing:1px;font-size:0.8em}
.leccion-urbanismo h4::before,.leccion-urbanismo h5::before{content:'郊';color:#ffcc00;position:absolute;left:2px}
.leccion-urbanismo .main-header{background:#00142880;border:1px solid #00f2ff;padding:10px;margin:10px 0;animation:p 2s infinite}
.leccion-urbanismo .main-header::before{content:'URBAN';position:absolute;top:2px;left:5px;color:#00f2ff;font-size:8px;opacity:0.5;animation:b 1s infinite}
.leccion-urbanismo .lead{color:#8af;font-size:0.9em;line-height:1.4;margin-top:5px}
.leccion-urbanismo .status-monitor{background:#000;border:1px solid #00f2ff;padding:10px;box-shadow:0 0 8px #00f2ff33}
.leccion-urbanismo .status-monitor::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,#00f2ff,transparent)}
.leccion-urbanismo .ui-label{color:#ffcc00;font-family:VT323,monospace;font-size:0.7em;text-transform:uppercase;letter-spacing:1px;margin-bottom:5px}
.leccion-urbanismo .form-range{-webkit-appearance:none;width:100%;height:6px;background:#002;border:1px solid #00f2ff;margin:5px 0}
.leccion-urbanismo .form-range::-webkit-slider-thumb{-webkit-appearance:none;width:12px;height:12px;background:#39ff14;border:1px solid #00f2ff;cursor:pointer;box-shadow:0 0 4px #39ff14}
.leccion-urbanismo .data-value{font-size:1.2em;color:#00f2ff;text-shadow:0 0 4px #00f2ff;margin:5px 0;font-family:monospace}
.leccion-urbanismo .data-container{background:#000;border:1px solid #39ff14;padding:10px;text-align:center;margin:5px 0;min-height:60px;display:flex;flex-direction:column;justify-content:center}
.leccion-urbanismo .data-container:hover{border-color:#ffcc00;animation:g 0.2s}
.leccion-urbanismo .quiz-btn{background:#001;border:1px solid #444c56;color:#8af;padding:6px;margin:4px 0;cursor:pointer;display:flex;align-items:center}
.leccion-urbanismo .quiz-btn:hover{background:#002;border-color:#00f2ff;transform:translateX(5px)}
.leccion-urbanismo .quiz-btn.correct{background:rgba(57,255,20,0.08);border-color:#39ff14;color:#39ff14}
.leccion-urbanismo .quiz-btn.incorrect{background:rgba(255,68,68,0.08);border-color:#ff4444;color:#ff4444}
.leccion-urbanismo .quiz-letter{color:#ffcc00;font-weight:bold;margin-right:8px;min-width:15px}
.leccion-urbanismo .btn-action{background:transparent;border:1px solid #ffcc00;color:#ffcc00;padding:6px 12px;transition:all 0.1s;text-transform:uppercase;font-family:VT323,monospace;letter-spacing:1px;position:relative;overflow:hidden}
.leccion-urbanismo .btn-action:hover{background:#ffcc00;color:#000;box-shadow:0 0 8px #ffcc0080;transform:scale(1.02)}
.leccion-urbanismo .conclusion-evolutiva{background:#001e3080;border:1px solid #00f2ff;padding:15px;margin-top:20px;animation:p 3s infinite}
.leccion-urbanismo .conclusion-evolutiva h3{color:#00f2ff;text-align:center;font-size:1.2em}
.leccion-urbanismo .conclusion-evolutiva p{color:#8af;font-size:0.8em;line-height:1.4;max-width:700px;margin:8px auto;text-align:center}
.text-cyan{color:#00f2ff!important}.text-green{color:#39ff14!important}.text-gold{color:#ffcc00!important}
.border-cyan{border-color:#00f2ff!important}.border-green{border-color:#39ff14!important}.border-gold{border-color:#ffcc00!important}
.b{animation:b 1s infinite}.g{animation:g 0.2s}.p{animation:p 2s infinite}.f{animation:f 3s infinite}
@media (max-width:768px){.leccion-urbanismo{padding:6px}.leccion-urbanismo h1{font-size:1.2em}.leccion-urbanismo .data-value{font-size:1em}}
/* CSS CYBERPUNK/8BIT PARA M칄TODO CIENT칈FICO - COMPACTO */
.leccion-metodo-cientifico {
    font-family: 'VT323', 'Courier New', monospace;
    line-height: 1.2;
    color: #00d4ff;
    background: #0d1117;
    padding: 15px;
    border: 2px solid #00d4ff;
    box-shadow: 
        0 0 20px rgba(0, 212, 255, 0.3),
        inset 0 0 15px rgba(0, 212, 255, 0.05);
    image-rendering: pixelated;
    font-size: 14px;
    position: relative;
    overflow: hidden;
}

/* ============ EFECTO DE RET칈CULA CIENT칈FICA ============ */
.leccion-metodo-cientifico::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    background-image: 
        linear-gradient(rgba(0, 212, 255, 0.05) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 212, 255, 0.05) 1px, transparent 1px);
    background-size: 40px 40px;
    z-index: 9997;
    opacity: 0.2;
}

/* ============ SCANLINES COMPACTAS ============ */
.leccion-metodo-cientifico::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    background: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 1px,
        rgba(0, 212, 255, 0.03) 1px,
        rgba(0, 212, 255, 0.03) 2px
    );
    z-index: 9998;
}

/* ============ ANIMACIONES COMPACTAS ============ */
@keyframes blink-fast {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

@keyframes pulse-blue-fast {
    0%, 100% { box-shadow: 0 0 10px rgba(0, 212, 255, 0.5); }
    50% { box-shadow: 0 0 20px rgba(0, 212, 255, 0.8); }
}

@keyframes data-flow {
    0% { stroke-dashoffset: 0; }
    100% { stroke-dashoffset: 20; }
}

/* ============ HEADER COMPACTO ============ */
.leccion-metodo-cientifico .terminal-header {
    background: rgba(0, 20, 40, 0.8);
    border: 2px solid #00d4ff;
    padding: 10px;
    margin-bottom: 20px;
    font-family: 'VT323', monospace;
    font-size: 13px;
}

.leccion-metodo-cientifico .terminal-prompt {
    color: #00d4ff;
    font-size: 15px;
}

.leccion-metodo-cientifico .terminal-prompt .blink {
    animation: blink-fast 0.8s infinite;
}

/* ============ T칈TULOS COMPACTOS ============ */
.leccion-metodo-cientifico h1 {
    color: #00d4ff;
    text-transform: uppercase;
    letter-spacing: 2px;
    text-shadow: 0 0 8px #00d4ff;
    border-bottom: 2px solid #bc13fe;
    padding-bottom: 10px;
    margin-bottom: 15px;
    font-family: 'VT323', monospace;
    font-size: 22px;
}

.leccion-metodo-cientifico h1::before {
    content: '丘勇 ';
    color: #bc13fe;
}

.leccion-metodo-cientifico h1::after {
    content: ' 丘勇';
    color: #bc13fe;
}

.leccion-metodo-cientifico h5 {
    color: #39ff14;
    border-left: 3px solid #39ff14;
    padding-left: 10px;
    margin: 15px 0 10px 0;
    font-family: 'VT323', monospace;
    font-size: 16px;
}

.leccion-metodo-cientifico h5::before {
    content: '郊';
    color: #ffcc00;
    margin-right: 5px;
}

/* ============ HEADER SECTION ============ */
.leccion-metodo-cientifico .header-section {
    background: rgba(13, 20, 30, 0.7);
    border: 2px solid #00d4ff;
    padding: 15px;
    margin-bottom: 20px;
    animation: pulse-blue-fast 3s infinite;
}

.leccion-metodo-cientifico .lead {
    color: #8af;
    font-size: 13px;
    line-height: 1.4;
    margin-top: 8px;
    font-family: 'Courier New', monospace;
}

.leccion-metodo-cientifico .lead strong {
    color: #39ff14;
    text-shadow: 0 0 5px #39ff14;
}

/* ============ STAT LABEL COMPACTO ============ */
.leccion-metodo-cientifico .stat-label {
    color: #8b949e;
    font-family: 'VT323', monospace;
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    margin-bottom: 8px;
    display: block;
}

/* ============ SVG DIAGRAMA COMPACTO ============ */
.leccion-metodo-cientifico .svg-container {
    background: #000;
    border: 2px solid #bc13fe;
    padding: 15px;
    margin: 20px 0;
    position: relative;
    font-size: 12px;
}

.leccion-metodo-cientifico .svg-container::before {
    content: 'LOOP_CIENT칈FICO.EXE';
    position: absolute;
    top: -10px;
    left: 15px;
    background: #000;
    color: #bc13fe;
    padding: 0 8px;
    font-size: 10px;
    font-family: 'VT323', monospace;
}

/* ============ LAB TERMINAL COMPACTO ============ */
.leccion-metodo-cientifico .lab-terminal {
    background: #000;
    border: 2px solid #00d4ff;
    padding: 15px;
    margin: 20px 0;
    font-family: 'Courier New', monospace;
    font-size: 12px;
    position: relative;
}

.leccion-metodo-cientifico .lab-terminal::before {
    content: 'VIRTUAL_LAB';
    position: absolute;
    top: -9px;
    left: 15px;
    background: #000;
    color: #00d4ff;
    padding: 0 8px;
    font-size: 10px;
    font-family: 'VT323', monospace;
}

/* ============ SLIDERS COMPACTOS ============ */
.leccion-metodo-cientifico .form-range {
    -webkit-appearance: none;
    width: 100%;
    height: 8px;
    background: #002;
    border: 1px solid #00d4ff;
    border-radius: 0;
    outline: none;
    margin: 10px 0;
}

.leccion-metodo-cientifico .form-range::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 18px;
    height: 18px;
    background: #39ff14;
    border: 2px solid #00d4ff;
    cursor: pointer;
    box-shadow: 0 0 10px #39ff14;
}

.leccion-metodo-cientifico .form-range::-moz-range-thumb {
    width: 18px;
    height: 18px;
    background: #39ff14;
    border: 2px solid #00d4ff;
    cursor: pointer;
    box-shadow: 0 0 10px #39ff14;
}

/* ============ RESULT DISPLAY COMPACTO ============ */
.leccion-metodo-cientifico #pValDisplay {
    font-size: 28px;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    margin: 5px 0;
}

.leccion-metodo-cientifico .badge {
    font-family: 'VT323', monospace;
    font-size: 11px;
    padding: 4px 8px;
    border-radius: 0;
    border: 1px solid;
}

/* ============ INTERACTIVE CARD COMPACTO ============ */
.leccion-metodo-cientifico .interactive-card {
    background: rgba(13, 20, 30, 0.8);
    border: 2px solid #30363d;
    padding: 15px;
    margin: 20px 0;
    transition: all 0.2s;
    font-size: 12px;
}

.leccion-metodo-cientifico .interactive-card:hover {
    border-color: #bc13fe;
    box-shadow: 0 0 15px rgba(188, 19, 254, 0.3);
}

/* ============ LIST GROUP ITEMS COMPACTOS ============ */
.leccion-metodo-cientifico .list-group-item {
    background: rgba(0, 0, 0, 0.7);
    border: 1px solid #444c56;
    color: #8af;
    padding: 10px;
    margin: 5px 0;
    cursor: pointer;
    font-family: 'Courier New', monospace;
    font-size: 11px;
    transition: all 0.2s;
}

.leccion-metodo-cientifico .list-group-item:hover {
    border-color: #00d4ff;
    background: rgba(0, 212, 255, 0.1);
    transform: translateX(5px);
}

.leccion-metodo-cientifico .list-group-item.selected-correct {
    background: rgba(57, 255, 20, 0.1);
    border-color: #39ff14;
    color: #39ff14;
}

.leccion-metodo-cientifico .list-group-item.selected-incorrect {
    background: rgba(255, 51, 102, 0.1);
    border-color: #ff3366;
    color: #ff3366;
}

/* ============ FEEDBACK COMPACTO ============ */
.leccion-metodo-cientifico #quizFeedback {
    background: rgba(0, 0, 0, 0.9);
    border: 1px solid;
    padding: 12px;
    margin-top: 10px;
    font-family: 'Courier New', monospace;
    font-size: 11px;
    display: none;
}

/* ============ FOOTER NOTE COMPACTO ============ */
.leccion-metodo-cientifico .footer-note {
    border-left: 2px solid #bc13fe;
    background: rgba(188, 19, 254, 0.05);
    padding: 12px;
    margin-top: 20px;
    font-size: 11px;
}

/* ============ BADGES COMPACTOS ============ */
.leccion-metodo-cientifico .step-badge {
    background: #00d4ff;
    color: #000;
    padding: 2px 6px;
    font-size: 10px;
    font-weight: bold;
    border-radius: 2px;
    margin-right: 8px;
    font-family: 'VT323', monospace;
}

/* ============ BOTONES COMPACTOS ============ */
.leccion-metodo-cientifico .btn-master {
    background: transparent;
    border: 1px solid #39ff14;
    color: #39ff14;
    text-transform: uppercase;
    font-family: 'VT323', monospace;
    font-size: 11px;
    padding: 6px 12px;
    letter-spacing: 1px;
    transition: all 0.2s;
}

.leccion-metodo-cientifico .btn-master:hover {
    background: #39ff14;
    color: #000;
    box-shadow: 0 0 10px #39ff14;
}

/* ============ UTILITY CLASSES COMPACTAS ============ */
.leccion-metodo-cientifico .text-cyan { color: #00d4ff !important; }
.leccion-metodo-cientifico .text-purple { color: #bc13fe !important; }
.leccion-metodo-cientifico .text-green { color: #39ff14 !important; }
.leccion-metodo-cientifico .text-pink { color: #ff3366 !important; }

.leccion-metodo-cientifico .border-cyan { border-color: #00d4ff !important; }
.leccion-metodo-cientifico .border-purple { border-color: #bc13fe !important; }
.leccion-metodo-cientifico .border-green { border-color: #39ff14 !important; }

.leccion-metodo-cientifico .blink { animation: blink-fast 1s infinite; }
.leccion-metodo-cientifico .pulse { animation: pulse-blue-fast 2s infinite; }

/* ============ RESPONSIVE COMPACTO ============ */
@media (max-width: 768px) {
    .leccion-metodo-cientifico {
        padding: 10px;
        font-size: 12px;
    }
    
    .leccion-metodo-cientifico h1 {
        font-size: 18px;
        letter-spacing: 1px;
    }
    
    .leccion-metodo-cientifico h5 {
        font-size: 14px;
    }
    
    .leccion-metodo-cientifico .terminal-header {
        padding: 8px;
        font-size: 11px;
    }
    
    .leccion-metodo-cientifico .stat-label {
        font-size: 9px;
    }
}

/* ============ CUSTOM SCROLLBAR COMPACTO ============ */
.leccion-metodo-cientifico::-webkit-scrollbar {
    width: 8px;
}

.leccion-metodo-cientifico::-webkit-scrollbar-track {
    background: #000;
    border: 1px solid #00d4ff;
}

.leccion-metodo-cientifico::-webkit-scrollbar-thumb {
    background: #00d4ff;
    border: 1px solid #000;
}

/* ============ MATHJAX STYLING COMPACTO ============ */
.leccion-metodo-cientifico .MathJax {
    font-size: 12px !important;
}
/* Estilos espec칤ficos para la lecci칩n de Equilibrio Qu칤mico - CHEM-EQ-001 */
/* NO incluir en el bloque contenido */

/* Estilos base para la lecci칩n */
.chem-eq-container {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    line-height: 1.6;
    color: #2c3e50;
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

/* Intro y t칤tulos */
.intro {
    font-size: 1.1rem;
    background: linear-gradient(135deg, rgba(255,255,255,0.02) 0%, rgba(0,255,150,0.02) 100%);
    padding: 20px;
    border-radius: 10px;
    border-left: 4px solid var(--neon-blue);
    margin-bottom: 30px;
    color: var(--text-dim);
}

.section-title {
    color: #2c3e50;
    border-bottom: 2px solid #3498db;
    padding-bottom: 10px;
    margin-top: 40px;
    margin-bottom: 20px;
    font-size: 1.8rem;
}

.subsection-title {
    color: #2c3e50;
    border-left: 4px solid #2ecc71;
    padding-left: 15px;
    margin-top: 30px;
    margin-bottom: 15px;
    font-size: 1.4rem;
}

/* Divisores */
.divider-chem {
    border: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent, #3498db, transparent);
    margin: 40px 0;
}

/* Tablas */
.chem-table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

.chem-table th {
    background: linear-gradient(135deg, var(--neon-blue), #006699);
    color: var(--text-light);
    padding: 15px;
    text-align: left;
    font-weight: 600;
    box-shadow: var(--glow-cyan);
}

.chem-table td {
    padding: 12px 15px;
    border-bottom: 1px solid #eee;
}

.chem-table tr:nth-child(even) {
    background-color: rgba(255,255,255,0.02);
}

.chem-table tr:hover {
    background-color: #e8f4fc;
}

/* F칩rmulas */
.formula-chem {
    font-size: 1.2rem;
    padding: 20px;
    background: var(--bg-panel);
    border-radius: 8px;
    border: 1px solid rgba(0,255,200,0.04);
    margin: 20px 0;
    color: var(--text-dim);
}

.text-center {
    text-align: center;
}

.explain {
    font-style: italic;
    color: var(--text-dim);
    background: rgba(255,255,255,0.02);
    padding: 10px 15px;
    border-radius: 5px;
    margin: 10px 0;
}

/* Ejemplos */
.ejemplo {
    background: linear-gradient(135deg, rgba(0,255,200,0.02) 0%, rgba(0,170,150,0.02) 100%); color: var(--text-dim);
    padding: 20px;
    border-radius: 10px;
    border-left: 4px solid #2196f3;
    margin: 20px 0;
}

.ejemplo h4 {
    color: #1565c0;
    margin-top: 0;
}

/* SVG y Canvas */
.conc-svg {
    display: block;
    margin: 30px auto;
    border: 1px solid rgba(255,255,255,0.04);
    border-radius: 8px;
    background: var(--bg-panel);
    box-shadow: 0 6px 20px rgba(0,255,200,0.03);
    color: var(--text-dim);
}

.axis-label {
    font-size: 14px;
    fill: #7f8c8d;
    font-weight: 500;
}

.legend {
    font-size: 12px;
    fill: #2c3e50;
}

.eq-label {
    font-size: 12px;
    fill: #f39c12;
    font-weight: 600;
}

.mol-canvas {
    display: block;
    margin: 30px auto;
    border: 1px solid rgba(255,255,255,0.04);
    border-radius: 8px;
    background: var(--bg-card);
}

/* Simulador Le Chatelier */
.lechat-sim {
    background: var(--bg-panel);
    border: 1px solid rgba(0,255,200,0.04);
    border-radius: 10px;
    padding: 20px;
    margin: 30px 0;
    box-shadow: 0 8px 30px rgba(0,255,200,0.03);
    color: var(--text-dim);
}

.control-panel {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    align-items: center;
    margin-bottom: 20px;
    padding: 15px;
    background: rgba(255,255,255,0.02);
    border-radius: 8px;
}

.control-panel label {
    color: var(--text-dim);
    font-weight: 600;
    color: #2c3e50;
}

.control-panel select,
.control-panel input,
.control-panel button {
    padding: 8px 15px;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 14px;
}

.control-panel button {
    background: linear-gradient(135deg, var(--neon-blue), #006699);
    color: var(--text-dark);
    border: none;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.18s ease;
}

.control-panel button:hover {
    background: linear-gradient(135deg, #00bfff, var(--neon-cyan));
    transform: translateY(-2px);
}

.reaction-viz {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 30px;
    font-size: 1.8rem;
    font-weight: bold;
    margin: 30px 0;
    padding: 20px;
    background: linear-gradient(135deg, rgba(255,255,255,0.02), rgba(255,255,255,0.015));
    border-radius: 10px;
    color: var(--text-dim);
}

.react-side, .prod-side {
    padding: 15px 30px;
    background: var(--bg-card);
    border-radius: 8px;
    box-shadow: 0 8px 24px rgba(0,0,0,0.25);
}

.arrow {
    font-size: 2.5rem;
    color: var(--neon-blue);
    transition: transform 0.5s ease;
}

.shift-display {
    font-size: 1.2rem;
    font-weight: bold;
    text-align: center;
    padding: 15px;
    margin: 20px 0;
    border-radius: 8px;
    background: rgba(255,255,255,0.02);
    color: var(--text-dim);
}

.explain-box {
    padding: 15px;
    background: rgba(0,255,150,0.02);
    border-radius: 8px;
    border-left: 4px solid var(--neon-blue);
    margin-top: 15px;
    color: var(--text-dim);
}

/* Quiz */
.quiz-box {
    background: var(--bg-panel);
    border: 1px solid rgba(0,255,200,0.04);
    border-radius: 10px;
    padding: 25px;
    margin: 30px 0;
    color: var(--text-dim);
}

.quiz-box p {
    font-weight: 600;
    margin: 20px 0 10px 0;
    color: var(--text-dim);
}

.quiz-box button {
    padding: 10px 20px;
    margin: 5px 10px 5px 0;
    border: 1px solid rgba(255,255,255,0.03);
    border-radius: 5px;
    background: var(--bg-panel);
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 14px;
}

.quiz-box button:hover {
    background: rgba(255,255,255,0.015); color: var(--text-dim);
    transform: translateY(-2px);
}

.quiz-box button:active {
    transform: translateY(0);
}

#feedback1, #feedback2, #feedback3, #feedback4 {
    margin: 10px 0 20px 0;
    padding: 10px;
    border-radius: 5px;
    font-weight: 600;
}

.score-display {
    font-size: 1.2rem;
    font-weight: bold;
    text-align: center;
    padding: 15px;
    margin-top: 20px;
    background: linear-gradient(135deg, rgba(255,255,255,0.02), rgba(0,255,150,0.03));
    border-radius: 8px;
}

/* Calculadora ICE y bloques */
.ice-calc, .calc-block {
    background: var(--bg-card);
    border: 1px solid rgba(255,255,255,0.03);
    border-radius: 10px;
    padding: 20px;
    margin: 30px 0;
}

.ice-calc input,
.calc-block input {
    padding: 10px;
    margin: 0 10px 10px 0;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 14px;
    width: 100px;
}

.ice-calc button,
.calc-block button {
    padding: 10px 20px;
    background: linear-gradient(135deg, #2ecc71, #27ae60);
    color: black;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.3s ease;
    margin-left: 10px;
}

.ice-calc button:hover,
.calc-block button:hover {
    background: linear-gradient(135deg, #27ae60, #219653);
    transform: translateY(-2px);
}

#iceResult, #kcKpResult {
    margin-top: 20px;
    padding: 15px;
    background: #e8f4fc;
    border-radius: 8px;
    font-size: 1.1rem;
}

/* Errores comunes interactivos */
.errors-interactive {
    background: var(--bg-card);
    border: 1px solid rgba(255,180,80,0.03);
    border-radius: 10px;
    padding: 20px;
    margin: 30px 0;
    color: var(--text-dim);
}

.error-item {
    margin: 15px 0;
    padding: 15px;
    background: linear-gradient(135deg, rgba(255,180,80,0.02), rgba(255,140,0,0.01));
    border-radius: 8px;
    border-left: 4px solid rgba(255,180,80,0.06);
    color: var(--text-dim);
}

.error-item label {
    font-weight: 600;
    color: var(--text-light);
    cursor: pointer;
    margin-left: 10px;
}

.error-item input[type="checkbox"] {
    transform: scale(1.3);
    cursor: pointer;
}

.error-explain {
    display: none;
    margin-top: 15px;
    padding: 15px;
    background: rgba(255,180,80,0.04);
    border-radius: 5px;
    color: var(--text-light);
    font-size: 0.95rem;
    border-left: 4px solid rgba(255,140,0,0.06);
}

/* Problemas examen */
.exam-problems {
    background: var(--bg-card);
    border: 1px solid rgba(0,255,200,0.03);
    border-radius: 10px;
    padding: 25px;
    margin: 30px 0;
    counter-reset: problem-counter;
}

.exam-problems li {
    counter-increment: problem-counter;
    margin: 25px 0;
    padding-left: 40px;
    position: relative;
}

.exam-problems li:before {
    content: counter(problem-counter);
    position: absolute;
    left: 0;
    top: 0;
    background: linear-gradient(135deg, #3498db, #2980b9);
    color: black;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
}

/* Cierre y glosario */
.conclusion {
    font-size: 1.1rem;
    font-style: italic;
    text-align: center;
    padding: 25px;
    background: rgba(255,255,255,0.02);
    border-radius: 10px;
    margin: 40px 0;
    border-left: 4px solid var(--neon-pink);
    color: var(--text-dim);
}

.chem-quote {
    font-style: italic;
    text-align: center;
    padding: 20px;
    margin: 40px 0;
    background: var(--bg-card);
    border-radius: 10px;
    border-left: 4px solid var(--neon-blue);
    box-shadow: 0 6px 20px rgba(0,255,150,0.03);
    font-size: 1.1rem;
    color: var(--text-dim);
}

.glossary {
    background: var(--bg-card);
    border: 1px solid rgba(255,255,255,0.03);
    border-radius: 10px;
    padding: 25px;
    margin: 30px 0;
}

.glossary dt {
    font-weight: bold;
    color: #3498db;
    margin-top: 15px;
    font-size: 1.1rem;
}

.glossary dd {
    margin-left: 20px;
    margin-bottom: 15px;
    color: #555;
}

/* Responsive */
@media (max-width: 768px) {
    .chem-eq-container {
        padding: 10px;
    }
    
    .control-panel {
        flex-direction: column;
        align-items: stretch;
    }
    
    .control-panel select,
    .control-panel input,
    .control-panel button {
        width: 100%;
        margin: 5px 0;
    }
    
    .reaction-viz {
        flex-direction: column;
        gap: 15px;
        font-size: 1.4rem;
    }
    
    .conc-svg {
        width: 100%;
        height: auto;
    }
    
    .mol-canvas {
        width: 100%;
        height: auto;
    }
}
/* CSS CYBERPUNK/8BIT PARA EQUILIBRIO QU칈MICO - ESTILO RETRO-FUTURISTA */
.leccion-equilibrio-quimico {
    font-family: 'VT323', 'Courier New', 'Consolas', monospace;
    line-height: 1.3;
    color: #00ffea; /* Cian ne칩n qu칤mico */
    background: #0a0a1a;
    padding: 25px;
    border: 3px solid #00ffea;
    box-shadow: 
        0 0 40px rgba(0, 255, 234, 0.5),
        inset 0 0 30px rgba(0, 255, 234, 0.1);
    image-rendering: pixelated;
    position: relative;
    overflow: hidden;
    font-size: 15px;
}

/* ============ EFECTO REJILLA MOLECULAR ============ */
.leccion-equilibrio-quimico::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    background-image: 
        radial-gradient(circle at 25% 25%, rgba(0, 255, 234, 0.05) 1px, transparent 2px),
        radial-gradient(circle at 75% 75%, rgba(255, 0, 150, 0.05) 1px, transparent 2px);
    background-size: 60px 60px, 70px 70px;
    z-index: 9997;
    opacity: 0.3;
}

/* ============ EFECTO PULSO CIN칄TICO ============ */
.leccion-equilibrio-quimico::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        repeating-linear-gradient(
            45deg,
            transparent,
            transparent 10px,
            rgba(0, 255, 234, 0.03) 10px,
            rgba(0, 255, 234, 0.03) 20px
        );
    z-index: -1;
    animation: pulse-background 20s linear infinite;
}

@keyframes pulse-background {
    0% { opacity: 0.3; }
    50% { opacity: 0.6; }
    100% { opacity: 0.3; }
}

/* ============ ANIMACIONES QU칈MICAS ============ */
@keyframes molecule-float {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    50% { transform: translateY(-5px) rotate(180deg); }
}

@keyframes bond-vibration {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

@keyframes equilibrium-pulse {
    0%, 100% { 
        box-shadow: 0 0 15px rgba(0, 255, 234, 0.5),
                    0 0 30px rgba(0, 255, 234, 0.2);
    }
    50% { 
        box-shadow: 0 0 25px rgba(0, 255, 234, 0.8),
                    0 0 50px rgba(0, 255, 234, 0.4),
                    0 0 75px rgba(0, 255, 234, 0.1);
    }
}

@keyframes reaction-flash {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 1; }
}

@keyframes data-stream {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

/* ============ HEADER TERMINAL QU칈MICO ============ */
.leccion-equilibrio-quimico .terminal-header {
    background: rgba(0, 20, 40, 0.9);
    border: 2px solid #00ffea;
    padding: 15px;
    margin-bottom: 25px;
    font-family: 'VT323', monospace;
    position: relative;
    overflow: hidden;
}

.leccion-equilibrio-quimico .terminal-header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        repeating-linear-gradient(
            90deg,
            transparent,
            transparent 2px,
            rgba(0, 255, 234, 0.1) 2px,
            rgba(0, 255, 234, 0.1) 4px
        );
    pointer-events: none;
}

.leccion-equilibrio-quimico .terminal-prompt {
    color: #00ffea;
    font-size: 18px;
    text-shadow: 0 0 10px #00ffea;
}

.leccion-equilibrio-quimico .terminal-prompt .blink {
    animation: blink-fast 1s infinite;
}

@keyframes blink-fast {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.3; }
}

/* ============ T칈TULOS Y ENCABEZADOS ============ */
.leccion-equilibrio-quimico h1 {
    color: #00ffea;
    text-transform: uppercase;
    letter-spacing: 3px;
    text-shadow: 
        0 0 10px #00ffea,
        0 0 20px rgba(0, 255, 234, 0.5);
    border-bottom: 3px solid #ff00ff;
    padding-bottom: 15px;
    margin-bottom: 25px;
    font-family: 'VT323', monospace;
    font-size: 32px;
    position: relative;
}

.leccion-equilibrio-quimico h1::before {
    content: '丘勇 ';
    color: #ff00ff;
}

.leccion-equilibrio-quimico h1::after {
    content: ' 丘勇';
    color: #ff00ff;
}

.leccion-equilibrio-quimico h2,
.leccion-equilibrio-quimico h3 {
    color: #ff00ff;
    border-left: 4px solid #ff00ff;
    padding-left: 15px;
    margin: 25px 0 15px 0;
    text-transform: uppercase;
    letter-spacing: 2px;
    font-family: 'VT323', monospace;
    position: relative;
}

.leccion-equilibrio-quimico h3::before {
    content: '郊';
    color: #ffff00;
    position: absolute;
    left: 5px;
}

/* ============ INTRO ============ */
.leccion-equilibrio-quimico .intro {
    background: rgba(0, 40, 60, 0.8);
    border: 2px solid #00ffea;
    padding: 20px;
    margin: 25px 0;
    line-height: 1.6;
    font-size: 16px;
    position: relative;
    animation: equilibrium-pulse 4s infinite;
}

.leccion-equilibrio-quimico .intro::before {
    content: 'SYSTEM_INIT';
    position: absolute;
    top: -10px;
    left: 20px;
    background: #0a0a1a;
    color: #00ffea;
    padding: 0 10px;
    font-size: 12px;
    font-family: 'VT323', monospace;
}

.leccion-equilibrio-quimico .intro strong {
    color: #ffff00;
    text-shadow: 0 0 5px #ffff00;
}

/* ============ DIVISORES ============ */
.leccion-equilibrio-quimico .divider-chem {
    border: none;
    height: 2px;
    background: linear-gradient(90deg, 
        transparent, 
        #00ffea, 
        #ff00ff, 
        #ffff00, 
        #00ffea, 
        transparent
    );
    margin: 30px 0;
    position: relative;
}

.leccion-equilibrio-quimico .divider-chem::before {
    content: '';
    position: absolute;
    top: -5px;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, 
        transparent, 
        rgba(0, 255, 234, 0.3), 
        transparent
    );
    animation: data-stream 3s linear infinite;
}

/* ============ F칍RMULAS ============ */
.leccion-equilibrio-quimico .formula-chem {
    background: rgba(0, 0, 0, 0.8);
    border: 2px solid #ffff00;
    padding: 15px;
    margin: 20px 0;
    font-family: 'Courier New', monospace;
    font-size: 18px;
    text-align: center;
    color: #ffff00;
    text-shadow: 0 0 10px #ffff00;
    position: relative;
    overflow: hidden;
}

.leccion-equilibrio-quimico .formula-chem::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        repeating-linear-gradient(
            0deg,
            transparent,
            transparent 2px,
            rgba(255, 255, 0, 0.1) 2px,
            rgba(255, 255, 0, 0.1) 4px
        );
    pointer-events: none;
}

/* ============ TABLAS ============ */
.leccion-equilibrio-quimico .chem-table {
    background: rgba(0, 0, 0, 0.8);
    border: 2px solid #00ffea;
    border-collapse: collapse;
    width: 100%;
    margin: 20px 0;
    font-family: 'Courier New', monospace;
}

.leccion-equilibrio-quimico .chem-table th {
    background: rgba(0, 40, 60, 0.9);
    color: #00ffea;
    border: 1px solid #00ffea;
    padding: 12px;
    text-transform: uppercase;
    letter-spacing: 1px;
    font-family: 'VT323', monospace;
}

.leccion-equilibrio-quimico .chem-table td {
    border: 1px solid #444c56;
    padding: 10px;
    color: #8af;
}

.leccion-equilibrio-quimico .chem-table tr:hover {
    background: rgba(0, 255, 234, 0.1);
    animation: molecule-float 0.5s;
}

/* ============ EJEMPLOS ============ */
.leccion-equilibrio-quimico .ejemplo {
    background: rgba(40, 0, 60, 0.8);
    border: 2px solid #ff00ff;
    padding: 20px;
    margin: 20px 0;
    position: relative;
}

.leccion-equilibrio-quimico .ejemplo h4 {
    color: #ff00ff;
    border: none;
    padding: 0;
    margin: 0 0 15px 0;
    font-size: 18px;
}

.leccion-equilibrio-quimico .ejemplo::before {
    content: 'EXAMPLE_CASE';
    position: absolute;
    top: -10px;
    left: 20px;
    background: #0a0a1a;
    color: #ff00ff;
    padding: 0 10px;
    font-size: 11px;
    font-family: 'VT323', monospace;
}

/* ============ EXPLAIN BOXES ============ */
.leccion-equilibrio-quimico .explain {
    background: rgba(0, 30, 30, 0.8);
    border: 1px solid #00ffea;
    padding: 15px;
    margin: 15px 0;
    font-style: italic;
    color: #8af;
    font-family: 'Courier New', monospace;
    font-size: 14px;
}

/* ============ SVG ANIMADO ============ */
.leccion-equilibrio-quimico .conc-svg {
    background: #000;
    border: 2px solid #00ffea;
    padding: 20px;
    margin: 25px 0;
    display: block;
    width: 100%;
    max-width: 800px;
    height: auto;
}

.leccion-equilibrio-quimico .axis-label {
    fill: #8af;
    font-family: 'VT323', monospace;
    font-size: 12px;
}

.leccion-equilibrio-quimico .legend {
    fill: #00ffea;
    font-family: 'VT323', monospace;
    font-size: 11px;
}

.leccion-equilibrio-quimico .eq-label {
    fill: #ffff00;
    font-family: 'VT323', monospace;
    font-size: 10px;
    text-shadow: 0 0 5px #ffff00;
}

/* ============ CANVAS MOLECULAR ============ */
.leccion-equilibrio-quimico .mol-canvas {
    background: #000;
    border: 2px solid #ff00ff;
    display: block;
    margin: 20px auto;
    width: 100%;
    max-width: 800px;
    height: 250px;
}

/* ============ SIMULADOR LE CHATELIER ============ */
.leccion-equilibrio-quimico .lechat-sim {
    background: rgba(0, 20, 40, 0.9);
    border: 2px solid #ffff00;
    padding: 25px;
    margin: 25px 0;
    position: relative;
}

.leccion-equilibrio-quimico .lechat-sim::before {
    content: 'LE_CHATELIER_SIM';
    position: absolute;
    top: -10px;
    left: 20px;
    background: #0a0a1a;
    color: #ffff00;
    padding: 0 10px;
    font-size: 12px;
    font-family: 'VT323', monospace;
}

.leccion-equilibrio-quimico .control-panel {
    background: rgba(0, 0, 0, 0.7);
    border: 1px solid #00ffea;
    padding: 15px;
    margin-bottom: 20px;
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    align-items: center;
}

.leccion-equilibrio-quimico .control-panel label {
    color: #8af;
    font-family: 'VT323', monospace;
    font-size: 14px;
}

.leccion-equilibrio-quimico .control-panel select,
.leccion-equilibrio-quimico .control-panel input {
    background: #000;
    border: 1px solid #00ffea;
    color: #ffff00;
    padding: 5px;
    font-family: 'Courier New', monospace;
}

.leccion-equilibrio-quimico .control-panel button {
    background: transparent;
    border: 1px solid #ff00ff;
    color: #ff00ff;
    padding: 5px 15px;
    cursor: pointer;
    font-family: 'VT323', monospace;
    transition: all 0.3s;
}

.leccion-equilibrio-quimico .control-panel button:hover {
    background: #ff00ff;
    color: #000;
    box-shadow: 0 0 15px #ff00ff;
}

.leccion-equilibrio-quimico .reaction-viz {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 30px;
    margin: 20px 0;
    font-family: 'Courier New', monospace;
    font-size: 24px;
    font-weight: bold;
}

.leccion-equilibrio-quimico .react-side {
    color: #ff6b6b;
    text-shadow: 0 0 10px #ff6b6b;
}

.leccion-equilibrio-quimico .prod-side {
    color: #51cf66;
    text-shadow: 0 0 10px #51cf66;
}

.leccion-equilibrio-quimico .arrow {
    color: #ffff00;
    font-size: 36px;
    transition: transform 0.5s;
}

.leccion-equilibrio-quimico .shift-display {
    background: rgba(0, 0, 0, 0.8);
    border: 2px solid;
    padding: 15px;
    text-align: center;
    font-family: 'VT323', monospace;
    font-size: 18px;
    margin: 15px 0;
    text-transform: uppercase;
    letter-spacing: 2px;
}

.leccion-equilibrio-quimico .explain-box {
    background: rgba(0, 30, 30, 0.8);
    border: 1px solid #00ffea;
    padding: 15px;
    font-family: 'Courier New', monospace;
    font-size: 14px;
    color: #8af;
}

/* ============ QUIZ ============ */
.leccion-equilibrio-quimico .quiz-box {
    background: rgba(40, 0, 60, 0.9);
    border: 2px solid #ff00ff;
    padding: 25px;
    margin: 25px 0;
}

.leccion-equilibrio-quimico .quiz-box p {
    color: #8af;
    margin: 15px 0 10px 0;
}

.leccion-equilibrio-quimico .quiz-box button {
    background: rgba(0, 0, 0, 0.7);
    border: 1px solid #00ffea;
    color: #8af;
    padding: 10px 20px;
    margin: 5px;
    cursor: pointer;
    font-family: 'Courier New', monospace;
    transition: all 0.3s;
}

.leccion-equilibrio-quimico .quiz-box button:hover {
    border-color: #ffff00;
    color: #ffff00;
    transform: translateY(-2px);
}

.leccion-equilibrio-quimico .quiz-box button:active {
    transform: translateY(0);
}

.leccion-equilibrio-quimico .quiz-box div[id^="feedback"] {
    padding: 10px;
    margin: 10px 0;
    border-radius: 0;
    font-family: 'VT323', monospace;
    font-size: 14px;
    display: none;
}

.leccion-equilibrio-quimico .score-display {
    background: rgba(0, 0, 0, 0.8);
    border: 2px solid #ffff00;
    padding: 15px;
    text-align: center;
    font-family: 'VT323', monospace;
    font-size: 20px;
    color: #ffff00;
    margin-top: 20px;
    text-transform: uppercase;
    letter-spacing: 2px;
}

/* ============ CALCULADORA ICE ============ */
.leccion-equilibrio-quimico .ice-calc {
    background: rgba(0, 40, 60, 0.9);
    border: 2px solid #00ffea;
    padding: 25px;
    margin: 25px 0;
}

.leccion-equilibrio-quimico .ice-calc input {
    background: #000;
    border: 1px solid #00ffea;
    color: #ffff00;
    padding: 8px;
    margin: 5px;
    font-family: 'Courier New', monospace;
    width: 100px;
}

.leccion-equilibrio-quimico .ice-calc button {
    background: transparent;
    border: 1px solid #ff00ff;
    color: #ff00ff;
    padding: 8px 20px;
    margin: 10px;
    cursor: pointer;
    font-family: 'VT323', monospace;
    transition: all 0.3s;
}

.leccion-equilibrio-quimico .ice-calc button:hover {
    background: #ff00ff;
    color: #000;
    box-shadow: 0 0 15px #ff00ff;
}

.leccion-equilibrio-quimico #iceResult {
    background: rgba(0, 0, 0, 0.8);
    border: 1px solid #ffff00;
    padding: 15px;
    margin-top: 20px;
    font-family: 'Courier New', monospace;
    color: #ffff00;
}

/* ============ BLOQUE DE AN츼LISIS ============ */
.leccion-equilibrio-quimico .calc-block {
    background: rgba(40, 0, 60, 0.9);
    border: 2px solid #ff00ff;
    padding: 20px;
    margin: 20px 0;
}

.leccion-equilibrio-quimico .calc-block input {
    background: #000;
    border: 1px solid #00ffea;
    color: #ffff00;
    padding: 8px;
    margin: 5px;
    font-family: 'Courier New', monospace;
    width: 120px;
}

.leccion-equilibrio-quimico .calc-block button {
    background: transparent;
    border: 1px solid #ffff00;
    color: #ffff00;
    padding: 8px 20px;
    margin: 10px;
    cursor: pointer;
    font-family: 'VT323', monospace;
}

.leccion-equilibrio-quimico #kcKpResult {
    background: rgba(0, 0, 0, 0.8);
    border: 1px solid #00ffea;
    padding: 15px;
    margin-top: 15px;
    font-family: 'Courier New', monospace;
    color: #ffff00;
}

/* ============ ERRORES INTERACTIVOS ============ */
.leccion-equilibrio-quimico .errors-interactive {
    background: rgba(60, 0, 0, 0.9);
    border: 2px solid #ff4444;
    padding: 25px;
    margin: 25px 0;
}

.leccion-equilibrio-quimico .error-item {
    background: rgba(0, 0, 0, 0.7);
    border: 1px solid #ff6b6b;
    padding: 15px;
    margin: 10px 0;
    cursor: pointer;
    transition: all 0.3s;
}

.leccion-equilibrio-quimico .error-item:hover {
    background: rgba(255, 107, 107, 0.1);
    border-color: #ff4444;
    transform: translateX(5px);
}

.leccion-equilibrio-quimico .error-item input[type="checkbox"] {
    margin-right: 10px;
    transform: scale(1.2);
}

.leccion-equilibrio-quimico .error-item label {
    color: #ff6b6b;
    font-family: 'VT323', monospace;
    font-size: 16px;
    cursor: pointer;
}

.leccion-equilibrio-quimico .error-explain {
    background: rgba(0, 0, 0, 0.9);
    border: 1px solid #00ffea;
    padding: 15px;
    margin-top: 10px;
    display: none;
    color: #8af;
    font-family: 'Courier New', monospace;
    font-size: 14px;
}

/* ============ PROBLEMAS EXAMEN ============ */
.leccion-equilibrio-quimico .exam-problems {
    background: rgba(0, 20, 40, 0.9);
    border: 2px solid #ffff00;
    padding: 25px 25px 25px 40px;
    margin: 25px 0;
}

.leccion-equilibrio-quimico .exam-problems li {
    color: #8af;
    margin: 15px 0;
    font-family: 'Courier New', monospace;
    font-size: 14px;
    line-height: 1.6;
}

.leccion-equilibrio-quimico .exam-problems li::marker {
    color: #ffff00;
    font-family: 'VT323', monospace;
    font-size: 16px;
}

/* ============ REFLEXI칍N METACOGNITIVA ============ */
.leccion-equilibrio-quimico .conclusion {
    background: rgba(0, 60, 60, 0.9);
    border: 2px solid #00ffea;
    padding: 25px;
    margin: 25px 0;
    font-style: italic;
    color: #8af;
    font-size: 16px;
    line-height: 1.6;
}

.leccion-equilibrio-quimico .chem-quote {
    background: rgba(40, 0, 60, 0.9);
    border-left: 4px solid #ff00ff;
    padding: 20px;
    margin: 25px 0;
    font-style: italic;
    color: #8af;
    font-family: 'Courier New', monospace;
    font-size: 16px;
}

.leccion-equilibrio-quimico .chem-quote::before {
    content: '仇';
    color: #ff00ff;
    font-size: 24px;
    margin-right: 10px;
}

.leccion-equilibrio-quimico .chem-quote::after {
    content: '仇';
    color: #ff00ff;
    font-size: 24px;
    margin-left: 10px;
}

/* ============ GLOSARIO ============ */
.leccion-equilibrio-quimico .glossary {
    background: rgba(0, 20, 40, 0.9);
    border: 2px solid #00ffea;
    padding: 25px;
    margin: 25px 0;
}

.leccion-equilibrio-quimico .glossary dt {
    color: #ffff00;
    font-family: 'VT323', monospace;
    font-size: 18px;
    margin-top: 15px;
}

.leccion-equilibrio-quimico .glossary dd {
    color: #8af;
    font-family: 'Courier New', monospace;
    margin-left: 20px;
    margin-bottom: 10px;
    font-size: 14px;
}

/* ============ BOTONES Y CONTROLES ============ */
.leccion-equilibrio-quimico button {
    background: transparent;
    border: 1px solid #00ffea;
    color: #00ffea;
    padding: 10px 20px;
    cursor: pointer;
    font-family: 'VT323', monospace;
    font-size: 14px;
    text-transform: uppercase;
    letter-spacing: 1px;
    transition: all 0.3s;
}

.leccion-equilibrio-quimico button:hover {
    background: #00ffea;
    color: #000;
    box-shadow: 0 0 20px #00ffea;
    transform: translateY(-2px);
}

.leccion-equilibrio-quimico button:active {
    transform: translateY(0);
}

/* ============ UTILITY CLASSES ============ */
.leccion-equilibrio-quimico .text-cyan { color: #00ffea !important; }
.leccion-equilibrio-quimico .text-magenta { color: #ff00ff !important; }
.leccion-equilibrio-quimico .text-yellow { color: #ffff00 !important; }
.leccion-equilibrio-quimico .text-green { color: #51cf66 !important; }
.leccion-equilibrio-quimico .text-red { color: #ff6b6b !important; }

.leccion-equilibrio-quimico .border-cyan { border-color: #00ffea !important; }
.leccion-equilibrio-quimico .border-magenta { border-color: #ff00ff !important; }
.leccion-equilibrio-quimico .border-yellow { border-color: #ffff00 !important; }

.leccion-equilibrio-quimico .bg-cyan { background-color: #00ffea !important; }
.leccion-equilibrio-quimico .bg-magenta { background-color: #ff00ff !important; }
.leccion-equilibrio-quimico .bg-yellow { background-color: #ffff00 !important; }

.leccion-equilibrio-quimico .blink { animation: blink-fast 1s infinite; }
.leccion-equilibrio-quimico .pulse { animation: equilibrium-pulse 2s infinite; }
.leccion-equilibrio-quimico .float { animation: molecule-float 3s ease-in-out infinite; }

/* ============ RESPONSIVE ============ */
@media (max-width: 768px) {
    .leccion-equilibrio-quimico {
        padding: 15px;
        font-size: 14px;
    }
    
    .leccion-equilibrio-quimico h1 {
        font-size: 24px;
    }
    
    .leccion-equilibrio-quimico h2,
    .leccion-equilibrio-quimico h3 {
        font-size: 18px;
    }
    
    .leccion-equilibrio-quimico .control-panel {
        flex-direction: column;
        align-items: stretch;
    }
    
    .leccion-equilibrio-quimico .reaction-viz {
        flex-direction: column;
        gap: 15px;
    }
    
    .leccion-equilibrio-quimico .ice-calc input,
    .leccion-equilibrio-quimico .calc-block input {
        width: 80px;
    }
}

/* ============ SCROLLBAR PERSONALIZADA ============ */
.leccion-equilibrio-quimico::-webkit-scrollbar {
    width: 10px;
}

.leccion-equilibrio-quimico::-webkit-scrollbar-track {
    background: #000;
    border: 1px solid #00ffea;
}

.leccion-equilibrio-quimico::-webkit-scrollbar-thumb {
    background: #00ffea;
    border: 2px solid #000;
}

.leccion-equilibrio-quimico::-webkit-scrollbar-thumb:hover {
    background: #ff00ff;
    box-shadow: 0 0 10px #ff00ff;
}
/* CSS CYBERPUNK/8BIT PARA M칄TODO CIENT칈FICO - COMPACTO */
.leccion-metodo-cientifico {
    font-family: 'VT323', 'Courier New', monospace;
    line-height: 1.2;
    color: #00d4ff;
    background: #0d1117;
    padding: 15px;
    border: 2px solid #00d4ff;
    box-shadow: 
        0 0 20px rgba(0, 212, 255, 0.3),
        inset 0 0 15px rgba(0, 212, 255, 0.05);
    image-rendering: pixelated;
    font-size: 14px;
    position: relative;
    overflow: hidden;
}

/* ============ EFECTO DE RET칈CULA CIENT칈FICA ============ */
.leccion-metodo-cientifico::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    background-image: 
        linear-gradient(rgba(0, 212, 255, 0.05) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 212, 255, 0.05) 1px, transparent 1px);
    background-size: 40px 40px;
    z-index: 9997;
    opacity: 0.2;
}

/* ============ SCANLINES COMPACTAS ============ */
.leccion-metodo-cientifico::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    background: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 1px,
        rgba(0, 212, 255, 0.03) 1px,
        rgba(0, 212, 255, 0.03) 2px
    );
    z-index: 9998;
}

/* ============ ANIMACIONES COMPACTAS ============ */
@keyframes blink-fast {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

@keyframes pulse-blue-fast {
    0%, 100% { box-shadow: 0 0 10px rgba(0, 212, 255, 0.5); }
    50% { box-shadow: 0 0 20px rgba(0, 212, 255, 0.8); }
}

@keyframes data-flow {
    0% { stroke-dashoffset: 0; }
    100% { stroke-dashoffset: 20; }
}

/* ============ HEADER COMPACTO ============ */
.leccion-metodo-cientifico .terminal-header {
    background: rgba(0, 20, 40, 0.8);
    border: 2px solid #00d4ff;
    padding: 10px;
    margin-bottom: 20px;
    font-family: 'VT323', monospace;
    font-size: 13px;
}

.leccion-metodo-cientifico .terminal-prompt {
    color: #00d4ff;
    font-size: 15px;
}

.leccion-metodo-cientifico .terminal-prompt .blink {
    animation: blink-fast 0.8s infinite;
}

/* ============ T칈TULOS COMPACTOS ============ */
.leccion-metodo-cientifico h1 {
    color: #00d4ff;
    text-transform: uppercase;
    letter-spacing: 2px;
    text-shadow: 0 0 8px #00d4ff;
    border-bottom: 2px solid #bc13fe;
    padding-bottom: 10px;
    margin-bottom: 15px;
    font-family: 'VT323', monospace;
    font-size: 22px;
}

.leccion-metodo-cientifico h1::before {
    content: '丘勇 ';
    color: #bc13fe;
}

.leccion-metodo-cientifico h1::after {
    content: ' 丘勇';
    color: #bc13fe;
}

.leccion-metodo-cientifico h5 {
    color: #39ff14;
    border-left: 3px solid #39ff14;
    padding-left: 10px;
    margin: 15px 0 10px 0;
    font-family: 'VT323', monospace;
    font-size: 16px;
}

.leccion-metodo-cientifico h5::before {
    content: '郊';
    color: #ffcc00;
    margin-right: 5px;
}

/* ============ HEADER SECTION ============ */
.leccion-metodo-cientifico .header-section {
    background: rgba(13, 20, 30, 0.7);
    border: 2px solid #00d4ff;
    padding: 15px;
    margin-bottom: 20px;
    animation: pulse-blue-fast 3s infinite;
}

.leccion-metodo-cientifico .lead {
    color: #8af;
    font-size: 13px;
    line-height: 1.4;
    margin-top: 8px;
    font-family: 'Courier New', monospace;
}

.leccion-metodo-cientifico .lead strong {
    color: #39ff14;
    text-shadow: 0 0 5px #39ff14;
}

/* ============ STAT LABEL COMPACTO ============ */
.leccion-metodo-cientifico .stat-label {
    color: #8b949e;
    font-family: 'VT323', monospace;
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    margin-bottom: 8px;
    display: block;
}

/* ============ SVG DIAGRAMA COMPACTO ============ */
.leccion-metodo-cientifico .svg-container {
    background: #000;
    border: 2px solid #bc13fe;
    padding: 15px;
    margin: 20px 0;
    position: relative;
    font-size: 12px;
}

.leccion-metodo-cientifico .svg-container::before {
    content: 'LOOP_CIENT칈FICO.EXE';
    position: absolute;
    top: -10px;
    left: 15px;
    background: #000;
    color: #bc13fe;
    padding: 0 8px;
    font-size: 10px;
    font-family: 'VT323', monospace;
}

/* ============ LAB TERMINAL COMPACTO ============ */
.leccion-metodo-cientifico .lab-terminal {
    background: #000;
    border: 2px solid #00d4ff;
    padding: 15px;
    margin: 20px 0;
    font-family: 'Courier New', monospace;
    font-size: 12px;
    position: relative;
}

.leccion-metodo-cientifico .lab-terminal::before {
    content: 'VIRTUAL_LAB';
    position: absolute;
    top: -9px;
    left: 15px;
    background: #000;
    color: #00d4ff;
    padding: 0 8px;
    font-size: 10px;
    font-family: 'VT323', monospace;
}

/* ============ SLIDERS COMPACTOS ============ */
.leccion-metodo-cientifico .form-range {
    -webkit-appearance: none;
    width: 100%;
    height: 8px;
    background: #002;
    border: 1px solid #00d4ff;
    border-radius: 0;
    outline: none;
    margin: 10px 0;
}

.leccion-metodo-cientifico .form-range::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 18px;
    height: 18px;
    background: #39ff14;
    border: 2px solid #00d4ff;
    cursor: pointer;
    box-shadow: 0 0 10px #39ff14;
}

.leccion-metodo-cientifico .form-range::-moz-range-thumb {
    width: 18px;
    height: 18px;
    background: #39ff14;
    border: 2px solid #00d4ff;
    cursor: pointer;
    box-shadow: 0 0 10px #39ff14;
}

/* ============ RESULT DISPLAY COMPACTO ============ */
.leccion-metodo-cientifico #pValDisplay {
    font-size: 28px;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    margin: 5px 0;
}

.leccion-metodo-cientifico .badge {
    font-family: 'VT323', monospace;
    font-size: 11px;
    padding: 4px 8px;
    border-radius: 0;
    border: 1px solid;
}

/* ============ INTERACTIVE CARD COMPACTO ============ */
.leccion-metodo-cientifico .interactive-card {
    background: rgba(13, 20, 30, 0.8);
    border: 2px solid #30363d;
    padding: 15px;
    margin: 20px 0;
    transition: all 0.2s;
    font-size: 12px;
}

.leccion-metodo-cientifico .interactive-card:hover {
    border-color: #bc13fe;
    box-shadow: 0 0 15px rgba(188, 19, 254, 0.3);
}

/* ============ LIST GROUP ITEMS COMPACTOS ============ */
.leccion-metodo-cientifico .list-group-item {
    background: rgba(0, 0, 0, 0.7);
    border: 1px solid #444c56;
    color: #8af;
    padding: 10px;
    margin: 5px 0;
    cursor: pointer;
    font-family: 'Courier New', monospace;
    font-size: 11px;
    transition: all 0.2s;
}

.leccion-metodo-cientifico .list-group-item:hover {
    border-color: #00d4ff;
    background: rgba(0, 212, 255, 0.1);
    transform: translateX(5px);
}

.leccion-metodo-cientifico .list-group-item.selected-correct {
    background: rgba(57, 255, 20, 0.1);
    border-color: #39ff14;
    color: #39ff14;
}

.leccion-metodo-cientifico .list-group-item.selected-incorrect {
    background: rgba(255, 51, 102, 0.1);
    border-color: #ff3366;
    color: #ff3366;
}

/* ============ FEEDBACK COMPACTO ============ */
.leccion-metodo-cientifico #quizFeedback {
    background: rgba(0, 0, 0, 0.9);
    border: 1px solid;
    padding: 12px;
    margin-top: 10px;
    font-family: 'Courier New', monospace;
    font-size: 11px;
    display: none;
}

/* ============ FOOTER NOTE COMPACTO ============ */
.leccion-metodo-cientifico .footer-note {
    border-left: 2px solid #bc13fe;
    background: rgba(188, 19, 254, 0.05);
    padding: 12px;
    margin-top: 20px;
    font-size: 11px;
}

/* ============ BADGES COMPACTOS ============ */
.leccion-metodo-cientifico .step-badge {
    background: #00d4ff;
    color: #000;
    padding: 2px 6px;
    font-size: 10px;
    font-weight: bold;
    border-radius: 2px;
    margin-right: 8px;
    font-family: 'VT323', monospace;
}

/* ============ BOTONES COMPACTOS ============ */
.leccion-metodo-cientifico .btn-master {
    background: transparent;
    border: 1px solid #39ff14;
    color: #39ff14;
    text-transform: uppercase;
    font-family: 'VT323', monospace;
    font-size: 11px;
    padding: 6px 12px;
    letter-spacing: 1px;
    transition: all 0.2s;
}

.leccion-metodo-cientifico .btn-master:hover {
    background: #39ff14;
    color: #000;
    box-shadow: 0 0 10px #39ff14;
}

/* ============ UTILITY CLASSES COMPACTAS ============ */
.leccion-metodo-cientifico .text-cyan { color: #00d4ff !important; }
.leccion-metodo-cientifico .text-purple { color: #bc13fe !important; }
.leccion-metodo-cientifico .text-green { color: #39ff14 !important; }
.leccion-metodo-cientifico .text-pink { color: #ff3366 !important; }

.leccion-metodo-cientifico .border-cyan { border-color: #00d4ff !important; }
.leccion-metodo-cientifico .border-purple { border-color: #bc13fe !important; }
.leccion-metodo-cientifico .border-green { border-color: #39ff14 !important; }

.leccion-metodo-cientifico .blink { animation: blink-fast 1s infinite; }
.leccion-metodo-cientifico .pulse { animation: pulse-blue-fast 2s infinite; }

/* ============ RESPONSIVE COMPACTO ============ */
@media (max-width: 768px) {
    .leccion-metodo-cientifico {
        padding: 10px;
        font-size: 12px;
    }
    
    .leccion-metodo-cientifico h1 {
        font-size: 18px;
        letter-spacing: 1px;
    }
    
    .leccion-metodo-cientifico h5 {
        font-size: 14px;
    }
    
    .leccion-metodo-cientifico .terminal-header {
        padding: 8px;
        font-size: 11px;
    }
    
    .leccion-metodo-cientifico .stat-label {
        font-size: 9px;
    }
}

/* ============ CUSTOM SCROLLBAR COMPACTO ============ */
.leccion-metodo-cientifico::-webkit-scrollbar {
    width: 8px;
}

.leccion-metodo-cientifico::-webkit-scrollbar-track {
    background: #000;
    border: 1px solid #00d4ff;
}

.leccion-metodo-cientifico::-webkit-scrollbar-thumb {
    background: #00d4ff;
    border: 1px solid #000;
}

/* ============ MATHJAX STYLING COMPACTO ============ */
.leccion-metodo-cientifico .MathJax {
    font-size: 12px !important;
}
/* Estilos CYBERPUNK RETRO 8-BIT para lecci칩n de Equilibrio Qu칤mico - CHEM-EQ-CYB001 */

/* ===== RESET Y BASE 8-BIT ===== */
.chem-cyber-container {
    font-family: 'Courier New', 'VT323', monospace;
    color: #0ff; /* Cian brillante */
    background-color: #000;
    background-image: 
        repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0, 255, 255, 0.05) 2px, rgba(0, 255, 255, 0.05) 4px),
        repeating-linear-gradient(90deg, transparent, transparent 2px, rgba(255, 0, 255, 0.05) 2px, rgba(255, 0, 255, 0.05) 4px);
    image-rendering: pixelated;
    line-height: 1.4;
    border: 4px solid #f0f;
    box-shadow: 
        0 0 20px #f0f,
        inset 0 0 20px rgba(0, 255, 255, 0.3);
    padding: 20px;
    position: relative;
    overflow: hidden;
}

/* Scanlines efecto CRT */
.chem-cyber-container::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
        to bottom,
        transparent 50%,
        rgba(0, 0, 0, 0.25) 50%
    );
    background-size: 100% 4px;
    z-index: 9999;
    pointer-events: none;
    opacity: 0.15;
}

/* ===== T칈TULOS Y ENCABEZADOS PIXELADOS ===== */
.intro {
    font-size: 16px;
    background-color: rgba(0, 0, 0, 0.8);
    border: 3px solid #ff0;
    padding: 20px;
    margin-bottom: 30px;
    position: relative;
    box-shadow: 
        0 0 15px #ff0,
        inset 0 0 10px rgba(255, 255, 0, 0.2);
    text-shadow: 2px 2px 0 #f0f;
    line-height: 1.6;
}

.intro::before {
    content: ">";
    position: absolute;
    left: -15px;
    top: 10px;
    color: #ff0;
    font-size: 24px;
    animation: blink 1s infinite;
}

@keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.3; }
}

.section-title {
    color: #f0f;
    border-bottom: 4px solid #0ff;
    padding-bottom: 10px;
    margin-top: 40px;
    margin-bottom: 25px;
    font-size: 28px;
    text-transform: uppercase;
    letter-spacing: 2px;
    text-shadow: 
        3px 3px 0 #ff0,
        6px 6px 0 rgba(255, 0, 255, 0.5);
    position: relative;
}

.section-title::after {
    content: "郊";
    position: absolute;
    right: 0;
    bottom: 5px;
    color: #ff0;
    animation: typing 3s infinite;
}

@keyframes typing {
    0%, 100% { opacity: 1; }
    50% { opacity: 0; }
}

.subsection-title {
    color: #ff0;
    border-left: 8px solid #f0f;
    padding-left: 20px;
    margin-top: 30px;
    margin-bottom: 20px;
    font-size: 22px;
    text-shadow: 2px 2px 0 #f0f;
    background: linear-gradient(90deg, rgba(255, 0, 255, 0.1), transparent);
}

/* ===== DIVISORES GLITCH ===== */
.divider-chem {
    border: 0;
    height: 6px;
    background: repeating-linear-gradient(
        90deg,
        #0ff 0px,
        #0ff 8px,
        #f0f 8px,
        #f0f 16px,
        #ff0 16px,
        #ff0 24px,
        transparent 24px,
        transparent 32px
    );
    margin: 40px 0;
    position: relative;
    animation: glitchMove 2s linear infinite;
}

@keyframes glitchMove {
    0% { background-position: 0 0; }
    100% { background-position: 32px 0; }
}

/* ===== TABLAS MATRIX ===== */
.chem-table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
    margin: 25px 0;
    border: 3px solid #0ff;
    background-color: rgba(0, 0, 0, 0.9);
    position: relative;
    overflow: hidden;
}

.chem-table::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
        transparent 0%,
        rgba(0, 255, 255, 0.1) 50%,
        transparent 100%
    );
    animation: matrixFlow 20s linear infinite;
}

@keyframes matrixFlow {
    0% { transform: translateY(-100%); }
    100% { transform: translateY(100%); }
}

.chem-table th {
    background: linear-gradient(45deg, #000, #f0f, #000);
    color: #ff0;
    padding: 15px;
    text-align: left;
    font-weight: bold;
    text-transform: uppercase;
    border-bottom: 2px solid #0ff;
    text-shadow: 1px 1px 0 #000;
    letter-spacing: 1px;
}

.chem-table td {
    padding: 12px 15px;
    border-bottom: 1px solid rgba(0, 255, 255, 0.3);
    color: #0ff;
    position: relative;
}

.chem-table tr:nth-child(even) {
    background-color: rgba(255, 0, 255, 0.05);
}

.chem-table tr:hover {
    background-color: rgba(255, 255, 0, 0.1);
    box-shadow: inset 0 0 20px rgba(0, 255, 255, 0.3);
}

/* ===== F칍RMULAS NE칍N ===== */
.formula-chem {
    font-family: 'Courier New', monospace;
    font-size: 20px;
    padding: 20px;
    background: rgba(0, 0, 0, 0.8);
    border-radius: 0;
    border: 3px solid #ff0;
    margin: 25px 0;
    text-align: center;
    color: #0ff;
    text-shadow: 0 0 10px #0ff;
    box-shadow: 
        0 0 20px #ff0,
        inset 0 0 20px rgba(0, 255, 255, 0.1);
    position: relative;
}

.formula-chem::before {
    content: "갬";
    position: absolute;
    left: 10px;
    top: 10px;
    color: #f0f;
    font-size: 24px;
}

.text-center {
    text-align: center;
}

.explain {
    font-style: italic;
    color: #8f8;
    background: rgba(0, 64, 0, 0.3);
    padding: 15px;
    border-radius: 0;
    border-left: 4px solid #8f8;
    margin: 15px 0;
    border: 1px dashed #8f8;
}

/* ===== EJEMPLOS TERMINAL ===== */
.ejemplo {
    background: rgba(0, 0, 0, 0.9);
    padding: 20px;
    border: 3px solid #0ff;
    margin: 25px 0;
    position: relative;
    box-shadow: 0 0 15px #0ff;
}

.ejemplo::before {
    content: "EXAMPLE.EXE";
    position: absolute;
    top: -12px;
    left: 20px;
    background: #000;
    color: #0ff;
    padding: 0 10px;
    font-size: 14px;
    font-weight: bold;
}

.ejemplo h4 {
    color: #ff0;
    margin-top: 0;
    text-shadow: 2px 2px 0 #f0f;
}

/* ===== SVG Y CANVAS RETRO ===== */
.conc-svg {
    display: block;
    margin: 30px auto;
    border: 3px solid #f0f;
    background: #000;
    box-shadow: 0 0 20px #f0f;
    image-rendering: pixelated;
    position: relative;
}

.conc-svg::after {
    content: "GRAPHICS MODE: 320x200";
    position: absolute;
    bottom: -25px;
    right: 10px;
    color: #8f8;
    font-size: 12px;
}

.axis-label {
    font-size: 14px;
    fill: #ff0;
    font-weight: bold;
    text-shadow: 1px 1px 0 #000;
}

.legend {
    font-size: 12px;
    fill: #0ff;
    font-weight: bold;
}

.eq-label {
    font-size: 12px;
    fill: #ff0;
    font-weight: bold;
    text-shadow: 1px 1px 0 #000;
}

.mol-canvas {
    display: block;
    margin: 30px auto;
    border: 3px solid #0ff;
    background: #000;
    image-rendering: pixelated;
    box-shadow: 0 0 15px #0ff;
}

/* ===== SIMULADOR CYBER ===== */
.lechat-sim {
    background: rgba(0, 0, 0, 0.9);
    border: 3px solid #f0f;
    padding: 20px;
    margin: 35px 0;
    position: relative;
    box-shadow: 0 0 20px #f0f;
}

.lechat-sim::before {
    content: "SIMULATOR.EXE";
    position: absolute;
    top: -12px;
    left: 20px;
    background: #000;
    color: #f0f;
    padding: 0 10px;
    font-size: 14px;
    font-weight: bold;
}

.control-panel {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    align-items: center;
    margin-bottom: 25px;
    padding: 20px;
    background: rgba(0, 64, 64, 0.3);
    border: 2px solid #0ff;
}

.control-panel label {
    font-weight: bold;
    color: #ff0;
    text-shadow: 1px 1px 0 #000;
}

.control-panel select,
.control-panel input {
    padding: 8px 15px;
    background: #000;
    color: #0ff;
    border: 2px solid #f0f;
    font-family: 'Courier New', monospace;
    font-size: 14px;
    min-width: 120px;
}

.control-panel input::placeholder {
    color: #888;
}

.control-panel button {
    padding: 10px 20px;
    background: linear-gradient(45deg, #f0f, #0ff);
    color: #000;
    border: none;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    cursor: pointer;
    text-transform: uppercase;
    letter-spacing: 1px;
    transition: all 0.3s;
    position: relative;
    overflow: hidden;
}

.control-panel button:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(255, 0, 255, 0.8);
}

.control-panel button:active {
    transform: translateY(0);
}

.control-panel button::after {
    content: "郊";
    position: absolute;
    right: 10px;
    animation: pulse 1s infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

.reaction-viz {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 30px;
    font-size: 24px;
    font-weight: bold;
    margin: 30px 0;
    padding: 20px;
    background: rgba(0, 0, 0, 0.7);
    border: 2px dashed #ff0;
}

.react-side, .prod-side {
    padding: 15px 25px;
    background: rgba(0, 255, 255, 0.1);
    border: 2px solid #0ff;
    text-shadow: 0 0 10px #0ff;
}

.arrow {
    font-size: 36px;
    color: #ff0;
    transition: transform 0.5s ease;
    text-shadow: 0 0 15px #ff0;
}

.shift-display {
    font-size: 20px;
    font-weight: bold;
    text-align: center;
    padding: 15px;
    margin: 20px 0;
    background: rgba(0, 0, 0, 0.8);
    border: 2px solid;
    text-transform: uppercase;
    letter-spacing: 2px;
}

.explain-box {
    padding: 15px;
    background: rgba(0, 64, 64, 0.3);
    border-left: 4px solid #0ff;
    margin-top: 20px;
    color: #8f8;
    font-family: 'Courier New', monospace;
    border: 1px solid #0ff;
}

/* ===== QUIZ ARCADE ===== */
.quiz-box {
    background: rgba(0, 0, 0, 0.9);
    border: 3px solid #ff0;
    padding: 25px;
    margin: 35px 0;
    position: relative;
}

.quiz-box::before {
    content: "QUIZ MODE";
    position: absolute;
    top: -12px;
    left: 20px;
    background: #000;
    color: #ff0;
    padding: 0 10px;
    font-size: 14px;
    font-weight: bold;
}

.quiz-box p {
    font-weight: bold;
    margin: 25px 0 15px 0;
    color: #0ff;
    text-shadow: 2px 2px 0 #000;
    font-size: 18px;
}

.quiz-box button {
    padding: 12px 24px;
    margin: 8px 12px 8px 0;
    background: rgba(0, 0, 0, 0.8);
    color: #f0f;
    border: 2px solid #f0f;
    font-family: 'Courier New', monospace;
    font-size: 16px;
    cursor: pointer;
    transition: all 0.3s;
    position: relative;
    overflow: hidden;
}

.quiz-box button:hover {
    background: rgba(255, 0, 255, 0.2);
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(255, 0, 255, 0.5);
}

.quiz-box button:active {
    transform: translateY(0);
}

#feedback1, #feedback2, #feedback3, #feedback4 {
    margin: 15px 0 25px 0;
    padding: 15px;
    border: 2px solid;
    font-weight: bold;
    font-size: 18px;
    text-align: center;
}

.score-display {
    font-size: 24px;
    font-weight: bold;
    text-align: center;
    padding: 20px;
    margin-top: 25px;
    background: linear-gradient(90deg, #f0f, #0ff);
    color: #000;
    text-transform: uppercase;
    letter-spacing: 3px;
    border: 3px solid #ff0;
}

/* ===== CALCULADORAS HACKER ===== */
.ice-calc, .calc-block {
    background: rgba(0, 0, 0, 0.9);
    border: 3px solid #8f8;
    padding: 20px;
    margin: 35px 0;
    position: relative;
}

.ice-calc::before {
    content: "CALC.EXE";
    position: absolute;
    top: -12px;
    left: 20px;
    background: #000;
    color: #8f8;
    padding: 0 10px;
    font-size: 14px;
    font-weight: bold;
}

.calc-block::before {
    content: "ANALYZER.EXE";
    position: absolute;
    top: -12px;
    left: 20px;
    background: #000;
    color: #8f8;
    padding: 0 10px;
    font-size: 14px;
    font-weight: bold;
}

.ice-calc input,
.calc-block input {
    padding: 10px;
    margin: 0 15px 15px 0;
    background: #000;
    color: #8f8;
    border: 2px solid #8f8;
    font-family: 'Courier New', monospace;
    font-size: 16px;
    width: 120px;
}

.ice-calc button,
.calc-block button {
    padding: 12px 24px;
    background: #8f8;
    color: #000;
    border: none;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    cursor: pointer;
    text-transform: uppercase;
    letter-spacing: 2px;
    transition: all 0.3s;
    margin-left: 15px;
    border: 2px solid #0ff;
}

.ice-calc button:hover,
.calc-block button:hover {
    background: #0f0;
    transform: translateY(-3px);
    box-shadow: 0 5px 20px rgba(0, 255, 0, 0.5);
}

#iceTable {
    margin: 20px 0;
    border: 2px solid #0ff;
}

#iceResult, #kcKpResult {
    margin-top: 25px;
    padding: 20px;
    background: rgba(0, 64, 64, 0.3);
    border: 2px solid #0ff;
    font-size: 18px;
    color: #ff0;
    text-shadow: 0 0 10px #ff0;
}

/* ===== ERRORES GLITCH ===== */
.errors-interactive {
    background: rgba(0, 0, 0, 0.9);
    border: 3px solid #f00;
    padding: 20px;
    margin: 35px 0;
    position: relative;
}

.errors-interactive::before {
    content: "ERROR_LOG.TXT";
    position: absolute;
    top: -12px;
    left: 20px;
    background: #000;
    color: #f00;
    padding: 0 10px;
    font-size: 14px;
    font-weight: bold;
}

.error-item {
    margin: 20px 0;
    padding: 20px;
    background: rgba(255, 0, 0, 0.05);
    border-left: 6px solid #f00;
    border: 2px solid #f00;
    position: relative;
}

.error-item:hover {
    background: rgba(255, 0, 0, 0.1);
    animation: glitchError 0.3s infinite;
}

@keyframes glitchError {
    0% { transform: translateX(0); }
    25% { transform: translateX(-2px); }
    50% { transform: translateX(2px); }
    75% { transform: translateX(-2px); }
    100% { transform: translateX(0); }
}

.error-item label {
    font-weight: bold;
    color: #ff0;
    cursor: pointer;
    margin-left: 15px;
    font-size: 18px;
}

.error-item input[type="checkbox"] {
    transform: scale(1.5);
    cursor: pointer;
    accent-color: #f00;
}

.error-explain {
    display: none;
    margin-top: 20px;
    padding: 20px;
    background: rgba(255, 0, 0, 0.1);
    border: 2px dashed #f00;
    color: #ff8;
    font-size: 16px;
    border-left: 4px solid #ff0;
}

/* ===== PROBLEMAS EXAMEN TERMINAL ===== */
.exam-problems {
    background: rgba(0, 0, 0, 0.9);
    border: 3px solid #0ff;
    padding: 25px;
    margin: 35px 0;
    counter-reset: problem-counter;
    position: relative;
}

.exam-problems::before {
    content: "EXAM_MODE.EXE";
    position: absolute;
    top: -12px;
    left: 20px;
    background: #000;
    color: #0ff;
    padding: 0 10px;
    font-size: 14px;
    font-weight: bold;
}

.exam-problems li {
    counter-increment: problem-counter;
    margin: 30px 0;
    padding-left: 50px;
    position: relative;
    color: #8f8;
    font-size: 16px;
}

.exam-problems li:before {
    content: "0" counter(problem-counter);
    position: absolute;
    left: 0;
    top: 0;
    background: linear-gradient(45deg, #000, #f0f, #000);
    color: #ff0;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    border: 2px solid #ff0;
    font-family: 'VT323', monospace;
    font-size: 20px;
    text-shadow: 2px 2px 0 #000;
}

/* ===== CIERRE Y GLOSARIO ===== */
.conclusion {
    font-size: 20px;
    font-style: italic;
    text-align: center;
    padding: 30px;
    background: rgba(0, 0, 0, 0.9);
    border: 3px solid #f0f;
    margin: 40px 0;
    color: #0ff;
    text-shadow: 0 0 15px #0ff;
    position: relative;
    overflow: hidden;
}

.conclusion::before {
    content: "SYSTEM: MESSAGE";
    position: absolute;
    top: -12px;
    left: 20px;
    background: #000;
    color: #f0f;
    padding: 0 10px;
    font-size: 14px;
    font-weight: bold;
}

.chem-quote {
    font-style: italic;
    text-align: center;
    padding: 25px;
    margin: 40px 0;
    background: rgba(0, 0, 0, 0.9);
    border-left: 6px solid #ff0;
    border-right: 6px solid #ff0;
    color: #8f8;
    font-size: 18px;
    text-shadow: 0 0 10px #8f8;
    position: relative;
}

.chem-quote::before,
.chem-quote::after {
    content: '"';
    color: #ff0;
    font-size: 36px;
    position: absolute;
    top: 10px;
}

.chem-quote::before { left: 20px; }
.chem-quote::after { right: 20px; }

.glossary {
    background: rgba(0, 0, 0, 0.9);
    border: 3px solid #8f8;
    padding: 25px;
    margin: 35px 0;
    position: relative;
}

.glossary::before {
    content: "GLOSSARY.DAT";
    position: absolute;
    top: -12px;
    left: 20px;
    background: #000;
    color: #8f8;
    padding: 0 10px;
    font-size: 14px;
    font-weight: bold;
}

.glossary dt {
    font-weight: bold;
    color: #ff0;
    margin-top: 20px;
    font-size: 20px;
    text-transform: uppercase;
    border-bottom: 2px solid #0ff;
    padding-bottom: 5px;
    display: inline-block;
}

.glossary dd {
    margin-left: 30px;
    margin-bottom: 20px;
    color: #0ff;
    padding-left: 20px;
    border-left: 2px solid #f0f;
}

/* ===== RESPONSIVE 8-BIT ===== */
@media (max-width: 768px) {
    .chem-cyber-container {
        padding: 10px;
        border-width: 2px;
    }
    
    .section-title {
        font-size: 22px;
    }
    
    .control-panel {
        flex-direction: column;
        align-items: stretch;
    }
    
    .control-panel select,
    .control-panel input,
    .control-panel button {
        width: 100%;
        margin: 8px 0;
    }
    
    .reaction-viz {
        flex-direction: column;
        gap: 20px;
        font-size: 20px;
    }
    
    .conc-svg,
    .mol-canvas {
        width: 100%;
        height: auto;
        max-width: 100%;
    }
    
    .quiz-box button {
        width: 100%;
        margin: 10px 0;
    }
    
    .ice-calc input,
    .calc-block input {
        width: 100%;
        margin: 10px 0;
    }
}

/* ===== EFECTO PARPADEO CURSOR ===== */
@keyframes cursorBlink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0; }
}

.cursor {
    animation: cursorBlink 1s infinite;
    color: #0ff;
}

/* ===== BOTONES PIXELADOS ===== */
.pixel-button {
    image-rendering: pixelated;
    border-style: solid;
    border-width: 4px;
    border-top-color: #ccc;
    border-left-color: #ccc;
    border-right-color: #666;
    border-bottom-color: #666;
    background: #999;
    color: #000;
    padding: 10px 20px;
    font-family: 'VT323', monospace;
    font-size: 16px;
    cursor: pointer;
}

.pixel-button:active {
    border-top-color: #666;
    border-left-color: #666;
    border-right-color: #ccc;
    border-bottom-color: #ccc;
    transform: translate(2px, 2px);
}

/* ======================================== */
/* ESTILOS CYBERPUNK - ANTINUTRIENTES MASTER */
/* ======================================== */

.chem-cyber-container {
    background: #000;
    color: #0ff;
    font-family: 'Courier New', 'VT323', monospace;
    padding: 2rem;
    border: 4px solid;
    border-image: linear-gradient(45deg, #f0f, #0ff, #ff0) 1;
    position: relative;
    overflow: hidden;
    image-rendering: pixelated;
}

/* Scanlines CRT */
.chem-cyber-container::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
        to bottom,
        transparent 50%,
        rgba(0, 255, 255, 0.05) 50%
    );
    background-size: 100% 4px;
    z-index: 9999;
    pointer-events: none;
    opacity: 0.15;
}

/* CABECERA TERMINAL */
.cyber-header {
    background: rgba(0, 64, 64, 0.3);
    border: 2px solid #0ff;
    padding: 1rem;
    margin-bottom: 2rem;
    position: relative;
}

.terminal-line {
    font-size: 1.2rem;
    margin-bottom: 0.5rem;
}

.prompt {
    color: #0f0;
    margin-right: 10px;
}

.command {
    color: #0ff;
    text-shadow: 0 0 10px #0ff;
}

.cursor {
    color: #0ff;
    animation: blink 1s infinite;
}

.system-status {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    margin-top: 10px;
}

.status-tag {
    padding: 4px 12px;
    background: #000;
    border: 1px solid;
    font-size: 0.8rem;
    text-transform: uppercase;
}

.blink {
    animation: blink 1.5s infinite;
    color: #ff0;
}

/* T칈TULO CON GLITCH */
.cyber-title {
    text-align: center;
    margin: 2rem 0;
    position: relative;
}

.glitch {
    font-size: 4rem;
    font-weight: bold;
    color: #0ff;
    text-transform: uppercase;
    letter-spacing: 4px;
    position: relative;
    text-shadow: 
        3px 3px 0 #f0f,
        6px 6px 0 rgba(255, 0, 255, 0.5);
}

.glitch::before,
.glitch::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.glitch::before {
    color: #f0f;
    animation: glitch-1 2s infinite linear alternate-reverse;
}

.glitch::after {
    color: #ff0;
    animation: glitch-2 3s infinite linear alternate-reverse;
}

.subtitle {
    color: #8f8;
    font-size: 1.5rem;
    text-transform: uppercase;
    letter-spacing: 2px;
    margin-top: 1rem;
}

@keyframes glitch-1 {
    0% { clip-path: inset(40% 0 61% 0); }
    5% { clip-path: inset(92% 0 1% 0); }
    10% { clip-path: inset(43% 0 1% 0); }
    15% { clip-path: inset(25% 0 58% 0); }
    20% { clip-path: inset(54% 0 7% 0); }
    100% { clip-path: inset(58% 0 43% 0); }
}

@keyframes glitch-2 {
    0% { clip-path: inset(25% 0 58% 0); }
    5% { clip-path: inset(54% 0 7% 0); }
    10% { clip-path: inset(30% 0 58% 0); }
    15% { clip-path: inset(65% 0 14% 0); }
    20% { clip-path: inset(92% 0 1% 0); }
    100% { clip-path: inset(15% 0 60% 0); }
}

@keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0; }
}

/* INTRO HOLOGR츼FICA */
.hologram-intro {
    background: linear-gradient(45deg, 
        rgba(0, 255, 255, 0.1),
        rgba(255, 0, 255, 0.1),
        rgba(255, 255, 0, 0.1)
    );
    border: 1px solid #0ff;
    padding: 2rem;
    margin: 2rem 0;
    position: relative;
    overflow: hidden;
}

.hologram-intro::before {
    content: "";
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(
        45deg,
        transparent 30%,
        rgba(0, 255, 255, 0.1) 50%,
        transparent 70%
    );
    animation: holo-scan 4s linear infinite;
}

.holo-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.holo-cell {
    text-align: center;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.6);
    border: 1px solid #0ff;
    position: relative;
}

.holo-value {
    font-size: 2.5rem;
    font-weight: bold;
    color: #ff0;
    text-shadow: 0 0 15px #ff0;
    margin-bottom: 0.5rem;
}

.holo-label {
    color: #8f8;
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.holo-text {
    color: #0ff;
    font-size: 1.2rem;
    line-height: 1.6;
    text-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
}

.highlight {
    color: #ff0;
    font-weight: bold;
    text-shadow: 0 0 10px #ff0;
}

@keyframes holo-scan {
    0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
    100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
}

/* SECCIONES */
.cyber-section {
    margin: 3rem 0;
    padding: 2rem;
    background: rgba(0, 32, 32, 0.3);
    border: 2px solid #0ff;
    position: relative;
}

.cyber-section::before {
    content: attr(data-section);
    position: absolute;
    top: -12px;
    left: 20px;
    background: #000;
    color: #0ff;
    padding: 0 10px;
    font-size: 0.9rem;
    text-transform: uppercase;
}

h2 {
    color: #f0f;
    font-size: 2rem;
    margin-bottom: 1.5rem;
    text-transform: uppercase;
    letter-spacing: 2px;
    border-bottom: 3px solid #0ff;
    padding-bottom: 10px;
}

.section-number {
    color: #ff0;
    background: #000;
    padding: 5px 10px;
    border: 2px solid #0ff;
    margin-right: 15px;
}

.section-subtitle {
    color: #8f8;
    font-size: 1.1rem;
    margin-bottom: 2rem;
    font-style: italic;
}

/* TARJETAS DE MOL칄CULAS */
.molecule-card-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin: 2rem 0;
}

.molecule-card {
    background: rgba(0, 0, 0, 0.7);
    border: 3px solid;
    padding: 1.5rem;
    position: relative;
    transition: all 0.3s ease;
}

.molecule-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0, 255, 255, 0.3);
}

.mol-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
}

.mol-header h3 {
    color: #ff0;
    margin: 0;
    font-size: 1.8rem;
}

.mol-formula {
    color: #0ff;
    font-family: 'Cambria Math', serif;
    font-size: 1.2rem;
    background: rgba(0, 0, 0, 0.5);
    padding: 5px 10px;
    border-radius: 4px;
}

.mol-structure {
    text-align: center;
    margin: 1rem 0;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.9);
    border: 1px solid #444;
}

.ascii-art {
    color: #8f8;
    font-family: monospace;
    font-size: 0.9rem;
    line-height: 1.3;
    margin: 0;
}

.mol-stats {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 10px;
    margin: 1rem 0;
}

.stat {
    display: flex;
    justify-content: space-between;
    padding: 8px;
    background: rgba(0, 64, 64, 0.3);
    border: 1px solid #0ff;
}

.stat-label {
    color: #8f8;
    font-size: 0.8rem;
}

.stat-value {
    color: #ff0;
    font-weight: bold;
}

.danger {
    color: #f00 !important;
    text-shadow: 0 0 10px #f00;
}

.mol-mechanism {
    color: #0ff;
    font-size: 0.9rem;
    padding-top: 1rem;
    border-top: 1px solid #0ff;
}

/* REACCIONES QU칈MICAS */
.reaction-display {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin: 2rem 0;
}

.reaction-equation {
    background: rgba(0, 0, 0, 0.7);
    border: 2px solid #ff0;
    padding: 1.5rem;
    text-align: center;
    position: relative;
}

.reaction-equation::before {
    content: "REACTION";
    position: absolute;
    top: -10px;
    left: 20px;
    background: #000;
    color: #ff0;
    padding: 0 10px;
    font-size: 0.8rem;
}

.reagent, .product {
    display: inline-block;
    padding: 10px 20px;
    background: rgba(0, 64, 64, 0.3);
    border: 1px solid #0ff;
    margin: 0 10px;
    font-family: 'Cambria Math', serif;
    font-size: 1.2rem;
}

.arrow {
    display: inline-block;
    color: #8f8;
    font-size: 1.5rem;
    margin: 0 15px;
}

.reaction-info {
    color: #8f8;
    font-size: 0.9rem;
    margin-top: 10px;
    font-style: italic;
}

/* SIMULADOR */
.simulator-grid {
    display: grid;
    grid-template-columns: 1fr 2fr;
    gap: 2rem;
    margin: 2rem 0;
}

.control-panel {
    background: rgba(0, 0, 0, 0.7);
    border: 2px solid #f0f;
    padding: 1.5rem;
}

.control-group {
    margin-bottom: 1.5rem;
}

.control-group label {
    display: block;
    color: #0ff;
    margin-bottom: 10px;
    font-weight: bold;
    text-transform: uppercase;
    font-size: 0.9rem;
}

.cyber-slider {
    width: 100%;
    height: 8px;
    -webkit-appearance: none;
    background: linear-gradient(90deg, #000, #0ff);
    border: 1px solid #0ff;
    border-radius: 0;
}

.cyber-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 20px;
    height: 20px;
    background: #ff0;
    border: 2px solid #000;
    cursor: pointer;
    box-shadow: 0 0 10px #ff0;
}

.value-display {
    color: #ff0;
    font-size: 1.2rem;
    text-align: center;
    margin-top: 10px;
    padding: 5px;
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid #0ff;
}

.visualization-panel {
    background: rgba(0, 0, 0, 0.7);
    border: 2px solid #0ff;
    padding: 1.5rem;
}

.mineral-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.mineral {
    text-align: center;
    padding: 1rem;
    background: rgba(0, 32, 32, 0.3);
    border: 1px solid;
    position: relative;
}

#minFe { border-color: #f0f; }
#minCa { border-color: #0ff; }
#minZn { border-color: #ff0; }

.mineral-icon {
    font-size: 2rem;
    font-weight: bold;
    margin-bottom: 0.5rem;
}

#minFe .mineral-icon { color: #f0f; }
#minCa .mineral-icon { color: #0ff; }
#minZn .mineral-icon { color: #ff0; }

.mineral-name {
    color: #8f8;
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 0.5rem;
}

.mineral-value {
    color: #ff0;
    font-size: 1.5rem;
    font-weight: bold;
    margin-bottom: 0.5rem;
}

.mineral-bar {
    width: 100%;
    height: 10px;
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid #444;
    overflow: hidden;
}

.bar-fill {
    height: 100%;
    background: linear-gradient(90deg, #000, #0ff);
    transition: width 0.5s ease;
}

#minFe .bar-fill { background: linear-gradient(90deg, #000, #f0f); }
#minCa .bar-fill { background: linear-gradient(90deg, #000, #0ff); }
#minZn .bar-fill { background: linear-gradient(90deg, #000, #ff0); }

.sim-log {
    background: #000;
    color: #8f8;
    font-family: monospace;
    padding: 1rem;
    border: 1px solid #0ff;
    min-height: 120px;
    black-space: pre-wrap;
    line-height: 1.4;
}

/* ESTAD칈STICAS */
.stats-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
    margin-top: 2rem;
    width: 100%;
}

.stat-box {
    text-align: center;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.7);
    border: 2px solid #8f8;
}

.stat-title {
    color: #8f8;
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 0.5rem;
}

.stat-value {
    color: #ff0;
    font-size: 2rem;
    font-weight: bold;
    margin-bottom: 0.5rem;
    text-shadow: 0 0 10px #ff0;
}

.stat-bar {
    width: 100%;
    height: 8px;
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid #444;
    overflow: hidden;
}

.stat-fill {
    height: 100%;
    background: linear-gradient(90deg, #000, #8f8);
    transition: width 0.5s ease;
}

/* ANIMACI칍N MOLECULAR */
.molecular-animation {
    text-align: center;
    margin: 2rem 0;
    padding: 2rem;
    background: rgba(0, 0, 0, 0.7);
    border: 2px solid #0ff;
}

.molecule-svg {
    max-width: 100%;
    height: auto;
}

/* PROTOCOLOS */
.protocol-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    margin: 2rem 0;
}

.protocol-card {
    background: rgba(0, 0, 0, 0.7);
    border: 3px solid;
    padding: 1.5rem;
    text-align: center;
    transition: all 0.3s ease;
    position: relative;
}

.protocol-card[data-effect="high"] { border-color: #0ff; }
.protocol-card[data-effect="medium"] { border-color: #ff0; }

.protocol-card:hover {
    transform: scale(1.05);
    box-shadow: 0 0 20px;
}

.protocol-card.active {
    box-shadow: 0 0 30px;
    animation: pulse 2s infinite;
}

.protocol-icon {
    font-size: 3rem;
    margin-bottom: 1rem;
}

.protocol-card h3 {
    color: #ff0;
    margin-bottom: 1rem;
    font-size: 1.5rem;
}

.protocol-stats {
    display: flex;
    flex-direction: column;
    gap: 5px;
    margin: 1rem 0;
}

.protocol-stats .stat {
    color: #8f8;
    font-size: 0.9rem;
    padding: 5px;
    background: rgba(0, 64, 64, 0.3);
    border: 1px solid #0ff;
}

.protocol-desc {
    color: #0ff;
    font-size: 0.9rem;
    margin: 1rem 0;
    font-style: italic;
}

.protocol-btn {
    background: linear-gradient(45deg, #000, #0ff);
    color: #000;
    border: none;
    padding: 10px 20px;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    text-transform: uppercase;
    cursor: pointer;
    transition: all 0.3s ease;
    width: 100%;
}

.protocol-btn:hover {
    background: linear-gradient(45deg, #000, #ff0);
    transform: translateY(-2px);
}

@keyframes pulse {
    0%, 100% { box-shadow: 0 0 20px; }
    50% { box-shadow: 0 0 40px; }
}

/* QUIZ */
.quiz-terminal {
    background: rgba(0, 0, 0, 0.7);
    border: 3px solid #ff0;
    padding: 2rem;
    position: relative;
}

.quiz-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
    padding-bottom: 10px;
    border-bottom: 2px solid #0ff;
}

.quiz-title {
    color: #ff0;
    font-size: 1.5rem;
    text-transform: uppercase;
    letter-spacing: 2px;
}

.quiz-score {
    color: #0ff;
    font-size: 1.2rem;
    font-weight: bold;
}

.quiz-content {
    margin: 1.5rem 0;
}

.quiz-question {
    color: #8f8;
    font-size: 1.3rem;
    margin-bottom: 1.5rem;
    line-height: 1.5;
}

.quiz-options {
    display: grid;
    gap: 10px;
}

.quiz-option {
    background: rgba(0, 64, 64, 0.3);
    color: #0ff;
    border: 2px solid #0ff;
    padding: 15px;
    font-family: 'Courier New', monospace;
    font-size: 1.1rem;
    text-align: left;
    cursor: pointer;
    transition: all 0.3s ease;
}

.quiz-option:hover {
    background: rgba(0, 255, 255, 0.2);
    transform: translateX(5px);
}

.quiz-option.correct {
    background: rgba(0, 255, 0, 0.3);
    color: #0f0;
    border-color: #0f0;
}

.quiz-option.incorrect {
    background: rgba(255, 0, 0, 0.3);
    color: #f00;
    border-color: #f00;
}

.quiz-option:disabled {
    opacity: 0.7;
    cursor: not-allowed;
}

.quiz-log {
    background: #000;
    color: #8f8;
    font-family: monospace;
    padding: 1rem;
    border: 1px solid #0ff;
    min-height: 100px;
    black-space: pre-wrap;
    line-height: 1.4;
    margin-top: 1.5rem;
}

.quiz-complete {
    text-align: center;
    padding: 2rem;
}

.complete-title {
    color: #ff0;
    font-size: 2rem;
    margin-bottom: 1rem;
    text-transform: uppercase;
}

.complete-score {
    color: #0ff;
    font-size: 1.5rem;
    margin-bottom: 1rem;
}

.complete-message {
    color: #8f8;
    font-size: 1.2rem;
    line-height: 1.5;
}

/* ERRORES CONCEPTUALES */
.error-section {
    border-color: #f00;
}

.error-section h2 {
    border-color: #f00;
}

.error-list {
    display: grid;
    gap: 1rem;
}

.error-item {
    background: rgba(255, 0, 0, 0.1);
    border: 2px solid #f00;
    padding: 1.5rem;
    position: relative;
    transition: all 0.3s ease;
}

.error-item:hover {
    background: rgba(255, 0, 0, 0.2);
    transform: translateX(5px);
}

.error-code {
    position: absolute;
    top: -10px;
    left: 20px;
    background: #000;
    color: #f00;
    padding: 0 10px;
    font-weight: bold;
    font-size: 0.9rem;
}

.error-msg {
    color: #ff8;
    font-size: 1.2rem;
    margin-bottom: 10px;
}

.error-fix {
    color: #8f8;
    font-size: 1rem;
    font-family: monospace;
}

/* FOOTER */
.cyber-footer {
    background: rgba(0, 64, 64, 0.3);
    border: 2px solid #0ff;
    padding: 2rem;
    margin-top: 3rem;
    text-align: center;
}

.footer-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 2rem;
    margin-bottom: 1.5rem;
}

.footer-cell {
    text-align: center;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid #0ff;
}

.footer-value {
    font-size: 3rem;
    font-weight: bold;
    color: #ff0;
    text-shadow: 0 0 15px #ff0;
    margin-bottom: 0.5rem;
}

.footer-label {
    color: #8f8;
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.footer-text {
    color: #0ff;
    font-size: 1.1rem;
    line-height: 1.6;
    text-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
}

/* RESPONSIVE */
@media (max-width: 768px) {
    .chem-cyber-container {
        padding: 1rem;
    }
    
    .glitch {
        font-size: 2.5rem;
    }
    
    .hologram-intro,
    .cyber-section {
        padding: 1rem;
    }
    
    .hologram-grid,
    .molecule-card-grid,
    .simulator-grid,
    .stats-grid,
    .protocol-grid,
    .footer-grid {
        grid-template-columns: 1fr;
    }
    
    .reaction-display {
        grid-template-columns: 1fr;
    }
    
    .mineral-grid {
        grid-template-columns: 1fr;
    }
    
    h2 {
        font-size: 1.5rem;
    }
}

/* ANIMACIONES ADICIONALES */
@keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

.floating {
    animation: float 3s ease-in-out infinite;
}

/* ===================================================== */
/* ESTILOS NEUROQU칈MICOS AVANZADOS */
/* ===================================================== */

.neurochem-system {
    background: #050507;
    color: #e2e8f0;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    padding: 2.5rem;
    border-radius: 20px;
    position: relative;
    overflow: hidden;
}

/* CABECERA NEURAL */
.neural-header {
    background: linear-gradient(90deg, #0a0a0c, #0f1115);
    border: 2px solid #00f2ff;
    border-radius: 12px;
    padding: 1.5rem;
    margin-bottom: 3rem;
    position: relative;
}

.neuro-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 1rem;
    margin-bottom: 1rem;
}

.neuro-node {
    background: #0f1115;
    border: 2px solid #222;
    border-radius: 8px;
    padding: 1rem;
    text-align: center;
    transition: all 0.3s ease;
    cursor: pointer;
}

.neuro-node.active {
    border-color: #00f2ff;
    background: #001b1f;
}

.neuro-label {
    color: #64748b;
    font-size: 0.8rem;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 0.3rem;
}

.neuro-value {
    color: #00f2ff;
    font-weight: bold;
    font-size: 1.1rem;
}

.neuro-status {
    color: #00ff88;
    font-family: monospace;
    font-size: 0.9rem;
    padding-top: 1rem;
    border-top: 1px solid #222;
}

.status-pulse {
    color: #00ff88;
    animation: pulse 2s infinite;
    margin-right: 10px;
}

/* T칈TULO CU츼NTICO */
.quantum-title {
    text-align: center;
    margin: 2rem 0 3rem 0;
}

.quantum-text {
    font-size: 3.5rem;
    font-weight: 900;
    background: linear-gradient(45deg, #00f2ff, #00ff88, #f59e0b);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    display: block;
    text-transform: uppercase;
    letter-spacing: 3px;
    margin-bottom: 1rem;
    position: relative;
}

.quantum-sub {
    color: #64748b;
    font-size: 1.2rem;
    font-weight: 300;
    letter-spacing: 2px;
    display: block;
}

/* PANEL MULTIPARAM칄TRICO */
.multiparam-panel {
    background: #0a0a0c;
    border: 2px solid #1a1a1e;
    border-radius: 15px;
    padding: 2rem;
    margin-bottom: 3rem;
}

.param-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.param-cell {
    background: #0f1115;
    border: 1px solid #222;
    border-radius: 10px;
    padding: 1.5rem;
    text-align: center;
}

.param-name {
    color: #64748b;
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 0.8rem;
}

.param-value {
    color: #00f2ff;
    font-size: 2rem;
    font-weight: bold;
    margin-bottom: 0.3rem;
}

.param-unit {
    color: #94a3b8;
    font-size: 0.9rem;
    font-family: monospace;
}

.param-log {
    background: #000;
    color: #00ff88;
    font-family: monospace;
    padding: 1rem;
    border: 1px solid #00f2ff;
    border-radius: 8px;
    min-height: 80px;
    black-space: pre-wrap;
    line-height: 1.4;
}

/* SECCIONES */
.neuro-section {
    background: #0f1115;
    border: 2px solid #1a1a1e;
    border-radius: 15px;
    padding: 2.5rem;
    margin: 3rem 0;
    position: relative;
}

.neuro-section::before {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    background: linear-gradient(45deg, #00f2ff, transparent, #00ff88);
    border-radius: 17px;
    z-index: -1;
    opacity: 0.3;
}

h2 {
    color: #00f2ff;
    font-size: 2rem;
    margin-bottom: 2rem;
    text-transform: uppercase;
    letter-spacing: 2px;
    border-bottom: 2px solid #222;
    padding-bottom: 1rem;
}

.section-code {
    background: #000;
    color: #00ff88;
    padding: 0.5rem 1rem;
    border: 1px solid #00ff88;
    border-radius: 6px;
    margin-right: 1rem;
    font-family: monospace;
}

.section-subtitle {
    color: #94a3b8;
    font-size: 1.1rem;
    margin-bottom: 2rem;
    font-style: italic;
}

/* JERARQU칈A DE ESCALAS */
.scale-hierarchy {
    display: grid;
    gap: 1.5rem;
    margin-bottom: 3rem;
}

.scale-level {
    background: #0a0a0c;
    border: 2px solid;
    border-radius: 12px;
    padding: 1.5rem;
    display: flex;
    align-items: center;
    transition: all 0.3s ease;
}

.scale-level:hover {
    transform: translateX(10px);
    box-shadow: 0 10px 30px rgba(0, 242, 255, 0.1);
}

.scale-level[data-scale="angstrom"] { border-color: #00f2ff; }
.scale-level[data-scale="nano"] { border-color: #00ff88; }
.scale-level[data-scale="micro"] { border-color: #f59e0b; }
.scale-level[data-scale="macro"] { border-color: #8b5cf6; }

.scale-icon {
    font-size: 2rem;
    font-weight: bold;
    margin-right: 1.5rem;
    min-width: 60px;
    text-align: center;
}

.scale-content h3 {
    color: #e2e8f0;
    margin-bottom: 0.8rem;
    font-size: 1.3rem;
}

.scale-content p {
    color: #94a3b8;
    margin-bottom: 1rem;
}

.scale-content ul {
    list-style: none;
    padding-left: 0;
}

.scale-content li {
    color: #cbd5e1;
    margin-bottom: 0.5rem;
    position: relative;
    padding-left: 1.2rem;
}

.scale-content li::before {
    content: '郊';
    color: #00f2ff;
    position: absolute;
    left: 0;
}

/* MODELO INTEGRADO */
.integrated-model {
    background: #000;
    border: 2px solid #00f2ff;
    border-radius: 12px;
    padding: 2rem;
    margin-top: 2rem;
}

.model-header {
    color: #00ff88;
    font-size: 1.2rem;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 1.5rem;
    text-align: center;
}

.model-equation {
    color: #e2e8f0;
    font-size: 1.2rem;
    text-align: center;
    margin: 2rem 0;
    padding: 1.5rem;
    background: #0f1115;
    border-radius: 8px;
    overflow-x: auto;
}

.model-legend {
    display: flex;
    flex-wrap: wrap;
    gap: 1.5rem;
    justify-content: center;
    margin-top: 1.5rem;
}

.legend-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.legend-color {
    width: 20px;
    height: 20px;
    border-radius: 4px;
}

/* SIMULADOR CU츼NTICO */
.quantum-simulator {
    background: #0a0a0c;
    border: 2px solid #1a1a1e;
    border-radius: 15px;
    padding: 2rem;
    margin-top: 2rem;
}

.quantum-controls {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin-bottom: 3rem;
}

.q-control-group {
    background: #0f1115;
    border: 1px solid #222;
    border-radius: 10px;
    padding: 1.5rem;
}

.q-label {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
}

.q-label-text {
    color: #e2e8f0;
    font-weight: 500;
}

.q-label-value {
    color: #00f2ff;
    font-family: monospace;
    font-weight: bold;
}

.quantum-slider {
    width: 100%;
    height: 6px;
    -webkit-appearance: none;
    background: linear-gradient(90deg, #000, #00f2ff);
    border-radius: 3px;
    margin: 1rem 0;
}

.quantum-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 20px;
    height: 20px;
    background: #00ff88;
    border: 2px solid #000;
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0 0 10px #00ff88;
}

.q-scale {
    display: flex;
    justify-content: space-between;
    color: #64748b;
    font-size: 0.9rem;
    margin-top: 0.5rem;
}

/* MATRIZ ALIMENTARIA */
.matrix-controls {
    background: #0f1115;
    border: 1px solid #222;
    border-radius: 10px;
    padding: 1.5rem;
    margin-bottom: 2rem;
}

.matrix-controls h3 {
    color: #00f2ff;
    margin-bottom: 1.5rem;
    text-align: center;
}

.matrix-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
}

.matrix-factor {
    text-align: center;
}

.factor-name {
    color: #e2e8f0;
    margin-bottom: 0.8rem;
    font-weight: 500;
}

.matrix-slider {
    width: 100%;
    height: 8px;
    -webkit-appearance: none;
    background: linear-gradient(90deg, #000, #f59e0b);
    border-radius: 4px;
    margin-bottom: 0.5rem;
}

.matrix-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 18px;
    height: 18px;
    background: #f59e0b;
    border: 2px solid #000;
    border-radius: 50%;
    cursor: pointer;
}

.factor-value {
    color: #f59e0b;
    font-family: monospace;
    font-weight: bold;
    font-size: 1.1rem;
}

/* VISUALIZACI칍N */
.quantum-visualization {
    background: #000;
    border: 2px solid #00f2ff;
    border-radius: 12px;
    padding: 1.5rem;
    margin-bottom: 2rem;
}

.vis-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid #222;
}

.vis-header span:first-child {
    color: #00ff88;
    font-weight: bold;
}

.vis-time {
    color: #64748b;
    font-family: monospace;
}

.vis-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.vis-cell {
    background: #0f1115;
    border: 1px solid #222;
    border-radius: 8px;
    padding: 1rem;
    text-align: center;
}

.vis-title {
    color: #94a3b8;
    font-size: 0.9rem;
    margin-bottom: 0.5rem;
}

.vis-value {
    color: #00f2ff;
    font-size: 1.8rem;
    font-weight: bold;
    margin-bottom: 0.3rem;
}

.vis-unit {
    color: #64748b;
    font-size: 0.8rem;
    margin-bottom: 0.8rem;
}

.vis-bar {
    width: 100%;
    height: 8px;
    background: #1a1a1e;
    border-radius: 4px;
    overflow: hidden;
}

.vis-fill {
    height: 100%;
    background: linear-gradient(90deg, #000, #00f2ff);
    transition: width 0.5s ease;
}

.vis-log {
    background: #0a0a0c;
    color: #00ff88;
    font-family: monospace;
    padding: 1rem;
    border: 1px solid #222;
    border-radius: 8px;
    min-height: 80px;
    black-space: pre-wrap;
    line-height: 1.4;
}

/* ANIMACI칍N MOLECULAR */
.molecular-animation {
    background: #000;
    border: 2px solid #00f2ff;
    border-radius: 12px;
    padding: 1.5rem;
    margin-top: 2rem;
}

#molecularCanvas {
    width: 100%;
    height: 300px;
    background: #050507;
    border: 1px solid #222;
    border-radius: 8px;
    display: block;
    margin: 0 auto 1rem auto;
}

.animation-controls {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 1.5rem;
    flex-wrap: wrap;
}

.anim-btn {
    background: #000;
    color: #00f2ff;
    border: 2px solid #00f2ff;
    padding: 0.8rem 1.5rem;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.3s ease;
}

.anim-btn:hover {
    background: #00f2ff;
    color: #000;
}

.anim-speed {
    color: #94a3b8;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.anim-speed input {
    width: 100px;
}

/* SISTEMA DE TRANSPORTE */
.transport-system {
    background: #0a0a0c;
    border: 2px solid #1a1a1e;
    border-radius: 15px;
    padding: 2rem;
}

.transport-pathways {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin-bottom: 3rem;
}

.pathway {
    background: #0f1115;
    border: 2px solid #222;
    border-radius: 12px;
    padding: 1.5rem;
    transition: all 0.3s ease;
}

.pathway.active {
    border-color: #00f2ff;
    background: #001b1f;
}

.pathway h3 {
    color: #00f2ff;
    margin-bottom: 1.5rem;
    text-align: center;
}

.pathway-steps {
    display: grid;
    gap: 1rem;
}

.step {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.step-num {
    background: #00f2ff;
    color: #000;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    font-size: 0.9rem;
}

.step-desc {
    color: #e2e8f0;
    font-size: 0.95rem;
}

/* MODELO CIN칄TICO */
.kinetic-model {
    background: #000;
    border: 2px solid #00ff88;
    border-radius: 12px;
    padding: 2rem;
}

.kinetic-model h3 {
    color: #00ff88;
    text-align: center;
    margin-bottom: 1.5rem;
}

.kinetic-equation {
    text-align: center;
    margin-bottom: 2rem;
    padding: 1.5rem;
    background: #0f1115;
    border-radius: 8px;
}

.equation-note {
    color: #94a3b8;
    font-size: 0.9rem;
    margin-top: 1rem;
    line-height: 1.4;
}

.kinetic-plot {
    text-align: center;
}

#kineticCanvas {
    width: 100%;
    max-width: 600px;
    height: 300px;
    background: #050507;
    border: 1px solid #222;
    border-radius: 8px;
    display: block;
    margin: 0 auto 1rem auto;
}

.plot-controls {
    display: flex;
    justify-content: center;
    gap: 2rem;
    flex-wrap: wrap;
    margin-top: 1rem;
}

.plot-controls label {
    color: #94a3b8;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.plot-controls input {
    width: 80px;
}

/* EVALUACI칍N */
.neuro-evaluation {
    background: #0a0a0c;
    border: 2px solid #1a1a1e;
    border-radius: 15px;
    padding: 2rem;
}

.case-simulator {
    background: #0f1115;
    border: 2px solid #222;
    border-radius: 12px;
    padding: 2rem;
    margin-bottom: 3rem;
}

.case-simulator h3 {
    color: #00f2ff;
    margin-bottom: 1.5rem;
    text-align: center;
}

.case-scenario {
    background: #000;
    border: 1px solid #222;
    border-radius: 8px;
    padding: 1.5rem;
    margin-bottom: 2rem;
}

.case-scenario h4 {
    color: #f59e0b;
    margin-bottom: 1rem;
}

.case-params {
    display: flex;
    justify-content: space-around;
    flex-wrap: wrap;
    gap: 1rem;
    margin-top: 1rem;
}

.case-param {
    text-align: center;
}

.case-param span {
    color: #94a3b8;
    display: block;
    margin-bottom: 0.3rem;
}

.case-param strong {
    color: #00ff88;
    font-size: 1.1rem;
}

.case-question {
    background: #000;
    border: 1px solid #222;
    border-radius: 8px;
    padding: 1.5rem;
}

.case-options {
    display: grid;
    gap: 1rem;
    margin: 1.5rem 0;
}

.case-opt {
    background: #0f1115;
    color: #e2e8f0;
    border: 2px solid #222;
    border-radius: 6px;
    padding: 1rem;
    text-align: left;
    cursor: pointer;
    transition: all 0.3s ease;
}

.case-opt:hover {
    border-color: #00f2ff;
    background: #001b1f;
}

.case-feedback {
    margin-top: 1.5rem;
    padding: 1rem;
    border-radius: 6px;
    font-weight: bold;
}

/* QUIZ MULTINIVEL */
.multilevel-quiz {
    background: #0f1115;
    border: 2px solid #222;
    border-radius: 12px;
    padding: 2rem;
}

.quiz-level {
    background: #000;
    border: 1px solid #222;
    border-radius: 8px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
}

.quiz-level h4 {
    color: #00f2ff;
    margin-bottom: 1rem;
}

.quiz-options {
    display: grid;
    gap: 1rem;
}

.quiz-options button {
    background: #0f1115;
    color: #e2e8f0;
    border: 2px solid #222;
    border-radius: 6px;
    padding: 1rem;
    text-align: left;
    cursor: pointer;
    transition: all 0.3s ease;
}

.quiz-options button:hover {
    border-color: #00f2ff;
    background: #001b1f;
}

.quiz-score {
    background: #000;
    border: 2px solid #f59e0b;
    border-radius: 8px;
    padding: 1.5rem;
    margin-top: 2rem;
    text-align: center;
}

.score-display {
    color: #f59e0b;
    font-size: 1.8rem;
    font-weight: bold;
    margin-bottom: 1rem;
}

.score-breakdown {
    color: #94a3b8;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
    gap: 1rem;
}

/* METACOGNICI칍N */
.meta-section {
    background: linear-gradient(135deg, #0a0a0c, #0f1115);
}

.meta-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 2rem;
    margin-bottom: 3rem;
}

.meta-card {
    background: #000;
    border: 2px solid #00f2ff;
    border-radius: 12px;
    padding: 1.5rem;
}

.meta-card h3 {
    color: #00f2ff;
    margin-bottom: 1.5rem;
    text-align: center;
}

.concept-map {
    background: #0f1115;
    border: 1px solid #222;
    border-radius: 8px;
    padding: 1rem;
    min-height: 200px;
    margin-bottom: 1rem;
}

.concept-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 1rem;
}

.concept-node {
    background: #001b1f;
    color: #00f2ff;
    border: 1px solid #00f2ff;
    border-radius: 6px;
    padding: 0.8rem;
    text-align: center;
    font-size: 0.9rem;
}

.meta-btn {
    background: #000;
    color: #00f2ff;
    border: 2px solid #00f2ff;
    padding: 0.8rem 1.5rem;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.3s ease;
    width: 100%;
}

.meta-btn:hover {
    background: #00f2ff;
    color: #000;
}

.pattern-analyzer {
    text-align: center;
}

.pattern-inputs {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    justify-content: center;
    margin: 1.5rem 0;
}

.pattern-inputs input {
    background: #0f1115;
    color: #e2e8f0;
    border: 1px solid #222;
    border-radius: 6px;
    padding: 0.8rem;
    width: 120px;
}

.pattern-inputs button {
    background: #00ff88;
    color: #000;
    border: none;
    border-radius: 6px;
    padding: 0.8rem 1.5rem;
    cursor: pointer;
    font-weight: bold;
}

.pattern-output {
    background: #0f1115;
    border: 1px solid #222;
    border-radius: 8px;
    padding: 1rem;
    min-height: 120px;
    text-align: left;
    font-family: monospace;
    font-size: 0.9rem;
    line-height: 1.4;
    black-space: pre-wrap;
}

/* RETROALIMENTACI칍N ADAPTATIVA */
.adaptive-feedback {
    background: #000;
    border: 2px solid #00ff88;
    border-radius: 12px;
    padding: 2rem;
    margin-top: 2rem;
}

.adaptive-feedback h3 {
    color: #00ff88;
    margin-bottom: 1.5rem;
    text-align: center;
}

.feedback-display {
    background: #0f1115;
    border: 1px solid #222;
    border-radius: 8px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
    line-height: 1.6;
}

.feedback-display ul {
    list-style: none;
    padding-left: 1.5rem;
    margin-top: 1rem;
}

.feedback-display li {
    color: #cbd5e1;
    margin-bottom: 0.5rem;
    position: relative;
}

.feedback-display li::before {
    content: '郊';
    color: #00ff88;
    position: absolute;
    left: -1.5rem;
}

.feedback-controls {
    display: flex;
    justify-content: center;
    gap: 1.5rem;
    flex-wrap: wrap;
}

.feedback-controls button {
    background: #000;
    color: #00ff88;
    border: 2px solid #00ff88;
    padding: 0.8rem 1.5rem;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.3s ease;
}

.feedback-controls button:hover {
    background: #00ff88;
    color: #000;
}

/* CIERRE SIST칄MICO */
.system-closure {
    background: #0a0a0c;
    border: 2px solid #1a1a1e;
    border-radius: 15px;
    padding: 2.5rem;
    margin-top: 3rem;
}

.closure-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 2rem;
    margin-bottom: 3rem;
}

.closure-cell {
    text-align: center;
    padding: 1.5rem;
    background: #0f1115;
    border-radius: 10px;
    transition: all 0.3s ease;
}

.closure-cell:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0, 242, 255, 0.1);
}

.closure-icon {
    font-size: 2.5rem;
    margin-bottom: 1rem;
}

.closure-title {
    color: #00f2ff;
    font-weight: bold;
    margin-bottom: 0.8rem;
    font-size: 1.1rem;
}

.closure-desc {
    color: #94a3b8;
    font-size: 0.9rem;
    line-height: 1.4;
}

.final-insight {
    background: #000;
    border: 2px solid #00f2ff;
    border-radius: 12px;
    padding: 2rem;
    margin-bottom: 2rem;
}

.final-insight h3 {
    color: #00f2ff;
    text-align: center;
    margin-bottom: 1.5rem;
}

.final-insight p {
    color: #e2e8f0;
    line-height: 1.8;
    margin-bottom: 1.5rem;
    text-align: center;
}

.insight-equation {
    text-align: center;
    padding: 1.5rem;
    background: #0f1115;
    border-radius: 8px;
    overflow-x: auto;
}

.system-stats {
    display: flex;
    justify-content: space-around;
    flex-wrap: wrap;
    gap: 1.5rem;
    padding: 1.5rem;
    background: #0f1115;
    border-radius: 10px;
}

.stat-item {
    text-align: center;
}

.stat-label {
    color: #94a3b8;
    display: block;
    margin-bottom: 0.5rem;
    font-size: 0.9rem;
}

.stat-value {
    color: #00ff88;
    font-size: 1.5rem;
    font-weight: bold;
    display: block;
}

.stat-unit {
    color: #64748b;
    font-size: 0.9rem;
}

/* ANIMACIONES */
@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

@keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

.floating {
    animation: float 3s ease-in-out infinite;
}

/* RESPONSIVE */
@media (max-width: 768px) {
    .neurochem-system {
        padding: 1rem;
    }
    
    .quantum-text {
        font-size: 2.5rem;
    }
    
    .neuro-grid {
        grid-template-columns: 1fr;
    }
    
    .param-grid {
        grid-template-columns: 1fr;
    }
    
    .quantum-controls {
        grid-template-columns: 1fr;
    }
    
    .matrix-grid {
        grid-template-columns: 1fr;
    }
    
    .vis-grid {
        grid-template-columns: 1fr;
    }
    
    .transport-pathways {
        grid-template-columns: 1fr;
    }
    
    .meta-grid {
        grid-template-columns: 1fr;
    }
    
    .closure-grid {
        grid-template-columns: 1fr;
    }
    
    .system-stats {
        flex-direction: column;
        align-items: center;
    }
}

/* ESTILOS PARA SCROLLBAR */
::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

::-webkit-scrollbar-track {
    background: #0f1115;
}

::-webkit-scrollbar-thumb {
    background: #00f2ff;
    border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
    background: #00ff88;
}

/* ===================================================== */
/* ESTILOS CU츼NTICOS - BIODISPONIBILIDAD AVANZADA */
/* ===================================================== */

.quantum-bio-system {
    background: linear-gradient(135deg, #0a0c1b 0%, #13152b 100%);
    color: #e9ecef;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    padding: 2rem;
    border-radius: 24px;
    position: relative;
    overflow: hidden;
    min-height: 100vh;
}

/* Efecto de part칤culas cu치nticas */
.quantum-bio-system::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
        radial-gradient(circle at 20% 30%, rgba(77, 171, 247, 0.03) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(64, 192, 87, 0.03) 0%, transparent 50%),
        radial-gradient(circle at 40% 80%, rgba(250, 82, 82, 0.03) 0%, transparent 50%);
    pointer-events: none;
    z-index: 0;
}

/* CABECERA HOLOGR츼FICA */
.holo-header {
    background: linear-gradient(90deg, 
        rgba(20, 30, 48, 0.9) 0%,
        rgba(30, 40, 58, 0.9) 50%,
        rgba(20, 30, 48, 0.9) 100%);
    border: 1px solid rgba(77, 171, 247, 0.3);
    border-radius: 16px;
    padding: 1.5rem;
    margin-bottom: 2rem;
    position: relative;
    z-index: 1;
    backdrop-filter: blur(10px);
}

.phase-indicators {
    display: flex;
    justify-content: space-between;
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.phase-indicator {
    flex: 1;
    background: rgba(30, 40, 58, 0.8);
    border: 2px solid rgba(77, 171, 247, 0.2);
    border-radius: 12px;
    padding: 1.2rem;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
}

.phase-indicator:hover {
    transform: translateY(-2px);
    border-color: rgba(77, 171, 247, 0.5);
    box-shadow: 0 8px 24px rgba(77, 171, 247, 0.15);
}

.phase-indicator.active {
    background: linear-gradient(135deg, rgba(77, 171, 247, 0.2), rgba(64, 192, 87, 0.2));
    border-color: #4dabf7;
    box-shadow: 0 0 30px rgba(77, 171, 247, 0.3);
}

.phase-glow {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent, #4dabf7, transparent);
    opacity: 0;
    transition: opacity 0.3s;
}

.phase-indicator.active .phase-glow {
    opacity: 1;
    animation: glowPulse 2s infinite;
}

.phase-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    position: relative;
    z-index: 1;
}

.phase-number {
    font-size: 1.8rem;
    font-weight: 900;
    background: linear-gradient(135deg, #4dabf7, #339af0);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    letter-spacing: 2px;
}

.phase-name {
    font-size: 0.9rem;
    font-weight: 600;
    color: #adb5bd;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.system-status {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    background: rgba(20, 30, 48, 0.6);
    border-radius: 10px;
    border: 1px solid rgba(64, 192, 87, 0.2);
}

.status-dot {
    width: 10px;
    height: 10px;
    background: #40c057;
    border-radius: 50%;
    animation: pulse 2s infinite;
}

.status-text {
    display: flex;
    flex-direction: column;
    gap: 0.2rem;
}

.status-label {
    font-size: 0.8rem;
    color: #868e96;
    font-weight: 600;
}

.status-value {
    font-size: 1rem;
    font-weight: 700;
    color: #40c057;
    letter-spacing: 0.5px;
}

/* T칈TULO CU츼NTICO */
.quantum-title-container {
    text-align: center;
    margin: 3rem 0 4rem 0;
    position: relative;
    z-index: 1;
}

.quantum-main-title {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.title-word {
    font-size: 4.5rem;
    font-weight: 900;
    background: linear-gradient(135deg, 
        #4dabf7 0%,
        #228be6 25%,
        #40c057 50%,
        #ff922b 75%,
        #fa5252 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-size: 200% auto;
    animation: gradientFlow 8s ease infinite;
    letter-spacing: 2px;
    line-height: 1;
}

.quantum-subtitle {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.subtitle-part {
    font-size: 1.2rem;
    color: #adb5bd;
    font-weight: 300;
    letter-spacing: 1px;
}

/* PANEL DE CONTROL PRINCIPAL */
.master-control-panel {
    background: rgba(20, 30, 48, 0.8);
    border: 1px solid rgba(77, 171, 247, 0.3);
    border-radius: 20px;
    padding: 2rem;
    margin-bottom: 3rem;
    backdrop-filter: blur(10px);
    position: relative;
    z-index: 1;
}

.control-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid rgba(77, 171, 247, 0.2);
}

.control-header h3 {
    font-size: 1.8rem;
    background: linear-gradient(135deg, #4dabf7, #40c057);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    font-weight: 700;
}

.control-buttons {
    display: flex;
    gap: 1rem;
}

.ctrl-btn {
    background: linear-gradient(135deg, rgba(77, 171, 247, 0.1), rgba(64, 192, 87, 0.1));
    border: 1px solid rgba(77, 171, 247, 0.3);
    color: #4dabf7;
    padding: 0.8rem 1.5rem;
    border-radius: 10px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.ctrl-btn:hover {
    background: linear-gradient(135deg, rgba(77, 171, 247, 0.2), rgba(64, 192, 87, 0.2));
    border-color: #4dabf7;
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(77, 171, 247, 0.2);
}

.btn-icon {
    font-size: 1.2rem;
}

.parameter-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 2rem;
}

.param-group {
    background: rgba(30, 40, 58, 0.6);
    border: 1px solid rgba(77, 171, 247, 0.2);
    border-radius: 16px;
    padding: 1.5rem;
}

.param-group-title {
    font-size: 1.2rem;
    font-weight: 700;
    color: #4dabf7;
    margin-bottom: 1.5rem;
    padding-bottom: 0.8rem;
    border-bottom: 1px solid rgba(77, 171, 247, 0.2);
}

.param-item {
    margin-bottom: 1.5rem;
}

.param-info {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.8rem;
}

.param-label {
    font-weight: 600;
    color: #e9ecef;
    font-size: 1rem;
}

.param-value {
    font-weight: 700;
    color: #40c057;
    font-family: 'Courier New', monospace;
    font-size: 1.1rem;
}

.quantum-range {
    width: 100%;
    height: 8px;
    -webkit-appearance: none;
    background: linear-gradient(90deg, 
        rgba(250, 82, 82, 0.5),
        rgba(255, 146, 43, 0.5),
        rgba(64, 192, 87, 0.5),
        rgba(77, 171, 247, 0.5));
    border-radius: 4px;
    outline: none;
}

.quantum-range::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 24px;
    height: 24px;
    background: #4dabf7;
    border: 3px solid #0a0c1b;
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0 0 15px rgba(77, 171, 247, 0.5);
    transition: all 0.3s;
}

.quantum-range::-webkit-slider-thumb:hover {
    background: #228be6;
    transform: scale(1.1);
    box-shadow: 0 0 20px rgba(77, 171, 247, 0.7);
}

.param-scale {
    display: flex;
    justify-content: space-between;
    margin-top: 0.5rem;
    font-size: 0.8rem;
    color: #868e96;
}

/* MATRIZ ALIMENTARIA */
.matrix-factors {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.matrix-factor {
    background: rgba(40, 50, 68, 0.4);
    border-radius: 12px;
    padding: 1.2rem;
}

.factor-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
}

.factor-name {
    font-weight: 700;
    color: #e9ecef;
    font-size: 1.1rem;
}

.factor-value {
    font-weight: 700;
    color: #ff922b;
    font-family: 'Courier New', monospace;
}

.matrix-range {
    width: 100%;
    height: 6px;
    -webkit-appearance: none;
    background: rgba(255, 146, 43, 0.2);
    border-radius: 3px;
    outline: none;
    margin-bottom: 0.8rem;
}

.matrix-range::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 20px;
    height: 20px;
    background: #ff922b;
    border: 2px solid #0a0c1b;
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0 0 10px rgba(255, 146, 43, 0.5);
}

.factor-effect {
    font-size: 0.9rem;
    font-weight: 600;
    text-align: center;
    padding: 0.4rem 0.8rem;
    border-radius: 6px;
    background: rgba(64, 192, 87, 0.1);
    color: #40c057;
    border: 1px solid rgba(64, 192, 87, 0.3);
}

.factor-effect.high {
    background: rgba(250, 82, 82, 0.1);
    color: #fa5252;
    border-color: rgba(250, 82, 82, 0.3);
}

.factor-effect.medium {
    background: rgba(255, 146, 43, 0.1);
    color: #ff922b;
    border-color: rgba(255, 146, 43, 0.3);
}

/* VISUALIZACI칍N EN TIEMPO REAL */
.realtime-visualization {
    background: rgba(30, 40, 58, 0.6);
    border: 1px solid rgba(77, 171, 247, 0.2);
    border-radius: 16px;
    padding: 1.5rem;
}

.viz-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid rgba(77, 171, 247, 0.2);
}

.viz-header h4 {
    font-size: 1.2rem;
    font-weight: 700;
    color: #4dabf7;
}

.viz-time {
    font-family: 'Courier New', monospace;
    font-weight: 700;
    color: #40c057;
    background: rgba(64, 192, 87, 0.1);
    padding: 0.4rem 0.8rem;
    border-radius: 6px;
    border: 1px solid rgba(64, 192, 87, 0.3);
}

.bioavailability-display {
    margin-bottom: 1.5rem;
}

.bio-metric {
    margin-bottom: 1.5rem;
}

.metric-label {
    font-size: 0.9rem;
    color: #adb5bd;
    margin-bottom: 0.5rem;
}

.metric-value {
    font-size: 2.5rem;
    font-weight: 900;
    color: #4dabf7;
    margin-bottom: 1rem;
    font-family: 'Courier New', monospace;
}

.metric-bar {
    width: 100%;
    height: 12px;
    background: rgba(77, 171, 247, 0.1);
    border-radius: 6px;
    overflow: hidden;
}

.bar-fill {
    height: 100%;
    background: linear-gradient(90deg, #4dabf7, #40c057);
    border-radius: 6px;
    transition: width 0.5s ease;
}

.secondary-metrics {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1rem;
}

.secondary-metric {
    background: rgba(40, 50, 68, 0.4);
    border-radius: 10px;
    padding: 1rem;
    text-align: center;
}

.sm-label {
    display: block;
    font-size: 0.8rem;
    color: #868e96;
    margin-bottom: 0.5rem;
}

.sm-value {
    display: block;
    font-weight: 700;
    color: #e9ecef;
    font-family: 'Courier New', monospace;
}

.system-log {
    background: rgba(20, 30, 48, 0.6);
    border: 1px solid rgba(77, 171, 247, 0.2);
    border-radius: 10px;
    padding: 1rem;
    max-height: 150px;
    overflow-y: auto;
    font-family: 'Courier New', monospace;
    font-size: 0.9rem;
}

.log-entry {
    padding: 0.5rem;
    border-bottom: 1px solid rgba(77, 171, 247, 0.1);
    color: #adb5bd;
}

.log-entry:last-child {
    border-bottom: none;
}

/* SECCI칍N DE ESCALAS */
.scale-section {
    background: rgba(20, 30, 48, 0.8);
    border: 1px solid rgba(77, 171, 247, 0.3);
    border-radius: 20px;
    padding: 2rem;
    margin-bottom: 3rem;
    backdrop-filter: blur(10px);
}

.section-header {
    text-align: center;
    margin-bottom: 2.5rem;
}

.section-header h2 {
    font-size: 2.2rem;
    background: linear-gradient(135deg, #4dabf7, #40c057);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 0.5rem;
    font-weight: 800;
}

.section-subtitle {
    font-size: 1.1rem;
    color: #adb5bd;
    font-weight: 300;
}

.scale-visualization {
    margin-bottom: 2.5rem;
}

.scale-slider-container {
    margin-bottom: 2rem;
}

.scale-slider {
    width: 100%;
    height: 6px;
    -webkit-appearance: none;
    background: linear-gradient(90deg, 
        #fa5252,
        #ff922b,
        #40c057,
        #4dabf7);
    border-radius: 3px;
    margin-bottom: 1rem;
}

.scale-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 28px;
    height: 28px;
    background: #4dabf7;
    border: 3px solid #0a0c1b;
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0 0 20px rgba(77, 171, 247, 0.5);
}

.scale-labels {
    display: flex;
    justify-content: space-between;
    padding: 0 0.5rem;
}

.scale-labels span {
    font-size: 0.9rem;
    color: #868e96;
    font-weight: 600;
    cursor: pointer;
    transition: color 0.3s;
    padding: 0.5rem;
    border-radius: 6px;
}

.scale-labels span:hover {
    color: #4dabf7;
    background: rgba(77, 171, 247, 0.1);
}

.scale-canvas-container {
    position: relative;
    background: rgba(30, 40, 58, 0.6);
    border-radius: 16px;
    padding: 2rem;
    margin-bottom: 2rem;
}

#scaleCanvas {
    width: 100%;
    height: 400px;
    background: rgba(20, 30, 48, 0.8);
    border-radius: 12px;
    display: block;
}

.scale-info {
    position: absolute;
    bottom: 2rem;
    left: 2rem;
    right: 2rem;
    background: rgba(20, 30, 48, 0.9);
    border: 1px solid rgba(77, 171, 247, 0.3);
    border-radius: 12px;
    padding: 1.5rem;
    backdrop-filter: blur(10px);
}

.scale-info h3 {
    color: #4dabf7;
    margin-bottom: 0.8rem;
    font-size: 1.3rem;
}

.scale-info p {
    color: #adb5bd;
    line-height: 1.5;
}

.scale-features {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
}

.feature-card {
    background: rgba(30, 40, 58, 0.6);
    border: 1px solid rgba(77, 171, 247, 0.2);
    border-radius: 16px;
    padding: 1.5rem;
    transition: all 0.3s;
    cursor: pointer;
}

.feature-card:hover {
    transform: translateY(-4px);
    border-color: rgba(77, 171, 247, 0.5);
    box-shadow: 0 12px 30px rgba(77, 171, 247, 0.15);
}

.feature-card.active {
    background: linear-gradient(135deg, 
        rgba(77, 171, 247, 0.1),
        rgba(64, 192, 87, 0.1));
    border-color: #4dabf7;
    box-shadow: 0 0 30px rgba(77, 171, 247, 0.2);
}

.feature-icon {
    font-size: 2.5rem;
    margin-bottom: 1rem;
}

.feature-card h3 {
    color: #4dabf7;
    margin-bottom: 0.8rem;
    font-size: 1.3rem;
}

.feature-card p {
    color: #adb5bd;
    margin-bottom: 1rem;
    font-size: 0.95rem;
}

.feature-card ul {
    list-style: none;
    padding-left: 0;
}

.feature-card li {
    color: #868e96;
    margin-bottom: 0.5rem;
    font-size: 0.9rem;
    padding-left: 1.2rem;
    position: relative;
}

.feature-card li::before {
    content: '郊';
    color: #4dabf7;
    position: absolute;
    left: 0;
}

/* SECCI칍N CIN칄TICA */
.kinetic-section {
    background: rgba(20, 30, 48, 0.8);
    border: 1px solid rgba(77, 171, 247, 0.3);
    border-radius: 20px;
    padding: 2rem;
    margin-bottom: 3rem;
}

.kinetic-simulator {
    background: rgba(30, 40, 58, 0.6);
    border-radius: 16px;
    padding: 2rem;
}

.kinetic-controls {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
    padding-bottom: 2rem;
    border-bottom: 1px solid rgba(77, 171, 247, 0.2);
}

.kinetic-param {
    display: flex;
    flex-direction: column;
    gap: 0.8rem;
}

.kinetic-param label {
    font-weight: 600;
    color: #e9ecef;
    font-size: 1rem;
}

.param-control {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.param-control input {
    flex: 1;
    height: 6px;
    -webkit-appearance: none;
    background: rgba(77, 171, 247, 0.2);
    border-radius: 3px;
}

.param-control input::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 20px;
    height: 20px;
    background: #4dabf7;
    border: 2px solid #0a0c1b;
    border-radius: 50%;
    cursor: pointer;
}

.param-display {
    min-width: 70px;
    font-family: 'Courier New', monospace;
    font-weight: 700;
    color: #40c057;
    background: rgba(64, 192, 87, 0.1);
    padding: 0.5rem;
    border-radius: 6px;
    text-align: center;
    border: 1px solid rgba(64, 192, 87, 0.3);
}

.kinetic-btn {
    grid-column: 1 / -1;
    background: linear-gradient(135deg, #4dabf7, #228be6);
    border: none;
    color: black;
    padding: 1rem 2rem;
    border-radius: 10px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.8rem;
    margin-top: 0.5rem;
}

.kinetic-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(77, 171, 247, 0.3);
}

.kinetic-visualization {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 2rem;
}

.kinetic-graph {
    background: rgba(20, 30, 48, 0.8);
    border-radius: 12px;
    padding: 1.5rem;
}

#kineticCanvas {
    width: 100%;
    height: 400px;
    background: transparent;
    display: block;
}

.kinetic-results {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.result-card {
    background: rgba(40, 50, 68, 0.6);
    border: 1px solid rgba(77, 171, 247, 0.2);
    border-radius: 12px;
    padding: 1.5rem;
    text-align: center;
}

.result-label {
    font-size: 0.9rem;
    color: #868e96;
    margin-bottom: 0.8rem;
    font-weight: 600;
}

.result-value {
    font-size: 1.8rem;
    font-weight: 900;
    color: #4dabf7;
    margin-bottom: 0.8rem;
    font-family: 'Courier New', monospace;
}

.result-percentage {
    font-size: 1rem;
    color: #40c057;
    font-weight: 600;
}

.result-bar {
    width: 100%;
    height: 8px;
    background: rgba(77, 171, 247, 0.1);
    border-radius: 4px;
    overflow: hidden;
    margin-top: 0.8rem;
}

.result-fill {
    height: 100%;
    background: linear-gradient(90deg, #4dabf7, #40c057);
    border-radius: 4px;
    transition: width 0.5s ease;
}

.result-desc {
    font-size: 0.9rem;
    color: #adb5bd;
    margin-top: 0.5rem;
}

/* CASOS CL칈NICOS */
.clinical-section {
    background: rgba(20, 30, 48, 0.8);
    border: 1px solid rgba(77, 171, 247, 0.3);
    border-radius: 20px;
    padding: 2rem;
    margin-bottom: 3rem;
}

.case-navigation {
    display: flex;
    gap: 1rem;
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid rgba(77, 171, 247, 0.2);
}

.case-nav-btn {
    background: rgba(30, 40, 58, 0.6);
    border: 1px solid rgba(77, 171, 247, 0.2);
    color: #adb5bd;
    padding: 0.8rem 1.5rem;
    border-radius: 10px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s;
}

.case-nav-btn:hover {
    background: rgba(77, 171, 247, 0.1);
    color: #4dabf7;
}

.case-nav-btn.active {
    background: linear-gradient(135deg, #4dabf7, #228be6);
    color: black;
    border-color: #4dabf7;
    box-shadow: 0 4px 15px rgba(77, 171, 247, 0.3);
}

.case-container {
    background: rgba(30, 40, 58, 0.6);
    border-radius: 16px;
    padding: 2rem;
}

.case-content {
    display: block;
}

.case-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid rgba(77, 171, 247, 0.2);
}

.case-header h3 {
    font-size: 1.5rem;
    color: #4dabf7;
    font-weight: 700;
}

.case-difficulty {
    background: rgba(255, 146, 43, 0.1);
    color: #ff922b;
    padding: 0.5rem 1rem;
    border-radius: 20px;
    font-weight: 600;
    font-size: 0.9rem;
    border: 1px solid rgba(255, 146, 43, 0.3);
}

.case-scenario {
    background: rgba(40, 50, 68, 0.4);
    border-radius: 12px;
    padding: 1.5rem;
    margin-bottom: 2rem;
}

.case-scenario p {
    color: #e9ecef;
    line-height: 1.6;
    margin-bottom: 1.5rem;
}

.case-parameters {
    display: flex;
    gap: 2rem;
}

.case-param {
    text-align: center;
}

.case-param span {
    display: block;
    color: #868e96;
    font-size: 0.9rem;
    margin-bottom: 0.5rem;
}

.case-param strong {
    display: block;
    color: #40c057;
    font-size: 1.1rem;
}

.case-param strong.high {
    color: #fa5252;
}

.case-question {
    margin-bottom: 2rem;
}

.case-question h4 {
    color: #e9ecef;
    margin-bottom: 1.5rem;
    font-size: 1.2rem;
}

.case-options {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.case-option {
    background: rgba(40, 50, 68, 0.6);
    border: 1px solid rgba(77, 171, 247, 0.2);
    border-radius: 12px;
    padding: 1.5rem;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    gap: 1rem;
    align-items: flex-start;
}

.case-option:hover {
    background: rgba(77, 171, 247, 0.1);
    border-color: rgba(77, 171, 247, 0.5);
}

.case-option.selected {
    background: rgba(64, 192, 87, 0.1);
    border-color: rgba(64, 192, 87, 0.5);
}

.option-letter {
    width: 36px;
    height: 36px;
    background: rgba(77, 171, 247, 0.2);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 900;
    color: #4dabf7;
    font-size: 1.2rem;
    flex-shrink: 0;
}

.case-option.selected .option-letter {
    background: #40c057;
    color: black;
}

.option-content {
    flex: 1;
}

.option-content strong {
    display: block;
    color: #e9ecef;
    margin-bottom: 0.5rem;
    font-size: 1.1rem;
}

.option-content p {
    color: #adb5bd;
    font-size: 0.95rem;
    line-height: 1.5;
}

.submit-case-btn {
    background: linear-gradient(135deg, #4dabf7, #228be6);
    border: none;
    color: black;
    padding: 1rem 2rem;
    border-radius: 10px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s;
    display: block;
    margin: 0 auto 2rem auto;
}

.submit-case-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(77, 171, 247, 0.3);
}

.case-feedback {
    background: rgba(64, 192, 87, 0.1);
    border: 1px solid rgba(64, 192, 87, 0.3);
    border-radius: 12px;
    padding: 1.5rem;
    display: none;
}

.case-feedback p {
    color: #40c057;
    line-height: 1.6;
    margin: 0;
}

/* LABORATORIO VIRTUAL */
.lab-section {
    background: rgba(20, 30, 48, 0.8);
    border: 1px solid rgba(77, 171, 247, 0.3);
    border-radius: 20px;
    padding: 2rem;
    margin-bottom: 3rem;
}

.lab-experiment {
    background: rgba(30, 40, 58, 0.6);
    border-radius: 16px;
    padding: 2rem;
}

.experiment-controls {
    margin-bottom: 2rem;
    padding-bottom: 2rem;
    border-bottom: 1px solid rgba(77, 171, 247, 0.2);
}

.experiment-selector {
    margin-bottom: 1.5rem;
}

.experiment-selector h4 {
    color: #4dabf7;
    margin-bottom: 0.8rem;
    font-size: 1.1rem;
}

.experiment-dropdown {
    width: 100%;
    background: rgba(40, 50, 68, 0.6);
    border: 1px solid rgba(77, 171, 247, 0.3);
    color: #e9ecef;
    padding: 1rem;
    border-radius: 10px;
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.3s;
}

.experiment-dropdown:hover {
    border-color: rgba(77, 171, 247, 0.5);
}

.experiment-variables {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
    margin-bottom: 1.5rem;
}

.variable-control {
    background: rgba(40, 50, 68, 0.4);
    border-radius: 10px;
    padding: 1rem;
}

.variable-control label {
    display: block;
    color: #e9ecef;
    margin-bottom: 0.8rem;
    font-weight: 600;
}

.variable-control label span {
    color: #4dabf7;
    font-family: 'Courier New', monospace;
}

.experiment-range {
    width: 100%;
    height: 6px;
    -webkit-appearance: none;
    background: rgba(77, 171, 247, 0.2);
    border-radius: 3px;
}

.experiment-range::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 20px;
    height: 20px;
    background: #4dabf7;
    border: 2px solid #0a0c1b;
    border-radius: 50%;
    cursor: pointer;
}

.run-experiment-btn {
    background: linear-gradient(135deg, #4dabf7, #228be6);
    border: none;
    color: black;
    padding: 1rem 2rem;
    border-radius: 10px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    gap: 0.8rem;
}

.run-experiment-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(77, 171, 247, 0.3);
}

.experiment-results {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 2rem;
}

.result-graph {
    background: rgba(20, 30, 48, 0.8);
    border-radius: 12px;
    padding: 1.5rem;
}

#experimentCanvas {
    width: 100%;
    height: 350px;
    background: transparent;
    display: block;
}

.experiment-conclusions {
    background: rgba(40, 50, 68, 0.6);
    border: 1px solid rgba(77, 171, 247, 0.2);
    border-radius: 12px;
    padding: 1.5rem;
}

.experiment-conclusions h4 {
    color: #4dabf7;
    margin-bottom: 1rem;
    font-size: 1.2rem;
}

.conclusions-content {
    color: #adb5bd;
    line-height: 1.6;
    font-size: 0.95rem;
}

/* EVALUACI칍N INTEGRADORA */
.assessment-section {
    background: rgba(20, 30, 48, 0.8);
    border: 1px solid rgba(77, 171, 247, 0.3);
    border-radius: 20px;
    padding: 2rem;
    margin-bottom: 3rem;
}

.assessment-progress {
    margin-bottom: 2rem;
}

.progress-bar {
    width: 100%;
    height: 12px;
    background: rgba(77, 171, 247, 0.1);
    border-radius: 6px;
    overflow: hidden;
    margin-bottom: 1rem;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #4dabf7, #40c057);
    border-radius: 6px;
    transition: width 0.5s ease;
}

.progress-stats {
    display: flex;
    justify-content: space-between;
    align-items: center;
    color: #868e96;
    font-size: 0.95rem;
}

.progress-stats span:first-child {
    font-weight: 700;
    color: #4dabf7;
    font-size: 1.1rem;
}

.progress-score {
    font-weight: 700;
    color: #40c057;
}

.assessment-questions {
    margin-bottom: 2rem;
}

.question {
    display: none;
    background: rgba(30, 40, 58, 0.6);
    border-radius: 16px;
    padding: 2rem;
}

.question.active {
    display: block;
}

.question-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid rgba(77, 171, 247, 0.2);
}

.question-number {
    font-size: 1.2rem;
    font-weight: 700;
    color: #4dabf7;
}

.question-difficulty {
    background: rgba(255, 146, 43, 0.1);
    color: #ff922b;
    padding: 0.4rem 0.8rem;
    border-radius: 6px;
    font-weight: 600;
    font-size: 0.9rem;
}

.question-text {
    color: #e9ecef;
    font-size: 1.1rem;
    line-height: 1.6;
    margin-bottom: 1.5rem;
}

.question-options {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.option {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    padding: 1.2rem;
    background: rgba(40, 50, 68, 0.4);
    border: 1px solid rgba(77, 171, 247, 0.2);
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s;
}

.option:hover {
    background: rgba(77, 171, 247, 0.1);
    border-color: rgba(77, 171, 247, 0.5);
}

.option input[type="radio"] {
    margin-top: 0.2rem;
    accent-color: #4dabf7;
}

.option-text {
    color: #e9ecef;
    line-height: 1.5;
    flex: 1;
}

.assessment-controls {
    display: flex;
    justify-content: space-between;
    gap: 1rem;
    margin-bottom: 2rem;
}

.assessment-btn {
    padding: 1rem 2rem;
    border-radius: 10px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s;
    border: none;
}

.prev-btn {
    background: rgba(77, 171, 247, 0.1);
    color: #4dabf7;
    border: 1px solid rgba(77, 171, 247, 0.3);
}

.prev-btn:hover {
    background: rgba(77, 171, 247, 0.2);
}

.next-btn {
    background: linear-gradient(135deg, #4dabf7, #228be6);
    color: black;
}

.next-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(77, 171, 247, 0.3);
}

.submit-btn {
    background: linear-gradient(135deg, #40c057, #2b8a3e);
    color: black;
}

.submit-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(64, 192, 87, 0.3);
}

.assessment-results {
    background: rgba(30, 40, 58, 0.6);
    border-radius: 16px;
    padding: 2rem;
    display: none;
}

.results-summary {
    text-align: center;
}

.results-summary h3 {
    color: #4dabf7;
    margin-bottom: 1.5rem;
    font-size: 1.5rem;
}

.final-score {
    font-size: 3.5rem;
    font-weight: 900;
    color: #40c057;
    margin-bottom: 1rem;
    font-family: 'Courier New', monospace;
}

.score-category {
    font-size: 1.2rem;
    font-weight: 700;
    color: #ff922b;
    margin-bottom: 1.5rem;
}

.results-details p {
    color: #adb5bd;
    line-height: 1.6;
    font-size: 1.1rem;
}

/* PANEL DE METACOGNICI칍N */
.metacognition-panel {
    background: rgba(20, 30, 48, 0.8);
    border: 1px solid rgba(77, 171, 247, 0.3);
    border-radius: 20px;
    padding: 1.5rem;
    margin-top: 3rem;
}

.meta-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
}

.meta-header h3 {
    color: #4dabf7;
    font-size: 1.3rem;
}

.meta-toggle {
    background: rgba(77, 171, 247, 0.1);
    border: 1px solid rgba(77, 171, 247, 0.3);
    color: #4dabf7;
    width: 36px;
    height: 36px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s;
    font-size: 1.2rem;
}

.meta-toggle:hover {
    background: rgba(77, 171, 247, 0.2);
}

.meta-content {
    padding-top: 1rem;
    border-top: 1px solid rgba(77, 171, 247, 0.2);
}

.meta-stats {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 1rem;
    margin-bottom: 2rem;
}

.stat-item {
    background: rgba(30, 40, 58, 0.6);
    border: 1px solid rgba(77, 171, 247, 0.2);
    border-radius: 12px;
    padding: 1.2rem;
    text-align: center;
}

.stat-value {
    font-size: 1.8rem;
    font-weight: 900;
    color: #4dabf7;
    margin-bottom: 0.5rem;
    font-family: 'Courier New', monospace;
}

.stat-label {
    font-size: 0.9rem;
    color: #868e96;
    font-weight: 600;
}

.meta-reflection {
    background: rgba(30, 40, 58, 0.6);
    border: 1px solid rgba(77, 171, 247, 0.2);
    border-radius: 16px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
}

.meta-reflection h4 {
    color: #4dabf7;
    margin-bottom: 1.2rem;
    font-size: 1.2rem;
}

.reflection-prompts {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    margin-bottom: 1.5rem;
}

.prompt {
    background: rgba(40, 50, 68, 0.4);
    border-radius: 10px;
    padding: 1.2rem;
}

.prompt p {
    color: #e9ecef;
    margin-bottom: 1rem;
    font-size: 1rem;
}

.reflection-input {
    width: 100%;
    min-height: 80px;
    background: rgba(20, 30, 48, 0.8);
    border: 1px solid rgba(77, 171, 247, 0.3);
    border-radius: 8px;
    color: #e9ecef;
    padding: 0.8rem;
    font-family: inherit;
    font-size: 0.95rem;
    resize: vertical;
}

.reflection-input:focus {
    outline: none;
    border-color: #4dabf7;
}

.save-reflection-btn {
    background: linear-gradient(135deg, #4dabf7, #228be6);
    border: none;
    color: black;
    padding: 0.8rem 1.5rem;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s;
}

.save-reflection-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(77, 171, 247, 0.3);
}

.learning-path {
    background: rgba(30, 40, 58, 0.6);
    border: 1px solid rgba(77, 171, 247, 0.2);
    border-radius: 16px;
    padding: 1.5rem;
}

.learning-path h4 {
    color: #4dabf7;
    margin-bottom: 1.2rem;
    font-size: 1.2rem;
}

.path-steps {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.path-step {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    background: rgba(40, 50, 68, 0.4);
    border-radius: 10px;
}

.path-step.completed {
    background: rgba(64, 192, 87, 0.1);
    border: 1px solid rgba(64, 192, 87, 0.3);
}

.path-step.active {
    background: rgba(77, 171, 247, 0.1);
    border: 1px solid rgba(77, 171, 247, 0.3);
    box-shadow: 0 0 20px rgba(77, 171, 247, 0.2);
}

.step-number {
    width: 32px;
    height: 32px;
    background: rgba(77, 171, 247, 0.2);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 900;
    color: #4dabf7;
    flex-shrink: 0;
}

.path-step.completed .step-number {
    background: #40c057;
    color: black;
}

.path-step.active .step-number {
    background: #4dabf7;
    color: black;
}

.step-text {
    color: #e9ecef;
    font-weight: 600;
}

/* ANIMACIONES */
@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

@keyframes glowPulse {
    0%, 100% { opacity: 0.5; }
    50% { opacity: 1; }
}

@keyframes gradientFlow {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* RESPONSIVE */
@media (max-width: 1200px) {
    .parameter-grid {
        grid-template-columns: 1fr;
    }
    
    .kinetic-visualization {
        grid-template-columns: 1fr;
    }
    
    .experiment-results {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 768px) {
    .quantum-bio-system {
        padding: 1rem;
    }
    
    .title-word {
        font-size: 3rem;
    }
    
    .phase-indicators {
        flex-direction: column;
    }
    
    .control-header {
        flex-direction: column;
        gap: 1rem;
        text-align: center;
    }
    
    .control-buttons {
        width: 100%;
        justify-content: center;
    }
    
    .scale-features {
        grid-template-columns: 1fr;
    }
    
    .case-parameters {
        flex-direction: column;
        gap: 1rem;
    }
    
    .meta-stats {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .assessment-controls {
        flex-direction: column;
    }
    
    .assessment-btn {
        width: 100%;
        text-align: center;
    }
}

@media (max-width: 480px) {
    .title-word {
        font-size: 2.2rem;
    }
    
    .quantum-subtitle {
        font-size: 0.9rem;
    }
    
    .secondary-metrics {
        grid-template-columns: 1fr;
    }
    
    .meta-stats {
        grid-template-columns: 1fr;
    }
    
    .reflection-prompts {
        grid-template-columns: 1fr;
    }
}

/* SCROLLBAR PERSONALIZADA */
.quantum-bio-system::-webkit-scrollbar {
    width: 10px;
}

.quantum-bio-system::-webkit-scrollbar-track {
    background: rgba(20, 30, 48, 0.8);
    border-radius: 5px;
}

.quantum-bio-system::-webkit-scrollbar-thumb {
    background: linear-gradient(135deg, #4dabf7, #40c057);
    border-radius: 5px;
}

.quantum-bio-system::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(135deg, #228be6, #2b8a3e);
}

/* EFECTOS ESPECIALES */
@keyframes particleFloat {
    0% { transform: translateY(0) rotate(0deg); opacity: 0; }
    10% { opacity: 1; }
    90% { opacity: 1; }
    100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
}

.particle {
    position: absolute;
    width: 2px;
    height: 2px;
    background: rgba(77, 171, 247, 0.5);
    border-radius: 50%;
    pointer-events: none;
    animation: particleFloat 3s ease-in-out infinite;
}

/* TRANSICIONES SUAVES */
.quantum-bio-system * {
    transition: background-color 0.3s ease, border-color 0.3s ease, 
                color 0.3s ease, transform 0.3s ease, 
                opacity 0.3s ease, box-shadow 0.3s ease;
}
/* CSS COMPLETO PARA LA LECCI칍N DE TEOR칈A AT칍MICA */
.quantum-lab {
    max-width: 1200px;
    margin: 0 auto;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 100%);
    color: #e0e0e0;
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
}

/* ESTILOS GENERALES */
.highlight {
    color: #00ff88;
    font-weight: bold;
    text-shadow: 0 0 10px rgba(0, 255, 136, 0.3);
}

.data {
    color: #00aaff;
    font-style: italic;
}

.math-inline {
    display: inline-block;
    background: rgba(0, 0, 0, 0.3);
    padding: 5px 10px;
    margin: 5px;
    border-radius: 5px;
    border-left: 3px solid #00ff88;
    font-family: 'Cambria Math', serif;
}

.math-block {
    background: rgba(0, 0, 0, 0.4);
    padding: 15px;
    margin: 15px 0;
    border-radius: 8px;
    border: 1px solid #333;
    font-size: 1.1em;
    overflow-x: auto;
}

/* SECCI칍N HERO */
.hero-section {
    background: linear-gradient(45deg, #001122, #003344);
    padding: 30px;
    border-radius: 10px;
    margin-bottom: 30px;
    border: 1px solid #00aaff;
}

.concept-card {
    background: rgba(0, 20, 40, 0.7);
    padding: 25px;
    border-radius: 10px;
    border-left: 5px solid #00ff88;
}

.real-world {
    background: rgba(0, 40, 80, 0.5);
    padding: 15px;
    margin-top: 20px;
    border-radius: 8px;
    border: 1px dashed #00aaff;
}

/* TIMELINE */
.timeline-container {
    overflow-x: auto;
    margin: 30px 0;
    padding: 20px 0;
}

.timeline {
    display: flex;
    min-width: 800px;
    position: relative;
}

.timeline::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, #00ff88, #00aaff);
    z-index: 1;
}

.timeline-item {
    flex: 1;
    padding: 15px;
    position: relative;
    z-index: 2;
    text-align: center;
}

.timeline-item::before {
    content: attr(data-year);
    position: absolute;
    top: -40px;
    left: 50%;
    transform: translateX(-50%);
    background: #00aaff;
    color: black;
    padding: 5px 10px;
    border-radius: 5px;
    font-weight: bold;
    font-size: 0.9em;
}

.timeline-item h4 {
    color: #00ff88;
    margin-top: 10px;
}

/* GRID TE칍RICO */
.theory-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin: 30px 0;
}

.theory-card {
    background: rgba(0, 30, 60, 0.5);
    padding: 20px;
    border-radius: 10px;
    border: 1px solid #333;
    transition: transform 0.3s, border-color 0.3s;
}

.theory-card:hover {
    transform: translateY(-5px);
    border-color: #00ff88;
}

/* ORBITAL VISUALIZATION */
.orbital-controls {
    background: rgba(0, 0, 0, 0.3);
    padding: 20px;
    border-radius: 10px;
    margin: 20px 0;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
}

.control-group {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.control-group label {
    color: #00aaff;
    font-size: 0.9em;
}

.orbital-visualization {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 20px;
    margin: 30px 0;
}

.orbital-canvas {
    background: #000;
    border-radius: 10px;
    padding: 20px;
    border: 2px solid #333;
    min-height: 300px;
}

.orbital-info {
    background: rgba(0, 20, 40, 0.7);
    padding: 20px;
    border-radius: 10px;
    border: 1px solid #00aaff;
}

/* SIMULADORES */
.interactive-lab {
    margin: 40px 0;
}

.simulator-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 20px;
    margin: 20px 0;
}

.simulator-card {
    background: rgba(0, 30, 60, 0.6);
    padding: 20px;
    border-radius: 10px;
    border: 1px solid #444;
}

.simulator-card.full-width {
    grid-column: 1 / -1;
}

.lab-button {
    background: linear-gradient(45deg, #00aaff, #0088cc);
    color: black;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.3s;
    margin-top: 15px;
}

.lab-button:hover {
    background: linear-gradient(45deg, #00ff88, #00cc66);
    transform: scale(1.05);
}

/* ESPECTRO AT칍MICO */
.spectrum-display {
    background: #000;
    padding: 15px;
    border-radius: 8px;
    margin: 15px 0;
}

.spectrum-line {
    height: 30px;
    border-radius: 15px;
    transition: all 0.5s;
}

/* CONSTRUCTOR DE 츼TOMOS */
.atom-builder {
    padding: 15px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
}

.electron-config {
    margin: 15px 0;
}

.config-display {
    font-family: 'Courier New', monospace;
    background: #000;
    color: #00ff88;
    padding: 10px;
    border-radius: 5px;
    margin: 10px 0;
    font-size: 1.2em;
}

.orbital-diagram {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin: 15px 0;
}

.orbital-container {
    display: flex;
    align-items: center;
    gap: 10px;
}

.orbital-label {
    min-width: 40px;
    color: #00aaff;
}

.electron-box {
    width: 30px;
    height: 30px;
    border: 1px solid #444;
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2em;
}

.electron-box.filled {
    background: rgba(0, 255, 136, 0.1);
    border-color: #00ff88;
}

.electron-box.spin-up {
    color: #00aaff;
}

.electron-box.spin-down {
    color: #ff00aa;
}

/* PRINCIPIO DE INCERTIDUMBRE */
.uncertainty-sim {
    padding: 20px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 10px;
}

.uncertainty-controls {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    margin: 20px 0;
}

.control {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.uncertainty-display {
    display: grid;
    grid-template-columns: 1fr 2fr;
    gap: 20px;
    margin-top: 20px;
}

.product-display {
    padding: 20px;
    background: rgba(0, 20, 40, 0.7);
    border-radius: 10px;
}

.uncertainty-bar {
    height: 20px;
    background: #333;
    border-radius: 10px;
    margin: 20px 0;
    position: relative;
    overflow: hidden;
}

.bar-fill {
    height: 100%;
    background: linear-gradient(90deg, #ff0000, #00ff00, #ffff00);
    transition: width 0.5s;
}

.bar-labels {
    display: flex;
    justify-content: space-between;
    font-size: 0.8em;
    color: #888;
}

/* ERRORES COMUNES */
.common-errors {
    margin: 40px 0;
}

.errors-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin: 20px 0;
}

.error-card {
    background: rgba(40, 0, 0, 0.5);
    padding: 20px;
    border-radius: 10px;
    border-left: 5px solid #ff4444;
}

.error-detail {
    background: rgba(255, 68, 68, 0.2);
    color: #ff8888;
    border: 1px solid #ff4444;
    padding: 8px 15px;
    border-radius: 5px;
    cursor: pointer;
    margin-top: 10px;
    transition: all 0.3s;
}

.error-detail:hover {
    background: rgba(255, 68, 68, 0.4);
}

.error-explanation {
    display: none;
    padding: 15px;
    margin-top: 10px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 5px;
    border: 1px dashed #ff4444;
}

/* TABLA DE CURR칈CULO */
.curriculum-table table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
}

.curriculum-table th {
    background: rgba(0, 68, 136, 0.7);
    color: black;
    padding: 12px;
    text-align: left;
    border: 1px solid #444;
}

.curriculum-table td {
    padding: 10px;
    border: 1px solid #444;
    background: rgba(0, 20, 40, 0.5);
}

.evaluation-notice {
    background: rgba(0, 68, 136, 0.3);
    padding: 20px;
    border-radius: 10px;
    margin: 20px 0;
    border: 2px solid #00aaff;
}

/* PROBLEMAS DE EXAMEN */
.problem-set {
    display: flex;
    flex-direction: column;
    gap: 30px;
    margin: 30px 0;
}

.problem-card {
    background: rgba(0, 30, 60, 0.6);
    padding: 25px;
    border-radius: 10px;
    border: 2px solid #333;
    position: relative;
}

.problem-card::before {
    content: '游닇';
    position: absolute;
    top: -15px;
    left: 20px;
    background: #001122;
    padding: 5px 10px;
    border-radius: 5px;
    font-size: 1.2em;
}

.answer-space textarea {
    width: 100%;
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid #444;
    border-radius: 5px;
    padding: 10px;
    color: black;
    font-family: inherit;
    resize: vertical;
}

.scoring-guide {
    background: rgba(0, 40, 80, 0.6);
    padding: 20px;
    border-radius: 10px;
    margin: 20px 0;
    border-left: 5px solid #00ff88;
}

/* METACOGNICI칍N */
.metacognitive {
    margin: 40px 0;
}

.reflection-questions {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 30px;
}

.reflection-card, .learning-plan {
    background: rgba(0, 20, 40, 0.7);
    padding: 25px;
    border-radius: 10px;
}

.reflection-item {
    margin: 20px 0;
    padding: 15px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
}

.reflection-options {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin: 10px 0;
}

.suggestion {
    padding: 15px;
    margin: 10px 0;
    border-radius: 8px;
    border-left: 5px solid;
    display: none;
}

#suggestion-basic {
    border-left-color: #ff4444;
    background: rgba(68, 0, 0, 0.3);
}

#suggestion-intermediate {
    border-left-color: #ffff00;
    background: rgba(68, 68, 0, 0.3);
}

#suggestion-advanced {
    border-left-color: #00ff88;
    background: rgba(0, 68, 0, 0.3);
}

.action-button {
    background: linear-gradient(45deg, #00ff88, #00cc66);
    color: black;
    border: none;
    padding: 12px 24px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
    font-size: 1.1em;
    transition: all 0.3s;
    width: 100%;
    margin-top: 20px;
}

.action-button:hover {
    transform: scale(1.05);
    box-shadow: 0 0 20px rgba(0, 255, 136, 0.5);
}

/* RESPONSIVE DESIGN */
@media (max-width: 768px) {
    .orbital-visualization,
    .reflection-questions,
    .uncertainty-display {
        grid-template-columns: 1fr;
    }
    
    .simulator-grid {
        grid-template-columns: 1fr;
    }
    
    .quantum-lab {
        padding: 10px;
    }
}

/* ANIMACIONES */
@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

.pulse {
    animation: pulse 2s infinite;
}

/* ESTILOS PARA FORMULAS MATHJAX */
.mjx-chtml {
    color: #e0e0e0 !important;
}

/* SCROLLBAR PERSONALIZADA */
::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.3);
}

::-webkit-scrollbar-thumb {
    background: linear-gradient(45deg, #00aaff, #0088cc);
    border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(45deg, #00ff88, #00cc66);
}

/* ============================================
   ESTILOS COMPLETOS PARA LECCI칍N DE QU칈MICA CU츼NTICA
   ============================================ */

/* ===== RESET Y ESTILOS BASE ===== */
.quantum-lab * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

.quantum-lab {
    max-width: 1200px;
    margin: 0 auto;
    font-family: 'Segoe UI', 'Roboto', 'Arial', sans-serif;
    background: linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 50%, #16213e 100%);
    color: #e8f4f8;
    padding: 2rem;
    border-radius: 20px;
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.6);
    position: relative;
    overflow: hidden;
}

.quantum-lab::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 5px;
    background: linear-gradient(90deg, #00ff88, #00aaff, #aa00ff);
    z-index: 1;
}

/* ===== TIPOGRAF칈A Y COLORES ===== */
.quantum-lab h1, .quantum-lab h2, .quantum-lab h3, .quantum-lab h4, .quantum-lab h5 {
    font-family: 'Courier New', 'Monaco', monospace;
    font-weight: 700;
    margin: 1.5rem 0 1rem;
    background: linear-gradient(90deg, #00ff88, #00aaff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-shadow: 0 0 20px rgba(0, 255, 136, 0.2);
}

.quantum-lab h2 { font-size: 2.2rem; }
.quantum-lab h3 { font-size: 1.8rem; }
.quantum-lab h4 { font-size: 1.4rem; }
.quantum-lab h5 { font-size: 1.2rem; }

.highlight {
    color: #00ff88;
    font-weight: bold;
    text-shadow: 0 0 10px rgba(0, 255, 136, 0.3);
    padding: 0 4px;
    background: rgba(0, 255, 136, 0.1);
    border-radius: 3px;
}

.data {
    color: #00aaff;
    font-style: italic;
    border-bottom: 1px dashed #00aaff;
}

/* ===== SECCI칍N HERO ===== */
.hero-section {
    background: linear-gradient(45deg, rgba(0, 17, 34, 0.9), rgba(0, 51, 68, 0.9));
    padding: 3rem;
    border-radius: 15px;
    margin-bottom: 3rem;
    border: 2px solid #00aaff;
    position: relative;
    overflow: hidden;
    animation: glow 3s infinite alternate;
}

@keyframes glow {
    0% { box-shadow: 0 0 20px rgba(0, 170, 255, 0.3); }
    100% { box-shadow: 0 0 40px rgba(0, 170, 255, 0.6); }
}

.concept-card {
    background: rgba(0, 20, 40, 0.8);
    padding: 2.5rem;
    border-radius: 12px;
    border-left: 6px solid #00ff88;
    backdrop-filter: blur(10px);
}

.real-world {
    background: rgba(0, 40, 80, 0.6);
    padding: 1.5rem;
    margin-top: 2rem;
    border-radius: 10px;
    border: 1px dashed #00aaff;
    border-left: 4px solid #00aaff;
}

.real-world ul {
    list-style: none;
    padding-left: 1rem;
}

.real-world li {
    margin: 0.8rem 0;
    padding-left: 1.5rem;
    position: relative;
}

.real-world li::before {
    content: '丘勇';
    position: absolute;
    left: 0;
    top: 0;
}

/* ===== TIMELINE ===== */
.timeline-container {
    overflow-x: auto;
    margin: 3rem 0;
    padding: 2rem 0;
    position: relative;
}

.timeline-container::-webkit-scrollbar {
    height: 8px;
}

.timeline-container::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
}

.timeline-container::-webkit-scrollbar-thumb {
    background: linear-gradient(90deg, #00ff88, #00aaff);
    border-radius: 4px;
}

.timeline {
    display: flex;
    min-width: 1000px;
    position: relative;
    padding: 2rem 0;
}

.timeline::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 2%;
    right: 2%;
    height: 3px;
    background: linear-gradient(90deg, #00ff88, #00aaff, #aa00ff);
    z-index: 1;
    transform: translateY(-50%);
    box-shadow: 0 0 15px rgba(0, 255, 136, 0.3);
}

.timeline-item {
    flex: 1;
    padding: 1.5rem;
    position: relative;
    z-index: 2;
    text-align: center;
    transition: transform 0.3s ease;
}

.timeline-item:hover {
    transform: translateY(-10px);
}

.timeline-item::before {
    content: attr(data-year);
    position: absolute;
    top: -45px;
    left: 50%;
    transform: translateX(-50%);
    background: linear-gradient(45deg, #00aaff, #0088cc);
    color: black;
    padding: 8px 15px;
    border-radius: 25px;
    font-weight: bold;
    font-size: 0.9em;
    min-width: 80px;
    box-shadow: 0 5px 15px rgba(0, 170, 255, 0.4);
}

.timeline-item::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 20px;
    height: 20px;
    background: #00ff88;
    border-radius: 50%;
    border: 3px solid #0a0a0f;
    box-shadow: 0 0 15px #00ff88;
    z-index: 3;
}

.timeline-item h4 {
    color: #00ff88;
    margin-top: 1.5rem;
    font-size: 1.1rem;
}

.timeline-item p {
    font-size: 0.9rem;
    color: #a0d2ff;
    margin-top: 0.5rem;
    line-height: 1.4;
}

/* ===== GRID TE칍RICO ===== */
.theory-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 2rem;
    margin: 3rem 0;
}

.theory-card {
    background: linear-gradient(145deg, rgba(0, 30, 60, 0.7), rgba(0, 15, 30, 0.9));
    padding: 2rem;
    border-radius: 15px;
    border: 1px solid rgba(0, 170, 255, 0.3);
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    position: relative;
    overflow: hidden;
}

.theory-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(0, 255, 136, 0.1), transparent);
    transition: left 0.6s;
}

.theory-card:hover::before {
    left: 100%;
}

.theory-card:hover {
    transform: translateY(-10px) scale(1.02);
    border-color: #00ff88;
    box-shadow: 0 15px 30px rgba(0, 255, 136, 0.2);
}

.theory-card ol {
    padding-left: 1.5rem;
    margin: 1.5rem 0;
}

.theory-card li {
    margin: 0.8rem 0;
    color: #c0e4ff;
    line-height: 1.5;
}

/* ===== F칍RMULAS MATEM츼TICAS ===== */
.math-inline {
    display: inline-block;
    background: rgba(0, 0, 0, 0.4);
    padding: 0.8rem 1.2rem;
    margin: 0.5rem;
    border-radius: 8px;
    border-left: 4px solid #00ff88;
    font-family: 'Cambria Math', 'Latin Modern Math', serif;
    font-size: 1.1em;
    color: #ffffff;
    box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.3);
}

.math-block {
    background: rgba(0, 10, 20, 0.7);
    padding: 1.5rem;
    margin: 1.5rem 0;
    border-radius: 10px;
    border: 1px solid #333;
    font-size: 1.1em;
    overflow-x: auto;
    border-left: 5px solid #00aaff;
    font-family: 'Cambria Math', 'Latin Modern Math', serif;
}

/* ===== VISUALIZACI칍N DE ORBITALES ===== */
.orbital-controls {
    background: rgba(0, 10, 20, 0.8);
    padding: 2rem;
    border-radius: 12px;
    margin: 2rem 0;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    border: 1px solid rgba(0, 170, 255, 0.2);
    backdrop-filter: blur(10px);
}

.control-group {
    display: flex;
    flex-direction: column;
    gap: 0.8rem;
}

.control-group label {
    color: #00aaff;
    font-size: 0.95rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.control-group select,
.control-group input[type="range"] {
    background: rgba(0, 0, 0, 0.5);
    border: 2px solid #00aaff;
    border-radius: 8px;
    padding: 0.8rem;
    color: black;
    font-size: 1rem;
    transition: all 0.3s;
}

.control-group select:focus,
.control-group input[type="range"]:focus {
    outline: none;
    border-color: #00ff88;
    box-shadow: 0 0 15px rgba(0, 255, 136, 0.3);
}

.control-group input[type="range"] {
    -webkit-appearance: none;
    height: 10px;
    background: linear-gradient(90deg, #00aaff, #00ff88);
    border-radius: 5px;
}

.control-group input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 22px;
    height: 22px;
    background: #00ff88;
    border-radius: 50%;
    border: 3px solid black;
    cursor: pointer;
    box-shadow: 0 0 10px rgba(0, 255, 136, 0.8);
}

.control-group input[type="checkbox"] {
    margin-right: 0.5rem;
    transform: scale(1.2);
    accent-color: #00ff88;
}

/* ===== CONTENEDOR ORBITAL ===== */
.orbital-visualization {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 2rem;
    margin: 3rem 0;
}

@media (max-width: 900px) {
    .orbital-visualization {
        grid-template-columns: 1fr;
    }
}

.orbital-canvas {
    background: rgba(0, 0, 0, 0.9);
    border-radius: 15px;
    padding: 2rem;
    border: 2px solid #333;
    min-height: 400px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: inset 0 0 30px rgba(0, 0, 0, 0.5);
    position: relative;
    overflow: hidden;
}

.orbital-canvas::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(circle at center, transparent 0%, rgba(0, 20, 40, 0.3) 100%);
    pointer-events: none;
}

#orbital-svg {
    width: 100%;
    height: auto;
    max-height: 400px;
    filter: drop-shadow(0 0 10px rgba(0, 255, 136, 0.3));
}

.orbital-info {
    background: rgba(0, 20, 40, 0.8);
    padding: 2rem;
    border-radius: 12px;
    border: 1px solid #00aaff;
    backdrop-filter: blur(10px);
}

.orbital-info h4 {
    margin-top: 0;
    padding-bottom: 1rem;
    border-bottom: 2px solid #00ff88;
    margin-bottom: 1.5rem;
}

.orbital-info p {
    margin: 1rem 0;
    line-height: 1.6;
    color: #c0e4ff;
}

.orbital-shape {
    margin-top: 1.5rem;
    padding: 1rem;
    background: rgba(0, 255, 136, 0.1);
    border-radius: 8px;
    border-left: 4px solid #00ff88;
}

/* ===== SIMULADORES ===== */
.interactive-lab {
    margin: 4rem 0;
}

.simulator-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 2rem;
    margin: 2rem 0;
}

.simulator-card {
    background: linear-gradient(145deg, rgba(0, 30, 60, 0.8), rgba(0, 15, 30, 0.9));
    padding: 2rem;
    border-radius: 15px;
    border: 1px solid rgba(0, 170, 255, 0.3);
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.simulator-card:hover {
    border-color: #00ff88;
    transform: translateY(-5px);
    box-shadow: 0 15px 30px rgba(0, 255, 136, 0.1);
}

.simulator-card.full-width {
    grid-column: 1 / -1;
}

.sim-controls {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    margin: 1.5rem 0;
}

.control-row {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.control-row label {
    color: #00aaff;
    font-weight: 600;
}

.control-row select {
    background: rgba(0, 0, 0, 0.5);
    border: 2px solid #00aaff;
    border-radius: 8px;
    padding: 0.8rem;
    color: black;
    font-size: 1rem;
    transition: all 0.3s;
}

.control-row select:focus {
    border-color: #00ff88;
    box-shadow: 0 0 15px rgba(0, 255, 136, 0.3);
    outline: none;
}

/* ===== ESPECTRO AT칍MICO ===== */
.spectrum-display {
    background: rgba(0, 0, 0, 0.7);
    padding: 1.5rem;
    border-radius: 10px;
    margin: 1.5rem 0;
    border: 1px solid #333;
}

.spectrum-line {
    height: 40px;
    border-radius: 20px;
    transition: all 0.5s ease;
    margin-bottom: 1rem;
    background: linear-gradient(90deg, #ff0000, #ffff00, #00ff00, #00ffff, #0000ff, #ff00ff);
    position: relative;
    overflow: hidden;
}

.spectrum-line::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(90deg, 
        transparent 0%, 
        rgba(255, 255, 255, 0.3) 50%, 
        transparent 100%);
    animation: spectrum-shimmer 2s infinite;
}

@keyframes spectrum-shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

.spectrum-info {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-top: 1rem;
}

.spectrum-info p {
    margin: 0.5rem 0;
    color: #a0d2ff;
}

/* ===== CONSTRUCTOR DE 츼TOMOS ===== */
.atom-builder {
    padding: 1.5rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 10px;
    margin: 1.5rem 0;
}

#z-slider {
    width: 100%;
    margin: 1rem 0;
}

.electron-config {
    margin: 1.5rem 0;
    padding: 1.5rem;
    background: rgba(0, 20, 40, 0.5);
    border-radius: 10px;
}

.config-display {
    font-family: 'Courier New', monospace;
    background: rgba(0, 0, 0, 0.6);
    color: #00ff88;
    padding: 1rem;
    border-radius: 8px;
    margin: 1rem 0;
    font-size: 1.3rem;
    border: 1px solid #00ff88;
    text-align: center;
    letter-spacing: 2px;
}

.orbital-diagram {
    margin: 1.5rem 0;
    padding: 1.5rem;
    background: rgba(0, 0, 0, 0.4);
    border-radius: 10px;
    border: 1px solid #333;
}

.orbital-row {
    display: flex;
    align-items: center;
    margin: 1rem 0;
    padding: 0.5rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.orbital-label {
    min-width: 60px;
    color: #00aaff;
    font-weight: bold;
    font-family: 'Courier New', monospace;
}

.orbital-boxes {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
}

.electron-box {
    width: 35px;
    height: 35px;
    border: 2px solid #444;
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    font-weight: bold;
    transition: all 0.3s;
    position: relative;
}

.electron-box.filled {
    background: rgba(0, 255, 136, 0.1);
    border-color: #00ff88;
    animation: electron-pulse 2s infinite;
}

@keyframes electron-pulse {
    0%, 100% { box-shadow: 0 0 5px rgba(0, 255, 136, 0.3); }
    50% { box-shadow: 0 0 15px rgba(0, 255, 136, 0.6); }
}

.electron-box.spin-up {
    color: #00aaff;
}

.electron-box.spin-down {
    color: #ff00aa;
}

.electron-box.unpaired {
    background: rgba(255, 0, 170, 0.1);
    border-color: #ff00aa;
}

.atom-properties {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-top: 1.5rem;
    padding: 1.5rem;
    background: rgba(0, 30, 60, 0.3);
    border-radius: 10px;
}

.atom-properties p {
    margin: 0.5rem 0;
    color: #c0e4ff;
}

/* ===== PRINCIPIO DE INCERTIDUMBRE ===== */
.uncertainty-sim {
    padding: 2rem;
    background: rgba(0, 0, 0, 0.4);
    border-radius: 12px;
    margin-top: 1.5rem;
}

.uncertainty-controls {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin: 2rem 0;
}

.control {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.range-labels {
    display: flex;
    justify-content: space-between;
    font-size: 0.9rem;
    color: #888;
    margin-top: 0.5rem;
}

.uncertainty-display {
    display: grid;
    grid-template-columns: 1fr 1.5fr;
    gap: 2rem;
    margin-top: 2rem;
}

@media (max-width: 768px) {
    .uncertainty-display {
        grid-template-columns: 1fr;
    }
}

.product-display {
    padding: 1.5rem;
    background: rgba(0, 20, 40, 0.7);
    border-radius: 10px;
    border-left: 5px solid #00aaff;
}

.heisenberg-limit {
    margin: 1rem 0;
    padding: 0.8rem;
    background: rgba(0, 255, 136, 0.1);
    border-radius: 6px;
    border-left: 3px solid #00ff88;
    font-family: 'Courier New', monospace;
}

.uncertainty-bar-container {
    margin: 2rem 0;
}

.uncertainty-bar {
    height: 25px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    position: relative;
    overflow: hidden;
    border: 1px solid #333;
}

.bar-fill {
    height: 100%;
    background: linear-gradient(90deg, #ff4444, #00ff88, #00aaff);
    border-radius: 12px;
    transition: width 0.5s ease;
    position: relative;
}

.bar-labels {
    display: flex;
    justify-content: space-between;
    margin-top: 0.5rem;
    font-size: 0.85rem;
    color: #888;
    text-align: center;
}

.bar-labels span {
    flex: 1;
    padding: 0 0.5rem;
}

.uncertainty-explanation {
    padding: 1.5rem;
    background: rgba(0, 30, 60, 0.5);
    border-radius: 10px;
    border: 1px solid rgba(0, 170, 255, 0.3);
}

.uncertainty-explanation p {
    margin: 1rem 0;
    line-height: 1.6;
    color: #c0e4ff;
}

.example {
    margin-top: 1.5rem;
    padding: 1rem;
    background: rgba(0, 170, 255, 0.1);
    border-radius: 8px;
    border-left: 4px solid #00aaff;
    font-style: italic;
}

/* ===== BOTONES ===== */
.lab-button, .action-button {
    background: linear-gradient(45deg, #00aaff, #0088cc);
    color: black;
    border: none;
    padding: 1rem 2rem;
    border-radius: 50px;
    cursor: pointer;
    font-weight: bold;
    font-size: 1rem;
    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    margin-top: 1rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    position: relative;
    overflow: hidden;
}

.lab-button::before, .action-button::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.5s;
}

.lab-button:hover::before, .action-button:hover::before {
    left: 100%;
}

.lab-button:hover, .action-button:hover {
    background: linear-gradient(45deg, #00ff88, #00cc66);
    transform: translateY(-3px) scale(1.05);
    box-shadow: 0 10px 20px rgba(0, 255, 136, 0.3);
}

.lab-button:active, .action-button:active {
    transform: translateY(-1px) scale(1.02);
}

/* ===== ERRORES COMUNES ===== */
.common-errors {
    margin: 4rem 0;
    padding: 2rem;
    background: rgba(40, 0, 0, 0.1);
    border-radius: 15px;
    border: 1px solid rgba(255, 68, 68, 0.3);
}

.errors-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin: 2rem 0;
}

.error-card {
    background: linear-gradient(145deg, rgba(40, 0, 0, 0.6), rgba(20, 0, 0, 0.8));
    padding: 1.5rem;
    border-radius: 12px;
    border-left: 5px solid #ff4444;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.error-card:hover {
    transform: translateY(-5px);
    border-left-color: #ff8888;
    box-shadow: 0 10px 20px rgba(255, 68, 68, 0.1);
}

.error-card h4 {
    color: #ff8888;
    margin-top: 0;
}

.error-card p {
    margin: 1rem 0;
    color: #ffaaaa;
    line-height: 1.5;
}

.error-detail {
    background: rgba(255, 68, 68, 0.2);
    color: #ff8888;
    border: 1px solid #ff4444;
    padding: 0.8rem 1.5rem;
    border-radius: 6px;
    cursor: pointer;
    margin-top: 1rem;
    transition: all 0.3s;
    font-weight: 600;
    display: block;
    width: 100%;
}

.error-detail:hover {
    background: rgba(255, 68, 68, 0.4);
    transform: translateY(-2px);
}

.error-detail.active {
    background: rgba(255, 68, 68, 0.4);
    border-color: #ff8888;
}

.error-explanation {
    display: none;
    padding: 1.5rem;
    margin-top: 1rem;
    background: rgba(0, 0, 0, 0.4);
    border-radius: 8px;
    border: 1px dashed #ff4444;
    animation: slideDown 0.3s ease-out;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.tip {
    margin-top: 1rem;
    padding: 1rem;
    background: rgba(0, 255, 136, 0.1);
    border-radius: 6px;
    border-left: 3px solid #00ff88;
}

/* ===== QUIZ DE ERRORES ===== */
.error-quiz {
    margin-top: 3rem;
    padding: 2rem;
    background: rgba(0, 20, 40, 0.5);
    border-radius: 12px;
    border: 1px solid rgba(0, 170, 255, 0.3);
}

.quiz-item {
    margin: 1.5rem 0;
    padding: 1.5rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 10px;
    border: 1px solid #333;
}

.quiz-item p {
    margin-bottom: 1rem;
    font-weight: 600;
    color: #ffffff;
}

.quiz-options {
    display: flex;
    gap: 1rem;
    margin: 1rem 0;
}

.quiz-option {
    flex: 1;
    padding: 1rem;
    background: rgba(0, 30, 60, 0.5);
    border: 2px solid #00aaff;
    border-radius: 8px;
    color: black;
    cursor: pointer;
    transition: all 0.3s;
    font-weight: 600;
    text-align: center;
}

.quiz-option:hover {
    background: rgba(0, 170, 255, 0.2);
    transform: translateY(-2px);
}

.quiz-option.correct {
    background: rgba(0, 255, 136, 0.2);
    border-color: #00ff88;
    color: #00ff88;
}

.quiz-option.incorrect {
    background: rgba(255, 68, 68, 0.2);
    border-color: #ff4444;
    color: #ff8888;
}

.quiz-option:disabled {
    opacity: 0.7;
    cursor: not-allowed;
}

.quiz-feedback {
    margin-top: 1rem;
    padding: 1rem;
    border-radius: 6px;
    font-weight: 600;
    animation: fadeIn 0.5s ease;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

/* ===== TABLA DE CURR칈CULO ===== */
.curriculum-connection {
    margin: 4rem 0;
    padding: 2rem;
    background: rgba(0, 40, 80, 0.1);
    border-radius: 15px;
    border: 1px solid rgba(0, 170, 255, 0.3);
}

.curriculum-table {
    overflow-x: auto;
    margin: 2rem 0;
    border-radius: 10px;
    border: 1px solid #333;
}

.curriculum-table table {
    width: 100%;
    border-collapse: collapse;
    min-width: 800px;
}

.curriculum-table th {
    background: linear-gradient(45deg, #00aaff, #0088cc);
    color: black;
    padding: 1.2rem;
    text-align: left;
    border: 1px solid rgba(255, 255, 255, 0.1);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    font-size: 0.9rem;
}

.curriculum-table td {
    padding: 1rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
    background: rgba(0, 20, 40, 0.5);
    color: #c0e4ff;
    transition: background 0.3s;
}

.curriculum-table tr:hover td {
    background: rgba(0, 170, 255, 0.1);
}

.evaluation-notice {
    background: rgba(0, 68, 136, 0.3);
    padding: 2rem;
    border-radius: 12px;
    margin: 2rem 0;
    border: 2px solid #00aaff;
    position: relative;
}

.evaluation-notice h4 {
    margin-top: 0;
}

.evaluation-notice ul {
    margin: 1.5rem 0;
    padding-left: 2rem;
    list-style-type: square;
}

.evaluation-notice li {
    margin: 0.8rem 0;
    color: #a0d2ff;
}

.exam-tips {
    margin-top: 2rem;
    padding: 1.5rem;
    background: rgba(0, 255, 136, 0.1);
    border-radius: 10px;
    border-left: 5px solid #00ff88;
}

.exam-tips ol {
    margin: 1rem 0;
    padding-left: 2rem;
}

.exam-tips li {
    margin: 0.8rem 0;
    color: #c0e4ff;
}

/* ===== PROBLEMAS DE EXAMEN ===== */
.exam-problems {
    margin: 4rem 0;
}

.problem-set {
    display: flex;
    flex-direction: column;
    gap: 3rem;
    margin: 3rem 0;
}

.problem-card {
    background: linear-gradient(145deg, rgba(0, 30, 60, 0.7), rgba(0, 15, 30, 0.9));
    padding: 2.5rem;
    border-radius: 15px;
    border: 2px solid rgba(0, 170, 255, 0.3);
    position: relative;
    overflow: hidden;
}

.problem-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 5px;
    background: linear-gradient(90deg, #00aaff, #00ff88);
}

.problem-card h4 {
    margin-top: 0;
    padding-bottom: 1rem;
    border-bottom: 2px solid #00aaff;
    margin-bottom: 1.5rem;
}

.problem-card p {
    margin: 1rem 0;
    line-height: 1.6;
    color: #c0e4ff;
}

.problem-card ol {
    margin: 1.5rem 0;
    padding-left: 2rem;
}

.problem-card li {
    margin: 1rem 0;
    color: #a0d2ff;
    line-height: 1.5;
}

.answer-space {
    margin-top: 2rem;
    padding: 1.5rem;
    background: rgba(0, 0, 0, 0.4);
    border-radius: 10px;
    border: 1px solid #333;
}

.answer-space textarea {
    width: 100%;
    min-height: 200px;
    background: rgba(0, 0, 0, 0.6);
    border: 2px solid #00aaff;
    border-radius: 8px;
    padding: 1rem;
    color: black;
    font-family: inherit;
    font-size: 1rem;
    resize: vertical;
    transition: all 0.3s;
    margin: 1rem 0;
}

.answer-space textarea:focus {
    outline: none;
    border-color: #00ff88;
    box-shadow: 0 0 20px rgba(0, 255, 136, 0.2);
}

.answer-feedback {
    margin-top: 1rem;
}

.check-answer {
    background: rgba(0, 255, 136, 0.2);
    color: #00ff88;
    border: 2px solid #00ff88;
    padding: 0.8rem 1.5rem;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.3s;
}

.check-answer:hover {
    background: rgba(0, 255, 136, 0.3);
    transform: translateY(-2px);
}

.answer-hint {
    display: none;
    margin-top: 1rem;
    padding: 1rem;
    background: rgba(0, 170, 255, 0.1);
    border-radius: 6px;
    border-left: 3px solid #00aaff;
    color: #a0d2ff;
    animation: fadeIn 0.5s ease;
}

.scoring-guide {
    background: rgba(0, 40, 80, 0.6);
    padding: 2rem;
    border-radius: 12px;
    margin: 2rem 0;
    border-left: 5px solid #00ff88;
}

.scoring-guide h4 {
    margin-top: 0;
}

.scoring-guide ul {
    margin: 1.5rem 0;
    padding-left: 2rem;
    list-style-type: none;
}

.scoring-guide li {
    margin: 0.8rem 0;
    padding-left: 1.5rem;
    position: relative;
    color: #c0e4ff;
}

.scoring-guide li::before {
    content: '游늵';
    position: absolute;
    left: 0;
    top: 0;
}

.scoring-guide p {
    font-style: italic;
    color: #a0d2ff;
    margin: 1rem 0;
}

.scoring-tips {
    margin-top: 2rem;
    padding: 1.5rem;
    background: rgba(0, 170, 255, 0.1);
    border-radius: 8px;
    border: 1px solid rgba(0, 170, 255, 0.3);
}

.scoring-tips h5 {
    margin-top: 0;
}

.scoring-tips ul {
    margin: 1rem 0;
    padding-left: 1.5rem;
    list-style-type: circle;
}

.scoring-tips li {
    margin: 0.5rem 0;
    color: #a0d2ff;
}

/* ===== METACOGNICI칍N ===== */
.metacognitive {
    margin: 4rem 0;
}

.reflection-questions {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 3rem;
    margin: 2rem 0;
}

@media (max-width: 900px) {
    .reflection-questions {
        grid-template-columns: 1fr;
    }
}

.reflection-card, .learning-plan {
    background: rgba(0, 20, 40, 0.7);
    padding: 2.5rem;
    border-radius: 15px;
    border: 1px solid rgba(0, 170, 255, 0.3);
    backdrop-filter: blur(10px);
}

.reflection-item {
    margin: 2rem 0;
    padding: 1.5rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 10px;
    border: 1px solid #333;
}

.reflection-item h5 {
    margin-top: 0;
    margin-bottom: 1rem;
    color: #00aaff;
}

.reflection-options {
    display: flex;
    flex-direction: column;
    gap: 0.8rem;
    margin: 1rem 0;
}

.reflection-options label {
    display: flex;
    align-items: center;
    gap: 0.8rem;
    color: #c0e4ff;
    cursor: pointer;
    padding: 0.5rem;
    border-radius: 6px;
    transition: background 0.3s;
}

.reflection-options label:hover {
    background: rgba(0, 170, 255, 0.1);
}

.reflection-options input[type="radio"] {
    transform: scale(1.2);
    accent-color: #00ff88;
}

.reflection-item textarea {
    width: 100%;
    background: rgba(0, 0, 0, 0.5);
    border: 2px solid #00aaff;
    border-radius: 8px;
    padding: 1rem;
    color: black;
    font-family: inherit;
    font-size: 1rem;
    resize: vertical;
    margin-top: 1rem;
    transition: all 0.3s;
}

.reflection-item textarea:focus {
    outline: none;
    border-color: #00ff88;
    box-shadow: 0 0 15px rgba(0, 255, 136, 0.2);
}

.suggestion {
    padding: 1.5rem;
    margin: 1.5rem 0;
    border-radius: 10px;
    border-left: 5px solid;
    display: none;
    animation: slideIn 0.5s ease-out;
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateX(-20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

#suggestion-basic {
    border-left-color: #ff4444;
    background: rgba(68, 0, 0, 0.3);
}

#suggestion-intermediate {
    border-left-color: #ffff00;
    background: rgba(68, 68, 0, 0.3);
}

#suggestion-advanced {
    border-left-color: #00ff88;
    background: rgba(0, 68, 0, 0.3);
}

.suggestion h5 {
    margin-top: 0;
    color: inherit;
}

.suggestion ul {
    margin: 1rem 0;
    padding-left: 1.5rem;
}

.suggestion li {
    margin: 0.8rem 0;
    color: #e8f4f8;
    line-height: 1.4;
}

.learning-resources {
    margin-top: 2rem;
    padding: 1.5rem;
    background: rgba(0, 170, 255, 0.1);
    border-radius: 10px;
    border: 1px solid rgba(0, 170, 255, 0.3);
}

.learning-resources h5 {
    margin-top: 0;
    color: #00aaff;
}

.learning-resources ul {
    list-style: none;
    padding-left: 0;
}

.learning-resources li {
    margin: 0.8rem 0;
}

.resource-link {
    color: #00ff88;
    text-decoration: none;
    padding: 0.5rem;
    border-radius: 6px;
    display: block;
    transition: all 0.3s;
    position: relative;
    padding-left: 2rem;
}

.resource-link::before {
    content: '游닄';
    position: absolute;
    left: 0;
    top: 50%;
    transform: translateY(-50%);
}

.resource-link:hover {
    background: rgba(0, 255, 136, 0.1);
    color: #00ff88;
    transform: translateX(5px);
}

/* ===== RESUMEN DE APRENDIZAJE ===== */
.learning-summary {
    margin-top: 3rem;
    padding: 2.5rem;
    background: linear-gradient(145deg, rgba(0, 30, 60, 0.8), rgba(0, 15, 30, 0.9));
    border-radius: 15px;
    border: 2px solid rgba(0, 170, 255, 0.3);
}

.summary-stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 2rem;
    margin: 2rem 0;
}

.stat {
    text-align: center;
    padding: 1.5rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 10px;
    border: 1px solid rgba(0, 170, 255, 0.2);
    transition: all 0.3s;
}

.stat:hover {
    transform: translateY(-5px);
    border-color: #00ff88;
    box-shadow: 0 10px 20px rgba(0, 255, 136, 0.1);
}

.stat-value {
    font-size: 3rem;
    font-weight: bold;
    background: linear-gradient(45deg, #00ff88, #00aaff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 0.5rem;
}

.stat-label {
    color: #a0d2ff;
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.progress-container {
    margin-top: 3rem;
}

.progress-label {
    display: flex;
    justify-content: space-between;
    margin-bottom: 1rem;
    color: #00aaff;
    font-weight: 600;
}

.progress-bar {
    height: 20px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 10px;
    overflow: hidden;
    border: 1px solid #333;
    position: relative;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #00aaff, #00ff88);
    border-radius: 10px;
    transition: width 1s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    position: relative;
    overflow: hidden;
}

.progress-fill::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(90deg, 
        transparent 0%, 
        rgba(255, 255, 255, 0.3) 50%, 
        transparent 100%);
    animation: progress-shimmer 2s infinite;
}

@keyframes progress-shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

/* ===== ANIMACIONES Y EFECTOS ===== */
@keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

.floating {
    animation: float 3s ease-in-out infinite;
}

/* ===== RESPONSIVE DESIGN ===== */
@media (max-width: 768px) {
    .quantum-lab {
        padding: 1rem;
    }
    
    .hero-section {
        padding: 1.5rem;
    }
    
    .concept-card {
        padding: 1.5rem;
    }
    
    .theory-grid {
        grid-template-columns: 1fr;
    }
    
    .simulator-grid {
        grid-template-columns: 1fr;
    }
    
    .errors-grid {
        grid-template-columns: 1fr;
    }
    
    .summary-stats {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 480px) {
    .summary-stats {
        grid-template-columns: 1fr;
    }
    
    .quiz-options {
        flex-direction: column;
    }
    
    .orbital-controls {
        grid-template-columns: 1fr;
    }
}

/* ===== SCROLLBAR PERSONALIZADA ===== */
.quantum-lab::-webkit-scrollbar {
    width: 12px;
}

.quantum-lab::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 6px;
}

.quantum-lab::-webkit-scrollbar-thumb {
    background: linear-gradient(45deg, #00ff88, #00aaff);
    border-radius: 6px;
    border: 3px solid #0a0a0f;
}

.quantum-lab::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(45deg, #00aaff, #00ff88);
}

/* ===== EFECTOS DE FOCO ===== */
:focus {
    outline: 2px solid #00ff88;
    outline-offset: 2px;
}

/* ===== UTILIDADES ===== */
.text-center { text-align: center; }
.mt-1 { margin-top: 1rem; }
.mt-2 { margin-top: 2rem; }
.mt-3 { margin-top: 3rem; }
.mb-1 { margin-bottom: 1rem; }
.mb-2 { margin-bottom: 2rem; }
.mb-3 { margin-bottom: 3rem; }
.p-1 { padding: 1rem; }
.p-2 { padding: 2rem; }
.p-3 { padding: 3rem; }

/* ===== ESTADOS DE VISUALIZACI칍N ===== */
.hidden {
    display: none !important;
}

.visible {
    display: block !important;
}

/* ===== EFECTOS DE TRANSICI칍N GLOBAL ===== */
.quantum-lab * {
    transition: background-color 0.3s, border-color 0.3s, transform 0.3s;
}

/* ============================================
   ESTILOS PARA LECCI칍N DEL 츼TOMO - COMPACTO
   ============================================ */

/* ===== RESET Y ESTILOS BASE ===== */
.quantum-atom-lab * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

.quantum-atom-lab {
    max-width: 1000px;
    margin: 0 auto;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, sans-serif;
    background: #0f1525;
    color: #e0e7ff;
    padding: 1.5rem;
    border-radius: 12px;
    line-height: 1.5;
    font-size: 0.95rem;
}

/* ===== TIPOGRAF칈A ===== */
.quantum-atom-lab h2 {
    font-size: 1.6rem;
    margin: 1rem 0 0.8rem;
    color: #4fc3f7;
    border-bottom: 2px solid #1a237e;
    padding-bottom: 0.5rem;
}

.quantum-atom-lab h3 {
    font-size: 1.4rem;
    margin: 1.2rem 0 0.8rem;
    color: #64ffda;
    border-left: 3px solid #00bcd4;
    padding-left: 0.8rem;
}

.quantum-atom-lab h4 {
    font-size: 1.2rem;
    margin: 1rem 0 0.6rem;
    color: #80deea;
}

.quantum-atom-lab h5 {
    font-size: 1.1rem;
    margin: 0.8rem 0 0.5rem;
    color: #b388ff;
}

.highlight {
    color: #64ffda;
    font-weight: 600;
    background: rgba(100, 255, 218, 0.1);
    padding: 0 0.2rem;
    border-radius: 3px;
}

/* ===== SECCI칍N INTRODUCCI칍N ===== */
.quantum-intro {
    background: linear-gradient(135deg, #1a237e 0%, #311b92 100%);
    padding: 1.2rem;
    border-radius: 10px;
    margin-bottom: 1.5rem;
    border: 1px solid #3949ab;
}

.intro-card {
    background: rgba(0, 0, 0, 0.3);
    padding: 1.2rem;
    border-radius: 8px;
    border-left: 4px solid #00bcd4;
}

.paradigm-shift {
    margin-top: 1rem;
    padding: 1rem;
    background: rgba(26, 35, 126, 0.5);
    border-radius: 8px;
    border: 1px solid #5c6bc0;
}

.paradigm-comparison {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
    margin-top: 0.8rem;
}

.classical, .quantum {
    padding: 0.8rem;
    border-radius: 6px;
    font-size: 0.9rem;
}

.classical {
    background: rgba(244, 67, 54, 0.1);
    border: 1px solid #f44336;
}

.quantum {
    background: rgba(76, 175, 80, 0.1);
    border: 1px solid #4caf50;
}

.classical ul, .quantum ul {
    padding-left: 1.2rem;
    margin: 0.5rem 0;
}

.classical li, .quantum li {
    margin: 0.3rem 0;
    font-size: 0.85rem;
}

/* ===== ANATOM칈A CU츼NTICA ===== */
.anatomy-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.2rem;
    margin: 1.2rem 0;
}

.anatomy-card {
    background: rgba(13, 71, 161, 0.2);
    padding: 1.2rem;
    border-radius: 8px;
    border: 1px solid #1e88e5;
}

.hierarchy {
    margin: 0.8rem 0;
}

.level {
    display: flex;
    align-items: flex-start;
    margin: 0.8rem 0;
    padding: 0.8rem;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 6px;
    border-left: 3px solid #00bcd4;
}

.level-number {
    background: #1a237e;
    color: black;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    margin-right: 0.8rem;
    flex-shrink: 0;
}

.level-content h5 {
    margin-top: 0;
    font-size: 1rem;
}

.identifiers {
    margin: 0.8rem 0;
}

.identifier {
    display: flex;
    align-items: center;
    margin: 0.6rem 0;
    padding: 0.6rem;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 6px;
}

.id-symbol {
    background: #311b92;
    color: #bb86fc;
    width: 32px;
    height: 32px;
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    font-size: 1.1rem;
    margin-right: 0.8rem;
}

.isotope-example {
    margin-top: 1rem;
    padding: 0.8rem;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 6px;
    border: 1px solid #7c4dff;
}

.isotope-row {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 0.8rem;
    margin-top: 0.6rem;
}

.isotope {
    text-align: center;
    padding: 0.6rem;
    background: rgba(124, 77, 255, 0.1);
    border-radius: 6px;
    border: 1px solid #7c4dff;
    cursor: pointer;
    transition: transform 0.2s;
}

.isotope:hover {
    transform: translateY(-2px);
    background: rgba(124, 77, 255, 0.2);
}

.iso-symbol {
    font-weight: bold;
    font-size: 1.1rem;
    color: #bb86fc;
}

.iso-details {
    font-size: 0.8rem;
    color: #b0bec5;
    margin: 0.3rem 0;
}

.iso-abundance {
    font-size: 0.75rem;
    color: #64ffda;
    font-weight: 600;
}

/* ===== TABLAS ===== */
.particles-table-container {
    margin: 1.5rem 0;
    overflow-x: auto;
}

.quantum-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.85rem;
    min-width: 700px;
}

.quantum-table th {
    background: linear-gradient(135deg, #1a237e, #311b92);
    color: black;
    padding: 0.8rem;
    text-align: left;
    font-weight: 600;
    border: 1px solid #3949ab;
}

.quantum-table td {
    padding: 0.6rem;
    border: 1px solid #37474f;
    background: rgba(13, 71, 161, 0.1);
}

.quantum-table tr:nth-child(even) td {
    background: rgba(13, 71, 161, 0.05);
}

.quantum-table tr:hover td {
    background: rgba(30, 136, 229, 0.1);
}

.table-note {
    margin-top: 0.5rem;
    font-size: 0.8rem;
    color: #90a4ae;
    text-align: center;
}

/* ===== VISUALIZACI칍N DEL 츼TOMO ===== */
.atom-visualization {
    margin: 1.5rem 0;
}

.visualization-controls {
    background: rgba(13, 71, 161, 0.2);
    padding: 1rem;
    border-radius: 8px;
    margin: 1rem 0;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    border: 1px solid #1e88e5;
}

.viz-control-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.viz-control-group label {
    font-size: 0.9rem;
    color: #80deea;
    font-weight: 600;
}

.viz-control-group select,
.viz-control-group input[type="range"] {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid #5c6bc0;
    border-radius: 4px;
    padding: 0.5rem;
    color: black;
    font-size: 0.9rem;
}

.viz-control-group input[type="range"] {
    padding: 0;
}

.viz-checkboxes {
    display: flex;
    flex-wrap: wrap;
    gap: 0.8rem;
    margin-top: 0.3rem;
}

.viz-checkboxes label {
    display: flex;
    align-items: center;
    gap: 0.3rem;
    font-size: 0.85rem;
    cursor: pointer;
}

.atom-canvas-container {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 1.2rem;
    margin: 1.2rem 0;
}

@media (max-width: 768px) {
    .atom-canvas-container {
        grid-template-columns: 1fr;
    }
}

.atom-canvas {
    background: #000;
    border-radius: 8px;
    padding: 1rem;
    border: 1px solid #37474f;
    min-height: 300px;
    display: flex;
    align-items: center;
    justify-content: center;
}

#atom-svg {
    width: 100%;
    height: auto;
    max-height: 280px;
}

.atom-stats {
    background: rgba(13, 71, 161, 0.2);
    padding: 1rem;
    border-radius: 8px;
    border: 1px solid #1e88e5;
    font-size: 0.9rem;
}

.atom-stats h4 {
    margin-top: 0;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid #1e88e5;
}

.stat-section {
    margin: 1rem 0;
    padding: 0.8rem;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 6px;
}

.stat-row, .qn-row, .property-row {
    display: flex;
    justify-content: space-between;
    margin: 0.4rem 0;
    padding: 0.3rem 0;
    border-bottom: 1px dotted #37474f;
}

.config-display {
    font-family: 'Courier New', monospace;
    background: rgba(0, 0, 0, 0.3);
    padding: 0.6rem;
    border-radius: 4px;
    margin: 0.5rem 0;
    color: #64ffda;
    text-align: center;
    border: 1px solid #00bcd4;
}

.visualization-explanation {
    margin-top: 1.2rem;
    padding: 1rem;
    background: rgba(0, 150, 136, 0.1);
    border-radius: 8px;
    border: 1px solid #009688;
}

.explanation-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 0.8rem;
    margin: 0.8rem 0;
}

.explanation-item {
    display: flex;
    align-items: center;
    gap: 0.8rem;
}

.color-indicator {
    width: 16px;
    height: 16px;
    border-radius: 3px;
    flex-shrink: 0;
}

.explanation-text {
    font-size: 0.85rem;
    line-height: 1.4;
}

.quantum-note {
    margin-top: 0.8rem;
    padding: 0.6rem;
    background: rgba(0, 188, 212, 0.1);
    border-radius: 6px;
    border-left: 3px solid #00bcd4;
    font-size: 0.85rem;
}

/* ===== LABORATORIO INTERACTIVO ===== */
.interactive-lab {
    margin: 1.5rem 0;
}

.lab-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 1.2rem;
    margin: 1.2rem 0;
}

.lab-card {
    background: rgba(13, 71, 161, 0.2);
    padding: 1.2rem;
    border-radius: 8px;
    border: 1px solid #1e88e5;
}

.lab-card.full-width {
    grid-column: 1 / -1;
}

.atom-builder, .quantum-generator, .spectrum-simulator {
    margin-top: 0.8rem;
}

.builder-controls {
    display: flex;
    flex-direction: column;
    gap: 0.8rem;
}

.particle-control {
    margin: 0.6rem 0;
}

.particle-slider {
    display: flex;
    align-items: center;
    gap: 0.8rem;
    margin-top: 0.3rem;
}

.particle-btn {
    background: #1a237e;
    color: black;
    border: none;
    width: 28px;
    height: 28px;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
    display: flex;
    align-items: center;
    justify-content: center;
}

.particle-btn:hover {
    background: #3949ab;
}

.atom-preview {
    margin: 1rem 0;
    padding: 0.8rem;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 6px;
}

.preview-stats {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.6rem;
    margin-bottom: 0.8rem;
}

.preview-stat {
    display: flex;
    justify-content: space-between;
    padding: 0.4rem;
    background: rgba(0, 0, 0, 0.1);
    border-radius: 4px;
}

.atom-stability {
    margin-top: 1rem;
    padding: 0.8rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 6px;
}

.stability-bar {
    height: 12px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 6px;
    margin: 0.5rem 0;
    overflow: hidden;
}

.stability-fill {
    height: 100%;
    border-radius: 6px;
    transition: width 0.3s;
}

.stability-labels {
    display: flex;
    justify-content: space-between;
    font-size: 0.75rem;
    color: #90a4ae;
    margin: 0.3rem 0;
}

.stability-message {
    text-align: center;
    font-weight: 600;
    margin-top: 0.5rem;
    font-size: 0.9rem;
}

.qn-controls {
    display: flex;
    flex-direction: column;
    gap: 0.8rem;
}

.qn-control {
    margin: 0.5rem 0;
}

.qn-info {
    font-size: 0.8rem;
    color: #90a4ae;
    margin-top: 0.3rem;
}

.spin-buttons {
    display: flex;
    gap: 0.5rem;
    margin: 0.5rem 0;
}

.spin-btn {
    flex: 1;
    padding: 0.5rem;
    background: rgba(26, 35, 126, 0.5);
    border: 1px solid #5c6bc0;
    color: black;
    border-radius: 4px;
    cursor: pointer;
    text-align: center;
}

.spin-btn.active {
    background: #1a237e;
    border-color: #3949ab;
    color: #64ffda;
}

.qn-output {
    margin-top: 1rem;
    padding: 0.8rem;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 6px;
}

.orbital-description {
    font-size: 0.9rem;
    line-height: 1.4;
}

.orbital-description p {
    margin: 0.4rem 0;
}

.pauli-check {
    margin-top: 1rem;
    padding: 0.8rem;
    background: rgba(0, 150, 136, 0.1);
    border-radius: 6px;
    border: 1px solid #009688;
}

.pauli-valid {
    color: #4caf50;
    font-weight: 600;
}

.pauli-invalid {
    color: #f44336;
    font-weight: 600;
}

.pauli-rule {
    font-size: 0.85rem;
    color: #90a4ae;
    margin-top: 0.5rem;
    font-style: italic;
}

.spectrum-controls {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin: 1rem 0;
}

.spectrum-display {
    display: grid;
    grid-template-columns: 1fr 1.5fr;
    gap: 1rem;
    margin: 1rem 0;
}

@media (max-width: 768px) {
    .spectrum-display {
        grid-template-columns: 1fr;
    }
}

.energy-levels {
    padding: 0.8rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 6px;
}

.levels-container {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    margin-top: 0.8rem;
}

.energy-level {
    padding: 0.5rem;
    background: rgba(26, 35, 126, 0.3);
    border-radius: 4px;
    border: 1px solid #5c6bc0;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.from-level {
    background: rgba(76, 175, 80, 0.3);
    border-color: #4caf50;
}

.to-level {
    background: rgba(33, 150, 243, 0.3);
    border-color: #2196f3;
}

.unavailable {
    opacity: 0.5;
}

.transition-arrow {
    text-align: center;
    color: #ff9800;
    font-size: 1.2rem;
    margin: 0.2rem 0;
}

.spectrum-view {
    padding: 0.8rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 6px;
}

.spectrum-bars {
    height: 30px;
    border-radius: 4px;
    background: rgba(0, 0, 0, 0.5);
    margin: 0.8rem 0;
    overflow: hidden;
}

.spectrum-bar {
    height: 100%;
    border-radius: 4px;
    transition: all 0.3s;
}

.spectrum-info {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.5rem;
    font-size: 0.85rem;
}

.spectrum-info p {
    margin: 0.3rem 0;
}

/* ===== BOTONES ===== */
.lab-button, .reflection-button, .plan-button {
    background: linear-gradient(135deg, #1a237e, #311b92);
    color: black;
    border: none;
    padding: 0.6rem 1.2rem;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 600;
    font-size: 0.9rem;
    margin-top: 0.8rem;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    transition: all 0.2s;
    width: 100%;
}

.lab-button:hover, .reflection-button:hover, .plan-button:hover {
    background: linear-gradient(135deg, #311b92, #4527a0);
    transform: translateY(-2px);
}

/* ===== ERRORES COMUNES ===== */
.common-misconceptions {
    margin: 1.5rem 0;
    padding: 1rem;
    background: rgba(183, 28, 28, 0.1);
    border-radius: 8px;
    border: 1px solid #d32f2f;
}

.misconceptions-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1rem;
    margin: 1rem 0;
}

.misconception-card {
    background: rgba(183, 28, 28, 0.15);
    padding: 0.8rem;
    border-radius: 6px;
    border: 1px solid #f44336;
}

.misconception-card h4 {
    color: #ff8a80;
    margin-top: 0;
}

.misconception-card p {
    margin: 0.6rem 0;
    font-size: 0.9rem;
    line-height: 1.4;
}

.misconception-detail {
    background: rgba(244, 67, 54, 0.2);
    color: #ff8a80;
    border: 1px solid #f44336;
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.85rem;
    width: 100%;
    margin-top: 0.5rem;
}

.misconception-detail:hover {
    background: rgba(244, 67, 54, 0.3);
}

.misconception-evidence {
    display: none;
    margin-top: 0.8rem;
    padding: 0.8rem;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 6px;
    border-left: 3px solid #f44336;
    font-size: 0.85rem;
}

.misconception-evidence p {
    margin: 0.4rem 0;
}

.misconception-quiz {
    margin-top: 1.5rem;
    padding: 1rem;
    background: rgba(26, 35, 126, 0.2);
    border-radius: 8px;
    border: 1px solid #3949ab;
}

.concept-question {
    margin: 1rem 0;
    padding: 0.8rem;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 6px;
}

.concept-question p {
    margin-bottom: 0.8rem;
    font-weight: 600;
}

.concept-options {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.concept-option {
    padding: 0.6rem;
    background: rgba(26, 35, 126, 0.3);
    border: 1px solid #5c6bc0;
    color: black;
    border-radius: 4px;
    cursor: pointer;
    text-align: left;
    font-size: 0.9rem;
    transition: all 0.2s;
}

.concept-option:hover {
    background: rgba(26, 35, 126, 0.5);
}

.concept-option.correct {
    background: rgba(76, 175, 80, 0.3);
    border-color: #4caf50;
    color: #a5d6a7;
}

.concept-option.incorrect {
    background: rgba(244, 67, 54, 0.3);
    border-color: #f44336;
    color: #ff8a80;
}

.concept-option:disabled {
    opacity: 0.7;
    cursor: not-allowed;
}

.concept-feedback {
    margin-top: 0.8rem;
    padding: 0.6rem;
    border-radius: 4px;
    font-weight: 600;
    font-size: 0.9rem;
}

/* ===== APLICACIONES ===== */
.applications {
    margin: 1.5rem 0;
}

.applications-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 1rem;
    margin: 1rem 0;
}

.application-card {
    background: rgba(0, 96, 100, 0.2);
    padding: 0.8rem;
    border-radius: 6px;
    border: 1px solid #006064;
}

.app-icon {
    font-size: 1.8rem;
    margin-bottom: 0.5rem;
}

.application-card h4 {
    color: #80deea;
    margin-top: 0;
}

.application-card ul {
    padding-left: 1.2rem;
    margin: 0.5rem 0;
}

.application-card li {
    margin: 0.3rem 0;
    font-size: 0.85rem;
    line-height: 1.3;
}

.curriculum-connection {
    margin-top: 1.5rem;
    padding: 1rem;
    background: rgba(26, 35, 126, 0.2);
    border-radius: 8px;
    border: 1px solid #3949ab;
}

.curriculum-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.85rem;
    margin-top: 0.8rem;
}

.curriculum-table th {
    background: #1a237e;
    color: black;
    padding: 0.6rem;
    text-align: left;
    font-weight: 600;
}

.curriculum-table td {
    padding: 0.5rem;
    border: 1px solid #37474f;
    background: rgba(0, 0, 0, 0.2);
}

.curriculum-table tr:nth-child(even) td {
    background: rgba(0, 0, 0, 0.1);
}

/* ===== PROBLEMAS DE EXAMEN ===== */
.exam-problems {
    margin: 1.5rem 0;
}

.problem-set {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    margin: 1.2rem 0;
}

.problem-card {
    background: rgba(13, 71, 161, 0.2);
    padding: 1rem;
    border-radius: 8px;
    border: 1px solid #1e88e5;
    position: relative;
}

.problem-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, #1a237e, #311b92);
}

.problem-card h4 {
    margin-top: 0.5rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid #1e88e5;
}

.problem-card ul, .problem-card ol {
    padding-left: 1.5rem;
    margin: 0.8rem 0;
}

.problem-card li {
    margin: 0.5rem 0;
    font-size: 0.9rem;
}

.answer-space {
    margin-top: 1rem;
}

.answer-space textarea {
    width: 100%;
    min-height: 120px;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid #5c6bc0;
    border-radius: 4px;
    padding: 0.8rem;
    color: black;
    font-family: inherit;
    font-size: 0.9rem;
    resize: vertical;
}

.answer-space textarea:focus {
    outline: none;
    border-color: #64ffda;
}

.problem-hint {
    margin-top: 0.8rem;
}

.hint-btn {
    background: rgba(0, 150, 136, 0.2);
    color: #80deea;
    border: 1px solid #009688;
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.85rem;
}

.hint-btn:hover {
    background: rgba(0, 150, 136, 0.3);
}

.hint-content {
    display: none;
    margin-top: 0.8rem;
    padding: 0.8rem;
    background: rgba(0, 150, 136, 0.1);
    border-radius: 6px;
    border-left: 3px solid #009688;
    font-size: 0.85rem;
}

.scoring-guide {
    margin-top: 1.5rem;
    padding: 1rem;
    background: rgba(0, 150, 136, 0.1);
    border-radius: 8px;
    border: 1px solid #009688;
}

.scoring-criteria {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-top: 1rem;
}

.criterion {
    padding: 0.8rem;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 6px;
    border: 1px solid #37474f;
}

.criterion h5 {
    margin-top: 0;
    color: #80deea;
}

.criterion ul {
    padding-left: 1.2rem;
    margin: 0.5rem 0;
}

.criterion li {
    margin: 0.3rem 0;
    font-size: 0.85rem;
}

/* ===== CIERRE METACOGNITIVO ===== */
.metacognitive-closure {
    margin: 1.5rem 0;
}

.reflection-container {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 1.5rem;
    margin: 1.2rem 0;
}

@media (max-width: 768px) {
    .reflection-container {
        grid-template-columns: 1fr;
    }
}

.reflection-prompts, .learning-plan {
    background: rgba(13, 71, 161, 0.2);
    padding: 1rem;
    border-radius: 8px;
    border: 1px solid #1e88e5;
}

.reflection-prompt {
    margin: 1rem 0;
    padding: 0.8rem;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 6px;
}

.prompt-options {
    display: flex;
    flex-direction: column;
    gap: 0.4rem;
    margin: 0.6rem 0;
}

.prompt-options label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.9rem;
    cursor: pointer;
}

.reflection-prompt textarea {
    width: 100%;
    min-height: 80px;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid #5c6bc0;
    border-radius: 4px;
    padding: 0.6rem;
    color: black;
    font-family: inherit;
    font-size: 0.9rem;
    resize: vertical;
    margin-top: 0.6rem;
}

.plan-suggestion {
    display: none;
    margin: 1rem 0;
    padding: 0.8rem;
    border-radius: 6px;
    border-left: 4px solid;
}

#plan-basic {
    border-left-color: #f44336;
    background: rgba(244, 67, 54, 0.1);
}

#plan-intermediate {
    border-left-color: #ff9800;
    background: rgba(255, 152, 0, 0.1);
}

#plan-advanced {
    border-left-color: #4caf50;
    background: rgba(76, 175, 80, 0.1);
}

.plan-suggestion ul {
    padding-left: 1.2rem;
    margin: 0.5rem 0;
}

.plan-suggestion li {
    margin: 0.4rem 0;
    font-size: 0.85rem;
}

.learning-resources {
    margin-top: 1.2rem;
    padding: 0.8rem;
    background: rgba(0, 150, 136, 0.1);
    border-radius: 6px;
    border: 1px solid #009688;
}

.learning-resources ul {
    list-style: none;
    padding-left: 0;
}

.learning-resources li {
    margin: 0.5rem 0;
}

.resource-link {
    color: #64ffda;
    text-decoration: none;
    font-size: 0.9rem;
    display: block;
    padding: 0.4rem;
    border-radius: 4px;
    transition: background 0.2s;
}

.resource-link:hover {
    background: rgba(100, 255, 218, 0.1);
    text-decoration: underline;
}

.learning-summary {
    margin-top: 1.5rem;
    padding: 1rem;
    background: rgba(26, 35, 126, 0.2);
    border-radius: 8px;
    border: 1px solid #3949ab;
}

.progress-metrics {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 1rem;
    margin: 1rem 0;
}

.metric {
    text-align: center;
    padding: 0.8rem;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 6px;
}

.metric-value {
    font-size: 1.8rem;
    font-weight: bold;
    color: #64ffda;
    margin-bottom: 0.3rem;
}

.metric-label {
    font-size: 0.85rem;
    color: #90a4ae;
}

.overall-progress {
    margin: 1.2rem 0;
}

.progress-label {
    display: flex;
    justify-content: space-between;
    margin-bottom: 0.5rem;
    font-weight: 600;
}

.progress-bar {
    height: 10px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 5px;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    border-radius: 5px;
    transition: width 0.5s ease;
    background: linear-gradient(90deg, #1a237e, #311b92);
}

.achievement-badge {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 0.8rem;
    background: rgba(100, 255, 218, 0.1);
    border-radius: 8px;
    border: 1px solid #64ffda;
    margin-top: 1rem;
}

.badge-icon {
    font-size: 2rem;
    flex-shrink: 0;
}

.badge-content h5 {
    margin-top: 0;
    color: #64ffda;
}

.badge-content p {
    font-size: 0.9rem;
    margin: 0.3rem 0;
    color: #b0bec5;
}

/* ===== UTILIDADES ===== */
@media (max-width: 600px) {
    .quantum-atom-lab {
        padding: 1rem;
        font-size: 0.9rem;
    }
    
    .paradigm-comparison,
    .atom-canvas-container,
    .spectrum-display,
    .reflection-container {
        grid-template-columns: 1fr;
    }
    
    .preview-stats,
    .spectrum-info {
        grid-template-columns: 1fr;
    }
    
    .applications-grid,
    .lab-grid {
        grid-template-columns: 1fr;
    }
}

/* ===== SCROLLBAR ===== */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.2);
}

::-webkit-scrollbar-thumb {
    background: #5c6bc0;
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: #3949ab;
}
/* Estilos para el Constructor de 츼tomos */
.simulator-card {
    background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
    border-radius: 15px;
    padding: 20px;
    margin: 20px 0;
    border: 2px solid #00ff88;
    box-shadow: 0 0 20px rgba(0, 255, 136, 0.1);
}

.atom-builder {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.control-row {
    background: rgba(0, 0, 0, 0.3);
    padding: 15px;
    border-radius: 10px;
    border: 1px solid #333;
}

.control-row label {
    display: block;
    margin-bottom: 10px;
    color: #00ff88;
    font-weight: bold;
}

.control-row input[type="range"] {
    width: 100%;
    height: 8px;
    background: #333;
    border-radius: 4px;
    outline: none;
}

.control-row input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 20px;
    height: 20px;
    background: #00ff88;
    border-radius: 50%;
    cursor: pointer;
}

.electron-config {
    background: rgba(0, 0, 0, 0.3);
    padding: 15px;
    border-radius: 10px;
    border: 1px solid #333;
}

.config-display {
    background: #000;
    color: #00ff88;
    padding: 10px;
    border-radius: 5px;
    font-family: monospace;
    font-size: 1.2em;
    margin: 10px 0;
    border: 1px solid #00ff88;
    text-align: center;
}

.orbital-diagram {
    background: rgba(0, 0, 0, 0.5);
    padding: 15px;
    border-radius: 10px;
    margin-top: 10px;
    min-height: 200px;
}

.orbital-row {
    display: flex;
    align-items: center;
    margin: 10px 0;
    padding: 5px;
    border-bottom: 1px solid #333;
}

.orbital-label {
    width: 60px;
    color: #00ff88;
    font-weight: bold;
    font-family: monospace;
}

.orbital-boxes {
    display: flex;
    gap: 5px;
    flex-wrap: wrap;
}

.electron-box {
    width: 30px;
    height: 30px;
    border: 2px solid #555;
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    transition: all 0.3s ease;
}

.electron-box.filled {
    background: rgba(0, 255, 136, 0.2);
    border-color: #00ff88;
}

.electron-box.spin-up {
    color: #ff5500;
}

.electron-box.spin-down {
    color: #00aaff;
}

.electron-box.unpaired {
    animation: pulse 2s infinite;
    box-shadow: 0 0 10px rgba(0, 255, 136, 0.5);
}

@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
}

.atom-properties {
    background: rgba(0, 0, 0, 0.3);
    padding: 15px;
    border-radius: 10px;
    border: 1px solid #333;
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 10px;
}

.atom-properties p {
    margin: 5px 0;
    padding: 5px;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 5px;
}

.atom-properties strong {
    color: #00ff88;
}

/* Responsive */
@media (max-width: 768px) {
    .atom-properties {
        grid-template-columns: 1fr;
    }
    
    .orbital-boxes {
        justify-content: center;
    }
}
/* ======================================== */
/* ESTILOS ESPEC칈FICOS PARA LECCI칍N AT칍MICA */
/* ======================================== */

/* Contenedores principales */
.atomic-lesson {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    line-height: 1.6;
    color: #e3f2fd;
    background: linear-gradient(135deg, #0a0f1f 0%, #1a1b3a 100%);
    padding: 25px;
    border-radius: 20px;
    margin: 25px 0;
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
}

/* Encabezados */
.atomic-title {
    color: #00e5ff;
    text-align: center;
    font-size: 2.5em;
    margin-bottom: 10px;
    text-shadow: 0 0 10px rgba(0, 229, 255, 0.5);
    border-bottom: 3px solid #00e5ff;
    padding-bottom: 15px;
}

.atomic-subtitle {
    color: #ff9800;
    font-size: 1.8em;
    margin: 30px 0 20px 0;
    padding-left: 15px;
    border-left: 5px solid #ff9800;
}

.atomic-section {
    background: rgba(20, 25, 45, 0.7);
    border-radius: 15px;
    padding: 25px;
    margin: 25px 0;
    border: 1px solid rgba(0, 229, 255, 0.2);
}

/* Bloques conceptuales */
.concept-block {
    background: linear-gradient(145deg, #1a237e, #283593);
    border-radius: 12px;
    padding: 20px;
    margin: 20px 0;
    border-left: 6px solid #00e5ff;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.key-concept {
    background: rgba(255, 152, 0, 0.1);
    border: 2px solid #ff9800;
    border-radius: 10px;
    padding: 15px;
    margin: 15px 0;
    font-weight: bold;
    color: #ffd54f;
}

.quantum-panel {
    background: rgba(106, 27, 154, 0.15);
    border: 2px solid #7b1fa2;
    border-radius: 12px;
    padding: 20px;
    margin: 20px 0;
}

/* Tablas cu치nticas */
.quantum-table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
    background: rgba(13, 71, 161, 0.2);
    border-radius: 10px;
    overflow: hidden;
}

.quantum-table th {
    background: linear-gradient(90deg, #0d47a1, #1565c0);
    color: black;
    padding: 15px;
    text-align: left;
    font-weight: 600;
}

.quantum-table td {
    padding: 12px 15px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.quantum-table tr:hover {
    background: rgba(33, 150, 243, 0.1);
}

/* Elementos interactivos */
.interactive-panel {
    background: rgba(0, 0, 0, 0.3);
    border: 2px dashed #00e5ff;
    border-radius: 15px;
    padding: 25px;
    margin: 25px 0;
    min-height: 300px;
    position: relative;
}

.control-panel {
    background: rgba(30, 30, 46, 0.8);
    border-radius: 10px;
    padding: 20px;
    margin: 15px 0;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
}

.slider-container {
    margin: 15px 0;
}

.slider-label {
    display: block;
    color: #00e5ff;
    margin-bottom: 8px;
    font-weight: 500;
}

.atomic-slider {
    width: 100%;
    height: 8px;
    background: #37474f;
    border-radius: 4px;
    outline: none;
    -webkit-appearance: none;
}

.atomic-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 22px;
    height: 22px;
    background: #00e5ff;
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0 0 10px #00e5ff;
}

.atomic-slider::-moz-range-thumb {
    width: 22px;
    height: 22px;
    background: #00e5ff;
    border-radius: 50%;
    cursor: pointer;
    border: none;
}

/* Botones cu치nticos */
.quantum-btn {
    background: linear-gradient(45deg, #00e5ff, #2979ff);
    color: black;
    border: none;
    padding: 12px 24px;
    border-radius: 25px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    margin: 10px 5px;
    box-shadow: 0 4px 15px rgba(0, 229, 255, 0.3);
}

.quantum-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(0, 229, 255, 0.5);
    background: linear-gradient(45deg, #00b8d4, #2962ff);
}

.quantum-btn:active {
    transform: translateY(1px);
}

/* Visualizaciones */
.visualization-area {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 12px;
    padding: 20px;
    margin: 20px 0;
    min-height: 300px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden;
}

.atom-display {
    width: 100%;
    height: 300px;
    position: relative;
}

.electron {
    position: absolute;
    width: 20px;
    height: 20px;
    background: radial-gradient(circle at 30% 30%, #00e5ff, #0077c2);
    border-radius: 50%;
    box-shadow: 0 0 20px #00e5ff;
    transition: all 0.5s ease;
}

.nucleus {
    position: absolute;
    width: 40px;
    height: 40px;
    background: radial-gradient(circle at 30% 30%, #ff5252, #b71c1c);
    border-radius: 50%;
    box-shadow: 0 0 30px #ff5252;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
}

.orbital-path {
    position: absolute;
    border: 2px dashed rgba(0, 229, 255, 0.3);
    border-radius: 50%;
}

/* Quiz y evaluaci칩n */
.quiz-container {
    background: rgba(30, 30, 46, 0.9);
    border-radius: 15px;
    padding: 25px;
    margin: 25px 0;
    border: 2px solid #7b1fa2;
}

.quiz-question {
    color: #bb86fc;
    font-size: 1.2em;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 2px solid rgba(187, 134, 252, 0.3);
}

.quiz-option {
    background: rgba(55, 71, 79, 0.5);
    border: 2px solid #546e7a;
    border-radius: 10px;
    padding: 15px;
    margin: 10px 0;
    cursor: pointer;
    transition: all 0.3s ease;
}

.quiz-option:hover {
    background: rgba(33, 150, 243, 0.2);
    border-color: #2196f3;
}

.quiz-option.selected {
    background: rgba(76, 175, 80, 0.2);
    border-color: #4caf50;
}

.quiz-option.wrong {
    background: rgba(244, 67, 54, 0.2);
    border-color: #f44336;
}

.feedback-box {
    padding: 15px;
    border-radius: 10px;
    margin: 15px 0;
    display: none;
}

.feedback-correct {
    background: rgba(76, 175, 80, 0.2);
    border: 2px solid #4caf50;
    color: #a5d6a7;
}

.feedback-incorrect {
    background: rgba(244, 67, 54, 0.2);
    border: 2px solid #f44336;
    color: #ef9a9a;
}

/* Errores comunes */
.error-list {
    background: rgba(183, 28, 28, 0.1);
    border: 2px solid #b71c1c;
    border-radius: 12px;
    padding: 20px;
    margin: 20px 0;
}

.error-item {
    background: rgba(183, 28, 28, 0.2);
    border-radius: 8px;
    padding: 15px;
    margin: 10px 0;
    cursor: pointer;
    transition: all 0.3s ease;
}

.error-item:hover {
    background: rgba(183, 28, 28, 0.3);
    transform: translateX(5px);
}

.error-explanation {
    background: rgba(30, 30, 46, 0.9);
    border-radius: 8px;
    padding: 15px;
    margin: 10px 0;
    border-left: 4px solid #ff9800;
    display: none;
}

/* Problemas de examen */
.problem-box {
    background: rgba(26, 35, 126, 0.2);
    border: 2px solid #1a237e;
    border-radius: 12px;
    padding: 25px;
    margin: 25px 0;
}

.problem-statement {
    color: #e3f2fd;
    font-size: 1.1em;
    margin-bottom: 20px;
    line-height: 1.7;
}

.hint-box {
    background: rgba(255, 152, 0, 0.1);
    border: 2px dashed #ff9800;
    border-radius: 10px;
    padding: 15px;
    margin: 15px 0;
    display: none;
}

/* Reflexi칩n metacognitiva */
.reflection-panel {
    background: linear-gradient(145deg, #004d40, #00695c);
    border-radius: 15px;
    padding: 25px;
    margin: 25px 0;
    color: #e0f2f1;
}

.reflection-question {
    background: rgba(0, 77, 64, 0.3);
    border-radius: 10px;
    padding: 15px;
    margin: 15px 0;
    border-left: 5px solid #00bfa5;
}

/* Animaciones */
@keyframes electron-spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

@keyframes photon-glow {
    0% { box-shadow: 0 0 10px #00e5ff; }
    50% { box-shadow: 0 0 30px #00e5ff; }
    100% { box-shadow: 0 0 10px #00e5ff; }
}

@keyframes pulse {
    0% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.05); opacity: 0.8; }
    100% { transform: scale(1); opacity: 1; }
}

.pulse {
    animation: pulse 2s infinite;
}

/* Responsive */
@media (max-width: 768px) {
    .atomic-lesson {
        padding: 15px;
    }
    
    .control-panel {
        grid-template-columns: 1fr;
    }
    
    .atomic-title {
        font-size: 1.8em;
    }
    
    .atomic-subtitle {
        font-size: 1.4em;
    }
}

/* Efectos especiales */
.glow {
    filter: drop-shadow(0 0 8px currentColor);
}

.highlight {
    background: linear-gradient(90deg, transparent, rgba(255, 193, 7, 0.2), transparent);
    padding: 5px 0;
    margin: 10px 0;
}

/* ============================================
   ESTILOS PARA LECCI칍N: ESTRUCTURA AT칍MICA CU츼NTICA
   ============================================ */

/* Contenedor principal de la lecci칩n */
.quantum-advanced-lesson {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    line-height: 1.6;
    color: #333;
    max-width: 1000px;
    margin: 0 auto;
    padding: 20px;
}

/* T칤tulos */
.quantum-advanced-lesson h2 {
    color: #2c3e50;
    border-bottom: 2px solid #3498db;
    padding-bottom: 10px;
    margin-top: 30px;
    font-size: 1.5rem;
}

.quantum-advanced-lesson h3 {
    color: #2980b9;
    margin-top: 20px;
    font-size: 1.3rem;
}

.quantum-advanced-lesson h4 {
    color: #34495e;
    margin-top: 15px;
    font-size: 1.1rem;
}

/* Secciones */
.intro-section,
.theory-section,
.visualization-section,
.interactive-section,
.errors-section,
.connection-section,
.exam-problems-section,
.metacognitive-section {
    margin-bottom: 30px;
    padding: 15px;
    background: linear-gradient(90deg, rgba(255,255,255,0.01), rgba(0,255,150,0.02));
    border-radius: 8px;
    border-left: 4px solid var(--neon-blue);
}

/* P치rrafos y texto */
.quantum-advanced-lesson p {
    margin-bottom: 15px;
    text-align: justify;
}

/* Tablas */
.models-table,
.quantum-table {
    width: 100%;
    border-collapse: collapse;
    margin: 15px 0;
    font-size: 0.9rem;
}

.models-table th,
.quantum-table th {
    background: linear-gradient(135deg, var(--neon-blue), #006699);
    color: var(--text-light);
    padding: 10px;
    text-align: left;
    box-shadow: var(--glow-cyan);
}

.models-table td,
.quantum-table td {
    padding: 8px 10px;
    border-bottom: 1px solid rgba(255,255,255,0.04);
}

.models-table tr:nth-child(even),
.quantum-table tr:nth-child(even) {
    background-color: rgba(255,255,255,0.02);
}

.models-table tr:hover,
.quantum-table tr:hover {
    background-color: #e8f4fc;
}

/* Simuladores */
.simulator-box {
    background: var(--bg-panel);
    border: 1px solid rgba(0,255,200,0.04);
    border-radius: 8px;
    padding: 15px;
    margin: 20px 0;
    box-shadow: 0 10px 30px rgba(0,255,200,0.03);
    color: var(--text-dim);
} 

.simulator-box h3 {
    color: #2c3e50;
    margin-top: 0;
}

.controls {
    margin: 15px 0;
}

.controls label {
    display: inline-block;
    margin-right: 10px;
    font-weight: bold;
}

.controls input[type="range"],
.controls input[type="number"],
.controls select {
    padding: 5px;
    border: 1px solid rgba(255,255,255,0.04);
    border-radius: 4px;
    margin-right: 10px;
    background: var(--bg-panel);
    color: var(--text-light);
} 

.controls button {
    background: linear-gradient(135deg, var(--neon-blue), #006699);
    color: var(--text-dark);
    border: none;
    padding: 8px 15px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.9rem;
}

.controls button:hover {
    background: linear-gradient(135deg, #00bfff, var(--neon-cyan));
} 

/* Resultados de simuladores */
.results,
.spectrum-results,
.validation-result,
.orbital-info {
    background: rgba(255,255,255,0.02);
    padding: 10px;
    border-radius: 5px;
    margin: 10px 0;
    font-size: 0.9rem;
    color: var(--text-dim);
} 

/* Badges */
.completion-badge {
    background: linear-gradient(135deg, #ffd700, #ff9900);
    color: #111;
    padding: 8px 15px;
    border-radius: 20px;
    display: inline-block;
    font-weight: bold;
    margin-top: 10px;
    font-size: 0.9rem;
    box-shadow: 0 6px 18px rgba(255,180,0,0.08);
} 

/* Quiz */
.quiz-box {
    background: var(--bg-panel);
    border: 1px solid rgba(0,255,80,0.06);
    border-radius: 8px;
    padding: 15px;
    margin: 20px 0;
    color: var(--text-dim);
} 

#quiz-options label {
    display: block;
    padding: 8px;
    margin: 5px 0;
    background: rgba(255,255,255,0.02);
    border-radius: 4px;
    cursor: pointer;
    color: var(--text-dim);
} 

#quiz-options label:hover {
    background: #e8f4fc;
}

#quiz-feedback {
    padding: 10px;
    border-radius: 5px;
    margin-top: 10px;
    font-size: 0.9rem;
}

/* Errores comunes */
.error-card {
    background: linear-gradient(135deg, rgba(255,180,80,0.06), rgba(255,140,0,0.03));
    border: 1px solid rgba(255,180,80,0.06);
    border-radius: 6px;
    padding: 12px;
    margin: 10px 0;
    color: var(--text-dim);
} 

.error-card h4 {
    color: #856404;
    margin-top: 0;
}

.error-example-btn {
    background-color: #f39c12;
    color: black;
    border: none;
    padding: 5px 10px;
    border-radius: 3px;
    cursor: pointer;
    font-size: 0.85rem;
    margin-top: 5px;
}

/* Problemas de examen */
.exam-problem {
    background: var(--bg-card);
    border: 1px solid rgba(255,255,255,0.04);
    border-radius: 6px;
    padding: 15px;
    margin: 15px 0;
    color: var(--text-dim);
} 

.problem-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
}

.problem-header h4 {
    margin: 0;
    color: #2c3e50;
}

.problem-time {
    color: #7f8c8d;
    font-size: 0.85rem;
}

.problem-content ol {
    padding-left: 20px;
}

.problem-content li {
    margin-bottom: 5px;
}

/* Reflexi칩n */
.reflection-card {
    background: var(--bg-card);
    border: 1px solid rgba(255,255,255,0.04);
    border-radius: 6px;
    padding: 12px;
    margin: 10px 0;
}

.reflection-card textarea {
    width: 100%;
    padding: 8px;
    border: 1px solid rgba(255,255,255,0.04);
    border-radius: 4px;
    font-family: inherit;
    font-size: 0.9rem;
    resize: vertical;
    min-height: 60px;
    background: var(--bg-panel);
    color: var(--text-light);
}

/* Rating por estrellas */
.rating-stars {
    display: inline-block;
    margin-left: 10px;
}

.rating-stars .star {
    color: #ddd;
    cursor: pointer;
    font-size: 1.2rem;
    margin-right: 2px;
}

.rating-stars .star:hover,
.rating-stars .star:hover ~ .star {
    color: #ffcc00;
}

.rating-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: 8px 0;
}

/* Contenedores de visualizaci칩n */
.orbital-canvas,
.spectrum-display,
.bohr-diagram,
.aufbau-diagram {
    background: var(--bg-card);
    border: 1px solid rgba(255,255,255,0.04);
    border-radius: 6px;
    margin: 10px 0;
    padding: 10px;
    text-align: center;
    color: var(--text-dim);
} 

/* L칤nea de tiempo */
.timeline-visual {
    height: 60px;
    background: linear-gradient(to right, #3498db, #2ecc71, #e74c3c, #f39c12, #9b59b6);
    border-radius: 5px;
    position: relative;
    margin: 15px 0;
}

/* Elementos espec칤ficos */
#error-demo {
    background: #fff3cd;
    border: 1px solid #ffeaa7;
    border-radius: 6px;
    padding: 15px;
    margin-top: 15px;
}

#final-message {
    background: linear-gradient(135deg, #00ff88, #00cc66);
    color: #002200;
    padding: 20px;
    border-radius: 8px;
    text-align: center;
    margin-top: 20px;
    box-shadow: 0 8px 30px rgba(0,255,150,0.06);
}

/* Responsive */
@media (max-width: 768px) {
    .quantum-advanced-lesson {
        padding: 10px;
    }
    
    .simulator-controls {
        flex-direction: column;
        align-items: flex-start;
    }
    
    .controls input[type="range"],
    .controls input[type="number"],
    .controls select {
        width: 100%;
        margin-bottom: 10px;
    }
    
    .problem-header {
        flex-direction: column;
        align-items: flex-start;
    }
    
    .rating-item {
        flex-direction: column;
        align-items: flex-start;
    }
    
    .rating-stars {
        margin-left: 0;
        margin-top: 5px;
    }
}

/* Animaciones simples */
@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
}

.pulse {
    animation: pulse 1s ease-in-out;
}

/* Estilos para confetti */
.confetti {
    position: absolute;
    width: 10px;
    height: 10px;
    opacity: 0.7;
    animation: fall linear forwards;
}

@keyframes fall {
    to {
        transform: translateY(100vh) rotate(360deg);
        opacity: 0;
    }
}

/* Mejoras de accesibilidad */
.quantum-advanced-lesson :focus {
    outline: 2px solid #3498db;
    outline-offset: 2px;
}

/* Impresi칩n */
@media print {
    .quantum-advanced-lesson {
        color: black;
        background: black;
    }
    
    .simulator-box,
    .quiz-box,
    .controls button {
        display: none;
    }
}

/* ============================================
   游꿡 CYBERPUNK 8-BIT - ESTRUCTURA AT칍MICA CU츼NTICA
   Estilo retro-futurista con paleta de 8 colores
   ============================================ */

/* === RESET Y BASE === */
.quantum-advanced-lesson {
    font-family: 'Courier New', 'Lucida Console', monospace;
    background: #0a0a1a;
    color: #00ffcc;
    border: 4px solid #ff00ff;
    padding: 20px;
    box-shadow: 0 0 30px #ff00ff, inset 0 0 20px rgba(255, 0, 255, 0.1);
    image-rendering: pixelated;
    image-rendering: crisp-edges;
    line-height: 1.4;
}

/* === T칈TULOS CON EFECTO NE칍N === */
.quantum-advanced-lesson h2 {
    color: #ff00ff;
    font-size: 1.8rem;
    text-transform: uppercase;
    text-shadow: 0 0 10px #ff00ff, 0 0 20px #ff00ff;
    border-bottom: 3px solid #00ffcc;
    padding-bottom: 8px;
    margin-top: 30px;
    letter-spacing: 2px;
    border-image: linear-gradient(to right, #ff00ff, #00ffcc) 1;
}

.quantum-advanced-lesson h3 {
    color: #ffff00;
    font-size: 1.4rem;
    text-shadow: 0 0 5px #ffff00;
    margin-top: 20px;
    border-left: 4px solid #ffff00;
    padding-left: 10px;
}

.quantum-advanced-lesson h4 {
    color: #00ffff;
    font-size: 1.2rem;
    margin-top: 15px;
}

/* === SECCIONES CON BORDES PIXELADOS === */
.intro-section,
.theory-section,
.visualization-section,
.interactive-section,
.errors-section,
.connection-section,
.exam-problems-section,
.metacognitive-section {
    background: rgba(10, 20, 40, 0.8);
    border: 2px solid #00ffcc;
    border-radius: 0;
    padding: 15px;
    margin-bottom: 25px;
    position: relative;
    box-shadow: 0 0 15px rgba(0, 255, 204, 0.3);
}

/* Pseudo-elemento para efecto de esquina */
.intro-section::before,
.theory-section::before,
.visualization-section::before,
.interactive-section::before,
.errors-section::before,
.connection-section::before,
.exam-problems-section::before,
.metacognitive-section::before {
    content: '郊';
    color: #ff00ff;
    position: absolute;
    top: -10px;
    left: -10px;
    font-size: 20px;
    text-shadow: 2px 2px 0 #000;
}

/* === TABLAS RETRO === */
.models-table,
.quantum-table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
    border: 2px solid #ffff00;
    margin: 15px 0;
    font-size: 0.9rem;
}

.models-table th,
.quantum-table th {
    background: linear-gradient(to bottom, #ff00ff, #9900cc);
    color: #000;
    padding: 10px;
    text-align: left;
    border: 1px solid #ffff00;
    font-weight: bold;
    text-transform: uppercase;
}

.models-table td,
.quantum-table td {
    padding: 8px 10px;
    border: 1px solid #00ffcc;
    background: rgba(0, 50, 100, 0.5);
}

.models-table tr:nth-child(even) td,
.quantum-table tr:nth-child(even) td {
    background: rgba(0, 80, 120, 0.5);
}

.models-table tr:hover td,
.quantum-table tr:hover td {
    background: rgba(255, 0, 255, 0.2);
    color: #ffff00;
}

/* === SIMULADORES CYBERPUNK === */
.simulator-box {
    background: #001122;
    border: 3px solid #00ffcc;
    border-style: dashed;
    padding: 15px;
    margin: 20px 0;
    box-shadow: 0 0 20px #00ffcc;
    position: relative;
}

.simulator-box::after {
    content: '郊';
    color: #ff00ff;
    position: absolute;
    right: 10px;
    top: 10px;
    animation: blink 1s infinite;
}

@keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.3; }
}

.simulator-box h3 {
    color: #00ffff;
    border-bottom: 2px dotted #ff00ff;
    padding-bottom: 5px;
    margin-top: 0;
}

/* === CONTROLES 8-BIT === */
.controls {
    margin: 15px 0;
    padding: 10px;
    background: rgba(0, 30, 60, 0.7);
    border: 2px solid #ffff00;
}

.controls label {
    color: #ffff00;
    font-weight: bold;
    margin-right: 10px;
    display: inline-block;
    min-width: 100px;
}

.controls input[type="range"] {
    width: 200px;
    background: #000;
    height: 8px;
    border: 2px solid #00ffcc;
    -webkit-appearance: none;
    margin: 0 10px;
}

.controls input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 20px;
    height: 20px;
    background: #ff00ff;
    border: 2px solid #000;
    cursor: pointer;
    box-shadow: 0 0 5px #ff00ff;
}

.controls input[type="number"],
.controls select {
    background: #000;
    color: #00ffcc;
    border: 2px solid #00ffcc;
    padding: 5px;
    font-family: 'Courier New', monospace;
    font-size: 0.9rem;
    width: 120px;
}

/* === BOTONES RETRO === */
.controls button,
.toxic-btn,
#quiz-submit,
#quiz-next,
.error-example-btn,
#save-reflection,
#close-error-demo {
    background: linear-gradient(to bottom, #ff00ff, #9900cc);
    color: #000;
    border: 2px solid #ffff00;
    padding: 8px 15px;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    text-transform: uppercase;
    cursor: pointer;
    margin: 5px;
    font-size: 0.85rem;
    letter-spacing: 1px;
    transition: all 0.1s;
    box-shadow: 0 4px 0 #9900cc;
    position: relative;
}

.controls button:hover,
.toxic-btn:hover,
#quiz-submit:hover,
#quiz-next:hover,
.error-example-btn:hover,
#save-reflection:hover,
#close-error-demo:hover {
    background: linear-gradient(to bottom, #ffff00, #ff9900);
    color: #000;
    transform: translateY(2px);
    box-shadow: 0 2px 0 #9900cc;
}

.controls button:active,
.toxic-btn:active,
#quiz-submit:active,
#quiz-next:active,
.error-example-btn:active,
#save-reflection:active,
#close-error-demo:active {
    transform: translateY(4px);
    box-shadow: none;
}

/* === RESULTADOS Y DISPLAYS === */
.results,
.spectrum-results,
.validation-result,
.orbital-info,
.simulator-display {
    background: rgba(0, 0, 0, 0.8);
    border: 2px solid #00ffff;
    padding: 10px;
    margin: 10px 0;
    font-family: 'Courier New', monospace;
    font-size: 0.9rem;
    color: #00ffcc;
}

.results p,
.spectrum-results p {
    margin: 5px 0;
    padding: 3px;
    border-bottom: 1px dotted #ff00ff;
}

/* === BADGES 8-BIT === */
.completion-badge {
    background: repeating-linear-gradient(
        45deg,
        #ff00ff,
        #ff00ff 10px,
        #ffff00 10px,
        #ffff00 20px
    );
    color: #000;
    padding: 8px 15px;
    border: 2px solid #000;
    display: inline-block;
    font-weight: bold;
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-top: 10px;
    box-shadow: 4px 4px 0 #000;
}

/* === QUIZ INTERACTIVO === */
.quiz-box {
    background: #000;
    border: 3px solid #ffff00;
    padding: 15px;
    margin: 20px 0;
    box-shadow: 0 0 25px #ffff00;
}

#quiz-progress {
    color: #ff00ff;
    font-weight: bold;
    padding: 5px;
    background: #000;
    border: 2px solid #ff00ff;
    margin-bottom: 10px;
    text-align: center;
}

#quiz-options label {
    display: block;
    padding: 10px;
    margin: 5px 0;
    background: #002244;
    border: 2px solid #00ffcc;
    cursor: pointer;
    transition: all 0.2s;
    position: relative;
}

#quiz-options label:hover {
    background: #004466;
    border-color: #ffff00;
    transform: translateX(5px);
}

#quiz-options input[type="radio"] {
    appearance: none;
    width: 15px;
    height: 15px;
    border: 2px solid #ff00ff;
    background: #000;
    margin-right: 10px;
    position: relative;
}

#quiz-options input[type="radio"]:checked {
    background: #ff00ff;
    box-shadow: 0 0 10px #ff00ff;
}

#quiz-feedback {
    background: rgba(0, 40, 80, 0.9);
    border: 2px solid;
    padding: 10px;
    margin-top: 10px;
    font-size: 0.9rem;
}

/* === ERRORES COMUNES === */
.error-card {
    background: rgba(100, 0, 0, 0.7);
    border: 2px solid #ff0000;
    padding: 12px;
    margin: 10px 0;
    position: relative;
}

.error-card::before {
    content: '丘';
    position: absolute;
    right: 10px;
    top: 10px;
    color: #ffff00;
    font-size: 1.5rem;
}

.error-card h4 {
    color: #ff6666;
    margin-top: 0;
}

/* === PROBLEMAS EXAMEN === */
.exam-problem {
    background: rgba(0, 30, 60, 0.9);
    border: 2px solid #00ffff;
    padding: 15px;
    margin: 15px 0;
    border-left: 10px solid #ff00ff;
}

.problem-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
    padding-bottom: 5px;
    border-bottom: 2px dotted #ffff00;
}

.problem-header h4 {
    color: #ffff00;
    margin: 0;
}

.problem-time {
    color: #ff00ff;
    font-size: 0.85rem;
    background: #000;
    padding: 3px 8px;
    border: 1px solid #ff00ff;
}

.problem-content ol {
    padding-left: 25px;
    counter-reset: item;
}

.problem-content li {
    margin-bottom: 8px;
    padding-left: 5px;
    position: relative;
}

.problem-content li::before {
    content: counter(item) ". ";
    counter-increment: item;
    color: #ff00ff;
    font-weight: bold;
    position: absolute;
    left: -25px;
}

/* === REFLEXI칍N METACOGNITIVA === */
.reflection-card {
    background: rgba(0, 50, 100, 0.7);
    border: 2px solid #00ffcc;
    padding: 12px;
    margin: 10px 0;
}

.reflection-card textarea {
    width: 100%;
    background: #000;
    color: #00ffcc;
    border: 2px solid #ff00ff;
    padding: 8px;
    font-family: 'Courier New', monospace;
    font-size: 0.9rem;
    resize: vertical;
    min-height: 60px;
    margin-top: 5px;
}

/* === RATING ESTRELLAS 8-BIT === */
.rating-stars {
    display: inline-block;
    margin-left: 10px;
}

.rating-stars .star {
    color: #555;
    cursor: pointer;
    font-size: 1.2rem;
    margin-right: 2px;
    text-shadow: 1px 1px 0 #000;
    transition: all 0.2s;
}

.rating-stars .star:hover,
.rating-stars .star:hover ~ .star {
    color: #ffff00;
    text-shadow: 0 0 10px #ffff00;
}

.rating-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: 8px 0;
    padding: 5px;
    background: rgba(0, 20, 40, 0.5);
    border: 1px solid #00ffcc;
}

/* === VISUALIZACIONES === */
.orbital-canvas,
.spectrum-display,
.bohr-diagram,
.aufbau-diagram {
    background: #000;
    border: 3px solid #ff00ff;
    margin: 10px 0;
    padding: 10px;
    text-align: center;
    position: relative;
    overflow: hidden;
}

.orbital-canvas::before,
.spectrum-display::before,
.bohr-diagram::before,
.aufbau-diagram::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 2px,
        rgba(255, 0, 255, 0.1) 2px,
        rgba(255, 0, 255, 0.1) 4px
    );
    pointer-events: none;
}

/* === L칈NEA DE TIEMPO === */
.timeline-visual {
    height: 60px;
    background: linear-gradient(to right, 
        #ff00ff 0%, 
        #ff00ff 20%, 
        #ffff00 20%, 
        #ffff00 40%, 
        #00ffcc 40%, 
        #00ffcc 60%, 
        #00ffff 60%, 
        #00ffff 80%, 
        #9900cc 80%, 
        #9900cc 100%
    );
    border: 2px solid #000;
    position: relative;
    margin: 15px 0;
    image-rendering: pixelated;
}

/* === ESPECTRO VISUAL === */
.spectrum-display {
    background: linear-gradient(to right, 
        #8b00ff, #4b0082, #0000ff, #00ffff, #00ff00, #ffff00, #ff7f00, #ff0000
    ) !important;
    height: 80px;
    border: 3px solid #000;
    box-shadow: 0 0 20px #00ffff;
}

/* === CONFETTI 8-BIT === */
.confetti {
    position: absolute;
    width: 8px;
    height: 8px;
    background: #ff00ff;
    opacity: 0.8;
    animation: fall linear forwards;
    image-rendering: pixelated;
}

@keyframes fall {
    to {
        transform: translateY(100vh) rotate(90deg);
        opacity: 0;
    }
}

/* === ESTADOS DE PELIGRO === */
.display-safe { 
    color: #00ff00; 
    text-shadow: 0 0 10px #00ff00;
    animation: pulse-green 2s infinite;
}

.display-warning { 
    color: #ffff00; 
    text-shadow: 0 0 10px #ffff00;
    animation: pulse-yellow 1s infinite;
}

.display-danger { 
    color: #ff6600; 
    text-shadow: 0 0 10px #ff6600;
    animation: pulse-orange 0.5s infinite;
}

.display-critical { 
    color: #ff0000; 
    text-shadow: 0 0 20px #ff0000;
    animation: pulse-red 0.25s infinite;
}

@keyframes pulse-green {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

@keyframes pulse-yellow {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.3; }
}

@keyframes pulse-orange {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.2; }
}

@keyframes pulse-red {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.1; }
}

/* === BARRA DE PROGRESO === */
progress {
    width: 100%;
    height: 10px;
    border: 2px solid #00ffcc;
    background: #000;
    margin: 5px 0;
}

progress::-webkit-progress-bar {
    background: #000;
}

progress::-webkit-progress-value {
    background: linear-gradient(to right, #ff00ff, #00ffcc);
    box-shadow: 0 0 10px #ff00ff;
}

progress::-moz-progress-bar {
    background: linear-gradient(to right, #ff00ff, #00ffcc);
}

/* === RESPONSIVE === */
@media (max-width: 768px) {
    .quantum-advanced-lesson {
        padding: 10px;
        border-width: 2px;
    }
    
    .controls {
        display: flex;
        flex-direction: column;
        gap: 10px;
    }
    
    .controls input[type="range"] {
        width: 100%;
        max-width: 300px;
    }
    
    .problem-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 5px;
    }
    
    .rating-item {
        flex-direction: column;
        align-items: flex-start;
        gap: 5px;
    }
    
    .rating-stars {
        margin-left: 0;
        align-self: flex-start;
    }
    
    .orbital-canvas,
    .bohr-diagram {
        width: 100%;
        height: auto;
    }
}

/* === IMPRESI칍N === */
@media print {
    .quantum-advanced-lesson {
        background: black !important;
        color: black !important;
        border: 1px solid #000 !important;
        box-shadow: none !important;
    }
    
    .simulator-box,
    .quiz-box,
    .controls button,
    .error-example-btn,
    #save-reflection {
        display: none !important;
    }
    
    h2, h3, h4 {
        color: black !important;
        text-shadow: none !important;
    }
}

/* === SCROLLBAR PERSONALIZADA === */
::-webkit-scrollbar {
    width: 12px;
    background: #000;
}

::-webkit-scrollbar-track {
    background: #001122;
    border: 1px solid #00ffcc;
}

::-webkit-scrollbar-thumb {
    background: linear-gradient(to bottom, #ff00ff, #00ffcc);
    border: 2px solid #000;
}

::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(to bottom, #ffff00, #ff9900);
}

/* === EFECTO DE SCANLINE (opcional) === */
.quantum-advanced-lesson::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    background: linear-gradient(
        to bottom,
        transparent 50%,
        rgba(0, 255, 204, 0.05) 50%
    );
    background-size: 100% 4px;
    z-index: 9999;
    opacity: 0.3;
    animation: scanline 10s linear infinite;
}

@keyframes scanline {
    0% { transform: translateY(-100%); }
    100% { transform: translateY(100%); }
}

/* === SELECTION STYLE === */
::selection {
    background: #ff00ff;
    color: #000;
    text-shadow: none;
}
/* ============================================
   ESTILO 2: NE칍N GLITCH - CYBERPUNK DISTORSION
   ============================================ */
.models-table.neon-glitch,
.quantum-table.neon-glitch {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
    font-family: 'Arial Black', sans-serif;
    font-size: 0.9rem;
    border: 2px solid transparent;
    background: 
        linear-gradient(45deg, #0a0a1a, #1a1a2a),
        linear-gradient(90deg, #ff00ff, #00ffff, #ff00ff);
    background-clip: padding-box, border-box;
    background-origin: border-box;
    position: relative;
    animation: glitch-border 2s infinite;
}

@keyframes glitch-border {
    0%, 100% { border-image: linear-gradient(90deg, #ff00ff, #00ffff) 1; }
    25% { border-image: linear-gradient(90deg, #00ffff, #ffff00) 1; }
    50% { border-image: linear-gradient(90deg, #ffff00, #ff00ff) 1; }
    75% { border-image: linear-gradient(90deg, #00ff00, #ff00ff) 1; }
}

.models-table.neon-glitch::before,
.quantum-table.neon-glitch::before {
    content: '';
    position: absolute;
    top: 2px;
    left: 2px;
    right: 2px;
    bottom: 2px;
    background: rgba(10, 10, 26, 0.9);
    z-index: 1;
    pointer-events: none;
}

.models-table.neon-glitch th,
.quantum-table.neon-glitch th {
    background: linear-gradient(135deg, 
        rgba(255, 0, 255, 0.8), 
        rgba(0, 255, 255, 0.8));
    color: #000;
    padding: 15px 10px;
    text-align: left;
    border: none;
    font-weight: 900;
    text-transform: uppercase;
    letter-spacing: 1px;
    position: relative;
    z-index: 2;
    text-shadow: 0 0 10px #fff;
}

.models-table.neon-glitch th::after,
.quantum-table.neon-glitch th::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 10%;
    right: 10%;
    height: 2px;
    background: linear-gradient(90deg, 
        transparent, 
        #fff, 
        #ff00ff, 
        #fff, 
        transparent);
    animation: scanline 1s linear infinite;
}

.models-table.neon-glitch td,
.quantum-table.neon-glitch td {
    padding: 12px 10px;
    color: #00ffff;
    position: relative;
    z-index: 2;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    background: rgba(255, 0, 255, 0.05);
    transition: all 0.3s;
    text-shadow: 0 0 5px currentColor;
}

.models-table.neon-glitch tr:nth-child(even) td,
.quantum-table.neon-glitch tr:nth-child(even) td {
    background: rgba(0, 255, 255, 0.05);
}

.models-table.neon-glitch tr:hover td,
.quantum-table.neon-glitch tr:hover td {
    background: rgba(255, 255, 0, 0.1);
    color: #ffff00;
    transform: translateX(10px);
    box-shadow: -5px 0 15px rgba(255, 255, 0, 0.5);
}

/* Efecto glitch en hover */
.models-table.neon-glitch tr:hover td::before,
.quantum-table.neon-glitch tr:hover td::before {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 2px;
    color: #ff00ff;
    background: #0a0a1a;
    overflow: hidden;
    clip-path: inset(0 0 0 0);
    animation: glitch-anim 0.3s infinite;
    z-index: 3;
}

@keyframes glitch-anim {
    0% { clip-path: inset(10% 0 90% 0); }
    20% { clip-path: inset(30% 0 70% 0); }
    40% { clip-path: inset(50% 0 50% 0); }
    60% { clip-path: inset(70% 0 30% 0); }
    80% { clip-path: inset(90% 0 10% 0); }
    100% { clip-path: inset(100% 0 0 0); }
}

/* Constructor de Configuraciones - Estilo Glitch */
.config-container-glitch {
    background: linear-gradient(135deg, 
        rgba(255, 0, 255, 0.1), 
        rgba(0, 255, 255, 0.1));
    border: 2px solid;
    border-image: linear-gradient(45deg, #ff00ff, #00ffff) 1;
    padding: 25px;
    margin: 25px 0;
    font-family: 'Arial Black', sans-serif;
    position: relative;
    animation: glitch-bg 5s infinite alternate;
}

@keyframes glitch-bg {
    0% { background-position: 0% 0%; }
    100% { background-position: 100% 100%; }
}

.config-display-glitch {
    background: rgba(0, 0, 0, 0.8);
    border: 1px solid;
    border-image: linear-gradient(90deg, #ff00ff, #00ffff) 1;
    padding: 20px;
    margin: 20px 0;
    color: #00ffff;
    font-size: 1.2rem;
    font-weight: bold;
    letter-spacing: 3px;
    position: relative;
    overflow: hidden;
    text-shadow: 0 0 10px #00ffff;
}

.config-display-glitch::before,
.config-display-glitch::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    padding: 20px;
}

.config-display-glitch::before {
    color: #ff00ff;
    z-index: -1;
    animation: glitch-1 0.5s infinite;
}

.config-display-glitch::after {
    color: #ffff00;
    z-index: -2;
    animation: glitch-2 0.7s infinite;
}

@keyframes glitch-1 {
    0% { transform: translate(0); }
    20% { transform: translate(-3px, 3px); }
    40% { transform: translate(-3px, -3px); }
    60% { transform: translate(3px, 3px); }
    80% { transform: translate(3px, -3px); }
    100% { transform: translate(0); }
}

@keyframes glitch-2 {
    0% { transform: translate(0); }
    10% { transform: translate(2px, -2px); }
    30% { transform: translate(-2px, 2px); }
    50% { transform: translate(2px, 2px); }
    70% { transform: translate(-2px, -2px); }
    90% { transform: translate(2px, -2px); }
    100% { transform: translate(0); }
}

.orbital-box-glitch {
    background: linear-gradient(135deg, 
        rgba(255, 0, 255, 0.3), 
        rgba(0, 255, 255, 0.3));
    border: 2px solid transparent;
    border-image: linear-gradient(45deg, #ff00ff, #00ffff) 1;
    color: #ffffff;
    padding: 15px;
    text-align: center;
    font-weight: bold;
    position: relative;
    transition: all 0.3s;
    text-shadow: 0 0 5px #fff;
}

.orbital-box-glitch:hover {
    transform: scale(1.15) rotate(5deg);
    box-shadow: 0 0 30px #ff00ff, 0 0 60px #00ffff;
    animation: box-glitch 0.2s;
}

@keyframes box-glitch {
    0% { transform: scale(1.15) rotate(5deg); }
    50% { transform: scale(1.15) rotate(-5deg) translateX(5px); }
    100% { transform: scale(1.15) rotate(5deg); }
}

/* Visualizaci칩n 3D - Estilo Glitch */
.orbital-visualization-glitch {
    background: 
        linear-gradient(135deg, #0a0a1a, #1a1a2a),
        repeating-linear-gradient(45deg, 
            transparent, 
            transparent 10px, 
            rgba(255, 0, 255, 0.1) 10px, 
            rgba(255, 0, 255, 0.1) 20px);
    border: 3px solid;
    border-image: linear-gradient(45deg, #ff00ff, #00ffff, #ffff00) 1;
    width: 300px;
    height: 300px;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    overflow: hidden;
    margin: 20px auto;
    animation: border-flicker 2s infinite alternate;
}

@keyframes border-flicker {
    0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% {
        border-image: linear-gradient(45deg, #ff00ff, #00ffff, #ffff00) 1;
    }
    20%, 24%, 55% {
        border-image: linear-gradient(45deg, #00ffff, #ffff00, #ff00ff) 1;
    }
}

.glitch-sphere {
    width: 120px;
    height: 120px;
    background: radial-gradient(circle at 30% 30%, 
        rgba(255, 0, 255, 0.9) 0%, 
        rgba(0, 255, 255, 0.6) 40%, 
        rgba(255, 255, 0, 0.3) 70%, 
        transparent 100%);
    border-radius: 50%;
    position: relative;
    animation: 
        sphere-rotate 10s linear infinite,
        sphere-pulse 2s ease-in-out infinite alternate,
        sphere-glitch 3s infinite;
    box-shadow: 
        0 0 50px #ff00ff,
        0 0 100px #00ffff,
        inset 0 0 50px rgba(255, 255, 255, 0.1);
}

@keyframes sphere-rotate {
    0% { transform: rotateY(0deg); }
    100% { transform: rotateY(360deg); }
}

@keyframes sphere-glitch {
    0%, 100% { filter: hue-rotate(0deg); }
    50% { filter: hue-rotate(180deg); }
}

.glitch-orbit {
    position: absolute;
    width: 200px;
    height: 200px;
    border: 1px dashed rgba(255, 255, 255, 0.3);
    border-radius: 50%;
    animation: orbit-rotate 5s linear infinite reverse;
}

.glitch-electron {
    width: 12px;
    height: 12px;
    background: linear-gradient(45deg, #ff00ff, #00ffff);
    border-radius: 50%;
    position: absolute;
    top: 50%;
    left: 0;
    transform: translate(-50%, -50%);
    box-shadow: 
        0 0 15px #ff00ff,
        0 0 30px #00ffff;
    animation: electron-move 2s linear infinite;
}

@keyframes electron-move {
    0% { 
        transform: rotate(0deg) translateX(100px) rotate(0deg);
        background: linear-gradient(45deg, #ff00ff, #00ffff);
    }
    50% {
        background: linear-gradient(45deg, #00ffff, #ffff00);
    }
    100% { 
        transform: rotate(360deg) translateX(100px) rotate(-360deg);
        background: linear-gradient(45deg, #ffff00, #ff00ff);
    }
}

/* Informaci칩n del Orbital - Estilo Glitch */
.orbital-info-glitch {
    background: linear-gradient(135deg, 
        rgba(255, 0, 255, 0.1), 
        rgba(0, 255, 255, 0.1));
    border: 2px solid;
    border-image: linear-gradient(45deg, #ff00ff, #00ffff) 1;
    padding: 20px;
    margin: 20px 0;
    font-family: 'Arial Black', sans-serif;
    color: #00ffff;
    position: relative;
    text-shadow: 0 0 10px #00ffff;
}

.orbital-info-glitch p {
    margin: 10px 0;
    padding: 5px 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.2);
    position: relative;
}

.orbital-info-glitch p::before {
    content: '郊';
    color: #ff00ff;
    margin-right: 10px;
    animation: blink 1s infinite;
}

/* Badges Glitch */
.badge-glitch {
    background: linear-gradient(135deg, 
        rgba(255, 0, 255, 0.8), 
        rgba(0, 255, 255, 0.8));
    color: #000;
    border: 2px solid #ffffff;
    padding: 10px 20px;
    font-family: 'Arial Black', sans-serif;
    font-weight: 900;
    text-transform: uppercase;
    letter-spacing: 3px;
    position: relative;
    overflow: hidden;
    text-shadow: 0 0 5px #fff;
    animation: badge-glitch-effect 2s infinite;
}

@keyframes badge-glitch-effect {
    0%, 100% { 
        transform: skew(0deg); 
        background: linear-gradient(135deg, #ff00ff, #00ffff);
    }
    50% { 
        transform: skew(5deg); 
        background: linear-gradient(135deg, #00ffff, #ffff00);
    }
}

.badge-glitch::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, 
        transparent, 
        rgba(255, 255, 255, 0.4), 
        transparent);
    animation: shine 2s infinite;
}

/* Inputs estilo glitch */
.glitch-input {
    background: rgba(0, 0, 0, 0.8);
    color: #00ffff;
    border: 2px solid transparent;
    border-image: linear-gradient(45deg, #ff00ff, #00ffff) 1;
    padding: 10px 15px;
    font-family: 'Arial Black', sans-serif;
    font-size: 1rem;
    outline: none;
    transition: all 0.3s;
    text-shadow: 0 0 5px #00ffff;
}

.glitch-input:focus {
    box-shadow: 
        0 0 20px #ff00ff,
        0 0 40px #00ffff;
    transform: scale(1.05);
}

.glitch-slider {
    width: 200px;
    height: 10px;
    background: linear-gradient(90deg, #ff00ff, #00ffff);
    border: 2px solid #000;
    -webkit-appearance: none;
    outline: none;
    border-radius: 5px;
}

.glitch-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 25px;
    height: 25px;
    background: linear-gradient(45deg, #ff00ff, #00ffff);
    border: 3px solid #000;
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 
        0 0 15px #ff00ff,
        0 0 30px #00ffff;
    animation: thumb-pulse 1s infinite alternate;
}

@keyframes thumb-pulse {
    0% { box-shadow: 0 0 15px #ff00ff, 0 0 30px #00ffff; }
    100% { box-shadow: 0 0 30px #00ffff, 0 0 60px #ff00ff; }
}
/* ============================================
   ESTILO 1: TERMINAL HACKER - MATRIX STYLE
   ============================================ */
.models-table,
.quantum-table {
    width: 100%;
    border-collapse: collapse;
    margin: 15px 0;
    font-family: 'Courier New', monospace;
    font-size: 0.9rem;
    border: 1px solid #00ff41;
    background: #000;
    position: relative;
    overflow: hidden;
}

.models-table::before,
.quantum-table::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 1px,
        rgba(0, 255, 65, 0.05) 1px,
        rgba(0, 255, 65, 0.05) 2px
    );
    pointer-events: none;
    z-index: 1;
}

.models-table th,
.quantum-table th {
    background: linear-gradient(to bottom, #003b00, #001a00);
    color: #00ff41;
    padding: 12px 10px;
    text-align: left;
    border-bottom: 2px solid #00ff41;
    font-weight: bold;
    position: relative;
    z-index: 2;
}

.models-table th::after,
.quantum-table th::after {
    content: '郊';
    color: #00ff41;
    position: absolute;
    right: 10px;
    opacity: 0.5;
    animation: blink 1s infinite;
}

.models-table td,
.quantum-table td {
    padding: 10px;
    border-bottom: 1px solid #003300;
    color: #00ffcc;
    position: relative;
    z-index: 2;
    transition: all 0.3s;
}

.models-table tr:nth-child(even) td,
.quantum-table tr:nth-child(even) td {
    background: rgba(0, 50, 0, 0.2);
}

.models-table tr:hover td,
.quantum-table tr:hover td {
    background: rgba(0, 255, 65, 0.1);
    color: #ffffff;
    text-shadow: 0 0 10px #00ff41;
    transform: translateX(5px);
}

.models-table tr:hover td::before,
.quantum-table tr:hover td::before {
    content: '>';
    color: #00ff41;
    position: absolute;
    left: -20px;
    font-weight: bold;
}

/* Efecto de terminal escribiendo */
@keyframes typing {
    from { width: 0 }
    to { width: 100% }
}

.models-table tr td:first-child,
.quantum-table tr td:first-child {
    animation: typing 0.5s steps(20, end);
}

/* Constructor de Configuraciones - Estilo Terminal */
.config-container {
    background: #000;
    border: 2px solid #00ff41;
    padding: 20px;
    margin: 20px 0;
    font-family: 'Courier New', monospace;
    position: relative;
}

.config-container::before {
    content: 'user@quantum:~$ ./electron_config.sh';
    position: absolute;
    top: -10px;
    left: 20px;
    background: #000;
    color: #00ff41;
    padding: 0 10px;
    font-size: 0.8rem;
}

.config-display {
    background: #001a00;
    border: 1px solid #003300;
    padding: 15px;
    margin: 15px 0;
    color: #00ffcc;
    font-family: 'Courier New', monospace;
    font-size: 1.1rem;
    letter-spacing: 2px;
    position: relative;
    overflow: hidden;
}

.config-display::after {
    content: '郊';
    color: #00ff41;
    animation: blink 1s infinite;
    margin-left: 2px;
}

.orbital-box {
    background: #003300;
    border: 1px solid #00ff41;
    color: #00ffcc;
    padding: 10px;
    text-align: center;
    font-family: 'Courier New', monospace;
    position: relative;
    transition: all 0.3s;
}

.orbital-box:hover {
    background: #00ff41;
    color: #000;
    transform: scale(1.1);
    box-shadow: 0 0 15px #00ff41;
}

.orbital-box.filled {
    background: linear-gradient(45deg, #00ff41, #00cc33);
    color: #000;
    font-weight: bold;
}

.orbital-box.half-filled {
    background: linear-gradient(45deg, #003300, #006600);
    color: #00ff41;
}

/* Informaci칩n del Orbital - Estilo Terminal */
.orbital-info-terminal {
    background: #000;
    border: 2px solid #00ff41;
    padding: 15px;
    margin: 15px 0;
    font-family: 'Courier New', monospace;
    color: #00ffcc;
    position: relative;
}

.orbital-info-terminal::before {
    content: 'quantum@orbital:~$ cat orbital_data.txt';
    position: absolute;
    top: -10px;
    left: 20px;
    background: #000;
    color: #00ff41;
    padding: 0 10px;
    font-size: 0.8rem;
}

.orbital-info-terminal p {
    margin: 8px 0;
    padding-left: 20px;
    position: relative;
}

.orbital-info-terminal p::before {
    content: '';
    color: #00ff41;
    position: absolute;
    left: 0;
}

/* Visualizaci칩n 3D - Estilo Matrix */
.orbital-visualization {
    background: #000;
    border: 2px solid #00ff41;
    width: 300px;
    height: 300px;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    overflow: hidden;
    margin: 20px auto;
}

.orbital-visualization::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(45deg, 
        transparent 0%, 
        rgba(0, 255, 65, 0.1) 50%, 
        transparent 100%);
    animation: matrix-scan 3s linear infinite;
}

@keyframes matrix-scan {
    0% { transform: translateY(-100%); }
    100% { transform: translateY(100%); }
}

.orbital-grid {
    position: absolute;
    width: 100%;
    height: 100%;
    background: 
        linear-gradient(to right, rgba(0, 255, 65, 0.1) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(0, 255, 65, 0.1) 1px, transparent 1px);
    background-size: 20px 20px;
    z-index: 1;
}

.orbital-sphere {
    width: 100px;
    height: 100px;
    background: radial-gradient(circle, 
        rgba(0, 255, 65, 0.8) 0%, 
        rgba(0, 255, 65, 0.4) 30%, 
        rgba(0, 255, 65, 0.1) 70%, 
        transparent 100%);
    border-radius: 50%;
    position: relative;
    z-index: 2;
    animation: orbital-pulse 2s infinite alternate;
    box-shadow: 0 0 50px #00ff41;
}

@keyframes orbital-pulse {
    0% { transform: scale(0.8); opacity: 0.6; }
    100% { transform: scale(1.2); opacity: 1; }
}

.orbital-electron {
    width: 10px;
    height: 10px;
    background: #00ff41;
    border-radius: 50%;
    position: absolute;
    box-shadow: 0 0 10px #00ff41;
    animation: electron-rotation 3s linear infinite;
}

@keyframes electron-rotation {
    0% { 
        transform: rotate(0deg) translateX(50px) rotate(0deg);
        opacity: 1;
    }
    100% { 
        transform: rotate(360deg) translateX(50px) rotate(-360deg);
        opacity: 0.8;
    }
}

/* Badges Hacker */
.badge-hacker {
    background: linear-gradient(45deg, #000, #003300);
    color: #00ff41;
    border: 2px solid #00ff41;
    padding: 8px 15px;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 2px;
    position: relative;
    overflow: hidden;
}

.badge-hacker::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(45deg, 
        transparent 30%, 
        rgba(0, 255, 65, 0.1) 50%, 
        transparent 70%);
    animation: shine 3s infinite;
}

@keyframes shine {
    0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
    100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
}

/* Inputs estilo terminal */
.terminal-input {
    background: #000;
    color: #00ff41;
    border: 1px solid #003300;
    padding: 8px 12px;
    font-family: 'Courier New', monospace;
    font-size: 0.9rem;
    outline: none;
    transition: all 0.3s;
}

.terminal-input:focus {
    border-color: #00ff41;
    box-shadow: 0 0 10px rgba(0, 255, 65, 0.5);
}

.terminal-select {
    background: #000;
    color: #00ff41;
    border: 1px solid #003300;
    padding: 8px 12px;
    font-family: 'Courier New', monospace;
    font-size: 0.9rem;
    outline: none;
}

.terminal-select option {
    background: #001a00;
    color: #00ffcc;
}

/* Slider estilo terminal */
.terminal-slider {
    width: 200px;
    height: 8px;
    background: #003300;
    border: 1px solid #00ff41;
    -webkit-appearance: none;
    outline: none;
}

.terminal-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 20px;
    height: 20px;
    background: #00ff41;
    border: 2px solid #000;
    cursor: pointer;
    box-shadow: 0 0 10px #00ff41;
}

.terminal-slider::-moz-range-thumb {
    width: 20px;
    height: 20px;
    background: #00ff41;
    border: 2px solid #000;
    cursor: pointer;
    box-shadow: 0 0 10px #00ff41;
}
/* ============================================
   ESTILO 3: HOLOGR츼FICO SCI-FI - BLUE THEME
   ============================================ */
.models-table.holographic,
.quantum-table.holographic {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
    font-family: 'Orbitron', 'Arial Narrow', sans-serif;
    font-size: 0.9rem;
    background: rgba(0, 30, 60, 0.3);
    border: 1px solid rgba(0, 150, 255, 0.5);
    position: relative;
    backdrop-filter: blur(5px);
}

.models-table.holographic::before,
.quantum-table.holographic::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        repeating-linear-gradient(0deg, 
            transparent, 
            transparent 1px, 
            rgba(0, 150, 255, 0.1) 1px, 
            rgba(0, 150, 255, 0.1) 2px),
        radial-gradient(circle at 50% 50%, 
            rgba(0, 100, 200, 0.2) 0%, 
            transparent 70%);
    pointer-events: none;
    z-index: 1;
}

.models-table.holographic th,
.quantum-table.holographic th {
    background: linear-gradient(135deg, 
        rgba(0, 100, 200, 0.8), 
        rgba(0, 200, 255, 0.8));
    color: #ffffff;
    padding: 15px 10px;
    text-align: left;
    border-bottom: 2px solid #00aaff;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 2px;
    position: relative;
    z-index: 2;
    text-shadow: 0 0 10px rgba(0, 200, 255, 0.5);
    border-right: 1px solid rgba(0, 150, 255, 0.3);
}

.models-table.holographic th:last-child,
.quantum-table.holographic th:last-child {
    border-right: none;
}

.models-table.holographic th::after,
.quantum-table.holographic th::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 100%;
    height: 2px;
    background: linear-gradient(90deg, 
        transparent, 
        #00ffff, 
        #00aaff, 
        #00ffff, 
        transparent);
    animation: hologram-scan 3s linear infinite;
}

@keyframes hologram-scan {
    0% { background-position: -100% 0; }
    100% { background-position: 200% 0; }
}

.models-table.holographic td,
.quantum-table.holographic td {
    padding: 12px 10px;
    color: #aaddff;
    position: relative;
    z-index: 2;
    border-bottom: 1px solid rgba(0, 150, 255, 0.2);
    background: rgba(0, 50, 100, 0.2);
    transition: all 0.3s;
    border-right: 1px solid rgba(0, 150, 255, 0.1);
}

.models-table.holographic td:last-child,
.quantum-table.holographic td:last-child {
    border-right: none;
}

.models-table.holographic tr:nth-child(even) td,
.quantum-table.holographic tr:nth-child(even) td {
    background: rgba(0, 70, 140, 0.2);
}

.models-table.holographic tr:hover td,
.quantum-table.holographic tr:hover td {
    background: rgba(0, 200, 255, 0.15);
    color: #ffffff;
    text-shadow: 0 0 15px #00ffff;
    transform: translateY(-2px);
    box-shadow: 
        0 5px 15px rgba(0, 150, 255, 0.3),
        inset 0 0 20px rgba(0, 200, 255, 0.1);
}

.models-table.holographic tr:hover td::before,
.quantum-table.holographic tr:hover td::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(45deg, 
        transparent 30%, 
        rgba(0, 200, 255, 0.1) 50%, 
        transparent 70%);
    animation: cell-glow 2s infinite;
    z-index: -1;
}

@keyframes cell-glow {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 0.7; }
}

/* Constructor de Configuraciones - Estilo Hologr치fico */
.config-container-holo {
    background: rgba(0, 30, 60, 0.5);
    border: 1px solid rgba(0, 150, 255, 0.5);
    padding: 25px;
    margin: 25px 0;
    font-family: 'Orbitron', sans-serif;
    position: relative;
    backdrop-filter: blur(10px);
    box-shadow: 
        0 0 30px rgba(0, 100, 200, 0.3),
        inset 0 0 50px rgba(0, 150, 255, 0.1);
}

.config-container-holo::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        repeating-linear-gradient(90deg, 
            transparent, 
            transparent 2px, 
            rgba(0, 150, 255, 0.05) 2px, 
            rgba(0, 150, 255, 0.05) 4px),
        repeating-linear-gradient(0deg, 
            transparent, 
            transparent 2px, 
            rgba(0, 150, 255, 0.05) 2px, 
            rgba(0, 150, 255, 0.05) 4px);
    pointer-events: none;
}

.config-display-holo {
    background: rgba(0, 20, 40, 0.8);
    border: 1px solid rgba(0, 200, 255, 0.6);
    padding: 20px;
    margin: 20px 0;
    color: #00ffff;
    font-family: 'Orbitron', monospace;
    font-size: 1.3rem;
    letter-spacing: 3px;
    position: relative;
    overflow: hidden;
    text-shadow: 0 0 10px #00ffff;
    animation: text-glow 2s infinite alternate;
}

@keyframes text-glow {
    0% { text-shadow: 0 0 10px #00ffff, 0 0 20px #00aaff; }
    100% { text-shadow: 0 0 20px #00ffff, 0 0 40px #00aaff; }
}

.config-display-holo::after {
    content: '郊';
    color: #00ffff;
    animation: blink 1s infinite;
    margin-left: 5px;
}

.orbital-box-holo {
    background: rgba(0, 50, 100, 0.5);
    border: 1px solid rgba(0, 200, 255, 0.6);
    color: #aaddff;
    padding: 12px;
    text-align: center;
    font-family: 'Orbitron', sans-serif;
    position: relative;
    transition: all 0.3s;
    backdrop-filter: blur(5px);
}

.orbital-box-holo:hover {
    background: rgba(0, 150, 255, 0.3);
    color: #ffffff;
    transform: translateY(-5px);
    box-shadow: 
        0 10px 20px rgba(0, 150, 255, 0.4),
        0 0 30px rgba(0, 200, 255, 0.6);
}

.orbital-box-holo.filled {
    background: linear-gradient(135deg, 
        rgba(0, 150, 255, 0.8), 
        rgba(0, 200, 255, 0.8));
    color: #000;
    font-weight: bold;
    box-shadow: 
        0 0 20px rgba(0, 200, 255, 0.8),
        inset 0 0 20px rgba(255, 255, 255, 0.3);
}

/* Visualizaci칩n 3D - Estilo Hologr치fico */
.orbital-visualization-holo {
    background: 
        radial-gradient(circle at center, 
            rgba(0, 100, 200, 0.2) 0%, 
            rgba(0, 30, 60, 0.8) 70%),
        repeating-linear-gradient(45deg, 
            transparent, 
            transparent 10px, 
            rgba(0, 150, 255, 0.1) 10px, 
            rgba(0, 150, 255, 0.1) 20px);
    border: 2px solid rgba(0, 200, 255, 0.6);
    width: 300px;
    height: 300px;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    overflow: hidden;
    margin: 20px auto;
    backdrop-filter: blur(5px);
    box-shadow: 
        0 0 50px rgba(0, 150, 255, 0.3),
        inset 0 0 50px rgba(0, 200, 255, 0.2);
}

.hologram-grid {
    position: absolute;
    width: 100%;
    height: 100%;
    background: 
        linear-gradient(90deg, rgba(0, 150, 255, 0.1) 1px, transparent 1px),
        linear-gradient(0deg, rgba(0, 150, 255, 0.1) 1px, transparent 1px);
    background-size: 30px 30px;
    animation: grid-move 20s linear infinite;
    z-index: 1;
}

@keyframes grid-move {
    0% { transform: perspective(500px) rotateX(60deg) translateY(0); }
    100% { transform: perspective(500px) rotateX(60deg) translateY(30px); }
}

.holo-sphere {
    width: 100px;
    height: 100px;
    background: 
        radial-gradient(circle at 30% 30%, 
            rgba(0, 200, 255, 0.9) 0%, 
            rgba(0, 150, 255, 0.6) 30%, 
            rgba(0, 100, 200, 0.3) 60%, 
            transparent 100%);
    border-radius: 50%;
    position: relative;
    z-index: 2;
    animation: 
        holo-float 3s ease-in-out infinite alternate,
        holo-rotate 10s linear infinite;
    box-shadow: 
        0 0 60px rgba(0, 200, 255, 0.8),
        0 0 120px rgba(0, 150, 255, 0.6),
        inset 0 0 30px rgba(255, 255, 255, 0.3);
}

@keyframes holo-float {
    0% { transform: translateY(-20px); }
    100% { transform: translateY(20px); }
}

@keyframes holo-rotate {
    0% { transform: rotateX(0deg) rotateY(0deg); }
    100% { transform: rotateX(360deg) rotateY(360deg); }
}

.holo-electron {
    width: 8px;
    height: 8px;
    background: #00ffff;
    border-radius: 50%;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    box-shadow: 0 0 20px #00ffff;
    animation: holo-orbit 3s linear infinite;
}

@keyframes holo-orbit {
    0% { 
        transform: rotate(0deg) translateX(80px) rotate(0deg);
        opacity: 1;
    }
    50% { opacity: 0.5; }
    100% { 
        transform: rotate(360deg) translateX(80px) rotate(-360deg);
        opacity: 1;
    }
}

/* Informaci칩n del Orbital - Estilo Hologr치fico */
.orbital-info-holo {
    background: rgba(0, 30, 60, 0.5);
    border: 1px solid rgba(0, 200, 255, 0.6);
    padding: 20px;
    margin: 20px 0;
    font-family: 'Orbitron', sans-serif;
    color: #aaddff;
    position: relative;
    backdrop-filter: blur(5px);
}

.orbital-info-holo p {
    margin: 12px 0;
    padding: 8px 0;
    border-bottom: 1px solid rgba(0, 150, 255, 0.3);
    position: relative;
}

.orbital-info-holo p::before {
    content: '郊';
    color: #00ffff;
    margin-right: 15px;
    text-shadow: 0 0 10px #00ffff;
    animation: holo-blink 1.5s infinite;
}

@keyframes holo-blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.3; }
}

/* Badges Hologr치ficos */
.badge-holo {
    background: linear-gradient(135deg, 
        rgba(0, 150, 255, 0.8), 
        rgba(0, 200, 255, 0.8));
    color: #ffffff;
    border: 1px solid rgba(0, 200, 255, 0.8);
    padding: 10px 20px;
    font-family: 'Orbitron', sans-serif;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 2px;
    position: relative;
    overflow: hidden;
    text-shadow: 0 0 10px rgba(0, 200, 255, 0.5);
    backdrop-filter: blur(5px);
    animation: badge-float 2s ease-in-out infinite alternate;
}

@keyframes badge-float {
    0% { transform: translateY(0); box-shadow: 0 5px 15px rgba(0, 150, 255, 0.4); }
    100% { transform: translateY(-5px); box-shadow: 0 15px 30px rgba(0, 150, 255, 0.6); }
}

.badge-holo::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(45deg, 
        transparent 30%, 
        rgba(255, 255, 255, 0.2) 50%, 
        transparent 70%);
    animation: holo-shine 3s infinite;
}

/* Inputs estilo hologr치fico */
.holo-input {
    background: rgba(0, 30, 60, 0.7);
    color: #00ffff;
    border: 1px solid rgba(0, 200, 255, 0.6);
    padding: 10px 15px;
    font-family: 'Orbitron', sans-serif;
    font-size: 1rem;
    outline: none;
    transition: all 0.3s;
    backdrop-filter: blur(5px);
}

.holo-input:focus {
    border-color: #00ffff;
    box-shadow: 
        0 0 20px rgba(0, 200, 255, 0.6),
        inset 0 0 20px rgba(0, 150, 255, 0.2);
    background: rgba(0, 50, 100, 0.7);
}

.holo-slider {
    width: 200px;
    height: 8px;
    background: linear-gradient(90deg, 
        rgba(0, 100, 200, 0.5), 
        rgba(0, 200, 255, 0.8));
    border: 1px solid rgba(0, 150, 255, 0.6);
    -webkit-appearance: none;
    outline: none;
    border-radius: 4px;
    backdrop-filter: blur(5px);
}

.holo-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 22px;
    height: 22px;
    background: linear-gradient(135deg, #00aaff, #00ffff);
    border: 2px solid rgba(255, 255, 255, 0.8);
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 
        0 0 15px rgba(0, 200, 255, 0.8),
        0 0 30px rgba(0, 150, 255, 0.6);
    animation: holo-thumb-pulse 1.5s infinite alternate;
}

@keyframes holo-thumb-pulse {
    0% { box-shadow: 0 0 15px rgba(0, 200, 255, 0.8), 0 0 30px rgba(0, 150, 255, 0.6); }
    100% { box-shadow: 0 0 25px rgba(0, 200, 255, 1), 0 0 50px rgba(0, 150, 255, 0.8); }
}

/* CSS CYBERPUNK 8BIT - LECCI칍N QU칈MICA */
/* Estilo retro con paleta ne칩n */

/* ===== RESET Y BASE CYBERPUNK ===== */
.content-body {
    font-family: 'Courier New', monospace;
    line-height: 1.6;
    background: #0a0a14;
    color: #00ffea;
    padding: 20px;
}

/* ===== HEADER CYBERPUNK ===== */
.content-header {
    background: #000000;
    color: #ff00ff;
    padding: 2rem;
    margin-bottom: 2rem;
    position: relative;
    overflow: hidden;
    border: 4px solid #00ffea;
    border-radius: 0;
    box-shadow: 
        0 0 20px #00ffea,
        inset 0 0 20px rgba(0, 255, 234, 0.1);
}

.content-header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        repeating-linear-gradient(
            0deg,
            transparent,
            transparent 2px,
            rgba(0, 255, 234, 0.05) 2px,
            rgba(0, 255, 234, 0.05) 4px
        );
}

.materia-tag {
    display: inline-block;
    background: #ff00ff;
    color: #000;
    padding: 0.3rem 1rem;
    border-radius: 0;
    font-weight: bold;
    margin-bottom: 1rem;
    font-size: 0.9rem;
    border: 2px solid #00ffea;
    font-family: 'Courier New', monospace;
    text-transform: uppercase;
    letter-spacing: 2px;
    box-shadow: 0 0 10px #ff00ff;
}

.learning-goals {
    background: rgba(0, 0, 0, 0.8);
    padding: 1.5rem;
    margin-top: 1rem;
    border: 3px solid #ff00ff;
    border-style: dashed;
    position: relative;
}

.learning-goals::before {
    content: '>> ';
    color: #00ffea;
    position: absolute;
    left: 10px;
    top: -15px;
    font-weight: bold;
    font-size: 1.2rem;
}

.learning-goals h3 {
    margin-top: 0;
    color: #ff5500;
    font-family: 'Courier New', monospace;
    text-transform: uppercase;
    letter-spacing: 1px;
    border-bottom: 2px solid #ff5500;
    padding-bottom: 0.5rem;
    text-shadow: 0 0 5px #ff5500;
}

.learning-goals ul {
    padding-left: 1.5rem;
    margin-bottom: 0;
    list-style-type: '郊 ';
}

.learning-goals li {
    margin-bottom: 0.5rem;
    line-height: 1.4;
    color: #00ffea;
    text-shadow: 0 0 3px #00ffea;
}

/* ===== TEOR칈A CYBERPUNK ===== */
.theory-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    margin: 2rem 0;
}

.theory-card {
    background: #000000;
    padding: 1.5rem;
    border: 3px solid #00ffea;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
    border-radius: 0;
}

.theory-card::before {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    background: linear-gradient(45deg, #ff00ff, #00ffea, #ff5500, #ffff00);
    z-index: -1;
    animation: pixelBorder 4s linear infinite;
}

.theory-card:hover {
    transform: translate(-4px, -4px);
    box-shadow: 
        8px 8px 0 #ff00ff,
        0 0 20px rgba(0, 255, 234, 0.5);
}

@keyframes pixelBorder {
    0% { background-position: 0% 50%; }
    100% { background-position: 100% 50%; }
}

.theory-card h4 {
    color: #ffff00;
    margin-top: 0;
    border-bottom: 2px solid #ff00ff;
    padding-bottom: 0.5rem;
    font-family: 'Courier New', monospace;
    text-transform: uppercase;
    letter-spacing: 1px;
    text-shadow: 0 0 5px #ffff00;
}

/* ===== TABLA CYBERPUNK ===== */
.classification-table {
    width: 100%;
    border-collapse: collapse;
    margin: 2rem 0;
    border: 3px solid #ff00ff;
    font-family: 'Courier New', monospace;
}

.classification-table th {
    background: #000000;
    color: #00ffea;
    padding: 1rem;
    text-align: left;
    font-weight: bold;
    border-bottom: 2px solid #00ffea;
    border-right: 2px solid #ff00ff;
    text-transform: uppercase;
    letter-spacing: 1px;
    text-shadow: 0 0 3px #00ffea;
}

.classification-table th:last-child {
    border-right: none;
}

.classification-table td {
    padding: 1rem;
    border-bottom: 1px solid #00ffea;
    border-right: 2px solid #ff00ff;
    vertical-align: top;
    color: #ffffff;
}

.classification-table td:last-child {
    border-right: none;
}

.classification-table tbody tr:hover {
    background-color: rgba(255, 0, 255, 0.1);
    box-shadow: inset 0 0 10px #ff00ff;
}

.subtype {
    padding-left: 2rem !important;
    color: #00ffea !important;
    font-style: normal;
    text-shadow: 0 0 2px #00ffea;
}

/* ===== DIAGRAMA CYBERPUNK ===== */
.diagram-container {
    background: #000000;
    padding: 2rem;
    margin: 2rem 0;
    border: 4px solid #ff5500;
    position: relative;
    overflow: hidden;
}

.diagram-container::before {
    content: 'INTERFACE ACTIVE';
    position: absolute;
    top: 10px;
    right: 10px;
    color: #ff5500;
    font-size: 0.8rem;
    font-family: 'Courier New', monospace;
    animation: blink 1s infinite;
}

@keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.3; }
}

.clickable {
    cursor: pointer;
    transition: all 0.3s ease;
}

.clickable:hover {
    filter: drop-shadow(0 0 8px #ff00ff);
    transform: scale(1.05);
}

#matterDiagram text {
    font-family: 'Courier New', monospace;
    font-weight: bold;
    text-shadow: 0 0 3px currentColor;
}

.diagram-info {
    background: #000000;
    padding: 1rem;
    margin-top: 1rem;
    border: 2px solid #00ffea;
    border-style: dashed;
    min-height: 60px;
    display: flex;
    align-items: center;
    font-family: 'Courier New', monospace;
    color: #ffff00;
    text-shadow: 0 0 3px #ffff00;
}

/* ===== SIMULADOR CYBERPUNK ===== */
.simulator-container {
    display: grid;
    grid-template-columns: 280px 1fr;
    gap: 1.8rem;
    background: #000000;
    padding: 1.8rem;
    margin: 2rem 0;
    border: 4px solid #ffff00;
    position: relative;
    align-items: start;
    min-height: 650px;
}

.simulator-container::after {
    content: 'v1.0';
    position: absolute;
    bottom: 5px;
    right: 10px;
    color: #ffff00;
    font-size: 0.7rem;
    opacity: 0.7;
}

/* Controls column (left) */
.simulator-controls {
    display: flex;
    flex-direction: column;
    gap: 0.8rem;
    padding-right: 0.5rem;
    max-height: 600px;
    overflow-y: auto;
    scroll-behavior: smooth;
}

.simulator-controls::-webkit-scrollbar {
    width: 6px;
}

.simulator-controls::-webkit-scrollbar-track {
    background: rgba(255, 255, 0, 0.1);
}

.simulator-controls::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 0, 0.4);
    border-radius: 3px;
}

.simulator-controls::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 0, 0.6);
}

.control-group {
    display: flex;
    flex-direction: column;
    gap: 0.4rem;
    padding: 0.6rem 0.6rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
    border-left: 2px solid rgba(255, 255, 0, 0.3);
}

.control-group label {
    font-weight: bold;
    color: #ff00ff;
    font-family: 'Courier New', monospace;
    text-transform: uppercase;
    letter-spacing: 1px;
    text-shadow: 0 0 3px #ff00ff;
}

.control-group input[type="range"] {
    width: 100%;
    height: 8px;
    background: #000000;
    border: 2px solid #00ffea;
    outline: none;
    -webkit-appearance: none;
    border-radius: 0;
}

.control-group input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 18px;
    height: 18px;
    background: #ff00ff;
    border: 2px solid #00ffea;
    cursor: pointer;
    box-shadow: 0 0 8px #ff00ff;
}

.control-group select {
    padding: 0.5rem 0.6rem;
    background: #000000;
    color: #00ffea;
    border: 2px solid #ff5500;
    font-family: 'Courier New', monospace;
    font-size: 0.9rem;
    text-transform: uppercase;
    width: 100%;
}

.control-group select option {
    background: #000000;
    color: #00ffea;
}

/* Visual area (right) */
.simulator-visualization {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    overflow: hidden;
}

.simulator-visual { 
    padding: 0.8rem; 
    flex: 1;
    overflow: auto;
}

.reactions-display { 
    display: grid; 
    grid-template-columns: 1fr;
    gap: 1rem; 
    align-items: start; 
}
.formula { background: rgba(255,255,255,0.02); padding: 0.8rem; border-radius: 6px; }
.result { background: rgba(255,255,255,0.03); padding: 0.8rem; border-radius: 6px; }

/* pH scale */
.ph-display { font-size: 2.4rem; font-weight: 700; text-align: center; padding: 0.6rem; border-radius: 6px; background: rgba(255,255,255,0.02); }
.ph-scale { margin-top: 0.6rem; }
.scale-bar { position: relative; height: 12px; background: linear-gradient(90deg, #00FF00 0%, #FFFF00 40%, #FFA500 65%, #FF0000 85%, #8B0000 100%); border-radius: 6px; overflow: hidden; }
.ph-indicator { position: absolute; top: -6px; width: 12px; height: 24px; background: #ffffff; border: 2px solid #000; border-radius: 3px; transform: translateX(-50%); box-shadow: 0 0 6px rgba(0,0,0,0.6); }
.scale-labels { display:flex; justify-content:space-between; margin-top:6px; font-size:0.85rem; }

.classification { margin-top: 8px; font-weight:700; }

/* Effects grid */
.effects-display { display: grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap: 0.6rem; margin-top: 1rem; }
.effect { display: flex; gap: 0.6rem; align-items: center; padding: 0.6rem; border-radius: 6px; background: rgba(255,255,255,0.02); opacity: 0.6; transition: transform 180ms, opacity 180ms; }
.effect .effect-icon { font-size: 1.6rem; }

/* Explanation sits below on small screens */
.simulator-explanation { grid-column: 1 / -1; margin-top: 1rem; }

/* Small screens: stack columns */
@media (max-width: 900px) {
    .simulator-container { grid-template-columns: 1fr; }
    .reactions-display { grid-template-columns: 1fr; }
    .simulator-controls { order: 1; }
    .simulator-visual { order: 2; }
    .simulator-explanation { order: 3; }
}

/* QUIZ OPTION STYLES (pollution quiz) - styled to app theme, avoid white elements */
.quiz-container {
    background: var(--bg-card) !important;
    border: 3px solid var(--neon-cyan);
    padding: 1rem;
    border-radius: 8px;
    color: var(--text-light);
}

.quiz-option {
    display:block;
    width:100%;
    text-align:left;
    padding:0.6rem;
    margin-bottom:0.5rem;
    border:1px solid rgba(255,255,255,0.06);
    background: transparent;
    color: var(--neon-yellow);
    cursor: pointer;
    transition: background 120ms ease, color 120ms ease, transform 120ms ease;
    border-radius: 6px;
}
.quiz-option:hover { background: rgba(255,255,255,0.03); color: var(--text-dark); transform: translateY(-1px); }
.quiz-option.disabled { opacity: 0.6; pointer-events: none; }
.quiz-option.correct-selected { border-color: #00FF00; box-shadow: 0 0 8px rgba(0,255,0,0.12); background: rgba(0,255,0,0.06); color: #000; }
.quiz-option.incorrect-selected { border-color: #ff4444; box-shadow: 0 0 8px rgba(255,0,0,0.12); background: rgba(255,0,0,0.06); color: #fff; }

.quiz-feedback { margin-top: 0.6rem; color: var(--text-light); }
.correct-feedback { color: #00FF00; font-weight:700; }
.incorrect-feedback { color: #ff4444; font-weight:700; }

/* minor accessibility */
.quiz-reset { margin-top: 0.6rem; background: transparent; border: 2px solid var(--neon-cyan); color: var(--neon-cyan); padding: 6px 10px; border-radius:6px; cursor:pointer; }

/* Neutralizar fondos blancos inline dentro de lecciones y asegurar estilo app */
.content-body [style*="background:#fff"], .content-body [style*="background: #fff"], .content-body [style*="background:#ffffff"], .content-body [style*="background: #ffffff"] {
    background: var(--bg-card) !important;
    color: var(--text-light) !important;
    border-color: rgba(255,255,255,0.04) !important;
}

/* Mejoras visuales para encabezado y tablas de la lecci칩n */
.content-header { margin-bottom: 1rem; padding: 1rem; background: rgba(255,255,255,0.02); border-left: 6px solid var(--neon-yellow); border-radius: 6px; }
.learning-goals h3 { margin: 0 0 8px 0; }
.classification-table { width: 100%; border-collapse: collapse; background: var(--bg-card); color: var(--text-light); }
.classification-table th, .classification-table td { border: 1px solid rgba(255,255,255,0.04); padding: 8px; }
.classification-table thead th { background: rgba(255,255,255,0.03); color: var(--neon-yellow); }

/* Focus styles for keyboard accessibility */
.quiz-option:focus { outline: 3px solid var(--neon-cyan); outline-offset: 2px; }


.simulator-visual {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    align-items: center;
    margin-bottom: 2rem;
}

@media (max-width: 768px) {
    .simulator-visual {
        grid-template-columns: 1fr;
    }
}

.density-display {
    text-align: center;
    padding: 1.5rem;
    background: #000000;
    border: 3px solid #ff00ff;
}

.formula {
    font-size: 3rem;
    margin-bottom: 1rem;
    color: #ffff00;
    font-family: 'Courier New', monospace;
    text-shadow: 0 0 10px #ffff00;
}

.beaker-container {
    text-align: center;
}

.beaker {
    position: relative;
    width: 150px;
    height: 200px;
    margin: 0 auto;
    border: 3px solid #00ffea;
    background: rgba(0, 255, 234, 0.1);
    overflow: hidden;
}

.beaker::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        repeating-linear-gradient(
            90deg,
            transparent,
            transparent 4px,
            rgba(0, 255, 234, 0.1) 4px,
            rgba(0, 255, 234, 0.1) 8px
        );
}

.liquid {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: #ff00ff;
    opacity: 0.8;
    transition: height 0.5s ease;
    box-shadow: 0 0 20px #ff00ff;
}

.object {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    background: #ffff00;
    border-radius: 0;
    transition: all 0.5s ease;
    border: 2px solid #ff5500;
    box-shadow: 0 0 15px #ffff00;
}

.beaker-label {
    margin-top: 0.5rem;
    font-weight: bold;
    color: #00ffea;
    font-family: 'Courier New', monospace;
    text-transform: uppercase;
    text-shadow: 0 0 3px #00ffea;
}

.density-explanation {
    background: #000000;
    padding: 1.5rem;
    border: 3px solid #ff5500;
    font-family: 'Courier New', monospace;
}

.density-explanation h4 {
    color: #ff00ff;
    text-transform: uppercase;
    letter-spacing: 1px;
    text-shadow: 0 0 5px #ff00ff;
}

.density-explanation li {
    color: #00ffea;
    text-shadow: 0 0 2px #00ffea;
    margin-bottom: 0.5rem;
}

/* ===== QUIZ CYBERPUNK ===== */
.quiz-container {
    background: #000000;
    padding: 2rem;
    margin: 2rem 0;
    border: 4px solid #ff00ff;
    position: relative;
}

.quiz-container::before {
    content: 'QUIZ MODE';
    position: absolute;
    top: -10px;
    left: 20px;
    background: #000;
    color: #ff00ff;
    padding: 0 10px;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    text-transform: uppercase;
}

.quiz-question {
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
    border-bottom: 2px dashed #00ffea;
}

.quiz-question:last-child {
    border-bottom: none;
}

.quiz-question p {
    color: #ffff00;
    font-weight: bold;
    text-shadow: 0 0 3px #ffff00;
}

.quiz-options {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    margin-top: 1rem;
}

.quiz-option {
    padding: 1rem;
    background: #000000;
    color: #00ffea;
    border: 2px solid #00ffea;
    text-align: left;
    font-family: 'Courier New', monospace;
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.2s ease;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.quiz-option:hover {
    background: rgba(0, 255, 234, 0.1);
    transform: translateX(8px);
    box-shadow: -8px 0 0 #ff00ff;
}

.quiz-option:disabled {
    cursor: not-allowed;
    opacity: 0.7;
}

.quiz-feedback {
    margin: 1.5rem 0;
    padding: 1rem;
    background: #000000;
    border: 2px solid #ffff00;
    min-height: 60px;
    font-family: 'Courier New', monospace;
}

.correct-feedback {
    color: #00ff00;
    background: rgba(0, 255, 0, 0.1);
    padding: 1rem;
    border-left: 4px solid #00ff00;
    text-shadow: 0 0 3px #00ff00;
}

.incorrect-feedback {
    color: #ff0000;
    background: rgba(255, 0, 0, 0.1);
    padding: 1rem;
    border-left: 4px solid #ff0000;
    text-shadow: 0 0 3px #ff0000;
}

.quiz-reset {
    background: #000000;
    color: #ff5500;
    border: 2px solid #ff5500;
    padding: 0.8rem 1.5rem;
    font-family: 'Courier New', monospace;
    cursor: pointer;
    font-size: 1rem;
    transition: all 0.3s ease;
    text-transform: uppercase;
    letter-spacing: 2px;
}

.quiz-reset:hover {
    background: #ff5500;
    color: #000;
    box-shadow: 0 0 20px #ff5500;
}

/* ===== ERRORES CYBERPUNK ===== */
.errors-container {
    background: #000000;
    padding: 2rem;
    margin: 2rem 0;
    border: 4px solid #ff0000;
    position: relative;
}

.errors-container::before {
    content: 'WARNING';
    position: absolute;
    top: -12px;
    left: 20px;
    background: #000;
    color: #ff0000;
    padding: 0 10px;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    text-transform: uppercase;
}

.error-card {
    background: #000000;
    padding: 1.5rem;
    margin-bottom: 1rem;
    border-left: 4px solid #ff5500;
    border-right: 4px solid #ff5500;
}

.error-card h4 {
    color: #ff0000;
    margin-top: 0;
    font-family: 'Courier New', monospace;
    text-transform: uppercase;
    letter-spacing: 1px;
    text-shadow: 0 0 5px #ff0000;
}

.error-example {
    background: #000000;
    color: #ff00ff;
    border: 2px solid #ff00ff;
    padding: 0.5rem 1rem;
    font-family: 'Courier New', monospace;
    cursor: pointer;
    margin-top: 0.5rem;
    transition: all 0.3s ease;
    text-transform: uppercase;
}

.error-example:hover {
    background: #ff00ff;
    color: #000;
    box-shadow: 0 0 15px #ff00ff;
}

.error-example-display {
    background: #000000;
    padding: 1.5rem;
    margin-top: 1rem;
    border: 2px dashed #ffff00;
    min-height: 100px;
    font-family: 'Courier New', monospace;
    color: #00ffea;
}

/* ===== CURRICULUM CYBERPUNK ===== */
.curriculum-connection {
    background: #000000;
    padding: 2rem;
    margin: 2rem 0;
    border: 4px solid #00ffea;
}

.curriculum-table {
    width: 100%;
    border-collapse: collapse;
    margin: 1rem 0;
    font-family: 'Courier New', monospace;
}

.curriculum-table th {
    background: #000000;
    color: #ff00ff;
    padding: 1rem;
    text-align: left;
    border: 2px solid #ff00ff;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.curriculum-table td {
    padding: 1rem;
    border: 2px solid #00ffea;
    color: #ffffff;
}

.curriculum-table tr:hover {
    background: rgba(255, 0, 255, 0.1);
}

.exam-tip {
    background: #000000;
    padding: 1rem;
    margin-top: 1rem;
    border: 3px solid #ffff00;
    font-family: 'Courier New', monospace;
}

.exam-tip strong {
    color: #ffff00;
    text-shadow: 0 0 3px #ffff00;
}

/* ===== PROBLEMAS EXAMEN CYBERPUNK ===== */
.exam-problems {
    display: grid;
    gap: 2rem;
    margin: 2rem 0;
}

.exam-problem {
    background: #000000;
    padding: 1.5rem;
    border: 3px solid #ff5500;
}

.exam-problem h4 {
    color: #ff00ff;
    margin-top: 0;
    font-family: 'Courier New', monospace;
    text-transform: uppercase;
    letter-spacing: 1px;
    border-bottom: 2px solid #ff00ff;
    padding-bottom: 0.5rem;
}

.answer-space {
    margin-top: 1rem;
}

.answer-space textarea {
    width: 100%;
    padding: 1rem;
    background: #000000;
    color: #00ffea;
    border: 2px solid #00ffea;
    font-family: 'Courier New', monospace;
    font-size: 0.9rem;
    resize: vertical;
}

.answer-space textarea::placeholder {
    color: #ff00ff;
    opacity: 0.7;
}

/* ===== METACOGNITIVO CYBERPUNK ===== */
.metacognitive-reflection {
    background: #000000;
    padding: 2rem;
    margin: 2rem 0;
    border: 4px solid #ffff00;
    position: relative;
}

.metacognitive-reflection::before {
    content: 'SYSTEM REFLECTION';
    position: absolute;
    top: -12px;
    left: 20px;
    background: #000;
    color: #ffff00;
    padding: 0 10px;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    text-transform: uppercase;
}

.reflection-question, .learning-check {
    background: rgba(0, 0, 0, 0.9);
    padding: 1.5rem;
    margin-bottom: 1.5rem;
    border: 2px solid #ff00ff;
}

.reflection-question h4, .learning-check h4 {
    color: #00ffea;
    text-transform: uppercase;
    letter-spacing: 1px;
    text-shadow: 0 0 3px #00ffea;
}

.checklist {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    margin-top: 1rem;
}

.checklist label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    cursor: pointer;
    color: #ffff00;
    text-shadow: 0 0 2px #ffff00;
}

.checklist input[type="checkbox"] {
    width: 18px;
    height: 18px;
    cursor: pointer;
    background: #000;
    border: 2px solid #00ffea;
    appearance: none;
    position: relative;
}

.checklist input[type="checkbox"]:checked {
    background: #ff00ff;
}

.checklist input[type="checkbox"]:checked::after {
    content: '九';
    position: absolute;
    color: #000;
    font-weight: bold;
    left: 3px;
    top: -1px;
}

/* ===== T칈TULOS CYBERPUNK ===== */
h2, h3, h4 {
    color: #ff00ff;
    margin-top: 1.5rem;
    margin-bottom: 1rem;
    font-family: 'Courier New', monospace;
    text-transform: uppercase;
    letter-spacing: 2px;
    text-shadow: 0 0 10px currentColor;
}

h2 {
    font-size: 2rem;
    border-bottom: 4px solid #00ffea;
    padding-bottom: 0.5rem;
    animation: glow 2s infinite alternate;
}

@keyframes glow {
    from { text-shadow: 0 0 10px #ff00ff, 0 0 20px #ff00ff; }
    to { text-shadow: 0 0 15px #ff00ff, 0 0 30px #ff00ff, 0 0 40px #ff00ff; }
}

h3 {
    font-size: 1.5rem;
    color: #00ffea;
    border-left: 4px solid #ff00ff;
    padding-left: 10px;
}

h4 {
    font-size: 1.2rem;
    color: #ffff00;
}

/* ===== SCROLLBAR CYBERPUNK ===== */
::-webkit-scrollbar {
    width: 12px;
}

::-webkit-scrollbar-track {
    background: #000000;
    border: 2px solid #00ffea;
}

::-webkit-scrollbar-thumb {
    background: #ff00ff;
    border: 2px solid #000000;
}

::-webkit-scrollbar-thumb:hover {
    background: #ffff00;
    box-shadow: 0 0 10px #ffff00;
}

/* ===== RESPONSIVE CYBERPUNK ===== */
@media (max-width: 768px) {
    .content-header {
        padding: 1rem;
    }
    
    .theory-grid {
        grid-template-columns: 1fr;
    }
    
    .simulator-controls {
        grid-template-columns: 1fr;
    }
    
    .classification-table {
        display: block;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }
    
    .classification-table::-webkit-scrollbar {
        height: 8px;
    }
    
    h2 {
        font-size: 1.5rem;
    }
    
    h3 {
        font-size: 1.2rem;
    }
}

/* ===== EFECTOS DE TEXTO CYBERPUNK ===== */
p, li, td {
    text-shadow: 0 0 1px currentColor;
}

strong {
    color: #ffff00;
    text-shadow: 0 0 3px #ffff00;
}

em {
    color: #ff5500;
    font-style: normal;
    text-shadow: 0 0 2px #ff5500;
}

/* ===== FOCO CYBERPUNK ===== */
:focus {
    outline: none;
    box-shadow: 
        0 0 10px #ff00ff,
        0 0 20px #00ffea,
        inset 0 0 10px rgba(255, 0, 255, 0.3);
}

/* ===== IMPRESI칍N CYBERPUNK ===== */
@media print {
    .content-body {
        background: black !important;
        color: black !important;
    }
    
    .content-header {
        background: #000 !important;
        color: #fff !important;
        border: 3px solid #000 !important;
    }
    
    .theory-card {
        border: 1px solid #000 !important;
        break-inside: avoid;
    }
    
    .simulator-controls,
    .quiz-options,
    .error-example,
    .quiz-reset,
    .answer-space textarea {
        display: none !important;
    }
    
    * {
        text-shadow: none !important;
        box-shadow: none !important;
    }
}

/* ===== PIXEL ART DECORATIONS ===== */
.pixel-corner {
    position: absolute;
    width: 10px;
    height: 10px;
    background: #ff00ff;
}

.pixel-corner-tl { top: -2px; left: -2px; }
.pixel-corner-tr { top: -2px; right: -2px; }
.pixel-corner-bl { bottom: -2px; left: -2px; }
.pixel-corner-br { bottom: -2px; right: -2px; }

/* A침adir esquinas pixeladas a los contenedores principales */
.content-header,
.simulator-container,
.quiz-container,
.errors-container,
.curriculum-connection,
.metacognitive-reflection {
    position: relative;
}

.content-header::after,
.simulator-container::after,
.quiz-container::after,
.errors-container::after,
.curriculum-connection::after,
.metacognitive-reflection::after {
    content: '';
    position: absolute;
    width: 10px;
    height: 10px;
    background: #00ffea;
}

.content-header::after { top: -2px; left: -2px; }
.simulator-container::after { top: -2px; right: -2px; }
.quiz-container::after { bottom: -2px; left: -2px; }
.errors-container::after { bottom: -2px; right: -2px; }

/* CSS CYBERPUNK 8BIT - LECCI칍N HIELO SECO */
/* Estilo retro con paleta ne칩n azul/rosa/verde */

/* ===== RESET Y BASE CYBERPUNK ===== */
.content-body {
    font-family: 'Courier New', monospace;
    line-height: 1.6;
    background: #0a0a14;
    color: #00ffea;
    padding: 20px;
    position: relative;
    overflow-x: hidden;
}

.content-body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        repeating-linear-gradient(
            0deg,
            transparent,
            transparent 1px,
            rgba(0, 255, 234, 0.05) 1px,
            rgba(0, 255, 234, 0.05) 2px
        ),
        repeating-linear-gradient(
            90deg,
            transparent,
            transparent 1px,
            rgba(255, 0, 255, 0.03) 1px,
            rgba(255, 0, 255, 0.03) 2px
        );
    pointer-events: none;
    z-index: -1;
}

/* ===== HEADER CYBERPUNK ===== */
.content-header {
    background: #000000;
    color: #ff00ff;
    padding: 2rem;
    margin-bottom: 2rem;
    position: relative;
    overflow: hidden;
    border: 4px solid #00ffea;
    border-image: linear-gradient(45deg, #00ffea, #ff00ff, #ffff00) 1;
    box-shadow: 
        0 0 30px rgba(0, 255, 234, 0.3),
        inset 0 0 30px rgba(255, 0, 255, 0.1);
}

.content-header::after {
    content: 'SYSTEM READY';
    position: absolute;
    bottom: 10px;
    right: 15px;
    color: #00ffea;
    font-size: 0.8rem;
    font-family: 'Courier New', monospace;
    animation: blink 1.5s infinite;
}

@keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.3; }
}

.materia-tag {
    display: inline-block;
    background: linear-gradient(45deg, #ff00ff, #00ffea);
    color: #000;
    padding: 0.3rem 1rem;
    font-weight: bold;
    margin-bottom: 1rem;
    font-size: 0.9rem;
    border: 2px solid #ffff00;
    font-family: 'Courier New', monospace;
    text-transform: uppercase;
    letter-spacing: 2px;
    text-shadow: 0 0 5px #000;
    position: relative;
    overflow: hidden;
}

.materia-tag::before {
    content: '>';
    position: absolute;
    left: 5px;
    top: 50%;
    transform: translateY(-50%);
    color: #000;
    font-weight: bold;
}

.learning-goals {
    background: rgba(0, 0, 0, 0.8);
    padding: 1.5rem;
    margin-top: 1rem;
    border: 3px solid #ff5500;
    border-style: dashed;
    position: relative;
    box-shadow: inset 0 0 20px rgba(255, 85, 0, 0.2);
}

.learning-goals::before {
    content: 'OBJECTIVES';
    position: absolute;
    top: -12px;
    left: 20px;
    background: #000;
    color: #ff5500;
    padding: 0 10px;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.learning-goals h3 {
    margin-top: 0;
    color: #ffff00;
    font-family: 'Courier New', monospace;
    text-transform: uppercase;
    letter-spacing: 1px;
    border-bottom: 2px solid #ff00ff;
    padding-bottom: 0.5rem;
    text-shadow: 0 0 5px #ffff00;
}

.learning-goals ul {
    padding-left: 1.5rem;
    margin-bottom: 0;
    list-style-type: '> ';
}

.learning-goals li {
    margin-bottom: 0.5rem;
    line-height: 1.4;
    color: #00ffea;
    text-shadow: 0 0 3px #00ffea;
    position: relative;
}

/* ===== TEOR칈A CYBERPUNK ===== */
.theory-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    margin: 2rem 0;
}

.theory-card {
    background: #000000;
    padding: 1.5rem;
    border: 3px solid #00ffea;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
    box-shadow: 0 4px 0 #ff00ff;
}

.theory-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
        45deg,
        transparent 0%,
        rgba(0, 255, 234, 0.1) 50%,
        transparent 100%
    );
    z-index: 0;
}

.theory-card:hover {
    transform: translate(-4px, -4px);
    box-shadow: 
        8px 8px 0 #ff00ff,
        0 0 30px rgba(0, 255, 234, 0.5);
    border-color: #ffff00;
}

.theory-card h4 {
    color: #ffff00;
    margin-top: 0;
    border-bottom: 2px solid #ff00ff;
    padding-bottom: 0.5rem;
    font-family: 'Courier New', monospace;
    text-transform: uppercase;
    letter-spacing: 1px;
    text-shadow: 0 0 5px #ffff00;
    position: relative;
    z-index: 1;
}

.theory-card.example {
    border-color: #ff5500;
    background: rgba(255, 85, 0, 0.05);
}

.theory-card.example h4 {
    color: #ff5500;
    border-bottom-color: #ffff00;
}

/* ===== TABLA CYBERPUNK ===== */
.classification-table {
    width: 100%;
    border-collapse: collapse;
    margin: 2rem 0;
    border: 3px solid #ff00ff;
    font-family: 'Courier New', monospace;
    box-shadow: 0 0 20px rgba(255, 0, 255, 0.3);
}

.classification-table th {
    background: #000000;
    color: #00ffea;
    padding: 1rem;
    text-align: left;
    font-weight: bold;
    border-bottom: 2px solid #00ffea;
    border-right: 2px solid #ff5500;
    text-transform: uppercase;
    letter-spacing: 1px;
    text-shadow: 0 0 3px #00ffea;
    position: relative;
}

.classification-table th::after {
    content: '郊';
    position: absolute;
    right: 10px;
    color: #ff00ff;
}

.classification-table th:last-child {
    border-right: none;
}

.classification-table td {
    padding: 1rem;
    border-bottom: 1px solid #00ffea;
    border-right: 2px solid #ff5500;
    vertical-align: top;
    color: #ffffff;
    text-shadow: 0 0 2px #fff;
}

.classification-table td:last-child {
    border-right: none;
}

.classification-table tbody tr:hover {
    background-color: rgba(255, 0, 255, 0.1);
    box-shadow: inset 0 0 10px #ff00ff;
}

/* ===== DIAGRAMA CYBERPUNK ===== */
.diagram-container {
    background: #000000;
    padding: 2rem;
    margin: 2rem 0;
    border: 4px solid #ff5500;
    position: relative;
    overflow: hidden;
    box-shadow: 
        inset 0 0 30px rgba(255, 85, 0, 0.2),
        0 0 30px rgba(255, 85, 0, 0.3);
}

.diagram-container::before {
    content: 'SIMULATION ACTIVE';
    position: absolute;
    top: 10px;
    right: 10px;
    color: #ff5500;
    font-size: 0.8rem;
    font-family: 'Courier New', monospace;
    animation: blink 1s infinite;
}

.clickable {
    cursor: pointer;
    transition: all 0.3s ease;
}

.clickable:hover {
    filter: drop-shadow(0 0 10px #ff00ff);
    transform: scale(1.05);
}

.diagram-controls {
    display: flex;
    gap: 1rem;
    margin-top: 1rem;
    flex-wrap: wrap;
}

.diagram-controls button {
    background: #000;
    color: #00ffea;
    border: 2px solid #00ffea;
    padding: 0.5rem 1rem;
    font-family: 'Courier New', monospace;
    cursor: pointer;
    transition: all 0.3s ease;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.diagram-controls button:hover {
    background: #00ffea;
    color: #000;
    box-shadow: 0 0 15px #00ffea;
}

.diagram-info {
    background: rgba(0, 0, 0, 0.9);
    padding: 1rem;
    margin-top: 1rem;
    border: 2px dashed #ffff00;
    min-height: 60px;
    display: flex;
    align-items: center;
    font-family: 'Courier New', monospace;
    color: #ffff00;
    text-shadow: 0 0 3px #ffff00;
}

/* ===== SIMULADOR CYBERPUNK ===== */
.simulator-container {
    background: #000000;
    padding: 2rem;
    margin: 2rem 0;
    border: 4px solid #00ffea;
    position: relative;
    box-shadow: 
        0 0 30px rgba(0, 255, 234, 0.3),
        inset 0 0 30px rgba(0, 255, 234, 0.1);
}

.simulator-container::after {
    content: 'v2.1';
    position: absolute;
    bottom: 5px;
    right: 10px;
    color: #00ffea;
    font-size: 0.7rem;
    opacity: 0.7;
}

.simulator-controls {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.control-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.5);
    border: 2px solid #ff00ff;
}

.control-group label {
    font-weight: bold;
    color: #ff00ff;
    font-family: 'Courier New', monospace;
    text-transform: uppercase;
    letter-spacing: 1px;
    text-shadow: 0 0 3px #ff00ff;
}

.control-group input[type="range"] {
    width: 100%;
    height: 8px;
    background: #000000;
    border: 2px solid #00ffea;
    outline: none;
    -webkit-appearance: none;
}

.control-group input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 20px;
    height: 20px;
    background: #ff00ff;
    border: 2px solid #00ffea;
    cursor: pointer;
    box-shadow: 0 0 10px #ff00ff;
}

.simulator-visual {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    align-items: center;
    margin-bottom: 2rem;
}

@media (max-width: 768px) {
    .simulator-visual {
        grid-template-columns: 1fr;
    }
}

.energy-display {
    text-align: center;
    padding: 1.5rem;
    background: rgba(0, 0, 0, 0.8);
    border: 3px solid #ffff00;
    box-shadow: inset 0 0 20px rgba(255, 255, 0, 0.1);
}

.formula {
    font-size: 2.5rem;
    margin-bottom: 1rem;
    color: #00ffea;
    font-family: 'Courier New', monospace;
    text-shadow: 0 0 10px #00ffea;
}

.ice-block-container {
    text-align: center;
    position: relative;
}

.ice-block {
    position: relative;
    width: 150px;
    height: 200px;
    margin: 0 auto;
    border: 3px solid #00ffea;
    background: rgba(0, 255, 234, 0.1);
    overflow: hidden;
    box-shadow: 0 0 20px rgba(0, 255, 234, 0.3);
}

.ice-mass {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(to top, #00ffea, #ff00ff);
    transition: height 0.5s ease;
}

.ice-label {
    position: absolute;
    bottom: -25px;
    left: 0;
    right: 0;
    color: #00ffea;
    font-family: 'Courier New', monospace;
    text-transform: uppercase;
    font-weight: bold;
}

.sublimation-animation {
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    height: 100%;
}

.particle {
    position: absolute;
    width: 8px;
    height: 8px;
    background: #ff00ff;
    border-radius: 50%;
    left: 50%;
    top: 100%;
    transform: translateX(-50%);
    animation: rise 2s infinite;
}

@keyframes rise {
    0% {
        top: 100%;
        opacity: 1;
    }
    100% {
        top: -20px;
        opacity: 0;
    }
}

.simulator-explanation {
    background: rgba(0, 0, 0, 0.8);
    padding: 1.5rem;
    border: 3px solid #ff5500;
    font-family: 'Courier New', monospace;
    box-shadow: inset 0 0 20px rgba(255, 85, 0, 0.1);
}

.simulator-explanation h4 {
    color: #ff00ff;
    text-transform: uppercase;
    letter-spacing: 1px;
    text-shadow: 0 0 5px #ff00ff;
    margin-top: 0;
}

.simulator-explanation li {
    color: #00ffea;
    text-shadow: 0 0 2px #00ffea;
    margin-bottom: 0.5rem;
    position: relative;
    padding-left: 1.5rem;
}

.simulator-explanation li::before {
    content: '餃';
    position: absolute;
    left: 0;
    color: #ffff00;
}

/* ===== ESTRUCTURA MOLECULAR ===== */
.molecular-container {
    background: #000;
    border: 4px solid #ff00ff;
    padding: 2rem;
    margin: 2rem 0;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
}

@media (max-width: 768px) {
    .molecular-container {
        grid-template-columns: 1fr;
    }
}

.molecular-visual {
    text-align: center;
}

.molecule {
    width: 300px;
    height: 200px;
    margin: 0 auto 1rem;
    background: rgba(0, 255, 234, 0.05);
    border: 2px solid #00ffea;
    position: relative;
    transition: transform 0.5s ease;
}

.bond {
    position: absolute;
    height: 4px;
    background: #ffff00;
    top: 50%;
    left: 50%;
    transform-origin: left center;
}

.atom {
    position: absolute;
    width: 40px;
    height: 40px;
    background: #ff00ff;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #000;
    font-weight: bold;
    font-family: 'Courier New', monospace;
    box-shadow: 0 0 10px #ff00ff;
}

.orbital {
    position: absolute;
    border: 2px dashed #00ffea;
    border-radius: 50%;
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 1; }
}

.molecule-controls {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
}

.molecule-controls button {
    background: #000;
    color: #ff5500;
    border: 2px solid #ff5500;
    padding: 0.5rem 1rem;
    font-family: 'Courier New', monospace;
    cursor: pointer;
    transition: all 0.3s ease;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.molecule-controls button:hover {
    background: #ff5500;
    color: #000;
    box-shadow: 0 0 15px #ff5500;
}

.molecular-info h4 {
    color: #ffff00;
    margin-top: 0;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.resonance-structures {
    margin-top: 1rem;
    padding: 1rem;
    background: rgba(255, 0, 255, 0.1);
    border: 2px dashed #ffff00;
}

.resonance-structures h5 {
    color: #00ffea;
    margin-top: 0;
}

/* ===== QUIZ CYBERPUNK ===== */
.quiz-container {
    background: #000000;
    padding: 2rem;
    margin: 2rem 0;
    border: 4px solid #ffff00;
    position: relative;
    box-shadow: 0 0 30px rgba(255, 255, 0, 0.3);
}

.quiz-container::before {
    content: 'QUIZ MODE: ACTIVE';
    position: absolute;
    top: -12px;
    left: 20px;
    background: #000;
    color: #ffff00;
    padding: 0 10px;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.quiz-question {
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
    border-bottom: 2px dashed #00ffea;
    position: relative;
}

.quiz-question:last-child {
    border-bottom: none;
}

.quiz-question p {
    color: #ffff00;
    font-weight: bold;
    text-shadow: 0 0 3px #ffff00;
    font-family: 'Courier New', monospace;
}

.quiz-question p::before {
    content: 'Q:';
    color: #ff00ff;
    margin-right: 10px;
    font-weight: bold;
}

.quiz-options {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    margin-top: 1rem;
}

.quiz-option {
    padding: 1rem;
    background: rgba(0, 0, 0, 0.8);
    color: #00ffea;
    border: 2px solid #00ffea;
    text-align: left;
    font-family: 'Courier New', monospace;
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.2s ease;
    text-transform: uppercase;
    letter-spacing: 1px;
    position: relative;
    overflow: hidden;
}

.quiz-option::before {
    content: '>';
    position: absolute;
    left: 10px;
    top: 50%;
    transform: translateY(-50%);
    opacity: 0;
    transition: opacity 0.3s ease;
}

.quiz-option:hover {
    background: rgba(0, 255, 234, 0.1);
    transform: translateX(10px);
    box-shadow: -10px 0 0 #ff00ff;
    padding-left: 2rem;
}

.quiz-option:hover::before {
    opacity: 1;
}

.quiz-option:disabled {
    cursor: not-allowed;
    opacity: 0.7;
}

.quiz-feedback {
    margin: 1.5rem 0;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.9);
    border: 2px solid #ff5500;
    min-height: 60px;
    font-family: 'Courier New', monospace;
}

.correct-feedback {
    color: #00ff00;
    background: rgba(0, 255, 0, 0.1);
    padding: 1rem;
    border-left: 4px solid #00ff00;
    text-shadow: 0 0 3px #00ff00;
}

.incorrect-feedback {
    color: #ff0000;
    background: rgba(255, 0, 0, 0.1);
    padding: 1rem;
    border-left: 4px solid #ff0000;
    text-shadow: 0 0 3px #ff0000;
}

.quiz-reset {
    background: #000000;
    color: #ff5500;
    border: 2px solid #ff5500;
    padding: 0.8rem 1.5rem;
    font-family: 'Courier New', monospace;
    cursor: pointer;
    font-size: 1rem;
    transition: all 0.3s ease;
    text-transform: uppercase;
    letter-spacing: 2px;
    display: block;
    margin: 0 auto;
}

.quiz-reset:hover {
    background: #ff5500;
    color: #000;
    box-shadow: 0 0 20px #ff5500;
    transform: scale(1.05);
}

/* ===== APLICACIONES ===== */
.applications-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    margin: 2rem 0;
}

.app-card {
    background: #000;
    padding: 1.5rem;
    border: 3px solid;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.app-card:nth-child(1) { border-color: #00ffea; }
.app-card:nth-child(2) { border-color: #ff00ff; }
.app-card:nth-child(3) { border-color: #ffff00; }
.app-card:nth-child(4) { border-color: #ff5500; }

.app-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
        45deg,
        transparent 0%,
        rgba(255, 255, 255, 0.05) 50%,
        transparent 100%
    );
    z-index: 0;
}

.app-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 255, 234, 0.3);
}

.app-card h4 {
    color: inherit;
    border-color: inherit;
    position: relative;
    z-index: 1;
}

.app-card ul {
    padding-left: 1.5rem;
    position: relative;
    z-index: 1;
}

.app-card li {
    color: #fff;
    margin-bottom: 0.5rem;
    text-shadow: 0 0 2px #fff;
}

.app-tip {
    margin-top: 1rem;
    padding: 0.5rem;
    background: rgba(255, 255, 255, 0.1);
    border-left: 3px solid;
    border-color: inherit;
    position: relative;
    z-index: 1;
}

/* ===== DIAGRAMA DE FASES ===== */
.phase-diagram-container {
    background: #000;
    border: 4px solid #00ffea;
    padding: 2rem;
    margin: 2rem 0;
    box-shadow: 
        inset 0 0 30px rgba(0, 255, 234, 0.1),
        0 0 30px rgba(0, 255, 234, 0.2);
}

.phase-controls {
    display: flex;
    flex-wrap: wrap;
    gap: 2rem;
    margin-bottom: 2rem;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.5);
    border: 2px solid #ff00ff;
}

.phase-slider {
    flex: 1;
    min-width: 200px;
}

.phase-buttons {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
}

.phase-buttons button {
    background: #000;
    color: #ff5500;
    border: 2px solid #ff5500;
    padding: 0.5rem 1rem;
    font-family: 'Courier New', monospace;
    cursor: pointer;
    transition: all 0.3s ease;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.phase-buttons button:hover {
    background: #ff5500;
    color: #000;
    box-shadow: 0 0 15px #ff5500;
}

.phase-visual {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    align-items: start;
}

@media (max-width: 768px) {
    .phase-visual {
        grid-template-columns: 1fr;
    }
}

.phase-info {
    padding: 1rem;
    background: rgba(0, 0, 0, 0.8);
    border: 2px solid #ffff00;
    font-family: 'Courier New', monospace;
    color: #ffff00;
}

.phase-legend {
    margin-top: 1rem;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.5);
    border: 2px solid #ff00ff;
}

.legend-item {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 0.5rem;
    color: #fff;
    font-family: 'Courier New', monospace;
}

.color-box {
    width: 20px;
    height: 20px;
    border: 2px solid #fff;
}

.color-box.solid { background: #00ffea; }
.color-box.liquid { background: #ff00ff; }
.color-box.gas { background: #ffff00; }
.color-box.supercritical { background: #ff5500; }

/* ===== PROBLEMAS EXAMEN ===== */
.exam-problems {
    display: grid;
    gap: 2rem;
    margin: 2rem 0;
}

.exam-problem {
    background: #000000;
    padding: 1.5rem;
    border: 3px solid #ff5500;
    position: relative;
    overflow: hidden;
}

.exam-problem::before {
    content: 'EXAM MODE';
    position: absolute;
    top: -10px;
    left: 20px;
    background: #000;
    color: #ff5500;
    padding: 0 10px;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.exam-problem h4 {
    color: #ff00ff;
    margin-top: 0;
    font-family: 'Courier New', monospace;
    text-transform: uppercase;
    letter-spacing: 1px;
    border-bottom: 2px solid #ff00ff;
    padding-bottom: 0.5rem;
}

.exam-problem p, .exam-problem li {
    color: #fff;
    text-shadow: 0 0 1px #fff;
}

.answer-space {
    margin-top: 1rem;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.5);
    border: 2px dashed #00ffea;
}

.answer-space textarea {
    width: 100%;
    padding: 1rem;
    background: #000;
    color: #00ffea;
    border: 2px solid #00ffea;
    font-family: 'Courier New', monospace;
    font-size: 0.9rem;
    resize: vertical;
    min-height: 100px;
}

.answer-space textarea::placeholder {
    color: #ff00ff;
    opacity: 0.7;
}

.answer-space textarea:focus {
    outline: none;
    box-shadow: 0 0 10px #00ffea;
}

/* ===== METACOGNITIVO ===== */
.metacognitive-reflection {
    background: #000000;
    padding: 2rem;
    margin: 2rem 0;
    border: 4px solid #ffff00;
    position: relative;
    box-shadow: 0 0 30px rgba(255, 255, 0, 0.3);
}

.metacognitive-reflection::before {
    content: 'REFLECTION MODE';
    position: absolute;
    top: -12px;
    left: 20px;
    background: #000;
    color: #ffff00;
    padding: 0 10px;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.reflection-question, .learning-check, .real-world-connection {
    background: rgba(0, 0, 0, 0.8);
    padding: 1.5rem;
    margin-bottom: 1.5rem;
    border: 2px solid #ff00ff;
    position: relative;
}

.reflection-question h4, .learning-check h4, .real-world-connection h4 {
    color: #00ffea;
    text-transform: uppercase;
    letter-spacing: 1px;
    text-shadow: 0 0 3px #00ffea;
    margin-top: 0;
}

.checklist {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    margin-top: 1rem;
}

.checklist label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    cursor: pointer;
    color: #ffff00;
    text-shadow: 0 0 2px #ffff00;
    font-family: 'Courier New', monospace;
    padding: 0.5rem;
    transition: all 0.3s ease;
}

.checklist label:hover {
    background: rgba(255, 255, 0, 0.1);
    transform: translateX(5px);
}

.checklist input[type="checkbox"] {
    width: 20px;
    height: 20px;
    cursor: pointer;
    background: #000;
    border: 2px solid #00ffea;
    appearance: none;
    position: relative;
    transition: all 0.3s ease;
}

.checklist input[type="checkbox"]:checked {
    background: #ff00ff;
    border-color: #ff00ff;
}

.checklist input[type="checkbox"]:checked::after {
    content: '九';
    position: absolute;
    color: #000;
    font-weight: bold;
    font-size: 14px;
    left: 4px;
    top: 0;
}

/* ===== T칈TULOS ===== */
h2, h3, h4 {
    color: #ff00ff;
    margin-top: 1.5rem;
    margin-bottom: 1rem;
    font-family: 'Courier New', monospace;
    text-transform: uppercase;
    letter-spacing: 2px;
    text-shadow: 0 0 10px currentColor;
    position: relative;
}

h2 {
    font-size: 2rem;
    border-bottom: 4px solid #00ffea;
    padding-bottom: 0.5rem;
    animation: glow 2s infinite alternate;
}

@keyframes glow {
    from { 
        text-shadow: 0 0 10px #ff00ff, 0 0 20px #ff00ff; 
    }
    to { 
        text-shadow: 0 0 15px #ff00ff, 0 0 30px #ff00ff, 0 0 40px #ff00ff; 
    }
}

h3 {
    font-size: 1.5rem;
    color: #00ffea;
    border-left: 4px solid #ff00ff;
    padding-left: 15px;
    margin-left: -15px;
}

h3::before {
    content: '>';
    color: #ffff00;
    margin-right: 10px;
}

h4 {
    font-size: 1.2rem;
    color: #ffff00;
    border-bottom: 2px solid currentColor;
    padding-bottom: 0.3rem;
}

/* ===== SCROLLBAR ===== */
::-webkit-scrollbar {
    width: 12px;
    background: #000;
}

::-webkit-scrollbar-track {
    background: #000000;
    border: 2px solid #00ffea;
    box-shadow: inset 0 0 10px rgba(0, 255, 234, 0.3);
}

::-webkit-scrollbar-thumb {
    background: linear-gradient(45deg, #ff00ff, #00ffea);
    border: 2px solid #000000;
    border-radius: 0;
}

::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(45deg, #ffff00, #ff5500);
    box-shadow: 0 0 10px #ffff00;
}

/* ===== RESPONSIVE ===== */
@media (max-width: 768px) {
    .content-header {
        padding: 1rem;
    }
    
    .theory-grid,
    .applications-grid {
        grid-template-columns: 1fr;
    }
    
    .simulator-controls,
    .phase-controls {
        grid-template-columns: 1fr;
    }
    
    .classification-table {
        display: block;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }
    
    .classification-table::-webkit-scrollbar {
        height: 8px;
    }
    
    h2 {
        font-size: 1.5rem;
    }
    
    h3 {
        font-size: 1.2rem;
    }
    
    .molecular-container {
        grid-template-columns: 1fr;
    }
    
    .phase-visual {
        grid-template-columns: 1fr;
    }
    
    .diagram-controls,
    .molecule-controls,
    .phase-buttons {
        flex-direction: column;
    }
    
    .diagram-controls button,
    .molecule-controls button,
    .phase-buttons button {
        width: 100%;
    }
}

/* ===== IMPRESI칍N ===== */
@media print {
    .content-body {
        background: black !important;
        color: black !important;
    }
    
    .content-header {
        background: #000 !important;
        color: #fff !important;
        border: 3px solid #000 !important;
    }
    
    .theory-card {
        border: 1px solid #000 !important;
        break-inside: avoid;
    }
    
    .simulator-controls,
    .quiz-options,
    .diagram-controls,
    .molecule-controls,
    .phase-controls,
    .answer-space textarea {
        display: none !important;
    }
    
    * {
        text-shadow: none !important;
        box-shadow: none !important;
    }
    
    h2, h3, h4 {
        color: #000 !important;
    }
}

/* ===== PIXEL BORDERS ===== */
.pixel-border {
    position: relative;
}

.pixel-border::before,
.pixel-border::after {
    content: '';
    position: absolute;
    width: 10px;
    height: 10px;
    background: #ff00ff;
}

.pixel-border::before {
    top: -2px;
    left: -2px;
}

.pixel-border::after {
    bottom: -2px;
    right: -2px;
}

/* A침adir a elementos importantes */
.content-header,
.simulator-container,
.quiz-container,
.phase-diagram-container,
.metacognitive-reflection {
    position: relative;
}

.content-header::before,
.simulator-container::before,
.quiz-container::before,
.phase-diagram-container::before,
.metacognitive-reflection::before {
    content: '';
    position: absolute;
    width: 10px;
    height: 10px;
    background: #00ffea;
}

.content-header::before { top: -2px; left: -2px; }
.simulator-container::before { top: -2px; right: -2px; }
.quiz-container::before { bottom: -2px; left: -2px; }
.phase-diagram-container::before { bottom: -2px; right: -2px; }

/* =========================================== */
/* DIAGRAMA DE FASES DEL CO - DISTRIBUCI칍N MEJORADA */
/* =========================================== */

.phase-diagram-container {
    background: #000;
    border: 4px solid #00ffea;
    padding: 2rem;
    margin: 2rem 0;
    box-shadow: 
        inset 0 0 30px rgba(0, 255, 234, 0.1),
        0 0 30px rgba(0, 255, 234, 0.2);
    position: relative;
    overflow: hidden;
    display: grid;
    grid-template-rows: auto 1fr auto;
    gap: 2rem;
    min-height: 700px;
}

.phase-controls {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    margin-bottom: 0;
    padding: 1.5rem;
    background: rgba(0, 0, 0, 0.7);
    border: 2px solid #ff00ff;
    border-radius: 0;
}

@media (max-width: 1024px) {
    .phase-controls {
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }
}

.phase-slider {
    display: flex;
    flex-direction: column;
    gap: 0.8rem;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.9);
    border: 2px solid #ffff00;
}

.phase-slider-group {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.phase-slider label {
    font-weight: bold;
    color: #ffff00;
    font-family: 'Courier New', monospace;
    text-transform: uppercase;
    letter-spacing: 1px;
    font-size: 0.9rem;
    text-shadow: 0 0 5px #ffff00;
    min-width: 140px;
}

.phase-slider input[type="range"] {
    flex: 1;
    height: 10px;
    background: #000;
    border: 2px solid #00ffea;
    -webkit-appearance: none;
    border-radius: 0;
}

.phase-slider input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 20px;
    height: 20px;
    background: #ff00ff;
    border: 3px solid #00ffea;
    cursor: pointer;
    box-shadow: 0 0 15px #ff00ff;
}

.phase-value-display {
    color: #00ffea;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    font-size: 1.1rem;
    min-width: 100px;
    text-align: center;
    padding: 0.5rem;
    background: rgba(0, 0, 0, 0.8);
    border: 1px solid #ff00ff;
}

.phase-buttons {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1rem;
    grid-column: 1 / -1;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.7);
    border: 2px solid #ff5500;
}

@media (max-width: 768px) {
    .phase-buttons {
        grid-template-columns: 1fr;
    }
}

.phase-buttons button {
    background: #000;
    color: #ff5500;
    border: 2px solid #ff5500;
    padding: 0.8rem;
    font-family: 'Courier New', monospace;
    cursor: pointer;
    transition: all 0.3s ease;
    text-transform: uppercase;
    letter-spacing: 1px;
    font-size: 0.9rem;
    font-weight: bold;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
}

.phase-buttons button:hover {
    background: #ff5500;
    color: #000;
    box-shadow: 0 0 20px #ff5500;
    transform: translateY(-2px);
}

.phase-buttons button::before {
    content: '';
    display: inline-block;
    width: 10px;
    height: 10px;
    background: currentColor;
    clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
}

.phase-visual-area {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 2rem;
    align-items: start;
}

@media (max-width: 1024px) {
    .phase-visual-area {
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }
}

.phase-canvas-container {
    position: relative;
    background: #000;
    border: 3px solid #ffff00;
    padding: 1rem;
    box-shadow: inset 0 0 20px rgba(255, 255, 0, 0.2);
}

.phase-canvas-container::before {
    content: 'DIAGRAMA DE FASES CO';
    position: absolute;
    top: -15px;
    left: 20px;
    background: #000;
    color: #ffff00;
    padding: 0 10px;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 2px;
    font-size: 0.9rem;
    z-index: 10;
}

#phaseCanvas {
    width: 100%;
    height: 400px;
    display: block;
    background: transparent;
}

.phase-info-panel {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.phase-info-card {
    background: rgba(0, 0, 0, 0.9);
    border: 3px solid #ff00ff;
    padding: 1.5rem;
    font-family: 'Courier New', monospace;
    color: #fff;
}

.phase-info-card h4 {
    color: #00ffea;
    margin-top: 0;
    border-bottom: 2px solid #00ffea;
    padding-bottom: 0.5rem;
    text-transform: uppercase;
    letter-spacing: 1px;
    font-size: 1.1rem;
}

#phaseInfo {
    display: flex;
    flex-direction: column;
    gap: 0.8rem;
}

#phaseInfo p {
    margin: 0;
    padding: 0.8rem;
    background: rgba(0, 0, 0, 0.5);
    border-left: 3px solid;
}

#phaseInfo p:nth-child(1) {
    border-left-color: #00ffea;
    color: #00ffea;
}

#phaseInfo p:nth-child(2) {
    border-left-color: #ffff00;
    color: #ffff00;
    font-weight: bold;
    font-size: 1.2rem;
}

#phaseInfo p:nth-child(3) {
    border-left-color: #ff5500;
    color: #ff5500;
}

.phase-legend-container {
    background: rgba(0, 0, 0, 0.7);
    border: 2px solid #00ffea;
    padding: 1.5rem;
}

.phase-legend-container h4 {
    color: #ff00ff;
    margin-top: 0;
    border-bottom: 2px solid #ff00ff;
    padding-bottom: 0.5rem;
    text-transform: uppercase;
    letter-spacing: 1px;
    font-size: 1.1rem;
}

.phase-legend {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
    margin-top: 1rem;
}

@media (max-width: 480px) {
    .phase-legend {
        grid-template-columns: 1fr;
    }
}

.legend-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 0.8rem;
    background: rgba(0, 0, 0, 0.9);
    border: 1px solid #ff00ff;
    font-family: 'Courier New', monospace;
    color: #fff;
    font-size: 0.9rem;
}

.legend-color {
    width: 20px;
    height: 20px;
    border: 2px solid #fff;
    flex-shrink: 0;
}

.legend-color.solid { background: #00ffea; }
.legend-color.liquid { background: #ff00ff; }
.legend-color.gas { background: #ffff00; }
.legend-color.supercritical { background: #ff5500; }

/* =========================================== */
/* ESTRUCTURA MOLECULAR - DISTRIBUCI칍N MEJORADA */
/* =========================================== */

.molecular-container {
    background: #000;
    border: 4px solid #ff00ff;
    padding: 2rem;
    margin: 2rem 0;
    position: relative;
    overflow: hidden;
    display: grid;
    grid-template-rows: auto 1fr;
    gap: 2rem;
    min-height: 600px;
}

.molecular-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-bottom: 1rem;
    border-bottom: 3px solid #ffff00;
}

.molecular-header h3 {
    color: #ff00ff;
    margin: 0;
    font-family: 'Courier New', monospace;
    text-transform: uppercase;
    letter-spacing: 2px;
    font-size: 1.5rem;
    text-shadow: 0 0 10px #ff00ff;
}

.molecular-tabs {
    display: flex;
    gap: 0.5rem;
}

.molecular-tab {
    background: #000;
    color: #00ffea;
    border: 2px solid #00ffea;
    padding: 0.5rem 1rem;
    font-family: 'Courier New', monospace;
    cursor: pointer;
    transition: all 0.3s ease;
    text-transform: uppercase;
    letter-spacing: 1px;
    font-size: 0.8rem;
    font-weight: bold;
}

.molecular-tab.active {
    background: #00ffea;
    color: #000;
    box-shadow: 0 0 15px #00ffea;
}

.molecular-tab:hover:not(.active) {
    background: rgba(0, 255, 234, 0.2);
    transform: translateY(-2px);
}

.molecular-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    align-items: start;
}

@media (max-width: 1024px) {
    .molecular-content {
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }
}

.molecular-visualization {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.molecule-viewport {
    position: relative;
    width: 100%;
    height: 300px;
    background: rgba(0, 0, 0, 0.8);
    border: 3px solid #ffff00;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    box-shadow: inset 0 0 30px rgba(255, 255, 0, 0.1);
}

#co2Molecule {
    width: 100%;
    height: 100%;
    position: relative;
    transform-style: preserve-3d;
    transition: transform 0.5s ease;
}

.molecule-controls-panel {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
    padding: 1.5rem;
    background: rgba(0, 0, 0, 0.7);
    border: 2px solid #ff5500;
}

@media (max-width: 768px) {
    .molecule-controls-panel {
        grid-template-columns: 1fr;
    }
}

.molecule-controls-panel button {
    background: #000;
    color: #00ffea;
    border: 2px solid #00ffea;
    padding: 0.8rem;
    font-family: 'Courier New', monospace;
    cursor: pointer;
    transition: all 0.3s ease;
    text-transform: uppercase;
    letter-spacing: 1px;
    font-size: 0.9rem;
    font-weight: bold;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
}

.molecule-controls-panel button:hover {
    background: #00ffea;
    color: #000;
    box-shadow: 0 0 20px #00ffea;
    transform: translateY(-2px);
}

.molecule-controls-panel button::before {
    content: '郊';
    font-size: 0.8rem;
}

.molecular-information {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.molecular-properties {
    background: rgba(0, 0, 0, 0.9);
    border: 3px solid #ffff00;
    padding: 1.5rem;
    font-family: 'Courier New', monospace;
}

.molecular-properties h4 {
    color: #00ffea;
    margin-top: 0;
    border-bottom: 2px solid #00ffea;
    padding-bottom: 0.5rem;
    text-transform: uppercase;
    letter-spacing: 1px;
    font-size: 1.1rem;
}

.properties-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-top: 1rem;
}

.property-item {
    padding: 0.8rem;
    background: rgba(0, 0, 0, 0.5);
    border-left: 3px solid #ff00ff;
    transition: all 0.3s ease;
}

.property-item:hover {
    background: rgba(255, 0, 255, 0.1);
    transform: translateX(5px);
    border-left-color: #ffff00;
}

.property-item strong {
    color: #ffff00;
    display: block;
    margin-bottom: 0.3rem;
    font-size: 0.9rem;
}

.property-item span {
    color: #fff;
    font-size: 0.9rem;
}

.resonance-structures {
    background: rgba(0, 0, 0, 0.9);
    border: 3px solid #ff5500;
    padding: 1.5rem;
}

.resonance-structures h4 {
    color: #ff00ff;
    margin-top: 0;
    border-bottom: 2px solid #ff00ff;
    padding-bottom: 0.5rem;
    text-transform: uppercase;
    letter-spacing: 1px;
    font-size: 1.1rem;
    font-family: 'Courier New', monospace;
}

.resonance-formula {
    margin: 1rem 0;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.7);
    border: 1px solid #00ffea;
    text-align: center;
    font-family: 'Courier New', monospace;
    color: #fff;
    font-size: 1.1rem;
    line-height: 1.6;
    overflow-x: auto;
}

.resonance-examples {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 1rem;
    margin-top: 1rem;
}

.resonance-example {
    padding: 0.8rem;
    background: rgba(0, 0, 0, 0.5);
    border: 1px dashed #ffff00;
    text-align: center;
    font-family: 'Courier New', monospace;
    color: #fff;
    font-size: 0.9rem;
}

/* =========================================== */
/* RESPONSIVE ADJUSTMENTS ESPEC칈FICOS */
/* =========================================== */

@media (max-width: 768px) {
    .phase-diagram-container,
    .molecular-container {
        padding: 1rem;
        min-height: auto;
    }
    
    .phase-controls,
    .molecule-controls-panel {
        padding: 1rem;
    }
    
    .phase-visual-area,
    .molecular-content {
        gap: 1rem;
    }
    
    .molecular-header {
        flex-direction: column;
        gap: 1rem;
        align-items: stretch;
    }
    
    .molecular-tabs {
        justify-content: center;
    }
    
    .properties-grid {
        grid-template-columns: 1fr;
    }
    
    .resonance-examples {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 480px) {
    .phase-buttons,
    .molecule-controls-panel {
        grid-template-columns: 1fr;
    }
    
    .phase-slider-group {
        flex-direction: column;
        align-items: stretch;
        gap: 0.5rem;
    }
    
    .phase-slider label {
        min-width: auto;
        text-align: center;
    }
    
    .phase-value-display {
        min-width: auto;
    }
    
    .resonance-examples {
        grid-template-columns: 1fr;
    }
    
    .molecule-viewport {
        height: 250px;
    }
}

/* =========================================== */
/* UTILIDADES DE DISPOSICI칍N */
/* =========================================== */

.grid-2 {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
}

.grid-3 {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1.5rem;
}

.grid-4 {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 1rem;
}

.flex-between {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 1rem;
}

.flex-center {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 1rem;
}

.flex-column {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

@media (max-width: 768px) {
    .grid-2, .grid-3, .grid-4 {
        grid-template-columns: 1fr;
    }
    
    .flex-between, .flex-center {
        flex-direction: column;
        align-items: stretch;
    }
}

/* =========================================== */
/* ANIMACIONES SUAVES */
/* =========================================== */

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

.phase-diagram-container,
.molecular-container {
    animation: fadeIn 0.5s ease-out;
}

.molecular-tab,
.phase-buttons button,
.molecule-controls-panel button {
    animation: fadeIn 0.3s ease-out;
}

/* =========================================== */
/* ESTADOS ACTIVOS Y HOVER */
/* =========================================== */

/* Evitar resaltar globalmente en amarillo al hacer clic. Mantener un indicador de foco
   accesible solo para usuarios que navegan con teclado (focus-visible). */
:active { outline: none; box-shadow: none; }
:focus { outline: none; box-shadow: none; }
:focus-visible { outline: 2px solid var(--neon-cyan); outline-offset: 2px; box-shadow: none; }

.legend-item:hover,
.property-item:hover,
.resonance-example:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(255, 255, 255, 0.1);
}

/* =========================================== */
/* TEXTO Y TIPOGRAF칈A ESPEC칈FICA */
/* =========================================== */

.phase-info-card h4,
.molecular-properties h4,
.resonance-structures h4 {
    font-family: 'Courier New', monospace;
    font-weight: bold;
}

.phase-info-card p,
.property-item span,
.resonance-example {
    font-family: 'Courier New', monospace;
    font-weight: normal;
}

.phase-value-display,
.molecular-tab {
    font-family: 'Courier New', monospace;
    font-weight: bold;
}

/* =========================================== */
/* BIG BANG - ESTILO CYBERPUNK COSMOL칍GICO */
/* =========================================== */

/* ===== ESTILOS GENERALES PARA LA LECCI칍N ===== */
.content-header {
    background: #000;
    color: #ff00ff;
    padding: 2rem;
    margin-bottom: 2rem;
    position: relative;
    overflow: hidden;
    border: 4px solid #00ffea;
    border-image: linear-gradient(45deg, #00ffea, #ff00ff, #4a148c) 1;
    box-shadow: 
        0 0 30px rgba(0, 255, 234, 0.3),
        inset 0 0 30px rgba(255, 0, 255, 0.1);
}

.content-header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        repeating-linear-gradient(
            45deg,
            transparent,
            transparent 2px,
            rgba(0, 255, 234, 0.05) 2px,
            rgba(0, 255, 234, 0.05) 4px
        );
    pointer-events: none;
}

.materia-tag {
    display: inline-block;
    background: linear-gradient(45deg, #4a148c, #ff00ff);
    color: #fff;
    padding: 0.3rem 1rem;
    font-weight: bold;
    margin-bottom: 1rem;
    font-size: 0.9rem;
    border: 2px solid #00ffea;
    font-family: 'Courier New', monospace;
    text-transform: uppercase;
    letter-spacing: 2px;
    text-shadow: 0 0 5px #000;
    position: relative;
    overflow: hidden;
}

.learning-goals {
    background: rgba(0, 0, 0, 0.8);
    padding: 1.5rem;
    margin-top: 1rem;
    border: 3px solid #ff5500;
    border-style: dashed;
    position: relative;
    box-shadow: inset 0 0 20px rgba(255, 85, 0, 0.2);
}

.learning-goals::before {
    content: 'MISSION OBJECTIVES';
    position: absolute;
    top: -12px;
    left: 20px;
    background: #000;
    color: #ff5500;
    padding: 0 10px;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 1px;
    font-family: 'Courier New', monospace;
}

/* ===== DIAGRAMA DE EXPANSI칍N C칍SMICA ===== */
.diagram-container {
    background: #000;
    padding: 2rem;
    margin: 2rem 0;
    border: 4px solid #4a148c;
    position: relative;
    overflow: hidden;
    box-shadow: 
        inset 0 0 30px rgba(74, 20, 140, 0.2),
        0 0 30px rgba(74, 20, 140, 0.3);
}

.diagram-container::before {
    content: 'COSMIC EXPANSION SIMULATOR';
    position: absolute;
    top: 10px;
    right: 10px;
    color: #4a148c;
    font-size: 0.8rem;
    font-family: 'Courier New', monospace;
    animation: blink 1.5s infinite;
}

.diagram-controls {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-top: 1rem;
}

.diagram-controls button {
    background: #000;
    color: #00ffea;
    border: 2px solid #00ffea;
    padding: 0.8rem;
    font-family: 'Courier New', monospace;
    cursor: pointer;
    transition: all 0.3s ease;
    text-transform: uppercase;
    letter-spacing: 1px;
    font-weight: bold;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
}

.diagram-controls button:hover {
    background: #00ffea;
    color: #000;
    box-shadow: 0 0 20px #00ffea;
    transform: translateY(-2px);
}

.diagram-info {
    background: rgba(0, 0, 0, 0.9);
    padding: 1rem;
    margin-top: 1rem;
    border: 2px dashed #ffff00;
    min-height: 60px;
    display: flex;
    align-items: center;
    font-family: 'Courier New', monospace;
    color: #ffff00;
    text-shadow: 0 0 3px #ffff00;
}

/* ===== SIMULADOR DE NUCLEOS칈NTESIS ===== */
.simulator-container {
    background: #000;
    padding: 2rem;
    margin: 2rem 0;
    border: 4px solid #ff00ff;
    position: relative;
    box-shadow: 
        0 0 30px rgba(255, 0, 255, 0.3),
        inset 0 0 30px rgba(255, 0, 255, 0.1);
}

.simulator-controls {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.control-group {
    display: flex;
    flex-direction: column;
    gap: 0.8rem;
    padding: 1.2rem;
    background: rgba(0, 0, 0, 0.7);
    border: 2px solid #ffff00;
}

.control-group label {
    font-weight: bold;
    color: #ffff00;
    font-family: 'Courier New', monospace;
    text-transform: uppercase;
    letter-spacing: 1px;
    font-size: 0.9rem;
}

.control-group input[type="range"] {
    width: 100%;
    height: 10px;
    background: #000;
    border: 2px solid #00ffea;
    -webkit-appearance: none;
}

.control-group input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 22px;
    height: 22px;
    background: #ff00ff;
    border: 3px solid #00ffea;
    cursor: pointer;
    box-shadow: 0 0 15px #ff00ff;
    transform: rotate(45deg);
}

.simulator-visual {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    margin-bottom: 2rem;
}

@media (max-width: 1024px) {
    .simulator-visual {
        grid-template-columns: 1fr;
    }
}

.abundance-display {
    background: rgba(0, 0, 0, 0.8);
    padding: 1.5rem;
    border: 3px solid #00ffea;
}

.abundance-chart {
    margin: 1rem 0;
    background: rgba(0, 0, 0, 0.5);
    padding: 10px;
    border: 1px solid #ff00ff;
}

.reactions-container {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    padding: 1.5rem;
    background: rgba(0, 0, 0, 0.7);
    border: 3px solid #ff5500;
}

.simulator-explanation {
    background: rgba(0, 0, 0, 0.8);
    padding: 1.5rem;
    border: 3px solid #4a148c;
    font-family: 'Courier New', monospace;
}

.simulator-explanation h4 {
    color: #ff00ff;
    margin-top: 0;
    text-transform: uppercase;
    letter-spacing: 1px;
}

/* ===== VISUALIZADOR DEL CMB ===== */
.cmb-container {
    background: #000;
    border: 4px solid #9c27b0;
    padding: 2rem;
    margin: 2rem 0;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
}

@media (max-width: 1024px) {
    .cmb-container {
        grid-template-columns: 1fr;
    }
}

.cmb-visual {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.cmb-map {
    width: 100%;
    height: 300px;
    background: #000;
    border: 3px solid #00ffea;
    position: relative;
    overflow: hidden;
    box-shadow: inset 0 0 30px rgba(0, 255, 234, 0.1);
}

.cmb-controls {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    padding: 1.5rem;
    background: rgba(0, 0, 0, 0.7);
    border: 2px solid #ffff00;
}

.cmb-slider {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.cmb-slider label {
    color: #ffff00;
    font-family: 'Courier New', monospace;
    text-transform: uppercase;
    font-size: 0.9rem;
}

.cmb-buttons {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 1rem;
    margin-top: 1rem;
}

.cmb-buttons button {
    background: #000;
    color: #9c27b0;
    border: 2px solid #9c27b0;
    padding: 0.6rem;
    font-family: 'Courier New', monospace;
    cursor: pointer;
    transition: all 0.3s ease;
    text-transform: uppercase;
    font-size: 0.8rem;
    font-weight: bold;
}

.cmb-buttons button:hover {
    background: #9c27b0;
    color: #000;
    box-shadow: 0 0 15px #9c27b0;
}

.cmb-info {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.cmb-formulas {
    padding: 1rem;
    background: rgba(0, 0, 0, 0.7);
    border: 2px solid #ff5500;
    font-family: 'Courier New', monospace;
}

.discovery-info {
    padding: 1rem;
    background: rgba(0, 0, 0, 0.7);
    border: 2px dashed #00ffea;
    font-family: 'Courier New', monospace;
    color: #fff;
}

/* ===== EVIDENCIAS CIENT칈FICAS ===== */
.evidence-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.5rem;
    margin: 2rem 0;
}

.evidence-card {
    background: #000;
    padding: 1.5rem;
    border: 3px solid;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.evidence-card:nth-child(1) { border-color: #00ffea; }
.evidence-card:nth-child(2) { border-color: #ff00ff; }
.evidence-card:nth-child(3) { border-color: #ffff00; }
.evidence-card:nth-child(4) { border-color: #ff5500; }

.evidence-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(255, 255, 255, 0.1);
}

.evidence-card h4 {
    color: inherit;
    margin-top: 0;
    border-bottom: 2px solid inherit;
    padding-bottom: 0.5rem;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.evidence-tip {
    margin-top: 1rem;
    padding: 0.8rem;
    background: rgba(255, 255, 255, 0.05);
    border-left: 3px solid inherit;
    font-family: 'Courier New', monospace;
    font-size: 0.9rem;
}

/* ===== PROBLEMAS EXAMEN ===== */
.exam-problems {
    display: grid;
    gap: 2rem;
    margin: 2rem 0;
}

.exam-problem {
    background: #000;
    padding: 1.5rem;
    border: 3px solid #4a148c;
    position: relative;
}

.exam-problem::before {
    content: 'COSMOLOGY EXAM';
    position: absolute;
    top: -10px;
    left: 20px;
    background: #000;
    color: #4a148c;
    padding: 0 10px;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.answer-space {
    margin-top: 1rem;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.7);
    border: 2px dashed #00ffea;
}

.answer-space textarea {
    width: 100%;
    padding: 1rem;
    background: #000;
    color: #00ffea;
    border: 2px solid #00ffea;
    font-family: 'Courier New', monospace;
    font-size: 0.9rem;
    resize: vertical;
    min-height: 100px;
}

/* ===== METACOGNITIVO ===== */
.metacognitive-reflection {
    background: #000;
    padding: 2rem;
    margin: 2rem 0;
    border: 4px solid #ffff00;
    position: relative;
}

.real-world-connection {
    margin-top: 1.5rem;
    padding: 1.5rem;
    background: rgba(0, 0, 0, 0.7);
    border: 2px solid #ff00ff;
}

/* ===== ANIMACIONES ===== */
@keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

@keyframes cosmicPulse {
    0%, 100% { transform: scale(1); opacity: 0.7; }
    50% { transform: scale(1.05); opacity: 1; }
}

@keyframes starTwinkle {
    0%, 100% { opacity: 0.3; transform: scale(1); }
    50% { opacity: 1; transform: scale(1.2); }
}

/* ===== RESPONSIVE ===== */
@media (max-width: 768px) {
    .content-header,
    .diagram-container,
    .simulator-container,
    .cmb-container {
        padding: 1rem;
    }
    
    .diagram-controls,
    .simulator-controls {
        grid-template-columns: 1fr;
    }
    
    .evidence-grid {
        grid-template-columns: 1fr;
    }
    
    .simulator-visual {
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }
    
    .cmb-buttons {
        grid-template-columns: 1fr;
    }
}

/* ===== EFECTOS ESPECIALES COSMOL칍GICOS ===== */
#universeExpansion {
    filter: drop-shadow(0 0 10px rgba(255, 0, 255, 0.3));
}

#singularity {
    animation: cosmicPulse 2s infinite;
}

#expansionArrow {
    filter: drop-shadow(0 0 5px #ff5500);
}

#cmbMap::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        radial-gradient(circle at 30% 30%, rgba(255, 0, 255, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 70% 70%, rgba(0, 255, 234, 0.1) 0%, transparent 50%);
    pointer-events: none;
}

/* ===== TIPOGRAF칈A ESPECIAL ===== */
h3 {
    color: #ff00ff;
    border-left: 4px solid #4a148c;
    padding-left: 15px;
    margin-left: -15px;
    font-family: 'Courier New', monospace;
    text-transform: uppercase;
    letter-spacing: 2px;
    text-shadow: 0 0 10px #ff00ff;
}

h3::before {
    content: '游깳';
    margin-right: 10px;
}

h4 {
    color: #00ffea;
    border-bottom: 2px solid;
    padding-bottom: 0.3rem;
    font-family: 'Courier New', monospace;
    text-transform: uppercase;
    letter-spacing: 1px;
}

/* ===== FORMULAS MATHJAX ===== */
.formula {
    font-family: 'Courier New', monospace;
    color: #ffff00;
    text-align: center;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.7);
    border: 2px solid #ff5500;
    margin: 1rem 0;
    overflow-x: auto;
}

/* ===== SCROLLBAR PERSONALIZADA ===== */
::-webkit-scrollbar {
    width: 12px;
    height: 12px;
}

::-webkit-scrollbar-track {
    background: #000;
    border: 2px solid #4a148c;
}

::-webkit-scrollbar-thumb {
    background: linear-gradient(45deg, #4a148c, #ff00ff);
    border: 2px solid #000;
}

::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(45deg, #00ffea, #ffff00);
    box-shadow: 0 0 10px #00ffea;
}

/* =========================================== */
/* BOTONES ESTILIZADOS - INTERFAZ CYBERPUNK */
/* =========================================== */

/* ===== BOTONES PRINCIPALES ===== */
.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    background: #000;
    color: #00ffea;
    border: 2px solid #00ffea;
    padding: 0.6rem 1.2rem;
    font-family: 'Courier New', monospace;
    font-size: 0.85rem;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 1px;
    cursor: pointer;
    transition: all 0.2s ease;
    text-decoration: none;
    position: relative;
    overflow: hidden;
    min-width: 120px;
    max-width: 200px;
    height: 40px;
    box-shadow: 0 0 10px rgba(0, 255, 234, 0.2);
}

.btn::before {
    content: '>';
    position: absolute;
    left: 10px;
    opacity: 0;
    transition: opacity 0.2s ease;
    font-size: 0.9rem;
}

.btn:hover {
    background: #00ffea;
    color: #000;
    padding-left: 1.8rem;
    transform: translateY(-2px);
    box-shadow: 
        0 5px 15px rgba(0, 255, 234, 0.4),
        0 0 25px rgba(0, 255, 234, 0.2);
}

.btn:hover::before {
    opacity: 1;
}

.btn:active {
    transform: translateY(0);
    box-shadow: 0 2px 8px rgba(0, 255, 234, 0.3);
}

/* ===== VARIANTES DE COLOR ===== */
.btn-purple {
    color: #ff00ff;
    border-color: #ff00ff;
    box-shadow: 0 0 10px rgba(255, 0, 255, 0.2);
}

.btn-purple:hover {
    background: #ff00ff;
    color: #000;
    box-shadow: 
        0 5px 15px rgba(255, 0, 255, 0.4),
        0 0 25px rgba(255, 0, 255, 0.2);
}

.btn-yellow {
    color: #ffff00;
    border-color: #ffff00;
    box-shadow: 0 0 10px rgba(255, 255, 0, 0.2);
}

.btn-yellow:hover {
    background: #ffff00;
    color: #000;
    box-shadow: 
        0 5px 15px rgba(255, 255, 0, 0.4),
        0 0 25px rgba(255, 255, 0, 0.2);
}

.btn-orange {
    color: #ff5500;
    border-color: #ff5500;
    box-shadow: 0 0 10px rgba(255, 85, 0, 0.2);
}

.btn-orange:hover {
    background: #ff5500;
    color: #000;
    box-shadow: 
        0 5px 15px rgba(255, 85, 0, 0.4),
        0 0 25px rgba(255, 85, 0, 0.2);
}

.btn-red {
    color: #ff0000;
    border-color: #ff0000;
    box-shadow: 0 0 10px rgba(255, 0, 0, 0.2);
}

.btn-red:hover {
    background: #ff0000;
    color: #000;
    box-shadow: 
        0 5px 15px rgba(255, 0, 0, 0.4),
        0 0 25px rgba(255, 0, 0, 0.2);
}

/* ===== BOTONES PEQUE칌OS ===== */
.btn-sm {
    padding: 0.4rem 0.8rem;
    font-size: 0.75rem;
    min-width: 90px;
    height: 32px;
    gap: 0.3rem;
}

.btn-sm::before {
    left: 8px;
    font-size: 0.8rem;
}

.btn-sm:hover {
    padding-left: 1.4rem;
}

/* ===== BOTONES GRANDES (para acciones importantes) ===== */
.btn-lg {
    padding: 0.8rem 1.6rem;
    font-size: 0.9rem;
    min-width: 150px;
    height: 48px;
    gap: 0.6rem;
}

.btn-lg::before {
    left: 12px;
    font-size: 1rem;
}

.btn-lg:hover {
    padding-left: 2rem;
}

/* ===== BOTONES CON 칈CONOS ===== */
.btn-icon {
    padding-left: 0.8rem;
    padding-right: 0.8rem;
}

.btn-icon i {
    font-size: 0.9rem;
}

.btn-icon::before {
    display: none;
}

.btn-icon:hover {
    padding-left: 0.8rem;
}

/* ===== BOTONES DE GRUPO ===== */
.btn-group {
    display: inline-flex;
    gap: 0.5rem;
    flex-wrap: wrap;
}

.btn-group .btn {
    min-width: auto;
    flex: 1;
}

/* ===== BOTONES EN GRID/CONTROLES ===== */
.diagram-controls .btn,
.molecule-controls-panel .btn,
.phase-buttons .btn,
.cmb-buttons .btn {
    width: 100%;
    max-width: none;
    margin: 0.2rem 0;
}

/* ===== BOTONES DESHABILITADOS ===== */
.btn:disabled,
.btn.disabled {
    opacity: 0.5;
    cursor: not-allowed;
    background: #333;
    color: #666;
    border-color: #555;
    box-shadow: none;
    transform: none;
}

.btn:disabled:hover,
.btn.disabled:hover {
    background: #333;
    color: #666;
    padding-left: 1.2rem;
    transform: none;
    box-shadow: none;
}

.btn:disabled::before,
.btn.disabled::before {
    opacity: 0;
}

/* ===== BOTONES DE ACCI칍N ESPECIAL ===== */
.btn-action {
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0%, 100% { box-shadow: 0 0 10px rgba(0, 255, 234, 0.3); }
    50% { box-shadow: 0 0 20px rgba(0, 255, 234, 0.6); }
}

.btn-warning {
    animation: warningPulse 1.5s infinite;
}

@keyframes warningPulse {
    0%, 100% { 
        box-shadow: 0 0 10px rgba(255, 0, 0, 0.3); 
    }
    50% { 
        box-shadow: 0 0 20px rgba(255, 0, 0, 0.6); 
    }
}

/* ===== BOTONES EN FORMULARIOS ===== */
.form-buttons {
    display: flex;
    gap: 1rem;
    justify-content: center;
    margin: 1.5rem 0;
    flex-wrap: wrap;
}

/* ===== BOTONES DE NAVEGACI칍N ===== */
.nav-btn {
    position: relative;
    border-radius: 0;
}

.nav-btn-prev::before {
    content: '';
    margin-right: 0.5rem;
}

.nav-btn-next::after {
    content: '';
    margin-left: 0.5rem;
}

/* ===== BOTONES DE TOGGLE ===== */
.btn-toggle {
    display: inline-flex;
    align-items: center;
    background: #000;
    border: 2px solid #00ffea;
    padding: 0.4rem 0.8rem;
    font-family: 'Courier New', monospace;
    font-size: 0.8rem;
    color: #00ffea;
    cursor: pointer;
    transition: all 0.2s ease;
    min-width: 100px;
    height: 36px;
}

.btn-toggle.active {
    background: #00ffea;
    color: #000;
    box-shadow: 0 0 15px rgba(0, 255, 234, 0.4);
}

.btn-toggle-group {
    display: inline-flex;
    border: 2px solid #00ffea;
}

.btn-toggle-group .btn-toggle {
    border: none;
    border-right: 1px solid #00ffea;
}

.btn-toggle-group .btn-toggle:last-child {
    border-right: none;
}

/* ===== EFECTOS DE FOCO ===== */
.btn:focus {
    outline: none;
    box-shadow: 
        0 0 0 3px #000,
        0 0 0 6px #00ffea,
        0 0 25px rgba(0, 255, 234, 0.5);
}

.btn-purple:focus {
    box-shadow: 
        0 0 0 3px #000,
        0 0 0 6px #ff00ff,
        0 0 25px rgba(255, 0, 255, 0.5);
}

/* ===== RESPONSIVE ===== */
@media (max-width: 768px) {
    .btn {
        padding: 0.5rem 1rem;
        font-size: 0.8rem;
        min-width: 110px;
        height: 38px;
    }
    
    .btn-group {
        width: 100%;
    }
    
    .btn-group .btn {
        flex: 1 0 calc(50% - 0.5rem);
    }
    
    .form-buttons {
        flex-direction: column;
        align-items: stretch;
    }
    
    .form-buttons .btn {
        width: 100%;
        max-width: none;
    }
}

@media (max-width: 480px) {
    .btn {
        padding: 0.4rem 0.8rem;
        font-size: 0.75rem;
        min-width: 100px;
        height: 36px;
    }
    
    .btn-sm {
        padding: 0.3rem 0.6rem;
        font-size: 0.7rem;
        min-width: 80px;
        height: 30px;
    }
    
    .btn-group .btn {
        flex: 1 0 100%;
    }
}

/* ===== BOTONES FLOTANTES ===== */
.btn-float {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    z-index: 1000;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.btn-float-top {
    bottom: auto;
    top: 20px;
}

.btn-float-left {
    right: auto;
    left: 20px;
}

/* ===== BOTONES CON BADGE ===== */
.btn-badge {
    position: relative;
}

.badge {
    position: absolute;
    top: -8px;
    right: -8px;
    background: #ff0000;
    color: #fff;
    font-size: 0.7rem;
    padding: 0.1rem 0.4rem;
    border-radius: 10px;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    min-width: 20px;
    text-align: center;
}

/* ===== BOTONES CON EFECTO LOADING ===== */
.btn-loading {
    position: relative;
    color: transparent !important;
}

.btn-loading::after {
    content: '';
    position: absolute;
    width: 16px;
    height: 16px;
    border: 2px solid #fff;
    border-top-color: transparent;
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

/* ===== BOTONES CON GRADIENTE ===== */
.btn-gradient {
    background: linear-gradient(45deg, #00ffea, #ff00ff);
    border: none;
    color: #000;
}

.btn-gradient:hover {
    background: linear-gradient(45deg, #ff00ff, #00ffea);
}

/* ===== BOTONES CON BORDE PIXELADO ===== */
.btn-pixel {
    border-style: solid;
    border-width: 2px;
    border-image: repeating-linear-gradient(45deg, #00ffea, #00ffea 2px, #000 2px, #000 4px) 2;
}

.btn-pixel:hover {
    border-image: repeating-linear-gradient(45deg, #000, #000 2px, #00ffea 2px, #00ffea 4px) 2;
}

.button-style {
    background-color: #1a1a2e; /* Azul muy oscuro casi negro */
    color: #64dfdf; /* Cian brillante */
    border: 1px solid #64dfdf;
    padding: 12px 24px;
    border-radius: 6px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.button-style:hover {
    background-color: #0f3460;
    box-shadow: 0 0 10px rgba(100, 223, 223, 0.5);
}

/* ========================================
   CSS 칔NICO PARA LECCI칍N DE CONTAMINACI칍N
   Qu칤mica I - Contaminaci칩n Ambiental
   No colisiona con otros estilos del sitio
   ======================================== */

/* Contenedor principal de la lecci칩n */
.leccion-contaminacion {
    font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
    line-height: 1.6;
    color: #2c3e50;
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

/* =========== COMPONENTES REUTILIZABLES =========== */
.separador-tematico {
    text-align: center;
    margin: 40px 0;
    padding: 15px;
    background: linear-gradient(90deg, rgba(0,170,255,0.03), rgba(255,200,255,0.02));
    border-radius: 10px;
    border-left: 5px solid #3f51b5;
    border-right: 5px solid #3f51b5;
}

.separador-tematico span {
    font-weight: bold;
    color: #1a237e;
    font-size: 1.1rem;
    letter-spacing: 1px;
}

/* =========== SECCI칍N 1: INTRODUCCI칍N =========== */
.header-leccion {
    text-align: center;
    margin-bottom: 40px;
    padding: 30px;
    background: linear-gradient(135deg, rgba(0,20,40,0.9), rgba(0,40,60,0.9));
    color: var(--neon-yellow);
    border-radius: 15px;
    box-shadow: 0 10px 30px rgba(0,255,150,0.04);
}

.materia-badge {
    display: inline-block;
    background: #e91e63;
    color: black;
    padding: 8px 20px;
    border-radius: 20px;
    font-weight: bold;
    margin-bottom: 15px;
    letter-spacing: 1px;
}

.header-leccion h1 {
    font-size: 2.5rem;
    margin: 15px 0;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
}

.subtitulo {
    font-size: 1.2rem;
    opacity: 0.9;
    max-width: 800px;
    margin: 0 auto;
}

.concepto-principal {
    display: flex;
    align-items: flex-start;
    gap: 25px;
    background: var(--bg-card);
    padding: 30px;
    border-radius: 15px;
    margin: 30px 0;
    box-shadow: 0 5px 20px rgba(0,0,0,0.08);
    border-left: 6px solid var(--neon-green);
}

.concepto-icono {
    font-size: 3rem;
    flex-shrink: 0;
}

.concepto-texto h2 {
    color: #1a237e;
    margin-bottom: 15px;
    font-size: 1.8rem;
}

.dato-impactante {
    background: rgba(255,200,120,0.03);
    padding: 20px;
    border-radius: 10px;
    margin-top: 20px;
    border-left: 4px solid rgba(255,170,0,0.18);
}

.icono-impacto {
    font-size: 1.5rem;
    margin-right: 10px;
}

.contexto-real {
    background: rgba(144,255,180,0.03);
    padding: 25px;
    border-radius: 12px;
    margin: 30px 0;
    border: 1px dashed rgba(80,220,120,0.08);
    color: var(--text-dim);
}

.contexto-real h3 {
    color: #2e7d32;
    margin-bottom: 15px;
}

/* =========== SECCI칍N 2: TIPOS DE CONTAMINACI칍N =========== */
.grid-tipos {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 25px;
    margin: 30px 0;
}

.tipo-card {
    background: var(--bg-card);
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 8px 25px rgba(0,0,0,0.1);
    transition: transform 0.3s, box-shadow 0.3s;
}

.tipo-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 35px rgba(0,0,0,0.15);
}

.tipo-header {
    padding: 25px;
    color: black;
    text-align: center;
}

.tipo-icono {
    font-size: 3rem;
    margin-bottom: 15px;
}

.tipo-header h3 {
    color: black;
    margin: 0;
    font-size: 1.4rem;
}

.tipo-contenido {
    padding: 25px;
}

.tipo-contenido h4 {
    color: #37474f;
    margin-bottom: 15px;
    font-size: 1.1rem;
}

.tipo-contenido ul {
    padding-left: 20px;
    margin-bottom: 20px;
}

.tipo-contenido li {
    margin-bottom: 8px;
    padding-left: 5px;
}

.tipo-formula {
    background: var(--bg-panel);
    padding: 15px;
    border-radius: 8px;
    font-family: 'Courier New', monospace;
    text-align: center;
    border: 1px solid rgba(255,255,255,0.04);
    color: var(--text-dim);
}

/* Tabla comparativa */
.tabla-comparativa {
    background: var(--bg-card);
    padding: 30px;
    border-radius: 15px;
    margin: 40px 0;
    box-shadow: 0 8px 30px rgba(0,255,150,0.03);
    overflow-x: auto;
}

.tabla-comparativa h3 {
    color: var(--neon-cyan);
    margin-bottom: 25px;
    text-align: center;
}

.tabla-comparativa table {
    width: 100%;
    border-collapse: collapse;
    min-width: 800px;
}

.tabla-comparativa th {
    background: linear-gradient(135deg, var(--neon-blue), #006699);
    color: var(--text-light);
    padding: 18px 15px;
    text-align: left;
    font-weight: 600;
    border: none;
}

.tabla-comparativa td {
    padding: 16px 15px;
    border-bottom: 1px solid rgba(255,255,255,0.04);
    vertical-align: top;
}

.tabla-comparativa tr:nth-child(even) {
    background: rgba(255,255,255,0.02);
}

.tabla-comparativa tr:hover {
    background: rgba(0,255,200,0.03);
}

/* =========== SECCI칍N 3: VISUALIZACI칍N SVG =========== */
.svg-container {
    background: var(--bg-card);
    padding: 30px;
    border-radius: 15px;
    margin: 40px 0;
    box-shadow: 0 10px 30px rgba(0,255,150,0.03);
    text-align: center;
}

.svg-controls {
    margin-top: 25px;
    display: flex;
    justify-content: center;
    gap: 15px;
    align-items: center;
    flex-wrap: wrap;
}

.btn-control {
    background: linear-gradient(135deg, var(--neon-blue), #006699);
    color: var(--text-dark);
    border: none;
    padding: 12px 25px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    transition: background 0.18s;
    display: flex;
    align-items: center;
    gap: 8px;
}

.btn-control:hover {
    background: linear-gradient(135deg, #00bfff, var(--neon-cyan));
}

.info-tiempo-real {
    background: rgba(144,255,180,0.03);
    padding: 12px 25px;
    border-radius: 8px;
    font-weight: 600;
    color: var(--neon-green);
}

/* =========== SECCI칍N 4: INTERACTIVOS =========== */
.simulador {
    background: var(--bg-card);
    padding: 35px;
    border-radius: 15px;
    margin: 40px 0;
    box-shadow: 0 10px 30px rgba(0,255,150,0.03);
}

.instruccion {
    color: var(--text-dim);
    margin-bottom: 25px;
    font-style: italic;
}

.controles-simulador {
    background: rgba(255,255,255,0.02);
    padding: 25px;
    border-radius: 12px;
    margin-bottom: 30px;
}

.control-group {
    margin-bottom: 25px;
}

.control-group label {
    display: block;
    margin-bottom: 10px;
    font-weight: 600;
    color: #37474f;
}

.control-group input[type="range"] {
    width: 100%;
    height: 10px;
    background: #e0e0e0;
    border-radius: 5px;
    outline: none;
}

.formula-quimica {
    font-family: 'Courier New', monospace;
    background: rgba(144,255,180,0.03);
    padding: 12px;
    border-radius: 8px;
    margin-top: 10px;
    text-align: center;
    color: var(--text-dim);
    font-weight: 600;
}

.visualizacion-simulador {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px;
    margin: 30px 0;
}

@media (max-width: 768px) {
    .visualizacion-simulador {
        grid-template-columns: 1fr;
    }
}

.indicador {
    background: var(--bg-panel);
    padding: 25px;
    border-radius: 12px;
    box-shadow: 0 8px 24px rgba(0,255,150,0.03);
    border: 1px solid rgba(255,255,255,0.04);
}

.indicador-label {
    font-weight: 600;
    color: var(--text-dim);
    margin-bottom: 10px;
}

.indicador-valor {
    font-size: 2.5rem;
    font-weight: bold;
    color: var(--neon-green);
    margin: 15px 0;
}

.barra-ph, .barra-concentracion {
    height: 25px;
    background: rgba(255,255,255,0.02);
    border-radius: 12px;
    overflow: hidden;
    margin: 15px 0;
} 

.nivel-ph, .nivel-concentracion {
    height: 100%;
    background: linear-gradient(90deg, #4CAF50, #8BC34A);
    transition: width 0.5s ease;
}

.escala-ph {
    display: flex;
    justify-content: space-between;
    font-size: 0.9rem;
    color: #757575;
}

.btn-simular {
    background: linear-gradient(135deg, #3f51b5, #2196F3);
    color: black;
    border: none;
    padding: 18px 40px;
    border-radius: 10px;
    font-size: 1.1rem;
    font-weight: bold;
    cursor: pointer;
    display: block;
    margin: 30px auto;
    transition: transform 0.3s, box-shadow 0.3s;
}

.btn-simular:hover {
    transform: translateY(-3px);
    box-shadow: 0 10px 25px rgba(63, 81, 181, 0.3);
}

/* Quiz */
.quiz-container {
    background: var(--bg-panel);
    padding: 35px;
    border-radius: 15px;
    margin: 40px 0;
    box-shadow: 0 10px 30px rgba(0,255,150,0.03);
    color: var(--text-dim);
}

.quiz-progress {
    margin: 25px 0;
}

.progress-bar {
    height: 10px;
    background: linear-gradient(90deg, var(--neon-green), #88ff88);
    border-radius: 5px;
    transition: width 0.3s;
    width: 20%;
}

.progress-text {
    text-align: right;
    margin-top: 10px;
    color: var(--text-dim);
    font-weight: 600;
}

.quiz-question {
    display: none;
    background: rgba(255,255,255,0.02);
    padding: 30px;
    border-radius: 12px;
    margin: 25px 0;
}

.quiz-question.active {
    display: block;
}

.quiz-options {
    margin-top: 20px;
}

.option {
    display: block;
    background: rgba(255,255,255,0.02);
    padding: 18px;
    margin-bottom: 12px;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.2s;
    border: 2px solid transparent;
    color: var(--text-light);
}

.option:hover {
    background: rgba(0,255,150,0.03);
    border-color: rgba(0,170,255,0.08);
}

.option input[type="radio"] {
    margin-right: 15px;
}

.option-text {
    font-weight: 500;
}

.quiz-navigation {
    display: flex;
    justify-content: space-between;
    margin-top: 30px;
    gap: 15px;
}

.btn-quiz {
    padding: 12px 30px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.3s;
}

.btn-quiz:not(:disabled) {
    background: #3f51b5;
    color: black;
}

.btn-quiz:disabled {
    background: #e0e0e0;
    color: #9e9e9e;
    cursor: not-allowed;
}

.btn-quiz:hover:not(:disabled) {
    background: #283593;
    transform: translateY(-2px);
}

.btn-finalizar {
    background: #4CAF50 !important;
}

.btn-finalizar:hover:not(:disabled) {
    background: #388E3C !important;
}

.quiz-feedback {
    background: #e8f5e9;
    padding: 25px;
    border-radius: 12px;
    margin-top: 30px;
    border-left: 5px solid #4CAF50;
}

.score-circle {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 20px auto;
    position: relative;
}

.score-circle::before {
    content: '';
    position: absolute;
    width: 90px;
    height: 90px;
    background: rgba(255,255,255,0.03);
    border-radius: 50%;
}

.score-circle span {
    position: relative;
    z-index: 1;
    font-size: 2rem;
    font-weight: bold;
    color: #2e7d32;
}

/* =========== SECCI칍N 5: ERRORES COMUNES =========== */
.lista-errores {
    margin: 30px 0;
}

.error-item {
    background: var(--bg-card);
    border-radius: 12px;
    margin-bottom: 20px;
    overflow: hidden;
    border: 1px solid rgba(255,0,80,0.04);
}

.error-header {
    background: #ffebee;
    padding: 20px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    cursor: pointer;
}

.error-icon {
    font-size: 1.5rem;
    margin-right: 15px;
}

.error-header h3 {
    flex-grow: 1;
    margin: 0;
    color: #c62828;
}

.btn-revelar {
    background: #ff5252;
    color: black;
    border: none;
    padding: 10px 20px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 600;
    transition: background 0.3s;
}

.btn-revelar:hover {
    background: #d32f2f;
}

.error-contenido {
    padding: 0 20px;
    max-height: 0;
    overflow: hidden;
    transition: all 0.3s ease;
}

.error-contenido[style*="display: block"] {
    padding: 25px;
    max-height: 1000px;
}

.analogia {
    background: #fff3e0;
    padding: 15px;
    border-radius: 8px;
    margin-top: 15px;
    border-left: 4px solid #ff9800;
    font-style: italic;
}

/* =========== SECCI칍N 6: CONEXI칍N CURRICULAR =========== */
.tabla-conexion {
    overflow-x: auto;
    margin: 30px 0;
}

.tabla-conexion table {
    width: 100%;
    border-collapse: collapse;
    min-width: 900px;
}

.tabla-conexion th {
    background: linear-gradient(135deg, #3f51b5, #283593);
    color: black;
    padding: 20px;
    text-align: left;
    font-weight: 600;
}

.tabla-conexion td {
    padding: 18px;
    border-bottom: 1px solid #e0e0e0;
    vertical-align: top;
}

.tabla-conexion tr:nth-child(even) {
    background: rgba(255,255,255,0.02);
}

.tabla-conexion tr:hover {
    background: rgba(0,255,120,0.03);
}

.alert-evaluacion {
    background: linear-gradient(135deg, rgba(255,170,80,0.03), rgba(255,210,120,0.02));
    padding: 30px;
    border-radius: 15px;
    margin: 40px 0;
    border: 1px solid rgba(255,170,80,0.06);
    display: flex;
    gap: 25px;
    align-items: flex-start;
}

.alert-icon {
    font-size: 3rem;
    flex-shrink: 0;
}

.alert-content h4 {
    color: #e65100;
    margin-bottom: 15px;
}

.alert-content ul {
    padding-left: 20px;
    margin-top: 15px;
}

.alert-content li {
    margin-bottom: 10px;
    padding-left: 5px;
}

/* =========== SECCI칍N 7: PROBLEMAS EXAMEN =========== */
.problema {
    background: var(--bg-card);
    padding: 30px;
    border-radius: 15px;
    margin: 40px 0;
    box-shadow: 0 8px 25px rgba(0,255,150,0.03);
    border: 1px solid rgba(255,255,255,0.03);
}

.problema-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 25px;
    padding-bottom: 15px;
    border-bottom: 2px solid #3f51b5;
}

.problema-numero {
    font-size: 1.5rem;
    font-weight: bold;
    color: #3f51b5;
}

.problema-puntos {
    background: #ffebee;
    color: #c62828;
    padding: 8px 20px;
    border-radius: 20px;
    font-weight: bold;
}

.problema-enunciado {
    font-size: 1.1rem;
    line-height: 1.8;
}

.ecuacion {
    text-align: center;
    margin: 25px 0;
    padding: 20px;
    background: var(--bg-panel);
    border-radius: 10px;
    font-family: 'Courier New', monospace;
    color: var(--text-dim);
}

.tabla-datos table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
}

.tabla-datos th {
    background: #e3f2fd;
    padding: 15px;
    text-align: left;
    font-weight: 600;
}

.tabla-datos td {
    padding: 15px;
    border-bottom: 1px solid #e0e0e0;
}

.btn-pista {
    background: transparent;
    color: #3f51b5;
    border: 2px solid #3f51b5;
    padding: 10px 25px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    margin-top: 20px;
    transition: all 0.3s;
    display: inline-flex;
    align-items: center;
    gap: 10px;
}

.btn-pista:hover {
    background: #3f51b5;
    color: black;
}

.pista-resolucion {
    background: rgba(144,255,180,0.03);
    padding: 25px;
    border-radius: 10px;
    margin-top: 20px;
    display: none;
    color: var(--text-dim);
}

/* =========== SECCI칍N 8: CIERRE METACOGNITIVO =========== */
.preguntas-reflexivas {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 30px;
    margin: 40px 0;
}

.pregunta-reflexiva {
    background: var(--bg-card);
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 8px 25px rgba(0,255,150,0.03);
    border-top: 6px solid var(--neon-pink);
}

.pregunta-reflexiva h3 {
    color: #673ab7;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    gap: 10px;
}

.respuesta-reflexion {
    width: 100%;
    height: 120px;
    padding: 15px;
    border: 1px solid rgba(255,255,255,0.03);
    border-radius: 10px;
    resize: vertical;
    font-family: inherit;
    margin-top: 15px;
    font-size: 1rem;
    background: var(--bg-panel);
    color: var(--text-dim);
}

.respuesta-reflexion:focus {
    outline: none;
    border-color: #673ab7;
    box-shadow: 0 0 0 3px rgba(103, 58, 183, 0.1);
}

.resumen-aprendizaje {
    background: linear-gradient(135deg, rgba(144,255,180,0.02), rgba(120,220,140,0.02));
    padding: 35px;
    border-radius: 15px;
    margin: 40px 0;
    border: 1px solid rgba(80,220,120,0.06);
    color: var(--text-dim);
}

.resumen-aprendizaje h3 {
    color: #2e7d32;
    margin-bottom: 25px;
    text-align: center;
}

.resumen-aprendizaje ul {
    columns: 2;
    column-gap: 50px;
}

@media (max-width: 768px) {
    .resumen-aprendizaje ul {
        columns: 1;
    }
}

.resumen-aprendizaje li {
    background: var(--bg-card);
    padding: 15px;
    margin-bottom: 15px;
    border-radius: 8px;
    list-style: none;
    position: relative;
    padding-left: 50px;
    border-left: 4px solid var(--neon-green);
}

.resumen-aprendizaje li::before {
    content: '九';
    position: absolute;
    left: 15px;
    top: 50%;
    transform: translateY(-50%);
    background: #4CAF50;
    color: black;
    width: 25px;
    height: 25px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
}

/* =========== BADGES Y CLASES DE ESTADO =========== */
.badge {
    display: inline-block;
    padding: 8px 20px;
    border-radius: 20px;
    font-weight: bold;
    font-size: 0.9rem;
}

.ph-normal { background: #4CAF50; color: black; }
.ph-leve { background: #FFC107; color: #212121; }
.ph-moderado { background: #FF9800; color: black; }
.ph-severo { background: #F44336; color: black; }

.pulso {
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
}

/* =========== RESPONSIVE DESIGN =========== */
@media (max-width: 768px) {
    .header-leccion h1 {
        font-size: 1.8rem;
    }
    
    .concepto-principal {
        flex-direction: column;
        text-align: center;
    }
    
    .grid-tipos {
        grid-template-columns: 1fr;
    }
    
    .alert-evaluacion {
        flex-direction: column;
        text-align: center;
    }
    
    .preguntas-reflexivas {
        grid-template-columns: 1fr;
    }
    
    .quiz-navigation {
        flex-direction: column;
    }
    
    .btn-quiz {
        width: 100%;
        margin-bottom: 10px;
    }
}

/* =========== ESTILOS ESPEC칈FICOS PARA ELEMENTOS INTERACTIVOS =========== */
.fuente-interactiva:hover {
    cursor: pointer;
    filter: brightness(1.1);
}

select {
    width: 100%;
    padding: 12px;
    border: 2px solid #e0e0e0;
    border-radius: 8px;
    font-size: 1rem;
    background: var(--bg-panel);
    cursor: pointer;
}

select:focus {
    outline: none;
    border-color: #3f51b5;
    box-shadow: 0 0 0 3px rgba(63, 81, 181, 0.1);
}

input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 25px;
    height: 25px;
    background: #3f51b5;
    border-radius: 50%;
    cursor: pointer;
}

input[type="range"]::-moz-range-thumb {
    width: 25px;
    height: 25px;
    background: #3f51b5;
    border-radius: 50%;
    cursor: pointer;
    border: none;
}

/* =========== ANIMACIONES =========== */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

.leccion-contaminacion > section {
    animation: fadeIn 0.6s ease-out;
}

/* =========== ACCESIBILIDAD =========== */
@media (prefers-reduced-motion: reduce) {
    .pulso,
    .leccion-contaminacion > section {
        animation: none;
    }
    
    .tipo-card:hover {
        transform: none;
    }
}

/* =========== IMPRESI칍N =========== */
@media print {
    .leccion-contaminacion {
        color: black;
        padding: 0;
    }
    
    .btn-control,
    .btn-simular,
    .btn-quiz,
    .btn-revelar,
    .btn-pista {
        display: none !important;
    }
    
    .quiz-question {
        display: block !important;
        page-break-inside: avoid;
    }
    
    .svg-container {
        page-break-inside: avoid;
    }
    
    .error-contenido {
        display: block !important;
        max-height: none !important;
    }
}

/* ===================================================
   CYBERPUNK 8-BIT STYLES FOR CONTAMINATION LESSON
   Unique classes to prevent collisions
   =================================================== */

/* RESET Y BASE */
.cyber-leccion {
    font-family: 'Courier New', 'Consolas', monospace;
    background: #0a0a12;
    color: #00ff00;
    line-height: 1.4;
    padding: 20px;
    max-width: 1200px;
    margin: 0 auto;
    border: 2px solid #00ff00;
    box-shadow: 
        0 0 20px #00ff00,
        inset 0 0 20px rgba(0, 255, 0, 0.1);
    position: relative;
    overflow-x: hidden;
}

/* SCANLINE EFFECT */
.cyber-leccion::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
        transparent 50%,
        rgba(0, 255, 0, 0.05) 50%
    );
    background-size: 100% 4px;
    z-index: 9999;
    pointer-events: none;
    animation: scanline 8s linear infinite;
}

@keyframes scanline {
    0% { transform: translateY(0); }
    100% { transform: translateY(100vh); }
}

/* HEADER STYLES */
.cyber-header {
    text-align: center;
    padding: 30px 20px;
    margin-bottom: 40px;
    border-bottom: 3px solid #ff00ff;
    position: relative;
    overflow: hidden;
}

.terminal-effect {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 100%;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(0, 255, 0, 0.1),
        transparent
    );
    animation: terminal-scan 3s linear infinite;
}

@keyframes terminal-scan {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

.matrix-badge {
    display: flex;
    justify-content: center;
    gap: 5px;
    margin-bottom: 20px;
}

.pixel {
    display: inline-block;
    width: 25px;
    height: 25px;
    background: #00ff00;
    color: #0a0a12;
    font-weight: bold;
    text-align: center;
    line-height: 25px;
    margin: 0 2px;
    animation: pixel-pulse 2s infinite alternate;
}

@keyframes pixel-pulse {
    0% { transform: scale(1); opacity: 0.7; }
    100% { transform: scale(1.1); opacity: 1; }
}

.neon-title {
    font-size: 2.2rem;
    margin: 20px 0;
    text-transform: uppercase;
    letter-spacing: 3px;
}

.neon-cyan { color: #00ffff; text-shadow: 0 0 10px #00ffff; }
.neon-pink { color: #ff00ff; text-shadow: 0 0 10px #ff00ff; }
.neon-green { color: #00ff00; text-shadow: 0 0 10px #00ff00; }

.subtitle-glitch {
    font-size: 0.9rem;
    opacity: 0.8;
    margin-top: 20px;
}

.sub-pixel {
    display: block;
    margin: 5px 0;
    animation: text-flicker 3s infinite;
}

@keyframes text-flicker {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

/* DIAGNOSTIC PANEL */
.diagnostic-panel {
    background: rgba(0, 20, 40, 0.8);
    border: 2px solid #00ffff;
    padding: 25px;
    margin-bottom: 40px;
    border-radius: 0;
    box-shadow: 0 0 15px rgba(0, 255, 255, 0.3);
}

.panel-title {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 30px;
}

.blinking-cursor {
    width: 12px;
    height: 20px;
    background: #00ff00;
    animation: blink 1s infinite;
}

@keyframes blink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
}

.status-led {
    width: 15px;
    height: 15px;
    border-radius: 50%;
    background: #ff0000;
    box-shadow: 0 0 10px #ff0000;
    animation: led-pulse 2s infinite;
}

@keyframes led-pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 20px;
}

.stat-card {
    background: rgba(0, 30, 60, 0.7);
    border: 1px solid #00ff00;
    padding: 20px;
    transition: all 0.3s;
}

.stat-card:hover {
    border-color: #ff00ff;
    transform: translateY(-5px);
    box-shadow: 0 5px 15px rgba(255, 0, 255, 0.3);
}

.stat-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 15px;
}

.stat-icon {
    font-size: 1.5rem;
}

.stat-value {
    font-size: 1.8rem;
    font-weight: bold;
    margin: 10px 0;
}

.neon-number {
    color: #ffff00;
    text-shadow: 0 0 8px #ffff00;
}

.stat-bar {
    height: 10px;
    background: rgba(255, 255, 255, 0.1);
    margin: 15px 0;
    border-radius: 0;
    overflow: hidden;
}

.stat-fill {
    height: 100%;
    background: linear-gradient(90deg, #ff0000, #ff5500);
    width: 0;
    animation: fill-bar 1.5s ease-out forwards;
}

@keyframes fill-bar {
    from { width: 0; }
}

/* CONCEPT CARDS */
.section-title {
    margin: 50px 0 30px;
    text-align: center;
}

.title-decoration {
    display: inline-block;
    position: relative;
    padding: 15px 40px;
    border: 2px solid #ff00ff;
}

.pixel-corner {
    position: absolute;
    width: 10px;
    height: 10px;
    background: #00ff00;
}

.tl { top: -2px; left: -2px; }
.tr { top: -2px; right: -2px; }
.bl { bottom: -2px; left: -2px; }
.br { bottom: -2px; right: -2px; }

.concept-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 25px;
    margin: 30px 0;
}

.glitch-card {
    background: rgba(20, 0, 40, 0.8);
    border: 2px solid #00ffff;
    padding: 0;
    position: relative;
    overflow: hidden;
}

.glitch-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 0, 255, 0.2),
        transparent
    );
    transition: left 0.5s;
}

.glitch-card:hover::before {
    left: 100%;
}

.card-header {
    background: rgba(0, 255, 255, 0.1);
    padding: 20px;
    border-bottom: 2px solid #00ffff;
    display: flex;
    align-items: center;
    gap: 15px;
}

.card-icon {
    font-size: 1.8rem;
}

.card-content {
    padding: 25px;
}

.pixel-list {
    list-style: none;
    padding: 0;
    margin: 0 0 20px 0;
}

.pixel-list li {
    margin-bottom: 12px;
    display: flex;
    align-items: center;
    gap: 10px;
}

.pixel-bullet {
    color: #ff00ff;
    font-size: 1.2rem;
}

.pixel-code {
    display: block;
    background: rgba(0, 0, 0, 0.5);
    padding: 15px;
    border: 1px solid #00ff00;
    font-family: 'Courier New', monospace;
    color: #00ff00;
    margin-top: 15px;
    text-align: center;
}

/* SIMULATOR STYLES */
.simulator-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px;
    margin: 30px 0;
}

@media (max-width: 768px) {
    .simulator-container {
        grid-template-columns: 1fr;
    }
}

.control-panel {
    background: rgba(0, 20, 40, 0.8);
    border: 2px solid #00ff00;
    padding: 25px;
}

.pixel-label {
    display: block;
    margin-bottom: 10px;
    color: #00ffff;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.slider-container {
    display: flex;
    align-items: center;
    gap: 20px;
    margin: 15px 0;
}

.pixel-slider {
    flex: 1;
    height: 20px;
    -webkit-appearance: none;
    background: rgba(0, 255, 0, 0.1);
    border: 2px solid #00ff00;
    border-radius: 0;
}

.pixel-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 25px;
    height: 25px;
    background: #ff00ff;
    border: 2px solid #00ff00;
    cursor: pointer;
}

.slider-value {
    min-width: 50px;
    text-align: center;
    background: #000;
    padding: 8px;
    border: 2px solid #00ffff;
    font-weight: bold;
}

.reaction-display {
    margin: 15px 0;
    padding: 12px;
    background: rgba(0, 255, 255, 0.1);
    border: 1px dashed #00ffff;
}

.pixel-equation {
    color: #ffff00;
    font-family: 'Courier New', monospace;
}

.pixel-select {
    width: 100%;
    padding: 12px;
    background: #000;
    color: #00ff00;
    border: 2px solid #00ff00;
    font-family: 'Courier New', monospace;
    margin: 10px 0;
}

.pixel-select option {
    background: #000;
    color: #00ff00;
}

.pixel-button {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    padding: 15px 30px;
    background: linear-gradient(45deg, #ff00ff, #00ffff);
    color: #000;
    border: none;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 1px;
    cursor: pointer;
    transition: all 0.3s;
    margin-top: 20px;
    font-family: 'Courier New', monospace;
}

.pixel-button:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(255, 0, 255, 0.5);
}

.pixel-button.secondary {
    background: linear-gradient(45deg, #00ff00, #00ffff);
}

.pixel-button.warning {
    background: linear-gradient(45deg, #ff5500, #ff0000);
}

.results-panel {
    display: grid;
    grid-template-rows: 1fr 1fr;
    gap: 20px;
}

.result-display, .acid-concentration {
    background: rgba(20, 0, 40, 0.8);
    border: 2px solid #ff00ff;
    padding: 25px;
    text-align: center;
}

.ph-display {
    font-size: 3.5rem;
    font-weight: bold;
    color: #00ffff;
    text-shadow: 0 0 15px #00ffff;
    margin: 20px 0;
}

.ph-scale {
    margin: 25px 0;
}

.scale-bar {
    height: 20px;
    background: linear-gradient(90deg, #ff0000, #ffff00, #00ff00, #00ffff);
    position: relative;
    border: 2px solid #fff;
}

.ph-indicator {
    position: absolute;
    top: -10px;
    width: 4px;
    height: 40px;
    background: #fff;
    transform: translateX(-50%);
}

.scale-labels {
    display: flex;
    justify-content: space-between;
    margin-top: 10px;
    font-size: 0.9rem;
}

.ph-classification {
    font-size: 1.2rem;
    font-weight: bold;
    margin-top: 15px;
    padding: 10px;
    background: rgba(0, 255, 0, 0.1);
    border: 2px solid #00ff00;
}

.ph-classification.normal { color: #00ff00; border-color: #00ff00; }
.ph-classification.light { color: #ffff00; border-color: #ffff00; }
.ph-classification.acid { color: #ff5500; border-color: #ff5500; }
.ph-classification.severe { color: #ff0000; border-color: #ff0000; }

.concentration-bar {
    height: 25px;
    background: rgba(255, 0, 255, 0.1);
    border: 2px solid #ff00ff;
    margin: 20px 0;
    overflow: hidden;
}

.acid-level {
    height: 100%;
    background: linear-gradient(90deg, #00ffff, #ff00ff);
    width: 0;
    transition: width 1s ease;
}

.simulation-log {
    background: rgba(0, 0, 0, 0.8);
    border: 2px solid #00ff00;
    margin-top: 30px;
    font-family: 'Courier New', monospace;
}

.log-title {
    background: rgba(0, 255, 0, 0.1);
    padding: 15px;
    border-bottom: 2px solid #00ff00;
    font-weight: bold;
}

.log-content {
    padding: 20px;
    height: 200px;
    overflow-y: auto;
}

.log-entry {
    margin-bottom: 10px;
    padding: 8px;
    background: rgba(0, 255, 0, 0.05);
    border-left: 3px solid #00ff00;
}

/* QUIZ STYLES */
.quiz-interface {
    background: rgba(0, 20, 40, 0.8);
    border: 2px solid #00ffff;
    padding: 30px;
    margin: 30px 0;
}

.quiz-progress {
    margin-bottom: 30px;
}

.progress-track {
    height: 10px;
    background: rgba(0, 255, 255, 0.1);
    border: 2px solid #00ffff;
    margin-bottom: 10px;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #00ffff, #ff00ff);
    width: 20%;
    transition: width 0.5s ease;
}

.progress-text {
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 1.1rem;
}

.progress-number {
    color: #ff00ff;
    font-weight: bold;
    font-size: 1.3rem;
}

.question-display {
    display: none;
    animation: fadeIn 0.5s ease;
}

.question-display.active {
    display: block;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

.question-header {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 20px;
}

.q-number {
    color: #ff00ff;
    font-weight: bold;
    background: rgba(255, 0, 255, 0.1);
    padding: 8px 15px;
    border: 2px solid #ff00ff;
}

.options-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    margin: 25px 0;
}

@media (max-width: 768px) {
    .options-grid {
        grid-template-columns: 1fr;
    }
}

.option {
    background: rgba(0, 255, 0, 0.05);
    border: 2px solid #00ff00;
    padding: 20px;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    gap: 15px;
}

.option:hover {
    background: rgba(0, 255, 0, 0.1);
    border-color: #ffff00;
}

.option.selected {
    background: rgba(0, 255, 255, 0.1);
    border-color: #00ffff;
    box-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
}

.option-marker {
    width: 35px;
    height: 35px;
    background: #ff00ff;
    color: #000;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    flex-shrink: 0;
}

.quiz-controls {
    display: flex;
    justify-content: space-between;
    gap: 15px;
    margin-top: 30px;
}

.quiz-results {
    display: none;
    margin-top: 30px;
    padding: 25px;
    background: rgba(0, 40, 0, 0.8);
    border: 2px solid #00ff00;
    text-align: center;
}

.results-header {
    font-size: 1.3rem;
    font-weight: bold;
    margin-bottom: 20px;
    color: #00ffff;
}

.score-display {
    margin: 25px 0;
}

.score-value {
    font-size: 4rem;
    font-weight: bold;
    color: #ffff00;
    text-shadow: 0 0 15px #ffff00;
}

.score-label {
    font-size: 1.2rem;
    color: #00ff00;
    margin-top: 10px;
}

.performance-bar {
    height: 15px;
    background: rgba(255, 255, 255, 0.1);
    margin: 30px 0;
    border-radius: 0;
    overflow: hidden;
}

.performance-fill {
    height: 100%;
    background: linear-gradient(90deg, #ff0000, #ffff00, #00ff00);
    transition: width 1.5s ease;
}

.feedback {
    font-size: 1.5rem;
    font-weight: bold;
    margin-top: 20px;
    padding: 15px;
    background: rgba(0, 255, 0, 0.1);
    border: 2px solid #00ff00;
}

/* ERROR MATRIX */
.error-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 25px;
    margin: 30px 0;
}

.error-card {
    background: rgba(40, 0, 0, 0.8);
    border: 2px solid #ff0000;
    overflow: hidden;
}

.error-header {
    background: rgba(255, 0, 0, 0.1);
    padding: 20px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    cursor: pointer;
    transition: all 0.3s;
}

.error-header:hover {
    background: rgba(255, 0, 0, 0.2);
}

.error-icon {
    font-size: 1.5rem;
    color: #ff0000;
}

.toggle-icon {
    font-size: 1.5rem;
    font-weight: bold;
    color: #ff0000;
}

.error-content {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.5s ease;
    padding: 0 20px;
}

.error-example {
    margin-top: 20px;
    padding: 15px;
    background: rgba(255, 0, 0, 0.05);
    border-left: 4px solid #ff0000;
}

.example-label {
    display: block;
    font-weight: bold;
    color: #ff0000;
    margin-bottom: 8px;
}

/* TERMINAL STYLES */
.terminal-container {
    background: #000;
    border: 3px solid #00ff00;
    margin: 30px 0;
    box-shadow: 0 0 20px rgba(0, 255, 0, 0.5);
}

.terminal-header {
    background: #001100;
    padding: 15px 20px;
    border-bottom: 2px solid #00ff00;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.terminal-controls {
    display: flex;
    gap: 8px;
}

.control-dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
}

.red { background: #ff0000; }
.yellow { background: #ffff00; }
.green { background: #00ff00; }

.terminal-content {
    padding: 25px;
    font-family: 'Courier New', monospace;
}

.prompt-line {
    margin-bottom: 15px;
}

.prompt-user {
    color: #00ff00;
    font-weight: bold;
}

.prompt-command {
    color: #ffff00;
    margin-left: 10px;
}

.output-line {
    color: #00ffff;
    margin: 10px 0;
}

.problem-statement {
    margin: 25px 0;
    padding: 20px;
    background: rgba(0, 30, 0, 0.5);
    border: 2px solid #00ff00;
}

.problem-data {
    margin: 20px 0;
}

.data-item {
    margin: 15px 0;
    display: flex;
    align-items: flex-start;
    gap: 15px;
}

.data-label {
    color: #ff00ff;
    font-weight: bold;
    min-width: 30px;
}

.hint-section {
    margin-top: 25px;
}

.hint-content {
    display: none;
    margin-top: 15px;
    padding: 15px;
    background: rgba(0, 255, 255, 0.1);
    border: 1px dashed #00ffff;
}

.hint-label {
    color: #00ffff;
    font-weight: bold;
    margin-right: 10px;
}

.pixel-textarea {
    width: 100%;
    min-height: 150px;
    background: #000;
    color: #00ff00;
    border: 2px solid #00ff00;
    padding: 15px;
    font-family: 'Courier New', monospace;
    resize: vertical;
}

.pixel-textarea.small {
    min-height: 80px;
}

.solution-area {
    margin-top: 30px;
}

.solution-title {
    color: #ff00ff;
    font-weight: bold;
    margin-bottom: 15px;
    font-size: 1.1rem;
}

/* MEMORY RAM CHIPS */
.ram-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 25px;
    margin: 30px 0;
}

.ram-chip {
    background: rgba(0, 20, 40, 0.8);
    border: 2px solid #00ffff;
    padding: 0;
    transition: all 0.3s;
    position: relative;
}

.ram-chip:hover {
    transform: translateY(-5px);
    box-shadow: 0 5px 20px rgba(0, 255, 255, 0.5);
}

.ram-chip::before {
    content: '';
    position: absolute;
    top: 5px;
    left: 5px;
    right: 5px;
    bottom: 5px;
    border: 1px solid rgba(0, 255, 255, 0.3);
}

.chip-header {
    background: rgba(0, 255, 255, 0.1);
    padding: 20px;
    text-align: center;
    font-weight: bold;
    font-size: 1.2rem;
    color: #00ffff;
    border-bottom: 2px solid #00ffff;
}

.chip-content {
    padding: 25px;
}

.chip-data {
    display: flex;
    justify-content: space-between;
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 1px solid rgba(0, 255, 255, 0.1);
}

.data-key {
    color: #00ff00;
}

.data-value {
    color: #ffff00;
    font-weight: bold;
}

/* REFLECTION SECTION */
.reflection-questions {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 25px;
    margin: 30px 0;
}

.reflection-card {
    background: rgba(40, 0, 40, 0.8);
    border: 2px solid #ff00ff;
    padding: 0;
}

.reflection-header {
    background: rgba(255, 0, 255, 0.1);
    padding: 20px;
    display: flex;
    align-items: center;
    gap: 20px;
    border-bottom: 2px solid #ff00ff;
}

.reflection-number {
    color: #ff00ff;
    font-size: 2rem;
    font-weight: bold;
    min-width: 50px;
    text-align: center;
}

.reflection-content {
    padding: 25px;
}

/* ACHIEVEMENT SYSTEM */
.achievement-system {
    margin-top: 40px;
    padding: 25px;
    background: rgba(0, 30, 0, 0.8);
    border: 2px solid #00ff00;
}

.achievement-title {
    font-size: 1.3rem;
    font-weight: bold;
    color: #00ff00;
    margin-bottom: 20px;
    text-align: center;
}

.achievements-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
}

.achievement {
    background: rgba(0, 0, 0, 0.5);
    border: 2px solid #666;
    padding: 20px;
    text-align: center;
    transition: all 0.3s;
}

.achievement.unlocked {
    border-color: #ffff00;
    box-shadow: 0 0 10px #ffff00;
}

.achievement-icon {
    font-size: 2rem;
    display: block;
    margin-bottom: 10px;
}

.achievement-text {
    font-weight: bold;
    color: #ccc;
}

.achievement.unlocked .achievement-text {
    color: #ffff00;
}

/* NOTIFICATION SYSTEM */
.achievement-notification {
    position: fixed;
    top: 20px;
    right: 20px;
    background: rgba(0, 40, 0, 0.9);
    border: 2px solid #00ff00;
    padding: 20px;
    display: flex;
    align-items: center;
    gap: 15px;
    transform: translateX(100%);
    transition: transform 0.3s;
    z-index: 10000;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
}

.achievement-notification.show {
    transform: translateX(0);
}

.notif-icon {
    font-size: 1.8rem;
}

.notif-text {
    font-weight: bold;
    color: #00ff00;
}

/* GLITCH EFFECT */
.glitching {
    animation: glitch 0.3s infinite;
}

@keyframes glitch {
    0% { transform: translate(0); }
    20% { transform: translate(-2px, 2px); }
    40% { transform: translate(-2px, -2px); }
    60% { transform: translate(2px, 2px); }
    80% { transform: translate(2px, -2px); }
    100% { transform: translate(0); }
}

/* RESPONSIVE DESIGN */
@media (max-width: 768px) {
    .neon-title {
        font-size: 1.5rem;
    }
    
    .stats-grid,
    .concept-grid,
    .options-grid,
    .error-grid,
    .ram-grid,
    .reflection-questions {
        grid-template-columns: 1fr;
    }
    
    .quiz-controls {
        flex-direction: column;
    }
    
    .pixel-button {
        width: 100%;
        justify-content: center;
    }
}

/* PRINT STYLES */
@media print {
    .cyber-leccion {
        color: #000;
        background: #fff;
        border: none;
        box-shadow: none;
    }
    
    .cyber-leccion::before,
    .terminal-effect,
    .status-led,
    .blinking-cursor {
        display: none;
    }
    
    .pixel-button,
    .quiz-controls,
    .achievement-system {
        display: none;
    }
}

/* ============================================
   ESTILOS UNIFICADOS PARA SISTEMA EDUCATIVO
   ============================================ */

/* 1. VARIABLES Y RESET */
:root {
    /* Paleta principal - Azules acad칠micos */
    --primary-color: #1a237e;
    --primary-light: #534bae;
    --primary-dark: #000051;
    
    /* Colores cient칤ficos */
    --chemistry-blue: #1565c0;
    --chemistry-green: #2e7d32;
    --chemistry-red: #c62828;
    --chemistry-yellow: #f9a825;
    --chemistry-purple: #6a1b9a;
    
    /* Escala de grises (modo oscuro) */
    --gray-50: rgba(255,255,255,0.02);
    --gray-100: rgba(255,255,255,0.03);
    --gray-200: rgba(255,255,255,0.04);
    --gray-300: rgba(255,255,255,0.06);
    --gray-400: rgba(255,255,255,0.10);
    --gray-500: rgba(255,255,255,0.16);
    --gray-600: #bdbdbd;
    --gray-700: #9e9e9e;
    --gray-800: #616161;
    --gray-900: #303030;
    
    /* Sistema de feedback */
    --success-color: #4caf50;
    --warning-color: #ff9800;
    --error-color: #f44336;
    --info-color: #2196f3;
    
    /* Tipograf칤a */
    --font-heading: 'Segoe UI', 'Roboto', sans-serif;
    --font-body: 'Segoe UI', 'Roboto', sans-serif;
    --font-mono: 'Courier New', 'Consolas', monospace;
    
    /* Espaciado */
    --space-xs: 0.25rem;
    --space-sm: 0.5rem;
    --space-md: 1rem;
    --space-lg: 1.5rem;
    --space-xl: 2rem;
    --space-xxl: 3rem;
    
    /* Bordes */
    --border-radius-sm: 4px;
    --border-radius-md: 8px;
    --border-radius-lg: 12px;
    --border-radius-xl: 16px;
    
    /* Sombras */
    --shadow-sm: 0 2px 4px rgba(0,0,0,0.1);
    --shadow-md: 0 4px 8px rgba(0,0,0,0.12);
    --shadow-lg: 0 8px 16px rgba(0,0,0,0.14);
    --shadow-xl: 0 12px 24px rgba(0,0,0,0.16);
    
    /* Transiciones */
    --transition-fast: 0.15s ease;
    --transition-normal: 0.3s ease;
    --transition-slow: 0.5s ease;
}

/* Reset b치sico */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: var(--font-body);
    line-height: 1.6;
    color: var(--gray-900);
    background-color: var(--gray-50);
    padding: var(--space-md);
}

/* 2. CONTENEDORES PRINCIPALES */
.content-header {
    background: linear-gradient(135deg, var(--primary-color), var(--primary-light));
    color: black;
    padding: var(--space-xl) var(--space-lg);
    border-radius: var(--border-radius-lg);
    margin-bottom: var(--space-xl);
    box-shadow: var(--shadow-md);
}

.content-body {
    max-width: 1200px;
    margin: 0 auto;
    padding: var(--space-lg);
}

/* 3. OBJETIVOS DE APRENDIZAJE */
.learning-goals {
    background: rgba(255, 255, 255, 0.1);
    padding: var(--space-lg);
    border-radius: var(--border-radius-md);
    border-left: 4px solid var(--chemistry-yellow);
}

.learning-goals h3 {
    margin-bottom: var(--space-md);
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.learning-goals ul {
    list-style: none;
    padding-left: var(--space-md);
}

.learning-goals li {
    margin-bottom: var(--space-sm);
    padding-left: var(--space-md);
    position: relative;
}

.learning-goals li::before {
    content: "九";
    position: absolute;
    left: 0;
    color: var(--chemistry-yellow);
    font-weight: bold;
}

/* 4. T칈TULOS Y ENCABEZADOS */
h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-heading);
    font-weight: 600;
    line-height: 1.3;
    margin: var(--space-lg) 0 var(--space-md) 0;
    color: var(--primary-color);
}

h1 {
    font-size: 2.5rem;
    border-bottom: 3px solid var(--chemistry-yellow);
    padding-bottom: var(--space-sm);
}

h2 {
    font-size: 2rem;
    color: var(--chemistry-blue);
    border-left: 4px solid var(--chemistry-blue);
    padding-left: var(--space-md);
}

h3 {
    font-size: 1.5rem;
    color: var(--chemistry-green);
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

h4 {
    font-size: 1.25rem;
    color: var(--chemistry-purple);
}

h5 {
    font-size: 1.1rem;
    color: var(--gray-700);
}

/* 5. GRID DE TEOR칈A */
.theory-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-lg);
    margin: var(--space-lg) 0;
}

.theory-card {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: var(--border-radius-md);
    box-shadow: 0 8px 24px rgba(0,255,150,0.03);
    border: 1px solid rgba(255,255,255,0.03);
    transition: transform var(--transition-normal), box-shadow var(--transition-normal);
}

.theory-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

.theory-card.example {
    border-left: 4px solid rgba(255,200,50,0.14);
    background-color: rgba(255,200,50,0.03);
}

.theory-card h4 {
    color: var(--primary-color);
    margin-top: 0;
    margin-bottom: var(--space-md);
    padding-bottom: var(--space-sm);
    border-bottom: 2px solid var(--gray-200);
}

.theory-card p {
    margin-bottom: var(--space-md);
}

.theory-card ul {
    list-style: none;
    padding-left: var(--space-md);
}

.theory-card li {
    margin-bottom: var(--space-sm);
    padding-left: var(--space-md);
    position: relative;
}

.theory-card li::before {
    content: "";
    position: absolute;
    left: 0;
    color: var(--chemistry-blue);
    font-weight: bold;
}

/* 6. TABLAS */
.classification-table {
    width: 100%;
    border-collapse: collapse;
    margin: var(--space-xl) 0;
    box-shadow: var(--shadow-sm);
    border-radius: var(--border-radius-md);
    overflow: hidden;
}

.classification-table thead {
    background: var(--primary-color);
    color: black;
}

.classification-table th {
    padding: var(--space-md);
    text-align: left;
    font-weight: 600;
    font-size: 0.95rem;
}

.classification-table tbody tr {
    border-bottom: 1px solid var(--gray-200);
    transition: background-color var(--transition-fast);
}

.classification-table tbody tr:hover {
    background-color: rgba(255,255,255,0.03);
}

.classification-table td {
    padding: var(--space-md);
    vertical-align: top;
}

.classification-table td:first-child {
    font-weight: 600;
    color: var(--primary-color);
}

.classification-table tr:nth-child(even) {
    background-color: var(--gray-50);
}

/* 7. CONTENEDORES DE DIAGRAMAS */
.diagram-container {
    background: var(--bg-card);
    border: 1px solid rgba(255,255,255,0.03);
    border-radius: var(--border-radius-lg);
    padding: var(--space-lg);
    margin: var(--space-xl) 0;
    box-shadow: 0 10px 30px rgba(0,255,150,0.03);
    overflow: hidden;
}

.diagram-controls {
    display: flex;
    gap: var(--space-sm);
    flex-wrap: wrap;
    margin-top: var(--space-lg);
    padding: var(--space-md);
    background: rgba(255,255,255,0.02);
    border-radius: var(--border-radius-md);
}

.diagram-info {
    margin-top: var(--space-md);
    padding: var(--space-md);
    background: rgba(0,170,255,0.03);
    border-radius: var(--border-radius-md);
    border-left: 4px solid rgba(0,170,255,0.18);
    font-size: 0.95rem;
    color: var(--text-dim);
}

/* 8. BOTONES */
button {
    font-family: var(--font-body);
    font-size: 0.95rem;
    font-weight: 500;
    padding: var(--space-sm) var(--space-md);
    border: none;
    border-radius: var(--border-radius-sm);
    cursor: pointer;
    transition: all var(--transition-fast);
    display: inline-flex;
    align-items: center;
    gap: var(--space-sm);
}

button:hover {
    transform: translateY(-1px);
    box-shadow: var(--shadow-sm);
}

button:active {
    transform: translateY(0);
}

button:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

/* Botones espec칤ficos */
.diagram-controls button {
    background: var(--primary-color);
    color: black;
    padding: var(--space-sm) var(--space-md);
    border-radius: var(--border-radius-sm);
}

.diagram-controls button:hover {
    background: var(--primary-dark);
}

.quiz-option {
    background: var(--gray-100);
    color: var(--gray-800);
    width: 100%;
    text-align: left;
    margin: var(--space-xs) 0;
    padding: var(--space-md);
    border-radius: var(--border-radius-sm);
    border: 2px solid transparent;
}

.quiz-option:hover {
    background: var(--gray-200);
    border-color: var(--primary-light);
}

.quiz-option[data-correct="true"] {
    background: #e8f5e9;
    border-color: var(--success-color);
}

.quiz-reset {
    background: var(--gray-300);
    color: var(--gray-800);
    margin-top: var(--space-md);
}

.quiz-reset:hover {
    background: var(--gray-400);
}

/* 9. SIMULADORES */
.simulator-container {
    background: var(--bg-card);
    border: 1px solid rgba(255,255,255,0.03);
    border-radius: var(--border-radius-lg);
    padding: var(--space-xl);
    margin: var(--space-xl) 0;
    box-shadow: 0 12px 40px rgba(0,255,150,0.03);
}

.simulator-controls {
    background: var(--gray-50);
    padding: var(--space-lg);
    border-radius: var(--border-radius-md);
    margin-bottom: var(--space-lg);
}

.control-group {
    margin-bottom: var(--space-md);
}

.control-group label {
    display: block;
    margin-bottom: var(--space-xs);
    font-weight: 500;
    color: var(--gray-700);
}

.control-group input[type="range"] {
    width: 100%;
    height: 6px;
    background: var(--gray-300);
    border-radius: 3px;
    outline: none;
    -webkit-appearance: none;
}

.control-group input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 20px;
    height: 20px;
    background: var(--primary-color);
    border-radius: 50%;
    cursor: pointer;
    border: 3px solid black;
    box-shadow: var(--shadow-sm);
}

.control-group span {
    display: inline-block;
    margin-left: var(--space-sm);
    font-weight: 600;
    color: var(--primary-color);
    min-width: 120px;
}

.simulator-visual {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-xl);
    margin: var(--space-xl) 0;
}

@media (max-width: 768px) {
    .simulator-visual {
        grid-template-columns: 1fr;
    }
}

.simulator-explanation {
    background: rgba(255,200,255,0.03);
    padding: var(--space-lg);
    border-radius: var(--border-radius-md);
    border-left: 4px solid rgba(153,50,204,0.18);
    margin-top: var(--space-xl);
    color: var(--text-dim);
}

/* 10. VISUALIZACIONES ESPEC칈FICAS */
.reactions-display {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: var(--border-radius-md);
    border: 1px solid rgba(255,255,255,0.03);
}

.formula {
    background: var(--gray-50);
    padding: var(--space-md);
    border-radius: var(--border-radius-md);
    margin-bottom: var(--space-lg);
    font-family: var(--font-mono);
    text-align: center;
    overflow-x: auto;
}

.ph-display {
    font-size: 3rem;
    font-weight: 700;
    color: var(--primary-color);
    text-align: center;
    margin: var(--space-md) 0;
}

.ph-scale {
    width: 100%;
    margin: var(--space-lg) 0;
}

.scale-bar {
    position: relative;
    height: 25px;
    background: linear-gradient(90deg, 
        var(--chemistry-red) 0%, 
        var(--chemistry-yellow) 50%, 
        var(--success-color) 100%);
    border-radius: var(--border-radius-sm);
    overflow: hidden;
}

.ph-indicator {
    position: absolute;
    top: -5px;
    width: 4px;
    height: 35px;
    background: var(--gray-900);
    transform: translateX(-50%);
    transition: left var(--transition-normal);
}

.scale-labels {
    display: flex;
    justify-content: space-between;
    margin-top: var(--space-xs);
    font-size: 0.85rem;
    color: var(--gray-600);
}

.classification {
    text-align: center;
    font-weight: 600;
    padding: var(--space-sm);
    border-radius: var(--border-radius-sm);
    margin: var(--space-md) 0;
    background: rgba(255,255,255,0.02);
    color: var(--text-dim);
}

/* 11. CONTENEDORES DE INFORMACI칍N */
.air-quality-container,
.cmb-container {
    background: var(--bg-card);
    border: 1px solid rgba(255,255,255,0.03);
    border-radius: var(--border-radius-lg);
    padding: var(--space-xl);
    margin: var(--space-xl) 0;
    box-shadow: 0 10px 30px rgba(0,255,150,0.03);
}

.aqi-visual,
.cmb-visual {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-xl);
    margin-bottom: var(--space-xl);
}

@media (max-width: 768px) {
    .aqi-visual,
    .cmb-visual {
        grid-template-columns: 1fr;
    }
}

.aqi-display,
.cmb-map {
    background: rgba(255,255,255,0.02);
    border-radius: var(--border-radius-md);
    padding: var(--space-xl);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 200px;
    color: var(--text-dim);
}

.parameter-slider,
.cmb-slider {
    margin-bottom: var(--space-md);
}

.aqi-table {
    width: 100%;
    border-collapse: collapse;
    margin: var(--space-lg) 0;
}

.aqi-table th,
.aqi-table td {
    padding: var(--space-sm);
    text-align: left;
    border-bottom: 1px solid var(--gray-200);
}

.aqi-table th {
    background: var(--gray-100);
    font-weight: 600;
    color: var(--gray-800);
}

.standards-comparison,
.health-effects-info,
.cmb-formulas,
.discovery-info {
    background: rgba(255,255,255,0.02);
    padding: var(--space-lg);
    border-radius: var(--border-radius-md);
    margin: var(--space-lg) 0;
    color: var(--text-dim);
}

/* 12. QUIZ */
.quiz-container {
    background: var(--bg-card);
    border: 1px solid rgba(255,255,255,0.03);
    border-radius: var(--border-radius-lg);
    padding: var(--space-xl);
    margin: var(--space-xl) 0;
    box-shadow: 0 10px 30px rgba(0,255,150,0.03);
}

.quiz-question {
    margin-bottom: var(--space-xl);
    padding-bottom: var(--space-lg);
    border-bottom: 1px solid var(--gray-200);
}

.quiz-question:last-child {
    border-bottom: none;
}

.quiz-options {
    margin-top: var(--space-md);
}

.quiz-feedback {
    margin-top: var(--space-xl);
    padding: var(--space-lg);
    border-radius: var(--border-radius-md);
    animation: fadeIn var(--transition-normal);
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

.correct-feedback {
    background: rgba(144,255,180,0.04);
    border-left: 4px solid rgba(80,220,120,0.18);
    color: var(--text-dim);
}

.incorrect-feedback {
    background: rgba(255,120,120,0.04);
    border-left: 4px solid rgba(255,80,100,0.18);
    color: var(--text-dim);
}

/* 13. GRIDS DE EVIDENCIA/SOLUCIONES */
.evidence-grid,
.solutions-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--space-lg);
    margin: var(--space-xl) 0;
}

.evidence-card,
.solution-card {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: var(--border-radius-md);
    box-shadow: 0 8px 24px rgba(0,255,150,0.03);
    border: 1px solid rgba(255,255,255,0.03);
    transition: transform var(--transition-normal);
}

.evidence-card:hover,
.solution-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-md);
}

.evidence-card h4,
.solution-card h4 {
    color: var(--primary-color);
    margin-top: 0;
    margin-bottom: var(--space-md);
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.evidence-card ul,
.solution-card ul {
    list-style: none;
    padding-left: 0;
    margin-bottom: var(--space-md);
}

.evidence-card li,
.solution-card li {
    margin-bottom: var(--space-sm);
    padding-left: var(--space-md);
    position: relative;
}

.evidence-card li::before,
.solution-card li::before {
    content: "郊";
    position: absolute;
    left: 0;
    color: var(--chemistry-blue);
}

.evidence-tip,
.solution-tip {
    background: var(--gray-100);
    padding: var(--space-md);
    border-radius: var(--border-radius-sm);
    font-style: italic;
    border-left: 3px solid var(--chemistry-yellow);
    margin-top: var(--space-md);
}

/* 14. PROBLEMAS DE EXAMEN */
.exam-problems {
    margin: var(--space-xl) 0;
}

.exam-problem {
    background: var(--bg-card);
    border: 1px solid rgba(255,255,255,0.03);
    border-radius: var(--border-radius-lg);
    padding: var(--space-xl);
    margin-bottom: var(--space-xl);
    box-shadow: 0 12px 36px rgba(0,255,150,0.03);
}

.exam-problem:last-child {
    margin-bottom: 0;
}

.exam-problem h4 {
    color: var(--primary-color);
    margin-top: 0;
    border-bottom: 2px solid var(--gray-200);
    padding-bottom: var(--space-sm);
    margin-bottom: var(--space-lg);
}

.exam-problem ol,
.exam-problem ul {
    margin: var(--space-md) 0 var(--space-md) var(--space-xl);
}

.exam-problem li {
    margin-bottom: var(--space-sm);
}

.answer-space {
    margin-top: var(--space-lg);
    padding: var(--space-md);
    background: var(--gray-50);
    border-radius: var(--border-radius-md);
}

.answer-space textarea {
    width: 100%;
    min-height: 150px;
    padding: var(--space-md);
    border: 2px solid var(--gray-300);
    border-radius: var(--border-radius-sm);
    font-family: var(--font-body);
    font-size: 1rem;
    resize: vertical;
    margin-top: var(--space-sm);
}

.answer-space textarea:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 2px rgba(26, 35, 126, 0.1);
}

/* 15. REFLEXI칍N METACOGNITIVA */
.metacognitive-reflection {
    background: var(--bg-card);
    border: 1px solid rgba(255,255,255,0.03);
    border-radius: var(--border-radius-lg);
    padding: var(--space-xl);
    margin: var(--space-xl) 0;
    box-shadow: 0 12px 36px rgba(0,255,150,0.03);
}

.reflection-question,
.learning-check,
.real-world-connection {
    margin-bottom: var(--space-xl);
    padding-bottom: var(--space-xl);
    border-bottom: 1px solid var(--gray-200);
}

.reflection-question:last-child,
.learning-check:last-child,
.real-world-connection:last-child {
    border-bottom: none;
    margin-bottom: 0;
    padding-bottom: 0;
}

.reflection-question h4,
.learning-check h4,
.real-world-connection h4 {
    color: var(--primary-color);
    margin-top: 0;
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.reflection-question ol {
    margin: var(--space-md) 0 var(--space-md) var(--space-xl);
}

.reflection-question li {
    margin-bottom: var(--space-md);
    padding: var(--space-sm);
    background: var(--gray-50);
    border-radius: var(--border-radius-sm);
}

.checklist {
    margin: var(--space-md) 0;
}

.checklist label {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-sm);
    padding: var(--space-sm);
    background: var(--gray-50);
    border-radius: var(--border-radius-sm);
    cursor: pointer;
    transition: background-color var(--transition-fast);
}

.checklist label:hover {
    background: var(--gray-100);
}

.checklist input[type="checkbox"] {
    width: 18px;
    height: 18px;
    cursor: pointer;
}

.real-world-connection ul {
    list-style: none;
    padding-left: 0;
    margin: var(--space-md) 0;
}

.real-world-connection li {
    margin-bottom: var(--space-sm);
    padding-left: var(--space-md);
    position: relative;
}

.real-world-connection li::before {
    content: "";
    position: absolute;
    left: 0;
    color: var(--chemistry-blue);
    font-weight: bold;
}

/* 16. ANIMACIONES ESPEC칈FICAS PARA SVG */
.clickable {
    cursor: pointer;
    transition: filter var(--transition-fast);
}

.clickable:hover {
    filter: brightness(1.1);
}

.emission {
    animation-timing-function: ease-in-out;
}

/* 17. ESTILOS DE MATHP (MathJax) */
.MathJax {
    font-size: 1.1rem !important;
}

.mjx-chtml {
    font-size: 1.1rem !important;
    color: var(--chemistry-purple) !important;
}

/* 18. RESPONSIVE DESIGN */
@media (max-width: 768px) {
    body {
        padding: var(--space-sm);
    }
    
    .content-header {
        padding: var(--space-lg) var(--space-md);
    }
    
    .content-body {
        padding: var(--space-md);
    }
    
    h1 {
        font-size: 2rem;
    }
    
    h2 {
        font-size: 1.75rem;
    }
    
    h3 {
        font-size: 1.25rem;
    }
    
    .theory-grid,
    .evidence-grid,
    .solutions-grid {
        grid-template-columns: 1fr;
    }
    
    .simulator-container,
    .diagram-container,
    .quiz-container,
    .exam-problem,
    .metacognitive-reflection {
        padding: var(--space-md);
    }
    
    .diagram-controls {
        flex-direction: column;
    }
}

    
    .diagram-controls button {
        width: 100%;
        justify-content: center;
    }


@media (max-width: 480px) {
    h1 {
        font-size: 1.75rem;
    }
    
    h2 {
        font-size: 1.5rem;
    }
    
    .simulator-visual,
    .aqi-visual,
    .cmb-visual {
        grid-template-columns: 1fr;
        gap: var(--space-md);
    }
    
    .ph-display {
        font-size: 2.5rem;
    }
}

/* 19. ESTILOS PARA IMPRESI칍N */
@media print {
    body {
        background: black;
        color: black;
        padding: 0;
    }
    
    .content-header {
        background: black;
        color: black;
        box-shadow: none;
        border: 2px solid black;
    }
    
    .theory-card,
    .evidence-card,
    .solution-card,
    .diagram-container,
    .simulator-container,
    .quiz-container,
    .exam-problem,
    .metacognitive-reflection {
        box-shadow: none;
        border: 1px solid black;
        break-inside: avoid;
    }
    
    button,
    .diagram-controls,
    .quiz-option,
    .quiz-reset {
        display: none !important;
    }
    
    .simulator-controls,
    .parameter-slider,
    .cmb-slider {
        display: none !important;
    }
}

.aqui-display_other{
    background: var(--gray-50);
    border-radius: var(--border-radius-md);
    padding: var(--space-xl);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 200px;
}

/* =======================================================
   MODO OSCURO: Overwrites adicionales para lecciones y
   elementos con fondos claros / inline styles
=========================================================== */

/* Reglas para clases que frecuentemente usan fondos claros */
.dark .color-box,
.dark .legend-color,
.dark .yellow,
.dark .opm-alert-success,
.dark .opm-alert-danger,
.dark .opm-alert-carbon,
.dark .opp-alert-carbon,
.dark .abundance-bar,
.dark .aqui-display_other,
.dark #error-demo,
.dark .mensaje,
.dark .opm-text-yellow,
.dark .opm-section-title {
    background: var(--dm-card) !important;
    color: var(--dm-text) !important;
    border-color: var(--dm-border) !important;
}

/* Espec칤ficos para cajas de alarma / feedback */
.dark .opm-alert-success { background: rgba(0,255,0,0.06) !important; color: var(--dm-text) !important; border-color: rgba(0,255,0,0.12) !important; }
.dark .opm-alert-danger  { background: rgba(255,0,0,0.06) !important; color: var(--dm-text) !important; border-color: rgba(255,0,0,0.12) !important; }

/* Ajustes para barras y badges que usan amarillo brillante */
.dark .abundance-bar,
.dark .color-box.gas,
.dark .legend-color.gas,
.dark .yellow {
    background: linear-gradient(90deg, rgba(255,204,0,0.08), rgba(255,204,0,0.04)) !important;
    color: var(--dm-text) !important;
    border-color: rgba(255,204,0,0.08) !important;
}

/* Tablas y celdas con fondo claro */
.dark table th,
.dark table td,
.dark .neo-table td,
.dark .tabla-analogias td {
    background: transparent !important;
    color: var(--dm-text) !important;
    border-color: var(--dm-border) !important;
}

/* Forzar tonos oscuros sobre estilos inline con colores claros frecuentes */
.dark [style*="background: #fff"],
.dark [style*="background: white"],
.dark [style*="background: #ffffff"],
.dark [style*="background: #fff3cd"],
.dark [style*="background: #fff5f5"],
.dark [style*="background: #fff3e0"],
.dark [style*="background: #ffff00"],
.dark [style*="background: #FFF"],
.dark [style*="background: #FFFF00"],
.dark [style*="background: #FFF3CD"],
.dark [style*="background: #FFF5F5"],
.dark [style*="background: #FFF3E0"] {
    background: var(--dm-card) !important;
    color: var(--dm-text) !important;
    border-color: var(--dm-border) !important;
}

/* Inputs / badges / small UI that may be white */
.dark input[style], .dark .badge[style], .dark .status-tag[style] {
    background: var(--dm-panel) !important;
    color: var(--dm-text) !important;
    border-color: var(--dm-border) !important;
}

/* Fine-tune SVG text contrast where necessary */
.dark svg text { fill: var(--dm-text) !important; }

/* Ensure important interactive controls remain usable */
.dark .btn, .dark .btn-primary, .dark .btn-login, .dark .btn-register { background: #1a2024 !important; color: var(--dm-text) !important; border-color: rgba(255,255,255,0.06) !important; }

/* Prevent very bright glows on dark background (reduce intensity) */
.dark .box-shadow-strong, .dark .glow-pink, .dark .glow-green, .dark .glow-cyan {
    box-shadow: none !important;
}

/* Small helper to darken inline image containers that used white backgrounds */
.dark [style*="background: #fff"] img, .dark [style*="background: white"] img { background: transparent !important; }

/* Accessibility: links with yellow/bright color adjust */
.dark .opm-text-yellow, .dark .link-glow, .dark a { color: var(--dm-accent) !important; }

/* End overrides for lesson-specific light elements */

/* =======================================================
   Ajustes espec칤ficos: Contaminaci칩n Ambiental (modo oscuro)
   Mejora SVGs, tarjetas y chips con fondos claros
=========================================================== */

.dark .lesson-contaminacion .diagram-container svg {
    background: linear-gradient(180deg, rgba(5,16,12,0.6) 0%, rgba(8,18,14,0.6) 100%) !important;
}
.dark .lesson-contaminacion .theory-card,
.dark .lesson-contaminacion .theory-card.example {
    background: linear-gradient(90deg, rgba(255,200,120,0.02), rgba(0,0,0,0.02)) !important;
    background-color: var(--dm-card) !important;
    color: var(--dm-text) !important;
}
.dark .lesson-contaminacion .effect-text {
    background: rgba(255,184,77,0.04) !important;
    color: var(--neon-yellow) !important;
}

/* Asegurar que el wrapper principal mantenga contraste en dark */
.dark .page-lesson-contaminacion .main-content {
    background: linear-gradient(to bottom, #021609, #042214) !important;
    border-color: rgba(0,255,136,0.06) !important;
    box-shadow: 0 0 30px rgba(0, 80, 50, 0.12) !important;
}

/* Fine tuning para cualquier elemento de la lecci칩n que use fondos claros */
.dark .leccion-contaminacion [style*="background:"] {
    /* Forzar tonos oscuros dentro del scope de la lecci칩n */
    background: var(--dm-card) !important;
    color: var(--dm-text) !important;
    border-color: var(--dm-border) !important;
}

/* End Contamination lesson adjustments */

/* =======================================================
   FORZAR MODO OSCURO GLOBAL (AGRESIVO)
   - Reglas amplias para cubrir elementos con fondos claros
   - Excepciones para botones y elementos interactivos
   - Estas reglas se aplican cuando `.dark` est치 presente en <html>
=========================================================== */

/* 1) Regla amplia: resetear fondos claros y colores para todos los elementos */
.dark * {
    background-image: none !important;
    background: transparent !important;
    background-color: transparent !important;
    color: var(--dm-text) !important;
    border-color: var(--dm-border) !important;
    box-shadow: none !important;
}

/* 2) Restaurar fondos oscuros para contenedores comunes */
.dark html, .dark body, .dark main, .dark header, .dark footer, .dark .container,
.dark .card, .dark .panel, .dark .box, .dark .lesson-block, .dark .lesson-container,
.dark .quiz-container, .dark .ranking-container, .dark .auth-form-wrapper,
.dark .side-panel, .dark .content-view, .dark .quiz-view, .dark .diagram-container,
.dark .theory-card, .dark .classification-table, .dark .page-lesson-contaminacion .main-content,
.dark .aqui-display_other {
    background: var(--dm-card) !important;
    background-image: none !important;
    color: var(--dm-text) !important;
    border-color: var(--dm-border) !important;
}

/* 3) Forzar oscuro para elementos con estilos inline de fondo claros */
.dark [style*="background:"] {
    background: var(--dm-card) !important;
    background-image: none !important;
    color: var(--dm-text) !important;
    border-color: var(--dm-border) !important;
}

/* 4) Excepciones: mantener aspecto de botones, badges y barras de progreso
   (estas reglas se aplican *despu칠s* de la regla global para re-especificar) */
.dark .btn, .dark .btn-primary, .dark .btn-login, .dark .btn-register, .dark .btn-dashboard {
    background: #17303a !important;
    color: var(--dm-text) !important;
    border-color: rgba(255,255,255,0.06) !important;
    box-shadow: 0 4px 0 rgba(0,0,0,0.8) !important;
}

.dark .badge, .dark .badge.bronze, .dark .badge.silver, .dark .badge.gold {
    background: rgba(255,255,255,0.03) !important;
    color: var(--dm-text) !important;
    border-color: rgba(255,255,255,0.04) !important;
}

.dark .progress-bar, .dark .bar-track { background: #0b0b0b !important; }
.dark .progress-fill, .dark .bar-fill { box-shadow: none !important; }

/* 5) SVG / im치genes: asegurar contraste del texto */
.dark svg text, .dark svg .labels text { fill: var(--dm-text) !important; }

/* Fin: reglas agresivas de modo oscuro */

/* =======================================
   OVERIDES PARA ESTILOS IN-LINE Y DIN츼MICOS EN LECCIONES
   - Asegura que reglas a침adidas din치micamente (style tags) respeten modo oscuro
   - Especial foco: AQI, effects, solution-card, exam-problem, quiz-option
========================================== */

/* Componentes din치micos del simulador */
.dark .aqi-main {
    background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(0,0,0,0.04)) !important;
    color: var(--dm-text) !important;
    border: 1px solid var(--dm-border) !important;
}

.dark .aqi-details {
    background: transparent !important;
    background-color: black;
    color: var(--dm-text) !important;
    border-color: var(--dm-border) !important;
}

/* Efectos y cards */
.dark .effect, .dark .solution-card, .dark .exam-problem, .dark .answer-space textarea {
    background: var(--dm-panel) !important;
    color: var(--dm-text) !important;
    border-color: var(--dm-border) !important;
}

.dark .ph-indicator { background: #111 !important; }

/* Quiz buttons */
.dark .quiz-option {
    background: rgba(255,255,255,0.02) !important;
    color: var(--dm-text) !important;
    border: 1px solid rgba(255,255,255,0.03) !important;
}
.dark .quiz-option:hover { background: rgba(255,255,255,0.04) !important; }

/* Feedback */
.dark .correct-feedback { background: rgba(0,255,0,0.06) !important; color: var(--dm-text) !important; }
.dark .incorrect-feedback { background: rgba(255,0,0,0.06) !important; color: var(--dm-text) !important; }

/* Forzar tonos oscuros en SVG del simulador smogFormation */
.dark #smogFormation rect, .dark #smogFormation circle, .dark #smogFormation path, .dark #smogFormation ellipse {
    fill: var(--dm-card) !important;
    stroke: rgba(255,255,255,0.06) !important;
    fill-opacity: 1 !important;
}
.dark #smogFormation text { fill: var(--dm-text) !important; }
.dark #smogFormation stop { stop-color: var(--dm-card) !important; stop-opacity: 0.4 !important; }

/* Reforzar cajas con color claro (amarillos, blancos) */
.dark [style*="#FFFF00"], .dark [style*="#ffff00"], .dark [style*="#FFF3CD"], .dark [style*="#fff3cd"] {
    background: linear-gradient(90deg, rgba(255,204,0,0.06), rgba(255,204,0,0.02)) !important;
    color: var(--dm-text) !important;
    border-color: rgba(255,255,255,0.03) !important;
}

/* Override global for SVG fills to avoid bright vector backgrounds */
.dark svg [fill] {
    fill: var(--dm-card) !important;
}
.dark svg [stroke] {
    stroke: rgba(255,255,255,0.06) !important;
}

/* Finalmente, evitar que elementos insertados por JS tengan fondos claros */
.dark .aqi-main[style], .dark .aqi-main[data-aqi-color] {
    background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(0,0,0,0.04)) !important;
    color: var(--dm-text) !important;
}

/* End overrides for dynamic lesson styles */

.leccion-quimica {
    font-family: 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
    line-height: 1.7;
    color: #2c3e50;
    max-width: 1200px;
    margin: 0 auto;
    padding: 25px;
    background: linear-gradient(180deg, #f8fdff 0%, #ffffff 100%);
    border-radius: 12px;
    box-shadow: 0 8px 30px rgba(41, 128, 185, 0.08);
}

/* TIPOGRAF칈A Y ENCABEZADOS */
.titulo-leccion {
    color: #1565C0;
    border-bottom: 3px solid #42a5f5;
    padding-bottom: 15px;
    margin-bottom: 30px;
    font-weight: 700;
    text-align: center;
    font-size: 2.4rem;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

.subtitulo-conceptual {
    color: #0d47a1;
    background: linear-gradient(90deg, #e3f2fd 0%, #ffffff 100%);
    padding: 18px 22px;
    border-left: 5px solid #2196f3;
    border-radius: 0 10px 10px 0;
    margin: 35px 0 20px 0;
    font-weight: 600;
    font-size: 1.6rem;
    box-shadow: 0 3px 10px rgba(33, 150, 243, 0.1);
}

h4 {
    color: #1976d2;
    padding: 12px 0 8px 0;
    margin-top: 30px;
    border-bottom: 2px dashed #bbdefb;
    font-weight: 600;
    font-size: 1.3rem;
}

/* TABLAS MEJORADAS */
.tabla-conceptual {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
    margin: 25px 0;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
    background: white;
}

.tabla-conceptual thead {
    background: linear-gradient(90deg, #1565c0, #42a5f5);
    color: white;
}

.tabla-conceptual th {
    padding: 18px 15px;
    font-weight: 600;
    text-align: left;
    border: none;
    font-size: 1.1rem;
    letter-spacing: 0.5px;
}

.tabla-conceptual td {
    padding: 16px 15px;
    border-bottom: 1px solid #e3f2fd;
    vertical-align: top;
    transition: background 0.3s;
}

.tabla-conceptual tr:hover td {
    background: #f5fbff;
}

.tabla-conceptual tr:last-child td {
    border-bottom: none;
}
.ejemplo-contextual {
    background: #fff8e1;
    border: 2px solid #ffd54f;
    border-radius: 10px;
    padding: 20px;
    margin: 25px 0;
    position: relative;
}

.ejemplo-contextual:before {
    content: "游눠";
    position: absolute;
    left: -15px;
    top: -15px;
    background: #ffd54f;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
}

/* ELEMENTOS INTERACTIVOS */
.simulador-contenedor {
    background: white;
    border: 2px solid #e0e0e0;
    border-radius: 15px;
    padding: 25px;
    margin: 30px 0;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.06);
}

.controles-simulador {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    margin: 25px 0;
    align-items: center;
    justify-content: center;
}

.control-deslizante {
    flex: 1;
    min-width: 250px;
    background: #f5f5f5;
    padding: 15px;
    border-radius: 10px;
}

.vis-resultado {
    background: linear-gradient(135deg, #e3f2fd, #f3e5f5);
    padding: 20px;
    border-radius: 10px;
    margin-top: 20px;
    text-align: center;
    min-height: 100px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

/* QUIZ Y EVALUACI칍N */
.quiz-contenedor {
    background: #f9f9f9;
    border-radius: 15px;
    padding: 25px;
    margin: 30px 0;
    border: 2px solid #e0e0e0;
}

.pregunta-quiz {
    background: white;
    padding: 20px;
    margin: 15px 0;
    border-radius: 10px;
    border-left: 4px solid #2196f3;
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.04);
}

.opcion-quiz {
    display: block;
    padding: 12px 15px;
    margin: 8px 0;
    background: #f5f5f5;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s;
    border: 2px solid transparent;
}

.opcion-quiz:hover {
    background: #e3f2fd;
    transform: translateY(-2px);
}

.opcion-quiz.seleccionada {
    background: #e8f5e8;
    border-color: #4caf50;
    color: #2e7d32;
}

.feedback-quiz {
    padding: 15px;
    margin: 15px 0;
    border-radius: 8px;
    display: none;
    animation: fadeIn 0.5s;
}

.feedback-correcto {
    background: #e8f5e9;
    border: 1px solid #c8e6c9;
    color: #2e7d32;
}

.feedback-incorrecto {
    background: #ffebee;
    border: 1px solid #ffcdd2;
    color: #c62828;
}

/* DIAGRAMAS Y VISUALES */
.contenedor-svg {
    background: white;
    padding: 20px;
    border-radius: 12px;
    margin: 30px 0;
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.07);
    border: 1px solid #e0f2f1;
}

.diagrama-interactivo {
    width: 100%;
    height: 500px;
    overflow: visible;
}

/* SECCI칍N ERRORES COMUNES */
.seccion-errores {
    background: #fff3e0;
    border: 2px solid #ffb74d;
    border-radius: 12px;
    padding: 25px;
    margin: 35px 0;
}

.error-item {
    background: white;
    padding: 18px;
    margin: 15px 0;
    border-radius: 8px;
    border-left: 5px solid #ff9800;
    display: flex;
    align-items: flex-start;
    gap: 15px;
    transition: transform 0.3s;
}

.error-item:hover {
    transform: translateX(5px);
}

.icono-error {
    color: #ff9800;
    font-size: 1.5rem;
    flex-shrink: 0;
}

/* PROBLEMAS EXAMEN */
.problema-examen {
    background: #f5f5f5;
    border-left: 5px solid #455a64;
    padding: 25px;
    margin: 30px 0;
    border-radius: 0 10px 10px 0;
    position: relative;
}

.numero-problema {
    position: absolute;
    left: -25px;
    top: -15px;
    background: #455a64;
    color: white;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    font-size: 1.2rem;
}

/* METACOGNICI칍N */
.bloque-metacognicion {
    background: linear-gradient(135deg, #e8eaf6, #f3e5f5);
    padding: 30px;
    border-radius: 15px;
    margin: 40px 0;
    text-align: center;
}

.pregunta-reflexiva {
    font-style: italic;
    color: #5c6bc0;
    margin: 20px 0;
    padding: 15px;
    background: rgba(255, 255, 255, 0.7);
    border-radius: 8px;
    font-size: 1.1rem;
}

/* ANIMACIONES */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
}

@keyframes highlight {
    0% { background-color: #fffde7; }
    100% { background-color: transparent; }
}

.resaltar {
    animation: highlight 2s;
}

/* RESPONSIVE */
@media (max-width: 768px) {
    .leccion-quimica {
        padding: 15px;
        border-radius: 8px;
    }
    
    .titulo-leccion {
        font-size: 1.8rem;
    }
    
    .controles-simulador {
        flex-direction: column;
    }
    
    .control-deslizante {
        min-width: 100%;
    }
}

/* ========================================
   ESTILOS CYBERPUNK RETRO 8-BIT
   PARA LECCI칍N DE QU칈MICA
   ======================================== */

/* VARIABLES DE COLOR NE칍N */
:root {
  --neon-blue: #00f3ff;
  --neon-pink: #ff00ff;
  --neon-green: #00ff00;
  --neon-yellow: #ffff00;
  --neon-purple: #9d00ff;
  --dark-bg: #0a0a14;
  --darker-bg: #05050a;
  --grid-color: rgba(0, 243, 255, 0.15);
  --scanline: rgba(0, 255, 0, 0.08);
  --pixel-border: 3px;
  --text-glow: 0 0 10px currentColor;
  --box-glow: 0 0 20px;
}

/* RESET Y TIPOGRAF칈A 8-BIT */
.leccion-quimica {
  font-family: 'Courier New', 'Monaco', 'Consolas', monospace;
  line-height: 1.6;
  color: #e0e0ff;
  max-width: 1200px;
  margin: 0 auto;
  padding: 25px;
  background: var(--dark-bg);
  position: relative;
  overflow: hidden;
  border: var(--pixel-border) solid var(--neon-blue);
  box-shadow: 
    var(--box-glow) var(--neon-blue),
    inset 0 0 30px rgba(0, 243, 255, 0.1);
  image-rendering: pixelated;
  image-rendering: crisp-edges;
}

/* EFECTO GRID RETRO */
.leccion-quimica::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: 
    linear-gradient(var(--grid-color) 1px, transparent 1px),
    linear-gradient(90deg, var(--grid-color) 1px, transparent 1px);
  background-size: 24px 24px;
  pointer-events: none;
  z-index: 0;
  opacity: 0.4;
  animation: gridScroll 20s linear infinite;
}

/* EFECTO SCANLINES */
.leccion-quimica::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(
    to bottom,
    transparent 50%,
    var(--scanline) 51%
  );
  background-size: 100% 4px;
  pointer-events: none;
  z-index: 1;
  animation: scanline 8s linear infinite;
}

/* ANIMACIONES PRINCIPALES */
@keyframes gridScroll {
  0% { background-position: 0 0; }
  100% { background-position: 24px 24px; }
}

@keyframes scanline {
  0% { background-position: 0 0; }
  100% { background-position: 0 8px; }
}

@keyframes blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

@keyframes pulse {
  0%, 100% { 
    text-shadow: 0 0 10px currentColor;
    filter: brightness(1);
  }
  50% { 
    text-shadow: 0 0 20px currentColor;
    filter: brightness(1.3);
  }
}

@keyframes glitch {
  0% { transform: translate(0); }
  20% { transform: translate(-2px, 2px); }
  40% { transform: translate(-2px, -2px); }
  60% { transform: translate(2px, 2px); }
  80% { transform: translate(2px, -2px); }
  100% { transform: translate(0); }
}

/* T칈TULOS Y ENCABEZADOS */
.titulo-leccion {
  color: var(--neon-blue);
  border-bottom: var(--pixel-border) solid var(--neon-pink);
  padding-bottom: 15px;
  margin-bottom: 35px;
  font-weight: bold;
  text-align: center;
  font-size: 2.2rem;
  text-shadow: var(--text-glow);
  text-transform: uppercase;
  letter-spacing: 2px;
  position: relative;
  animation: pulse 3s infinite;
  text-shadow: 
    0 0 10px var(--neon-blue),
    0 0 20px var(--neon-blue);
}

.titulo-leccion::after {
  content: '郊';
  position: absolute;
  right: 20px;
  animation: blink 1s infinite;
  color: var(--neon-green);
}

.subtitulo-conceptual {
  color: var(--neon-green);
  background: linear-gradient(90deg, 
    rgba(0, 255, 0, 0.1) 0%, 
    transparent 100%);
  padding: 18px 25px;
  border-left: var(--pixel-border) solid var(--neon-green);
  margin: 40px 0 25px 0;
  font-weight: bold;
  font-size: 1.7rem;
  text-shadow: 0 0 15px var(--neon-green);
  position: relative;
  overflow: hidden;
  clip-path: polygon(0 0, 100% 0, 95% 100%, 0 100%);
}

.subtitulo-conceptual::before {
  content: '郊';
  position: absolute;
  left: 5px;
  color: var(--neon-green);
  animation: blink 2s infinite;
}

h4 {
  color: var(--neon-yellow);
  padding: 15px 0 10px 0;
  margin-top: 35px;
  border-bottom: var(--pixel-border) dashed var(--neon-yellow);
  font-weight: bold;
  font-size: 1.4rem;
  text-shadow: 0 0 8px var(--neon-yellow);
  position: relative;
}

h4::before {
  content: '>';
  position: absolute;
  left: -20px;
  color: var(--neon-yellow);
}

/* TABLAS CYBERPUNK */
.tabla-conceptual {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  margin: 30px 0;
  position: relative;
  z-index: 2;
  border: var(--pixel-border) solid var(--neon-blue);
  background: rgba(10, 10, 20, 0.9);
  box-shadow: 
    inset 0 0 30px rgba(0, 243, 255, 0.2),
    0 0 30px rgba(0, 243, 255, 0.3);
}

.tabla-conceptual thead {
  background: linear-gradient(90deg, 
    rgba(0, 243, 255, 0.3), 
    rgba(255, 0, 255, 0.3));
  color: white;
  text-shadow: 0 0 10px white;
}

.tabla-conceptual th {
  padding: 20px 15px;
  font-weight: bold;
  text-align: left;
  border-right: var(--pixel-border) solid var(--neon-blue);
  font-size: 1.1rem;
  letter-spacing: 1px;
  text-transform: uppercase;
  position: relative;
  overflow: hidden;
}

.tabla-conceptual th:last-child {
  border-right: none;
}

.tabla-conceptual th::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, 
    transparent, 
    rgba(255, 255, 255, 0.3), 
    transparent);
  animation: shine 3s infinite;
}

.tabla-conceptual td {
  padding: 18px 15px;
  border-bottom: 1px solid rgba(0, 243, 255, 0.3);
  border-right: 1px solid rgba(0, 243, 255, 0.2);
  vertical-align: top;
  transition: all 0.3s;
  position: relative;
}

.tabla-conceptual td:last-child {
  border-right: none;
}

.tabla-conceptual tr:hover td {
  background: rgba(0, 243, 255, 0.1);
  color: var(--neon-blue);
  text-shadow: 0 0 8px var(--neon-blue);
}

.tabla-conceptual tr:last-child td {
  border-bottom: none;
}

/* BLOQUES ESPECIALES */
.bloque-fundamento {
  background: rgba(0, 255, 0, 0.08);
  background-color: black;
  border-left: var(--pixel-border) solid var(--neon-green);
  padding: 22px;
  margin: 30px 0;
  position: relative;
  z-index: 2;
  box-shadow: 
    inset 0 0 30px rgba(0, 255, 0, 0.2),
    0 0 20px rgba(0, 255, 0, 0.3);
  clip-path: polygon(0 0, 100% 0, 98% 100%, 0 100%);
}

.bloque-fundamento strong {
  color: var(--neon-green);
  font-size: 1.2rem;
  text-shadow: 0 0 10px var(--neon-green);
}

.ejemplo-contextual {
  background: rgba(255, 255, 0, 0.08);
  border: var(--pixel-border) solid var(--neon-yellow);
  border-radius: 0;
  padding: 22px;
  margin: 30px 0;
  position: relative;
  z-index: 2;
  clip-path: polygon(20px 0, 100% 0, 100% 100%, 0 100%, 0 20px);
}

.ejemplo-contextual::before {
  content: '丘';
  position: absolute;
  left: -15px;
  top: -15px;
  background: var(--neon-yellow);
  width: 30px;
  height: 30px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.4rem;
  color: var(--dark-bg);
  font-weight: bold;
  border: var(--pixel-border) solid var(--dark-bg);
}

/* SIMULADORES INTERACTIVOS */
.simulador-contenedor {
  background: rgba(0, 0, 0, 0.7);
  border: var(--pixel-border) solid var(--neon-purple);
  border-radius: 0;
  padding: 30px;
  margin: 40px 0;
  position: relative;
  z-index: 2;
  box-shadow: 
    inset 0 0 40px rgba(157, 0, 255, 0.2),
    0 0 40px rgba(157, 0, 255, 0.4);
  clip-path: polygon(0 0, 100% 0, 100% calc(100% - 20px), calc(100% - 20px) 100%, 0 100%);
}

.simulador-contenedor h4 {
  color: var(--neon-purple);
  text-shadow: 0 0 15px var(--neon-purple);
}

.controles-simulador {
  display: flex;
  flex-wrap: wrap;
  gap: 25px;
  margin: 30px 0;
  align-items: center;
  justify-content: center;
}

.control-deslizante {
  flex: 1;
  min-width: 280px;
  background: rgba(0, 0, 0, 0.5);
  padding: 20px;
  border: var(--pixel-border) solid var(--neon-blue);
  position: relative;
}

.control-deslizante label {
  color: var(--neon-blue);
  text-shadow: 0 0 8px var(--neon-blue);
  font-weight: bold;
  display: block;
  margin-bottom: 10px;
}

.control-deslizante input[type="range"] {
  width: 100%;
  height: 12px;
  -webkit-appearance: none;
  background: linear-gradient(90deg, 
    var(--neon-blue), 
    var(--neon-pink));
  border: var(--pixel-border) solid var(--neon-blue);
  outline: none;
}

.control-deslizante input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 25px;
  height: 25px;
  background: var(--neon-green);
  border: var(--pixel-border) solid var(--dark-bg);
  cursor: pointer;
  box-shadow: 0 0 15px var(--neon-green);
}

.control-deslizante input[type="range"]::-moz-range-thumb {
  width: 25px;
  height: 25px;
  background: var(--neon-green);
  border: var(--pixel-border) solid var(--dark-bg);
  cursor: pointer;
  box-shadow: 0 0 15px var(--neon-green);
}

.vis-resultado {
  background: linear-gradient(135deg, 
    rgba(0, 243, 255, 0.1), 
    rgba(255, 0, 255, 0.1));
  padding: 25px;
  border: var(--pixel-border) solid var(--neon-blue);
  margin-top: 25px;
  text-align: center;
  min-height: 120px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  position: relative;
  overflow: hidden;
}

.vis-resultado::before {
  content: 'SYSTEM OUTPUT';
  position: absolute;
  top: 5px;
  left: 10px;
  color: var(--neon-green);
  font-size: 0.8rem;
  opacity: 0.7;
}

/* QUIZ Y EVALUACI칍N */
.quiz-contenedor {
  background: rgba(0, 0, 0, 0.8);
  border: var(--pixel-border) solid var(--neon-green);
  border-radius: 0;
  padding: 30px;
  margin: 40px 0;
  position: relative;
  z-index: 2;
  box-shadow: 
    inset 0 0 40px rgba(0, 255, 0, 0.1),
    0 0 40px rgba(0, 255, 0, 0.3);
  clip-path: polygon(20px 0, 100% 0, 100% 100%, 0 100%, 0 20px);
}

.quiz-contenedor h4 {
  color: var(--neon-green);
}

.pregunta-quiz {
  background: rgba(0, 20, 0, 0.5);
  padding: 25px;
  margin: 20px 0;
  border-left: var(--pixel-border) solid var(--neon-green);
  position: relative;
  border: var(--pixel-border) solid rgba(0, 255, 0, 0.3);
}

.pregunta-quiz::before {
  content: 'Q';
  position: absolute;
  left: -15px;
  top: -15px;
  background: var(--neon-green);
  color: var(--dark-bg);
  width: 30px;
  height: 30px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 1.2rem;
  border: var(--pixel-border) solid var(--dark-bg);
}

.opcion-quiz {
  display: block;
  padding: 15px;
  margin: 12px 0;
  background: rgba(0, 243, 255, 0.1);
  border: var(--pixel-border) solid rgba(0, 243, 255, 0.3);
  cursor: pointer;
  transition: all 0.3s;
  position: relative;
  color: #e0e0ff;
  text-shadow: 0 0 5px #e0e0ff;
}

.opcion-quiz:hover {
  background: rgba(0, 243, 255, 0.3);
  border-color: var(--neon-blue);
  color: var(--neon-blue);
  text-shadow: 0 0 10px var(--neon-blue);
  transform: translateX(10px);
  animation: glitch 0.3s;
}

.opcion-quiz.seleccionada {
  background: rgba(0, 255, 0, 0.2);
  border-color: var(--neon-green);
  color: var(--neon-green);
  text-shadow: 0 0 15px var(--neon-green);
  box-shadow: 0 0 20px rgba(0, 255, 0, 0.3);
}

.opcion-quiz.seleccionada::before {
  content: '九';
  position: absolute;
  left: -30px;
  color: var(--neon-green);
  font-weight: bold;
}

.feedback-quiz {
  padding: 20px;
  margin: 20px 0;
  border: var(--pixel-border) solid;
  display: none;
  animation: fadeIn 0.5s;
  position: relative;
  font-weight: bold;
}

.feedback-correcto {
  background: rgba(0, 255, 0, 0.1);
  border-color: var(--neon-green);
  color: var(--neon-green);
  text-shadow: 0 0 10px var(--neon-green);
}

.feedback-correcto::before {
  content: 'SYSTEM: CORRECT';
  position: absolute;
  top: -12px;
  left: 10px;
  background: var(--dark-bg);
  padding: 0 10px;
  font-size: 0.9rem;
  color: var(--neon-green);
}

.feedback-incorrecto {
  background: rgba(255, 0, 0, 0.1);
  border-color: #ff0000;
  color: #ff0000;
  text-shadow: 0 0 10px #ff0000;
}

.feedback-incorrecto::before {
  content: 'SYSTEM: ERROR';
  position: absolute;
  top: -12px;
  left: 10px;
  background: var(--dark-bg);
  padding: 0 10px;
  font-size: 0.9rem;
  color: #ff0000;
}

/* DIAGRAMAS Y VISUALES */
.contenedor-svg {
  background: rgba(0, 0, 0, 0.7);
  padding: 25px;
  border: var(--pixel-border) solid var(--neon-pink);
  margin: 40px 0;
  position: relative;
  z-index: 2;
  box-shadow: 
    inset 0 0 40px rgba(255, 0, 255, 0.2),
    0 0 40px rgba(255, 0, 255, 0.4);
}

.contenedor-svg h4 {
  color: var(--neon-pink);
  text-shadow: 0 0 15px var(--neon-pink);
}

.diagrama-interactivo {
  width: 100%;
  height: 500px;
  overflow: visible;
  filter: drop-shadow(0 0 10px rgba(255, 0, 255, 0.5));
}

/* SECCI칍N ERRORES COMUNES */
.seccion-errores {
  background: rgba(255, 100, 0, 0.08);
  border: var(--pixel-border) solid #ff6400;
  border-radius: 0;
  padding: 30px;
  margin: 45px 0;
  position: relative;
  z-index: 2;
  clip-path: polygon(0 0, 100% 0, 100% calc(100% - 20px), calc(100% - 20px) 100%, 0 100%);
}

.seccion-errores h2 {
  color: #ff6400;
  text-shadow: 0 0 15px #ff6400;
}

.error-item {
  background: rgba(255, 100, 0, 0.05);
  padding: 22px;
  margin: 20px 0;
  border-left: var(--pixel-border) solid #ff6400;
  display: flex;
  align-items: flex-start;
  gap: 20px;
  transition: all 0.3s;
  position: relative;
}

.error-item:hover {
  background: rgba(255, 100, 0, 0.1);
  transform: translateX(10px) translateY(-5px);
  box-shadow: 0 0 30px rgba(255, 100, 0, 0.3);
}

.icono-error {
  color: #ff6400;
  font-size: 2rem;
  flex-shrink: 0;
  text-shadow: 0 0 15px #ff6400;
  animation: pulse 2s infinite;
}

.error-item h5 {
  color: #ff6400;
  margin-top: 0;
  text-shadow: 0 0 10px #ff6400;
}

/* PROBLEMAS EXAMEN */
.problema-examen {
  background: rgba(100, 100, 255, 0.08);
  border-left: var(--pixel-border) solid #6464ff;
  padding: 30px;
  margin: 40px 0;
  position: relative;
  border: var(--pixel-border) solid rgba(100, 100, 255, 0.3);
  clip-path: polygon(30px 0, 100% 0, 100% 100%, 0 100%, 0 30px);
}

.numero-problema {
  position: absolute;
  left: -25px;
  top: -25px;
  background: #6464ff;
  color: var(--dark-bg);
  width: 50px;
  height: 50px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 1.5rem;
  border: var(--pixel-border) solid var(--dark-bg);
  text-shadow: none;
  box-shadow: 0 0 20px #6464ff;
  font-family: 'Courier New', monospace;
}

.problema-examen strong {
  color: #6464ff;
  text-shadow: 0 0 10px #6464ff;
}

/* METACOGNICI칍N */
.bloque-metacognicion {
  background: linear-gradient(135deg, 
    rgba(157, 0, 255, 0.1), 
    rgba(0, 243, 255, 0.1));
  padding: 35px;
  border: var(--pixel-border) solid var(--neon-purple);
  margin: 50px 0;
  text-align: center;
  position: relative;
  z-index: 2;
  clip-path: polygon(0 0, 100% 0, 100% calc(100% - 30px), calc(100% - 30px) 100%, 0 100%);
}

.bloque-metacognicion h2 {
  color: var(--neon-purple);
  text-shadow: 0 0 20px var(--neon-purple);
}

.pregunta-reflexiva {
  font-style: italic;
  color: var(--neon-yellow);
  margin: 25px 0;
  padding: 20px;
  background: rgba(255, 255, 0, 0.05);
  border: var(--pixel-border) dashed var(--neon-yellow);
  border-radius: 0;
  font-size: 1.2rem;
  text-shadow: 0 0 10px var(--neon-yellow);
  position: relative;
}

.pregunta-reflexiva::before {
  content: '?';
  position: absolute;
  left: -15px;
  top: -15px;
  background: var(--neon-yellow);
  color: var(--dark-bg);
  width: 30px;
  height: 30px;
  border-radius: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 1.4rem;
  border: var(--pixel-border) solid var(--dark-bg);
}

/* ANIMACIONES ADICIONALES */
@keyframes fadeIn {
  from { 
    opacity: 0; 
    transform: translateY(20px) scale(0.95);
  }
  to { 
    opacity: 1; 
    transform: translateY(0) scale(1);
  }
}

@keyframes shine {
  0% { left: -100%; }
  20% { left: 100%; }
  100% { left: 100%; }
}

@keyframes flicker {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.8; }
  51% { opacity: 0.2; }
  52% { opacity: 0.8; }
}

/* ELEMENTOS DE INTERFAZ */
select, button {
  font-family: 'Courier New', monospace;
  background: var(--dark-bg);
  color: var(--neon-blue);
  border: var(--pixel-border) solid var(--neon-blue);
  padding: 12px 20px;
  font-size: 1rem;
  cursor: pointer;
  text-shadow: 0 0 5px var(--neon-blue);
  transition: all 0.3s;
  position: relative;
  overflow: hidden;
}

select:hover, button:hover {
  background: rgba(0, 243, 255, 0.1);
  box-shadow: 0 0 20px var(--neon-blue);
  transform: translateY(-3px);
}

select:focus, button:focus {
  outline: none;
  box-shadow: 0 0 30px var(--neon-blue);
}

button::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, 
    transparent, 
    rgba(255, 255, 255, 0.2), 
    transparent);
  transition: 0.5s;
}

button:hover::before {
  left: 100%;
}

/* EFECTOS ESPECIALES PARA TEXTO */
code, pre {
  background: rgba(0, 0, 0, 0.5);
  border: var(--pixel-border) solid var(--neon-green);
  padding: 10px;
  color: var(--neon-green);
  font-family: 'Courier New', monospace;
  text-shadow: 0 0 10px var(--neon-green);
}

strong {
  color: var(--neon-pink);
  text-shadow: 0 0 8px var(--neon-pink);
  animation: flicker 3s infinite;
}

em {
  color: var(--neon-yellow);
  text-shadow: 0 0 8px var(--neon-yellow);
}

/* BARRAS DE PROGRESO Y ESTADOS */
.progress-bar {
  width: 100%;
  height: 20px;
  background: rgba(0, 0, 0, 0.5);
  border: var(--pixel-border) solid var(--neon-blue);
  margin: 20px 0;
  position: relative;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, 
    var(--neon-blue), 
    var(--neon-pink));
  width: 0%;
  transition: width 1s ease-in-out;
  position: relative;
}

.progress-fill::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(90deg, 
    transparent, 
    rgba(255, 255, 255, 0.3), 
    transparent);
  animation: shine 2s infinite;
}

/* RESPONSIVE DESIGN 8-BIT */
@media (max-width: 768px) {
  .leccion-quimica {
    padding: 15px;
    border-width: 2px;
  }
  
  .titulo-leccion {
    font-size: 1.6rem;
    letter-spacing: 1px;
  }
  
  .subtitulo-conceptual {
    font-size: 1.3rem;
    padding: 15px;
  }
  
  .controles-simulador {
    flex-direction: column;
  }
  
  .control-deslizante {
    min-width: 100%;
  }
  
  .tabla-conceptual {
    font-size: 0.9rem;
  }
  
  .tabla-conceptual th,
  .tabla-conceptual td {
    padding: 10px 8px;
  }
  
  .error-item {
    flex-direction: column;
    gap: 10px;
  }
}

/* EFECTO DE TEXTO TIPO TERMINAL */
.terminal-text {
  color: var(--neon-green);
  font-family: 'Courier New', monospace;
  text-shadow: 0 0 10px var(--neon-green);
  position: relative;
  padding-left: 20px;
}

.terminal-text::before {
  content: '>';
  position: absolute;
  left: 0;
  color: var(--neon-green);
  animation: blink 1s infinite;
}

/* SCROLLBAR PERSONALIZADO */
::-webkit-scrollbar {
  width: 12px;
}

::-webkit-scrollbar-track {
  background: var(--darker-bg);
  border: var(--pixel-border) solid var(--neon-blue);
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, 
    var(--neon-blue), 
    var(--neon-pink));
  border: var(--pixel-border) solid var(--dark-bg);
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg, 
    var(--neon-pink), 
    var(--neon-blue));
  box-shadow: 0 0 20px var(--neon-pink);
}

/* EFECTO DE CARGA */
.loading {
  position: relative;
  color: transparent;
  background: linear-gradient(90deg, 
    var(--neon-blue), 
    var(--neon-pink), 
    var(--neon-green));
  background-size: 200% 100%;
  -webkit-background-clip: text;
  background-clip: text;
  animation: loading 2s infinite linear;
}

@keyframes loading {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

/* BADGES Y ETIQUETAS */
.badge {
  display: inline-block;
  padding: 5px 10px;
  background: var(--dark-bg);
  border: var(--pixel-border) solid;
  font-size: 0.8rem;
  font-weight: bold;
  text-transform: uppercase;
  letter-spacing: 1px;
  margin: 0 5px;
}

.badge-cyber {
  border-color: var(--neon-blue);
  color: var(--neon-blue);
  text-shadow: 0 0 10px var(--neon-blue);
}

.badge-warning {
  border-color: var(--neon-yellow);
  color: var(--neon-yellow);
  text-shadow: 0 0 10px var(--neon-yellow);
}

.badge-success {
  border-color: var(--neon-green);
  color: var(--neon-green);
  text-shadow: 0 0 10px var(--neon-green);
}

/* UTILIDADES */
.text-center { text-align: center; }
.text-right { text-align: right; }
.mt-20 { margin-top: 20px; }
.mb-20 { margin-bottom: 20px; }
.mt-40 { margin-top: 40px; }
.mb-40 { margin-bottom: 40px; }
.pixel-border { border: var(--pixel-border) solid var(--neon-blue); }

/* EFECTO DE REFLEJO */
.reflection {
  position: relative;
  overflow: hidden;
}

.reflection::after {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: linear-gradient(45deg, 
    transparent 30%, 
    rgba(255, 255, 255, 0.1) 50%, 
    transparent 70%);
  transform: rotate(30deg);
  animation: reflection 5s infinite linear;
}

@keyframes reflection {
  0% { transform: translateX(-100%) rotate(30deg); }
  100% { transform: translateX(100%) rotate(30deg); }
}

/* ========================================
   ESTILOS CYBERPUNK RETRO 8-BIT - COMPACTO
   ======================================== */

/* VARIABLES DE COLOR NE칍N */
:root {
  --neon-blue: #00f3ff;
  --neon-pink: #ff00ff;
  --neon-green: #00ff00;
  --neon-yellow: #ffff00;
  --neon-purple: #9d00ff;
  --dark-bg: #0a0a14;
  --darker-bg: #05050a;
  --grid-color: rgba(0, 243, 255, 0.1);
  --scanline: rgba(0, 255, 0, 0.05);
  --pixel-border: 2px;
  --text-glow: 0 0 8px currentColor;
  --box-glow: 0 0 15px;
}

/* RESET Y TIPOGRAF칈A 8-BIT COMPACTA */
.leccion-quimica {
  font-family: 'Courier New', 'Monaco', 'Consolas', monospace;
  line-height: 1.5;
  color: #e0e0ff;
  max-width: 1000px;
  margin: 0 auto;
  padding: 15px;
  background: var(--dark-bg);
  position: relative;
  overflow: hidden;
  border: var(--pixel-border) solid var(--neon-blue);
  box-shadow: 
    var(--box-glow) var(--neon-blue),
    inset 0 0 20px rgba(0, 243, 255, 0.08);
  font-size: 14px;
  border-radius: 0;
}

/* EFECTO GRID SUTIL */
.leccion-quimica::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: 
    linear-gradient(var(--grid-color) 1px, transparent 1px),
    linear-gradient(90deg, var(--grid-color) 1px, transparent 1px);
  background-size: 30px 30px;
  pointer-events: none;
  z-index: 0;
  opacity: 0.2;
}

/* T칈TULOS COMPACTOS */
.titulo-leccion {
  color: var(--neon-blue);
  border-bottom: var(--pixel-border) solid var(--neon-pink);
  padding-bottom: 10px;
  margin-bottom: 20px;
  font-weight: bold;
  text-align: center;
  font-size: 1.6rem;
  text-shadow: var(--text-glow);
  text-transform: uppercase;
  letter-spacing: 1px;
  position: relative;
  animation: pulse 3s infinite;
}

.titulo-leccion::after {
  content: '郊';
  position: absolute;
  right: 15px;
  animation: blink 1s infinite;
  color: var(--neon-green);
  font-size: 1rem;
}

.subtitulo-conceptual {
  color: var(--neon-green);
  background: linear-gradient(90deg, 
    rgba(0, 255, 0, 0.08) 0%, 
    transparent 100%);
  padding: 12px 18px;
  border-left: var(--pixel-border) solid var(--neon-green);
  margin: 25px 0 18px 0;
  font-weight: bold;
  font-size: 1.3rem;
  text-shadow: 0 0 10px var(--neon-green);
  position: relative;
  clip-path: polygon(0 0, 100% 0, 97% 100%, 0 100%);
}

.subtitulo-conceptual::before {
  content: '郊';
  position: absolute;
  left: 5px;
  color: var(--neon-green);
  animation: blink 2s infinite;
  font-size: 0.9rem;
}

h4 {
  color: var(--neon-yellow);
  padding: 10px 0 8px 0;
  margin-top: 22px;
  border-bottom: var(--pixel-border) dashed var(--neon-yellow);
  font-weight: bold;
  font-size: 1.1rem;
  text-shadow: 0 0 6px var(--neon-yellow);
  position: relative;
}

h4::before {
  content: '>';
  position: absolute;
  left: -15px;
  color: var(--neon-yellow);
  font-size: 0.9rem;
}

/* TABLAS COMPACTAS */
.tabla-conceptual {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  margin: 20px 0;
  position: relative;
  z-index: 2;
  border: var(--pixel-border) solid var(--neon-blue);
  background: rgba(10, 10, 20, 0.9);
  font-size: 13px;
}

.tabla-conceptual thead {
  background: linear-gradient(90deg, 
    rgba(0, 243, 255, 0.2), 
    rgba(255, 0, 255, 0.2));
  color: white;
  text-shadow: 0 0 8px white;
}

.tabla-conceptual th {
  padding: 12px 10px;
  font-weight: bold;
  text-align: left;
  border-right: var(--pixel-border) solid var(--neon-blue);
  font-size: 0.95rem;
  letter-spacing: 0.5px;
  text-transform: uppercase;
}

.tabla-conceptual td {
  padding: 10px;
  border-bottom: 1px solid rgba(0, 243, 255, 0.2);
  border-right: 1px solid rgba(0, 243, 255, 0.15);
  vertical-align: top;
  transition: all 0.2s;
}

.tabla-conceptual tr:hover td {
  background: rgba(0, 243, 255, 0.08);
  color: var(--neon-blue);
  text-shadow: 0 0 6px var(--neon-blue);
}

/* BLOQUES ESPECIALES COMPACTOS */
.bloque-fundamento {
  background: rgba(0, 255, 0, 0.06);
  border-left: var(--pixel-border) solid var(--neon-green);
  padding: 15px;
  margin: 20px 0;
  position: relative;
  z-index: 2;
  font-size: 13px;
  line-height: 1.4;
}

.bloque-fundamento strong {
  color: var(--neon-green);
  font-size: 1rem;
  text-shadow: 0 0 8px var(--neon-green);
}

.ejemplo-contextual {
  background: rgba(255, 255, 0, 0.06);
  border: var(--pixel-border) solid var(--neon-yellow);
  padding: 15px;
  margin: 20px 0;
  position: relative;
  z-index: 2;
  font-size: 13px;
  line-height: 1.4;
}

.ejemplo-contextual::before {
  content: '丘';
  position: absolute;
  left: -12px;
  top: -12px;
  background: var(--neon-yellow);
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1rem;
  color: var(--dark-bg);
  font-weight: bold;
  border: var(--pixel-border) solid var(--dark-bg);
}

/* SIMULADORES COMPACTOS */
.simulador-contenedor {
  background: rgba(0, 0, 0, 0.6);
  border: var(--pixel-border) solid var(--neon-purple);
  padding: 20px;
  margin: 25px 0;
  position: relative;
  z-index: 2;
  font-size: 13px;
}

.simulador-contenedor h4 {
  margin-top: 0;
  font-size: 1.1rem;
}

.controles-simulador {
  display: flex;
  flex-wrap: wrap;
  gap: 15px;
  margin: 18px 0;
  align-items: center;
  justify-content: center;
}

.control-deslizante {
  flex: 1;
  min-width: 220px;
  background: rgba(0, 0, 0, 0.4);
  padding: 12px;
  border: var(--pixel-border) solid var(--neon-blue);
}

.control-deslizante label {
  color: var(--neon-blue);
  text-shadow: 0 0 6px var(--neon-blue);
  font-weight: bold;
  display: block;
  margin-bottom: 8px;
  font-size: 0.9rem;
}

.control-deslizante input[type="range"] {
  width: 100%;
  height: 8px;
  -webkit-appearance: none;
  background: linear-gradient(90deg, 
    var(--neon-blue), 
    var(--neon-pink));
  border: var(--pixel-border) solid var(--neon-blue);
}

.control-deslizante input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 18px;
  height: 18px;
  background: var(--neon-green);
  border: var(--pixel-border) solid var(--dark-bg);
  cursor: pointer;
}

.vis-resultado {
  background: linear-gradient(135deg, 
    rgba(0, 243, 255, 0.08), 
    rgba(255, 0, 255, 0.08));
  padding: 15px;
  border: var(--pixel-border) solid var(--neon-blue);
  margin-top: 18px;
  text-align: center;
  min-height: 90px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  font-size: 13px;
}

/* QUIZ COMPACTO */
.quiz-contenedor {
  background: rgba(0, 0, 0, 0.7);
  border: var(--pixel-border) solid var(--neon-green);
  padding: 20px;
  margin: 25px 0;
  position: relative;
  z-index: 2;
  font-size: 13px;
}

.pregunta-quiz {
  background: rgba(0, 20, 0, 0.4);
  padding: 15px;
  margin: 12px 0;
  border-left: var(--pixel-border) solid var(--neon-green);
  border: var(--pixel-border) solid rgba(0, 255, 0, 0.2);
}

.opcion-quiz {
  display: block;
  padding: 10px 12px;
  margin: 8px 0;
  background: rgba(0, 243, 255, 0.08);
  border: var(--pixel-border) solid rgba(0, 243, 255, 0.2);
  cursor: pointer;
  transition: all 0.2s;
  font-size: 0.9rem;
}

.opcion-quiz:hover {
  background: rgba(0, 243, 255, 0.2);
  border-color: var(--neon-blue);
  transform: translateX(5px);
}

.opcion-quiz.seleccionada {
  background: rgba(0, 255, 0, 0.15);
  border-color: var(--neon-green);
}

.feedback-quiz {
  padding: 12px;
  margin: 12px 0;
  border: var(--pixel-border) solid;
  display: none;
  animation: fadeIn 0.3s;
  font-size: 0.9rem;
}

.feedback-correcto {
  background: rgba(0, 255, 0, 0.08);
  border-color: var(--neon-green);
}

.feedback-incorrecto {
  background: rgba(255, 0, 0, 0.08);
  border-color: #ff0000;
}

/* DIAGRAMAS COMPACTOS */
.contenedor-svg {
  background: rgba(0, 0, 0, 0.6);
  padding: 15px;
  border: var(--pixel-border) solid var(--neon-pink);
  margin: 25px 0;
  position: relative;
  z-index: 2;
  font-size: 13px;
}

.diagrama-interactivo {
  width: 100%;
  height: 400px;
  overflow: visible;
}

/* SECCI칍N ERRORES COMPACTA */
.seccion-errores {
  background: rgba(255, 100, 0, 0.06);
  border: var(--pixel-border) solid #ff6400;
  padding: 20px;
  margin: 25px 0;
  position: relative;
  z-index: 2;
  font-size: 13px;
}

.error-item {
  background: rgba(255, 100, 0, 0.04);
  padding: 15px;
  margin: 12px 0;
  border-left: var(--pixel-border) solid #ff6400;
  display: flex;
  align-items: flex-start;
  gap: 12px;
  transition: all 0.2s;
}

.error-item:hover {
  background: rgba(255, 100, 0, 0.08);
  transform: translateX(5px);
}

.icono-error {
  color: #ff6400;
  font-size: 1.3rem;
  flex-shrink: 0;
}

.error-item h5 {
  color: #ff6400;
  margin-top: 0;
  font-size: 1rem;
}

/* PROBLEMAS EXAMEN COMPACTOS */
.problema-examen {
  background: rgba(100, 100, 255, 0.06);
  border-left: var(--pixel-border) solid #6464ff;
  padding: 20px;
  margin: 25px 0;
  position: relative;
  border: var(--pixel-border) solid rgba(100, 100, 255, 0.2);
  font-size: 13px;
}

.numero-problema {
  position: absolute;
  left: -20px;
  top: -20px;
  background: #6464ff;
  color: var(--dark-bg);
  width: 35px;
  height: 35px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 1.1rem;
  border: var(--pixel-border) solid var(--dark-bg);
}

/* METACOGNICI칍N COMPACTA */
.bloque-metacognicion {
  background: linear-gradient(135deg, 
    rgba(157, 0, 255, 0.08), 
    rgba(0, 243, 255, 0.08));
  padding: 20px;
  border: var(--pixel-border) solid var(--neon-purple);
  margin: 30px 0;
  text-align: center;
  position: relative;
  z-index: 2;
  font-size: 13px;
}

.pregunta-reflexiva {
  font-style: italic;
  color: var(--neon-yellow);
  margin: 15px 0;
  padding: 12px;
  background: rgba(255, 255, 0, 0.04);
  border: var(--pixel-border) dashed var(--neon-yellow);
  font-size: 0.95rem;
}

/* ANIMACIONES */
@keyframes blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

@keyframes pulse {
  0%, 100% { 
    text-shadow: 0 0 8px currentColor;
  }
  50% { 
    text-shadow: 0 0 12px currentColor;
  }
}

@keyframes fadeIn {
  from { 
    opacity: 0; 
    transform: translateY(10px);
  }
  to { 
    opacity: 1; 
    transform: translateY(0);
  }
}

/* ELEMENTOS DE INTERFAZ COMPACTOS */
select, button {
  font-family: 'Courier New', monospace;
  background: var(--dark-bg);
  color: var(--neon-blue);
  border: var(--pixel-border) solid var(--neon-blue);
  padding: 8px 15px;
  font-size: 0.9rem;
  cursor: pointer;
  transition: all 0.2s;
}

select:hover, button:hover {
  background: rgba(0, 243, 255, 0.1);
}

/* EFECTOS DE TEXTO */
strong {
  color: var(--neon-pink);
  text-shadow: 0 0 6px var(--neon-pink);
}

em {
  color: var(--neon-yellow);
  text-shadow: 0 0 6px var(--neon-yellow);
}

/* SEPARADORES */
hr {
  border: 1px solid rgba(0, 243, 255, 0.3);
  margin: 20px 0;
  background: none;
}

/* LISTAS COMPACTAS */
ul, ol {
  margin: 10px 0;
  padding-left: 20px;
}

li {
  margin: 6px 0;
  font-size: 13px;
}

/* RESPONSIVE DESIGN COMPACTO */
@media (max-width: 768px) {
  .leccion-quimica {
    padding: 10px;
    font-size: 13px;
  }
  
  .titulo-leccion {
    font-size: 1.3rem;
    padding-bottom: 8px;
    margin-bottom: 15px;
  }
  
  .subtitulo-conceptual {
    font-size: 1.1rem;
    padding: 10px 15px;
    margin: 20px 0 15px 0;
  }
  
  .control-deslizante {
    min-width: 100%;
  }
  
  .tabla-conceptual {
    font-size: 12px;
  }
  
  .tabla-conceptual th,
  .tabla-conceptual td {
    padding: 8px;
  }
  
  .diagrama-interactivo {
    height: 300px;
  }
}

/* SCROLLBAR DELGADO */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: var(--darker-bg);
  border: var(--pixel-border) solid var(--neon-blue);
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, 
    var(--neon-blue), 
    var(--neon-pink));
  border: var(--pixel-border) solid var(--dark-bg);
}

/* UTILIDADES COMPACTAS */
.text-center { text-align: center; }
.mt-15 { margin-top: 15px; }
.mb-15 { margin-bottom: 15px; }
.p-10 { padding: 10px; }
.fs-sm { font-size: 0.9rem; }
.fs-xs { font-size: 0.8rem; }

/* ESTILOS PARA C칍DIGO MATHJAX */
.MathJax {
  font-size: 14px !important;
}

/* CONTENEDOR PRINCIPAL M츼S COMPACTO */
.leccion-quimica > section {
  margin-bottom: 20px;
}

/* AJUSTES PARA CONTENIDO LARGO */
p {
  margin: 8px 0;
  line-height: 1.5;
  font-size: 13px;
}

/* REDUCCI칍N DE SOMBRAS Y EFECTOS PARA MEJOR LEGIBILIDAD */
.tabla-conceptual,
.simulador-contenedor,
.quiz-contenedor,
.contenedor-svg,
.seccion-errores,
.problema-examen,
.bloque-metacognicion {
  box-shadow: none;
}

/* FONDOS M츼S TRANSPARENTES PARA NO SOBRECARGAR */
.tabla-conceptual thead {
  background: linear-gradient(90deg, 
    rgba(0, 243, 255, 0.15), 
    rgba(255, 0, 255, 0.15));
}

/* MINIMIZAR ANIMACIONES EN ELEMENTOS SECUNDARIOS */
.tabla-conceptual th::before,
button::before {
  display: none; /* Eliminar efectos brillantes extra */
}

/* ESTILO M칈NIMO PARA ENLACES */
a {
  color: var(--neon-blue);
  text-decoration: none;
  border-bottom: 1px dotted var(--neon-blue);
}

a:hover {
  color: var(--neon-green);
  border-bottom-style: solid;
}

/* ========================================
   ESTILOS CYBERPUNK CONTAMINACI칍N AMBIENTAL
   ======================================== */

/* VARIABLES CYBERPUNK PARA CONTAMINACI칍N */
:root {
    --neon-toxic: #39ff14;      /* Verde t칩xico brillante */
    --neon-smog: #ff00ff;       /* Rosa smog */
    --neon-acid: #00ffff;       /* Cian lluvia 치cida */
    --neon-alert: #ffff00;      /* Amarillo alerta */
    --neon-pollution: #ff6b6b;  /* Rojo contaminaci칩n */
    --neon-data: #00ff9d;       /* Verde datos */
    --dark-bg: #0a0a1a;         /* Fondo oscuro azulado */
    --darker-bg: #050510;
    --grid-color: rgba(57, 255, 20, 0.08);
    --scanline: rgba(0, 255, 255, 0.03);
    --pixel-border: 2px;
    --text-glow: 0 0 8px currentColor;
    --box-glow: 0 0 12px;
}

/* ESTRUCTURA PRINCIPAL */
.leccion-quimica {
    font-family: 'Courier New', 'Monaco', 'Consolas', monospace;
    line-height: 1.5;
    color: #e0f0ff;
    max-width: 1000px;
    margin: 0 auto;
    padding: 15px;
    background: var(--dark-bg);
    position: relative;
    border: var(--pixel-border) solid var(--neon-toxic);
    box-shadow: 
        var(--box-glow) var(--neon-toxic),
        inset 0 0 20px rgba(57, 255, 20, 0.05);
    font-size: 14px;
    overflow: hidden;
}

/* GRID DE FONDO */
.leccion-quimica::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
        linear-gradient(var(--grid-color) 1px, transparent 1px),
        linear-gradient(90deg, var(--grid-color) 1px, transparent 1px);
    background-size: 30px 30px;
    pointer-events: none;
    z-index: 0;
    opacity: 0.2;
}

/* SCANLINES */
.leccion-quimica::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
        to bottom,
        transparent 50%,
        var(--scanline) 51%
    );
    background-size: 100% 4px;
    pointer-events: none;
    z-index: 1;
    animation: scanline 8s linear infinite;
}

/* T칈TULOS Y ENCABEZADOS */
.titulo-leccion {
    color: var(--neon-toxic);
    border-bottom: var(--pixel-border) solid var(--neon-smog);
    padding-bottom: 10px;
    margin-bottom: 20px;
    font-weight: bold;
    text-align: center;
    font-size: 1.6rem;
    text-shadow: var(--text-glow);
    text-transform: uppercase;
    letter-spacing: 1px;
    position: relative;
    animation: pulse-toxic 3s infinite;
}

.titulo-leccion::after {
    content: '丘';
    position: absolute;
    right: 15px;
    animation: blink 1s infinite;
    color: var(--neon-alert);
    font-size: 1.2rem;
}

.subtitulo-conceptual {
    color: var(--neon-acid);
    background: linear-gradient(90deg, 
        rgba(0, 255, 255, 0.08) 0%, 
        transparent 100%);
    padding: 12px 18px;
    border-left: var(--pixel-border) solid var(--neon-acid);
    margin: 25px 0 18px 0;
    font-weight: bold;
    font-size: 1.3rem;
    text-shadow: 0 0 10px var(--neon-acid);
    position: relative;
    clip-path: polygon(0 0, 100% 0, 97% 100%, 0 100%);
}

.subtitulo-conceptual::before {
    content: '郊';
    position: absolute;
    left: 5px;
    color: var(--neon-acid);
    animation: blink 2s infinite;
    font-size: 0.9rem;
}

h3 {
    color: var(--neon-smog);
    padding: 10px 0 8px 0;
    margin-top: 22px;
    border-bottom: var(--pixel-border) dashed var(--neon-smog);
    font-weight: bold;
    font-size: 1.2rem;
    text-shadow: 0 0 6px var(--neon-smog);
    position: relative;
}

h3::before {
    content: '>';
    position: absolute;
    left: -15px;
    color: var(--neon-smog);
    font-size: 0.9rem;
}

h4 {
    color: var(--neon-alert);
    margin: 15px 0 8px 0;
    font-size: 1.1rem;
    text-shadow: 0 0 5px var(--neon-alert);
}

/* BLOQUE DE OBJETIVOS */
.learning-goals {
    background: rgba(57, 255, 20, 0.05);
    border: var(--pixel-border) solid var(--neon-toxic);
    padding: 15px;
    margin: 20px 0;
    position: relative;
    z-index: 2;
}

.learning-goals h3 {
    color: var(--neon-toxic);
    margin-top: 0;
    font-size: 1.1rem;
}

.learning-goals ul {
    margin: 10px 0;
    padding-left: 20px;
}

.learning-goals li {
    color: #e0f0ff;
    margin: 6px 0;
    font-size: 0.9rem;
    position: relative;
}

.learning-goals li::before {
    content: '郊';
    color: var(--neon-toxic);
    position: absolute;
    left: -15px;
}

/* TABLAS DE CONTAMINANTES */
.classification-table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
    margin: 20px 0;
    position: relative;
    z-index: 2;
    border: var(--pixel-border) solid var(--neon-toxic);
    background: rgba(10, 10, 26, 0.9);
    font-size: 12px;
}

.classification-table thead {
    background: linear-gradient(90deg, 
        rgba(57, 255, 20, 0.15), 
        rgba(255, 0, 255, 0.15));
    color: white;
    text-shadow: 0 0 6px white;
}

.classification-table th {
    padding: 10px 8px;
    font-weight: bold;
    text-align: left;
    border-right: var(--pixel-border) solid var(--neon-toxic);
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.classification-table td {
    padding: 8px;
    border-bottom: 1px solid rgba(57, 255, 20, 0.2);
    border-right: 1px solid rgba(57, 255, 20, 0.15);
    vertical-align: top;
    transition: all 0.2s;
}

.classification-table tr:hover td {
    background: rgba(57, 255, 20, 0.08);
    color: var(--neon-toxic);
    text-shadow: 0 0 5px var(--neon-toxic);
}

/* BLOQUE DE EJEMPLO */
.theory-card.example {
    background: rgba(0, 255, 255, 0.06);
    border: var(--pixel-border) solid var(--neon-acid);
    padding: 15px;
    margin: 20px 0;
    position: relative;
    z-index: 2;
}

.theory-card.example h4 {
    color: var(--neon-acid);
    margin-top: 0;
}

/* DIAGRAMA INTERACTIVO */
.diagram-container {
    background: rgba(0, 0, 0, 0.6);
    border: var(--pixel-border) solid var(--neon-smog);
    padding: 15px;
    margin: 25px 0;
    position: relative;
    z-index: 2;
}

.diagram-controls {
    margin-top: 15px;
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
}

.diagram-controls button {
    font-family: 'Courier New', monospace;
    background: var(--dark-bg);
    color: var(--neon-alert);
    border: var(--pixel-border) solid var(--neon-alert);
    padding: 8px 12px;
    font-size: 0.85rem;
    cursor: pointer;
    transition: all 0.2s;
    flex: 1;
    min-width: 120px;
}

.diagram-controls button:hover {
    background: rgba(255, 255, 0, 0.1);
    box-shadow: 0 0 10px var(--neon-alert);
}

.diagram-info {
    margin-top: 15px;
    padding: 10px;
    background: rgba(255, 107, 107, 0.05);
    border: var(--pixel-border) solid var(--neon-pollution);
    font-size: 0.9rem;
}

/* SIMULADORES */
.simulator-container {
    background: rgba(0, 0, 0, 0.6);
    border: var(--pixel-border) solid var(--neon-acid);
    padding: 20px;
    margin: 25px 0;
    position: relative;
    z-index: 2;
}

.simulator-controls {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    margin-bottom: 20px;
}

.control-group {
    flex: 1;
    min-width: 200px;
    background: rgba(0, 0, 0, 0.4);
    padding: 12px;
    border: var(--pixel-border) solid var(--neon-acid);
}

.control-group label {
    color: var(--neon-acid);
    display: block;
    margin-bottom: 8px;
    font-size: 0.9rem;
    font-weight: bold;
}

.control-group input[type="range"] {
    width: 100%;
    height: 8px;
    -webkit-appearance: none;
    background: linear-gradient(90deg, 
        var(--neon-acid), 
        var(--neon-smog));
    border: var(--pixel-border) solid var(--neon-acid);
    margin-bottom: 8px;
}

.control-group input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 18px;
    height: 18px;
    background: var(--neon-alert);
    border: var(--pixel-border) solid var(--dark-bg);
    cursor: pointer;
}

.control-group span {
    color: var(--neon-data);
    font-size: 0.9rem;
    font-weight: bold;
}

/* DISPLAY DE PH */
.ph-display {
    font-size: 2.5rem;
    font-weight: bold;
    color: var(--neon-acid);
    text-shadow: 0 0 15px var(--neon-acid);
    margin: 10px 0;
}

.ph-scale {
    width: 100%;
    margin: 20px 0;
}

.scale-bar {
    position: relative;
    height: 20px;
    background: linear-gradient(90deg, 
        #ff0000,  /* 츼cido fuerte */
        #ff5500, 
        #ffaa00, 
        #ffff00, 
        #aaff00, 
        #55ff00, 
        #00ff00); /* Neutro/base */
    border: var(--pixel-border) solid var(--neon-acid);
    border-radius: 0;
    overflow: hidden;
}

.ph-indicator {
    position: absolute;
    top: -5px;
    width: 4px;
    height: 30px;
    background: #000;
    border: var(--pixel-border) solid var(--neon-alert);
    transform: translateX(-50%);
    transition: left 0.5s ease;
}

.scale-labels {
    display: flex;
    justify-content: space-between;
    margin-top: 5px;
    font-size: 11px;
    color: var(--neon-acid);
}

.classification {
    font-size: 1.1rem;
    font-weight: bold;
    margin: 10px 0;
    padding: 5px;
    border: var(--pixel-border) solid;
    text-align: center;
}

/* CALIDAD DEL AIRE */
.air-quality-container {
    background: rgba(0, 0, 0, 0.6);
    border: var(--pixel-border) solid var(--neon-data);
    padding: 20px;
    margin: 25px 0;
    position: relative;
    z-index: 2;
}

.aqi-visual {
    margin-bottom: 20px;
}

.aqi-display_other {
    background: rgba(0, 0, 0, 0.5);
    border: var(--pixel-border) solid var(--neon-data);
    padding: 20px;
    margin-bottom: 20px;
    text-align: center;
}

.aqi-value {
    font-size: 3rem;
    font-weight: bold;
    color: var(--neon-data);
    text-shadow: 0 0 20px var(--neon-data);
}

.aqi-level {
    font-size: 1.2rem;
    color: var(--neon-data);
    margin-top: 10px;
}

.parameter-slider {
    margin: 15px 0;
    padding: 10px;
    background: rgba(0, 0, 0, 0.3);
    border: var(--pixel-border) solid var(--neon-data);
}

.parameter-slider label {
    color: var(--neon-data);
    display: block;
    margin-bottom: 8px;
    font-size: 0.9rem;
}

.parameter-slider input[type="range"] {
    width: 100%;
    height: 8px;
    background: linear-gradient(90deg, 
        var(--neon-data), 
        var(--neon-toxic));
    border: var(--pixel-border) solid var(--neon-data);
}

.aqi-table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
    margin: 20px 0;
    border: var(--pixel-border) solid var(--neon-data);
    font-size: 11px;
}

.aqi-table th {
    background: rgba(0, 255, 157, 0.15);
    color: var(--neon-data);
    padding: 8px;
    border: var(--pixel-border) solid var(--neon-data);
    text-align: center;
}

.aqi-table td {
    padding: 6px;
    border: var(--pixel-border) solid rgba(0, 255, 157, 0.3);
    text-align: center;
}

/* QUIZ INTERACTIVO */
.quiz-container {
    background: rgba(0, 0, 0, 0.6);
    border: var(--pixel-border) solid var(--neon-alert);
    padding: 20px;
    margin: 25px 0;
    position: relative;
    z-index: 2;
}

.quiz-question {
    background: rgba(255, 255, 0, 0.05);
    border: var(--pixel-border) solid var(--neon-alert);
    padding: 15px;
    margin: 12px 0;
}

.quiz-question p {
    color: var(--neon-alert);
    margin-bottom: 10px;
    font-weight: bold;
}

.quiz-options {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.quiz-option {
    background: rgba(255, 255, 0, 0.08);
    border: var(--pixel-border) solid var(--neon-alert);
    color: #e0f0ff;
    padding: 10px 12px;
    font-family: 'Courier New', monospace;
    font-size: 0.9rem;
    text-align: left;
    cursor: pointer;
    transition: all 0.2s;
}

.quiz-option:hover {
    background: rgba(255, 255, 0, 0.15);
    border-color: var(--neon-toxic);
}

.quiz-option[data-correct="true"] {
    background: rgba(57, 255, 20, 0.1);
    border-color: var(--neon-toxic);
}

.quiz-feedback {
    margin: 15px 0;
    padding: 12px;
    border: var(--pixel-border) solid;
    display: none;
    animation: fadeIn 0.3s;
}

.correct-feedback {
    background: rgba(57, 255, 20, 0.1);
    border-color: var(--neon-toxic);
    color: var(--neon-toxic);
}

.incorrect-feedback {
    background: rgba(255, 107, 107, 0.1);
    border-color: var(--neon-pollution);
    color: var(--neon-pollution);
}

.quiz-reset {
    background: var(--dark-bg);
    color: var(--neon-alert);
    border: var(--pixel-border) solid var(--neon-alert);
    padding: 10px 20px;
    font-family: 'Courier New', monospace;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.2s;
    width: 100%;
    margin-top: 10px;
}

/* SOLUCIONES */
.solutions-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 15px;
    margin: 25px 0;
}

.solution-card {
    background: rgba(0, 0, 0, 0.5);
    border: var(--pixel-border) solid var(--neon-toxic);
    padding: 15px;
    position: relative;
}

.solution-card h4 {
    color: var(--neon-toxic);
    margin-top: 0;
    border-bottom: var(--pixel-border) dotted var(--neon-toxic);
    padding-bottom: 8px;
}

.solution-card ul {
    margin: 10px 0;
    padding-left: 20px;
}

.solution-card li {
    color: #e0f0ff;
    margin: 5px 0;
    font-size: 0.85rem;
}

.solution-card li strong {
    color: var(--neon-toxic);
}

.solution-tip {
    margin-top: 12px;
    padding: 8px;
    background: rgba(57, 255, 20, 0.05);
    border: var(--pixel-border) dashed var(--neon-toxic);
    font-size: 0.85rem;
    font-style: italic;
}

/* PROBLEMAS EXAMEN */
.exam-problems {
    margin: 25px 0;
}

.exam-problem {
    background: rgba(0, 0, 0, 0.5);
    border: var(--pixel-border) solid var(--neon-pollution);
    padding: 20px;
    margin: 20px 0;
    position: relative;
}

.exam-problem h4 {
    color: var(--neon-pollution);
    margin-top: 0;
    border-bottom: var(--pixel-border) solid var(--neon-pollution);
    padding-bottom: 8px;
}

.exam-problem ol, .exam-problem ul {
    margin: 10px 0;
    padding-left: 20px;
}

.exam-problem li {
    color: #e0f0ff;
    margin: 6px 0;
    font-size: 0.9rem;
}

.answer-space {
    margin-top: 15px;
}

.answer-space textarea {
    width: 100%;
    min-height: 120px;
    background: rgba(0, 0, 0, 0.3);
    border: var(--pixel-border) solid var(--neon-pollution);
    color: #e0f0ff;
    font-family: 'Courier New', monospace;
    font-size: 0.9rem;
    padding: 10px;
    resize: vertical;
}

.answer-space textarea:focus {
    outline: none;
    border-color: var(--neon-alert);
    box-shadow: 0 0 10px var(--neon-alert);
}

/* REFLEXI칍N METACOGNITIVA */
.metacognitive-reflection {
    background: rgba(0, 0, 0, 0.5);
    border: var(--pixel-border) solid var(--neon-smog);
    padding: 20px;
    margin: 25px 0;
    position: relative;
    z-index: 2;
}

.reflection-question h4,
.learning-check h4,
.real-world-connection h4 {
    color: var(--neon-smog);
    margin-top: 0;
}

.reflection-question ol {
    margin: 10px 0;
    padding-left: 20px;
}

.reflection-question li {
    color: #e0f0ff;
    margin: 8px 0;
    font-size: 0.9rem;
}

.checklist {
    margin: 15px 0;
}

.checklist label {
    display: block;
    margin: 8px 0;
    color: #e0f0ff;
    font-size: 0.9rem;
    cursor: pointer;
}

.checklist input[type="checkbox"] {
    margin-right: 10px;
    accent-color: var(--neon-toxic);
}

.real-world-connection ul {
    margin: 10px 0;
    padding-left: 20px;
}

.real-world-connection li {
    color: #e0f0ff;
    margin: 6px 0;
    font-size: 0.85rem;
}

.real-world-connection li strong {
    color: var(--neon-smog);
}

/* EFECTOS DISPLAY */
.effects-display {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin: 20px 0;
    justify-content: center;
}

.effect {
    flex: 1;
    min-width: 100px;
    background: rgba(255, 107, 107, 0.05);
    border: var(--pixel-border) solid var(--neon-pollution);
    padding: 12px;
    text-align: center;
    transition: all 0.3s;
}

.effect-icon {
    font-size: 1.5rem;
    margin-bottom: 5px;
}

.effect-text {
    font-size: 0.8rem;
    color: #e0f0ff;
}

/* REACCIONES DISPLAY */
.reactions-display {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin: 20px 0;
}

.formula, .result {
    background: rgba(0, 0, 0, 0.3);
    border: var(--pixel-border) solid var(--neon-acid);
    padding: 15px;
}

.formula h4, .result h4 {
    color: var(--neon-acid);
    margin-top: 0;
}

.formula p {
    color: var(--neon-acid);
    margin: 8px 0;
    font-size: 0.9rem;
}

.acid-concentration {
    margin-top: 15px;
}

.acid-concentration p {
    color: var(--neon-acid);
    font-size: 0.9rem;
    margin: 5px 0;
}

.acid-concentration span {
    color: var(--neon-alert);
    font-weight: bold;
}

/* BOTONES GENERALES */
button, .btn {
    font-family: 'Courier New', monospace;
    background: var(--dark-bg);
    color: var(--neon-toxic);
    border: var(--pixel-border) solid var(--neon-toxic);
    padding: 8px 15px;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.2s;
}

button:hover, .btn:hover {
    background: rgba(57, 255, 20, 0.1);
    box-shadow: 0 0 10px var(--neon-toxic);
}

/* ANIMACIONES */
@keyframes scanline {
    0% { background-position: 0 0; }
    100% { background-position: 0 8px; }
}

@keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

@keyframes pulse-toxic {
    0%, 100% { 
        text-shadow: 0 0 8px var(--neon-toxic);
    }
    50% { 
        text-shadow: 0 0 15px var(--neon-toxic), 0 0 25px var(--neon-toxic);
    }
}

@keyframes fadeIn {
    from { 
        opacity: 0; 
        transform: translateY(10px);
    }
    to { 
        opacity: 1; 
        transform: translateY(0);
    }
}

@keyframes glitch {
    0% { transform: translate(0); }
    20% { transform: translate(-2px, 2px); }
    40% { transform: translate(-2px, -2px); }
    60% { transform: translate(2px, 2px); }
    80% { transform: translate(2px, -2px); }
    100% { transform: translate(0); }
}

/* SCROLLBAR */
::-webkit-scrollbar {
    width: 8px;
}

::-webkit-scrollbar-track {
    background: var(--darker-bg);
    border: var(--pixel-border) solid var(--neon-toxic);
}

::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, 
        var(--neon-toxic), 
        var(--neon-smog));
    border: var(--pixel-border) solid var(--dark-bg);
}

::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, 
        var(--neon-smog), 
        var(--neon-toxic));
}

/* RESPONSIVE */
@media (max-width: 768px) {
    .leccion-quimica {
        padding: 10px;
        font-size: 13px;
    }
    
    .titulo-leccion {
        font-size: 1.3rem;
    }
    
    .subtitulo-conceptual {
        font-size: 1.1rem;
        padding: 10px 15px;
    }
    
    .reactions-display {
        grid-template-columns: 1fr;
    }
    
    .solutions-grid {
        grid-template-columns: 1fr;
    }
    
    .control-group {
        min-width: 100%;
    }
    
    .diagram-controls {
        flex-direction: column;
    }
    
    .diagram-controls button {
        width: 100%;
    }
}

/* ESTILOS PARA SVG (diagrama smog) */
.diagram-container svg {
    width: 100%;
    height: auto;
    border: var(--pixel-border) solid var(--neon-smog);
    background: rgba(0, 0, 0, 0.3);
}

/* ESTILOS PARA MATHJAX */
.MathJax {
    font-size: 14px !important;
    color: var(--neon-acid) !important;
}

/* UTILIDADES */
.mt-15 { margin-top: 15px; }
.mb-15 { margin-bottom: 15px; }
.text-center { text-align: center; }
.fs-sm { font-size: 0.9rem; }
.fs-xs { font-size: 0.8rem; }

/* ESTADO ACTIVO PARA ELEMENTOS INTERACTIVOS */
.quiz-option:active,
button:active {
    transform: scale(0.98);
    animation: glitch 0.3s;
}

/* ========================================
   ESTILOS CYBERPUNK - MEJOR DISTRIBUCI칍N
   ======================================== */

/* VARIABLES CYBERPUNK */
:root {
    --neon-toxic: #39ff14;
    --neon-smog: #ff00ff;
    --neon-acid: #00ffff;
    --neon-alert: #ffff00;
    --neon-pollution: #ff6b6b;
    --neon-data: #00ff9d;
    --dark-bg: #0a0a1a;
    --darker-bg: #050510;
    --grid-color: rgba(57, 255, 20, 0.08);
    --scanline: rgba(0, 255, 255, 0.03);
    --pixel-border: 2px;
    --text-glow: 0 0 8px currentColor;
    --box-glow: 0 0 12px;
}

/* ESTRUCTURA PRINCIPAL */
.leccion-quimica {
    font-family: 'Courier New', 'Monaco', 'Consolas', monospace;
    line-height: 1.5;
    color: #e0f0ff;
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
    background: var(--dark-bg);
    position: relative;
    border: var(--pixel-border) solid var(--neon-toxic);
    box-shadow: var(--box-glow) var(--neon-toxic);
    font-size: 15px;
}

/* SIMULADOR SMOG - MEJOR DISTRIBUCI칍N */
.simulator-container-smog {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 25px;
    margin: 25px 0;
    padding: 25px;
    background: rgba(0, 0, 0, 0.6);
    border: var(--pixel-border) solid var(--neon-smog);
    border-radius: 5px;
}

@media (max-width: 900px) {
    .simulator-container-smog {
        grid-template-columns: 1fr;
    }
}

.smog-reactions-panel {
    padding: 20px;
    background: rgba(255, 0, 255, 0.05);
    border: var(--pixel-border) solid var(--neon-smog);
}

.smog-controls-panel {
    padding: 20px;
    background: rgba(255, 255, 0, 0.05);
    border: var(--pixel-border) solid var(--neon-alert);
}

.smog-reactions-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
    margin-top: 15px;
}

.reaction-card {
    padding: 15px;
    background: rgba(0, 0, 0, 0.4);
    border: 1px solid rgba(255, 0, 255, 0.3);
    text-align: center;
    transition: all 0.3s;
}

.reaction-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(255, 0, 255, 0.3);
}

.smog-factors {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 15px;
    margin-top: 20px;
}

.smog-factor {
    padding: 15px;
    text-align: center;
    background: rgba(0, 0, 0, 0.4);
    border: var(--pixel-border) solid var(--neon-pollution);
    border-radius: 5px;
    transition: all 0.3s;
}

.smog-factor:hover {
    transform: scale(1.05);
}

.smog-factor .factor-icon {
    font-size: 2rem;
    margin-bottom: 10px;
}

.smog-factor .factor-label {
    font-size: 0.9rem;
    color: var(--neon-data);
    margin-bottom: 5px;
}

.smog-factor .factor-value {
    font-size: 1.1rem;
    font-weight: bold;
    color: var(--neon-alert);
}

/* SIMULADOR LLUVIA 츼CIDA - MEJOR DISTRIBUCI칍N */
.simulator-container-acid {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 25px;
    margin: 25px 0;
    padding: 25px;
    background: rgba(0, 0, 0, 0.6);
    border: var(--pixel-border) solid var(--neon-acid);
    border-radius: 5px;
}

@media (max-width: 1000px) {
    .simulator-container-acid {
        grid-template-columns: 1fr;
    }
}

.acid-controls-panel {
    padding: 20px;
    background: rgba(0, 255, 255, 0.05);
    border: var(--pixel-border) solid var(--neon-acid);
}

.acid-results-panel {
    padding: 20px;
    background: rgba(57, 255, 20, 0.05);
    border: var(--pixel-border) solid var(--neon-toxic);
}

.acid-reactions-panel {
    padding: 20px;
    background: rgba(255, 107, 107, 0.05);
    border: var(--pixel-border) solid var(--neon-pollution);
}

.control-group-enhanced {
    margin-bottom: 20px;
    padding: 15px;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(0, 255, 255, 0.2);
}

.control-group-enhanced label {
    display: block;
    color: var(--neon-acid);
    margin-bottom: 10px;
    font-size: 1rem;
    font-weight: bold;
}

.control-group-enhanced input[type="range"] {
    width: 100%;
    height: 10px;
    margin: 10px 0;
    background: linear-gradient(90deg, var(--neon-acid), var(--neon-smog));
    border: var(--pixel-border) solid var(--neon-acid);
    border-radius: 0;
    -webkit-appearance: none;
}

.control-group-enhanced input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 20px;
    height: 20px;
    background: var(--neon-alert);
    border: var(--pixel-border) solid #000;
    cursor: pointer;
}

.control-group-enhanced .value-display {
    display: block;
    text-align: center;
    font-size: 1.2rem;
    color: var(--neon-alert);
    font-weight: bold;
    margin-top: 10px;
}

.ph-visualization {
    text-align: center;
    padding: 20px;
}

.ph-display-enhanced {
    font-size: 3.5rem;
    font-weight: bold;
    color: var(--neon-acid);
    text-shadow: 0 0 20px var(--neon-acid);
    margin: 15px 0;
    padding: 10px;
    background: rgba(0, 0, 0, 0.3);
    border: var(--pixel-border) solid var(--neon-acid);
    border-radius: 5px;
}

.ph-scale-container {
    margin: 25px 0;
}

.ph-scale-bar {
    position: relative;
    height: 25px;
    background: linear-gradient(90deg, #ff0000, #ff5500, #ffaa00, #ffff00, #aaff00, #55ff00, #00ff00);
    border: var(--pixel-border) solid var(--neon-acid);
    margin-bottom: 10px;
}

.ph-indicator-enhanced {
    position: absolute;
    top: -5px;
    width: 6px;
    height: 35px;
    background: #000;
    border: var(--pixel-border) solid var(--neon-alert);
    transform: translateX(-50%);
    transition: left 0.5s ease;
}

.ph-labels {
    display: flex;
    justify-content: space-between;
    font-size: 0.9rem;
    color: var(--neon-data);
}

.acid-effects-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
    margin-top: 20px;
}

.acid-effect {
    padding: 15px;
    text-align: center;
    background: rgba(0, 0, 0, 0.4);
    border: var(--pixel-border) solid var(--neon-pollution);
    border-radius: 5px;
    transition: all 0.3s;
}

.acid-effect:hover {
    transform: scale(1.05);
}

.acid-effect .effect-icon {
    font-size: 1.8rem;
    margin-bottom: 10px;
}

.acid-effect .effect-label {
    font-size: 0.9rem;
    color: var(--neon-data);
}

/* QUIZ - MEJOR DISTRIBUCI칍N Y FUNCIONALIDAD */
.quiz-container-enhanced {
    padding: 25px;
    background: rgba(0, 0, 0, 0.6);
    border: var(--pixel-border) solid var(--neon-alert);
    border-radius: 5px;
    margin: 25px 0;
}

.quiz-question-enhanced {
    margin: 20px 0;
    padding: 20px;
    background: rgba(255, 255, 0, 0.05);
    border: var(--pixel-border) solid var(--neon-alert);
    border-radius: 5px;
}

.quiz-question-enhanced p {
    color: var(--neon-alert);
    font-size: 1.1rem;
    margin-bottom: 15px;
    font-weight: bold;
}

.quiz-options-enhanced {
    display: grid;
    grid-template-columns: 1fr;
    gap: 10px;
}

.quiz-option-enhanced {
    padding: 15px;
    background: rgba(255, 255, 0, 0.08);
    border: var(--pixel-border) solid var(--neon-alert);
    color: #e0f0ff;
    font-family: 'Courier New', monospace;
    font-size: 1rem;
    text-align: left;
    cursor: pointer;
    transition: all 0.3s;
    border-radius: 3px;
}

.quiz-option-enhanced:hover:not(:disabled) {
    background: rgba(255, 255, 0, 0.15);
    transform: translateX(5px);
}

.quiz-option-enhanced.correct {
    background: rgba(57, 255, 20, 0.2);
    border-color: var(--neon-toxic);
    color: var(--neon-toxic);
}

.quiz-option-enhanced.incorrect {
    background: rgba(255, 107, 107, 0.2);
    border-color: var(--neon-pollution);
    color: var(--neon-pollution);
}

.quiz-option-enhanced:disabled {
    cursor: not-allowed;
    opacity: 0.7;
}

.quiz-feedback-enhanced {
    margin: 20px 0;
    padding: 20px;
    border: var(--pixel-border) solid;
    border-radius: 5px;
    display: none;
}

.quiz-feedback-enhanced.show {
    display: block;
    animation: fadeIn 0.5s;
}

.quiz-feedback-enhanced.correct {
    background: rgba(57, 255, 20, 0.1);
    border-color: var(--neon-toxic);
    color: var(--neon-toxic);
}

.quiz-feedback-enhanced.incorrect {
    background: rgba(255, 107, 107, 0.1);
    border-color: var(--neon-pollution);
    color: var(--neon-pollution);
}

.quiz-score-display {
    text-align: center;
    margin: 25px 0;
    padding: 20px;
    background: rgba(57, 255, 20, 0.05);
    border: var(--pixel-border) solid var(--neon-toxic);
    border-radius: 5px;
}

.quiz-score-value {
    font-size: 2.5rem;
    color: var(--neon-alert);
    font-weight: bold;
    margin: 10px 0;
}

.quiz-controls {
    display: flex;
    gap: 15px;
    justify-content: center;
    margin-top: 20px;
}

/* BOTONES GENERALES MEJORADOS */
.btn-enhanced {
    padding: 12px 25px;
    background: var(--dark-bg);
    border: var(--pixel-border) solid;
    font-family: 'Courier New', monospace;
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.3s;
    text-transform: uppercase;
    letter-spacing: 1px;
    border-radius: 3px;
}

.btn-enhanced:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px currentColor;
}

.btn-enhanced:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.btn-start {
    color: var(--neon-smog);
    border-color: var(--neon-smog);
}

.btn-pause {
    color: var(--neon-alert);
    border-color: var(--neon-alert);
}

.btn-reset {
    color: var(--neon-toxic);
    border-color: var(--neon-toxic);
}

.btn-calculate {
    color: var(--neon-acid);
    border-color: var(--neon-acid);
    width: 100%;
    margin-top: 10px;
}

.btn-quiz-reset {
    color: var(--neon-alert);
    border-color: var(--neon-alert);
    padding: 10px 30px;
}

/* ANIMACIONES */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

@keyframes glow {
    0%, 100% { box-shadow: 0 0 5px currentColor; }
    50% { box-shadow: 0 0 20px currentColor, 0 0 30px currentColor; }
}

/* ESTILOS EXISTENTES MANTENIDOS */
.titulo-leccion {
    color: var(--neon-toxic);
    border-bottom: var(--pixel-border) solid var(--neon-smog);
    padding-bottom: 10px;
    margin-bottom: 20px;
    font-weight: bold;
    text-align: center;
    font-size: 2rem;
    text-shadow: var(--text-glow);
    text-transform: uppercase;
    letter-spacing: 1px;
}

.subtitulo-conceptual {
    color: var(--neon-acid);
    background: linear-gradient(90deg, rgba(0, 255, 255, 0.1) 0%, transparent 100%);
    padding: 15px 20px;
    border-left: var(--pixel-border) solid var(--neon-acid);
    margin: 30px 0 20px 0;
    font-weight: bold;
    font-size: 1.5rem;
    text-shadow: 0 0 10px var(--neon-acid);
}

.classification-table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
    margin: 25px 0;
    border: var(--pixel-border) solid var(--neon-toxic);
    background: rgba(10, 10, 26, 0.9);
}

.classification-table th {
    padding: 15px;
    background: linear-gradient(90deg, rgba(57, 255, 20, 0.2), rgba(255, 0, 255, 0.2));
    color: white;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.classification-table td {
    padding: 12px;
    border-bottom: 1px solid rgba(57, 255, 20, 0.1);
    transition: all 0.3s;
}

.classification-table tr:hover td {
    background: rgba(57, 255, 20, 0.05);
}

.solutions-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    margin: 30px 0;
}

.solution-card {
    padding: 20px;
    background: rgba(0, 0, 0, 0.5);
    border: var(--pixel-border) solid var(--neon-toxic);
    border-radius: 5px;
    transition: all 0.3s;
}

.solution-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(57, 255, 20, 0.2);
}

/* RESPONSIVE */
@media (max-width: 768px) {
    .leccion-quimica {
        padding: 15px;
        font-size: 14px;
    }
    
    .simulator-container-smog,
    .simulator-container-acid {
        grid-template-columns: 1fr;
        padding: 15px;
        gap: 15px;
    }
    
    .smog-factors,
    .acid-effects-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .quiz-options-enhanced {
        grid-template-columns: 1fr;
    }
    
    .quiz-controls {
        flex-direction: column;
    }
    
    .btn-enhanced {
        width: 100%;
        margin-bottom: 10px;
    }
}

/* ========================================
   DISTRIBUCI칍N MEJORADA PARA SIMULADORES
   ======================================== */

/* CONTENEDORES PRINCIPALES */
.simulator-container {
    display: flex;
    flex-direction: column;
    gap: 25px;
    padding: 25px;
    background: rgba(0, 0, 0, 0.7);
    border: 2px solid;
    border-radius: 8px;
    margin: 30px 0;
    position: relative;
    overflow: hidden;
}

/* SIMULADOR SMOG - DISTRIBUCI칍N MEJORADA */
#simulador-smog .simulator-container {
    border-color: var(--neon-smog);
    box-shadow: 0 0 20px rgba(255, 0, 255, 0.2);
}

/* CONTENEDOR DEL DIAGRAMA SMOG */
.diagram-container {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

/* ETIQUETAS DE FACTORES SMOG */
.smog-factors-header {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 15px;
    margin-bottom: 20px;
}

.smog-factor-tag {
    padding: 12px 20px;
    border-radius: 6px;
    font-weight: bold;
    font-size: 0.95rem;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: all 0.3s ease;
}

.smog-factor-tag:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(255, 255, 255, 0.2);
}

.factor-uv {
    background: rgba(255, 0, 255, 0.15);
    border: 2px solid var(--neon-smog);
    color: var(--neon-smog);
}

.factor-emissions {
    background: rgba(255, 107, 107, 0.15);
    border: 2px solid var(--neon-pollution);
    color: var(--neon-pollution);
}

.factor-results {
    background: rgba(255, 255, 0, 0.15);
    border: 2px solid var(--neon-alert);
    color: var(--neon-alert);
}

/* PANEL DE REACCIONES */
.reactions-panel {
    background: rgba(0, 0, 0, 0.5);
    border: 2px solid var(--neon-smog);
    border-radius: 6px;
    padding: 25px;
    margin: 15px 0;
}

.reactions-panel h4 {
    text-align: center;
    margin-bottom: 20px;
    font-size: 1.2rem;
}

.reactions-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
}

@media (max-width: 768px) {
    .reactions-grid {
        grid-template-columns: 1fr;
    }
}

.reaction-card {
    padding: 18px;
    background: rgba(255, 0, 255, 0.08);
    border: 1px solid rgba(255, 0, 255, 0.3);
    border-radius: 5px;
    transition: all 0.3s ease;
    text-align: center;
}

.reaction-card:hover {
    background: rgba(255, 0, 255, 0.15);
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(255, 0, 255, 0.2);
}

.reaction-formula {
    color: var(--neon-smog);
    font-size: 1rem;
    font-weight: bold;
    margin-bottom: 8px;
    font-family: 'Courier New', monospace;
}

.reaction-name {
    color: var(--neon-data);
    font-size: 0.85rem;
    opacity: 0.9;
}

/* CONTROLES DEL SIMULADOR SMOG */
.diagram-controls {
    display: flex;
    justify-content: center;
    gap: 15px;
    flex-wrap: wrap;
    margin: 20px 0;
}

.diagram-controls button {
    padding: 12px 25px;
    background: transparent;
    border: 2px solid;
    border-radius: 5px;
    font-family: 'Courier New', monospace;
    font-size: 1rem;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    min-width: 150px;
    text-align: center;
}

.diagram-controls button:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px currentColor;
}

.btn-start {
    color: var(--neon-smog);
    border-color: var(--neon-smog);
}

.btn-pause {
    color: var(--neon-alert);
    border-color: var(--neon-alert);
}

.btn-reset {
    color: var(--neon-toxic);
    border-color: var(--neon-toxic);
}

/* PANEL DE INFORMACI칍N */
.diagram-info {
    padding: 20px;
    background: rgba(255, 107, 107, 0.08);
    border: 1px solid rgba(255, 107, 107, 0.3);
    border-radius: 6px;
    margin-top: 15px;
    font-size: 0.95rem;
}

/* INDICADORES DE IMPACTO */
.impact-indicators {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 20px;
    margin-top: 30px;
}

@media (max-width: 992px) {
    .impact-indicators {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 576px) {
    .impact-indicators {
        grid-template-columns: 1fr;
    }
}

.impact-card {
    padding: 20px;
    text-align: center;
    background: rgba(0, 0, 0, 0.5);
    border: 2px solid;
    border-radius: 8px;
    transition: all 0.3s ease;
}

.impact-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
}

.impact-icon {
    font-size: 2.5rem;
    margin-bottom: 15px;
}

.impact-label {
    font-size: 0.9rem;
    color: var(--neon-data);
    margin-bottom: 8px;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.impact-value {
    font-size: 1.1rem;
    font-weight: bold;
    margin-top: 10px;
    padding: 8px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
    font-family: 'Courier New', monospace;
}

/* ========================================
   SIMULADOR LLUVIA 츼CIDA - DISTRIBUCI칍N MEJORADA
   ======================================== */
#simulador-acido .simulator-container {
    border-color: var(--neon-acid);
    box-shadow: 0 0 20px rgba(0, 255, 255, 0.2);
}

/* DISTRIBUCI칍N EN 3 COLUMNAS */
.acid-simulator-layout {
    display: grid;
    grid-template-columns: 1fr 1.5fr 1fr;
    gap: 30px;
    align-items: start;
}

@media (max-width: 1200px) {
    .acid-simulator-layout {
        grid-template-columns: 1fr 1fr;
    }
}

@media (max-width: 768px) {
    .acid-simulator-layout {
        grid-template-columns: 1fr;
    }
}

/* PANEL DE CONTROLES */
.simulator-controls {
    background: rgba(0, 255, 255, 0.05);
    border: 2px solid var(--neon-acid);
    border-radius: 8px;
    padding: 25px;
}

.control-group {
    margin-bottom: 25px;
    padding-bottom: 20px;
    border-bottom: 1px solid rgba(0, 255, 255, 0.2);
}

.control-group:last-child {
    margin-bottom: 0;
    padding-bottom: 0;
    border-bottom: none;
}

.control-group label {
    display: block;
    color: var(--neon-acid);
    font-size: 1rem;
    font-weight: bold;
    margin-bottom: 12px;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.control-group input[type="range"] {
    width: 100%;
    height: 10px;
    margin: 15px 0;
    background: linear-gradient(90deg, 
        rgba(0, 255, 255, 0.5), 
        rgba(255, 0, 255, 0.5));
    border: 2px solid var(--neon-acid);
    border-radius: 5px;
    outline: none;
    -webkit-appearance: none;
}

.control-group input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 22px;
    height: 22px;
    background: var(--neon-alert);
    border: 2px solid #000;
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0 0 10px var(--neon-alert);
}

.value-display {
    display: block;
    text-align: center;
    font-size: 1.3rem;
    color: var(--neon-alert);
    font-weight: bold;
    margin-top: 10px;
    padding: 8px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 5px;
    font-family: 'Courier New', monospace;
}

/* BOT칍N CALCULAR */
.calc-btn {
    width: 100%;
    padding: 15px;
    background: transparent;
    border: 2px solid var(--neon-acid);
    color: var(--neon-acid);
    font-family: 'Courier New', monospace;
    font-size: 1.1rem;
    font-weight: bold;
    border-radius: 5px;
    cursor: pointer;
    transition: all 0.3s ease;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-top: 10px;
}

.calc-btn:hover {
    background: rgba(0, 255, 255, 0.1);
    transform: translateY(-3px);
    box-shadow: 0 5px 20px rgba(0, 255, 255, 0.4);
}

/* PANEL DE REACCIONES */
.reactions-display {
    display: flex;
    flex-direction: column;
    gap: 30px;
}

.formula {
    background: rgba(0, 0, 0, 0.5);
    border: 2px solid var(--neon-acid);
    border-radius: 8px;
    padding: 25px;
}

.formula h4 {
    color: var(--neon-acid);
    margin-bottom: 20px;
    font-size: 1.2rem;
    text-align: center;
    border-bottom: 1px solid rgba(0, 255, 255, 0.3);
    padding-bottom: 10px;
}

.chemical-reaction {
    margin: 15px 0;
    padding: 12px;
    background: rgba(0, 255, 255, 0.05);
    border-left: 3px solid var(--neon-acid);
    font-family: 'Courier New', monospace;
    font-size: 1rem;
    color: var(--neon-acid);
}

/* PANEL DE RESULTADOS */
.result {
    background: rgba(57, 255, 20, 0.05);
    border: 2px solid var(--neon-toxic);
    border-radius: 8px;
    padding: 25px;
    text-align: center;
}

.result h4 {
    color: var(--neon-toxic);
    margin-bottom: 25px;
    font-size: 1.2rem;
    border-bottom: 1px solid rgba(57, 255, 20, 0.3);
    padding-bottom: 10px;
}

.ph-display {
    font-size: 4rem;
    font-weight: bold;
    color: var(--neon-acid);
    text-shadow: 0 0 25px var(--neon-acid);
    margin: 20px 0;
    padding: 20px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 10px;
    border: 3px solid var(--neon-acid);
}

/* ESCALA DE PH */
.ph-scale-container {
    margin: 30px 0;
}

.scale-bar {
    position: relative;
    height: 30px;
    background: linear-gradient(90deg, 
        #ff0000, 
        #ff5500, 
        #ffaa00, 
        #ffff00, 
        #aaff00, 
        #55ff00, 
        #00ff00);
    border: 2px solid var(--neon-acid);
    border-radius: 5px;
    margin-bottom: 15px;
    overflow: hidden;
}

.ph-indicator {
    position: absolute;
    top: -10px;
    width: 8px;
    height: 50px;
    background: #000;
    border: 3px solid var(--neon-alert);
    border-radius: 3px;
    transform: translateX(-50%);
    transition: left 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
    z-index: 10;
}

.scale-labels {
    display: flex;
    justify-content: space-between;
    font-size: 0.9rem;
    font-weight: bold;
    color: var(--neon-data);
    padding: 0 5px;
}

/* CLASIFICACI칍N */
.classification {
    font-size: 1.3rem;
    font-weight: bold;
    margin: 20px 0;
    padding: 15px;
    border: 3px solid;
    border-radius: 8px;
    text-align: center;
    text-transform: uppercase;
    letter-spacing: 1px;
    transition: all 0.3s ease;
}

/* CONCENTRACIONES */
.acid-concentration {
    display: flex;
    justify-content: space-around;
    flex-wrap: wrap;
    gap: 20px;
    margin-top: 25px;
    padding-top: 20px;
    border-top: 1px solid rgba(57, 255, 20, 0.3);
}

.concentration-item {
    text-align: center;
    padding: 15px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 6px;
    min-width: 120px;
}

.concentration-label {
    color: var(--neon-data);
    font-size: 0.9rem;
    margin-bottom: 8px;
}

.concentration-value {
    color: var(--neon-acid);
    font-size: 1.2rem;
    font-weight: bold;
    font-family: 'Courier New', monospace;
}

/* EFECTOS VISUALES */
.effects-display {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
}

@media (max-width: 768px) {
    .effects-display {
        grid-template-columns: 1fr;
    }
}

.effect-card {
    padding: 25px;
    text-align: center;
    background: rgba(255, 107, 107, 0.05);
    border: 2px solid var(--neon-pollution);
    border-radius: 8px;
    transition: all 0.3s ease;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

.effect-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(255, 107, 107, 0.2);
}

.effect-icon {
    font-size: 2.8rem;
    margin-bottom: 15px;
    transition: all 0.3s ease;
}

.effect-label {
    color: var(--neon-data);
    font-size: 1rem;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 1px;
}

/* ANIMACIONES */
@keyframes pulse-smog {
    0%, 100% { 
        box-shadow: 0 0 20px rgba(255, 0, 255, 0.2);
    }
    50% { 
        box-shadow: 0 0 30px rgba(255, 0, 255, 0.4),
                    0 0 40px rgba(255, 0, 255, 0.2);
    }
}

@keyframes pulse-acid {
    0%, 100% { 
        box-shadow: 0 0 20px rgba(0, 255, 255, 0.2);
    }
    50% { 
        box-shadow: 0 0 30px rgba(0, 255, 255, 0.4),
                    0 0 40px rgba(0, 255, 255, 0.2);
    }
}

#simulador-smog .simulator-container {
    animation: pulse-smog 3s infinite;
}

#simulador-acido .simulator-container {
    animation: pulse-acid 3s infinite;
}

@keyframes glow {
    0%, 100% { 
        text-shadow: 0 0 10px currentColor;
    }
    50% { 
        text-shadow: 0 0 20px currentColor,
                     0 0 30px currentColor;
    }
}

.ph-display {
    animation: glow 2s infinite;
}

/* RESPONSIVE ADICIONAL */
@media (max-width: 480px) {
    .diagram-controls {
        flex-direction: column;
        align-items: center;
    }
    
    .diagram-controls button {
        width: 100%;
        max-width: 250px;
    }
    
    .smog-factors-header {
        flex-direction: column;
        align-items: center;
    }
    
    .smog-factor-tag {
        width: 100%;
        justify-content: center;
    }
    
    .acid-concentration {
        flex-direction: column;
        align-items: center;
    }
    
    .concentration-item {
        width: 100%;
    }
}

/* MEJORAS DE ESPACIADO */
.simulator-container > * {
    margin-bottom: 20px;
}

.simulator-container > *:last-child {
    margin-bottom: 0;
}

/* T칈TULOS DE SECCI칍N MEJORADOS */
.subtitulo-conceptual {
    background: linear-gradient(90deg, 
        transparent, 
        rgba(0, 255, 255, 0.1), 
        transparent);
    padding: 20px;
    margin: 40px 0 30px 0;
    text-align: center;
    border-left: none;
    border-radius: 8px;
    font-size: 1.5rem;
    position: relative;
    overflow: hidden;
}

.subtitulo-conceptual::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, 
        transparent, 
        var(--neon-acid), 
        transparent);
}

.subtitulo-conceptual::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, 
        transparent, 
        var(--neon-acid), 
        transparent);
}

/* =========================================== */
/* CSS 칔NICO PARA LECCI칍N CYBERPUNK DE QU칈MICA */
/* =========================================== */

.leccion-container.quimica-cambios {
    position: relative;
    background: var(--bg-leccion, #0A0A1A);
    color: #E0F0FF;
    font-family: 'Courier New', 'Monaco', monospace;
    padding: var(--space-lg);
    overflow-x: hidden;
}

/* GRID BACKGROUND CYBERPUNK */
.quimica-cambios::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
        linear-gradient(rgba(57, 255, 20, 0.02) 1px, transparent 1px),
        linear-gradient(90deg, rgba(57, 255, 20, 0.02) 1px, transparent 1px);
    background-size: 40px 40px;
    pointer-events: none;
    z-index: 0;
}

/* SCANLINES SUTILES */
.quimica-cambios::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
        to bottom,
        transparent 50%,
        rgba(0, 255, 255, 0.01) 51%
    );
    background-size: 100% 4px;
    pointer-events: none;
    z-index: 1;
    animation: scanline 8s linear infinite;
}

@keyframes scanline {
    0% { transform: translateY(0); }
    100% { transform: translateY(100vh); }
}

/* CABECERA */
.cyber-header {
    text-align: center;
    padding: var(--space-lg);
    margin-bottom: var(--space-lg);
    position: relative;
    z-index: 2;
}

.titulo-leccion {
    font-size: clamp(1.8rem, 4vw, 2.5rem);
    color: var(--neon-concepto, #39FF14);
    text-shadow: 0 0 10px currentColor;
    animation: glow 3s infinite alternate;
    margin-bottom: var(--space-sm);
}

@keyframes glow {
    0%, 100% { text-shadow: 0 0 5px currentColor; }
    50% { text-shadow: 0 0 15px currentColor, 0 0 20px currentColor; }
}

.cyber-subtitle {
    color: var(--neon-dato, #00FF9D);
    font-size: var(--font-md);
    opacity: 0.8;
}

/* PANELES Y SECCIONES */
.cyber-panel, .cyber-section {
    background: var(--bg-seccion, rgba(0, 0, 0, 0.5));
    border: 1px solid;
    border-image: linear-gradient(45deg, var(--neon-concepto), transparent) 1;
    border-radius: 8px;
    padding: var(--space-lg);
    margin-bottom: var(--space-lg);
    position: relative;
    z-index: 2;
    backdrop-filter: blur(5px);
}

.section-title {
    color: inherit;
    font-size: var(--font-lg);
    border-left: 4px solid;
    padding-left: var(--space-md);
    margin-bottom: var(--space-lg);
}

/* TARJETAS CONCEPTUALES */
.concept-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--space-md);
}

.concept-card {
    background: var(--bg-card, rgba(10, 10, 26, 0.8));
    border: 1px solid var(--neon-concepto);
    border-radius: 8px;
    padding: var(--space-lg);
    transition: all 0.3s ease;
}

.concept-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 20px rgba(57, 255, 20, 0.15);
    border-color: #FFF;
}

.card-icon {
    font-size: 2rem;
    margin-bottom: var(--space-sm);
}

.card-definition {
    color: #B0D0FF;
    line-height: 1.5;
}

/* TABLA CYBERPUNK */
.cyber-table-container {
    overflow-x: auto;
}

.cyber-table {
    width: 100%;
    border-collapse: collapse;
    border: 1px solid var(--neon-interactivo);
}

.cyber-table th {
    background: rgba(255, 0, 255, 0.1);
    color: var(--neon-interactivo);
    padding: var(--space-md);
    text-align: left;
    border-bottom: 2px solid;
}

.cyber-table td {
    padding: var(--space-md);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.cyber-table tr:hover {
    background: rgba(255, 255, 255, 0.05);
}

.signal-icon {
    margin-right: 8px;
}

.status-active, .status-critical {
    padding: 4px 8px;
    border-radius: 4px;
    font-size: var(--font-sm);
    font-weight: bold;
}

.status-active {
    background: rgba(57, 255, 20, 0.2);
    color: var(--neon-concepto);
}

.status-critical {
    background: rgba(255, 107, 107, 0.2);
    color: var(--neon-evaluacion);
}

/* SIMULADOR */
.simulator-container {
    display: grid;
    grid-template-columns: 1fr 2fr 1fr;
    gap: var(--space-lg);
    padding: var(--space-lg);
    background: rgba(0, 0, 0, 0.7);
    border: 2px solid var(--neon-interactivo);
    border-radius: 8px;
    margin: var(--space-lg) 0;
}

@media (max-width: 1024px) {
    .simulator-container {
        grid-template-columns: 1fr;
    }
}

.simulator-controls {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
}

.control-group {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.cyber-slider {
    -webkit-appearance: none;
    width: 100%;
    height: 8px;
    background: linear-gradient(90deg, #333, var(--neon-interactivo));
    border-radius: 4px;
    outline: none;
}

.cyber-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 20px;
    height: 20px;
    background: #FFF;
    border-radius: 50%;
    cursor: pointer;
    border: 2px solid var(--neon-interactivo);
}

.slider-value {
    color: var(--neon-interactivo);
    font-weight: bold;
    text-align: center;
}

.cyber-select {
    background: rgba(0, 0, 0, 0.8);
    color: #FFF;
    border: 1px solid var(--neon-interactivo);
    padding: var(--space-sm);
    border-radius: 4px;
    font-family: monospace;
}

.cyber-btn {
    background: linear-gradient(45deg, transparent, rgba(57, 255, 20, 0.2));
    border: 1px solid var(--neon-concepto);
    color: #FFF;
    padding: var(--space-md) var(--space-lg);
    border-radius: 4px;
    cursor: pointer;
    font-family: monospace;
    transition: all 0.2s ease;
    position: relative;
    overflow: hidden;
}

.cyber-btn:hover {
    background: rgba(57, 255, 20, 0.3);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(57, 255, 20, 0.3);
}

.cyber-btn.primary {
    border-color: var(--neon-concepto);
    background: rgba(57, 255, 20, 0.1);
}

.cyber-btn.secondary {
    border-color: var(--neon-interactivo);
    background: rgba(255, 0, 255, 0.1);
}

.cyber-btn.alert {
    border-color: var(--neon-evaluacion);
    background: rgba(255, 107, 107, 0.1);
}

.simulator-visualization {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 300px;
    background: rgba(0, 0, 0, 0.5);
    border-radius: 8px;
    padding: var(--space-md);
}

#reaction-svg {
    width: 100%;
    height: 300px;
    max-width: 600px;
}

.reaction-equation {
    margin-top: var(--space-md);
    font-size: var(--font-md);
    color: var(--neon-concepto);
}

.simulator-data {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
}

.data-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-md);
}

.data-item {
    background: rgba(0, 0, 0, 0.5);
    padding: var(--space-md);
    border-radius: 4px;
    border-left: 4px solid var(--neon-dato);
}

.data-label {
    font-size: var(--font-sm);
    color: #B0D0FF;
    margin-bottom: 4px;
}

.data-value {
    font-size: var(--font-lg);
    color: #FFF;
    font-weight: bold;
}

.data-bar {
    height: 6px;
    background: #333;
    border-radius: 3px;
    margin-top: var(--space-sm);
    overflow: hidden;
}

.data-bar::after {
    content: '';
    display: block;
    height: 100%;
    width: 0%;
    background: var(--neon-concepto);
    transition: width 1s ease;
}

.data-status {
    font-size: 1.5rem;
    text-align: center;
    margin-top: var(--space-sm);
}

.simulator-log {
    background: rgba(0, 0, 0, 0.7);
    border: 1px solid #333;
    border-radius: 4px;
    padding: var(--space-md);
    max-height: 200px;
    overflow-y: auto;
}

.log-entry {
    font-family: monospace;
    font-size: var(--font-sm);
    color: #8AF;
    padding: 4px 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

/* QUIZ */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
}

.quiz-question {
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid var(--neon-evaluacion);
    border-radius: 8px;
    padding: var(--space-lg);
}

.question-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-md);
}

.question-number {
    background: var(--neon-evaluacion);
    color: #000;
    padding: 4px 12px;
    border-radius: 20px;
    font-weight: bold;
}

.question-difficulty {
    color: var(--neon-alerta);
    font-size: var(--font-sm);
}

.question-text {
    font-size: var(--font-md);
    margin-bottom: var(--space-lg);
}

.quiz-options {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-sm);
}

.quiz-option {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--neon-alerta);
    color: #E0F0FF;
    padding: var(--space-md);
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s ease;
    text-align: left;
    font-family: monospace;
}

.quiz-option:hover:not(:disabled) {
    background: rgba(255, 255, 0, 0.1);
    transform: translateX(4px);
}

.quiz-option.correct {
    background: rgba(57, 255, 20, 0.2);
    border-color: var(--neon-concepto);
    color: #FFF;
}

.quiz-option.incorrect {
    background: rgba(255, 107, 107, 0.2);
    border-color: var(--neon-evaluacion);
    color: #FFF;
}

.quiz-option:disabled {
    opacity: 0.7;
    cursor: not-allowed;
}

.quiz-feedback {
    margin-top: var(--space-md);
    padding: var(--space-md);
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
    border-left: 4px solid var(--neon-dato);
}

.quiz-results {
    text-align: center;
    padding: var(--space-lg);
    background: rgba(0, 0, 0, 0.7);
    border-radius: 8px;
    border: 2px solid var(--neon-concepto);
}

.score-display {
    display: flex;
    justify-content: center;
    margin: var(--space-lg) 0;
}

.score-circle {
    width: 150px;
    height: 150px;
    border-radius: 50%;
    background: conic-gradient(#333 100%, #333 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
}

.score-circle::before {
    content: '';
    position: absolute;
    width: 120px;
    height: 120px;
    background: #0A0A1A;
    border-radius: 50%;
}

#score-percent {
    position: relative;
    z-index: 1;
    font-size: 2rem;
    font-weight: bold;
    color: #FFF;
}

#score-feedback {
    margin: var(--space-lg) 0;
    font-size: var(--font-md);
}

/* ERRORES COMUNES */
.errors-container {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
}

.error-card {
    background: rgba(255, 255, 0, 0.05);
    border: 1px solid var(--neon-alerta);
    border-radius: 8px;
    overflow: hidden;
}

.error-card.collapsed .error-content {
    display: none;
}

.error-header {
    display: flex;
    align-items: center;
    gap: var(--space-md);
    padding: var(--space-md) var(--space-lg);
    background: rgba(255, 255, 0, 0.1);
    cursor: pointer;
}

.error-icon {
    font-size: 1.5rem;
}

.error-header h3 {
    flex: 1;
    margin: 0;
    color: var(--neon-alerta);
}

.toggle-icon {
    transition: transform 0.3s ease;
}

.error-content {
    padding: var(--space-lg);
}

.error-example, .error-correction {
    margin-bottom: var(--space-md);
    padding: var(--space-md);
    border-radius: 4px;
}

.error-example {
    background: rgba(255, 107, 107, 0.1);
    border-left: 4px solid var(--neon-evaluacion);
}

.error-correction {
    background: rgba(57, 255, 20, 0.1);
    border-left: 4px solid var(--neon-concepto);
}

.error-practice {
    margin-top: var(--space-lg);
    padding-top: var(--space-md);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.mini-btn {
    background: rgba(57, 255, 20, 0.1);
    border: 1px solid var(--neon-concepto);
    color: #FFF;
    padding: 8px 16px;
    border-radius: 4px;
    cursor: pointer;
    font-size: var(--font-sm);
    margin-top: var(--space-sm);
}

/* EXAMEN */
.exam-container {
    background: rgba(0, 0, 0, 0.7);
    border: 2px solid var(--neon-evaluacion);
    border-radius: 8px;
    padding: var(--space-lg);
}

.exam-problem {
    margin-bottom: var(--space-lg);
}

.problem-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-md);
    padding-bottom: var(--space-sm);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.problem-number {
    color: var(--neon-evaluacion);
    font-weight: bold;
    font-size: var(--font-lg);
}

.problem-points {
    color: var(--neon-alerta);
    background: rgba(255, 255, 0, 0.1);
    padding: 4px 12px;
    border-radius: 4px;
}

.problem-text {
    margin-bottom: var(--space-lg);
    line-height: 1.6;
}

.problem-questions {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
}

.exam-answer {
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid var(--neon-interactivo);
    color: #FFF;
    padding: var(--space-md);
    border-radius: 4px;
    font-family: monospace;
    resize: vertical;
    min-height: 80px;
}

.multiple-choice {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
    margin-left: var(--space-md);
}

.multiple-choice label {
    display: flex;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    padding: 4px 0;
}

.exam-rubric {
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid var(--neon-dato);
    border-radius: 8px;
    padding: var(--space-lg);
    margin-top: var(--space-lg);
}

.exam-rubric h4 {
    color: var(--neon-dato);
    margin-bottom: var(--space-md);
}

.exam-rubric ul {
    list-style-type: none;
    padding-left: 0;
}

.exam-rubric li {
    padding: var(--space-sm) 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    display: flex;
    align-items: center;
}

.exam-rubric li::before {
    content: '';
    color: var(--neon-dato);
    margin-right: var(--space-sm);
    font-size: 1.2rem;
}

/* METACOGNICI칍N */
.metacognition-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-lg);
}

.self-assessment, .reflection {
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid var(--neon-dato);
    border-radius: 8px;
    padding: var(--space-lg);
}

.slider-assessment {
    margin-bottom: var(--space-lg);
}

.assessment-slider {
    width: 100%;
    margin: var(--space-sm) 0;
}

.slider-labels {
    display: flex;
    justify-content: space-between;
    font-size: var(--font-sm);
    color: #B0D0FF;
}

#reflection-text {
    width: 100%;
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid var(--neon-interactivo);
    color: #FFF;
    padding: var(--space-md);
    border-radius: 4px;
    font-family: monospace;
    resize: vertical;
    min-height: 100px;
    margin-bottom: var(--space-md);
}

.resources {
    margin-top: var(--space-lg);
}

.resources h4 {
    color: var(--neon-dato);
    margin-bottom: var(--space-md);
}

.resources ul {
    list-style-type: none;
    padding-left: 0;
}

.resources li {
    padding: var(--space-sm) 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.cyber-link {
    color: var(--neon-interactivo);
    text-decoration: none;
    transition: all 0.2s ease;
}

.cyber-link:hover {
    color: #FFF;
    text-decoration: underline;
    text-shadow: 0 0 8px var(--neon-interactivo);
}

/* FOOTER */
.cyber-footer {
    background: rgba(0, 0, 0, 0.8);
    border-top: 2px solid var(--neon-concepto);
    padding: var(--space-lg);
    margin-top: var(--space-lg);
    position: relative;
    z-index: 2;
}

.footer-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-md);
    margin-bottom: var(--space-md);
}

.footer-item {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.footer-label {
    font-size: var(--font-sm);
    color: #B0D0FF;
    opacity: 0.7;
}

.footer-value {
    font-size: var(--font-md);
    color: #FFF;
}

.completion-message {
    text-align: center;
    padding: var(--space-md);
    background: rgba(57, 255, 20, 0.1);
    border: 1px solid var(--neon-concepto);
    border-radius: 4px;
    color: var(--neon-concepto);
}

/* GLITCH EFFECT */
.cyber-glitch {
    position: relative;
    display: inline-block;
}

.cyber-glitch::before,
.cyber-glitch::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.cyber-glitch::before {
    left: 2px;
    text-shadow: -1px 0 #FF00FF;
    animation: glitch-1 2s infinite linear alternate-reverse;
}

.cyber-glitch::after {
    left: -2px;
    text-shadow: 1px 0 #00FFFF;
    animation: glitch-2 3s infinite linear alternate-reverse;
}

@keyframes glitch-1 {
    0% { clip: rect(20px, 9999px, 25px, 0); }
    5% { clip: rect(15px, 9999px, 30px, 0); }
    10% { clip: rect(30px, 9999px, 35px, 0); }
    15% { clip: rect(40px, 9999px, 45px, 0); }
    20% { clip: rect(50px, 9999px, 55px, 0); }
    25% { clip: rect(60px, 9999px, 65px, 0); }
    30% { clip: rect(70px, 9999px, 75px, 0); }
    35% { clip: rect(80px, 9999px, 85px, 0); }
    40% { clip: rect(90px, 9999px, 95px, 0); }
    45% { clip: rect(100px, 9999px, 105px, 0); }
    50% { clip: rect(110px, 9999px, 115px, 0); }
    55% { clip: rect(120px, 9999px, 125px, 0); }
    60% { clip: rect(130px, 9999px, 135px, 0); }
    65% { clip: rect(140px, 9999px, 145px, 0); }
    70% { clip: rect(150px, 9999px, 155px, 0); }
    75% { clip: rect(160px, 9999px, 165px, 0); }
    80% { clip: rect(170px, 9999px, 175px, 0); }
    85% { clip: rect(180px, 9999px, 185px, 0); }
    90% { clip: rect(190px, 9999px, 195px, 0); }
    95% { clip: rect(200px, 9999px, 205px, 0); }
    100% { clip: rect(210px, 9999px, 215px, 0); }
}

@keyframes glitch-2 {
    0% { clip: rect(30px, 9999px, 35px, 0); }
    5% { clip: rect(40px, 9999px, 45px, 0); }
    10% { clip: rect(50px, 9999px, 55px, 0); }
    15% { clip: rect(60px, 9999px, 65px, 0); }
    20% { clip: rect(70px, 9999px, 75px, 0); }
    25% { clip: rect(80px, 9999px, 85px, 0); }
    30% { clip: rect(90px, 9999px, 95px, 0); }
    35% { clip: rect(100px, 9999px, 105px, 0); }
    40% { clip: rect(110px, 9999px, 115px, 0); }
    45% { clip: rect(120px, 9999px, 125px, 0); }
    50% { clip: rect(130px, 9999px, 135px, 0); }
    55% { clip: rect(140px, 9999px, 145px, 0); }
    60% { clip: rect(150px, 9999px, 155px, 0); }
    65% { clip: rect(160px, 9999px, 165px, 0); }
    70% { clip: rect(170px, 9999px, 175px, 0); }
    75% { clip: rect(180px, 9999px, 185px, 0); }
    80% { clip: rect(190px, 9999px, 195px, 0); }
    85% { clip: rect(200px, 9999px, 205px, 0); }
    90% { clip: rect(210px, 9999px, 215px, 0); }
    95% { clip: rect(220px, 9999px, 225px, 0); }
    100% { clip: rect(230px, 9999px, 235px, 0); }
}

/* RESPONSIVE */
@media (max-width: 768px) {
    .concept-grid {
        grid-template-columns: 1fr;
    }
    
    .data-grid {
        grid-template-columns: 1fr;
    }
    
    .quiz-options {
        grid-template-columns: 1fr;
    }
    
    .metacognition-container {
        grid-template-columns: 1fr;
    }
    
    .footer-grid {
        grid-template-columns: 1fr;
    }
}

/* MATHJAX PERSONALIZACI칍N */
.mjx-chtml {
    color: #FFF !important;
}

.mjx-math {
    color: var(--neon-concepto) !important;
}

/* OBJETIVOS INTERACTIVOS */
.objectives-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-md);
}

.cyber-checkbox {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-md);
    background: rgba(57, 255, 20, 0.05);
    border: 1px solid rgba(57, 255, 20, 0.3);
    border-radius: 4px;
    transition: all 0.3s ease;
}

.cyber-checkbox[data-completed="true"] {
    background: rgba(57, 255, 20, 0.15);
    border-color: var(--neon-concepto);
}

.cyber-checkbox[data-completed="true"] .checkbox-icon {
    color: var(--neon-concepto);
    text-shadow: 0 0 8px currentColor;
}

.checkbox-icon {
    font-size: 1.2rem;
    transition: all 0.3s ease;
}

/* =========================================== */
/* ESTILOS CYBERPUNK PARA LECCI칍N DE QU칈MICA */
/* =========================================== */

:root {
    /* PALETA DE COLORES NEON */
    --neon-concepto: #39ff14;      /* Verde - Conceptos */
    --neon-interactivo: #ff00ff;   /* Rosa - Interactivos */
    --neon-ejemplo: #00ffff;       /* Cian - Ejemplos */
    --neon-alerta: #ffff00;        /* Amarillo - Alertas */
    --neon-evaluacion: #ff6b6b;    /* Rojo - Evaluaci칩n */
    --neon-dato: #00ff9d;          /* Verde claro - Datos */
    
    /* FONDOS */
    --bg-primario: #0a0a1a;
    --bg-secundario: rgba(10, 10, 26, 0.8);
    --bg-terciario: rgba(20, 20, 40, 0.6);
    
    /* TIPOGRAF칈A */
    --font-base: 14px;
    --font-small: 12px;
    --font-medium: 16px;
    --font-large: 18px;
    --font-xlarge: 24px;
    
    /* ESPACIADO */
    --space-xs: 4px;
    --space-sm: 8px;
    --space-md: 12px;
    --space-lg: 16px;
    --space-xl: 24px;
    
    /* BORDES */
    --border-radius: 6px;
    --border-width: 1px;
}

/* RESET Y BASE */
.leccion-cyber.quimica-cambios {
    font-family: 'Courier New', 'Monaco', 'Consolas', monospace;
    background: var(--bg-primario);
    color: #e0f0ff;
    line-height: 1.5;
    position: relative;
    overflow-x: hidden;
}

.leccion-cyber.quimica-cambios::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
        linear-gradient(rgba(57, 255, 20, 0.02) 1px, transparent 1px),
        linear-gradient(90deg, rgba(57, 255, 20, 0.02) 1px, transparent 1px);
    background-size: 30px 30px;
    pointer-events: none;
    z-index: 0;
}

/* CABECERA */
.cyber-header {
    text-align: center;
    padding: var(--space-xl);
    margin-bottom: var(--space-lg);
    position: relative;
    border-bottom: 1px solid rgba(57, 255, 20, 0.3);
}

.titulo-lecion {
    font-size: var(--font-xlarge);
    color: var(--neon-concepto);
    margin-bottom: var(--space-sm);
    text-shadow: 0 0 8px currentColor;
    animation: glow 2s infinite alternate;
}

@keyframes glow {
    0% { text-shadow: 0 0 5px var(--neon-concepto); }
    100% { text-shadow: 0 0 12px var(--neon-concepto), 0 0 20px var(--neon-concepto); }
}

.subtitulo-neon {
    color: var(--neon-dato);
    font-size: var(--font-medium);
    opacity: 0.9;
    margin-bottom: var(--space-md);
}

.header-badges {
    display: flex;
    justify-content: center;
    gap: var(--space-sm);
    flex-wrap: wrap;
}

.badge {
    padding: var(--space-xs) var(--space-md);
    border-radius: var(--border-radius);
    font-size: var(--font-small);
    font-weight: bold;
}

.neon-concepto { background: rgba(57, 255, 20, 0.1); border: 1px solid var(--neon-concepto); color: var(--neon-concepto); }
.neon-interactivo { background: rgba(255, 0, 255, 0.1); border: 1px solid var(--neon-interactivo); color: var(--neon-interactivo); }
.neon-evaluacion { background: rgba(255, 107, 107, 0.1); border: 1px solid var(--neon-evaluacion); color: var(--neon-evaluacion); }

/* PANEL DE ESTADO */
.cyber-panel.estado-sistema {
    background: var(--bg-secundario);
    border: 1px solid rgba(0, 255, 255, 0.2);
    border-radius: var(--border-radius);
    padding: var(--space-lg);
    margin: 0 var(--space-xl) var(--space-xl);
}

.panel-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-md);
}

.panel-header h2 {
    font-size: var(--font-large);
    color: var(--neon-dato);
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.panel-status {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.status-indicator {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: var(--neon-concepto);
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

.status-text {
    color: var(--neon-concepto);
    font-size: var(--font-small);
}

.panel-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: var(--space-md);
}

.panel-item {
    background: rgba(0, 0, 0, 0.3);
    padding: var(--space-md);
    border-radius: var(--border-radius);
    border-left: 3px solid var(--neon-dato);
}

.item-label {
    font-size: var(--font-small);
    color: #a0c0ff;
    margin-bottom: var(--space-xs);
}

.item-value {
    font-size: var(--font-medium);
    color: white;
    font-weight: bold;
}

/* SECCIONES */
.seccion-cyber {
    background: var(--bg-secundario);
    border: 1px solid rgba(57, 255, 20, 0.1);
    border-radius: var(--border-radius);
    padding: var(--space-xl);
    margin: 0 var(--space-xl) var(--space-xl);
    position: relative;
}

.titulo-seccion {
    font-size: var(--font-large);
    color: inherit;
    margin-bottom: var(--space-lg);
    padding-bottom: var(--space-md);
    border-bottom: 2px solid;
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.seccion-descripcion {
    color: #b0d0ff;
    font-size: var(--font-medium);
    margin-bottom: var(--space-lg);
    opacity: 0.9;
}

/* OBJETIVOS */
.objetivos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: var(--space-lg);
}

.objetivo-card {
    background: var(--bg-terciario);
    border: 1px solid rgba(57, 255, 20, 0.2);
    border-radius: var(--border-radius);
    padding: var(--space-lg);
    transition: all 0.3s ease;
}

.objetivo-card:hover {
    border-color: var(--neon-concepto);
    transform: translateY(-2px);
}

.objetivo-icono {
    font-size: 24px;
    margin-bottom: var(--space-sm);
}

.objetivo-card h3 {
    color: white;
    font-size: var(--font-medium);
    margin-bottom: var(--space-sm);
}

.objetivo-card p {
    color: #c0e0ff;
    font-size: var(--font-small);
    margin-bottom: var(--space-md);
}

.objetivo-progreso {
    height: 4px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 2px;
    overflow: hidden;
}

.progreso-bar {
    height: 100%;
    background: var(--neon-concepto);
    width: 0%;
    transition: width 0.5s ease;
}

/* CONCEPTOS */
.conceptos-container {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
}

.concepto-principal {
    background: rgba(0, 0, 0, 0.4);
    border: 1px solid var(--neon-concepto);
    border-radius: var(--border-radius);
    padding: var(--space-lg);
}

.concepto-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-md);
}

.concepto-header h3 {
    color: var(--neon-concepto);
    font-size: var(--font-large);
}

.concepto-tag {
    background: rgba(57, 255, 20, 0.2);
    color: var(--neon-concepto);
    padding: var(--space-xs) var(--space-sm);
    border-radius: var(--border-radius);
    font-size: var(--font-small);
}

.concepto-content p {
    margin-bottom: var(--space-md);
    line-height: 1.6;
}

.resaltado-neon {
    color: var(--neon-concepto);
    font-weight: bold;
}

.concepto-ejemplo {
    background: rgba(57, 255, 20, 0.05);
    border: 1px solid rgba(57, 255, 20, 0.2);
    border-radius: var(--border-radius);
    padding: var(--space-md);
    margin-top: var(--space-md);
}

.ejemplo-header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-sm);
    color: var(--neon-ejemplo);
}

.ejemplo-ecuacion {
    margin-top: var(--space-md);
    font-size: var(--font-medium);
    text-align: center;
}

/* DIFERENCIAS */
.diferencias-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-lg);
}

.diferencia-card {
    background: var(--bg-terciario);
    border-radius: var(--border-radius);
    overflow: hidden;
}

.diferencia-header {
    padding: var(--space-md);
    text-align: center;
}

.diferencia-header h4 {
    margin: 0;
    color: white;
    font-size: var(--font-medium);
}

.diferencia-quimico {
    background: rgba(255, 107, 107, 0.2);
    border-bottom: 2px solid var(--neon-evaluacion);
}

.diferencia-fisico {
    background: rgba(0, 255, 255, 0.2);
    border-bottom: 2px solid var(--neon-ejemplo);
}

.diferencia-lista {
    padding: var(--space-md);
    margin: 0;
}

.diferencia-lista li {
    padding: var(--space-xs) 0;
    font-size: var(--font-small);
    color: #c0e0ff;
}

/* LEY DE CONSERVACI칍N */
.ley-conservacion {
    background: rgba(0, 0, 0, 0.4);
    border: 1px solid var(--neon-dato);
    border-radius: var(--border-radius);
    padding: var(--space-lg);
}

.ley-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-md);
    border-bottom: 1px solid rgba(0, 255, 157, 0.3);
    padding-bottom: var(--space-sm);
}

.ley-header h3 {
    color: var(--neon-dato);
    font-size: var(--font-large);
}

.ley-autor {
    color: #a0c0ff;
    font-size: var(--font-small);
    font-style: italic;
}

.ley-formula {
    text-align: center;
    margin: var(--space-lg) 0;
    font-size: var(--font-large);
}

.ley-explicacion {
    font-style: italic;
    color: #b0d0ff;
    margin-bottom: var(--space-lg);
    padding: var(--space-md);
    background: rgba(0, 0, 0, 0.3);
    border-radius: var(--border-radius);
}

.ley-ejemplo {
    background: rgba(0, 255, 157, 0.05);
    border: 1px solid rgba(0, 255, 157, 0.2);
    border-radius: var(--border-radius);
    padding: var(--space-md);
}

.calculo-paso {
    padding: var(--space-sm);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    font-family: monospace;
}

.calculo-paso:last-child {
    border-bottom: none;
}

.calculo-check {
    color: var(--neon-concepto);
    font-weight: bold;
    margin-left: var(--space-md);
}

/* SE칌ALES */
.senales-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: var(--space-lg);
    margin-bottom: var(--space-xl);
}

.senal-card {
    background: var(--bg-terciario);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--border-radius);
    padding: var(--space-lg);
    transition: all 0.3s ease;
}

.senal-card:hover {
    border-color: var(--neon-interactivo);
    transform: translateY(-3px);
}

.senal-icono {
    font-size: 28px;
    margin-bottom: var(--space-md);
}

.senal-card h3 {
    color: white;
    font-size: var(--font-medium);
    margin-bottom: var(--space-sm);
}

.senal-ejemplos {
    margin-top: var(--space-md);
}

.senal-ejemplos strong {
    color: var(--neon-ejemplo);
    font-size: var(--font-small);
}

.senal-ejemplos ul {
    margin: var(--space-sm) 0 0 var(--space-md);
    padding: 0;
}

.senal-ejemplos li {
    font-size: var(--font-small);
    color: #c0e0ff;
    margin-bottom: var(--space-xs);
}

/* TABLA */
.tabla-senales {
    margin-top: var(--space-xl);
}

.tabla-senales h3 {
    color: var(--neon-ejemplo);
    margin-bottom: var(--space-md);
    font-size: var(--font-medium);
}

.cyber-table {
    width: 100%;
    border-collapse: collapse;
    font-size: var(--font-small);
}

.cyber-table th {
    background: rgba(0, 255, 255, 0.1);
    color: var(--neon-ejemplo);
    padding: var(--space-md);
    text-align: left;
    border-bottom: 2px solid var(--neon-ejemplo);
}

.cyber-table td {
    padding: var(--space-md);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.cyber-table tr:hover {
    background: rgba(255, 255, 255, 0.05);
}

.tag-irreversible, .tag-dificil {
    padding: var(--space-xs) var(--space-sm);
    border-radius: var(--border-radius);
    font-size: 11px;
    font-weight: bold;
}

.tag-irreversible {
    background: rgba(255, 107, 107, 0.2);
    color: var(--neon-evaluacion);
}

.tag-dificil {
    background: rgba(255, 255, 0, 0.2);
    color: var(--neon-alerta);
}

/* REACCIONES */
.reacciones-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: var(--space-lg);
    margin-bottom: var(--space-xl);
}

.reaccion-card {
    background: var(--bg-terciario);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--border-radius);
    padding: var(--space-lg);
    transition: all 0.3s ease;
}

.reaccion-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.reaccion-header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-md);
}

.reaccion-icono {
    font-size: 24px;
}

.reaccion-card h3 {
    color: white;
    font-size: var(--font-medium);
    margin: 0;
}

.reaccion-content p {
    color: #c0e0ff;
    font-size: var(--font-small);
    margin-bottom: var(--space-md);
}

.reaccion-formula {
    text-align: center;
    margin: var(--space-md) 0;
    font-size: var(--font-medium);
}

.reaccion-ejemplos {
    margin-top: var(--space-md);
}

.reaccion-ejemplos ul {
    margin: var(--space-sm) 0 0 var(--space-md);
    padding: 0;
}

.reaccion-ejemplos li {
    font-size: var(--font-small);
    color: #c0e0ff;
    margin-bottom: var(--space-xs);
}

.redox-item {
    display: flex;
    justify-content: space-between;
    padding: var(--space-xs) 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.redox-tipo {
    color: var(--neon-interactivo);
    font-weight: bold;
}

/* COMPARACI칍N ENERG칄TICA */
.comparacion-energia {
    background: rgba(0, 0, 0, 0.4);
    border: 1px solid rgba(255, 255, 0, 0.2);
    border-radius: var(--border-radius);
    padding: var(--space-lg);
}

.comparacion-energia h3 {
    color: var(--neon-alerta);
    margin-bottom: var(--space-lg);
    font-size: var(--font-medium);
}

.comparacion-content {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-xl);
}

.comparacion-item h4 {
    color: white;
    text-align: center;
    margin-bottom: var(--space-md);
    font-size: var(--font-medium);
}

.energia-diagrama {
    text-align: center;
}

.diagrama-barra {
    width: 40px;
    height: 120px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: var(--border-radius);
    margin: 0 auto var(--space-sm);
    position: relative;
    overflow: hidden;
}



.barra-fill {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    transition: height 1s ease;
}

.exotermica .barra-fill {
    background: linear-gradient(to top, var(--neon-evaluacion), #ff4444);
}

.endotermica .barra-fill {
    background: linear-gradient(to top, var(--neon-ejemplo), #44aaff);
}

.diagrama-labels {
    display: flex;
    justify-content: space-between;
    font-size: var(--font-small);
    color: #a0c0ff;
    margin-bottom: var(--space-sm);
}

.diagrama-texto {
    font-size: var(--font-small);
    color: #c0e0ff;
}

/* SIMULADOR */
.simulador-container {
    display: grid;
    grid-template-columns: 1fr 1.5fr 1fr;
    gap: var(--space-lg);
    margin-top: var(--space-lg);
}

@media (max-width: 1024px) {
    .simulador-container {
        grid-template-columns: 1fr;
    }
}

.simulador-controles, .simulador-datos {
    background: var(--bg-terciario);
    border: 1px solid rgba(255, 0, 255, 0.2);
    border-radius: var(--border-radius);
    padding: var(--space-lg);
}

.simulador-controles h3, .simulador-datos h3 {
    color: var(--neon-interactivo);
    margin-bottom: var(--space-lg);
    font-size: var(--font-medium);
}

.control-grupo {
    margin-bottom: var(--space-lg);
}

.control-grupo label {
    display: block;
    color: #c0e0ff;
    margin-bottom: var(--space-sm);
    font-size: var(--font-small);
}

.cyber-select {
    width: 100%;
    padding: var(--space-sm);
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid var(--neon-interactivo);
    color: white;
    border-radius: var(--border-radius);
    font-family: monospace;
    font-size: var(--font-small);
}

.cyber-slider {
    width: 100%;
    height: 6px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 3px;
    -webkit-appearance: none;
}

.cyber-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 16px;
    height: 16px;
    background: var(--neon-interactivo);
    border-radius: 50%;
    cursor: pointer;
}

.slider-labels {
    display: flex;
    justify-content: space-between;
    font-size: var(--font-small);
    color: #a0c0ff;
    margin-top: var(--space-xs);
}

.tipo-botones {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.tipo-btn {
    padding: var(--space-sm);
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: #c0e0ff;
    border-radius: var(--border-radius);
    cursor: pointer;
    font-size: var(--font-small);
    transition: all 0.3s ease;
    text-align: left;
}

.tipo-btn.active {
    background: rgba(255, 0, 255, 0.2);
    border-color: var(--neon-interactivo);
    color: white;
}

.tipo-btn:hover:not(.active) {
    background: rgba(255, 255, 255, 0.1);
}

.simulador-acciones {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
    margin-top: var(--space-lg);
}

.cyber-btn {
    padding: var(--space-md);
    border: 1px solid;
    border-radius: var(--border-radius);
    background: rgba(0, 0, 0, 0.3);
    color: white;
    cursor: pointer;
    font-family: monospace;
    font-size: var(--font-small);
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
}

.btn-primario {
    border-color: var(--neon-concepto);
    background: rgba(57, 255, 20, 0.1);
}

.btn-primario:hover {
    background: rgba(57, 255, 20, 0.2);
}

.btn-secundario {
    border-color: var(--neon-interactivo);
    background: rgba(255, 0, 255, 0.1);
}

.btn-secundario:hover {
    background: rgba(255, 0, 255, 0.2);
}

.btn-alerta {
    border-color: var(--neon-alerta);
    background: rgba(255, 255, 0, 0.1);
}

.btn-alerta:hover {
    background: rgba(255, 255, 0, 0.2);
}

.btn-pequeno {
    padding: var(--space-sm) var(--space-md);
    font-size: 12px;
}

.btn-icono {
    font-size: 14px;
}

/* VISUALIZACI칍N */
.simulador-visualizacion {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
}

.visualizacion-container {
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid rgba(0, 255, 255, 0.2);
    border-radius: var(--border-radius);
    min-height: 200px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.reaction-placeholder {
    text-align: center;
    padding: var(--space-xl);
}

.placeholder-text {
    color: #a0c0ff;
    font-size: var(--font-small);
}

.placeholder-icono {
    font-size: 32px;
    display: block;
    margin-bottom: var(--space-sm);
}

.reaction-info {
    text-align: center;
}

.ecuacion-actual {
    font-size: var(--font-medium);
    color: var(--neon-concepto);
    margin-bottom: var(--space-sm);
}

.reaction-tipo {
    color: var(--neon-interactivo);
    font-size: var(--font-small);
}

/* DATOS */
.datos-grid {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
}

.dato-item {
    background: rgba(0, 0, 0, 0.3);
    padding: var(--space-md);
    border-radius: var(--border-radius);
    border-left: 3px solid var(--neon-dato);
}

.dato-label {
    color: #a0c0ff;
    font-size: var(--font-small);
    margin-bottom: var(--space-xs);
}

.dato-valor {
    color: white;
    font-size: var(--font-medium);
    font-weight: bold;
    margin-bottom: var(--space-sm);
}

.dato-barra {
    height: 4px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 2px;
    overflow: hidden;
}

.barra-progreso {
    height: 100%;
    background: var(--neon-dato);
    width: 0%;
    transition: width 0.5s ease;
}

.dato-item.verificacion {
    background: rgba(57, 255, 20, 0.1);
    border-left-color: var(--neon-concepto);
}

.dato-desc {
    font-size: 11px;
    color: #a0c0ff;
    margin-top: var(--space-xs);
}

.simulador-log {
    margin-top: var(--space-lg);
}

.simulador-log h4 {
    color: var(--neon-dato);
    margin-bottom: var(--space-sm);
    font-size: var(--font-small);
}

.log-contenido {
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid rgba(0, 0, 0, 0.3);
    border-radius: var(--border-radius);
    padding: var(--space-md);
    max-height: 120px;
    overflow-y: auto;
    font-size: 11px;
    font-family: monospace;
}

.log-entrada {
    padding: var(--space-xs) 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    color: #88aaff;
}

/* QUIZ */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
}

.quiz-pregunta {
    background: var(--bg-terciario);
    border: 1px solid rgba(255, 107, 107, 0.2);
    border-radius: var(--border-radius);
    padding: var(--space-lg);
}

.pregunta-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-md);
    padding-bottom: var(--space-sm);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.pregunta-numero {
    color: var(--neon-evaluacion);
    font-weight: bold;
    font-size: var(--font-small);
}

.pregunta-dificultad {
    padding: var(--space-xs) var(--space-sm);
    background: rgba(255, 255, 0, 0.2);
    color: var(--neon-alerta);
    border-radius: var(--border-radius);
    font-size: 11px;
}

.pregunta-texto {
    margin-bottom: var(--space-lg);
    font-size: var(--font-medium);
}

.pregunta-ecuacion {
    text-align: center;
    margin: var(--space-md) 0;
    font-size: var(--font-medium);
}

.pregunta-opciones {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-sm);
    margin-bottom: var(--space-lg);
}

.opcion {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--border-radius);
    padding: var(--space-md);
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.opcion:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: var(--neon-interactivo);
}

.opcion-letra {
    width: 24px;
    height: 24px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    color: white;
    font-size: var(--font-small);
}

.opcion-texto {
    flex: 1;
    color: #c0e0ff;
    font-size: var(--font-small);
}

.pregunta-feedback {
    display: none;
    margin-top: var(--space-md);
    padding: var(--space-md);
    border-radius: var(--border-radius);
    font-size: var(--font-small);
}

.feedback-correcto {
    background: rgba(57, 255, 20, 0.1);
    border: 1px solid var(--neon-concepto);
    color: var(--neon-concepto);
    padding: var(--space-md);
    border-radius: var(--border-radius);
}

.feedback-incorrecto {
    background: rgba(255, 107, 107, 0.1);
    border: 1px solid var(--neon-evaluacion);
    color: var(--neon-evaluacion);
    padding: var(--space-md);
    border-radius: var(--border-radius);
}

.quiz-resultados {
    text-align: center;
    padding: var(--space-xl);
    background: rgba(0, 0, 0, 0.4);
    border: 2px solid var(--neon-concepto);
    border-radius: var(--border-radius);
    display: none;
}

.quiz-resultados h3 {
    color: var(--neon-concepto);
    margin-bottom: var(--space-lg);
    font-size: var(--font-large);
}

.resultado-puntaje {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-xl);
    margin-bottom: var(--space-lg);
}

.puntaje-circular {
    width: 100px;
    height: 100px;
}

.circular-progreso {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: conic-gradient(var(--neon-concepto) 0%, #333 0%);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
}

.circular-progreso::before {
    content: '';
    position: absolute;
    width: 80px;
    height: 80px;
    background: var(--bg-primario);
    border-radius: 50%;
}

.puntaje-porcentaje {
    position: relative;
    z-index: 1;
    color: white;
    font-size: var(--font-large);
    font-weight: bold;
}

.puntaje-detalle {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.detalle-item {
    display: flex;
    justify-content: space-between;
    gap: var(--space-md);
    padding: var(--space-sm);
    background: rgba(255, 255, 255, 0.05);
    border-radius: var(--border-radius);
}

.detalle-label {
    color: #a0c0ff;
    font-size: var(--font-small);
}

.detalle-valor {
    color: white;
    font-weight: bold;
    font-size: var(--font-small);
}

.resultado-feedback {
    margin: var(--space-lg) 0;
    padding: var(--space-md);
    background: rgba(0, 0, 0, 0.3);
    border-radius: var(--border-radius);
    color: #c0e0ff;
    font-size: var(--font-small);
}

/* PROBLEMAS */
.problemas-container {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
}

.problema-card {
    background: var(--bg-terciario);
    border: 1px solid rgba(0, 255, 255, 0.2);
    border-radius: var(--border-radius);
    padding: var(--space-lg);
}

.problema-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-md);
    padding-bottom: var(--space-sm);
    border-bottom: 1px solid rgba(0, 255, 255, 0.3);
}

.problema-header h3 {
    color: var(--neon-ejemplo);
    font-size: var(--font-medium);
}

.problema-puntos {
    background: rgba(255, 255, 0, 0.2);
    color: var(--neon-alerta);
    padding: var(--space-xs) var(--space-sm);
    border-radius: var(--border-radius);
    font-size: var(--font-small);
    font-weight: bold;
}

.problema-contenido p {
    margin-bottom: var(--space-md);
    color: #c0e0ff;
    font-size: var(--font-small);
}

.problema-ecuacion {
    text-align: center;
    margin: var(--space-md) 0;
    font-size: var(--font-medium);
}

.problema-preguntas {
    margin: var(--space-lg) 0;
}

.respuesta-texto, .respuesta-corta {
    width: 100%;
    padding: var(--space-sm);
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: var(--border-radius);
    color: white;
    font-family: monospace;
    font-size: var(--font-small);
    resize: vertical;
    margin-top: var(--space-sm);
}

.opciones-multiples, .opciones-senales {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
    margin: var(--space-sm) 0;
}

.opciones-multiples label, .opciones-senales label {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    color: #c0e0ff;
    font-size: var(--font-small);
    cursor: pointer;
}

.problema-solucion {
    display: none;
    margin-top: var(--space-md);
    padding: var(--space-md);
    background: rgba(57, 255, 20, 0.1);
    border: 1px solid var(--neon-concepto);
    border-radius: var(--border-radius);
    color: #c0e0ff;
    font-size: var(--font-small);
}

.problema-solucion strong {
    color: var(--neon-concepto);
}

.rubrica-evaluacion {
    background: rgba(0, 0, 0, 0.4);
    border: 1px solid var(--neon-dato);
    border-radius: var(--border-radius);
    padding: var(--space-lg);
}

.rubrica-evaluacion h3 {
    color: var(--neon-dato);
    margin-bottom: var(--space-md);
    font-size: var(--font-medium);
}

.rubrica-table {
    width: 100%;
    border-collapse: collapse;
    font-size: var(--font-small);
}

.rubrica-table th {
    background: rgba(0, 255, 157, 0.1);
    color: var(--neon-dato);
    padding: var(--space-md);
    text-align: left;
}

.rubrica-table td {
    padding: var(--space-md);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    color: #c0e0ff;
}

.rubrica-table tr:hover {
    background: rgba(255, 255, 255, 0.05);
}

/* CIERRE */
.cierre-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-lg);
}

.autoevaluacion, .recursos {
    background: var(--bg-terciario);
    border: 1px solid var(--neon-dato);
    border-radius: var(--border-radius);
    padding: var(--space-lg);
}

.autoevaluacion h3, .recursos h3 {
    color: var(--neon-dato);
    margin-bottom: var(--space-lg);
    font-size: var(--font-medium);
}

.competencia-item {
    margin-bottom: var(--space-lg);
}

.competencia-item label {
    display: block;
    color: #c0e0ff;
    margin-bottom: var(--space-sm);
    font-size: var(--font-small);
}

.competencia-nivel {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.nivel-texto {
    color: #a0c0ff;
    font-size: var(--font-small);
    min-width: 50px;
}

.nivel-botones {
    display: flex;
    gap: var(--space-xs);
    flex: 1;
}

.nivel-btn {
    flex: 1;
    padding: var(--space-xs);
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: #a0c0ff;
    border-radius: var(--border-radius);
    cursor: pointer;
    font-size: var(--font-small);
    transition: all 0.3s ease;
}

.nivel-btn.active {
    background: rgba(0, 255, 157, 0.2);
    border-color: var(--neon-dato);
    color: white;
}

.nivel-btn:hover:not(.active) {
    background: rgba(255, 255, 255, 0.1);
}

.recursos-lista {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
    margin-bottom: var(--space-lg);
}

.recurso-link {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-md);
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--border-radius);
    text-decoration: none;
    transition: all 0.3s ease;
}

.recurso-link:hover {
    border-color: var(--neon-interactivo);
    background: rgba(255, 0, 255, 0.1);
}

.recurso-icono {
    font-size: 20px;
    color: var(--neon-interactivo);
}

.recurso-content {
    flex: 1;
}

.recurso-content strong {
    display: block;
    color: white;
    font-size: var(--font-small);
    margin-bottom: var(--space-xs);
}

.recurso-content span {
    color: #a0c0ff;
    font-size: 11px;
}

.reflexion-final {
    margin-top: var(--space-lg);
}

.reflexion-final h4 {
    color: var(--neon-dato);
    margin-bottom: var(--space-sm);
    font-size: var(--font-small);
}

#reflexion-texto {
    width: 100%;
    padding: var(--space-md);
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(0, 255, 157, 0.2);
    border-radius: var(--border-radius);
    color: white;
    font-family: monospace;
    font-size: var(--font-small);
    resize: vertical;
    min-height: 80px;
    margin-bottom: var(--space-md);
}

/* FOOTER */
.cyber-footer {
    background: rgba(0, 0, 0, 0.8);
    border-top: 2px solid var(--neon-concepto);
    padding: var(--space-lg);
    margin-top: var(--space-xl);
}

.footer-content {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-lg);
    margin-bottom: var(--space-lg);
}

.footer-info {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.footer-logo {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    color: var(--neon-concepto);
    font-size: var(--font-medium);
    font-weight: bold;
}

.logo-icono {
    font-size: 20px;
}

.footer-version {
    color: #a0c0ff;
    font-size: 11px;
}

.footer-progreso {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.progreso-total {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.progreso-label {
    color: #c0e0ff;
    font-size: var(--font-small);
}

.progreso-valor {
    color: var(--neon-concepto);
    font-size: var(--font-large);
    font-weight: bold;
}

.progreso-bar-total {
    height: 6px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 3px;
    overflow: hidden;
}

.barra-total {
    height: 100%;
    background: var(--neon-concepto);
    width: 0%;
    transition: width 0.5s ease;
}

.footer-acciones {
    display: flex;
    gap: var(--space-sm);
    justify-content: flex-end;
}

.footer-btn {
    padding: var(--space-sm) var(--space-md);
    background: rgba(57, 255, 20, 0.1);
    border: 1px solid var(--neon-concepto);
    color: white;
    border-radius: var(--border-radius);
    cursor: pointer;
    font-size: var(--font-small);
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: var(--space-xs);
}

.footer-btn:hover {
    background: rgba(57, 255, 20, 0.2);
}

.footer-creditos {
    text-align: center;
    color: #a0c0ff;
    font-size: 11px;
    padding-top: var(--space-md);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

/* RESPONSIVE */
@media (max-width: 768px) {
    .seccion-cyber, .cyber-panel {
        margin: 0 var(--space-md) var(--space-lg);
        padding: var(--space-lg);
    }
    
    .objetivos-grid, .senales-grid, .reacciones-grid {
        grid-template-columns: 1fr;
    }
    
    .pregunta-opciones {
        grid-template-columns: 1fr;
    }
    
    .footer-content {
        grid-template-columns: 1fr;
        text-align: center;
    }
    
    .footer-acciones {
        justify-content: center;
    }
}

/* SCROLLBAR PERSONALIZADA */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb {
    background: var(--neon-concepto);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--neon-interactivo);
}

/* MATHJAX */
.mjx-chtml {
    color: white !important;
    font-size: 95% !important;
}

/* =========================================== */
/* ESTILOS CYBERPUNK PARA PROPIEDADES F칈SICAS */
/* =========================================== */

:root {
    /* PALETA DE COLORES NEON */
    --neon-concepto: #39ff14;
    --neon-interactivo: #ff00ff;
    --neon-ejemplo: #00ffff;
    --neon-alerta: #ffff00;
    --neon-evaluacion: #ff6b6b;
    --neon-dato: #00ff9d;
    
    /* COLORES ESPEC칈FICOS PARA PROPIEDADES */
    --color-intensivo: #39ff14;
    --color-extensivo: #ff6b6b;
    --color-termico: #ffaa00;
    --color-electrico: #00ffff;
    --color-solido: #4488ff;
    --color-liquido: #00aaff;
    --color-gas: #aa44ff;
    
    /* FONDOS */
    --bg-primario: #0a0a1a;
    --bg-secundario: rgba(15, 15, 35, 0.9);
    --bg-terciario: rgba(25, 25, 45, 0.8);
    --bg-card: rgba(30, 30, 50, 0.6);
    
    /* TIPOGRAF칈A */
    --font-xs: 11px;
    --font-sm: 12px;
    --font-base: 13px;
    --font-md: 14px;
    --font-lg: 16px;
    --font-xl: 18px;
    --font-xxl: 22px;
    
    /* ESPACIADO */
    --space-xs: 4px;
    --space-sm: 8px;
    --space-md: 12px;
    --space-lg: 16px;
    --space-xl: 20px;
    --space-xxl: 24px;
    
    /* BORDES */
    --radius-sm: 4px;
    --radius-md: 6px;
    --radius-lg: 8px;
}

/* RESET Y BASE */
.leccion-cyber.quimica-propiedades {
    font-family: 'Segoe UI', 'Roboto Mono', monospace;
    background: var(--bg-primario);
    color: #e0f0ff;
    line-height: 1.5;
    position: relative;
    overflow-x: hidden;
    font-size: var(--font-base);
}

/* EFECTO GRID BACKGROUND */
.leccion-cyber.quimica-propiedades::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
        linear-gradient(rgba(57, 255, 20, 0.015) 1px, transparent 1px),
        linear-gradient(90deg, rgba(57, 255, 20, 0.015) 1px, transparent 1px);
    background-size: 25px 25px;
    pointer-events: none;
    z-index: 0;
}

/* SCANLINES SUTILES */
.leccion-cyber.quimica-propiedades::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
        to bottom,
        transparent 95%,
        rgba(0, 255, 157, 0.02) 100%
    );
    background-size: 100% 3px;
    pointer-events: none;
    z-index: 1;
    animation: scanline 10s linear infinite;
}

@keyframes scanline {
    0% { transform: translateY(0); }
    100% { transform: translateY(100vh); }
}

/* CABECERA */
.cyber-header {
    text-align: center;
    padding: var(--space-xl);
    margin-bottom: var(--space-lg);
    position: relative;
    z-index: 2;
    border-bottom: 1px solid rgba(57, 255, 20, 0.3);
    background: rgba(10, 10, 26, 0.8);
}

.titulo-leccion {
    font-size: var(--font-xxl);
    color: var(--neon-dato);
    margin: 0 0 var(--space-sm) 0;
    text-shadow: 0 0 10px currentColor;
    animation: titulo-glow 3s infinite alternate;
}

@keyframes titulo-glow {
    0%, 100% { 
        text-shadow: 0 0 5px var(--neon-dato), 0 0 10px rgba(0, 255, 157, 0.3); 
    }
    50% { 
        text-shadow: 0 0 10px var(--neon-dato), 0 0 20px rgba(0, 255, 157, 0.5), 0 0 30px rgba(0, 255, 157, 0.2); 
    }
}

.subtitulo-neon {
    color: #a0c0ff;
    font-size: var(--font-md);
    opacity: 0.9;
    margin-bottom: var(--space-md);
}

.header-badges {
    display: flex;
    justify-content: center;
    gap: var(--space-sm);
    flex-wrap: wrap;
    margin-top: var(--space-md);
}

.badge {
    padding: var(--space-xs) var(--space-md);
    border-radius: 20px;
    font-size: var(--font-xs);
    font-weight: bold;
    border: 1px solid;
    background: rgba(0, 0, 0, 0.3);
}

.neon-concepto { 
    border-color: var(--neon-concepto); 
    color: var(--neon-concepto);
    box-shadow: 0 0 5px rgba(57, 255, 20, 0.3);
}
.neon-interactivo { 
    border-color: var(--neon-interactivo); 
    color: var(--neon-interactivo);
    box-shadow: 0 0 5px rgba(255, 0, 255, 0.3);
}
.neon-dato { 
    border-color: var(--neon-dato); 
    color: var(--neon-dato);
    box-shadow: 0 0 5px rgba(0, 255, 157, 0.3);
}

/* PANEL DE ESTADO */
.cyber-panel.estado-sistema {
    background: var(--bg-secundario);
    border: 1px solid rgba(0, 255, 255, 0.2);
    border-radius: var(--radius-md);
    padding: var(--space-lg);
    margin: 0 var(--space-xl) var(--space-xl);
    position: relative;
    z-index: 2;
}

.panel-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-md);
    padding-bottom: var(--space-sm);
    border-bottom: 1px solid rgba(0, 255, 255, 0.1);
}

.panel-header h2 {
    font-size: var(--font-lg);
    color: var(--neon-dato);
    margin: 0;
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.icono {
    font-size: var(--font-lg);
}

.panel-status {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.status-indicator {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: var(--neon-concepto);
    box-shadow: 0 0 5px var(--neon-concepto);
    animation: pulse 1.5s infinite;
}

@keyframes pulse {
    0%, 100% { 
        opacity: 1; 
        box-shadow: 0 0 5px var(--neon-concepto);
    }
    50% { 
        opacity: 0.5; 
        box-shadow: 0 0 10px var(--neon-concepto);
    }
}

.status-text {
    color: var(--neon-concepto);
    font-size: var(--font-sm);
    font-weight: bold;
}

.panel-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: var(--space-md);
}

.panel-item {
    background: rgba(0, 0, 0, 0.3);
    padding: var(--space-md);
    border-radius: var(--radius-sm);
    border-left: 3px solid var(--neon-dato);
}

.item-label {
    font-size: var(--font-xs);
    color: #88aaff;
    margin-bottom: var(--space-xs);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.item-value {
    font-size: var(--font-md);
    color: white;
    font-weight: bold;
}

/* SECCIONES */
.seccion-cyber {
    background: var(--bg-secundario);
    border: 1px solid rgba(57, 255, 20, 0.1);
    border-radius: var(--radius-md);
    padding: var(--space-xl);
    margin: 0 var(--space-xl) var(--space-xl);
    position: relative;
    z-index: 2;
    backdrop-filter: blur(5px);
}

.titulo-seccion {
    font-size: var(--font-xl);
    color: inherit;
    margin: 0 0 var(--space-lg) 0;
    padding-bottom: var(--space-md);
    border-bottom: 2px solid;
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.seccion-icono {
    font-size: var(--font-lg);
}

.seccion-descripcion {
    color: #b0d0ff;
    font-size: var(--font-md);
    margin-bottom: var(--space-lg);
    opacity: 0.9;
    font-style: italic;
}

/* OBJETIVOS */
.objetivos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: var(--space-lg);
}

.objetivo-card {
    background: var(--bg-card);
    border: 1px solid rgba(57, 255, 20, 0.2);
    border-radius: var(--radius-md);
    padding: var(--space-lg);
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.objetivo-card:hover {
    border-color: var(--neon-concepto);
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(57, 255, 20, 0.1);
}

.objetivo-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, var(--neon-concepto), transparent);
}

.objetivo-icono {
    font-size: 24px;
    margin-bottom: var(--space-md);
    color: var(--neon-concepto);
}

.objetivo-card h3 {
    color: white;
    font-size: var(--font-md);
    margin: 0 0 var(--space-sm) 0;
}

.objetivo-card p {
    color: #c0e0ff;
    font-size: var(--font-sm);
    margin-bottom: var(--space-md);
    line-height: 1.4;
}

.objetivo-progreso {
    height: 4px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 2px;
    overflow: hidden;
    margin-top: var(--space-md);
}

.progreso-bar {
    height: 100%;
    background: linear-gradient(90deg, var(--neon-concepto), var(--neon-dato));
    width: 0%;
    transition: width 0.8s ease;
    border-radius: 2px;
}

/* CONCEPTOS */
.conceptos-container {
    display: flex;
    flex-direction: column;
    gap: var(--space-xl);
}

.concepto-principal {
    background: rgba(0, 0, 0, 0.4);
    border: 1px solid var(--neon-concepto);
    border-radius: var(--radius-md);
    padding: var(--space-lg);
    position: relative;
}

.concepto-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: var(--space-md);
    flex-wrap: wrap;
    gap: var(--space-md);
}

.concepto-header h3 {
    color: var(--neon-concepto);
    font-size: var(--font-lg);
    margin: 0;
    flex: 1;
}

.concepto-tag {
    background: rgba(57, 255, 20, 0.2);
    color: var(--neon-concepto);
    padding: var(--space-xs) var(--space-md);
    border-radius: var(--radius-sm);
    font-size: var(--font-xs);
    font-weight: bold;
    border: 1px solid rgba(57, 255, 20, 0.3);
}

.concepto-content p {
    color: #e0f0ff;
    line-height: 1.6;
    margin-bottom: var(--space-md);
    font-size: var(--font-md);
}

.resaltado-neon {
    color: var(--neon-concepto);
    font-weight: bold;
    text-shadow: 0 0 5px rgba(57, 255, 20, 0.3);
}

.concepto-ejemplo {
    background: rgba(57, 255, 20, 0.05);
    border: 1px solid rgba(57, 255, 20, 0.2);
    border-radius: var(--radius-sm);
    padding: var(--space-md);
    margin-top: var(--space-lg);
}

.ejemplo-header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-sm);
    color: var(--neon-ejemplo);
}

.ejemplo-icono {
    font-size: var(--font-md);
}

.ejemplo-formula {
    margin-top: var(--space-md);
    text-align: center;
    font-size: var(--font-md);
}

.formula-desc {
    display: block;
    color: #88aaff;
    font-size: var(--font-xs);
    margin-top: var(--space-xs);
    font-style: italic;
}

/* DIFERENCIAS INTENSIVAS/EXTENSIVAS */
.diferencias-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--space-lg);
}

.diferencia-card {
    background: var(--bg-card);
    border-radius: var(--radius-md);
    overflow: hidden;
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: transform 0.3s ease;
}

.diferencia-card:hover {
    transform: translateY(-5px);
}

.diferencia-header {
    padding: var(--space-md);
    text-align: center;
    border-bottom: 2px solid;
}

.diferencia-header h4 {
    margin: 0 0 var(--space-xs) 0;
    color: white;
    font-size: var(--font-lg);
}

.diferencia-tag {
    font-size: var(--font-xs);
    opacity: 0.8;
    display: block;
}

.diferencia-intensiva {
    background: rgba(57, 255, 20, 0.1);
    border-bottom-color: var(--color-intensivo);
}

.diferencia-extensiva {
    background: rgba(255, 107, 107, 0.1);
    border-bottom-color: var(--color-extensivo);
}

.diferencia-content {
    padding: var(--space-lg);
}

.diferencia-lista {
    list-style: none;
    padding: 0;
    margin: 0 0 var(--space-md) 0;
}

.diferencia-lista li {
    padding: var(--space-sm) 0;
    color: #c0e0ff;
    font-size: var(--font-sm);
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.diferencia-lista li:last-child {
    border-bottom: none;
}

.diferencia-formula {
    text-align: center;
    padding: var(--space-md);
    background: rgba(0, 0, 0, 0.3);
    border-radius: var(--radius-sm);
    margin-top: var(--space-md);
}

.formula-nota {
    color: #88aaff;
    font-size: var(--font-xs);
    margin-top: var(--space-xs);
    font-style: italic;
}

/* REGLA DE DETECCI칍N */
.regla-deteccion {
    background: rgba(0, 255, 157, 0.05);
    border: 1px solid rgba(0, 255, 157, 0.2);
    border-radius: var(--radius-md);
    padding: var(--space-lg);
}

.regla-header h3 {
    color: var(--neon-dato);
    margin: 0 0 var(--space-lg) 0;
    font-size: var(--font-lg);
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.regla-pasos {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-lg);
    margin-bottom: var(--space-lg);
}

.paso {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(0, 255, 157, 0.1);
    border-radius: var(--radius-sm);
    padding: var(--space-md);
    text-align: center;
}

.paso-numero {
    width: 30px;
    height: 30px;
    background: var(--neon-dato);
    color: #0a0a1a;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    margin: 0 auto var(--space-sm);
    font-size: var(--font-md);
}

.paso-texto {
    color: #e0f0ff;
    font-size: var(--font-sm);
    margin-bottom: var(--space-sm);
    min-height: 40px;
}

.paso-respuesta {
    color: var(--neon-dato);
    font-weight: bold;
    font-size: var(--font-sm);
}

.regla-ejemplo {
    background: rgba(0, 0, 0, 0.4);
    border-radius: var(--radius-sm);
    padding: var(--space-md);
    margin-top: var(--space-lg);
}

.ejemplo-comparacion {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-md);
    margin-top: var(--space-md);
}

.comparacion-item {
    background: rgba(0, 0, 0, 0.3);
    padding: var(--space-md);
    border-radius: var(--radius-sm);
    display: flex;
    justify-content: space-between;
    align-items: center;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.propiedad {
    color: #c0e0ff;
    font-size: var(--font-sm);
}

.valor {
    color: white;
    font-weight: bold;
    font-size: var(--font-md);
}

.tipo {
    padding: var(--space-xs) var(--space-sm);
    border-radius: var(--radius-sm);
    font-size: var(--font-xs);
    font-weight: bold;
}

.intensivo {
    background: rgba(57, 255, 20, 0.2);
    color: var(--color-intensivo);
    border: 1px solid rgba(57, 255, 20, 0.3);
}

.extensivo {
    background: rgba(255, 107, 107, 0.2);
    color: var(--color-extensivo);
    border: 1px solid rgba(255, 107, 107, 0.3);
}

/* CAT츼LOGO DE PROPIEDADES */
.catalogo-filtros {
    background: rgba(0, 0, 0, 0.3);
    border-radius: var(--radius-md);
    padding: var(--space-lg);
    margin-bottom: var(--space-xl);
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-lg);
    align-items: center;
}

.filtro-grupo {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
    flex: 1;
    min-width: 200px;
}

.filtro-grupo label {
    color: #a0c0ff;
    font-size: var(--font-sm);
    font-weight: bold;
}

.filtro-botones {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-xs);
}

.filtro-btn {
    padding: var(--space-xs) var(--space-md);
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: #c0e0ff;
    border-radius: var(--radius-sm);
    cursor: pointer;
    font-size: var(--font-xs);
    transition: all 0.3s ease;
}

.filtro-btn.active {
    background: rgba(255, 0, 255, 0.2);
    border-color: var(--neon-interactivo);
    color: white;
}

.filtro-btn:hover:not(.active) {
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.3);
}

.cyber-select {
    padding: var(--space-sm);
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid var(--neon-interactivo);
    color: white;
    border-radius: var(--radius-sm);
    font-family: inherit;
    font-size: var(--font-sm);
    cursor: pointer;
}

.cyber-select:focus {
    outline: none;
    box-shadow: 0 0 5px var(--neon-interactivo);
}

/* GRID DE PROPIEDADES */
.propiedades-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: var(--space-lg);
    margin-bottom: var(--space-xl);
}

.propiedad-card {
    background: var(--bg-card);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-md);
    padding: var(--space-lg);
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.propiedad-card:hover {
    border-color: var(--neon-interactivo);
    transform: translateY(-5px);
    box-shadow: 0 5px 15px rgba(255, 0, 255, 0.1);
}

.propiedad-header {
    display: flex;
    align-items: center;
    gap: var(--space-md);
    margin-bottom: var(--space-md);
    padding-bottom: var(--space-md);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.propiedad-icono {
    font-size: 28px;
}

.propiedad-card h3 {
    color: white;
    font-size: var(--font-md);
    margin: 0;
    flex: 1;
}

.propiedad-tag {
    padding: var(--space-xs) var(--space-sm);
    border-radius: var(--radius-sm);
    font-size: var(--font-xs);
    font-weight: bold;
}

.intensiva {
    background: rgba(57, 255, 20, 0.2);
    color: var(--color-intensivo);
    border: 1px solid rgba(57, 255, 20, 0.3);
}

.extensiva {
    background: rgba(255, 107, 107, 0.2);
    color: var(--color-extensivo);
    border: 1px solid rgba(255, 107, 107, 0.3);
}

.propiedad-def {
    color: #c0e0ff;
    font-size: var(--font-sm);
    margin-bottom: var(--space-md);
    line-height: 1.4;
}

.propiedad-datos {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
    margin-bottom: var(--space-md);
}

.dato-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-xs) 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.dato-item:last-child {
    border-bottom: none;
}

.dato-label {
    color: #88aaff;
    font-size: var(--font-xs);
}

.dato-valor {
    color: white;
    font-size: var(--font-sm);
    font-weight: bold;
    text-align: right;
}

.propiedad-ejemplos {
    margin-bottom: var(--space-md);
}

.propiedad-ejemplos strong {
    color: var(--neon-ejemplo);
    font-size: var(--font-sm);
    display: block;
    margin-bottom: var(--space-sm);
}

.ejemplos-lista {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
}

.ejemplo-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-xs) var(--space-sm);
    background: rgba(0, 0, 0, 0.3);
    border-radius: var(--radius-sm);
    border-left: 3px solid;
}

.sustancia {
    color: #c0e0ff;
    font-size: var(--font-xs);
}

.ejemplo-item .valor {
    color: white;
    font-size: var(--font-sm);
    font-weight: bold;
}

/* Clasificaciones de conductividad */
.conductor { border-left-color: var(--color-electrico); }
.semiconductor { border-left-color: var(--neon-alerta); }
.aislante { border-left-color: #666; }
.soluble { border-left-color: var(--neon-dato); }
.poco-soluble { border-left-color: var(--neon-alerta); }
.insoluble { border-left-color: #888; }

.propiedad-aplicacion {
    color: #a0c0ff;
    font-size: var(--font-xs);
    font-style: italic;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    padding-top: var(--space-md);
}

/* RESUMEN TABULAR */
.resumen-tabular {
    background: rgba(0, 0, 0, 0.4);
    border: 1px solid rgba(0, 255, 255, 0.2);
    border-radius: var(--radius-md);
    padding: var(--space-lg);
    margin-top: var(--space-xl);
}

.resumen-tabular h3 {
    color: var(--neon-ejemplo);
    margin: 0 0 var(--space-lg) 0;
    font-size: var(--font-lg);
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.cyber-table {
    width: 100%;
    border-collapse: collapse;
    font-size: var(--font-sm);
}

.cyber-table th {
    background: rgba(0, 255, 255, 0.1);
    color: var(--neon-ejemplo);
    padding: var(--space-md);
    text-align: left;
    border-bottom: 2px solid var(--neon-ejemplo);
    font-weight: bold;
}

.cyber-table td {
    padding: var(--space-md);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    color: #e0f0ff;
}

.cyber-table tr:hover {
    background: rgba(255, 255, 255, 0.05);
}

.tipo-cell {
    padding: var(--space-xs) var(--space-sm);
    border-radius: var(--radius-sm);
    font-size: var(--font-xs);
    font-weight: bold;
    display: inline-block;
}

/* ESTADOS DE LA MATERIA */
.estados-container {
    display: flex;
    flex-direction: column;
    gap: var(--space-xl);
}

.diagrama-estados {
    background: rgba(0, 0, 0, 0.4);
    border: 1px solid rgba(0, 255, 255, 0.2);
    border-radius: var(--radius-md);
    padding: var(--space-lg);
}

.diagrama-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-lg);
    padding-bottom: var(--space-md);
    border-bottom: 1px solid rgba(0, 255, 255, 0.2);
}

.diagrama-header h3 {
    color: var(--neon-ejemplo);
    margin: 0;
    font-size: var(--font-lg);
}

.diagrama-fuente {
    color: #88aaff;
    font-size: var(--font-xs);
    font-style: italic;
}

.diagrama-visual {
    display: block;
    width: 100%;
    margin-bottom: var(--space-lg);
}

.estado-card {
    background: var(--bg-card);
    border: 2px solid;
    border-radius: var(--radius-md);
    padding: var(--space-lg);
    text-align: center;
    transition: all 0.3s ease;
}

.estado-card:hover {
    transform: scale(1.05);
    box-shadow: 0 5px 15px rgba(255, 255, 255, 0.1);
}

.estado-card[data-estado="solido"] {
    border-color: var(--color-solido);
    background: rgba(68, 136, 255, 0.1);
}

.estado-card[data-estado="liquido"] {
    border-color: var(--color-liquido);
    background: rgba(0, 170, 255, 0.1);
}

.estado-card[data-estado="gas"] {
    border-color: var(--color-gas);
    background: rgba(170, 68, 255, 0.1);
}

.estado-icono {
    font-size: 32px;
    margin-bottom: var(--space-md);
}

.estado-card h4 {
    color: white;
    margin: 0 0 var(--space-md) 0;
    font-size: var(--font-md);
}

.estado-propiedades {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
}

.propiedad-item {
    display: flex;
    justify-content: space-between;
    font-size: var(--font-xs);
}

.prop-label {
    color: #a0c0ff;
}

.prop-valor {
    color: white;
    font-weight: bold;
}

.transiciones {
    display: flex;
    flex-direction: column;
    gap: var(--space-xl);
}

.transicion {
    display: flex;
    align-items: center;
    gap: var(--space-md);
    padding: var(--space-md);
    background: rgba(0, 0, 0, 0.3);
    border-radius: var(--radius-md);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.transicion-flecha {
    font-size: 24px;
    color: var(--neon-alerta);
    font-weight: bold;
}

.transicion-info {
    flex: 1;
}

.transicion-nombre {
    color: white;
    font-weight: bold;
    font-size: var(--font-sm);
    margin-bottom: var(--space-xs);
}

.transicion-energia {
    color: var(--neon-alerta);
    font-size: var(--font-xs);
    margin-bottom: var(--space-xs);
}

.transicion-temp {
    color: #88aaff;
    font-size: var(--font-xs);
}

.diagrama-notas {
    color: #a0c0ff;
    font-size: var(--font-xs);
    font-style: italic;
    padding: var(--space-md);
    background: rgba(0, 0, 0, 0.3);
    border-radius: var(--radius-sm);
    border-left: 3px solid var(--neon-dato);
}

/* COMPARACI칍N DE ESTADOS */
.comparacion-estados {
    background: rgba(0, 0, 0, 0.4);
    border: 1px solid rgba(255, 255, 0, 0.2);
    border-radius: var(--radius-md);
    padding: var(--space-lg);
}

.comparacion-estados h3 {
    color: var(--neon-alerta);
    margin: 0 0 var(--space-lg) 0;
    font-size: var(--font-lg);
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.comparacion-table {
    width: 100%;
    border-collapse: collapse;
    font-size: var(--font-sm);
    margin-bottom: var(--space-xl);
}

.comparacion-table th {
    background: rgba(255, 255, 0, 0.1);
    color: var(--neon-alerta);
    padding: var(--space-md);
    text-align: left;
    border-bottom: 2px solid var(--neon-alerta);
}


.comparacion-table td {
    padding: var(--space-md);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    color: #e0f0ff;
}

.comparacion-table tr:hover {
    background: rgba(255, 255, 255, 0.05);
}

.comparacion-energias h4 {
    color: var(--neon-ejemplo);
    margin: 0 0 var(--space-lg) 0;
    font-size: var(--font-md);
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.energias-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: var(--space-md);
}

.energia-card {
    background: var(--bg-card);
    border: 1px solid rgba(0, 255, 255, 0.2);
    border-radius: var(--radius-md);
    padding: var(--space-md);
    text-align: center;
}

.energia-nombre {
    color: white;
    font-weight: bold;
    font-size: var(--font-sm);
    margin-bottom: var(--space-xs);
}

.energia-valor {
    color: var(--neon-ejemplo);
    font-size: var(--font-md);
    font-weight: bold;
    margin-bottom: var(--space-xs);
}

.energia-desc {
    color: #a0c0ff;
    font-size: var(--font-xs);
    margin-bottom: var(--space-md);
}

.energia-bar {
    height: 6px;
    background: rgba(0, 255, 255, 0.2);
    border-radius: 3px;
    overflow: hidden;
}

.energia-bar::after {
    content: '';
    display: block;
    height: 100%;
    background: linear-gradient(90deg, var(--neon-ejemplo), #00aaff);
    border-radius: 3px;
}

/* SIMULADOR */
.simulador-container {
    display: grid;
    grid-template-columns: 1fr 1.5fr 1fr;
    gap: var(--space-lg);
}

@media (max-width: 1024px) {
    .simulador-container {
        grid-template-columns: 1fr;
    }
}

.simulador-selector, .simulador-database {
    background: var(--bg-card);
    border: 1px solid rgba(255, 0, 255, 0.2);
    border-radius: var(--radius-md);
    padding: var(--space-lg);
}

.simulador-selector h3, .simulador-database h3 {
    color: var(--neon-interactivo);
    margin: 0 0 var(--space-lg) 0;
    font-size: var(--font-md);
}

.sustancia-control, .temperatura-control {
    margin-bottom: var(--space-lg);
}

.sustancia-control label, .temperatura-control label {
    display: block;
    color: #c0e0ff;
    font-size: var(--font-sm);
    margin-bottom: var(--space-sm);
}

.cyber-slider {
    width: 100%;
    height: 6px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 3px;
    -webkit-appearance: none;
    margin: var(--space-sm) 0;
}

.cyber-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 16px;
    height: 16px;
    background: var(--neon-interactivo);
    border-radius: 50%;
    cursor: pointer;
    border: 2px solid white;
    box-shadow: 0 0 5px var(--neon-interactivo);
}

.slider-labels {
    display: flex;
    justify-content: space-between;
    font-size: var(--font-xs);
    color: #88aaff;
    margin-top: var(--space-xs);
}

.sustancia-info {
    background: rgba(0, 0, 0, 0.3);
    border-radius: var(--radius-sm);
    padding: var(--space-md);
    margin: var(--space-lg) 0;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.info-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-sm);
}

.info-header h4 {
    color: white;
    margin: 0;
    font-size: var(--font-md);
}

.info-formula {
    color: var(--neon-concepto);
    font-weight: bold;
    font-size: var(--font-sm);
}

.info-descripcion {
    color: #c0e0ff;
    font-size: var(--font-xs);
    line-height: 1.4;
}

.cyber-btn {
    padding: var(--space-md) var(--space-lg);
    border: 1px solid;
    border-radius: var(--radius-md);
    background: rgba(0, 0, 0, 0.3);
    color: white;
    cursor: pointer;
    font-family: inherit;
    font-size: var(--font-sm);
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
    width: 100%;
    margin-top: var(--space-md);
}

.cyber-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(255, 255, 255, 0.1);
}

.btn-primario {
    border-color: var(--neon-concepto);
    background: linear-gradient(135deg, rgba(57, 255, 20, 0.1), rgba(0, 255, 157, 0.1));
}

.btn-primario:hover {
    background: linear-gradient(135deg, rgba(57, 255, 20, 0.2), rgba(0, 255, 157, 0.2));
    box-shadow: 0 5px 15px rgba(57, 255, 20, 0.2);
}

.btn-secundario {
    border-color: var(--neon-interactivo);
    background: linear-gradient(135deg, rgba(255, 0, 255, 0.1), rgba(255, 107, 107, 0.1));
}

.btn-secundario:hover {
    background: linear-gradient(135deg, rgba(255, 0, 255, 0.2), rgba(255, 107, 107, 0.2));
    box-shadow: 0 5px 15px rgba(255, 0, 255, 0.2);
}

.btn-icono {
    font-size: var(--font-md);
}

/* RESULTADOS DEL SIMULADOR */
.simulador-resultados {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
}

.resultados-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-md);
}

.resultado-card {
    background: var(--bg-card);
    border: 1px solid rgba(0, 255, 255, 0.1);
    border-radius: var(--radius-sm);
    padding: var(--space-md);
    text-align: center;
}

.resultado-header {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-sm);
}

.resultado-icono {
    font-size: 20px;
}

.resultado-card h4 {
    color: white;
    margin: 0;
    font-size: var(--font-sm);
}

.resultado-valor {
    color: var(--neon-dato);
    font-size: var(--font-md);
    font-weight: bold;
    margin: var(--space-sm) 0;
}

.resultado-tipo, .resultado-estado, .resultado-clasificacion {
    margin: var(--space-sm) 0;
}

.tipo-badge, .estado-badge, .clasif-badge {
    padding: var(--space-xs) var(--space-sm);
    border-radius: var(--radius-sm);
    font-size: var(--font-xs);
    font-weight: bold;
    display: inline-block;
}

.intensiva { 
    background: rgba(57, 255, 20, 0.2); 
    color: var(--color-intensivo); 
    border: 1px solid rgba(57, 255, 20, 0.3);
}
.extensiva { 
    background: rgba(255, 107, 107, 0.2); 
    color: var(--color-extensivo); 
    border: 1px solid rgba(255, 107, 107, 0.3);
}
.solido { 
    background: rgba(68, 136, 255, 0.2); 
    color: var(--color-solido); 
    border: 1px solid rgba(68, 136, 255, 0.3);
}
.liquido { 
    background: rgba(0, 170, 255, 0.2); 
    color: var(--color-liquido); 
    border: 1px solid rgba(0, 170, 255, 0.3);
}
.gas { 
    background: rgba(170, 68, 255, 0.2); 
    color: var(--color-gas); 
    border: 1px solid rgba(170, 68, 255, 0.3);
}
.aislante { 
    background: rgba(102, 102, 102, 0.2); 
    color: #aaa; 
    border: 1px solid rgba(102, 102, 102, 0.3);
}

.resultado-bar {
    height: 4px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 2px;
    overflow: hidden;
    margin-top: var(--space-sm);
}

.bar-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--neon-dato), #00aaff);
    border-radius: 2px;
    width: 0%;
    transition: width 1s ease;
}

.resultado-visual .estado-visual {
    font-size: 32px;
    margin-top: var(--space-sm);
}

.clasif-item {
    display: flex;
    justify-content: space-between;
    font-size: var(--font-xs);
    padding: var(--space-xs) 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.clasif-item:last-child {
    border-bottom: none;
}

.simulador-grafico {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(0, 255, 255, 0.2);
    border-radius: var(--radius-md);
    padding: var(--space-lg);
    margin-top: var(--space-lg);
}

.simulador-grafico h4 {
    color: var(--neon-dato);
    margin: 0 0 var(--space-lg) 0;
    font-size: var(--font-md);
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.grafico-container {
    height: 200px;
    background: rgba(0, 0, 0, 0.5);
    border-radius: var(--radius-sm);
    display: flex;
    align-items: center;
    justify-content: center;
}

.grafico-placeholder {
    text-align: center;
    color: #88aaff;
}

.placeholder-text {
    font-size: var(--font-sm);
}

.placeholder-icono {
    font-size: 32px;
    display: block;
    margin-bottom: var(--space-sm);
}

/* BASE DE DATOS NIST */
.database-info {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
}

.db-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-md);
}

.db-header h4 {
    color: white;
    margin: 0;
    font-size: var(--font-md);
}

.db-version {
    color: var(--neon-dato);
    font-size: var(--font-xs);
    font-weight: bold;
    background: rgba(0, 255, 157, 0.1);
    padding: var(--space-xs) var(--space-sm);
    border-radius: var(--radius-sm);
}

.db-propiedades {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-sm);
}

.db-propiedad {
    display: flex;
    justify-content: space-between;
    padding: var(--space-sm);
    background: rgba(0, 0, 0, 0.3);
    border-radius: var(--radius-sm);
    border-left: 3px solid var(--neon-dato);
}

.db-label {
    color: #a0c0ff;
    font-size: var(--font-xs);
}

.db-valor {
    color: white;
    font-size: var(--font-sm);
    font-weight: bold;
}

.db-log {
    margin-top: var(--space-lg);
}

.db-log h4 {
    color: var(--neon-dato);
    margin: 0 0 var(--space-sm) 0;
    font-size: var(--font-sm);
}

.log-contenido {
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid rgba(0, 0, 0, 0.3);
    border-radius: var(--radius-sm);
    padding: var(--space-md);
    height: 120px;
    overflow-y: auto;
    font-family: 'Courier New', monospace;
    font-size: var(--font-xs);
}

.log-entrada {
    padding: var(--space-xs) 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    color: #88aaff;
}


/* QUIZ */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
}

.quiz-pregunta {
    background: var(--bg-card);
    border: 1px solid rgba(255, 107, 107, 0.2);
    border-radius: var(--radius-md);
    padding: var(--space-lg);
    transition: all 0.3s ease;
}

.quiz-pregunta:hover {
    border-color: rgba(255, 107, 107, 0.4);
    box-shadow: 0 5px 15px rgba(255, 107, 107, 0.1);
}

.pregunta-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-md);
    padding-bottom: var(--space-md);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.pregunta-numero {
    color: var(--neon-evaluacion);
    font-weight: bold;
    font-size: var(--font-sm);
}

.pregunta-dificultad {
    padding: var(--space-xs) var(--space-sm);
    background: rgba(255, 255, 0, 0.2);
    color: var(--neon-alerta);
    border-radius: var(--radius-sm);
    font-size: var(--font-xs);
    font-weight: bold;
}

.pregunta-contenido {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
}

.pregunta-texto {
    font-size: var(--font-md);
    color: #e0f0ff;
    line-height: 1.5;
}

.pregunta-formula {
    text-align: center;
    margin: var(--space-md) 0;
    font-size: var(--font-md);
    color: var(--neon-concepto);
}

.pregunta-opciones {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-sm);
}

.opcion {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-sm);
    padding: var(--space-md);
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.opcion:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.3);
    transform: translateX(3px);
}

.opcion-letra {
    width: 24px;
    height: 24px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    color: white;
    font-size: var(--font-sm);
    flex-shrink: 0;
}

.opcion-texto {
    color: #c0e0ff;
    font-size: var(--font-sm);
    flex: 1;
}

.pregunta-feedback {
    display: none;
    margin-top: var(--space-md);
    padding: var(--space-md);
    border-radius: var(--radius-sm);
    font-size: var(--font-sm);
}

.feedback-correcto {
    background: rgba(57, 255, 20, 0.1);
    border: 1px solid var(--neon-concepto);
    color: var(--neon-concepto);
    padding: var(--space-md);
    border-radius: var(--radius-sm);
}

.feedback-incorrecto {
    background: rgba(255, 107, 107, 0.1);
    border: 1px solid var(--neon-evaluacion);
    color: var(--neon-evaluacion);
    padding: var(--space-md);
    border-radius: var(--radius-sm);
}

.quiz-resultados {
    background: rgba(0, 0, 0, 0.4);
    border: 2px solid var(--neon-concepto);
    border-radius: var(--radius-md);
    padding: var(--space-xl);
    text-align: center;
    display: none;
}

.resultados-header {
    margin-bottom: var(--space-xl);
}

.quiz-resultados h3 {
    color: var(--neon-concepto);
    margin: 0 0 var(--space-lg) 0;
    font-size: var(--font-xl);
}

.resultados-puntaje {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-xl);
    margin-bottom: var(--space-lg);
}

.puntaje-circular {
    width: 120px;
    height: 120px;
}

.circular-progreso {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: conic-gradient(var(--neon-concepto) 0%, #333 0%);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
}

.circular-progreso::before {
    content: '';
    position: absolute;
    width: 90px;
    height: 90px;
    background: var(--bg-primario);
    border-radius: 50%;
}

.puntaje-porcentaje {
    position: relative;
    z-index: 1;
    color: white;
    font-size: var(--font-xl);
    font-weight: bold;
}

.puntaje-detalle {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.detalle-item {
    display: flex;
    justify-content: space-between;
    gap: var(--space-md);
    padding: var(--space-sm);
    background: rgba(255, 255, 255, 0.05);
    border-radius: var(--radius-sm);
    min-width: 150px;
}

.detalle-label {
    color: #a0c0ff;
    font-size: var(--font-sm);
}

.detalle-valor {
    color: white;
    font-weight: bold;
    font-size: var(--font-sm);
}

.resultados-feedback {
    margin: var(--space-lg) 0;
}

.feedback-general {
    font-size: var(--font-lg);
    color: white;
    margin-bottom: var(--space-md);
    font-weight: bold;
}

.feedback-especifico {
    color: #c0e0ff;
    font-size: var(--font-sm);
    line-height: 1.5;
}

.resultados-acciones {
    display: flex;
    gap: var(--space-md);
    justify-content: center;
    margin-top: var(--space-lg);
}

/* PROBLEMAS */
.problemas-container {
    display: flex;
    flex-direction: column;
    gap: var(--space-xl);
}

.problema-card {
    background: var(--bg-card);
    border: 1px solid rgba(0, 255, 255, 0.2);
    border-radius: var(--radius-md);
    padding: var(--space-lg);
}

.problema-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-md);
    padding-bottom: var(--space-md);
    border-bottom: 1px solid rgba(0, 255, 255, 0.3);
}

.problema-header h3 {
    color: var(--neon-ejemplo);
    margin: 0;
    font-size: var(--font-lg);
}

.problema-puntos {
    background: rgba(255, 255, 0, 0.2);
    color: var(--neon-alerta);
    padding: var(--space-xs) var(--space-sm);
    border-radius: var(--radius-sm);
    font-size: var(--font-sm);
    font-weight: bold;
}

.problema-contenido p {
    color: #e0f0ff;
    font-size: var(--font-md);
    margin-bottom: var(--space-lg);
    line-height: 1.5;
}

.problema-datos {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-md);
    margin: var(--space-lg) 0;
}

.dato-propiedad {
    background: rgba(0, 0, 0, 0.3);
    padding: var(--space-md);
    border-radius: var(--radius-sm);
    border-left: 3px solid var(--neon-dato);
}

.propiedad-nombre {
    color: #a0c0ff;
    font-size: var(--font-sm);
    display: block;
    margin-bottom: var(--space-xs);
}

.propiedad-valor {
    color: white;
    font-size: var(--font-md);
    font-weight: bold;
}

.problema-preguntas {
    margin: var(--space-xl) 0;
}

.opciones-sustancias, .opciones-cambios {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
    margin: var(--space-md) 0;
}

.opciones-sustancias label, .opciones-cambios label {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    color: #c0e0ff;
    font-size: var(--font-sm);
    cursor: pointer;
    padding: var(--space-xs) 0;
}

.clasificacion-propiedades {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
    margin: var(--space-md) 0;
}

.clasif-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-sm);
    background: rgba(0, 0, 0, 0.3);
    border-radius: var(--radius-sm);
}

.clasif-opciones {
    display: flex;
    gap: var(--space-md);
}

.respuesta-desarrollo, .respuesta-corta {
    width: 100%;
    padding: var(--space-md);
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: var(--radius-sm);
    color: white;
    font-family: inherit;
    font-size: var(--font-sm);
    resize: vertical;
    margin-top: var(--space-sm);
}

.respuesta-corta {
    resize: none;
    height: 40px;
}

.formula-guia {
    text-align: center;
    margin: var(--space-md) 0;
    color: var(--neon-concepto);
    font-size: var(--font-md);
}

.btn-pequeno {
    padding: var(--space-sm) var(--space-md);
    font-size: var(--font-sm);
    width: auto;
}

.problema-solucion {
    display: none;
    margin-top: var(--space-lg);
    padding: var(--space-md);
    background: rgba(57, 255, 20, 0.1);
    border: 1px solid var(--neon-concepto);
    border-radius: var(--radius-sm);
    color: #c0e0ff;
    font-size: var(--font-sm);
}

.problema-solucion strong {
    color: var(--neon-concepto);
}

.rubrica-evaluacion {
    background: rgba(0, 0, 0, 0.4);
    border: 1px solid var(--neon-dato);
    border-radius: var(--radius-md);
    padding: var(--space-lg);
    margin-top: var(--space-xl);
}

.rubrica-evaluacion h3 {
    color: var(--neon-dato);
    margin: 0 0 var(--space-lg) 0;
    font-size: var(--font-lg);
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.rubrica-table {
    width: 100%;
    border-collapse: collapse;
    font-size: var(--font-sm);
}

.rubrica-table th {
    background: rgba(0, 255, 157, 0.1);
    color: var(--neon-dato);
    padding: var(--space-md);
    text-align: left;
    border-bottom: 2px solid var(--neon-dato);
}

.rubrica-table td {
    padding: var(--space-md);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    color: #e0f0ff;
}

.rubrica-table tr:hover {
    background: rgba(255, 255, 255, 0.05);
}

/* CIERRE */
.cierre-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-xl);
}

.mapa-conceptual {
    background: rgba(0, 0, 0, 0.4);
    border: 1px solid var(--neon-dato);
    border-radius: var(--radius-md);
    padding: var(--space-lg);
}

.mapa-conceptual h3 {
    color: var(--neon-dato);
    margin: 0 0 var(--space-lg) 0;
    font-size: var(--font-lg);
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.mapa-visual {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
    align-items: center;
    margin: var(--space-xl) 0;
}



.nodo-principal {
    background: rgba(57, 255, 20, 0.1);
    border: 2px solid var(--neon-concepto);
    border-radius: var(--radius-md);
    padding: var(--space-lg);
    text-align: center;
    width: 100%;
    max-width: 400px;
}

.nodo-titulo {
    color: var(--neon-concepto);
    font-size: var(--font-lg);
    font-weight: bold;
    margin-bottom: var(--space-xs);
}

.nodo-desc {
    color: #c0e0ff;
    font-size: var(--font-sm);
}

.conexiones {
    text-align: center;
}

.conexion-label {
    color: #88aaff;
    font-size: var(--font-xs);
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.nodos-secundarios {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: var(--space-lg);
    width: 100%;
}

.nodo-secundario {
    background: var(--bg-card);
    border: 2px solid;
    border-radius: var(--radius-md);
    padding: var(--space-lg);
    text-align: center;
}

.nodo-secundario.intensivo {
    border-color: var(--color-intensivo);
    background: rgba(57, 255, 20, 0.1);
}

.nodo-secundario.extensivo {
    border-color: var(--color-extensivo);
    background: rgba(255, 107, 107, 0.1);
}

.nodo-lista {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
    margin-top: var(--space-md);
    text-align: left;
    font-size: var(--font-xs);
    color: #c0e0ff;
}

.conexiones-estados {
    text-align: center;
    margin: var(--space-lg) 0;
}

.nodos-estados {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-md);
    width: 100%;
}

.nodo-estado {
    background: var(--bg-card);
    border: 2px solid;
    border-radius: var(--radius-md);
    padding: var(--space-md);
    text-align: center;
}

.nodo-estado.solido {
    border-color: var(--color-solido);
    background: rgba(68, 136, 255, 0.1);
}

.nodo-estado.liquido {
    border-color: var(--color-liquido);
    background: rgba(0, 170, 255, 0.1);
}

.nodo-estado.gas {
    border-color: var(--color-gas);
    background: rgba(170, 68, 255, 0.1);
}

.estado-simbolo {
    font-size: 24px;
    margin-bottom: var(--space-xs);
}

.estado-nombre {
    color: white;
    font-size: var(--font-sm);
    font-weight: bold;
}

.mapa-conclusion {
    margin-top: var(--space-xl);
    padding: var(--space-md);
    background: rgba(0, 0, 0, 0.3);
    border-radius: var(--radius-sm);
    border-left: 3px solid var(--neon-dato);
}

.mapa-conclusion p {
    color: #e0f0ff;
    font-size: var(--font-sm);
    margin: 0;
    line-height: 1.5;
}

.mapa-conclusion strong {
    color: var(--neon-dato);
}

.autoevaluacion-final {
    background: rgba(0, 0, 0, 0.4);
    border: 1px solid var(--neon-dato);
    border-radius: var(--radius-md);
    padding: var(--space-lg);
}

.autoevaluacion-final h3 {
    color: var(--neon-dato);
    margin: 0 0 var(--space-lg) 0;
    font-size: var(--font-lg);
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.competencias-lista {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
    margin: var(--space-xl) 0;
}

.competencia-item {
    background: rgba(0, 0, 0, 0.3);
    border-radius: var(--radius-sm);
    padding: var(--space-md);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.competencia-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-sm);
}

.competencia-nombre {
    color: #e0f0ff;
    font-size: var(--font-sm);
    font-weight: bold;
}

.competencia-puntaje {
    color: var(--neon-dato);
    font-size: var(--font-sm);
    font-weight: bold;
}

.competencia-bar {
    height: 6px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 3px;
    overflow: hidden;
}

.bar-progreso {
    height: 100%;
    background: linear-gradient(90deg, var(--neon-dato), #00aaff);
    border-radius: 3px;
    width: 0%;
    transition: width 1s ease;
}

.autoevaluacion-acciones {
    display: flex;
    gap: var(--space-md);
    margin: var(--space-xl) 0;
}

.reflexion-final {
    margin-top: var(--space-xl);
}

.reflexion-final h4 {
    color: var(--neon-dato);
    margin: 0 0 var(--space-md) 0;
    font-size: var(--font-md);
}

#reflexion-texto {
    width: 100%;
    padding: var(--space-md);
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(0, 255, 157, 0.2);
    border-radius: var(--radius-sm);
    color: white;
    font-family: inherit;
    font-size: var(--font-sm);
    resize: vertical;
    min-height: 80px;
    margin-bottom: var(--space-md);
}

/* FOOTER */
.cyber-footer {
    background: rgba(0, 0, 0, 0.8);
    border-top: 2px solid var(--neon-concepto);
    padding: var(--space-xl);
    margin-top: var(--space-xl);
    position: relative;
    z-index: 2;
}

.footer-content {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-xl);
    margin-bottom: var(--space-xl);
}

.footer-info {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
}

.footer-logo {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-md);
}

.logo-icono {
    font-size: 24px;
    color: var(--neon-dato);
}

.logo-texto {
    color: white;
    font-size: var(--font-lg);
    font-weight: bold;
}

.footer-datos {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.dato-item {
    display: flex;
    justify-content: space-between;
    padding: var(--space-xs) 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.dato-item:last-child {
    border-bottom: none;
}

.dato-label {
    color: #a0c0ff;
    font-size: var(--font-xs);
}

.dato-valor {
    color: white;
    font-size: var(--font-sm);
    font-weight: bold;
}

.footer-progreso {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
    justify-content: center;
}

.progreso-total {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.progreso-label {
    color: #c0e0ff;
    font-size: var(--font-md);
}

.progreso-valor {
    color: var(--neon-concepto);
    font-size: var(--font-xl);
    font-weight: bold;
}

.progreso-bar-total {
    height: 8px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    overflow: hidden;
}

.barra-total {
    height: 100%;
    background: linear-gradient(90deg, var(--neon-concepto), var(--neon-dato));
    border-radius: 4px;
    width: 0%;
    transition: width 1s ease;
}

.footer-recursos {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
}

.footer-recursos h4 {
    color: var(--neon-dato);
    margin: 0 0 var(--space-md) 0;
    font-size: var(--font-md);
}

.recursos-links {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.recurso-link {
    color: #88aaff;
    font-size: var(--font-sm);
    text-decoration: none;
    transition: color 0.3s ease;
}

.recurso-link:hover {
    color: var(--neon-interactivo);
    text-decoration: underline;
}

.footer-creditos {
    text-align: center;
    color: #88aaff;
    font-size: var(--font-xs);
    padding-top: var(--space-lg);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    line-height: 1.5;
}

/* RESPONSIVE */
@media (max-width: 768px) {
    .seccion-cyber, .cyber-panel {
        margin: 0 var(--space-md) var(--space-lg);
        padding: var(--space-lg);
    }
    
    .propiedades-grid, .resultados-grid {
        grid-template-columns: 1fr;
    }
    
    .diagrama-visual {
        grid-template-columns: 1fr;
        gap: var(--space-md);
    }
    
    .transiciones {
        flex-direction: row;
        gap: var(--space-md);
        justify-content: center;
    }
    
    .transicion {
        flex-direction: column;
        text-align: center;
    }
    
    .nodos-estados {
        grid-template-columns: 1fr;
    }
    
    .autoevaluacion-acciones, .resultados-acciones {
        flex-direction: column;
    }
    
    .cyber-btn {
        width: 100%;
    }
}

/* SCROLLBAR */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb {
    background: var(--neon-concepto);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--neon-interactivo);
}

/* MATHJAX */
.mjx-chtml {
    color: white !important;
    font-size: 95% !important;
}

.mjx-math {
    color: var(--neon-concepto) !important;
}

/* GLITCH EFFECT */
.cyber-glitch {
    position: relative;
    display: inline-block;
    animation: text-glitch 3s infinite;
}

@keyframes text-glitch {
    0%, 100% {
        text-shadow: 0 0 5px currentColor;
        transform: translate(0, 0);
    }
    25% {
        text-shadow: -1px -1px 0 var(--neon-interactivo), 1px 1px 0 var(--neon-ejemplo);
        transform: translate(-1px, 1px);
    }
    50% {
        text-shadow: 1px -1px 0 var(--neon-ejemplo), -1px 1px 0 var(--neon-interactivo);
        transform: translate(1px, -1px);
    }
    75% {
        text-shadow: -1px 1px 0 var(--neon-interactivo), 1px -1px 0 var(--neon-ejemplo);
        transform: translate(-1px, 1px);
    }
}

/* ========================================
       VARIABLES CYBERPUNK EDUCATIVAS
    ======================================== */
    :root {
        /* PALETA NEON EDUCATIVA */
        --neon-concepto: #39FF14;    /* Verde - Conceptos clave */
        --neon-interactivo: #FF00FF; /* Rosa - Elementos interactivos */
        --neon-ejemplo: #00FFFF;     /* Cian - Ejemplos y casos */
        --neon-alerta: #FFFF00;      /* Amarillo - Advertencias/errores */
        --neon-evaluacion: #FF6B6B;  /* Rojo - Evaluaci칩n */
        --neon-dato: #00FF9D;        /* Verde datos - Informaci칩n */
        
        /* FONDOS JER츼RQUICOS */
        --bg-leccion: #0a0a1a;       /* Fondo principal oscuro */
        --bg-seccion: rgba(0, 0, 0, 0.5); /* Fondo secciones */
        --bg-card: rgba(10, 10, 26, 0.8); /* Tarjetas semitransparentes */
        
        /* TIPOGRAF칈A */
        --font-base: 1rem;
        --font-sm: 0.875rem;
        --font-md: 1.125rem;
        --font-lg: 1.25rem;
        --font-xl: 1.5rem;
        
        /* ESPACIADO */
        --space-sm: 8px;
        --space-md: 16px;
        --space-lg: 24px;
        --space-xl: 32px;
    }
    
    /* ========================================
       ESTILOS GENERALES DE LA LECCI칍N
    ======================================== */
    .leccion-quimica-estados {
        position: relative;
        background-color: var(--bg-leccion);
        color: #e0f0ff;
        font-family: 'Courier New', monospace;
        padding: var(--space-xl);
        max-width: 1200px;
        margin: 0 auto;
        line-height: 1.6;
    }
    
    /* Grid background sutil */
    .leccion-quimica-estados::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: 
            linear-gradient(rgba(57, 255, 20, 0.02) 1px, transparent 1px),
            linear-gradient(90deg, rgba(57, 255, 20, 0.02) 1px, transparent 1px);
        background-size: 40px 40px;
        pointer-events: none;
        z-index: 0;
    }
    
    /* Scanlines muy sutiles */
    .leccion-quimica-estados::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
            to bottom,
            transparent 50%,
            rgba(0, 255, 255, 0.01) 51%
        );
        background-size: 100% 4px;
        pointer-events: none;
        z-index: 1;
        animation: scanline 8s linear infinite;
    }
    
    @keyframes scanline {
        0% { transform: translateY(0); }
        100% { transform: translateY(10px); }
    }
    
    /* ========================================
       COMPONENTES ESPEC칈FICOS
    ======================================== */
    
    /* CABECERA */
    .leccion-header {
        text-align: center;
        margin-bottom: var(--space-xl);
        position: relative;
        z-index: 2;
    }
    
    .titulo-leccion {
        font-size: 2.5rem;
        color: var(--neon-concepto);
        margin-bottom: var(--space-sm);
        animation: glow 3s infinite;
    }
    
    @keyframes glow {
        0%, 100% { text-shadow: 0 0 5px currentColor; }
        50% { text-shadow: 0 0 10px currentColor, 0 0 15px currentColor; }
    }
    
    .subtitulo {
        font-size: var(--font-lg);
        color: var(--neon-ejemplo);
        opacity: 0.9;
    }
    
    /* PANEL OBJETIVOS */
    .panel-objetivos {
        background: var(--bg-seccion);
        padding: var(--space-lg);
        border-radius: 8px;
        margin-bottom: var(--space-xl);
        border-left: 4px solid var(--neon-concepto);
        position: relative;
        z-index: 2;
    }
    
    .seccion-titulo {
        font-size: var(--font-xl);
        color: var(--neon-concepto);
        margin-bottom: var(--space-lg);
        display: flex;
        align-items: center;
        gap: var(--space-sm);
    }
    
    .seccion-titulo .icon {
        font-size: 1.5em;
    }
    
    .objetivos-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: var(--space-md);
    }
    
    .objetivo-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        border: 1px solid rgba(57, 255, 20, 0.2);
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        padding-left: 48px;
    }
    
    .objetivo-card:hover {
        transform: translateY(-2px);
        border-color: var(--neon-concepto);
        box-shadow: 0 4px 12px rgba(57, 255, 20, 0.2);
    }
    
    .objetivo-checkbox {
        position: absolute;
        left: var(--space-md);
        top: var(--space-md);
        width: 24px;
        height: 24px;
        border: 2px solid var(--neon-concepto);
        border-radius: 4px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--neon-concepto);
        font-weight: bold;
    }
    
    /* CARDS DE CONCEPTOS */
    .concept-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: var(--space-md);
        margin-bottom: var(--space-lg);
    }
    
    .concept-card {
        background: var(--bg-card);
        padding: var(--space-lg);
        border-radius: 8px;
        border: 2px solid;
        transition: transform 0.2s ease;
    }
    
    .concept-card:hover {
        transform: translateY(-4px);
    }
    
    .estado-solido { border-color: #2196F3; }
    .estado-liquido { border-color: #00BCD4; }
    .estado-gas { border-color: #FF4081; }
    .estado-plasma { border-color: #9C27B0; }
    
    /* TABLA INTERACTIVA */
    .tabla-cyberpunk {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: var(--space-md);
    }
    
    .tabla-cyberpunk th {
        background: rgba(57, 255, 20, 0.1);
        color: var(--neon-concepto);
        padding: var(--space-md);
        text-align: left;
        border-bottom: 2px solid var(--neon-concepto);
    }
    
    .tabla-cyberpunk td {
        padding: var(--space-md);
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        cursor: pointer;
    }
    
    .tabla-cyberpunk tr:hover {
        background: rgba(57, 255, 20, 0.05);
    }
    
    .tabla-cyberpunk tr.selected {
        background: rgba(57, 255, 20, 0.1);
        outline: 1px solid var(--neon-concepto);
    }
    
    .energia-absorbe { color: var(--neon-ejemplo); font-weight: bold; }
    .energia-libera { color: var(--neon-evaluacion); font-weight: bold; }
    
    /* SIMULADOR */
    .simulator-container {
        display: grid;
        grid-template-columns: 1fr 2fr 1fr;
        gap: var(--space-lg);
        padding: var(--space-lg);
        background: rgba(0, 0, 0, 0.7);
        border: 2px solid var(--neon-interactivo);
        border-radius: 8px;
        margin-bottom: var(--space-xl);
        position: relative;
        z-index: 2;
    }
    
    @media (max-width: 768px) {
        .simulator-container {
            grid-template-columns: 1fr;
        }
    }
    
    .simulator-controls, .simulator-data {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
    }
    
    .control-group {
        margin-bottom: var(--space-md);
    }
    
    .control-slider {
        width: 100%;
        margin: var(--space-sm) 0;
        accent-color: var(--neon-interactivo);
    }
    
    .control-select {
        width: 100%;
        padding: 8px;
        background: rgba(0, 0, 0, 0.5);
        color: white;
        border: 1px solid var(--neon-interactivo);
        border-radius: 4px;
    }
    
    .btn-simular, .btn-reset {
        width: 100%;
        padding: var(--space-md);
        margin-top: var(--space-sm);
        border: none;
        border-radius: 4px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: var(--space-sm);
    }
    
    .btn-simular {
        background: linear-gradient(45deg, var(--neon-interactivo), #FF00AA);
        color: white;
    }
    
    .btn-reset {
        background: rgba(255, 255, 255, 0.1);
        color: #e0f0ff;
        border: 1px solid rgba(255, 255, 255, 0.3);
    }
    
    .btn-simular:hover {
        transform: scale(1.02);
        box-shadow: 0 0 15px var(--neon-interactivo);
    }
    
    .simulator-visualization {
        background: rgba(0, 0, 0, 0.9);
        border-radius: 6px;
        overflow: hidden;
        display: flex;
        flex-direction: column;
    }
    
    .vis-container {
        flex-grow: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 300px;
    }

    
    
    .data-card {
        background: rgba(255, 255, 255, 0.05);
        padding: var(--space-sm);
        margin-bottom: var(--space-sm);
        border-radius: 4px;
        border-left: 3px solid var(--neon-dato);
    }
    
    .data-card.highlight {
        border-left-color: var(--neon-interactivo);
        background: rgba(255, 0, 255, 0.05);
    }
    
    .data-value.grande {
        font-size: 1.5em;
        font-weight: bold;
        color: var(--neon-interactivo);
    }
    
    /* QUIZ */
    .quiz-question {
        background: var(--bg-card);
        padding: var(--space-lg);
        border-radius: 8px;
        margin-bottom: var(--space-md);
        border: 1px solid rgba(255, 107, 107, 0.3);
    }
    
    .quiz-options {
        display: grid;
        gap: var(--space-sm);
        margin: var(--space-md) 0;
    }
    
    .quiz-option {
        padding: var(--space-md);
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.2);
        color: #e0f0ff;
        cursor: pointer;
        text-align: left;
        transition: all 0.2s ease;
        border-radius: 4px;
        display: flex;
        align-items: center;
        gap: var(--space-sm);
    }
    
    .quiz-option:hover {
        background: rgba(255, 255, 255, 0.1);
        transform: translateX(4px);
    }
    
    .quiz-option.correct {
        background: rgba(57, 255, 20, 0.1);
        border-color: var(--neon-concepto);
    }
    
    .quiz-option.incorrect {
        background: rgba(255, 107, 107, 0.1);
        border-color: var(--neon-evaluacion);
    }
    
    .option-letter {
        background: rgba(255, 255, 255, 0.1);
        width: 24px;
        height: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        font-weight: bold;
    }
    
    /* ERRORES COMUNES */
    .error-card {
        background: var(--bg-card);
        border: 1px solid var(--neon-alerta);
        border-radius: 6px;
        margin-bottom: var(--space-md);
        overflow: hidden;
    }
    
    .error-header {
        background: rgba(255, 255, 0, 0.05);
        padding: var(--space-md);
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    
    .error-content {
        padding: var(--space-md);
        border-top: 1px solid rgba(255, 255, 0, 0.2);
        display: none;
    }
    
    /* PROBLEMAS EXAMEN */
    .problema-card {
        background: var(--bg-card);
        padding: var(--space-lg);
        border-radius: 8px;
        margin-bottom: var(--space-lg);
        border: 1px solid rgba(255, 107, 107, 0.3);
    }
    
    textarea {
        width: 100%;
        background: rgba(0, 0, 0, 0.5);
        color: white;
        border: 1px solid var(--neon-ejemplo);
        border-radius: 4px;
        padding: var(--space-sm);
        font-family: inherit;
        resize: vertical;
    }
    
    /* RESPONSIVE */
    @media (max-width: 768px) {
        .leccion-quimica-estados {
            padding: var(--space-md);
        }
        
        .titulo-leccion {
            font-size: 1.8rem;
        }
        
        .simulator-container {
            grid-template-columns: 1fr;
        }
        
        .objetivos-grid, .concept-grid {
            grid-template-columns: 1fr;
        }
    }
    
    /* ANIMACIONES */
    @keyframes dashArrow {
        0% { stroke-dashoffset: 100; }
        100% { stroke-dashoffset: 0; }
    }
    
    @keyframes highlight {
        0% { background-color: rgba(57, 255, 20, 0); }
        50% { background-color: rgba(57, 255, 20, 0.1); }
        100% { background-color: rgba(57, 255, 20, 0); }
    }
/* ========================================
       VARIABLES CYBERPUNK EDUCATIVAS
    ======================================== */
    :root {
        /* PALETA NEON EDUCATIVA */
        --neon-concepto: #39FF14;    /* Verde - Conceptos clave */
        --neon-interactivo: #FF00FF; /* Rosa - Elementos interactivos */
        --neon-ejemplo: #00FFFF;     /* Cian - Ejemplos y casos */
        --neon-alerta: #FFFF00;      /* Amarillo - Advertencias/errores */
        --neon-evaluacion: #FF6B6B;  /* Rojo - Evaluaci칩n */
        --neon-dato: #00FF9D;        /* Verde datos - Informaci칩n */
        
        /* FONDOS JER츼RQUICOS */
        --bg-leccion: #0a0a1a;       /* Fondo principal oscuro */
        --bg-seccion: rgba(0, 0, 0, 0.5); /* Fondo secciones */
        --bg-card: rgba(10, 10, 26, 0.8); /* Tarjetas semitransparentes */
        
        /* COLORES TEM츼TICOS */
        --color-pura: #4CAF50;       /* Verde - Materia pura */
        --color-mezcla: #FF9800;     /* Naranja - Mezclas */
        --color-elemento: #8BC34A;   /* Verde claro - Elementos */
        --color-compuesto: #66BB6A;  /* Verde - Compuestos */
        --color-homogenea: #FFB300;  /* Amarillo - Homog칠neas */
        --color-heterogenea: #FF8F00;/* Naranja - Heterog칠neas */
        
        /* TIPOGRAF칈A */
        --font-base: 1rem;
        --font-sm: 0.875rem;
        --font-md: 1.125rem;
        --font-lg: 1.25rem;
        --font-xl: 1.5rem;
        
        /* ESPACIADO */
        --space-sm: 8px;
        --space-md: 16px;
        --space-lg: 24px;
        --space-xl: 32px;
    }
    
    /* ========================================
       ESTILOS GENERALES DE LA LECCI칍N
    ======================================== */
    .leccion-quimica-clasificacion {
        position: relative;
        background-color: var(--bg-leccion);
        color: #e0f0ff;
        font-family: 'Courier New', monospace;
        padding: var(--space-xl);
        max-width: 1200px;
        margin: 0 auto;
        line-height: 1.6;
    }
    
    /* Grid background sutil */
    .leccion-quimica-clasificacion::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: 
            linear-gradient(rgba(57, 255, 20, 0.02) 1px, transparent 1px),
            linear-gradient(90deg, rgba(57, 255, 20, 0.02) 1px, transparent 1px);
        background-size: 40px 40px;
        pointer-events: none;
        z-index: 0;
    }
    
    /* Scanlines muy sutiles */
    .leccion-quimica-clasificacion::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
            to bottom,
            transparent 50%,
            rgba(0, 255, 255, 0.01) 51%
        );
        background-size: 100% 4px;
        pointer-events: none;
        z-index: 1;
        animation: scanline 8s linear infinite;
    }
    
    @keyframes scanline {
        0% { transform: translateY(0); }
        100% { transform: translateY(10px); }
    }
    
    /* ========================================
       COMPONENTES ESPEC칈FICOS
    ======================================== */
    
    /* CABECERA */
    .leccion-header {
        text-align: center;
        margin-bottom: var(--space-xl);
        position: relative;
        z-index: 2;
    }
    
    .titulo-leccion {
        font-size: 2.5rem;
        color: var(--neon-concepto);
        margin-bottom: var(--space-sm);
        animation: glow 3s infinite;
    }
    
    @keyframes glow {
        0%, 100% { text-shadow: 0 0 5px currentColor; }
        50% { text-shadow: 0 0 10px currentColor, 0 0 15px currentColor; }
    }
    
    .subtitulo {
        font-size: var(--font-lg);
        color: var(--neon-ejemplo);
        opacity: 0.9;
    }
    
    /* PANEL OBJETIVOS */
    .panel-objetivos {
        background: var(--bg-seccion);
        padding: var(--space-lg);
        border-radius: 8px;
        margin-bottom: var(--space-xl);
        border-left: 4px solid var(--neon-concepto);
        position: relative;
        z-index: 2;
    }
    
    .seccion-titulo {
        font-size: var(--font-xl);
        color: var(--neon-concepto);
        margin-bottom: var(--space-lg);
        display: flex;
        align-items: center;
        gap: var(--space-sm);
    }
    
    .seccion-titulo .icon {
        font-size: 1.5em;
    }
    
    .objetivos-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: var(--space-md);
    }
    
    .objetivo-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        border: 1px solid rgba(57, 255, 20, 0.2);
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        padding-left: 48px;
    }
    
    .objetivo-card:hover {
        transform: translateY(-2px);
        border-color: var(--neon-concepto);
        box-shadow: 0 4px 12px rgba(57, 255, 20, 0.2);
    }
    
    .objetivo-checkbox {
        position: absolute;
        left: var(--space-md);
        top: var(--space-md);
        width: 24px;
        height: 24px;
        border: 2px solid var(--neon-concepto);
        border-radius: 4px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--neon-concepto);
        font-weight: bold;
    }
    
    /* CLASIFICACI칍N DOBLE */
    .clasificacion-doble {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: var(--space-lg);
        margin-bottom: var(--space-lg);
    }
    
    .clas-card {
        background: var(--bg-card);
        padding: var(--space-lg);
        border-radius: 8px;
        border: 3px solid;
        transition: transform 0.2s ease;
    }
    
    .clas-card:hover {
        transform: translateY(-4px);
    }
    
    .clas-card.pureza {
        border-color: var(--color-pura);
        box-shadow: 0 4px 12px rgba(76, 175, 80, 0.2);
    }
    
    .clas-card.mezcla {
        border-color: var(--color-mezcla);
        box-shadow: 0 4px 12px rgba(255, 152, 0, 0.2);
    }
    
    /* COMPARATIVA ELEMENTO-COMPUESTO */
    .comparativa-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: var(--space-lg);
        margin-bottom: var(--space-lg);
    }
    
    .comp-card {
        background: var(--bg-card);
        padding: var(--space-lg);
        border-radius: 8px;
        border: 2px solid;
    }
    
    .comp-card.elemento {
        border-color: var(--color-elemento);
    }
    
    .comp-card.compuesto {
        border-color: var(--color-compuesto);
    }
    
    .comp-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: var(--space-md);
    }
    
    .comp-badge {
        background: rgba(255, 255, 255, 0.1);
        padding: 4px 8px;
        border-radius: 12px;
        font-size: var(--font-sm);
    }
    
    .comp-ejemplos {
        margin-top: var(--space-md);
        display: grid;
        gap: var(--space-sm);
    }
    
    .ejemplo-item {
        background: rgba(255, 255, 255, 0.05);
        padding: var(--space-sm);
        border-radius: 4px;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    
    .simbolo, .formula {
        font-family: 'Courier New', monospace;
        font-weight: bold;
        color: var(--neon-dato);
    }
    
    /* TABLA INTERACTIVA */
    .tabla-cyberpunk {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: var(--space-md);
    }
    
    .tabla-cyberpunk th {
        background: rgba(57, 255, 20, 0.1);
        color: var(--neon-concepto);
        padding: var(--space-md);
        text-align: left;
        border-bottom: 2px solid var(--neon-concepto);
    }
    
    .tabla-cyberpunk td {
        padding: var(--space-md);
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        cursor: pointer;
    }
    
    .tabla-cyberpunk tr:hover {
        background: rgba(57, 255, 20, 0.05);
    }
    
    .tabla-cyberpunk tr.selected {
        background: rgba(57, 255, 20, 0.1);
        outline: 1px solid var(--neon-concepto);
    }
    
    /* M칄TODOS DE SEPARACI칍N */
    .metodos-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: var(--space-md);
        margin-bottom: var(--space-lg);
    }
    
    .metodo-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 8px;
        border: 1px solid rgba(255, 255, 255, 0.1);
        cursor: pointer;
        transition: all 0.3s ease;
        text-align: center;
    }
    
    .metodo-card:hover {
        transform: translateY(-4px);
        border-color: var(--neon-interactivo);
        box-shadow: 0 4px 12px rgba(255, 0, 255, 0.2);
    }
    
    .metodo-icon {
        font-size: 2rem;
        margin-bottom: var(--space-sm);
    }
    
    /* SELECTOR DE M칄TODO */
    .selector-metodo {
        background: rgba(0, 0, 0, 0.5);
        padding: var(--space-lg);
        border-radius: 8px;
        border: 1px solid var(--neon-interactivo);
    }
    
    .checkbox-group {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: var(--space-sm);
    }
    
    /* SIMULADOR */
    .simulator-container {
        display: grid;
        grid-template-columns: 1fr 2fr 1fr;
        gap: var(--space-lg);
        padding: var(--space-lg);
        background: rgba(0, 0, 0, 0.7);
        border: 2px solid var(--neon-interactivo);
        border-radius: 8px;
        margin-bottom: var(--space-xl);
        position: relative;
        z-index: 2;
    }
    
    @media (max-width: 768px) {
        .simulator-container {
            grid-template-columns: 1fr;
        }
    }
    
    .simulator-controls, .simulator-data {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
    }
    
    .control-input {
        width: 100%;
        padding: 8px;
        background: rgba(0, 0, 0, 0.5);
        color: white;
        border: 1px solid var(--neon-interactivo);
        border-radius: 4px;
        font-family: inherit;
    }
    
    .btn-clasificar, .btn-aleatorio, .btn-reset {
        width: 100%;
        padding: var(--space-md);
        margin-top: var(--space-sm);
        border: none;
        border-radius: 4px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: var(--space-sm);
    }
    
    .btn-clasificar {
        background: linear-gradient(45deg, var(--neon-interactivo), #FF00AA);
        color: white;
    }
    
    .btn-aleatorio {
        background: linear-gradient(45deg, #00FFFF, #0097A7);
        color: white;
    }
    
    .btn-reset {
        background: rgba(255, 255, 255, 0.1);
        color: #e0f0ff;
        border: 1px solid rgba(255, 255, 255, 0.3);
    }
    
    .btn-clasificar:hover {
        transform: scale(1.02);
        box-shadow: 0 0 15px var(--neon-interactivo);
    }
    
    .simulator-visualization {
        background: rgba(0, 0, 0, 0.9);
        border-radius: 6px;
        overflow: hidden;
        display: flex;
        flex-direction: column;
    }
    
    .arbol-container {
        flex-grow: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 400px;
        padding: var(--space-md);
    }
    
    
    @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.8; }
    }
    
    .data-card {
        background: rgba(255, 255, 255, 0.05);
        padding: var(--space-sm);
        margin-bottom: var(--space-sm);
        border-radius: 4px;
        border-left: 3px solid var(--neon-dato);
    }
    
    .data-card.highlight {
        border-left-color: var(--neon-interactivo);
        background: rgba(255, 0, 255, 0.05);
    }
    
    .estadisticas {
        margin-top: var(--space-lg);
        padding-top: var(--space-md);
        border-top: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .stat-item {
        display: flex;
        justify-content: space-between;
        margin-bottom: var(--space-sm);
    }
    
    .stat-value {
        color: var(--neon-dato);
        font-weight: bold;
    }
    
    /* QUIZ */
    .quiz-question {
        background: var(--bg-card);
        padding: var(--space-lg);
        border-radius: 8px;
        margin-bottom: var(--space-md);
        border: 1px solid rgba(255, 107, 107, 0.3);
    }
    
    .quiz-options {
        display: grid;
        gap: var(--space-sm);
        margin: var(--space-md) 0;
    }
    
    .quiz-option {
        padding: var(--space-md);
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.2);
        color: #e0f0ff;
        cursor: pointer;
        text-align: left;
        transition: all 0.2s ease;
        border-radius: 4px;
        display: flex;
        align-items: center;
        gap: var(--space-sm);
    }
    
    .quiz-option:hover {
        background: rgba(255, 255, 255, 0.1);
        transform: translateX(4px);
    }
    
    .quiz-option.correct {
        background: rgba(57, 255, 20, 0.1);
        border-color: var(--neon-concepto);
    }
    
    .quiz-option.incorrect {
        background: rgba(255, 107, 107, 0.1);
        border-color: var(--neon-evaluacion);
    }
    
    .option-letter {
        background: rgba(255, 255, 255, 0.1);
        width: 24px;
        height: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        font-weight: bold;
    }
    
    /* ERRORES COMUNES */
    .error-card {
        background: var(--bg-card);
        border: 1px solid var(--neon-alerta);
        border-radius: 6px;
        margin-bottom: var(--space-md);
        overflow: hidden;
    }
    
    .error-header {
        background: rgba(255, 255, 0, 0.05);
        padding: var(--space-md);
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    
    .error-content {
        padding: var(--space-md);
        border-top: 1px solid rgba(255, 255, 0, 0.2);
        display: none;
    }
    
    .error-tabla table {
        width: 100%;
        margin-top: var(--space-md);
        border-collapse: collapse;
    }
    
    .error-tabla th, .error-tabla td {
        padding: 8px;
        border: 1px solid rgba(255, 255, 0, 0.3);
        text-align: left;
    }
    
    /* RESPONSIVE */
    @media (max-width: 768px) {
        .leccion-quimica-clasificacion {
            padding: var(--space-md);
        }
        
        .titulo-leccion {
            font-size: 1.8rem;
        }
        
        .simulator-container {
            grid-template-columns: 1fr;
        }
        
        .objetivos-grid, .metodos-grid, .comparativa-grid {
            grid-template-columns: 1fr;
        }
        
        .checkbox-group {
            grid-template-columns: 1fr;
        }
    }
    
    /* ANIMACIONES */
    @keyframes highlight {
        0% { background-color: rgba(57, 255, 20, 0); }
        50% { background-color: rgba(57, 255, 20, 0.1); }
        100% { background-color: rgba(57, 255, 20, 0); }
    }
/* ========================================
   VARIABLES CYBERPUNK EDUCATIVAS COMPACTAS
======================================== */
:root {
    /* PALETA NEON COMPACTA */
    --neon-c: #39FF14;    /* Conceptos */
    --neon-i: #FF00FF;    /* Interactivo */
    --neon-e: #00FFFF;    /* Ejemplos */
    --neon-a: #FFFF00;    /* Alerta */
    --neon-v: #FF6B6B;    /* Evaluaci칩n */
    --neon-d: #00FF9D;    /* Datos */
    
    /* FONDOS COMPACTOS */
    --bg-main: #0a0a1a;
    --bg-sec: rgba(0,0,0,0.4);
    --bg-card: rgba(10,10,26,0.85);
    
    /* COLORES TEM츼TICOS */
    --c-hom: #2196F3;
    --c-het: #FF9800;
    --c-sol: #4CAF50;
    --c-col: #FFB300;
    --c-sus: #795548;
    
    /* TIPOGRAF칈A COMPACTA */
    --fs-xs: 0.75rem;   /* 12px */
    --fs-sm: 0.875rem;  /* 14px */
    --fs-base: 1rem;    /* 16px */
    --fs-md: 1.125rem;  /* 18px */
    --fs-lg: 1.25rem;   /* 20px */
    
    /* ESPACIADO COMPACTO */
    --sp-xxs: 4px;
    --sp-xs: 8px;
    --sp-sm: 12px;
    --sp-md: 16px;
    --sp-lg: 20px;
}

/* ========================================
   RESET Y BASE COMPACTA
======================================== */
.leccion-quimica-mezclas {
    background: var(--bg-main);
    color: #e0f0ff;
    font-family: 'Courier New', monospace;
    font-size: var(--fs-base);
    line-height: 1.4;
    padding: var(--sp-md);
    max-width: 1000px;
    margin: 0 auto;
    position: relative;
    overflow-x: hidden;
}

/* Grid sutil (m치s tenue) */
.leccion-quimica-mezclas::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background-image: 
        linear-gradient(rgba(57,255,20,0.01) 1px, transparent 1px),
        linear-gradient(90deg, rgba(57,255,20,0.01) 1px, transparent 1px);
    background-size: 30px 30px;
    pointer-events: none;
    z-index: 0;
}

/* Scanlines (m치s tenue) */
.leccion-quimica-mezclas::after {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background: linear-gradient(transparent 98%, rgba(0,255,255,0.008) 100%);
    background-size: 100% 3px;
    pointer-events: none;
    z-index: 1;
    animation: scan 10s linear infinite;
}

@keyframes scan {
    0% { transform: translateY(0); }
    100% { transform: translateY(5px); }
}

/* ========================================
   CABECERA COMPACTA
======================================== */
.leccion-header {
    text-align: center;
    margin-bottom: var(--sp-lg);
    position: relative;
    z-index: 2;
}

.titulo-leccion {
    font-size: var(--fs-lg);
    color: var(--neon-c);
    margin: 0 0 var(--sp-xs);
    animation: glow-pulse 4s infinite;
}

@keyframes glow-pulse {
    0%, 100% { text-shadow: 0 0 3px currentColor; }
    50% { text-shadow: 0 0 6px currentColor; }
}

.subtitulo {
    font-size: var(--fs-sm);
    color: var(--neon-e);
    opacity: 0.85;
    margin: 0;
}

/* ========================================
   SECCIONES COMPACTAS
======================================== */
.panel-objetivos,
.teoria-section,
.separacion-section,
.simulator-section,
.quiz-section,
.errors-section,
.examen-section,
.cierre-section {
    background: var(--bg-sec);
    padding: var(--sp-md);
    border-radius: 6px;
    margin-bottom: var(--sp-md);
    border-left: 3px solid;
    position: relative;
    z-index: 2;
}

.panel-objetivos { border-left-color: var(--neon-c); }
.teoria-section { border-left-color: var(--neon-c); }
.separacion-section { border-left-color: var(--neon-i); }
.simulator-section { border-left-color: var(--neon-i); }
.quiz-section { border-left-color: var(--neon-v); }
.errors-section { border-left-color: var(--neon-a); }
.examen-section { border-left-color: var(--neon-v); }
.cierre-section { border-left-color: var(--neon-c); }

.seccion-titulo {
    font-size: var(--fs-md);
    color: inherit;
    margin: 0 0 var(--sp-sm);
    display: flex;
    align-items: center;
    gap: var(--sp-xs);
}

.seccion-titulo .icon {
    font-size: 1.2em;
}

/* ========================================
   COMPONENTES COMPACTOS
======================================== */

/* Grids compactos */
.objetivos-grid,
.contexto-grid,
.comparativa-grid,
.metodos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--sp-sm);
    margin: var(--sp-sm) 0;
}

/* Tarjetas compactas */
.objetivo-card,
.contexto-card,
.comp-card,
.metodo-card {
    background: var(--bg-card);
    padding: var(--sp-sm);
    border-radius: 4px;
    border: 1px solid rgba(255,255,255,0.08);
    transition: all 0.2s ease;
    position: relative;
}

.objetivo-card:hover,
.contexto-card:hover,
.comp-card:hover,
.metodo-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 2px 6px rgba(57,255,20,0.15);
}

/* Objetivos espec칤ficos */
.objetivo-card {
    padding-left: 40px;
    cursor: pointer;
}

.objetivo-checkbox {
    position: absolute;
    left: var(--sp-sm);
    top: var(--sp-sm);
    width: 18px;
    height: 18px;
    border: 1px solid var(--neon-c);
    border-radius: 3px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--fs-xs);
}

/* Comparativas */
.comp-card.homogenea { border-color: var(--c-hom); }
.comp-card.heterogenea { border-color: var(--c-het); }

.comp-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--sp-xs);
}

.comp-badge {
    background: rgba(255,255,255,0.07);
    padding: 2px 8px;
    border-radius: 10px;
    font-size: var(--fs-xs);
}

/* M칠todos */
.metodo-card {
    text-align: center;
    cursor: pointer;
}

.metodo-icon {
    font-size: 1.5rem;
    margin-bottom: var(--sp-xs);
}

/* ========================================
   TABLAS COMPACTAS
======================================== */
.tabla-interactiva {
    background: var(--bg-card);
    padding: var(--sp-sm);
    border-radius: 4px;
    margin: var(--sp-sm) 0;
}

.tabla-cyberpunk {
    width: 100%;
    border-collapse: collapse;
    font-size: var(--fs-sm);
}

.tabla-cyberpunk th {
    background: rgba(57,255,20,0.08);
    color: var(--neon-c);
    padding: var(--sp-xs);
    text-align: left;
    border-bottom: 1px solid var(--neon-c);
}

.tabla-cyberpunk td {
    padding: var(--sp-xs);
    border-bottom: 1px solid rgba(255,255,255,0.05);
    cursor: pointer;
}

.tabla-cyberpunk tr:hover {
    background: rgba(57,255,20,0.03);
}

.tabla-cyberpunk tr.selected {
    background: rgba(57,255,20,0.08);
    outline: 1px solid var(--neon-c);
}

.tabla-info {
    padding: var(--sp-xs);
    background: rgba(0,0,0,0.3);
    border-radius: 3px;
    margin-top: var(--sp-xs);
    font-size: var(--fs-sm);
    border-left: 2px solid var(--neon-e);
}

/* ========================================
   SIMULADOR COMPACTO
======================================== */
.simulator-container {
    display: grid;
    grid-template-columns: 1fr 1.5fr 1fr;
    gap: var(--sp-sm);
    padding: var(--sp-sm);
    background: rgba(0,0,0,0.6);
    border: 1px solid var(--neon-i);
    border-radius: 5px;
    margin: var(--sp-sm) 0;
}

@media (max-width: 768px) {
    .simulator-container {
        grid-template-columns: 1fr;
    }
}

.simulator-controls,
.simulator-data {
    background: var(--bg-card);
    padding: var(--sp-sm);
    border-radius: 4px;
}

.control-input {
    width: 100%;
    padding: 6px;
    background: rgba(0,0,0,0.4);
    color: white;
    border: 1px solid var(--neon-i);
    border-radius: 3px;
    font-size: var(--fs-sm);
    margin-bottom: var(--sp-xs);
}

.checkbox-group {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--sp-xxs);
    font-size: var(--fs-sm);
}

.btn-clasificar,
.btn-aleatorio,
.btn-reset {
    width: 100%;
    padding: 8px;
    border: none;
    border-radius: 3px;
    font-size: var(--fs-sm);
    font-weight: bold;
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--sp-xs);
    margin-top: var(--sp-xs);
}

.btn-clasificar {
    background: linear-gradient(45deg, var(--neon-i), #CC00AA);
    color: white;
}

.btn-aleatorio {
    background: linear-gradient(45deg, #00CCFF, #007799);
    color: white;
}

.btn-reset {
    background: rgba(255,255,255,0.08);
    color: #e0f0ff;
    border: 1px solid rgba(255,255,255,0.15);
}

.btn-clasificar:hover {
    transform: scale(1.02);
    box-shadow: 0 0 8px var(--neon-i);
}

.simulator-visualization {
    background: rgba(0,0,0,0.8);
    border-radius: 4px;
    overflow: hidden;
}

#svgMezcla {
    width: 100%;
    height: 250px;
    display: block;
}

.simulator-info {
    padding: var(--sp-xs);
    background: rgba(0,0,0,0.4);
    text-align: center;
    font-size: var(--fs-xs);
    color: var(--neon-e);
}

.data-card {
    background: rgba(255,255,255,0.04);
    padding: 6px;
    margin-bottom: 6px;
    border-radius: 3px;
    border-left: 2px solid var(--neon-d);
    font-size: var(--fs-sm);
}

.data-card.highlight {
    border-left-color: var(--neon-i);
    background: rgba(255,0,255,0.04);
}

.data-label {
    color: #a0a0c0;
    font-size: var(--fs-xs);
}

.data-value {
    color: var(--neon-d);
    font-weight: bold;
}

.estadisticas {
    margin-top: var(--sp-sm);
    padding-top: var(--sp-xs);
    border-top: 1px solid rgba(255,255,255,0.08);
    font-size: var(--fs-sm);
}

.stat-item {
    display: flex;
    justify-content: space-between;
    margin-bottom: 4px;
}

.stat-value {
    color: var(--neon-d);
    font-weight: bold;
}

/* ========================================
   QUIZ COMPACTO
======================================== */
.quiz-question {
    background: var(--bg-card);
    padding: var(--sp-sm);
    border-radius: 4px;
    margin-bottom: var(--sp-sm);
    border: 1px solid rgba(255,107,107,0.2);
}

.quiz-header {
    display: flex;
    align-items: center;
    gap: var(--sp-xs);
    margin-bottom: var(--sp-xs);
}

.quiz-num {
    background: var(--neon-v);
    color: black;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--fs-sm);
    font-weight: bold;
    flex-shrink: 0;
}

.quiz-options {
    display: grid;
    gap: 4px;
    margin: var(--sp-xs) 0;
}

.quiz-option {
    padding: 8px;
    background: rgba(255,255,255,0.04);
    border: 1px solid rgba(255,255,255,0.12);
    color: #e0f0ff;
    cursor: pointer;
    text-align: left;
    font-size: var(--fs-sm);
    transition: all 0.2s;
    border-radius: 3px;
    display: flex;
    align-items: center;
    gap: var(--sp-xs);
}

.quiz-option:hover {
    background: rgba(255,255,255,0.08);
    transform: translateX(2px);
}

.quiz-option.correct {
    background: rgba(57,255,20,0.08);
    border-color: var(--neon-c);
}

.quiz-option.incorrect {
    background: rgba(255,107,107,0.08);
    border-color: var(--neon-v);
}

.option-letter {
    background: rgba(255,255,255,0.1);
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    font-weight: bold;
    flex-shrink: 0;
    font-size: var(--fs-xs);
}

.quiz-feedback {
    padding: var(--sp-xs);
    background: rgba(0,0,0,0.3);
    border-radius: 3px;
    margin-top: var(--sp-xs);
    font-size: var(--fs-sm);
}

.feedback-correct,
.feedback-incorrect {
    padding: 6px;
    border-radius: 3px;
    margin-bottom: 4px;
    font-size: var(--fs-sm);
}

.feedback-correct {
    background: rgba(57,255,20,0.08);
    border: 1px solid var(--neon-c);
}

.feedback-incorrect {
    background: rgba(255,107,107,0.08);
    border: 1px solid var(--neon-v);
}

/* ========================================
   ERRORES COMUNES COMPACTOS
======================================== */
.error-card {
    background: var(--bg-card);
    border: 1px solid var(--neon-a);
    border-radius: 4px;
    margin-bottom: var(--sp-sm);
    overflow: hidden;
}

.error-header {
    background: rgba(255,255,0,0.04);
    padding: var(--sp-xs);
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: var(--fs-sm);
}

.error-content {
    padding: var(--sp-xs);
    border-top: 1px solid rgba(255,255,0,0.15);
    font-size: var(--fs-sm);
}

.error-ejemplo,
.error-correccion {
    padding: 6px;
    border-radius: 3px;
    margin-bottom: 6px;
    font-size: var(--fs-sm);
}

.error-ejemplo {
    background: rgba(255,107,107,0.08);
    border: 1px solid var(--neon-v);
}

.error-correccion {
    background: rgba(57,255,20,0.08);
    border: 1px solid var(--neon-c);
}

/* ========================================
   PROBLEMAS EXAMEN COMPACTOS
======================================== */
.problema-card {
    background: var(--bg-card);
    padding: var(--sp-sm);
    border-radius: 4px;
    margin-bottom: var(--sp-sm);
    border: 1px solid var(--neon-v);
}

.problema-header {
    display: flex;
    align-items: center;
    gap: var(--sp-xs);
    margin-bottom: var(--sp-xs);
}

.problema-num {
    background: var(--neon-v);
    color: black;
    width: 28px;
    height: 28px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    font-size: var(--fs-sm);
    flex-shrink: 0;
}

.problema-enunciado {
    margin-bottom: var(--sp-xs);
    font-size: var(--fs-sm);
}

.problema-espacio textarea {
    width: 100%;
    padding: 8px;
    background: rgba(0,0,0,0.4);
    color: white;
    border: 1px solid var(--neon-v);
    border-radius: 3px;
    font-size: var(--fs-sm);
    font-family: inherit;
    resize: vertical;
    min-height: 80px;
}

.btn-verificar {
    padding: 8px 12px;
    background: var(--neon-v);
    color: black;
    border: none;
    border-radius: 3px;
    font-size: var(--fs-sm);
    font-weight: bold;
    cursor: pointer;
    margin-top: var(--sp-xs);
    transition: all 0.2s;
}

.btn-verificar:hover {
    transform: scale(1.03);
}

.problema-solucion {
    padding: var(--sp-xs);
    background: rgba(57,255,20,0.08);
    border: 1px solid var(--neon-c);
    border-radius: 3px;
    margin-top: var(--sp-xs);
    font-size: var(--fs-sm);
}

/* ========================================
   CIERRE METACOGNITIVO COMPACTO
======================================== */
.cierre-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--sp-sm);
}

.autoevaluacion,
.reflexion,
.plan-estudio,
.recursos {
    background: var(--bg-card);
    padding: var(--sp-sm);
    border-radius: 4px;
}

.slider-group {
    margin-bottom: var(--sp-sm);
}

.autoeval-slider {
    width: 100%;
    margin: 4px 0;
}

.slider-labels {
    display: flex;
    justify-content: space-between;
    font-size: var(--fs-xs);
    color: #a0a0c0;
}

.btn-guardar {
    padding: 8px;
    background: linear-gradient(45deg, var(--neon-c), #00AA00);
    color: white;
    border: none;
    border-radius: 3px;
    font-size: var(--fs-sm);
    font-weight: bold;
    cursor: pointer;
    width: 100%;
    transition: all 0.2s;
}

.btn-guardar:hover {
    transform: scale(1.02);
}

.pregunta-reflexion {
    margin-bottom: var(--sp-sm);
    font-size: var(--fs-sm);
}

.pregunta-reflexion textarea {
    width: 100%;
    padding: 8px;
    background: rgba(0,0,0,0.4);
    color: white;
    border: 1px solid var(--neon-c);
    border-radius: 3px;
    font-size: var(--fs-sm);
    font-family: inherit;
    resize: vertical;
    min-height: 60px;
    margin-top: 4px;
}

.plan-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: var(--sp-xs);
}

.plan-card {
    background: rgba(0,0,0,0.3);
    padding: 8px;
    border-radius: 3px;
    border: 1px solid var(--neon-e);
    font-size: var(--fs-sm);
}

.plan-card ul {
    padding-left: var(--sp-sm);
    margin-top: 4px;
}

.plan-card li {
    margin-bottom: 2px;
    font-size: var(--fs-xs);
}

.recursos-links {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.recurso-link {
    padding: 6px 8px;
    background: rgba(0,150,255,0.08);
    border: 1px solid #0096FF;
    border-radius: 3px;
    color: #0096FF;
    text-decoration: none;
    font-size: var(--fs-sm);
    transition: all 0.2s;
}

.recurso-link:hover {
    background: rgba(0,150,255,0.15);
    transform: translateX(2px);
}

/* ========================================
   UTILIDADES COMPACTAS
======================================== */
.dato-neon {
    display: inline-block;
    padding: 2px 8px;
    background: rgba(0,255,157,0.08);
    border: 1px solid var(--neon-d);
    border-radius: 10px;
    color: var(--neon-d);
    font-size: var(--fs-xs);
    margin-top: 4px;
}

.btn-recomendar {
    padding: 8px;
    background: linear-gradient(45deg, var(--neon-i), #CC00AA);
    color: white;
    border: none;
    border-radius: 3px;
    font-size: var(--fs-sm);
    font-weight: bold;
    cursor: pointer;
    transition: all 0.2s;
}

.btn-recomendar:hover {
    transform: scale(1.02);
}

.btn-mini {
    padding: 4px 8px;
    background: rgba(57,255,20,0.08);
    border: 1px solid var(--neon-c);
    color: var(--neon-c);
    border-radius: 3px;
    font-size: var(--fs-xs);
    cursor: pointer;
    transition: all 0.2s;
}

.btn-retry {
    padding: 8px 12px;
    background: linear-gradient(45deg, var(--neon-i), #CC00AA);
    color: white;
    border: none;
    border-radius: 3px;
    font-size: var(--fs-sm);
    font-weight: bold;
    cursor: pointer;
    transition: all 0.2s;
}

/* ========================================
   ANIMACIONES LIGERAS
======================================== */
@keyframes highlight {
    0% { background-color: rgba(57,255,20,0); }
    50% { background-color: rgba(57,255,20,0.05); }
    100% { background-color: rgba(57,255,20,0); }
}

/* ========================================
   MATHJAX COMPACTO
======================================== */
.mjx-chtml {
    font-size: 1em !important;
}

.formula-display {
    margin: var(--sp-sm) 0;
    padding: var(--sp-xs);
    background: rgba(0,0,0,0.3);
    border-radius: 3px;
    border-left: 2px solid var(--neon-c);
    font-size: var(--fs-sm);
}

/* ========================================
   RESPONSIVE FINAL
======================================== */
@media (max-width: 768px) {
    .leccion-quimica-mezclas {
        padding: var(--sp-sm);
    }
    
    .titulo-leccion {
        font-size: var(--fs-md);
    }
    
    .objetivos-grid,
    .contexto-grid,
    .comparativa-grid,
    .metodos-grid,
    .plan-grid {
        grid-template-columns: 1fr;
    }
    
    .simulator-container {
        grid-template-columns: 1fr;
    }
    
    .cierre-container {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 480px) {
    :root {
        --fs-xs: 0.7rem;
        --fs-sm: 0.8rem;
        --fs-base: 0.9rem;
        --fs-md: 1rem;
        --fs-lg: 1.1rem;
    }
    
    .leccion-quimica-mezclas {
        padding: var(--sp-xs);
    }
}

/* ========================================
   ERRORES COMUNES COMPACTOS - CORREGIDO
======================================== */
.error-card {
    background: var(--bg-card);
    border: 1px solid var(--neon-a);
    border-radius: 4px;
    margin-bottom: var(--sp-sm);
    overflow: hidden;
    transition: all 0.2s ease;
}

.error-header {
    background: rgba(255,255,0,0.04);
    padding: var(--sp-xs) var(--sp-sm);
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: var(--fs-sm);
    transition: background 0.2s ease;
}

.error-header:hover {
    background: rgba(255,255,0,0.08);
}

.error-toggle {
    font-size: var(--fs-md);
    font-weight: bold;
    color: var(--neon-a);
    min-width: 20px;
    text-align: center;
    transition: transform 0.2s ease;
}

/* ESTADO ABIERTO */
.error-card.active {
    border-color: var(--neon-c);
    box-shadow: 0 2px 8px rgba(57,255,20,0.1);
}

.error-card.active .error-header {
    background: rgba(57,255,20,0.05);
    border-bottom: 1px solid rgba(57,255,20,0.2);
}

.error-card.active .error-toggle {
    color: var(--neon-c);
    transform: rotate(180deg);
}

/* CONTENIDO - VISIBLE POR DEFECTO EN DISPOSITIVOS GRANDES */
.error-content {
    padding: var(--sp-sm);
    border-top: 1px solid rgba(255,255,0,0.15);
    font-size: var(--fs-sm);
    max-height: 500px;
    opacity: 1;
    overflow: hidden;
    transition: all 0.3s ease;
}

/* Estado inicial para m칩viles */
@media (max-width: 768px) {
    .error-content {
        max-height: 0;
        opacity: 0;
        padding: 0 var(--sp-sm);
        border-top: none;
    }
    
    .error-card.active .error-content {
        max-height: 500px;
        opacity: 1;
        padding: var(--sp-sm);
        border-top: 1px solid rgba(255,255,0,0.15);
    }
}

/* Elementos dentro del error */
.error-ejemplo,
.error-correccion {
    padding: var(--sp-sm);
    border-radius: 3px;
    margin-bottom: var(--sp-sm);
    font-size: var(--fs-sm);
    border-left: 3px solid;
}

.error-ejemplo {
    background: rgba(255,107,107,0.08);
    border-left-color: var(--neon-v);
}

.error-correccion {
    background: rgba(57,255,20,0.08);
    border-left-color: var(--neon-c);
}

.error-practica {
    margin-top: var(--sp-sm);
    padding-top: var(--sp-sm);
    border-top: 1px dashed rgba(255,255,255,0.1);
}

.error-practica p {
    margin-bottom: var(--sp-xs);
    font-weight: bold;
    color: var(--neon-e);
}

.btn-mini {
    padding: 6px 12px;
    background: rgba(57,255,20,0.1);
    border: 1px solid var(--neon-c);
    color: var(--neon-c);
    border-radius: 3px;
    font-size: var(--fs-sm);
    cursor: pointer;
    transition: all 0.2s ease;
    display: inline-block;
    margin-top: var(--sp-xs);
}

.btn-mini:hover {
    background: rgba(57,255,20,0.2);
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(57,255,20,0.2);
}

.solucion {
    margin-top: var(--sp-sm);
    padding: var(--sp-sm);
    background: rgba(0,0,0,0.3);
    border-radius: 3px;
    border-left: 3px solid var(--neon-d);
    font-size: var(--fs-sm);
    animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-5px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Tabla dentro de error */
.error-tabla {
    margin-top: var(--sp-sm);
    overflow-x: auto;
}

.error-tabla table {
    width: 100%;
    border-collapse: collapse;
    font-size: var(--fs-sm);
    min-width: 300px;
}

.error-tabla th {
    background: rgba(255,255,0,0.1);
    color: var(--neon-a);
    padding: 8px;
    text-align: left;
    border-bottom: 2px solid var(--neon-a);
}

.error-tabla td {
    padding: 8px;
    border-bottom: 1px solid rgba(255,255,0,0.15);
}

.error-tabla tr:hover {
    background: rgba(255,255,0,0.05);
}

/* ========================================
   VARIABLES CYBERPUNK EDUCATIVAS COMPACTAS
======================================== */
:root {
    /* PALETA NEON COMPACTA */
    --neon-c: #39FF14;    /* Conceptos */
    --neon-i: #FF00FF;    /* Interactivo */
    --neon-e: #00FFFF;    /* Ejemplos */
    --neon-a: #FFFF00;    /* Alerta */
    --neon-v: #FF6B6B;    /* Evaluaci칩n */
    --neon-d: #00FF9D;    /* Datos */
    
    /* FONDOS COMPACTOS */
    --bg-main: #0a0a1a;
    --bg-sec: rgba(0,0,0,0.4);
    --bg-card: rgba(10,10,26,0.85);
    
    /* COLORES TEM츼TICOS SUSTANCIAS PURAS */
    --c-elemento: #2196F3;    /* Azul - Elementos */
    --c-compuesto: #4CAF50;   /* Verde - Compuestos */
    --c-electrolisis: #9C27B0; /* P칰rpura - Electr칩lisis */
    
    /* TIPOGRAF칈A COMPACTA */
    --fs-xs: 0.75rem;   /* 12px */
    --fs-sm: 0.875rem;  /* 14px */
    --fs-base: 1rem;    /* 16px */
    --fs-md: 1.125rem;  /* 18px */
    --fs-lg: 1.25rem;   /* 20px */
    
    /* ESPACIADO COMPACTO */
    --sp-xxs: 4px;
    --sp-xs: 8px;
    --sp-sm: 12px;
    --sp-md: 16px;
    --sp-lg: 20px;
}

/* ========================================
   ESTILOS ESPEC칈FICOS PARA SUSTANCIAS PURAS
======================================== */
.leccion-quimica-puras {
    background: var(--bg-main);
    color: #e0f0ff;
    font-family: 'Courier New', monospace;
    font-size: var(--fs-base);
    line-height: 1.4;
    padding: var(--sp-md);
    max-width: 1000px;
    margin: 0 auto;
    position: relative;
    overflow-x: hidden;
}

/* Grid sutil */
.leccion-quimica-puras::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background-image: 
        linear-gradient(rgba(57,255,20,0.01) 1px, transparent 1px),
        linear-gradient(90deg, rgba(57,255,20,0.01) 1px, transparent 1px);
    background-size: 30px 30px;
    pointer-events: none;
    z-index: 0;
}

/* Scanlines */
.leccion-quimica-puras::after {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background: linear-gradient(transparent 98%, rgba(0,255,255,0.008) 100%);
    background-size: 100% 3px;
    pointer-events: none;
    z-index: 1;
    animation: scan 10s linear infinite;
}

@keyframes scan {
    0% { transform: translateY(0); }
    100% { transform: translateY(5px); }
}

/* Elemento vs Compuesto */
.comp-card.elemento {
    border-color: var(--c-elemento);
    box-shadow: 0 2px 6px rgba(33,150,243,0.15);
}

.comp-card.compuesto {
    border-color: var(--c-compuesto);
    box-shadow: 0 2px 6px rgba(76,175,80,0.15);
}

/* Reacciones qu칤micas */
.reacciones-detalle {
    background: var(--bg-card);
    padding: var(--sp-sm);
    border-radius: 4px;
    margin-top: var(--sp-sm);
    border: 1px solid var(--neon-i);
}

.reaccion-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--sp-sm);
    margin-top: var(--sp-sm);
}

.reaccion-card {
    background: rgba(0,0,0,0.3);
    padding: var(--sp-sm);
    border-radius: 4px;
    border: 1px solid rgba(57,255,20,0.2);
}

.reaccion-header {
    display: flex;
    align-items: center;
    gap: var(--sp-xs);
    margin-bottom: var(--sp-xs);
}

.reaccion-num {
    background: var(--neon-i);
    color: black;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    font-size: var(--fs-sm);
}

.reaccion-ecuacion {
    text-align: center;
    margin: var(--sp-xs) 0;
    padding: var(--sp-xs);
    background: rgba(0,0,0,0.4);
    border-radius: 3px;
    font-size: var(--fs-sm);
}

/* Simulador electr칩lisis espec칤fico */
.btn-iniciar, .btn-pausar {
    margin-top: var(--sp-xs);
}

.btn-iniciar {
    background: linear-gradient(45deg, var(--c-electrolisis), #7B1FA2);
}

.btn-pausar {
    background: linear-gradient(45deg, #FF9800, #F57C00);
}

.control-slider {
    width: 100%;
    margin: var(--sp-xs) 0;
}

.slider-value {
    display: flex;
    justify-content: space-between;
    font-size: var(--fs-sm);
    margin-top: 2px;
}

.slider-value .hint {
    color: #a0a0c0;
    font-size: var(--fs-xs);
}

/* Ley de Proust */
.proust-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: var(--sp-sm);
    margin: var(--sp-sm) 0;
}

.proust-item {
    display: flex;
    align-items: center;
    gap: var(--sp-xs);
    padding: var(--sp-xs);
    background: rgba(57,255,20,0.05);
    border-radius: 4px;
    border: 1px solid rgba(57,255,20,0.2);
}

.proust-icon {
    font-size: 1.5rem;
}

.proust-content {
    flex-grow: 1;
}

/* ========================================
   ERRORES COMUNES - CORREGIDO DEFINITIVAMENTE
======================================== */
.errors-section {
    margin-top: var(--sp-lg);
}

.errors-container {
    margin-top: var(--sp-md);
}

/* TARJETA DE ERROR - ESTADO INICIAL CERRADO */
.error-card {
    background: var(--bg-card);
    border: 1px solid var(--neon-a);
    border-radius: 6px;
    margin-bottom: var(--sp-sm);
    overflow: hidden;
    transition: all 0.3s ease;
    cursor: pointer;
}

/* HEADER DEL ERROR - SIEMPRE VISIBLE */
.error-header {
    background: rgba(255, 255, 0, 0.08);
    padding: var(--sp-sm) var(--sp-md);
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: var(--fs-sm);
    transition: background 0.3s ease;
    min-height: 50px;
}

.error-header:hover {
    background: rgba(255, 255, 0, 0.12);
}

.error-header h3 {
    margin: 0;
    font-size: var(--fs-sm);
    color: var(--neon-a);
    flex-grow: 1;
}

/* TOGGLE (+ / 칑) */
.error-toggle {
    font-size: var(--fs-lg);
    font-weight: bold;
    color: var(--neon-a);
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.3s ease;
    flex-shrink: 0;
}

/* CONTENIDO DEL ERROR - OCULTO INICIALMENTE */
.error-content {
    padding: 0;
    max-height: 0;
    opacity: 0;
    overflow: hidden;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

/* ESTADO ABIERTO */
.error-card.active {
    border-color: var(--neon-c);
    box-shadow: 0 2px 8px rgba(57, 255, 20, 0.15);
}

.error-card.active .error-header {
    background: rgba(57, 255, 20, 0.08);
    border-bottom: 1px solid rgba(57, 255, 20, 0.2);
}

.error-card.active .error-toggle {
    color: var(--neon-c);
    transform: rotate(45deg); /* Cambia + a 칑 */
}

.error-card.active .error-content {
    padding: var(--sp-md);
    max-height: 1000px; /* Suficiente para el contenido */
    opacity: 1;
    overflow: visible;
}

/* ELEMENTOS DENTRO DEL CONTENIDO */
.error-ejemplo,
.error-correccion {
    padding: var(--sp-sm);
    border-radius: 4px;
    margin-bottom: var(--sp-sm);
    font-size: var(--fs-sm);
    border-left: 3px solid;
}

.error-ejemplo {
    background: rgba(255, 107, 107, 0.08);
    border-left-color: var(--neon-v);
}

.error-correccion {
    background: rgba(57, 255, 20, 0.08);
    border-left-color: var(--neon-c);
}

.error-practica {
    margin-top: var(--sp-md);
    padding-top: var(--sp-sm);
    border-top: 1px dashed rgba(255, 255, 255, 0.2);
}

.error-practica p {
    margin-bottom: var(--sp-xs);
    font-weight: bold;
    color: var(--neon-e);
}

/* BOT칍N VER SOLUCI칍N */
.btn-mini {
    padding: 6px 12px;
    background: rgba(57, 255, 20, 0.1);
    border: 1px solid var(--neon-c);
    color: var(--neon-c);
    border-radius: 3px;
    font-size: var(--fs-sm);
    cursor: pointer;
    transition: all 0.2s ease;
    display: inline-block;
    margin-top: var(--sp-xs);
}

.btn-mini:hover {
    background: rgba(57, 255, 20, 0.2);
    transform: translateY(-1px);
}

/* SOLUCI칍N */
.solucion {
    margin-top: var(--sp-sm);
    padding: var(--sp-sm);
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
    border-left: 3px solid var(--neon-d);
    font-size: var(--fs-sm);
    animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-5px); }
    to { opacity: 1; transform: translateY(0); }
}

/* TABLA DENTRO DE ERROR */
.error-tabla {
    margin-top: var(--sp-sm);
    overflow-x: auto;
}

.error-tabla table {
    width: 100%;
    border-collapse: collapse;
    font-size: var(--fs-sm);
    min-width: 300px;
}

.error-tabla th {
    background: rgba(255, 255, 0, 0.1);
    color: var(--neon-a);
    padding: 8px;
    text-align: left;
    border-bottom: 2px solid var(--neon-a);
}

.error-tabla td {
    padding: 8px;
    border-bottom: 1px solid rgba(255, 255, 0, 0.15);
}

.error-tabla tr:hover {
    background: rgba(255, 255, 0, 0.05);
}

/* ========================================
   VARIABLES ESPEC칈FICAS PARA ELEMENTOS
======================================== */
:root {
    /* Colores para categor칤as de elementos */
    --color-metales: #FF9800;
    --color-no-metales: #2196F3;
    --color-metaloides: #4CAF50;
    --color-gases-nobles: #9C27B0;
    --color-lantanidos: #00BCD4;
    --color-actinidos: #E91E63;
    
    /* Colores para estados */
    --color-solido: #795548;
    --color-liquido: #2196F3;
    --color-gas: #4CAF50;
}

/* ========================================
   ESTILOS PARA TABLA PERI칍DICA
======================================== */
.tabla-periodica-container {
    background: var(--bg-card);
    padding: var(--sp-md);
    border-radius: 6px;
    border: 1px solid var(--neon-i);
    margin-bottom: var(--sp-lg);
}

.tabla-controls {
    background: rgba(0,0,0,0.3);
    padding: var(--sp-sm);
    border-radius: 4px;
    margin-bottom: var(--sp-md);
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--sp-sm);
}

.filtro-group, .busqueda-group {
    display: flex;
    flex-direction: column;
    gap: var(--sp-xs);
}

.btn-filtrar, .btn-reset {
    padding: 8px;
    border: none;
    border-radius: 4px;
    font-size: var(--fs-sm);
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--sp-xs);
}

.btn-filtrar {
    background: linear-gradient(45deg, var(--neon-i), #CC00AA);
    color: white;
}

.btn-reset {
    background: rgba(255,255,255,0.1);
    color: #e0f0ff;
    border: 1px solid rgba(255,255,255,0.2);
}

.tabla-periodica-grid {
    display: grid;
    grid-template-columns: repeat(18, 1fr);
    gap: 4px;
    margin: var(--sp-md) 0;
    padding: var(--sp-sm);
    background: rgba(0,0,0,0.5);
    border-radius: 4px;
    min-height: 300px;
}

.elemento-celda {
    background: var(--color-metales);
    color: white;
    border-radius: 4px;
    padding: 6px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s;
    font-size: var(--fs-xs);
    text-align: center;
    min-height: 60px;
    position: relative;
    overflow: hidden;
}

.elemento-celda:hover {
    transform: scale(1.05);
    box-shadow: 0 0 8px currentColor;
    z-index: 10;
}

.elemento-celda.selected {
    outline: 2px solid var(--neon-c);
    outline-offset: 2px;
    z-index: 20;
}

/* Colores seg칰n categor칤a */
.elemento-celda[data-categoria="metales"] { background: var(--color-metales); }
.elemento-celda[data-categoria="no-metales"] { background: var(--color-no-metales); }
.elemento-celda[data-categoria="metaloides"] { background: var(--color-metaloides); }
.elemento-celda[data-categoria="gases-nobles"] { background: var(--color-gases-nobles); }
.elemento-celda[data-categoria="lantanidos"] { background: var(--color-lantanidos); }
.elemento-celda[data-categoria="actinidos"] { background: var(--color-actinidos); }

/* Estados */
.elemento-celda[data-estado="solido"] { border-bottom: 3px solid var(--color-solido); }
.elemento-celda[data-estado="liquido"] { border-bottom: 3px solid var(--color-liquido); }
.elemento-celda[data-estado="gas"] { border-bottom: 3px solid var(--color-gas); }

.elemento-numero {
    position: absolute;
    top: 2px;
    left: 4px;
    font-size: 8px;
    opacity: 0.8;
}

.elemento-simbolo {
    font-size: var(--fs-md);
    font-weight: bold;
    margin: 2px 0;
}

.elemento-nombre {
    font-size: 8px;
    opacity: 0.9;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    max-width: 100%;
}

.elemento-info {
    background: var(--bg-card);
    padding: var(--sp-md);
    border-radius: 6px;
    border: 1px solid var(--neon-d);
    margin-top: var(--sp-md);
}

.info-placeholder {
    text-align: center;
    padding: var(--sp-lg);
    color: #a0a0c0;
}

.placeholder-icon {
    font-size: 3rem;
    margin-bottom: var(--sp-sm);
    opacity: 0.5;
}

.elemento-detalle-tabla {
    animation: fadeIn 0.5s ease;
}

.detalle-header {
    display: flex;
    align-items: center;
    gap: var(--sp-md);
    margin-bottom: var(--sp-md);
}

.detalle-simbolo {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--fs-lg);
    font-weight: bold;
    color: white;
    box-shadow: 0 4px 8px rgba(0,0,0,0.3);
}

.detalle-propiedades {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: var(--sp-sm);
    margin-bottom: var(--sp-md);
}

.propiedad {
    background: rgba(255,255,255,0.05);
    padding: var(--sp-sm);
    border-radius: 4px;
    display: flex;
    justify-content: space-between;
}

/* ========================================
   ESTILOS PARA F칍RMULAS QU칈MICAS
======================================== */
.formulas-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--sp-md);
    margin: var(--sp-md) 0;
}

.formula-card {
    background: var(--bg-card);
    padding: var(--sp-md);
    border-radius: 6px;
    border: 1px solid var(--neon-e);
    transition: transform 0.3s;
}

.formula-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 4px 12px rgba(0,255,255,0.2);
}

.formula-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--sp-md);
    padding-bottom: var(--sp-sm);
    border-bottom: 1px solid rgba(0,255,255,0.2);
}

.formula-header h4 {
    font-size: var(--fs-lg);
    color: var(--neon-e);
    margin: 0;
}

.formula-tipo {
    background: rgba(0,255,255,0.1);
    padding: 4px 8px;
    border-radius: 12px;
    font-size: var(--fs-xs);
    color: var(--neon-e);
}

.formula-desglose {
    margin-bottom: var(--sp-md);
}

.elemento-ficha {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--sp-xs);
    background: rgba(255,255,255,0.05);
    border-radius: 4px;
    margin-bottom: 4px;
}

.simbolo {
    font-weight: bold;
    color: var(--neon-d);
    font-size: var(--fs-md);
}

.cantidad {
    background: rgba(57,255,20,0.1);
    padding: 2px 8px;
    border-radius: 10px;
    font-size: var(--fs-xs);
    color: var(--neon-c);
}

/* ========================================
   ESTILOS PARA ASTR칍POS
======================================== */
.alotropo-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
    gap: var(--sp-sm);
    margin-top: var(--sp-sm);
}

.alotropo-card {
    background: rgba(0,0,0,0.3);
    padding: var(--sp-sm);
    border-radius: 4px;
    text-align: center;
    border: 1px solid rgba(255,255,255,0.1);
}

.alotropo-icon {
    font-size: 1.5rem;
    margin-bottom: var(--sp-xs);
}

/* ========================================
   ESTILOS PARA LEY DE PROUST
======================================== */
.proust-ejemplos {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--sp-md);
    margin: var(--sp-md) 0;
}

.proust-ejemplo {
    background: rgba(57,255,20,0.05);
    padding: var(--sp-md);
    border-radius: 6px;
    border: 1px solid rgba(57,255,20,0.2);
}

.ejemplo-header {
    display: flex;
    align-items: center;
    gap: var(--sp-sm);
    margin-bottom: var(--sp-sm);
}

.ejemplo-num {
    background: var(--neon-c);
    color: black;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
}

.proporcion {
    display: flex;
    align-items: center;
    gap: var(--sp-xs);
    margin-bottom: var(--sp-xs);
    padding: var(--sp-xs);
    background: rgba(0,0,0,0.3);
    border-radius: 4px;
}

.elemento {
    font-weight: bold;
    color: var(--neon-d);
    min-width: 30px;
}

.solucion {
    display: none;
    margin-top: var(--sp-md);
    padding: var(--sp-md);
    background: rgba(0,0,0,0.4);
    border-radius: 6px;
    border-left: 4px solid var(--neon-d);
    font-size: var(--fs-sm);
    animation: slideIn 0.5s ease;
}

@keyframes slideIn {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* ========================================
   RESPONSIVE ESPEC칈FICO
======================================== */
@media (max-width: 768px) {
    .tabla-periodica-grid {
        grid-template-columns: repeat(9, 1fr);
        font-size: 10px;
    }
    
    .elemento-celda {
        min-height: 50px;
        padding: 4px;
    }
    
    .elemento-simbolo {
        font-size: var(--fs-sm);
    }
    
    .elemento-nombre {
        display: none;
    }
    
    .tabla-controls {
        grid-template-columns: 1fr;
    }
    
    .formulas-grid {
        grid-template-columns: 1fr;
    }
    
    .proust-ejemplos {
        grid-template-columns: 1fr;
    }
}

/* ============================================
   ESTILOS ESPEC칈FICOS PARA LECCI칍N DE MEZCLAS
   ============================================ */

.leccion-quimica-mezclas .dato-neon {
    display: inline-block;
    padding: 4px 8px;
    background: rgba(0, 255, 157, 0.1);
    border: 1px solid var(--neon-dato);
    border-radius: 12px;
    font-size: 0.8rem;
    color: var(--neon-dato);
    margin-top: 8px;
}

.leccion-quimica-mezclas .metodo-icon {
    font-size: 1.8rem;
    margin-bottom: 8px;
    display: block;
}

.leccion-quimica-mezclas .metodo-datos {
    font-size: 0.85rem;
    margin-top: 10px;
}

.leccion-quimica-mezclas .metodo-datos .dato {
    margin-bottom: 4px;
    color: #ccc;
}

.leccion-quimica-mezclas .svg-container {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 8px;
    padding: 10px;
    min-height: 300px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.leccion-quimica-mezclas .simulator-info {
    background: rgba(0, 0, 0, 0.3);
    padding: 10px;
    border-radius: 4px;
    margin-top: 10px;
    text-align: center;
    font-size: 0.9rem;
    color: var(--neon-ejemplo);
}

.leccion-quimica-mezclas .estadisticas {
    margin-top: 20px;
    padding-top: 15px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.leccion-quimica-mezclas .stat-item {
    display: flex;
    justify-content: space-between;
    margin-bottom: 6px;
    font-size: 0.85rem;
}

.leccion-quimica-mezclas .stat-value {
    color: var(--neon-dato);
    font-weight: bold;
}

.leccion-quimica-mezclas .error-toggle {
    font-size: 1.2rem;
    cursor: pointer;
}

.leccion-quimica-mezclas .problema-espacio textarea {
    width: 100%;
    padding: 12px;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 4px;
    color: #e0f0ff;
    font-family: inherit;
    resize: vertical;
}

.leccion-quimica-mezclas .slider-group {
    margin-bottom: 15px;
}

.leccion-quimica-mezclas .autoeval-slider {
    width: 100%;
    margin: 8px 0;
}

.leccion-quimica-mezclas .slider-labels {
    display: flex;
    justify-content: space-between;
    font-size: 0.8rem;
    color: #aaa;
}

/* ========================================
   ESTILOS ESPEC칈FICOS PARA LECCI칍N DE SEPARACI칍N
   A침adir al archivo CSS principal
======================================== */

/* Animaciones espec칤ficas para simulaci칩n */
@keyframes vaporAscendente {
    0% { transform: translateY(0) scale(1); opacity: 0; }
    50% { transform: translateY(-50px) scale(1.2); opacity: 1; }
    100% { transform: translateY(-100px) scale(0.8); opacity: 0; }
}

@keyframes platoActivo {
    0%, 100% { fill: rgba(255, 255, 255, 0.2); }
    50% { fill: rgba(0, 255, 255, 0.5); }
}

@keyframes fraccionRecibida {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
}

/* Clases espec칤ficas para gr치ficos */
.temp-chart-axis {
    stroke: #4D96FF;
    stroke-width: 1;
}

.temp-chart-line {
    stroke: #FF6B6B;
    stroke-width: 2;
    fill: none;
}

.temp-chart-point {
    fill: #FFD93D;
    stroke: #FF6B6B;
    stroke-width: 1;
}

/* Estados de simulaci칩n */
.simulacion-activa .plato-teorico {
    animation: platoActivo 2s infinite;
}

.simulacion-activa #vaporAnimado {
    animation: vaporAscendente 3s infinite;
}

.fraccion-salida.recibiendo {
    animation: fraccionRecibida 0.5s ease;
}

/* Indicadores de nivel */
.nivel-completado {
    background: var(--neon-seguridad) !important;
    box-shadow: 0 0 10px var(--neon-seguridad);
}

.nivel-progreso {
    background: var(--neon-optimizacion) !important;
}

.nivel-pendiente {
    background: rgba(255, 255, 255, 0.1) !important;
}

/* Feedback espec칤fico para problemas */
.feedback-industrial {
    background: rgba(255, 107, 107, 0.1);
    border-left: 4px solid var(--neon-industrial);
    padding: 1rem;
    margin: 1rem 0;
    border-radius: 0 6px 6px 0;
}

.feedback-economico {
    background: rgba(255, 217, 61, 0.1);
    border-left: 4px solid var(--neon-optimizacion);
    padding: 1rem;
    margin: 1rem 0;
    border-radius: 0 6px 6px 0;
}

.feedback-seguridad {
    background: rgba(107, 207, 127, 0.1);
    border-left: 4px solid var(--neon-seguridad);
    padding: 1rem;
    margin: 1rem 0;
    border-radius: 0 6px 6px 0;
}

/* Responsive espec칤fico para simulador */
@media (max-width: 1024px) {
    .simulator-container {
        grid-template-areas: 
            "controls"
            "visualization"
            "data";
        grid-template-columns: 1fr;
        grid-template-rows: auto auto auto;
    }
    
    .simulator-controls { grid-area: controls; }
    .simulator-visualization { grid-area: visualization; }
    .simulator-data { grid-area: data; }
    
    .columna-3d svg {
        max-width: 100%;
        height: auto;
    }
}

/* Impresi칩n optimizada */
@media print {
    .leccion-quimica-separacion {
        font-size: 12pt;
        line-height: 1.4;
    }
    
    .simulator-container,
    .quiz-container,
    .problemas-container {
        page-break-inside: avoid;
    }
    
    .titulo-leccion {
        color: black !important;
        background: none !important;
        -webkit-text-fill-color: black !important;
    }
    
    .data-card {
        border: 1px solid #ccc !important;
    }
}

/* ========================================
   CSS COMPACTO CORREGIDO - LECCI칍N SEPARACI칍N MEZCLAS
   Versi칩n: 1.1 - Optimizada y con correcciones
   ======================================== */

/* RESET COMPACTO */
.leccion-quimica-separacion * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

/* CONTENEDOR PRINCIPAL - CORREGIDO */
.leccion-quimica-separacion {
    width: 100% !important;
    max-width: 100% !important;
    min-height: 100vh;
    background: #0a0a1a;
    color: #e0f0ff;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    font-size: 14px;
    line-height: 1.4;
    padding: 15px;
    position: relative;
    overflow-x: hidden;
}

/* ELIMINAR CONFLICTOS DE GRID/SCANLINES - ESTOS CAUSAN PROBLEMAS */
.leccion-quimica-separacion::before,
.leccion-quimica-separacion::after {
    display: none !important;
}

/* CABECERA COMPACTA */
.leccion-header {
    text-align: center;
    margin-bottom: 20px;
    padding: 15px;
    background: rgba(0, 10, 30, 0.8);
    border-radius: 8px;
    border: 1px solid #39FF14;
    box-shadow: 0 0 10px rgba(57, 255, 20, 0.3);
}

.titulo-leccion {
    font-size: 24px;
    color: #39FF14;
    margin-bottom: 5px;
    text-shadow: 0 0 5px #39FF14;
}

.subtitulo {
    font-size: 16px;
    color: #00FFFF;
    opacity: 0.9;
}

.nivel-indicador {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin-top: 10px;
    flex-wrap: wrap;
}

.badge-nivel, .badge-tiempo, .badge-puntos {
    padding: 4px 12px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: bold;
}

/* PANEL OBJETIVOS COMPACTO */
.panel-objetivos {
    background: rgba(0, 20, 40, 0.7);
    padding: 15px;
    border-radius: 8px;
    margin-bottom: 20px;
    border-left: 3px solid #39FF14;
}

.seccion-titulo {
    font-size: 18px;
    color: #39FF14;
    margin-bottom: 15px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.objetivos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 10px;
}

.objetivo-card {
    background: rgba(10, 10, 26, 0.6);
    padding: 12px;
    border-radius: 6px;
    border: 1px solid rgba(57, 255, 20, 0.2);
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
    padding-left: 40px;
    min-height: 60px;
}

.objetivo-card:hover {
    border-color: #39FF14;
    transform: translateY(-2px);
}

.objetivo-checkbox {
    position: absolute;
    left: 12px;
    top: 12px;
    width: 20px;
    height: 20px;
    border: 2px solid #39FF14;
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #39FF14;
    font-size: 12px;
}

/* CONTEXTO REAL COMPACTO */
.contexto-real {
    background: rgba(0, 20, 40, 0.7);
    padding: 15px;
    border-radius: 8px;
    margin-bottom: 20px;
    border-left: 3px solid #00FF9D;
}

.contexto-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 10px;
}

.contexto-card {
    background: rgba(10, 10, 26, 0.6);
    padding: 12px;
    border-radius: 6px;
    border: 1px solid rgba(0, 255, 157, 0.2);
}

.dato-neon {
    display: inline-block;
    padding: 4px 8px;
    background: rgba(0, 255, 157, 0.1);
    color: #00FF9D;
    border-radius: 4px;
    font-size: 12px;
    margin-top: 8px;
    font-family: monospace;
}

/* MAPA INTERACTIVO COMPACTO */
.mapa-interactivo {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 10px;
    margin-bottom: 20px;
}

.propiedad-columna {
    background: rgba(10, 10, 26, 0.8);
    border-radius: 6px;
    padding: 12px;
    border: 1px solid;
    transition: all 0.2s ease;
    cursor: pointer;
}

.metodo-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 6px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 4px;
    margin: 4px 0;
    font-size: 12px;
}

/* TABLA COMPACTA */
.tabla-container {
    overflow-x: auto;
    margin-bottom: 20px;
}

.tabla-avanzada {
    width: 100%;
    border-collapse: collapse;
    font-size: 12px;
    min-width: 800px;
}

.tabla-avanzada th {
    background: rgba(57, 255, 20, 0.1);
    color: #39FF14;
    padding: 10px;
    text-align: left;
    border-bottom: 2px solid #39FF14;
    white-space: nowrap;
}

.tabla-avanzada td {
    padding: 8px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    cursor: pointer;
}

.tabla-avanzada tr:hover {
    background: rgba(57, 255, 20, 0.05);
}

/* SIMULADOR COMPACTO - CORREGIDO */
.simulator-container {
    display: flex;
    flex-direction: column;
    gap: 15px;
    padding: 15px;
    background: rgba(0, 0, 0, 0.8);
    border: 2px solid #FF00FF;
    border-radius: 8px;
    margin-bottom: 20px;
    width: 100% !important;
    max-width: 100% !important;
    min-height: auto !important;
}

.simulator-controls,
.simulator-visualization,
.simulator-data {
    width: 100% !important;
    background: rgba(10, 10, 26, 0.8);
    padding: 12px;
    border-radius: 6px;
    border: 1px solid rgba(255, 0, 255, 0.3);
}

.control-group {
    margin-bottom: 12px;
}

.control-group label {
    display: block;
    margin-bottom: 4px;
    color: #FF00FF;
    font-size: 12px;
    font-weight: bold;
}

.control-select, .control-input {
    width: 100%;
    padding: 6px;
    background: rgba(0, 0, 0, 0.5);
    color: white;
    border: 1px solid #FF00FF;
    border-radius: 4px;
    font-size: 12px;
}

.control-slider {
    width: 100%;
    margin: 6px 0;
    height: 3px;
    background: rgba(255, 0, 255, 0.2);
    border-radius: 2px;
}

.btn-ejecutar, .btn-pausar, .btn-reset {
    width: 100%;
    padding: 8px;
    margin: 4px 0;
    border: none;
    border-radius: 4px;
    font-size: 12px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
}

.btn-ejecutar {
    background: linear-gradient(45deg, #FF00FF, #FF0088);
    color: white;
}

/* VISUALIZACI칍N SVG - CORREGIDA PARA SER VISIBLE */
.columna-3d {
    width: 100%;
    height: 300px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0, 0, 0, 0.9);
    border-radius: 6px;
    overflow: hidden;
}

.columna-3d svg {
    width: 100%;
    height: 100%;
    max-width: 400px;
}

/* DATOS EN TIEMPO REAL - VISIBLES */
.data-card {
    background: rgba(255, 255, 255, 0.05);
    padding: 8px;
    margin-bottom: 6px;
    border-radius: 4px;
    border-left: 3px solid #00FFFF;
}

.data-label {
    font-size: 11px;
    color: #aaa;
    margin-bottom: 2px;
}

.data-value {
    font-size: 14px;
    font-weight: bold;
    color: #00FFFF;
    font-family: monospace;
}

/* FORMULAS COMPACTAS */
.formulas-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 12px;
    margin-bottom: 20px;
}

.formula-card {
    background: rgba(0, 20, 40, 0.8);
    padding: 12px;
    border-radius: 6px;
    border: 1px solid #9D65C9;
}

.formula-display {
    background: rgba(0, 0, 0, 0.5);
    padding: 10px;
    border-radius: 4px;
    margin: 8px 0;
    overflow-x: auto;
    font-size: 13px;
}

/* QUIZ COMPACTO */
.quiz-question {
    background: rgba(10, 10, 26, 0.8);
    padding: 15px;
    border-radius: 6px;
    margin-bottom: 12px;
    border: 1px solid rgba(255, 107, 107, 0.3);
}

.quiz-options {
    display: grid;
    gap: 6px;
    margin: 10px 0;
}

.quiz-option {
    padding: 10px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: #e0f0ff;
    cursor: pointer;
    text-align: left;
    border-radius: 4px;
    font-size: 12px;
    transition: all 0.2s ease;
}

.quiz-option:hover {
    background: rgba(255, 255, 255, 0.1);
    transform: translateX(2px);
}

.quiz-option.correct {
    background: rgba(57, 255, 20, 0.1);
    border-color: #39FF14;
}

.quiz-option.incorrect {
    background: rgba(255, 107, 107, 0.1);
    border-color: #FF6B6B;
}

/* PROBLEMAS COMPACTOS */
.problema-card {
    background: rgba(10, 10, 26, 0.8);
    padding: 15px;
    border-radius: 6px;
    margin-bottom: 15px;
    border: 1px solid;
}

.problema-enunciado {
    margin: 10px 0;
    font-size: 13px;
}

.problema-espacio textarea {
    width: 100%;
    padding: 10px;
    background: rgba(0, 0, 0, 0.5);
    color: white;
    border: 1px solid #39FF14;
    border-radius: 4px;
    font-size: 12px;
    resize: vertical;
    min-height: 100px;
    margin-top: 10px;
}

/* ERRORES VISIBLES - CORREGIDOS */
.errores-avanzados {
    width: 100%;
    margin-bottom: 20px;
}

.error-avanzado {
    background: rgba(40, 10, 10, 0.8);
    border-radius: 6px;
    margin-bottom: 10px;
    overflow: hidden;
    border: 1px solid #FF6B6B;
}

.error-header {
    padding: 12px;
    background: rgba(255, 107, 107, 0.1);
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 13px;
}

.error-content {
    padding: 12px;
    display: block !important; /* FORZAR VISIBILIDAD */
    font-size: 12px;
}

.error-caso,
.error-coste,
.error-solucion {
    background: rgba(0, 0, 0, 0.3);
    padding: 8px;
    border-radius: 4px;
    margin-bottom: 8px;
    border-left: 3px solid;
}

/* CIERRE METACOGNITIVO COMPACTO */
.metacognicion-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 15px;
    margin-bottom: 20px;
}

.competencia-card {
    background: rgba(0, 0, 0, 0.5);
    padding: 12px;
    border-radius: 6px;
    margin-bottom: 10px;
    border: 1px solid;
}

.reflexion-preguntas textarea {
    width: 100%;
    padding: 8px;
    background: rgba(0, 0, 0, 0.5);
    color: white;
    border: 1px solid #39FF14;
    border-radius: 4px;
    font-size: 12px;
    resize: vertical;
    min-height: 60px;
    margin-top: 6px;
}

/* BOTONES GENERALES - VISIBLES */
button {
    padding: 8px 16px;
    border: none;
    border-radius: 4px;
    background: rgba(255, 0, 255, 0.2);
    color: white;
    cursor: pointer;
    font-size: 12px;
    transition: all 0.2s ease;
    border: 1px solid #FF00FF;
}

button:hover {
    background: rgba(255, 0, 255, 0.4);
    transform: translateY(-1px);
}

/* ANIMACIONES SUAVES */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.8; }
}

/* RESPONSIVE CORREGIDO */
@media (max-width: 768px) {
    .leccion-quimica-separacion {
        padding: 10px;
    }
    
    .titulo-leccion {
        font-size: 20px;
    }
    
    .objetivos-grid,
    .contexto-grid,
    .mapa-interactivo,
    .formulas-grid,
    .metacognicion-container {
        grid-template-columns: 1fr;
    }
    
    .simulator-container {
        padding: 10px;
    }
    
    .columna-3d {
        height: 250px;
    }
    
    .tabla-container {
        font-size: 11px;
    }
}

@media (max-width: 480px) {
    .leccion-header {
        padding: 10px;
    }
    
    .titulo-leccion {
        font-size: 18px;
    }
    
    .subtitulo {
        font-size: 14px;
    }
    
    .nivel-indicador {
        flex-direction: column;
        align-items: center;
        gap: 5px;
    }
    
    .simulator-controls,
    .simulator-visualization,
    .simulator-data {
        padding: 10px;
    }
}

/* CORRECCI칍N ESPEC칈FICA PARA ELEMENTOS OCULTOS */
#infoMetodo,
.quiz-feedback,
.problema-solucion-guia,
.error-content {
    display: block !important;
    opacity: 1 !important;
    visibility: visible !important;
    height: auto !important;
    max-height: none !important;
}

/* CORRECCI칍N PARA SVG - ASEGURAR VISIBILIDAD */
#columna3D,
#svgArbol {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    width: 100% !important;
    height: auto !important;
    min-height: 300px;
}

/* CORRECCI칍N PARA CONTENEDORES CON OVERFLOW */
.tabla-container,
.mapa-interactivo,
.formulas-grid {
    overflow: visible !important;
}

/* ASEGURAR QUE TODO EL CONTENIDO SEA VISIBLE */
.leccion-quimica-separacion > * {
    opacity: 1 !important;
    visibility: visible !important;
    display: block !important;
}

/* CLASES DE UTILIDAD PARA DEBUG */
.debug-border {
    border: 1px solid red !important;
}

.debug-bg {
    background: rgba(255, 0, 0, 0.1) !important;
}

/* CORRECCI칍N PARA MATHJAX - ASEGURAR RENDERIZADO */
.mathjax-container {
    display: inline !important;
    opacity: 1 !important;
    visibility: visible !important;
}

/* ASEGURAR QUE LOS CONTENEDORES NO EST칄N VAC칈OS */
.simulator-visualization:empty::before,
.quiz-container:empty::before,
.problemas-container:empty::before {
    content: "Contenido cargado correctamente";
    display: block;
    padding: 20px;
    text-align: center;
    color: #39FF14;
    background: rgba(57, 255, 20, 0.1);
    border: 1px dashed #39FF14;
    border-radius: 6px;
    font-family: monospace;
}

/* ESTILOS PARA SCROLLBAR PERSONALIZADO */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb {
    background: #39FF14;
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: #00FF9D;
}

/* CORRECCI칍N FINAL - FORZAR VISIBILIDAD COMPLETA */
body .leccion-quimica-separacion {
    display: block !important;
    width: 100% !important;
    height: auto !important;
    min-height: 100vh !important;
    overflow: visible !important;
}

/* CLASE PARA ELEMENTOS QUE DEBEN SER VISIBLES */
.force-visible {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    height: auto !important;
    width: auto !important;
    position: relative !important;
    z-index: 1000 !important;
}

/* ========================================
       VARIABLES Y RESET
    ======================================== */
    :root {
        /* COLORES CYBERPUNK */
        --neon-azul: #4D96FF;
        --neon-verde: #39FF14;
        --neon-rojo: #FF6B6B;
        --neon-morado: #9D65C9;
        --neon-cian: #00FFFF;
        
        /* FONDOS */
        --bg-oscuro: #0a0a1a;
        --bg-card: rgba(10, 10, 26, 0.8);
        --bg-seccion: rgba(0, 20, 40, 0.6);
        
        /* TIPOGRAF칈A */
        --font-base: 14px;
        --font-sm: 12px;
        --font-lg: 16px;
        
        /* ESPACIADO */
        --space-sm: 8px;
        --space-md: 12px;
        --space-lg: 16px;
    }
    
    /* RESET B츼SICO */
    .leccion-quimica-particulas * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
    }
    
    /* ========================================
       ESTRUCTURA PRINCIPAL
    ======================================== */
    .leccion-quimica-particulas {
        width: 100%;
        min-height: 100vh;
        background: var(--bg-oscuro);
        color: #e0f0ff;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        font-size: var(--font-base);
        line-height: 1.4;
        padding: var(--space-lg);
        position: relative;
    }
    
    /* ========================================
       CABECERA
    ======================================== */
    .leccion-header {
        text-align: center;
        margin-bottom: var(--space-lg);
        padding: var(--space-lg);
        background: rgba(0, 10, 30, 0.7);
        border-radius: 8px;
        border: 1px solid var(--neon-azul);
    }
    
    .titulo-leccion {
        font-size: 24px;
        color: var(--neon-verde);
        margin-bottom: var(--space-sm);
        display: flex;
        align-items: center;
        justify-content: center;
        gap: var(--space-sm);
    }
    
    .subtitulo {
        font-size: var(--font-lg);
        color: var(--neon-cian);
        opacity: 0.9;
        margin-bottom: var(--space-md);
    }
    
    .badges-compactos {
        display: flex;
        justify-content: center;
        gap: var(--space-sm);
        flex-wrap: wrap;
    }
    
    .badge {
        padding: 4px 12px;
        background: rgba(77, 150, 255, 0.2);
        border: 1px solid var(--neon-azul);
        border-radius: 20px;
        font-size: var(--font-sm);
        color: var(--neon-azul);
    }
    
    /* ========================================
       SECCIONES COMPACTAS
    ======================================== */
    .seccion-compacta {
        background: var(--bg-seccion);
        padding: var(--space-lg);
        border-radius: 8px;
        margin-bottom: var(--space-lg);
        border-left: 4px solid;
    }
    
    .seccion-compacta.objetivos {
        border-left-color: var(--neon-verde);
    }
    
    .seccion-compacta.datos-clave {
        border-left-color: var(--neon-cian);
    }
    
    .seccion-compacta.simulador {
        border-left-color: var(--neon-azul);
    }
    
    .seccion-compacta.calculadoras {
        border-left-color: var(--neon-morado);
    }
    
    .seccion-compacta.quiz {
        border-left-color: var(--neon-rojo);
    }
    
    .titulo-seccion {
        font-size: 18px;
        color: var(--neon-verde);
        margin-bottom: var(--space-md);
        display: flex;
        align-items: center;
        gap: var(--space-sm);
    }
    
    /* ========================================
       OBJETIVOS
    ======================================== */
    .grid-objetivos {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: var(--space-md);
    }
    
    .objetivo-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        border: 1px solid rgba(57, 255, 20, 0.2);
    }
    
    .objetivo-icon {
        font-size: 24px;
        margin-bottom: var(--space-sm);
    }
    
    /* ========================================
       TABLA COMPACTA
    ======================================== */
    .tabla-compacta-container {
        overflow-x: auto;
    }
    
    .tabla-compacta {
        width: 100%;
        border-collapse: collapse;
        font-size: var(--font-sm);
        min-width: 500px;
    }
    
    .tabla-compacta th {
        background: rgba(57, 255, 20, 0.1);
        color: var(--neon-verde);
        padding: var(--space-md);
        text-align: left;
        border-bottom: 2px solid var(--neon-verde);
    }
    
    .tabla-compacta td {
        padding: var(--space-md);
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .tabla-compacta tr:hover {
        background: rgba(57, 255, 20, 0.05);
    }
    
    /* ========================================
       SIMULADOR COMPACTO
    ======================================== */
    .simulador-compacto {
        display: flex;
        flex-direction: column;
        gap: var(--space-md);
    }
    
    .controles-simulador {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: var(--space-md);
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
    }
    
    .control-group {
        display: flex;
        flex-direction: column;
        gap: 4px;
    }
    
    .control-group label {
        font-size: var(--font-sm);
        color: var(--neon-azul);
    }
    
    .control-select {
        padding: 6px;
        background: rgba(0, 0, 0, 0.5);
        color: white;
        border: 1px solid var(--neon-azul);
        border-radius: 4px;
        font-size: var(--font-sm);
    }
    
    .btn-simular, .btn-reset {
        padding: 8px 16px;
        border: none;
        border-radius: 4px;
        font-size: var(--font-sm);
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 6px;
    }
    
    .btn-simular {
        background: linear-gradient(45deg, var(--neon-azul), #1976D2);
        color: white;
    }
    
    .btn-reset {
        background: rgba(255, 255, 255, 0.1);
        color: #e0f0ff;
        border: 1px solid rgba(255, 255, 255, 0.3);
    }
    
    .visualizacion-atomo {
        background: rgba(0, 0, 0, 0.5);
        border-radius: 6px;
        padding: var(--space-md);
        display: flex;
        justify-content: center;
    }
    
    .visualizacion-atomo svg {
        width: 100%;
        max-width: 400px;
        height: auto;
    }
    
    .datos-simulacion {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: var(--space-md);
    }
    
    .dato-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        border-left: 3px solid var(--neon-cian);
    }
    
    .dato-label {
        font-size: var(--font-sm);
        color: #aaa;
        margin-bottom: 4px;
    }
    
    .dato-valor {
        font-size: 16px;
        color: var(--neon-cian);
        font-weight: bold;
    }
    
    /* ========================================
       CALCULADORAS
    ======================================== */
    .grid-calculadoras {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: var(--space-md);
        margin-bottom: var(--space-lg);
    }
    
    .calculadora-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        border: 1px solid var(--neon-morado);
    }
    
    .calc-inputs {
        display: flex;
        flex-direction: column;
        gap: var(--space-md);
        margin-bottom: var(--space-md);
    }
    
    .input-group {
        display: flex;
        flex-direction: column;
        gap: 4px;
    }
    
    .input-control {
        padding: 6px;
        background: rgba(0, 0, 0, 0.5);
        color: white;
        border: 1px solid var(--neon-morado);
        border-radius: 4px;
        font-size: var(--font-sm);
    }
    
    .input-dual {
        display: flex;
        gap: var(--space-sm);
    }
    
    .input-dual .input-control:first-child {
        flex: 2;
    }
    
    .input-dual .input-control:last-child {
        flex: 1;
    }
    
    .btn-calcular {
        padding: 8px 16px;
        background: var(--neon-morado);
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: var(--font-sm);
    }
    
    .calc-resultados {
        background: rgba(0, 0, 0, 0.3);
        padding: var(--space-md);
        border-radius: 6px;
        border: 1px solid rgba(157, 101, 201, 0.3);
        min-height: 60px;
    }
    
    .resultado {
        font-size: var(--font-sm);
    }
    
    .resultado-linea {
        display: flex;
        justify-content: space-between;
        margin-bottom: 6px;
        padding-bottom: 6px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .resultado-linea.highlight {
        color: var(--neon-verde);
        font-weight: bold;
    }
    
    /* FORMULAS CLAVE */
    .formulas-clave {
        background: rgba(0, 0, 0, 0.3);
        padding: var(--space-md);
        border-radius: 6px;
        margin-top: var(--space-md);
    }
    
    .formula-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: var(--space-md);
    }
    
    .formula-item {
        text-align: center;
        padding: var(--space-md);
        background: rgba(0, 0, 0, 0.2);
        border-radius: 6px;
    }
    
    /* ========================================
       QUIZ INTERACTIVO
    ======================================== */
    .quiz-container {
        display: flex;
        flex-direction: column;
        gap: var(--space-md);
    }
    
    .pregunta-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        border: 1px solid rgba(255, 107, 107, 0.3);
    }
    
    .pregunta-header {
        display: flex;
        align-items: center;
        gap: var(--space-md);
        margin-bottom: var(--space-md);
    }
    
    .pregunta-num {
        background: var(--neon-rojo);
        color: white;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
    }
    
    .opciones {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: var(--space-sm);
        margin-bottom: var(--space-md);
    }
    
    .opcion {
        padding: 10px;
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.2);
        color: #e0f0ff;
        border-radius: 4px;
        cursor: pointer;
        text-align: left;
        display: flex;
        align-items: center;
        gap: 8px;
        transition: all 0.2s ease;
    }
    
    .opcion:hover {
        background: rgba(255, 255, 255, 0.1);
        transform: translateX(2px);
    }
    
    .opcion.correcta {
        background: rgba(57, 255, 20, 0.1);
        border-color: var(--neon-verde);
    }
    
    .opcion.incorrecta {
        background: rgba(255, 107, 107, 0.1);
        border-color: var(--neon-rojo);
    }
    
    .opcion-letra {
        background: rgba(255, 255, 255, 0.1);
        width: 20px;
        height: 20px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: var(--font-sm);
    }
    
    .feedback {
        padding: var(--space-md);
        background: rgba(0, 0, 0, 0.3);
        border-radius: 6px;
        border-left: 4px solid var(--neon-cian);
    }
    
    .quiz-resultados {
        background: rgba(0, 0, 0, 0.5);
        padding: var(--space-lg);
        border-radius: 8px;
        border: 2px solid var(--neon-verde);
        text-align: center;
    }
    
    .resultados-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: var(--space-md);
        margin: var(--space-md) 0;
    }
    
    .resultado-item {
        background: rgba(0, 0, 0, 0.3);
        padding: var(--space-md);
        border-radius: 6px;
    }
    
    .btn-reiniciar-quiz {
        padding: 10px 20px;
        background: var(--neon-azul);
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        margin-top: var(--space-md);
    }
    
    /* ========================================
       PROBLEMAS PR츼CTICOS
    ======================================== */
    .problemas-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: var(--space-md);
    }
    
    .problema-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        border: 1px solid var(--neon-cian);
    }
    
    .problema-header {
        display: flex;
        align-items: center;
        gap: var(--space-md);
        margin-bottom: var(--space-md);
        padding-bottom: var(--space-sm);
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .problema-num {
        background: var(--neon-cian);
        color: var(--bg-oscuro);
        width: 30px;
        height: 30px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
    }
    
    .espacio-solucion textarea {
        width: 100%;
        padding: var(--space-md);
        background: rgba(0, 0, 0, 0.5);
        color: white;
        border: 1px solid var(--neon-cian);
        border-radius: 4px;
        resize: vertical;
        min-height: 80px;
        font-family: inherit;
        margin: var(--space-md) 0;
    }
    
    .btn-ver-solucion {
        padding: 8px 16px;
        background: rgba(0, 255, 255, 0.1);
        color: var(--neon-cian);
        border: 1px solid var(--neon-cian);
        border-radius: 4px;
        cursor: pointer;
    }
    
    .solucion {
        margin-top: var(--space-md);
        padding: var(--space-md);
        background: rgba(0, 0, 0, 0.3);
        border-radius: 6px;
        border-left: 4px solid var(--neon-verde);
    }
    
    /* ========================================
       CIERRE METACOGNITIVO
    ======================================== */
    .autoevaluacion-container {
        display: flex;
        flex-direction: column;
        gap: var(--space-md);
        margin-bottom: var(--space-lg);
    }
    
    .autoevaluacion-item {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
    }
    
    .slider-autoeval {
        width: 100%;
        margin: 8px 0;
        height: 4px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 2px;
        -webkit-appearance: none;
    }
    
    .slider-autoeval::-webkit-slider-thumb {
        -webkit-appearance: none;
        width: 16px;
        height: 16px;
        background: var(--neon-verde);
        border-radius: 50%;
        cursor: pointer;
    }
    
    .slider-labels {
        display: flex;
        justify-content: space-between;
        font-size: var(--font-sm);
        color: #aaa;
    }
    
    .btn-guardar-autoeval {
        padding: 10px 20px;
        background: var(--neon-verde);
        color: var(--bg-oscuro);
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-weight: bold;
        align-self: flex-start;
    }
    
    .recursos-extra {
        background: rgba(0, 0, 0, 0.3);
        padding: var(--space-md);
        border-radius: 6px;
    }
    
    .recursos-links {
        display: flex;
        flex-direction: column;
        gap: var(--space-sm);
        margin-top: var(--space-md);
    }
    
    .recursos-links a {
        color: var(--neon-azul);
        text-decoration: none;
        padding: 6px 12px;
        background: rgba(77, 150, 255, 0.1);
        border-radius: 4px;
        transition: all 0.2s ease;
    }
    
    .recursos-links a:hover {
        background: rgba(77, 150, 255, 0.2);
        transform: translateX(4px);
    }
    
    /* ========================================
       RESPONSIVE DESIGN
    ======================================== */
    @media (max-width: 768px) {
        .leccion-quimica-particulas {
            padding: 12px;
        }
        
        .titulo-leccion {
            font-size: 20px;
        }
        
        .grid-objetivos,
        .grid-calculadoras,
        .problemas-container {
            grid-template-columns: 1fr;
        }
        
        .controles-simulador {
            grid-template-columns: 1fr;
        }
        
        .opciones {
            grid-template-columns: 1fr;
        }
        
        .resultados-grid {
            grid-template-columns: 1fr;
        }
    }
    
    @media (max-width: 480px) {
        .leccion-header {
            padding: 12px;
        }
        
        .titulo-leccion {
            font-size: 18px;
        }
        
        .subtitulo {
            font-size: 14px;
        }
        
        .badges-compactos {
            flex-direction: column;
            align-items: center;
        }
    }
    
    /* ========================================
       ANIMACIONES Y EFECTOS
    ======================================== */
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    .seccion-compacta {
        animation: fadeIn 0.5s ease;
    }
    
    /* ========================================
       CORRECCIONES ESPECIALES
    ======================================== */
    .visualizacion-atomo,
    .calc-resultados,
    .feedback,
    .solucion {
        display: block !important;
        opacity: 1 !important;
        visibility: visible !important;
    }
    
    .svgAtomo {
        width: 100% !important;
        height: auto !important;
    }

    /* ESTILOS ESPEC칈FICOS PARA N칔MEROS CU츼NTICOS */
.leccion-quimica-numeros-cuanticos .orbital-card[data-tipo="s"] .orbital-icon {
    color: #39FF14;
}

.leccion-quimica-numeros-cuanticos .orbital-card[data-tipo="p"] .orbital-icon {
    color: #00FFFF;
}

.leccion-quimica-numeros-cuanticos .orbital-card[data-tipo="d"] .orbital-icon {
    color: #FF00FF;
}

.leccion-quimica-numeros-cuanticos .orbital-card[data-tipo="f"] .orbital-icon {
    color: #FFFF00;
}

/* Animaci칩n para el simulador */
@keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
}

.leccion-quimica-numeros-cuanticos .orbital-3d svg {
    animation: pulse 2s infinite;
}

/* ===========================================
    VARIABLES CYBERPUNK EDUCATIVAS
    =========================================== */
    :root {
        /* PALETA NEON */
        --neon-concepto: #39FF14; /* Verde - Conceptos clave */
        --neon-interactivo: #FF00FF; /* Rosa - Elementos interactivos */
        --neon-ejemplo: #00FFFF; /* Cian - Ejemplos */
        --neon-alerta: #FFFF00; /* Amarillo - Errores */
        --neon-evaluacion: #FF6B6B; /* Rojo - Evaluaci칩n */
        --neon-dato: #00FF9D; /* Verde datos */

        /* FONDOS */
        --bg-leccion: #0a0a1a;
        --bg-seccion: rgba(0, 0, 0, 0.5);
        --bg-card: rgba(10, 10, 26, 0.8);

        /* TIPOGRAF칈A */
        --font-base: 1rem;
        --font-sm: 0.875rem;
        --font-md: 1.125rem;
        --font-lg: 1.25rem;
        --font-xl: 1.5rem;

        /* ESPACIADO */
        --space-sm: 8px;
        --space-md: 16px;
        --space-lg: 24px;
        --space-xl: 32px;
    }

    /* ===========================================
    ESTILOS GENERALES
    =========================================== */
    .leccion-quimica-numeros-cuanticos {
        position: relative;
        background-color: var(--bg-leccion);
        color: #e0f0ff;
        font-family: 'Courier New', monospace;
        padding: var(--space-xl);
        max-width: 1200px;
        margin: 0 auto;
        line-height: 1.6;
    }

    /* Grid background */
    .leccion-quimica-numeros-cuanticos::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image:
            linear-gradient(rgba(57, 255, 20, 0.02) 1px, transparent 1px),
            linear-gradient(90deg, rgba(57, 255, 20, 0.02) 1px, transparent 1px);
        background-size: 40px 40px;
        pointer-events: none;
        z-index: 0;
    }

    /* Scanlines */
    .leccion-quimica-numeros-cuanticos::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
            to bottom,
            transparent 50%,
            rgba(0, 255, 255, 0.01) 51%
        );
        background-size: 100% 4px;
        pointer-events: none;
        z-index: 1;
        animation: scanline 8s linear infinite;
    }

    @keyframes scanline {
        0% { transform: translateY(0); }
        100% { transform: translateY(10px); }
    }

    /* ===========================================
    COMPONENTES ESPEC칈FICOS
    =========================================== */
    .leccion-header {
        text-align: center;
        margin-bottom: var(--space-xl);
        position: relative;
        z-index: 2;
    }

    .titulo-leccion {
        font-size: 2.5rem;
        color: var(--neon-concepto);
        margin-bottom: var(--space-sm);
        animation: glow 3s infinite;
    }

    @keyframes glow {
        0%, 100% { text-shadow: 0 0 5px currentColor; }
        50% { text-shadow: 0 0 10px currentColor, 0 0 15px currentColor; }
    }

    .subtitulo {
        font-size: var(--font-lg);
        color: var(--neon-ejemplo);
        opacity: 0.9;
    }

    /* PANEL OBJETIVOS */
    .panel-objetivos {
        background: var(--bg-seccion);
        padding: var(--space-lg);
        border-radius: 8px;
        margin-bottom: var(--space-xl);
        border-left: 4px solid var(--neon-concepto);
        position: relative;
        z-index: 2;
    }

    .objetivos-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: var(--space-md);
    }

    .objetivo-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        border: 1px solid rgba(57, 255, 20, 0.2);
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        padding-left: 48px;
    }

    .objetivo-card:hover {
        transform: translateY(-2px);
        border-color: var(--neon-concepto);
        box-shadow: 0 4px 12px rgba(57, 255, 20, 0.2);
    }

    .objetivo-checkbox {
        position: absolute;
        left: var(--space-md);
        top: var(--space-md);
        width: 24px;
        height: 24px;
        border: 2px solid var(--neon-concepto);
        border-radius: 4px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--neon-concepto);
        font-weight: bold;
    }

    /* TABLAS CYBERPUNK */
    .tabla-cyberpunk {
        width: 100%;
        border-collapse: collapse;
        margin: var(--space-md) 0;
        background: var(--bg-card);
        border-radius: 8px;
        overflow: hidden;
    }

    .tabla-cyberpunk th {
        background: rgba(57, 255, 20, 0.1);
        color: var(--neon-concepto);
        padding: var(--space-md);
        text-align: left;
        border-bottom: 2px solid var(--neon-concepto);
    }

    .tabla-cyberpunk td {
        padding: var(--space-sm) var(--space-md);
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .tabla-cyberpunk tr:hover {
        background: rgba(57, 255, 20, 0.05);
    }

    /* ORBITALES */
    .orbitales-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: var(--space-lg);
        margin: var(--space-lg) 0;
    }

    .orbital-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 8px;
        border: 2px solid;
        text-align: center;
        transition: transform 0.2s ease;
    }

    .orbital-card:hover {
        transform: translateY(-4px);
    }

    .orbital-card[data-tipo="s"] {
        border-color: #39FF14;
    }

    .orbital-card[data-tipo="p"] {
        border-color: #00FFFF;
    }

    .orbital-card[data-tipo="d"] {
        border-color: #FF00FF;
    }

    .orbital-card[data-tipo="f"] {
        border-color: #FFFF00;
    }

    .orbital-visual {
        margin: var(--space-md) 0;
        display: flex;
        justify-content: center;
    }

    /* SIMULADOR */
    .simulator-container {
        display: grid;
        grid-template-columns: 1fr 2fr 1fr;
        gap: var(--space-lg);
        padding: var(--space-lg);
        background: rgba(0, 0, 0, 0.7);
        border: 2px solid var(--neon-interactivo);
        border-radius: 8px;
        margin-bottom: var(--space-xl);
        position: relative;
        z-index: 2;
    }

    @media (max-width: 768px) {
        .simulator-container {
            grid-template-columns: 1fr;
        }
    }

    .simulator-controls {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
    }

    .control-input, .control-select {
        width: 100%;
        padding: 8px;
        margin: var(--space-sm) 0;
        background: rgba(0, 0, 0, 0.5);
        color: white;
        border: 1px solid var(--neon-interactivo);
        border-radius: 4px;
        font-family: inherit;
    }

    .btn-generar, .btn-aleatorio {
        width: 100%;
        padding: var(--space-md);
        margin-top: var(--space-sm);
        border: none;
        border-radius: 4px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: var(--space-sm);
    }

    .btn-generar {
        background: linear-gradient(45deg, var(--neon-interactivo), #FF00AA);
        color: white;
    }

    .btn-aleatorio {
        background: linear-gradient(45deg, #00FFFF, #0097A7);
        color: white;
    }

    .btn-generar:hover {
        transform: scale(1.02);
        box-shadow: 0 0 15px var(--neon-interactivo);
    }

    .simulator-visualization {
        background: rgba(0, 0, 0, 0.9);
        border-radius: 6px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }

    .orbital-3d {
        width: 300px;
        height: 300px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .orbital-info {
        margin-top: var(--space-md);
        text-align: center;
        color: var(--neon-dato);
    }

    .simulator-data {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
    }

    .data-card {
        background: rgba(255, 255, 255, 0.05);
        padding: var(--space-sm);
        margin-bottom: var(--space-sm);
        border-radius: 4px;
        border-left: 3px solid var(--neon-dato);
    }

    .data-card.highlight {
        border-left-color: var(--neon-interactivo);
        background: rgba(255, 0, 255, 0.05);
    }

    /* QUIZ */
    .quiz-container {
        margin-bottom: var(--space-xl);
    }

    .quiz-question {
        background: var(--bg-card);
        padding: var(--space-lg);
        border-radius: 8px;
        margin-bottom: var(--space-md);
        border: 1px solid rgba(255, 107, 107, 0.3);
    }

    .quiz-options {
        display: grid;
        gap: var(--space-sm);
        margin: var(--space-md) 0;
    }

    .quiz-option {
        padding: var(--space-md);
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.2);
        color: #e0f0ff;
        cursor: pointer;
        text-align: left;
        transition: all 0.2s ease;
        border-radius: 4px;
        display: flex;
        align-items: center;
        gap: var(--space-sm);
    }

    .quiz-option:hover {
        background: rgba(255, 255, 255, 0.1);
        transform: translateX(4px);
    }

    .quiz-option.correct {
        background: rgba(57, 255, 20, 0.1);
        border-color: var(--neon-concepto);
    }

    .quiz-option.incorrect {
        background: rgba(255, 107, 107, 0.1);
        border-color: var(--neon-evaluacion);
    }

    .option-letter {
        background: rgba(255, 255, 255, 0.1);
        width: 24px;
        height: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        font-weight: bold;
    }

    /* ERRORES COMUNES */
    .error-card {
        background: var(--bg-card);
        border: 1px solid var(--neon-alerta);
        border-radius: 6px;
        margin-bottom: var(--space-md);
        overflow: hidden;
    }

    .error-header {
        background: rgba(255, 255, 0, 0.05);
        padding: var(--space-md);
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .error-content {
        padding: var(--space-md);
        border-top: 1px solid rgba(255, 255, 0, 0.2);
        display: none;
    }

    /* RESPONSIVE */
    @media (max-width: 768px) {
        .leccion-quimica-numeros-cuanticos {
            padding: var(--space-md);
        }

        .titulo-leccion {
            font-size: 1.8rem;
        }

        .orbitales-grid {
            grid-template-columns: 1fr;
        }
    }

.leccion-compacta {
    font-size: 0.95rem;
    line-height: 1.5;
}

.leccion-header {
    margin-bottom: 1.5rem;
    padding-bottom: 0.5rem;
    border-bottom: 2px solid #7b1fa2;
}

.descripcion-corta {
    color: #555;
    font-size: 0.9rem;
}

.seccion-tarjetas {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.2rem;
    margin: 1.5rem 0;
}

.tarjeta-principio, .tarjeta-compacta {
    background: #f9f7fd;
    border: 1px solid #e1bee7;
    border-radius: 8px;
    padding: 1rem;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

.icono {
    margin-right: 0.5rem;
    font-size: 1.1rem;
}

.tabla-compacta table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.9rem;
}

.tabla-compacta th {
    background: #f3e5f5;
    padding: 0.4rem;
    text-align: left;
    font-weight: 600;
}

.tabla-compacta td {
    padding: 0.4rem;
    border-bottom: 1px solid #e1bee7;
}

.lista-compacta {
    padding-left: 1.2rem;
    margin: 0.5rem 0;
}

.lista-compacta li {
    margin-bottom: 0.3rem;
}

.orden-aufbau {
    background: linear-gradient(135deg, #f3e5f5, #e1bee7);
    padding: 1rem;
    border-radius: 8px;
    margin: 1rem 0;
    text-align: center;
    font-family: monospace;
    font-size: 0.95rem;
}

.ejemplos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    gap: 0.8rem;
    margin: 1rem 0;
}

.ejemplo-item {
    background: white;
    border: 1px solid #ce93d8;
    border-radius: 6px;
    padding: 0.6rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.elemento {
    font-weight: bold;
    color: #7b1fa2;
}

.config {
    font-family: monospace;
    background: #f5f5f5;
    padding: 0.2rem 0.4rem;
    border-radius: 4px;
}

.excepciones {
    margin-top: 0.5rem;
}

.excepcion {
    background: #fff3e0;
    padding: 0.5rem;
    margin-bottom: 0.5rem;
    border-radius: 5px;
    border-left: 3px solid #ff9800;
}

.nota {
    display: block;
    font-size: 0.85rem;
    color: #e65100;
    margin-top: 0.2rem;
}

.seccion-animada {
    margin: 2rem 0;
    padding: 1rem;
    background: #fafafa;
    border-radius: 10px;
}

.svg-container {
    max-width: 100%;
    overflow: hidden;
    border-radius: 8px;
    margin: 1rem 0;
    background: white;
    padding: 1rem;
    border: 1px solid #e0e0e0;
}

.svg-leyenda {
    text-align: center;
    font-size: 0.85rem;
    color: #666;
    margin-top: 0.5rem;
}

.ejemplo-practico {
    background: #e8f5e9;
    border: 1px solid #c8e6c9;
    border-radius: 8px;
    padding: 1.2rem;
    margin-top: 1.5rem;
}

.solucion {
    background: white;
    padding: 1rem;
    border-radius: 6px;
    margin-top: 0.8rem;
    border-left: 4px solid #4caf50;
}

.solucion p {
    margin: 0.3rem 0;
}

/* ESTILOS ESPEC칈FICOS PARA PRINCIPIO DE CONSTRUCCI칍N */
.leccion-quimica-aufbau .diagrama-aufbau {
    font-family: 'Courier New', monospace;
    font-size: 1.2rem;
    line-height: 2;
    color: #00FFFF;
    background: rgba(0, 0, 0, 0.7);
    padding: 20px;
    border-radius: 8px;
    border: 1px solid #00FFFF;
}

.leccion-quimica-aufbau .orbital-box.resaltado {
    animation: pulse 1.5s infinite;
}

@keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
}
/* ESTILOS ESPEC칈FICOS PARA ELECTRONES DE VALENCIA */
.leccion-quimica-valencia .atom-visual {
    perspective: 1000px;
}

.leccion-quimica-valencia .nucleo {
    box-shadow: 0 0 15px rgba(123, 31, 162, 0.5);
    transition: transform 0.3s ease;
}

.leccion-quimica-valencia .nucleo:hover {
    transform: scale(1.05);
}

.leccion-quimica-valencia .electron {
    animation: spin 5s linear infinite;
    box-shadow: 0 0 5px #FFEB3B;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.leccion-quimica-valencia .reaccion-visual svg {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    padding: 10px;
}

.leccion-quimica-valencia .bloque-valencia {
    border-radius: 8px;
    padding: var(--space-md);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.leccion-quimica-valencia .bloque-valencia:hover {
    transform: translateY(-5px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}


/* ESTILOS GLOBALES CYBERPUNK PARA CONFIGURACIONES ELECTR칍NICAS */
.lec-quimica-electronic {
    position: relative;
    overflow: hidden;
}

/* SCANLINES SUTILES */
.lec-quimica-electronic::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
        to bottom,
        transparent 50%,
        rgba(0, 255, 255, 0.01) 51%
    );
    background-size: 100% 4px;
    pointer-events: none;
    z-index: 1;
    animation: scanline 8s linear infinite;
}

@keyframes scanline {
    0% { transform: translateY(0); }
    100% { transform: translateY(10px); }
}

/* RESPONSIVE */
@media (max-width: 768px) {
    .lec-quimica-electronic {
        padding: 12px;
    }
    
    .lec-title {
        font-size: 1.4rem;
    }
    
    .sim-container {
        grid-template-columns: 1fr;
    }
    
    .concept-grid,
    .obj-grid,
    .exc-grid {
        grid-template-columns: 1fr;
    }
    
    .ex-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* ANIMACIONES */
@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

@keyframes highlight {
    0% { background-color: rgba(57, 255, 20, 0); }
    50% { background-color: rgba(57, 255, 20, 0.1); }
    100% { background-color: rgba(57, 255, 20, 0); }
}

/* ESTADOS FOCUS */
input:focus, textarea:focus, button:focus {
    outline: 2px solid var(--neon-i);
    outline-offset: 2px;
}

/* IMPRESI칍N */
@media print {
    .lec-quimica-electronic {
        background: white;
        color: black;
    }
    
    .sim-container, .quiz-q, .exam-card {
        break-inside: avoid;
    }
}

:root {
    --neon-c: #39FF14;    /* Conceptos */
    --neon-i: #FF00FF;    /* Interactivo */
    --neon-e: #00FFFF;    /* Ejemplos */
    --neon-a: #FFFF00;    /* Alerta */
    --neon-ev: #FF6B6B;   /* Evaluaci칩n */
    --bg-main: #0a0a1a;
    --bg-card: rgba(10,10,26,0.8);
    --font-base: 0.95rem;
    --space-sm: 8px;
    --space-md: 12px;
    --space-lg: 16px;
}

.lec-quimica-electronic {
    background: var(--bg-main);
    color: #e0f0ff;
    font-family: 'Courier New', monospace;
    padding: var(--space-lg);
    max-width: 1000px;
    margin: 0 auto;
    line-height: 1.5;
    position: relative;
}

/* Grid sutil */
.lec-quimica-electronic::before {
    content: '';
    position: absolute;
    top:0; left:0; right:0; bottom:0;
    background-image: linear-gradient(rgba(57,255,20,0.02) 1px, transparent 1px),
                      linear-gradient(90deg, rgba(57,255,20,0.02) 1px, transparent 1px);
    background-size: 30px 30px;
    pointer-events: none;
}

/* CABECERA */
.lec-header { text-align: center; margin-bottom: var(--space-lg); }
.lec-title {
    font-size: 1.8rem;
    color: var(--neon-c);
    margin-bottom: var(--space-sm);
    animation: glow 3s infinite;
}
@keyframes glow {
    0%,100% { text-shadow: 0 0 5px currentColor; }
    50% { text-shadow: 0 0 10px currentColor; }
}
.lec-sub { color: var(--neon-e); font-size: 0.9rem; }

/* PANEL OBJETIVOS */
.panel-obj { margin-bottom: var(--space-lg); }
.sec-title {
    font-size: 1.2rem;
    color: var(--neon-c);
    margin-bottom: var(--space-md);
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}
.obj-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-md);
}
.obj-card {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 6px;
    border: 1px solid rgba(57,255,20,0.3);
    cursor: pointer;
    position: relative;
    padding-left: 40px;
    transition: transform 0.2s;
}
.obj-card:hover { transform: translateY(-2px); border-color: var(--neon-c); }
.obj-check {
    position: absolute;
    left: var(--space-md);
    top: var(--space-md);
    width: 20px; height: 20px;
    border: 2px solid var(--neon-c);
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.8rem;
}

/* CONCEPTOS */
.concept-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: var(--space-md);
    margin-bottom: var(--space-lg);
}
.concept-card {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 6px;
    border: 1px solid rgba(0,255,255,0.2);
}
.table-mini table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.85rem;
}
.table-mini th { 
    background: rgba(57,255,20,0.1);
    padding: 4px;
    text-align: left;
}
.table-mini td { padding: 4px; border-bottom: 1px solid rgba(255,255,255,0.1); }
.list-mini { padding-left: 1rem; margin:0; }
.list-mini li { margin-bottom: 4px; font-size: 0.9rem; }

/* AUFBAU */
.energy-flow {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    align-items: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-md);
}
.energy-level {
    background: rgba(57,255,20,0.1);
    padding: 6px 10px;
    border-radius: 4px;
    border: 1px solid var(--neon-c);
    font-family: monospace;
}
.arrow { color: var(--neon-i); }
.formula-neon {
    background: rgba(0,255,255,0.05);
    padding: var(--space-md);
    border-radius: 6px;
    border-left: 3px solid var(--neon-e);
    font-size: 0.9rem;
    margin-bottom: var(--space-lg);
}

/* EJEMPLOS */
.ex-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    gap: var(--space-sm);
    margin-bottom: var(--space-lg);
}
.ex-card {
    background: rgba(0,255,255,0.05);
    padding: var(--space-md);
    border-radius: 6px;
    text-align: center;
    border: 1px solid rgba(0,255,255,0.2);
}
.ex-elem { color: var(--neon-i); font-weight: bold; }
.ex-config { font-family: monospace; margin: 4px 0; }
.ex-block {
    display: inline-block;
    background: rgba(255,255,0,0.1);
    padding: 2px 6px;
    border-radius: 3px;
    font-size: 0.8rem;
}

/* SIMULADOR */
.sim-container {
    display: grid;
    grid-template-columns: 1fr 1.5fr 1fr;
    gap: var(--space-md);
    background: rgba(0,0,0,0.7);
    padding: var(--space-md);
    border-radius: 8px;
    border: 2px solid var(--neon-i);
    margin-bottom: var(--space-lg);
}
@media (max-width: 768px) {
    .sim-container { grid-template-columns: 1fr; }
}
.sim-controls, .sim-data {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 6px;
}
.ctrl-slider { width: 100%; margin: 8px 0; }
.slider-value {
    display: flex;
    justify-content: space-between;
    font-size: 0.9rem;
}
.btn-sim, .btn-alt {
    width: 100%;
    padding: 8px;
    margin-top: 8px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    font-weight: bold;
}
.btn-sim {
    background: linear-gradient(45deg, var(--neon-i), #FF00AA);
    color: white;
}
.btn-alt {
    background: rgba(0,255,255,0.1);
    color: #e0f0ff;
    border: 1px solid rgba(0,255,255,0.3);
}
.sim-vis {
    background: rgba(0,0,0,0.9);
    border-radius: 6px;
    overflow: hidden;
    display: flex;
    flex-direction: column;
}
.config-display {
    background: rgba(57,255,20,0.05);
    padding: var(--space-md);
    border-top: 1px solid rgba(57,255,20,0.2);
}
.config-full {
    font-size: 1.2rem;
    font-family: monospace;
    color: var(--neon-c);
    text-align: center;
}
.config-detail {
    font-size: 0.8rem;
    font-family: monospace;
    color: #aaa;
    text-align: center;
    margin-top: 4px;
}
.data-item {
    display: flex;
    justify-content: space-between;
    margin-bottom: 6px;
    padding-bottom: 6px;
    border-bottom: 1px solid rgba(255,255,255,0.1);
}
.data-label { color: #aaa; }
.data-value { color: var(--neon-e); font-weight: bold; }
.highlight { border-left: 3px solid var(--neon-a); padding-left: 8px; }

/* EXCEPCIONES */
.exc-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: var(--space-md);
    margin-bottom: var(--space-lg);
}
.exc-card {
    background: rgba(255,255,0,0.05);
    padding: var(--space-md);
    border-radius: 6px;
    border: 1px solid var(--neon-a);
}

/* QUIZ */
.quiz-q {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 6px;
    margin-bottom: var(--space-md);
    border: 1px solid rgba(255,107,107,0.3);
}
.q-options {
    display: grid;
    gap: 6px;
    margin: 8px 0;
}
.q-opt {
    padding: 8px;
    background: rgba(255,255,255,0.05);
    border: 1px solid rgba(255,255,255,0.2);
    color: #e0f0ff;
    cursor: pointer;
    text-align: left;
    border-radius: 4px;
    transition: all 0.2s;
}
.q-opt:hover { background: rgba(255,255,255,0.1); transform: translateX(2px); }
.q-opt.correct { background: rgba(57,255,20,0.1); border-color: var(--neon-c); }
.q-opt.incorrect { background: rgba(255,107,107,0.1); border-color: var(--neon-ev); }
.btn-retry {
    background: rgba(57,255,20,0.1);
    color: var(--neon-c);
    border: 1px solid var(--neon-c);
    padding: 8px 16px;
    border-radius: 4px;
    cursor: pointer;
    margin-top: 8px;
}

/* EXAMEN */
.exam-card {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 6px;
    border: 1px solid rgba(255,107,107,0.3);
}
.exam-answer {
    width: 100%;
    background: rgba(0,0,0,0.5);
    color: white;
    border: 1px solid rgba(255,255,255,0.2);
    border-radius: 4px;
    padding: 8px;
    margin: 8px 0;
    font-family: inherit;
}
.btn-verify {
    background: rgba(255,107,107,0.1);
    color: var(--neon-ev);
    border: 1px solid var(--neon-ev);
    padding: 8px 16px;
    border-radius: 4px;
    cursor: pointer;
}

/* AUTOEVALUACI칍N */
.auto-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-md);
    margin-bottom: var(--space-md);
}
.auto-slider { width: 100%; }
.btn-save {
    background: rgba(57,255,20,0.1);
    color: var(--neon-c);
    border: 1px solid var(--neon-c);
    padding: 8px 24px;
    border-radius: 4px;
    cursor: pointer;
}

/* ICONOS */
.icon { margin-right: 6px; }

/* ===========================================
    VARIABLES CYBERPUNK EDUCATIVAS
    =========================================== */
    :root {
        /* PALETA NEON */
        --neon-concepto: #39FF14; /* Verde - Conceptos clave */
        --neon-interactivo: #FF00FF; /* Rosa - Elementos interactivos */
        --neon-ejemplo: #00FFFF; /* Cian - Ejemplos */
        --neon-alerta: #FFFF00; /* Amarillo - Errores */
        --neon-evaluacion: #FF6B6B; /* Rojo - Evaluaci칩n */
        --neon-dato: #00FF9D; /* Verde datos */

        /* FONDOS */
        --bg-leccion: #0a0a1a;
        --bg-seccion: rgba(0, 0, 0, 0.5);
        --bg-card: rgba(10, 10, 26, 0.8);

        /* TIPOGRAF칈A */
        --font-base: 1rem;
        --font-sm: 0.875rem;
        --font-md: 1.125rem;
        --font-lg: 1.25rem;
        --font-xl: 1.5rem;

        /* ESPACIADO */
        --space-sm: 8px;
        --space-md: 16px;
        --space-lg: 24px;
        --space-xl: 32px;
    }

    /* ===========================================
    ESTILOS GENERALES
    =========================================== */
    .leccion-quimica-aufbau {
        position: relative;
        background-color: var(--bg-leccion);
        color: #e0f0ff;
        font-family: 'Courier New', monospace;
        padding: var(--space-xl);
        max-width: 1200px;
        margin: 0 auto;
        line-height: 1.6;
    }

    /* Grid background */
    .leccion-quimica-aufbau::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image:
            linear-gradient(rgba(57, 255, 20, 0.02) 1px, transparent 1px),
            linear-gradient(90deg, rgba(57, 255, 20, 0.02) 1px, transparent 1px);
        background-size: 40px 40px;
        pointer-events: none;
        z-index: 0;
    }

    /* Scanlines */
    .leccion-quimica-aufbau::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
            to bottom,
            transparent 50%,
            rgba(0, 255, 255, 0.01) 51%
        );
        background-size: 100% 4px;
        pointer-events: none;
        z-index: 1;
        animation: scanline 8s linear infinite;
    }

    @keyframes scanline {
        0% { transform: translateY(0); }
        100% { transform: translateY(10px); }
    }

    /* ===========================================
    COMPONENTES ESPEC칈FICOS
    =========================================== */
    .leccion-header {
        text-align: center;
        margin-bottom: var(--space-xl);
        position: relative;
        z-index: 2;
    }

    .titulo-leccion {
        font-size: 2.5rem;
        color: var(--neon-concepto);
        margin-bottom: var(--space-sm);
        animation: glow 3s infinite;
    }

    @keyframes glow {
        0%, 100% { text-shadow: 0 0 5px currentColor; }
        50% { text-shadow: 0 0 10px currentColor, 0 0 15px currentColor; }
    }

    .subtitulo {
        font-size: var(--font-lg);
        color: var(--neon-ejemplo);
        opacity: 0.9;
    }

    /* PANEL OBJETIVOS */
    .panel-objetivos {
        background: var(--bg-seccion);
        padding: var(--space-lg);
        border-radius: 8px;
        margin-bottom: var(--space-xl);
        border-left: 4px solid var(--neon-concepto);
        position: relative;
        z-index: 2;
    }

    .objetivos-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: var(--space-md);
    }

    .objetivo-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        border: 1px solid rgba(57, 255, 20, 0.2);
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        padding-left: 48px;
    }

    .objetivo-card:hover {
        transform: translateY(-2px);
        border-color: var(--neon-concepto);
        box-shadow: 0 4px 12px rgba(57, 255, 20, 0.2);
    }

    .objetivo-checkbox {
        position: absolute;
        left: var(--space-md);
        top: var(--space-md);
        width: 24px;
        height: 24px;
        border: 2px solid var(--neon-concepto);
        border-radius: 4px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--neon-concepto);
        font-weight: bold;
    }

    /* DIAGRAMA DE LA LLUVIA */
    .diagrama-lluvia {
        background: var(--bg-card);
        padding: var(--space-lg);
        border-radius: 8px;
        margin: var(--space-md) 0;
        text-align: center;
    }

    .diagrama-aufbau {
        font-family: monospace;
        font-size: 1.2rem;
        line-height: 2;
        color: var(--neon-concepto);
        margin: var(--space-md) 0;
    }

    /* TABLAS CYBERPUNK */
    .tabla-cyberpunk {
        width: 100%;
        border-collapse: collapse;
        margin: var(--space-md) 0;
        background: var(--bg-card);
        border-radius: 8px;
        overflow: hidden;
    }

    .tabla-cyberpunk th {
        background: rgba(57, 255, 20, 0.1);
        color: var(--neon-concepto);
        padding: var(--space-md);
        text-align: left;
        border-bottom: 2px solid var(--neon-concepto);
    }

    .tabla-cyberpunk td {
        padding: var(--space-sm) var(--space-md);
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .tabla-cyberpunk tr:hover {
        background: rgba(57, 255, 20, 0.05);
    }

    /* EXCEPCIONES */
    .excepciones-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: var(--space-md);
        margin: var(--space-md) 0;
    }

    .excepcion-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        border: 1px solid var(--neon-alerta);
        transition: transform 0.2s ease;
    }

    .excepcion-card:hover {
        transform: translateY(-4px);
    }

    /* BLOQUES DE LA TABLA PERI칍DICA */
    .bloques-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: var(--space-md);
        margin: var(--space-md) 0;
    }

    .bloque-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        border: 2px solid;
        text-align: center;
    }

    .bloque-card:nth-child(1) { border-color: #39FF14; }
    .bloque-card:nth-child(2) { border-color: #00FFFF; }
    .bloque-card:nth-child(3) { border-color: #FF00FF; }
    .bloque-card:nth-child(4) { border-color: #FFFF00; }

    /* SIMULADOR */
    .simulator-container {
        display: grid;
        grid-template-columns: 1fr 2fr 1fr;
        gap: var(--space-lg);
        padding: var(--space-lg);
        background: rgba(0, 0, 0, 0.7);
        border: 2px solid var(--neon-interactivo);
        border-radius: 8px;
        margin-bottom: var(--space-xl);
        position: relative;
        z-index: 2;
    }

    @media (max-width: 768px) {
        .simulator-container {
            grid-template-columns: 1fr;
        }
    }

    .simulator-controls {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
    }

    .control-input, .control-select {
        width: 100%;
        padding: 8px;
        margin: var(--space-sm) 0;
        background: rgba(0, 0, 0, 0.5);
        color: white;
        border: 1px solid var(--neon-interactivo);
        border-radius: 4px;
        font-family: inherit;
    }

    .btn-generar, .btn-aleatorio {
        width: 100%;
        padding: var(--space-md);
        margin-top: var(--space-sm);
        border: none;
        border-radius: 4px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: var(--space-sm);
    }

    .btn-generar {
        background: linear-gradient(45deg, var(--neon-interactivo), #FF00AA);
        color: white;
    }

    .btn-aleatorio {
        background: linear-gradient(45deg, #00FFFF, #0097A7);
        color: white;
    }

    .btn-generar:hover {
        transform: scale(1.02);
        box-shadow: 0 0 15px var(--neon-interactivo);
    }

    .simulator-visualization {
        background: rgba(0, 0, 0, 0.9);
        border-radius: 6px;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .configuracion-diagrama {
        width: 100%;
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: var(--space-sm);
        padding: var(--space-md);
    }

    .orbital-row {
        display: flex;
        gap: var(--space-sm);
        margin-bottom: var(--space-sm);
    }

    .orbital-box {
        background: rgba(255, 255, 255, 0.05);
        padding: var(--space-sm);
        border-radius: 4px;
        border: 1px solid rgba(255, 255, 255, 0.2);
        text-align: center;
        cursor: pointer;
        transition: all 0.2s ease;
    }

    .orbital-box:hover {
        background: rgba(255, 255, 255, 0.1);
    }

    .orbital-box.resaltado {
        background: rgba(57, 255, 20, 0.2);
        border-color: var(--neon-concepto);
        box-shadow: 0 0 10px var(--neon-concepto);
    }

    .configuracion-info {
        margin-top: var(--space-md);
        text-align: center;
        color: var(--neon-dato);
    }

    .simulator-data {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
    }

    .data-card {
        background: rgba(255, 255, 255, 0.05);
        padding: var(--space-sm);
        margin-bottom: var(--space-sm);
        border-radius: 4px;
        border-left: 3px solid var(--neon-dato);
    }

    .data-card.highlight {
        border-left-color: var(--neon-interactivo);
        background: rgba(255, 0, 255, 0.05);
    }

    /* QUIZ */
    .quiz-container {
        margin-bottom: var(--space-xl);
    }

    .quiz-question {
        background: var(--bg-card);
        padding: var(--space-lg);
        border-radius: 8px;
        margin-bottom: var(--space-md);
        border: 1px solid rgba(255, 107, 107, 0.3);
    }

    .quiz-options {
        display: grid;
        gap: var(--space-sm);
        margin: var(--space-md) 0;
    }

    .quiz-option {
        padding: var(--space-md);
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.2);
        color: #e0f0ff;
        cursor: pointer;
        text-align: left;
        transition: all 0.2s ease;
        border-radius: 4px;
        display: flex;
        align-items: center;
        gap: var(--space-sm);
    }

    .quiz-option:hover {
        background: rgba(255, 255, 255, 0.1);
        transform: translateX(4px);
    }

    .quiz-option.correct {
        background: rgba(57, 255, 20, 0.1);
        border-color: var(--neon-concepto);
    }

    .quiz-option.incorrect {
        background: rgba(255, 107, 107, 0.1);
        border-color: var(--neon-evaluacion);
    }

    .option-letter {
        background: rgba(255, 255, 255, 0.1);
        width: 24px;
        height: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        font-weight: bold;
    }

    /* ERRORES COMUNES */
    .error-card {
        background: var(--bg-card);
        border: 1px solid var(--neon-alerta);
        border-radius: 6px;
        margin-bottom: var(--space-md);
        overflow: hidden;
    }

    .error-header {
        background: rgba(255, 255, 0, 0.05);
        padding: var(--space-md);
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .error-content {
        padding: var(--space-md);
        border-top: 1px solid rgba(255, 255, 0, 0.2);
        display: none;
    }

    /* RESPONSIVE */
    @media (max-width: 768px) {
        .leccion-quimica-aufbau {
            padding: var(--space-md);
        }

        .titulo-leccion {
            font-size: 1.8rem;
        }

        .configuracion-diagrama {
            grid-template-columns: 1fr;
        }

        .excepciones-grid, .bloques-grid {
            grid-template-columns: 1fr;
        }
    }
/* ===========================================
    VARIABLES CYBERPUNK EDUCATIVAS
    =========================================== */
    :root {
        /* PALETA NEON */
        --neon-concepto: #39FF14; /* Verde - Conceptos clave */
        --neon-interactivo: #FF00FF; /* Rosa - Elementos interactivos */
        --neon-ejemplo: #00FFFF; /* Cian - Ejemplos */
        --neon-alerta: #FFFF00; /* Amarillo - Errores */
        --neon-evaluacion: #FF6B6B; /* Rojo - Evaluaci칩n */
        --neon-dato: #00FF9D; /* Verde datos */

        /* FONDOS */
        --bg-leccion: #0a0a1a;
        --bg-seccion: rgba(0, 0, 0, 0.5);
        --bg-card: rgba(10, 10, 26, 0.8);

        /* TIPOGRAF칈A */
        --font-base: 1rem;
        --font-sm: 0.875rem;
        --font-md: 1.125rem;
        --font-lg: 1.25rem;
        --font-xl: 1.5rem;

        /* ESPACIADO */
        --space-sm: 8px;
        --space-md: 16px;
        --space-lg: 24px;
        --space-xl: 32px;
    }

    /* ===========================================
    ESTILOS GENERALES
    =========================================== */
    .leccion-quimica-valencia {
        position: relative;
        background-color: var(--bg-leccion);
        color: #e0f0ff;
        font-family: 'Courier New', monospace;
        padding: var(--space-xl);
        max-width: 1200px;
        margin: 0 auto;
        line-height: 1.6;
    }

    /* Grid background */
    .leccion-quimica-valencia::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image:
            linear-gradient(rgba(57, 255, 20, 0.02) 1px, transparent 1px),
            linear-gradient(90deg, rgba(57, 255, 20, 0.02) 1px, transparent 1px);
        background-size: 40px 40px;
        pointer-events: none;
        z-index: 0;
    }

    /* Scanlines */
    .leccion-quimica-valencia::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
            to bottom,
            transparent 50%,
            rgba(0, 255, 255, 0.01) 51%
        );
        background-size: 100% 4px;
        pointer-events: none;
        z-index: 1;
        animation: scanline 8s linear infinite;
    }

    @keyframes scanline {
        0% { transform: translateY(0); }
        100% { transform: translateY(10px); }
    }

    /* ===========================================
    COMPONENTES ESPEC칈FICOS
    =========================================== */
    .leccion-header {
        text-align: center;
        margin-bottom: var(--space-xl);
        position: relative;
        z-index: 2;
    }

    .titulo-leccion {
        font-size: 2.5rem;
        color: var(--neon-concepto);
        margin-bottom: var(--space-sm);
        animation: glow 3s infinite;
    }

    @keyframes glow {
        0%, 100% { text-shadow: 0 0 5px currentColor; }
        50% { text-shadow: 0 0 10px currentColor, 0 0 15px currentColor; }
    }

    .subtitulo {
        font-size: var(--font-lg);
        color: var(--neon-ejemplo);
        opacity: 0.9;
    }

    /* PANEL OBJETIVOS */
    .panel-objetivos {
        background: var(--bg-seccion);
        padding: var(--space-lg);
        border-radius: 8px;
        margin-bottom: var(--space-xl);
        border-left: 4px solid var(--neon-concepto);
        position: relative;
        z-index: 2;
    }

    .objetivos-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: var(--space-md);
    }

    .objetivo-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        border: 1px solid rgba(57, 255, 20, 0.2);
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        padding-left: 48px;
    }

    .objetivo-card:hover {
        transform: translateY(-2px);
        border-color: var(--neon-concepto);
        box-shadow: 0 4px 12px rgba(57, 255, 20, 0.2);
    }

    .objetivo-checkbox {
        position: absolute;
        left: var(--space-md);
        top: var(--space-md);
        width: 24px;
        height: 24px;
        border: 2px solid var(--neon-concepto);
        border-radius: 4px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--neon-concepto);
        font-weight: bold;
    }

    /* CONTEXTO REAL */
    .contexto-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: var(--space-md);
    }

    .contexto-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        border: 1px solid var(--neon-dato);
        transition: transform 0.2s ease;
    }

    .contexto-card:hover {
        transform: translateY(-4px);
    }

    .dato-neon {
        color: var(--neon-dato);
        font-weight: bold;
        margin-top: var(--space-sm);
    }

    /* TABLAS CYBERPUNK */
    .tabla-cyberpunk {
        width: 100%;
        border-collapse: collapse;
        margin: var(--space-md) 0;
        background: var(--bg-card);
        border-radius: 8px;
        overflow: hidden;
    }

    .tabla-cyberpunk th {
        background: rgba(57, 255, 20, 0.1);
        color: var(--neon-concepto);
        padding: var(--space-md);
        text-align: left;
        border-bottom: 2px solid var(--neon-concepto);
    }

    .tabla-cyberpunk td {
        padding: var(--space-sm) var(--space-md);
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .tabla-cyberpunk tr:hover {
        background: rgba(57, 255, 20, 0.05);
    }

    /* EJEMPLOS VISUALES */
    .ejemplo-visual {
        display: flex;
        justify-content: center;
        gap: var(--space-lg);
        margin: var(--space-md) 0;
        flex-wrap: wrap;
    }

    .atom-visual {
        text-align: center;
        margin: var(--space-sm);
    }

    .nucleo {
        width: 60px;
        height: 60px;
        background: linear-gradient(45deg, #7B1FA2, #4A148C);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto;
        color: white;
        font-weight: bold;
        font-size: 1.2rem;
        position: relative;
    }

    .orbital {
        position: relative;
        margin: var(--space-sm) 0;
    }

    .orbital-3s, .orbital-3p {
        display: flex;
        justify-content: center;
        gap: 5px;
    }

    .electron {
        display: inline-block;
        width: 12px;
        height: 12px;
        background: #FFEB3B;
        border-radius: 50%;
        position: relative;
    }

    .electron::before {
        content: '';
        position: absolute;
        top: -15px;
        left: 0;
        width: 100%;
        text-align: center;
        color: #FFEB3B;
        font-size: 10px;
    }

    .leyenda {
        margin-top: var(--space-sm);
        font-size: var(--font-sm);
        color: var(--neon-ejemplo);
    }

    /* REACTIVIDAD */
    .reactividad-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: var(--space-md);
        margin: var(--space-md) 0;
    }

    .reactividad-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        border: 2px solid;
    }

    .reactividad-card.metales {
        border-color: #FF5252;
    }

    .reactividad-card.no-metales {
        border-color: #4CAF50;
    }

    .reactividad-card.gases-nobles {
        border-color: #2196F3;
    }

    .reactividad-card.metales-transicion {
        border-color: #FF9800;
    }

    /* SIMULADOR */
    .simulator-container {
        display: grid;
        grid-template-columns: 1fr 2fr 1fr;
        gap: var(--space-lg);
        padding: var(--space-lg);
        background: rgba(0, 0, 0, 0.7);
        border: 2px solid var(--neon-interactivo);
        border-radius: 8px;
        margin-bottom: var(--space-xl);
        position: relative;
        z-index: 2;
    }

    @media (max-width: 768px) {
        .simulator-container {
            grid-template-columns: 1fr;
        }
    }

    .simulator-controls {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
    }

    .control-input, .control-select {
        width: 100%;
        padding: 8px;
        margin: var(--space-sm) 0;
        background: rgba(0, 0, 0, 0.5);
        color: white;
        border: 1px solid var(--neon-interactivo);
        border-radius: 4px;
        font-family: inherit;
    }

    .btn-simular, .btn-aleatorio {
        width: 100%;
        padding: var(--space-md);
        margin-top: var(--space-sm);
        border: none;
        border-radius: 4px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: var(--space-sm);
    }

    .btn-simular {
        background: linear-gradient(45deg, var(--neon-interactivo), #FF00AA);
        color: white;
    }

    .btn-aleatorio {
        background: linear-gradient(45deg, #00FFFF, #0097A7);
        color: white;
    }

    .btn-simular:hover {
        transform: scale(1.02);
        box-shadow: 0 0 15px var(--neon-interactivo);
    }

    .simulator-visualization {
        background: rgba(0, 0, 0, 0.9);
        border-radius: 6px;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .atom-visualizacion {
        width: 100%;
        height: 300px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .simulacion-info {
        margin-top: var(--space-md);
        text-align: center;
        color: var(--neon-dato);
    }

    .simulator-data {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
    }

    .data-card {
        background: rgba(255, 255, 255, 0.05);
        padding: var(--space-sm);
        margin-bottom: var(--space-sm);
        border-radius: 4px;
        border-left: 3px solid var(--neon-dato);
    }

    .data-card.highlight {
        border-left-color: var(--neon-interactivo);
        background: rgba(255, 0, 255, 0.05);
    }

    /* QUIZ */
    .quiz-container {
        margin-bottom: var(--space-xl);
    }

    .quiz-question {
        background: var(--bg-card);
        padding: var(--space-lg);
        border-radius: 8px;
        margin-bottom: var(--space-md);
        border: 1px solid rgba(255, 107, 107, 0.3);
    }

    .quiz-options {
        display: grid;
        gap: var(--space-sm);
        margin: var(--space-md) 0;
    }

    .quiz-option {
        padding: var(--space-md);
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.2);
        color: #e0f0ff;
        cursor: pointer;
        text-align: left;
        transition: all 0.2s ease;
        border-radius: 4px;
        display: flex;
        align-items: center;
        gap: var(--space-sm);
    }

    .quiz-option:hover {
        background: rgba(255, 255, 255, 0.1);
        transform: translateX(4px);
    }

    .quiz-option.correct {
        background: rgba(57, 255, 20, 0.1);
        border-color: var(--neon-concepto);
    }

    .quiz-option.incorrect {
        background: rgba(255, 107, 107, 0.1);
        border-color: var(--neon-evaluacion);
    }

    .option-letter {
        background: rgba(255, 255, 255, 0.1);
        width: 24px;
        height: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        font-weight: bold;
    }

    /* ERRORES COMUNES */
    .error-card {
        background: var(--bg-card);
        border: 1px solid var(--neon-alerta);
        border-radius: 6px;
        margin-bottom: var(--space-md);
        overflow: hidden;
    }

    .error-header {
        background: rgba(255, 255, 0, 0.05);
        padding: var(--space-md);
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .error-content {
        padding: var(--space-md);
        border-top: 1px solid rgba(255, 255, 0, 0.2);
        display: none;
    }

    .error-tabla {
        margin-top: var(--space-md);
    }

    .error-tabla table {
        width: 100%;
        border-collapse: collapse;
    }

    .error-tabla th, .error-tabla td {
        padding: 8px;
        border: 1px solid rgba(255, 255, 0, 0.3);
        text-align: left;
    }

    /* RESPONSIVE */
    @media (max-width: 768px) {
        .leccion-quimica-valencia {
            padding: var(--space-md);
        }

        .titulo-leccion {
            font-size: 1.8rem;
        }

        .ejemplo-visual {
            flex-direction: column;
        }

        .reactividad-grid, .excepciones-grid, .bloques-valencia {
            grid-template-columns: 1fr;
        }
    }

    /* ESTILOS ESPEC칈FICOS PARA LA LECCI칍N DE ELECTRONEGATIVIDAD */
.leccion-quimica-electronegatividad #svgTendencia {
    filter: drop-shadow(0 0 5px rgba(0, 188, 212, 0.5));
}

.leccion-quimica-electronegatividad #svgEnlace #nubeElectronica {
    animation: pulsar 2s infinite;
}

@keyframes pulsar {
    0% { transform: scale(1); opacity: 0.8; }
    50% { transform: scale(1.1); opacity: 1; }
    100% { transform: scale(1); opacity: 0.8; }
}
/* ==========================================
    VARIABLES CYBERPUNK EDUCATIVAS
    ========================================== */
    :root {
        --neon-concepto: #39FF14;
        --neon-interactivo: #FF00FF;
        --neon-ejemplo: #00FFFF;
        --neon-alerta: #FFFF00;
        --neon-evaluacion: #FF6B6B;
        --neon-dato: #00FF9D;
        --bg-leccion: #0a0a1a;
        --bg-seccion: rgba(0, 0, 0, 0.5);
        --bg-card: rgba(10, 10, 26, 0.8);
        --color-apolar: #4CAF50;
        --color-polar: #FF9800;
        --color-ionico: #F44336;
        --font-base: 1rem;
        --space-sm: 8px;
        --space-md: 16px;
        --space-lg: 24px;
    }

    /* ==========================================
    ESTILOS GENERALES
    ========================================== */
    .leccion-quimica-electronegatividad {
        position: relative;
        background-color: var(--bg-leccion);
        color: #e0f0ff;
        font-family: 'Courier New', monospace;
        padding: var(--space-lg);
        max-width: 1200px;
        margin: 0 auto;
        line-height: 1.6;
    }

    .leccion-quimica-electronegatividad::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image:
            linear-gradient(rgba(57, 255, 20, 0.02) 1px, transparent 1px),
            linear-gradient(90deg, rgba(57, 255, 20, 0.02) 1px, transparent 1px);
        background-size: 40px 40px;
        pointer-events: none;
        z-index: 0;
    }

    .titulo-leccion {
        font-size: 2.5rem;
        color: var(--neon-concepto);
        margin-bottom: var(--space-sm);
        animation: glow 3s infinite;
    }

    @keyframes glow {
        0%, 100% { text-shadow: 0 0 5px currentColor; }
        50% { text-shadow: 0 0 10px currentColor, 0 0 15px currentColor; }
    }

    /* ==========================================
    COMPONENTES ESPEC칈FICOS
    ========================================== */
    .objetivo-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        border: 1px solid rgba(57, 255, 20, 0.2);
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        padding-left: 48px;
    }

    .objetivo-card:hover {
        transform: translateY(-2px);
        border-color: var(--neon-concepto);
    }

    .tabla-cyberpunk tr:hover {
        background: rgba(57, 255, 20, 0.05);
    }

    .tabla-cyberpunk tr.selected {
        background: rgba(57, 255, 20, 0.1);
    }

    .simulator-container {
        display: grid;
        grid-template-columns: 1fr 2fr 1fr;
        gap: var(--space-lg);
        padding: var(--space-lg);
        background: rgba(0, 0, 0, 0.7);
        border: 2px solid var(--neon-interactivo);
        border-radius: 8px;
    }

    .enlace-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 8px;
        border: 2px solid;
        cursor: pointer;
        transition: transform 0.2s ease;
    }

    .enlace-card[data-tipo="apolar"] { border-color: var(--color-apolar); }
    .enlace-card[data-tipo="polar"] { border-color: var(--color-polar); }
    .enlace-card[data-tipo="ionico"] { border-color: var(--color-ionico); }

    .quiz-option.correct { background: rgba(76, 175, 80, 0.1); }
    .quiz-option.incorrect { background: rgba(244, 67, 54, 0.1); }

    /* ==========================================
    RESPONSIVE
    ========================================== */
    @media (max-width: 768px) {
        .simulator-container {
            grid-template-columns: 1fr;
        }
    }

/* CSS CYBERPUNK ULTRA-COMPACTO */
.lec-quimica-orbitales {
    background: #0a0a1a;
    color: #e0f0ff;
    font-family: monospace;
    padding: 20px;
    max-width: 1200px;
    margin: 0 auto;
    line-height: 1.5;
    position: relative;
    font-size: 0.95rem;
}

/* FONDOS SUTILES */
.lec-quimica-orbitales::before {
    content: '';
    position: absolute;
    top:0; left:0; right:0; bottom:0;
    background: 
        linear-gradient(rgba(57,255,20,0.02) 1px, transparent 1px),
        linear-gradient(90deg, rgba(57,255,20,0.02) 1px, transparent 1px);
    background-size: 30px 30px;
    pointer-events: none;
}

/* CABECERA */
.lec-header { text-align: center; margin-bottom: 30px; }
.lec-title {
    font-size: 1.8rem;
    color: #39FF14;
    margin-bottom: 8px;
    animation: glow 3s infinite;
}
@keyframes glow {
    0%,100% { text-shadow: 0 0 5px #39FF14; }
    50% { text-shadow: 0 0 10px #39FF14; }
}
.lec-sub { color: #00FFFF; font-size: 1rem; margin-bottom: 12px; }

/* SECCIONES */
.sec-title {
    font-size: 1.3rem;
    color: #39FF14;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    gap: 8px;
    border-bottom: 2px solid;
    padding-bottom: 8px;
}

/* OBJETIVOS */
.obj-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 16px;
    margin-bottom: 30px;
}
.obj-card {
    background: rgba(10,10,26,0.8);
    padding: 16px;
    border-radius: 8px;
    border: 1px solid rgba(57,255,20,0.3);
    cursor: pointer;
    position: relative;
    padding-left: 50px;
}
.obj-check {
    position: absolute;
    left: 16px;
    top: 16px;
    width: 24px;
    height: 24px;
    border: 2px solid #39FF14;
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* TABLAS */
.tabla-cyberpunk {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
}
.tabla-cyberpunk th {
    background: rgba(57,255,20,0.1);
    color: #39FF14;
    padding: 12px;
    text-align: left;
    border-bottom: 2px solid #39FF14;
}
.tabla-cyberpunk td {
    padding: 12px;
    border-bottom: 1px solid rgba(255,255,255,0.1);
}
.tabla-cyberpunk tr:hover {
    background: rgba(57,255,20,0.05);
}

/* SIMULADOR */
.simulator-container {
    display: grid;
    grid-template-columns: 1fr 2fr 1fr;
    gap: 20px;
    background: rgba(0,0,0,0.7);
    padding: 20px;
    border-radius: 10px;
    border: 2px solid #FF00FF;
    margin-bottom: 30px;
}
@media (max-width: 992px) {
    .simulator-container { grid-template-columns: 1fr; }
}

/* CONTROLES */
.control-group { margin-bottom: 16px; }
.control-input {
    width: 100%;
    padding: 8px;
    background: rgba(0,0,0,0.5);
    border: 1px solid #FF00FF;
    border-radius: 4px;
    color: white;
    font-family: inherit;
}
.control-slider { width: 100%; margin: 8px 0; }
.button-group { display: flex; gap: 8px; }
.btn-mode {
    flex: 1;
    padding: 8px;
    background: rgba(255,255,255,0.05);
    border: 1px solid rgba(255,255,255,0.2);
    border-radius: 4px;
    color: white;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
}
.btn-mode.active {
    background: rgba(255,0,255,0.2);
    border-color: #FF00FF;
}

/* BOTONES PRINCIPALES */
.btn-sim-primario, .btn-sim-secundario, .btn-sim-terciario {
    width: 100%;
    padding: 12px;
    border: none;
    border-radius: 4px;
    font-weight: bold;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    margin-top: 8px;
}
.btn-sim-primario {
    background: linear-gradient(45deg, #FF00FF, #FF00AA);
    color: white;
}
.btn-sim-secundario {
    background: rgba(0,255,255,0.1);
    color: #00FFFF;
    border: 1px solid #00FFFF;
}
.btn-sim-terciario {
    background: rgba(255,255,255,0.05);
    color: #aaa;
    border: 1px solid rgba(255,255,255,0.2);
}

/* VISUALIZACI칍N */
.simulator-visualization {
    background: rgba(0,0,0,0.9);
    border-radius: 8px;
    overflow: hidden;
}
.diagrama-container {
    min-height: 400px;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 16px;
}

/* DATOS */
.simulator-data {
    background: rgba(10,10,26,0.8);
    padding: 16px;
    border-radius: 8px;
    border: 1px solid rgba(0,255,157,0.3);
}
.data-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 8px;
    margin-bottom: 16px;
}
.data-card {
    background: rgba(0,0,0,0.3);
    padding: 12px;
    border-radius: 4px;
    border-left: 3px solid #00FF9D;
}
.data-label { font-size: 0.8rem; color: #888; }
.data-value { font-size: 0.95rem; color: #00FF9D; font-weight: bold; }

/* QUIZ */
.quiz-container {
    background: rgba(10,10,26,0.8);
    padding: 20px;
    border-radius: 10px;
    border: 2px solid rgba(255,107,107,0.3);
    margin-bottom: 20px;
}
.q-options { display: grid; gap: 8px; margin: 16px 0; }
.q-opt {
    padding: 12px;
    background: rgba(255,255,255,0.05);
    border: 1px solid rgba(255,255,255,0.2);
    color: white;
    cursor: pointer;
    border-radius: 4px;
    display: flex;
    align-items: center;
    gap: 12px;
}
.q-opt.correct {
    background: rgba(57,255,20,0.1);
    border-color: #39FF14;
}
.q-opt.incorrect {
    background: rgba(255,107,107,0.1);
    border-color: #FF6B6B;
}

/* EJERCICIOS */
.ejercicios-nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px;
    background: rgba(0,0,0,0.5);
    border-bottom: 1px solid rgba(0,255,255,0.2);
}
.nav-tabs { display: flex; gap: 8px; }
.nav-tab {
    padding: 8px 12px;
    background: rgba(0,0,0,0.3);
    border: 1px solid rgba(0,255,255,0.2);
    color: #888;
    border-radius: 4px;
    cursor: pointer;
}
.nav-tab.active {
    background: rgba(0,255,255,0.1);
    color: #00FFFF;
    border-color: #00FFFF;
}

/* ERRORES */
.error-card { border-bottom: 1px solid rgba(255,255,0,0.2); }
.error-header {
    padding: 16px;
    background: rgba(255,255,0,0.05);
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.error-content { padding: 16px; background: rgba(0,0,0,0.3); }

/* EXAMEN */
.examen-problema { padding: 20px; }
.espacio-editor textarea {
    width: 100%;
    min-height: 150px;
    background: rgba(0,0,0,0.5);
    border: 1px solid rgba(0,255,255,0.3);
    border-radius: 4px;
    color: white;
    padding: 12px;
    font-family: monospace;
    resize: vertical;
}

/* AUTOEVALUACI칍N */
.auto-grid-detailed {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    margin-bottom: 20px;
}
.auto-slider-detailed { width: 100%; }

/* RESPONSIVE */
@media (max-width: 768px) {
    .lec-quimica-orbitales { padding: 12px; }
    .simulator-container { gap: 12px; padding: 12px; }
    .obj-grid, .data-grid { grid-template-columns: 1fr; }
    .ejercicios-nav { flex-direction: column; gap: 12px; }
}

/* ESTADOS */
button:hover:not(:disabled) {
    transform: translateY(-2px);
    transition: transform 0.2s;
}
input:focus, textarea:focus {
    outline: 2px solid #FF00FF;
    outline-offset: 2px;
}

/* UTILIDADES */
.highlight { border-left-color: #FF00FF !important; }
.neon-c { color: #39FF14; }
.neon-i { color: #FF00FF; }
.neon-e { color: #00FFFF; }
.neon-a { color: #FFFF00; }
.neon-ev { color: #FF6B6B; }
.neon-d { color: #00FF9D; }

.icon { margin-right: 6px; }
.badge {
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 0.8rem;
    border: 1px solid;
    display: inline-block;
    margin: 0 4px;
}

/* ESTILOS ESPEC칈FICOS PARA LA LECCI칍N DE ORBITALES */
.leccion-quimica-orbitales #svgOrbitales {
    filter: drop-shadow(0 0 5px rgba(0, 188, 212, 0.3));
}

.leccion-quimica-orbitales .diagrama-box {
    border-left: 3px solid var(--color-aufbau);
}

.leccion-quimica-orbitales .ejemplo-hund {
    color: var(--color-hund);
    font-weight: bold;
}
/* ==========================================
    VARIABLES CYBERPUNK EDUCATIVAS
    ========================================== */
    :root {
        --neon-concepto: #39FF14;
        --neon-interactivo: #FF00FF;
        --neon-ejemplo: #00FFFF;
        --neon-alerta: #FFFF00;
        --neon-evaluacion: #FF6B6B;
        --neon-dato: #00FF9D;
        --bg-leccion: #0a0a1a;
        --bg-seccion: rgba(0, 0, 0, 0.5);
        --bg-card: rgba(10, 10, 26, 0.8);
        --color-aufbau: #0288D1;
        --color-pauli: #E91E63;
        --color-hund: #FFC107;
        --font-base: 1rem;
        --space-sm: 8px;
        --space-md: 16px;
        --space-lg: 24px;
    }

    /* ==========================================
    ESTILOS GENERALES
    ========================================== */
    .leccion-quimica-orbitales {
        position: relative;
        background-color: var(--bg-leccion);
        color: #e0f0ff;
        font-family: 'Courier New', monospace;
        padding: var(--space-lg);
        max-width: 1200px;
        margin: 0 auto;
        line-height: 1.6;
    }

    .leccion-quimica-orbitales::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image:
            linear-gradient(rgba(2, 136, 209, 0.02) 1px, transparent 1px),
            linear-gradient(90deg, rgba(2, 136, 209, 0.02) 1px, transparent 1px);
        background-size: 40px 40px;
        pointer-events: none;
        z-index: 0;
    }

    .titulo-leccion {
        font-size: 2.5rem;
        color: var(--neon-concepto);
        margin-bottom: var(--space-sm);
        animation: glow 3s infinite;
    }

    @keyframes glow {
        0%, 100% { text-shadow: 0 0 5px currentColor; }
        50% { text-shadow: 0 0 10px currentColor, 0 0 15px currentColor; }
    }

    /* ==========================================
    COMPONENTES ESPEC칈FICOS
    ========================================== */
    .objetivo-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        border: 1px solid rgba(2, 136, 209, 0.2);
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        padding-left: 48px;
    }

    .objetivo-card:hover {
        transform: translateY(-2px);
        border-color: var(--color-aufbau);
    }

    .regla-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 8px;
        border: 2px solid;
        margin-bottom: var(--space-md);
    }

    .regla-card:nth-child(1) { border-color: var(--color-aufbau); }
    .regla-card:nth-child(2) { border-color: var(--color-pauli); }
    .regla-card:nth-child(3) { border-color: var(--color-hund); }

    .ejemplo-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        border: 1px solid rgba(2, 136, 209, 0.3);
        margin: var(--space-sm);
    }

    .diagrama-box {
        background: rgba(0, 0, 0, 0.3);
        padding: var(--space-sm);
        border-radius: 4px;
        font-family: monospace;
        margin: var(--space-sm) 0;
    }

    .orbital {
        margin: var(--space-sm) 0;
        font-size: 14px;
    }

    .simulator-container {
        display: grid;
        grid-template-columns: 1fr 2fr 1fr;
        gap: var(--space-lg);
        padding: var(--space-lg);
        background: rgba(0, 0, 0, 0.7);
        border: 2px solid var(--neon-interactivo);
        border-radius: 8px;
    }

    @media (max-width: 768px) {
        .simulator-container {
            grid-template-columns: 1fr;
        }
    }

    .quiz-option.correct { background: rgba(76, 175, 80, 0.1); }
    .quiz-option.incorrect { background: rgba(244, 67, 54, 0.1); }

    /* ==========================================
    RESPONSIVE
    ========================================== */
    @media (max-width: 768px) {
        .leccion-quimica-orbitales {
            padding: var(--space-md);
        }
    }
    /* ESTILOS ESPEC칈FICOS PARA LA LECCI칍N DE CLASES DE ELEMENTOS */
.leccion-quimica-elementos #tablaPeriodica {
    filter: drop-shadow(0 0 5px rgba(106, 27, 154, 0.3));
}

.leccion-quimica-elementos #svgClasificacion {
    transition: all 0.3s ease;
}

.leccion-quimica-elementos #elementoCirculo {
    transition: all 0.5s ease;
    cursor: pointer;
}

.leccion-quimica-elementos #elementoCirculo:hover {
    transform: scale(1.1);
    filter: drop-shadow(0 0 10px rgba(255, 213, 79, 0.7));
}
/* ==========================================
    VARIABLES CYBERPUNK EDUCATIVAS
    ========================================== */
    :root {
        --neon-concepto: #39FF14;
        --neon-interactivo: #FF00FF;
        --neon-ejemplo: #00FFFF;
        --neon-alerta: #FFFF00;
        --neon-evaluacion: #FF6B6B;
        --neon-dato: #00FF9D;
        --bg-leccion: #0a0a1a;
        --bg-seccion: rgba(0, 0, 0, 0.5);
        --bg-card: rgba(10, 10, 26, 0.8);
        --color-metal: #1565C0;
        --color-no-metal: #D84315;
        --color-metaloide: #6A1B9A;
        --font-base: 1rem;
        --space-sm: 8px;
        --space-md: 16px;
        --space-lg: 24px;
    }

    /* ==========================================
    ESTILOS GENERALES
    ========================================== */
    .leccion-quimica-elementos {
        position: relative;
        background-color: var(--bg-leccion);
        color: #e0f0ff;
        font-family: 'Courier New', monospace;
        padding: var(--space-lg);
        max-width: 1200px;
        margin: 0 auto;
        line-height: 1.6;
    }

    .leccion-quimica-elementos::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image:
            linear-gradient(rgba(106, 27, 154, 0.02) 1px, transparent 1px),
            linear-gradient(90deg, rgba(106, 27, 154, 0.02) 1px, transparent 1px);
        background-size: 40px 40px;
        pointer-events: none;
        z-index: 0;
    }

    .titulo-leccion {
        font-size: 2.5rem;
        color: var(--neon-concepto);
        margin-bottom: var(--space-sm);
        animation: glow 3s infinite;
    }

    @keyframes glow {
        0%, 100% { text-shadow: 0 0 5px currentColor; }
        50% { text-shadow: 0 0 10px currentColor, 0 0 15px currentColor; }
    }

    /* ==========================================
    COMPONENTES ESPEC칈FICOS
    ========================================== */
    .clase-card {
        background: var(--bg-card);
        border-radius: 8px;
        overflow: hidden;
        margin: var(--space-md);
        border: 2px solid rgba(106, 27, 154, 0.3);
    }

    .clase-header {
        padding: var(--space-sm);
        color: white;
        font-weight: bold;
        text-align: center;
    }

    .clase-body {
        padding: var(--space-md);
        background: rgba(0, 0, 0, 0.2);
    }

    .familia-card {
        background: var(--bg-card);
        border: 2px solid;
        border-radius: 8px;
        padding: var(--space-md);
        margin: var(--space-sm);
    }

    .bloque-card {
        background: var(--bg-card);
        border-radius: 8px;
        padding: var(--space-md);
        margin: var(--space-md);
        color: white;
        text-align: center;
    }

    .simulator-container {
        display: grid;
        grid-template-columns: 1fr 2fr 1fr;
        gap: var(--space-lg);
        padding: var(--space-lg);
        background: rgba(0, 0, 0, 0.7);
        border: 2px solid var(--neon-interactivo);
        border-radius: 8px;
    }

    @media (max-width: 768px) {
        .simulator-container {
            grid-template-columns: 1fr;
        }
    }

    .quiz-option.correct { background: rgba(76, 175, 80, 0.1); }
    .quiz-option.incorrect { background: rgba(244, 67, 54, 0.1); }

    /* ==========================================
    RESPONSIVE
    ========================================== */
    @media (max-width: 768px) {
        .leccion-quimica-elementos {
            padding: var(--space-md);
        }
    }
    /* ESTILOS ESPEC칈FICOS PARA LA LECCI칍N DE ENERG칈A */
.leccion-fisica-energia #diagramaTransformaciones {
    filter: drop-shadow(0 0 5px rgba(57, 255, 20, 0.3));
}

.leccion-fisica-energia #svgTransformacion {
    transition: all 0.3s ease;
}

.leccion-fisica-energia .control-slider {
    width: 100%;
    margin: var(--space-sm) 0;
}

.leccion-fisica-energia #eficienciaValue {
    display: inline-block;
    min-width: 40px;
    text-align: right;
    color: var(--neon-dato);
}

/* ==========================================
    VARIABLES CYBERPUNK EDUCATIVAS
    ========================================== */
    :root {
        --neon-concepto: #39FF14;
        --neon-interactivo: #FF00FF;
        --neon-ejemplo: #00FFFF;
        --neon-alerta: #FFFF00;
        --neon-evaluacion: #FF6B6B;
        --neon-dato: #00FF9D;
        --bg-leccion: #0a0a1a;
        --bg-seccion: rgba(0, 0, 0, 0.5);
        --bg-card: rgba(10, 10, 26, 0.8);
        --color-mecanica: #4CAF50;
        --color-termica: #FF5722;
        --color-quimica: #E91E63;
        --color-electrica: #2196F3;
        --color-nuclear: #9C27B0;
        --color-radiante: #FFC107;
        --font-base: 1rem;
        --space-sm: 8px;
        --space-md: 16px;
        --space-lg: 24px;
    }

    /* ==========================================
    ESTILOS GENERALES
    ========================================== */
    .leccion-fisica-energia {
        position: relative;
        background-color: var(--bg-leccion);
        color: #e0f0ff;
        font-family: 'Courier New', monospace;
        padding: var(--space-lg);
        max-width: 1200px;
        margin: 0 auto;
        line-height: 1.6;
    }

    .leccion-fisica-energia::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image:
            linear-gradient(rgba(57, 255, 20, 0.02) 1px, transparent 1px),
            linear-gradient(90deg, rgba(57, 255, 20, 0.02) 1px, transparent 1px);
        background-size: 40px 40px;
        pointer-events: none;
        z-index: 0;
    }

    .titulo-leccion {
        font-size: 2.5rem;
        color: var(--neon-concepto);
        margin-bottom: var(--space-sm);
        animation: glow 3s infinite;
    }

    @keyframes glow {
        0%, 100% { text-shadow: 0 0 5px currentColor; }
        50% { text-shadow: 0 0 10px currentColor, 0 0 15px currentColor; }
    }

    /* ==========================================
    COMPONENTES ESPEC칈FICOS
    ========================================== */
    .tipo-card {
        background: var(--bg-card);
        border: 2px solid;
        border-radius: 8px;
        padding: var(--space-md);
        margin: var(--space-sm);
    }

    .tipo-card:nth-child(1) { border-color: var(--color-mecanica); }
    .tipo-card:nth-child(2) { border-color: var(--color-termica); }
    .tipo-card:nth-child(3) { border-color: var(--color-quimica); }
    .tipo-card:nth-child(4) { border-color: var(--color-electrica); }
    .tipo-card:nth-child(5) { border-color: var(--color-nuclear); }
    .tipo-card:nth-child(6) { border-color: var(--color-radiante); }

    .fuente-card {
        background: var(--bg-card);
        border-radius: 8px;
        padding: var(--space-md);
        margin: var(--space-md);
    }

    .fuente-card.renovable {
        border-left: 4px solid #4CAF50;
    }

    .fuente-card.no-renovable {
        border-left: 4px solid #F44336;
    }

    .simulator-container {
        display: grid;
        grid-template-columns: 1fr 2fr 1fr;
        gap: var(--space-lg);
        padding: var(--space-lg);
        background: rgba(0, 0, 0, 0.7);
        border: 2px solid var(--neon-interactivo);
        border-radius: 8px;
    }

    @media (max-width: 768px) {
        .simulator-container {
            grid-template-columns: 1fr;
        }
    }

    .quiz-option.correct { background: rgba(76, 175, 80, 0.1); }
    .quiz-option.incorrect { background: rgba(244, 67, 54, 0.1); }

    /* ==========================================
    RESPONSIVE
    ========================================== */
    @media (max-width: 768px) {
        .leccion-fisica-energia {
            padding: var(--space-md);
        }
    }

    /* ESTILOS ADICIONALES PARA LA LECCI칍N DE ENERG칈A */
.leccion-fisica-energia #svgPendulo {
    filter: drop-shadow(0 0 5px rgba(57, 255, 20, 0.2));
}

.leccion-fisica-energia #masaPenduloSVG {
    transition: all 0.1s linear;
    filter: drop-shadow(0 0 8px rgba(255, 0, 255, 0.7));
}

.leccion-fisica-energia #trayectoria {
    transition: all 0.5s ease;
}

.leccion-fisica-energia .neon-cinetica {
    color: var(--neon-cinetica);
}

.leccion-fisica-energia .neon-potencial {
    color: var(--neon-potencial);
}

.leccion-fisica-energia .neon-elastica {
    color: var(--neon-elastica);
}

.leccion-fisica-energia .neon-termica {
    color: var(--neon-termica);
}

.leccion-fisica-energia .neon-electrica {
    color: var(--neon-electrica);
}

.leccion-fisica-energia .neon-quimica {
    color: var(--neon-quimica);
}

.leccion-fisica-energia .neon-nuclear {
    color: var(--neon-nuclear);
}
/* ========================================
   VARIABLES CYBERPUNK F칈SICA
======================================== */
:root {
    /* PALETA NEON F칈SICA */
    --neon-energia: #39FF14;      /* Verde - Energ칤a */
    --neon-cinetica: #FF00FF;     /* Rosa - Cin칠tica */
    --neon-potencial: #00FFFF;    /* Cian - Potencial */
    --neon-elastica: #FFEB3B;     /* Amarillo - El치stica */
    --neon-termica: #FF5722;      /* Naranja - T칠rmica */
    --neon-electrica: #2196F3;    /* Azul - El칠ctrica */
    --neon-quimica: #E91E63;      /* Rosa - Qu칤mica */
    --neon-nuclear: #9C27B0;      /* Morado - Nuclear */
    --neon-ejemplo: #FFFF00;      /* Amarillo - Ejemplos */
    --neon-simulador: #FF6B6B;    /* Rojo - Simulador */
    --neon-dato: #00FF9D;        /* Verde datos */

    /* FONDOS */
    --bg-fisica: #0a0a1a;
    --bg-section: rgba(0, 0, 0, 0.5);
    --bg-card: rgba(10, 10, 26, 0.8);

    /* ESPACIADO COMPACTO */
    --space-xs: 4px;
    --space-sm: 8px;
    --space-md: 12px;
    --space-lg: 16px;
    --space-xl: 20px;
}

/* ========================================
   ESTRUCTURA COMPACTA
======================================== */
.leccion-fisica-energia {
    background: var(--bg-fisica);
    color: #e0f0ff;
    font-family: 'Courier New', monospace;
    padding: var(--space-xl);
    max-width: 1200px;
    margin: 0 auto;
    line-height: 1.5;
    position: relative;
}

/* Grid sutil */
.leccion-fisica-energia::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background-image:
        linear-gradient(rgba(57, 255, 20, 0.02) 1px, transparent 1px),
        linear-gradient(90deg, rgba(57, 255, 20, 0.02) 1px, transparent 1px);
    background-size: 30px 30px;
    pointer-events: none;
    z-index: 0;
}

/* CABECERA COMPACTA */
.leccion-header {
    text-align: center;
    margin-bottom: var(--space-xl);
    position: relative;
    z-index: 1;
}

.titulo-leccion {
    font-size: 1.8rem;
    color: var(--neon-energia);
    margin-bottom: var(--space-xs);
    animation: glow 3s infinite;
}

.subtitulo {
    font-size: 0.9rem;
    color: var(--neon-ejemplo);
    opacity: 0.8;
}

/* PANEL OBJETIVOS COMPACTO */
.panel-objetivos {
    background: var(--bg-section);
    padding: var(--space-lg);
    border-radius: 6px;
    margin-bottom: var(--space-xl);
    border-left: 3px solid var(--neon-energia);
}

.objetivos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: var(--space-md);
    margin-top: var(--space-md);
}

.objetivo-card {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 4px;
    border: 1px solid rgba(57, 255, 20, 0.2);
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
    padding-left: 36px;
    font-size: 0.85rem;
}

.objetivo-card:hover {
    transform: translateY(-2px);
    border-color: var(--neon-energia);
    box-shadow: 0 2px 8px rgba(57, 255, 20, 0.2);
}

.objetivo-checkbox {
    position: absolute;
    left: 8px;
    top: 8px;
    width: 20px;
    height: 20px;
    border: 2px solid var(--neon-energia);
    border-radius: 3px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
}

/* CONCEPT CARD */
.concept-card {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 6px;
    border: 2px solid var(--neon-energia);
    margin-bottom: var(--space-xl);
}

.formula-destacada {
    text-align: center;
    margin: var(--space-md) 0;
    padding: var(--space-md);
    background: rgba(57, 255, 20, 0.05);
    border-radius: 4px;
    font-size: 0.9rem;
}

.ley-conservacion {
    margin-top: var(--space-md);
    padding: var(--space-md);
    background: rgba(0, 255, 255, 0.05);
    border-radius: 4px;
}

.ejemplo-conservacion {
    margin-top: var(--space-sm);
    font-size: 0.9rem;
    color: var(--neon-ejemplo);
}

/* TABLA COMPACTA */
.tabla-interactiva {
    margin-bottom: var(--space-xl);
}

.tabla-cyberpunk {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.85rem;
}

.tabla-cyberpunk th {
    background: rgba(57, 255, 20, 0.1);
    color: var(--neon-energia);
    padding: var(--space-md);
    text-align: left;
    border-bottom: 2px solid var(--neon-energia);
}

.tabla-cyberpunk td {
    padding: var(--space-md);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    cursor: pointer;
}

.tabla-cyberpunk tr:hover {
    background: rgba(57, 255, 20, 0.05);
}

.tabla-cyberpunk tr.selected {
    background: rgba(57, 255, 20, 0.1);
    outline: 1px solid var(--neon-energia);
}

.tabla-info {
    margin-top: var(--space-md);
    padding: var(--space-md);
    background: rgba(255, 255, 0, 0.05);
    border: 1px solid var(--neon-ejemplo);
    border-radius: 4px;
    font-size: 0.85rem;
}

/* TRANSFORMACIONES GRID */
.transformaciones-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: var(--space-md);
    margin-bottom: var(--space-xl);
}

.transf-card {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 6px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    text-align: center;
    transition: all 0.3s ease;
}

.transf-card:hover {
    transform: translateY(-4px);
    border-color: var(--neon-interactivo);
    box-shadow: 0 4px 12px rgba(255, 0, 255, 0.2);
}

.transf-icon {
    font-size: 2rem;
    margin-bottom: var(--space-sm);
}

.ejemplos-mini {
    font-size: 0.8rem;
    margin-top: var(--space-sm);
    color: var(--neon-ejemplo);
}

/* EJEMPLO INTERACTIVO */
.ejemplo-interactivo {
    background: var(--bg-section);
    padding: var(--space-lg);
    border-radius: 6px;
    border: 1px solid var(--neon-ejemplo);
    margin-bottom: var(--space-xl);
}

.calculadora-mini {
    background: rgba(0, 0, 0, 0.3);
    padding: var(--space-md);
    border-radius: 4px;
    margin-top: var(--space-md);
    font-size: 0.9rem;
}

.calc-step input {
    width: 50px;
    padding: 2px 4px;
    background: rgba(0, 0, 0, 0.5);
    color: white;
    border: 1px solid var(--neon-dato);
    border-radius: 3px;
    text-align: center;
}

/* SIMULADOR COMPACTO */
.simulator-container {
    display: grid;
    grid-template-columns: 1fr 2fr 1fr;
    gap: var(--space-lg);
    padding: var(--space-lg);
    background: rgba(0, 0, 0, 0.7);
    border: 2px solid var(--neon-simulador);
    border-radius: 6px;
    margin-bottom: var(--space-xl);
}

@media (max-width: 768px) {
    .simulator-container {
        grid-template-columns: 1fr;
    }
}

.simulator-controls, .simulator-data {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 4px;
    font-size: 0.85rem;
}

.control-group {
    margin-bottom: var(--space-md);
}

.control-group label {
    display: block;
    margin-bottom: 2px;
    color: var(--neon-dato);
}

.control-group input[type="range"] {
    width: 100%;
    margin: 4px 0;
}

.btn-simular, .btn-pausar, .btn-reset {
    width: 100%;
    padding: 8px;
    margin-top: 4px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    font-size: 0.85rem;
}

.btn-simular {
    background: linear-gradient(45deg, #FF00FF, #FF6B6B);
    color: white;
}

.btn-pausar {
    background: linear-gradient(45deg, #00FFFF, #2196F3);
    color: white;
}

.btn-reset {
    background: rgba(255, 255, 255, 0.1);
    color: #e0f0ff;
}

.simulator-visualization {
    background: rgba(0, 0, 0, 0.9);
    border-radius: 4px;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 300px;
}

.data-card {
    background: rgba(255, 255, 255, 0.05);
    padding: 6px 8px;
    margin-bottom: 6px;
    border-radius: 3px;
    border-left: 2px solid var(--neon-dato);
    display: flex;
    justify-content: space-between;
}

.data-card.highlight {
    border-left-color: var(--neon-simulador);
    background: rgba(255, 107, 107, 0.1);
}

.estadisticas {
    margin-top: var(--space-lg);
    padding-top: var(--space-md);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    font-size: 0.85rem;
}

.stat-item {
    display: flex;
    justify-content: space-between;
    margin-bottom: 4px;
}

.stat-value {
    color: var(--neon-dato);
    font-weight: bold;
}

/* QUIZ COMPACTO */
.quiz-question {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 6px;
    margin-bottom: var(--space-md);
    border: 1px solid rgba(255, 107, 107, 0.3);
}

.quiz-options {
    display: grid;
    gap: 6px;
    margin: var(--space-md) 0;
}

.quiz-option {
    padding: 8px 12px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: #e0f0ff;
    cursor: pointer;
    text-align: left;
    transition: all 0.2s ease;
    border-radius: 3px;
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 0.85rem;
}

.quiz-option:hover {
    background: rgba(255, 255, 255, 0.1);
    transform: translateX(3px);
}

.quiz-option.correct {
    background: rgba(57, 255, 20, 0.1);
    border-color: var(--neon-energia);
}

.quiz-option.incorrect {
    background: rgba(255, 107, 107, 0.1);
    border-color: var(--neon-simulador);
}

.option-letter {
    background: rgba(255, 255, 255, 0.1);
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    font-size: 0.75rem;
    font-weight: bold;
}

.quiz-feedback {
    margin-top: var(--space-md);
    padding: var(--space-md);
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
    font-size: 0.85rem;
    display: none;
}

.quiz-results {
    text-align: center;
    margin-top: var(--space-xl);
}

.btn-retry {
    padding: 8px 20px;
    background: var(--neon-energia);
    color: #000;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
    margin-top: var(--space-md);
}

/* ERRORES COMUNES */
.error-card {
    background: var(--bg-card);
    border: 1px solid var(--neon-alerta);
    border-radius: 6px;
    margin-bottom: var(--space-md);
    overflow: hidden;
}

.error-header {
    background: rgba(255, 255, 0, 0.05);
    padding: var(--space-md);
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.error-content {
    padding: var(--space-md);
    border-top: 1px solid rgba(255, 255, 0, 0.2);
    display: none;
}

.error-tabla {
    margin-top: var(--space-md);
    font-size: 0.8rem;
}

.error-tabla table {
    width: 100%;
    border-collapse: collapse;
}

.error-tabla th, .error-tabla td {
    padding: 4px;
    border: 1px solid rgba(255, 255, 0, 0.3);
}

/* PROBLEMAS TIPO EXAMEN */
.problema-card {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 6px;
    margin-bottom: var(--space-lg);
    border: 1px solid rgba(255, 107, 107, 0.3);
}

.problema-header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-md);
}

.problema-num {
    background: var(--neon-evaluacion);
    color: #000;
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 4px;
    font-weight: bold;
    font-size: 0.8rem;
}

.problema-enunciado {
    margin-bottom: var(--space-md);
    font-size: 0.9rem;
}

.problema-enunciado ol {
    padding-left: var(--space-lg);
}

.problema-espacio textarea {
    width: 100%;
    min-height: 120px;
    background: rgba(0, 0, 0, 0.5);
    color: #e0f0ff;
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-radius: 4px;
    padding: var(--space-sm);
    font-family: inherit;
    font-size: 0.85rem;
}

.problema-solucion {
    margin-top: var(--space-md);
    padding: var(--space-md);
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
    font-size: 0.85rem;
    display: none;
}

.btn-verificar {
    padding: 8px 16px;
    background: var(--neon-dato);
    color: #000;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
    margin-top: var(--space-sm);
}

.rubrica-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: var(--space-md);
    font-size: 0.8rem;
}

.rubrica-table th, .rubrica-table td {
    padding: 6px;
    border: 1px solid rgba(255, 255, 255, 0.2);
    text-align: center;
}

.rubrica-table th {
    background: rgba(57, 255, 20, 0.1);
}

/* CIERRE METACOGNITIVO */
.cierre-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-lg);
}

.autoevaluacion, .reflexion, .plan-estudio, .recursos {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 6px;
}

.slider-group {
    margin-bottom: var(--space-md);
}

.slider-group label {
    display: block;
    margin-bottom: 4px;
    font-size: 0.9rem;
}

.autoeval-slider {
    width: 100%;
}

.slider-labels {
    display: flex;
    justify-content: space-between;
    font-size: 0.8rem;
    margin-top: 4px;
}

.btn-guardar {
    width: 100%;
    padding: 8px;
    background: var(--neon-dato);
    color: #000;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
    margin-top: var(--space-md);
}

.recursos-links {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.recurso-link {
    color: var(--neon-ejemplo);
    text-decoration: none;
    padding: 4px;
    border-radius: 3px;
    transition: all 0.2s ease;
}

.recurso-link:hover {
    background: rgba(255, 255, 0, 0.1);
    transform: translateX(4px);
}

/* ANIMACIONES */
@keyframes glow {
    0%, 100% { text-shadow: 0 0 5px currentColor; }
    50% { text-shadow: 0 0 10px currentColor, 0 0 15px currentColor; }
}

@keyframes highlight {
    0% { background-color: rgba(57, 255, 20, 0); }
    50% { background-color: rgba(57, 255, 20, 0.1); }
    100% { background-color: rgba(57, 255, 20, 0); }
}

/* RESPONSIVE */
@media (max-width: 768px) {
    .leccion-fisica-energia {
        padding: var(--space-md);
    }

    .titulo-leccion {
        font-size: 1.4rem;
    }

    .objetivos-grid, .transformaciones-grid {
        grid-template-columns: 1fr;
    }

    .tabla-cyberpunk {
        font-size: 0.75rem;
    }

    .tabla-cyberpunk th, .tabla-cyberpunk td {
        padding: 6px;
    }

    .simulator-container {
        grid-template-columns: 1fr;
    }

    .cierre-container {
        grid-template-columns: 1fr;
    }
}
/* ESTILOS ADICIONALES PARA ANIMACIONES */
.leccion-fisica-fracking #fluidoInyeccion {
    transition: r 0.3s ease;
}

.leccion-fisica-fracking #fracturasGroup line {
    transition: all 0.5s ease;
}

.leccion-fisica-fracking #hidrocarburosGroup circle {
    transition: all 1s ease;
}

/* EFECTOS NEON PARA T칈TULOS */
.leccion-fisica-fracking .neon-fracking {
    color: var(--neon-fracking);
    text-shadow: 0 0 5px var(--neon-fracking);
}

.leccion-fisica-fracking .neon-presion {
    color: var(--neon-presion);
}

.leccion-fisica-fracking .neon-agua {
    color: var(--neon-agua);
}

.leccion-fisica-fracking .neon-quimicos {
    color: var(--neon-quimicos);
}

.leccion-fisica-fracking .neon-riesgo {
    color: var(--neon-riesgo);
    font-weight: bold;
}

.leccion-fisica-fracking .neon-sostenible {
    color: var(--neon-sostenible);
}
/* ========================================
   VARIABLES CYBERPUNK F칈SICA - FRACKING
======================================== */
:root {
    /* PALETA NEON INDUSTRIAL */
    --neon-fracking: #FF9800;    /* Naranja - Energ칤a f칩sil */
    --neon-presion: #E91E63;     /* Rosa - Presi칩n */
    --neon-agua: #2196F3;        /* Azul - Agua */
    --neon-quimicos: #9C27B0;    /* Morado - Qu칤micos */
    --neon-riesgo: #F44336;      /* Rojo - Riesgos */
    --neon-sostenible: #4CAF50;  /* Verde - Sostenibilidad */
    --neon-dato: #FFC107;        /* Amarillo - Datos */

    /* FONDOS */
    --bg-fracking: #121212;
    --bg-section: rgba(0, 0, 0, 0.6);
    --bg-card: rgba(18, 18, 18, 0.9);

    /* ESPACIADO */
    --space-xs: 4px;
    --space-sm: 8px;
    --space-md: 12px;
    --space-lg: 16px;
    --space-xl: 20px;
}

/* ========================================
   ESTRUCTURA GENERAL
======================================== */
.leccion-fisica-fracking {
    background: var(--bg-fracking);
    color: #e0e0e0;
    font-family: 'Courier New', monospace;
    padding: var(--space-xl);
    max-width: 1200px;
    margin: 0 auto;
    line-height: 1.5;
    position: relative;
}

/* Grid industrial */
.leccion-fisica-fracking::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background-image:
        linear-gradient(rgba(255, 152, 0, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255, 152, 0, 0.03) 1px, transparent 1px);
    background-size: 40px 40px;
    pointer-events: none;
}

/* ========================================
   COMPONENTES ESPEC칈FICOS
======================================== */
.leccion-header {
    text-align: center;
    margin-bottom: var(--space-xl);
    position: relative;
}

.titulo-leccion {
    font-size: 1.8rem;
    color: var(--neon-fracking);
    margin-bottom: var(--space-xs);
    animation: glow 3s infinite;
}

.subtitulo {
    font-size: 0.9rem;
    color: var(--neon-dato);
    opacity: 0.9;
}

/* PANEL OBJETIVOS */
.panel-objetivos {
    background: var(--bg-section);
    padding: var(--space-lg);
    border-radius: 6px;
    margin-bottom: var(--space-xl);
    border-left: 3px solid var(--neon-fracking);
}

.objetivos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: var(--space-md);
}

.objetivo-card {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 4px;
    border: 1px solid rgba(255, 152, 0, 0.2);
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
    padding-left: 36px;
}

.objetivo-card:hover {
    border-color: var(--neon-fracking);
    box-shadow: 0 2px 8px rgba(255, 152, 0, 0.2);
}

/* CONTEXTO REAL */
.contexto-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-lg);
    margin-bottom: var(--space-xl);
}

.contexto-card {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 6px;
    border: 1px solid var(--neon-dato);
}

.dato-neon {
    color: var(--neon-dato);
    font-size: 0.8rem;
    margin-top: var(--space-sm);
    font-weight: bold;
}

/* FUNDAMENTOS F칈SICOS */
.concepto-dual {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-lg);
    margin-bottom: var(--space-xl);
}

.formula-card {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 6px;
    border: 1px solid var(--neon-presion);
}

.explicacion-card {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 6px;
    border: 1px solid var(--neon-dato);
}

.formula-grand {
    font-size: 1.5rem;
    text-align: center;
    margin-bottom: var(--space-md);
    color: var(--neon-presion);
}

.ejemplo-destacado {
    background: rgba(233, 30, 99, 0.1);
    padding: var(--space-sm);
    border-radius: 4px;
    margin: var(--space-sm) 0;
    font-size: 0.9rem;
}

/* PROCESO T칄CNICO */
.proceso-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-md);
    margin-bottom: var(--space-xl);
}

.paso-card {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 6px;
    border: 1px solid var(--neon-presion);
}

.paso-header {
    background: var(--neon-presion);
    color: #000;
    padding: var(--space-xs) var(--space-sm);
    border-radius: 4px 4px 0 0;
    font-weight: bold;
    text-align: center;
}

.paso-body {
    padding: var(--space-sm);
}

.dato-tecnico {
    background: rgba(255, 152, 0, 0.1);
    padding: var(--space-xs);
    border-radius: 4px;
    margin-top: var(--space-xs);
    font-size: 0.8rem;
}

/* FLUIDO DIAGRAMA */
.fluido-diagrama {
    margin: var(--space-lg) 0;
    text-align: center;
}

/* SIMULADOR */
.simulator-container {
    display: grid;
    grid-template-columns: 1fr 2fr 1fr;
    gap: var(--space-lg);
    padding: var(--space-lg);
    background: var(--bg-section);
    border: 2px solid var(--neon-presion);
    border-radius: 6px;
    margin-bottom: var(--space-xl);
}

@media (max-width: 768px) {
    .simulator-container {
        grid-template-columns: 1fr;
    }
}

.simulator-controls {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 4px;
}

.control-group {
    margin-bottom: var(--space-md);
}

.control-group label {
    display: block;
    margin-bottom: var(--space-xs);
    color: var(--neon-dato);
}

.control-group input[type="range"] {
    width: 100%;
    margin: var(--space-xs) 0;
}

.btn-simular {
    width: 100%;
    padding: var(--space-sm);
    background: linear-gradient(45deg, var(--neon-presion), var(--neon-fracking));
    color: #000;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
    margin-top: var(--space-sm);
}

.btn-reset {
    width: 100%;
    padding: var(--space-sm);
    background: var(--bg-card);
    color: var(--neon-dato);
    border: 1px solid var(--neon-dato);
    border-radius: 4px;
    cursor: pointer;
    margin-top: var(--space-xs);
}

.simulator-visualization {
    background: #0a0a1a;
    border-radius: 4px;
    overflow: hidden;
}

.simulator-data {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 4px;
}

.data-card {
    background: rgba(0, 0, 0, 0.3);
    padding: var(--space-sm);
    margin-bottom: var(--space-sm);
    border-radius: 4px;
    display: flex;
    justify-content: space-between;
}

.data-card.highlight {
    border-left: 3px solid var(--neon-riesgo);
    background: rgba(244, 67, 54, 0.1);
}

.impacto-ambiental {
    margin-top: var(--space-lg);
    padding-top: var(--space-md);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.impacto-item {
    display: flex;
    justify-content: space-between;
    margin-bottom: var(--space-xs);
    font-size: 0.9rem;
}

.impacto-value {
    color: var(--neon-riesgo);
    font-weight: bold;
}

/* AN츼LISIS DE DATOS */
.analisis-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-lg);
    margin-bottom: var(--space-xl);
}

.analisis-card {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 6px;
    border: 1px solid var(--neon-dato);
}

.grafica-barras {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
    margin: var(--space-md) 0;
}

.barra {
    height: 20px;
    background: var(--neon-sostenible);
    border-radius: 4px;
    position: relative;
    width: var(--alto);
    transition: width 0.5s ease;
}

.barra-valor {
    position: absolute;
    right: 5px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 0.8rem;
    color: #000;
    font-weight: bold;
}

.barra-etiqueta {
    margin-top: var(--space-xs);
    font-size: 0.8rem;
    color: var(--neon-dato);
}

.dato-gigante {
    font-size: 2.5rem;
    color: var(--neon-agua);
    font-weight: bold;
    text-align: center;
    margin: var(--space-md) 0;
}

.unidad {
    font-size: 1rem;
    color: var(--neon-dato);
}

.dato-descripcion {
    text-align: center;
    font-size: 0.8rem;
    color: var(--neon-dato);
    margin-top: var(--space-xs);
}

.comparacion {
    margin-top: var(--space-md);
}

.comparacion-item {
    display: flex;
    justify-content: space-between;
    margin-bottom: var(--space-xs);
    font-size: 0.9rem;
}

.grafica-circular {
    text-align: center;
    margin: var(--space-md) 0;
}

/* QUIZ */
.quiz-container {
    margin-bottom: var(--space-xl);
}

.quiz-question {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 6px;
    margin-bottom: var(--space-md);
    border: 1px solid var(--neon-riesgo);
}

.quiz-options {
    display: grid;
    gap: var(--space-sm);
    margin: var(--space-md) 0;
}

.quiz-option {
    padding: var(--space-sm);
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 4px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    transition: all 0.2s ease;
}

.quiz-option:hover {
    background: rgba(255, 255, 255, 0.1);
}

.quiz-option.correct {
    background: rgba(76, 175, 80, 0.1);
    border-color: var(--neon-sostenible);
}

.quiz-option.incorrect {
    background: rgba(244, 67, 54, 0.1);
    border-color: var(--neon-riesgo);
}

.option-letter {
    background: var(--neon-dato);
    color: #000;
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    font-size: 0.7rem;
    font-weight: bold;
}

.quiz-feedback {
    margin-top: var(--space-md);
    padding: var(--space-md);
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
    display: none;
}

.quiz-results {
    text-align: center;
    margin-top: var(--space-xl);
}

.btn-retry {
    padding: var(--space-sm) var(--space-md);
    background: var(--neon-fracking);
    color: #000;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
    margin-top: var(--space-md);
}

/* DEBATE */
.debate-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-lg);
    margin-bottom: var(--space-xl);
}

.argumento-card {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 6px;
}

.argumento-card.pro {
    border: 2px solid var(--neon-sostenible);
}

.argumento-card.contra {
    border: 2px solid var(--neon-riesgo);
}

.argumento-header {
    padding: var(--space-xs) var(--space-sm);
    text-align: center;
    font-weight: bold;
    margin-bottom: var(--space-sm);
}

.argumento-card.pro .argumento-header {
    background: var(--neon-sostenible);
    color: #000;
}

.argumento-card.contra .argumento-header {
    background: var(--neon-riesgo);
    color: #000;
}

.conclusiones {
    margin-top: var(--space-lg);
}

.conclusiones-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-md);
}

.conclusiones-item {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 6px;
    text-align: center;
}

.conclusiones-titulo {
    font-size: 0.9rem;
    margin-bottom: var(--space-xs);
    color: var(--neon-dato);
}

.conclusiones-valor {
    font-size: 1.2rem;
    font-weight: bold;
    margin: var(--space-xs) 0;
}

.alto {
    color: var(--neon-riesgo);
}

.medio {
    color: var(--neon-fracking);
}

.bajo {
    color: var(--neon-sostenible);
}

.declive {
    color: var(--neon-riesgo);
}

/* PROBLEMAS TIPO EXAMEN */
.problema-card {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 6px;
    margin-bottom: var(--space-lg);
    border: 1px solid var(--neon-dato);
}

.problema-header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-md);
}

.problema-num {
    background: var(--neon-fracking);
    color: #000;
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 4px;
    font-weight: bold;
}

.problema-enunciado {
    margin-bottom: var(--space-md);
}

.problema-enunciado ol {
    padding-left: var(--space-lg);
}

.problema-espacio textarea {
    width: 100%;
    min-height: 120px;
    background: rgba(0, 0, 0, 0.5);
    color: #e0e0e0;
    border: 1px solid var(--neon-dato);
    border-radius: 4px;
    padding: var(--space-sm);
    font-family: inherit;
}

.problema-solucion {
    margin-top: var(--space-md);
    padding: var(--space-md);
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
    display: none;
}

.btn-verificar {
    padding: var(--space-xs) var(--space-sm);
    background: var(--neon-dato);
    color: #000;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
    margin-top: var(--space-sm);
}

.rubrica-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: var(--space-md);
    font-size: 0.8rem;
}

.rubrica-table th, .rubrica-table td {
    padding: var(--space-xs);
    border: 1px solid var(--neon-dato);
    text-align: center;
}

/* CIERRE METACOGNITIVO */
.cierre-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-lg);
}

.autoevaluacion, .reflexion, .plan-estudio, .recursos {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 6px;
}

.slider-group {
    margin-bottom: var(--space-md);
}

.recursos-links {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.recurso-link {
    color: var(--neon-dato);
    text-decoration: none;
    padding: var(--space-xs);
    border-radius: 3px;
    transition: all 0.2s ease;
}

.recurso-link:hover {
    background: rgba(255, 152, 0, 0.1);
}

/* ANIMACIONES */
@keyframes glow {
    0%, 100% { text-shadow: 0 0 5px currentColor; }
    50% { text-shadow: 0 0 10px currentColor, 0 0 15px currentColor; }
}

@keyframes highlight {
    0% { background-color: rgba(255, 152, 0, 0); }
    50% { background-color: rgba(255, 152, 0, 0.1); }
    100% { background-color: rgba(255, 152, 0, 0); }
}

/* RESPONSIVE */
@media (max-width: 768px) {
    .leccion-fisica-fracking {
        padding: var(--space-md);
    }

    .titulo-leccion {
        font-size: 1.4rem;
    }

    .contexto-grid, .proceso-grid, .analisis-grid, .conclusiones-grid {
        grid-template-columns: 1fr;
    }

    .debate-container {
        grid-template-columns: 1fr;
    }

    .simulator-container {
        grid-template-columns: 1fr;
    }
}

/* ESTILOS ADICIONALES PARA ANIMACIONES */
.leccion-fisica-joule #paletasGroup {
    transition: transform 0.5s ease;
}

.leccion-fisica-joule #cuerda {
    stroke-dasharray: 5, 3;
    animation: cuerdaAnim 0.5s linear infinite;
}

@keyframes cuerdaAnim {
    0% { stroke-dashoffset: 0; }
    100% { stroke-dashoffset: -8; }
}

.leccion-fisica-joule #mercurio {
    transition: height 1s ease, y 1s ease;
}

.leccion-fisica-joule #agua {
    transition: height 0.3s ease;
}

/* EFECTOS NEON PARA F칍RMULAS */
.leccion-fisica-joule .formula-grand {
    text-shadow: 0 0 5px var(--neon-joule);
}

.leccion-fisica-joule .neon-trabajo {
    color: var(--neon-trabajo);
    text-shadow: 0 0 3px var(--neon-trabajo);
}

.leccion-fisica-joule .neon-energia {
    color: var(--neon-energia);
    text-shadow: 0 0 3px var(--neon-energia);
}

.leccion-fisica-joule .neon-calor {
    color: var(--neon-calor);
    text-shadow: 0 0 3px var(--neon-calor);
}
/* ========================================
   VARIABLES CYBERPUNK F칈SICA - JOULE
======================================== */
:root {
    /* PALETA NEON CIENT칈FICA */
    --neon-joule: #2196F3;      /* Azul - Joule */
    --neon-trabajo: #4CAF50;    /* Verde - Trabajo */
    --neon-energia: #FF9800;   /* Naranja - Energ칤a */
    --neon-calor: #E91E63;      /* Rosa - Calor */
    --neon-conversion: #9C27B0; /* Morado - Conversiones */
    --neon-dato: #00BCD4;      /* Cian - Datos */

    /* FONDOS */
    --bg-joule: #0a0a1a;
    --bg-section: rgba(0, 0, 0, 0.6);
    --bg-card: rgba(10, 10, 26, 0.9);

    /* ESPACIADO */
    --space-xs: 4px;
    --space-sm: 8px;
    --space-md: 12px;
    --space-lg: 16px;
    --space-xl: 20px;
}

/* ========================================
   ESTRUCTURA GENERAL
======================================== */
.leccion-fisica-joule {
    background: var(--bg-joule);
    color: #e0e0e0;
    font-family: 'Courier New', monospace;
    padding: var(--space-xl);
    max-width: 1200px;
    margin: 0 auto;
    line-height: 1.5;
    position: relative;
}

/* Grid cient칤fico */
.leccion-fisica-joule::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background-image:
        linear-gradient(rgba(33, 150, 243, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(33, 150, 243, 0.03) 1px, transparent 1px);
    background-size: 30px 30px;
    pointer-events: none;
}

/* ========================================
   COMPONENTES ESPEC칈FICOS
======================================== */
.leccion-header {
    text-align: center;
    margin-bottom: var(--space-xl);
    position: relative;
}

.titulo-leccion {
    font-size: 1.8rem;
    color: var(--neon-joule);
    margin-bottom: var(--space-xs);
    animation: glow 3s infinite;
}

.subtitulo {
    font-size: 0.9rem;
    color: var(--neon-dato);
    opacity: 0.9;
}

/* PANEL OBJETIVOS */
.objetivos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: var(--space-md);
}

.objetivo-card {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 4px;
    border: 1px solid rgba(33, 150, 243, 0.2);
    cursor: pointer;
    transition: all 0.2s ease;
}

.objetivo-card:hover {
    border-color: var(--neon-joule);
    box-shadow: 0 2px 8px rgba(33, 150, 243, 0.2);
}

/* CONTEXTO REAL */
.contexto-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-lg);
    margin-bottom: var(--space-xl);
}

.contexto-card {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 6px;
    border: 1px solid var(--neon-dato);
}

.dato-neon {
    color: var(--neon-dato);
    font-size: 0.8rem;
    margin-top: var(--space-sm);
    font-weight: bold;
}

/* DEFINICI칍N DUAL */
.definicion-dual {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-lg);
    margin-bottom: var(--space-xl);
}

.definicion-card, .dimensiones-card {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 6px;
    border: 1px solid var(--neon-joule);
}

.formula-grand {
    font-size: 1.5rem;
    text-align: center;
    margin-bottom: var(--space-md);
    color: var(--neon-joule);
}

.autor-destacado {
    margin-top: var(--space-md);
    padding: var(--space-sm);
    background: rgba(33, 150, 243, 0.1);
    border-radius: 4px;
    font-size: 0.9rem;
}

.tabla-equivalencias {
    width: 100%;
    margin-top: var(--space-md);
}

.tabla-equivalencias td:first-child {
    font-weight: bold;
    color: var(--neon-joule);
}

.nota-bipm {
    margin-top: var(--space-md);
    font-size: 0.8rem;
    color: var(--neon-dato);
    text-align: center;
}

/* APLICACIONES GRID */
.aplicaciones-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-md);
    margin-bottom: var(--space-xl);
}

.aplicacion-card {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 6px;
    border: 1px solid var(--neon-trabajo);
    text-align: center;
    transition: all 0.3s ease;
}

.aplicacion-card:hover {
    transform: translateY(-4px);
    border-color: var(--neon-energia);
    box-shadow: 0 4px 12px rgba(255, 152, 0, 0.2);
}

.aplicacion-icon {
    font-size: 2rem;
    margin-bottom: var(--space-sm);
}

.formula-destacada {
    background: rgba(76, 175, 80, 0.1);
    padding: var(--space-xs);
    border-radius: 4px;
    margin: var(--space-xs) 0;
    font-size: 0.9rem;
}

.ejemplo-mini {
    font-size: 0.8rem;
    margin-top: var(--space-xs);
    color: var(--neon-dato);
}

/* EXPERIMENTO DE JOULE */
.experimento-dual {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-lg);
    margin-bottom: var(--space-xl);
}

.experimento-diagrama {
    display: flex;
    justify-content: center;
    align-items: center;
}

/* SIMULADOR */
.simulator-container {
    display: grid;
    grid-template-columns: 1fr 2fr 1fr;
    gap: var(--space-lg);
    padding: var(--space-lg);
    background: var(--bg-section);
    border: 2px solid var(--neon-energia);
    border-radius: 6px;
    margin-bottom: var(--space-xl);
}

@media (max-width: 768px) {
    .simulator-container {
        grid-template-columns: 1fr;
    }
}

.simulator-controls {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 4px;
}

.control-group {
    margin-bottom: var(--space-md);
}

.control-group label {
    display: block;
    margin-bottom: var(--space-xs);
    color: var(--neon-dato);
}

.control-group input[type="range"] {
    width: 100%;
    margin: var(--space-xs) 0;
}

.btn-simular {
    width: 100%;
    padding: var(--space-sm);
    background: linear-gradient(45deg, var(--neon-trabajo), var(--neon-energia));
    color: #000;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
    margin-top: var(--space-sm);
}

.btn-reset {
    width: 100%;
    padding: var(--space-sm);
    background: var(--bg-card);
    color: var(--neon-dato);
    border: 1px solid var(--neon-dato);
    border-radius: 4px;
    cursor: pointer;
    margin-top: var(--space-xs);
}

.simulator-visualization {
    background: #0a0a1a;
    border-radius: 4px;
    overflow: hidden;
}

.simulator-data {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 4px;
}

.data-card {
    background: rgba(0, 0, 0, 0.3);
    padding: var(--space-sm);
    margin-bottom: var(--space-sm);
    border-radius: 4px;
    display: flex;
    justify-content: space-between;
}

.data-card.highlight {
    border-left: 3px solid var(--neon-calor);
    background: rgba(233, 30, 99, 0.1);
}

.formula-resumen {
    margin-top: var(--space-md);
    padding: var(--space-sm);
    background: rgba(33, 150, 243, 0.1);
    border-radius: 4px;
}

/* CONVERSOR */
.conversor-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-lg);
    padding: var(--space-lg);
    background: var(--bg-section);
    border: 1px solid var(--neon-conversion);
    border-radius: 6px;
    margin-bottom: var(--space-xl);
}

@media (max-width: 768px) {
    .conversor-container {
        grid-template-columns: 1fr;
    }
}

.conversor-controls {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
}

.control-group {
    display: flex;
    flex-direction: column;
}

.conversor-resultado {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
}

.resultado-card {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 4px;
    border: 1px solid var(--neon-conversion);
}

.ejemplo-equivalente {
    background: rgba(156, 39, 176, 0.1);
    padding: var(--space-sm);
    border-radius: 4px;
}

.tabla-conversiones {
    margin-top: var(--space-lg);
}

.tabla-conversiones table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.85rem;
}

.tabla-conversiones th {
    background: rgba(156, 39, 176, 0.1);
    padding: var(--space-xs);
    text-align: left;
}

/* QUIZ */
.quiz-container {
    margin-bottom: var(--space-xl);
}

.quiz-question {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 6px;
    margin-bottom: var(--space-md);
    border: 1px solid var(--neon-calor);
}

.quiz-options {
    display: grid;
    gap: var(--space-sm);
    margin: var(--space-md) 0;
}

.quiz-option {
    padding: var(--space-sm);
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 4px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    transition: all 0.2s ease;
}

.quiz-option:hover {
    background: rgba(255, 255, 255, 0.1);
}

.quiz-option.correct {
    background: rgba(76, 175, 80, 0.1);
    border-color: var(--neon-trabajo);
}

.quiz-option.incorrect {
    background: rgba(233, 30, 99, 0.1);
    border-color: var(--neon-calor);
}

.option-letter {
    background: var(--neon-dato);
    color: #000;
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    font-size: 0.7rem;
    font-weight: bold;
}

.quiz-feedback {
    margin-top: var(--space-md);
    padding: var(--space-md);
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
    display: none;
}

.quiz-results {
    text-align: center;
    margin-top: var(--space-xl);
}

.btn-retry {
    padding: var(--space-sm) var(--space-md);
    background: var(--neon-joule);
    color: #000;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
    margin-top: var(--space-md);
}

/* PROBLEMAS TIPO EXAMEN */
.problema-card {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 6px;
    margin-bottom: var(--space-lg);
    border: 1px solid var(--neon-dato);
}

.problema-header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-md);
}

.problema-num {
    background: var(--neon-joule);
    color: #000;
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 4px;
    font-weight: bold;
}

.problema-enunciado {
    margin-bottom: var(--space-md);
}

.problema-espacio textarea {
    width: 100%;
    min-height: 120px;
    background: rgba(0, 0, 0, 0.5);
    color: #e0e0e0;
    border: 1px solid var(--neon-dato);
    border-radius: 4px;
    padding: var(--space-sm);
    font-family: inherit;
}

.problema-solucion {
    margin-top: var(--space-md);
    padding: var(--space-md);
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
    display: none;
}

.btn-verificar {
    padding: var(--space-xs) var(--space-sm);
    background: var(--neon-dato);
    color: #000;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
    margin-top: var(--space-sm);
}

.rubrica-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: var(--space-md);
    font-size: 0.8rem;
}

.rubrica-table th, .rubrica-table td {
    padding: var(--space-xs);
    border: 1px solid var(--neon-dato);
    text-align: center;
}

/* CIERRE METACOGNITIVO */
.cierre-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-lg);
}

.autoevaluacion, .reflexion, .plan-estudio, .recursos {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 6px;
}

.slider-group {
    margin-bottom: var(--space-md);
}

.recursos-links {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.recurso-link {
    color: var(--neon-dato);
    text-decoration: none;
    padding: var(--space-xs);
    border-radius: 3px;
    transition: all 0.2s ease;
}

.recurso-link:hover {
    background: rgba(33, 150, 243, 0.1);
}

/* ANIMACIONES */
@keyframes glow {
    0%, 100% { text-shadow: 0 0 5px currentColor; }
    50% { text-shadow: 0 0 10px currentColor, 0 0 15px currentColor; }
}

@keyframes highlight {
    0% { background-color: rgba(33, 150, 243, 0); }
    50% { background-color: rgba(33, 150, 243, 0.1); }
    100% { background-color: rgba(33, 150, 243, 0); }
}

/* RESPONSIVE */
@media (max-width: 768px) {
    .leccion-fisica-joule {
        padding: var(--space-md);
    }

    .titulo-leccion {
        font-size: 1.4rem;
    }

    .definicion-dual, .experimento-dual, .conversor-container {
        grid-template-columns: 1fr;
    }

    .aplicaciones-grid {
        grid-template-columns: 1fr;
    }

    .simulator-container {
        grid-template-columns: 1fr;
    }
}

/* ========================================
   VARIABLES CYBERPUNK BIOMASSA
======================================== */
:root {
    /* PALETA ORG츼NICA */
    --neon-biomasa: #4CAF50;    /* Verde - Biomasa */
    --neon-solida: #8D6E63;     /* Caf칠 - S칩lida */
    --neon-liquida: #FF9800;    /* Naranja - L칤quida */
    --neon-gaseosa: #7CB342;    /* Verde claro - Gaseosa */
    --neon-residuos: #616161;   /* Gris - Residuos */
    --neon-energia: #FFD600;   /* Amarillo - Energ칤a */
    --neon-co2: #2E7D32;       /* Verde oscuro - CO */
    --neon-dato: #00BCD4;      /* Cian - Datos */

    /* FONDOS */
    --bg-biomasa: #0a0a1a;
    --bg-section: rgba(0, 0, 0, 0.6);
    --bg-card: rgba(10, 10, 26, 0.9);

    /* ESPACIADO */
    --space-xs: 4px;
    --space-sm: 8px;
    --space-md: 12px;
    --space-lg: 16px;
    --space-xl: 20px;
}

/* ========================================
   ESTRUCTURA GENERAL
======================================== */
.leccion-fisica-biomasa {
    background: var(--bg-biomasa);
    color: #e0e0e0;
    font-family: 'Courier New', monospace;
    padding: var(--space-xl);
    max-width: 1200px;
    margin: 0 auto;
    line-height: 1.5;
    position: relative;
}

/* Grid org치nico */
.leccion-fisica-biomasa::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background-image:
        linear-gradient(rgba(76, 175, 80, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(76, 175, 80, 0.03) 1px, transparent 1px);
    background-size: 40px 40px;
    pointer-events: none;
}

/* ========================================
   COMPONENTES ESPEC칈FICOS
======================================== */
.leccion-header {
    text-align: center;
    margin-bottom: var(--space-xl);
    position: relative;
}

.titulo-leccion {
    font-size: 1.8rem;
    color: var(--neon-biomasa);
    margin-bottom: var(--space-xs);
    animation: glow 3s infinite;
}

.subtitulo {
    font-size: 0.9rem;
    color: var(--neon-dato);
    opacity: 0.9;
}

/* PANEL OBJETIVOS */
.objetivos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: var(--space-md);
}

.objetivo-card {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 4px;
    border: 1px solid rgba(76, 175, 80, 0.2);
    cursor: pointer;
    transition: all 0.2s ease;
}

.objetivo-card:hover {
    border-color: var(--neon-biomasa);
    box-shadow: 0 2px 8px rgba(76, 175, 80, 0.2);
}

/* CONTEXTO REAL */
.contexto-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-lg);
    margin-bottom: var(--space-xl);
}

.contexto-card {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 6px;
    border: 1px solid var(--neon-dato);
}

.dato-neon {
    color: var(--neon-dato);
    font-size: 0.8rem;
    margin-top: var(--space-sm);
    font-weight: bold;
}

/* CICLO DEL CARBONO */
.ciclo-dual {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-lg);
    margin-bottom: var(--space-xl);
}

.ciclo-diagrama {
    display: flex;
    justify-content: center;
    align-items: center;
}

/* TIPOS DE BIOMASSA */
.tipos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-md);
    margin-bottom: var(--space-xl);
}

.tipo-card {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 6px;
    border: 2px solid;
    text-align: center;
    transition: all 0.3s ease;
}

.tipo-card[data-tipo="solida"] { border-color: var(--neon-solida); }
.tipo-card[data-tipo="liquida"] { border-color: var(--neon-liquida); }
.tipo-card[data-tipo="gaseosa"] { border-color: var(--neon-gaseosa); }
.tipo-card[data-tipo="residuos"] { border-color: var(--neon-residuos); }

.tipo-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 4px 12px rgba(76, 175, 80, 0.2);
}

.tipo-icon {
    font-size: 2rem;
    margin-bottom: var(--space-sm);
}

.tipo-detalle {
    font-size: 0.85rem;
    margin-top: var(--space-sm);
}

/* PROCESOS */
.procesos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-md);
    margin-bottom: var(--space-xl);
}

.proceso-card {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 6px;
    border: 1px solid var(--neon-energia);
}

.proceso-header {
    background: var(--neon-energia);
    color: #000;
    padding: var(--space-xs) var(--space-sm);
    border-radius: 4px 4px 0 0;
    font-weight: bold;
    text-align: center;
}

.proceso-body {
    padding: var(--space-sm);
    font-size: 0.85rem;
}

/* SIMULADOR */
.simulator-container {
    display: grid;
    grid-template-columns: 1fr 2fr 1fr;
    gap: var(--space-lg);
    padding: var(--space-lg);
    background: var(--bg-section);
    border: 2px solid var(--neon-biomasa);
    border-radius: 6px;
    margin-bottom: var(--space-xl);
}

@media (max-width: 768px) {
    .simulator-container {
        grid-template-columns: 1fr;
    }
}

.simulator-controls {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 4px;
}

.control-group {
    margin-bottom: var(--space-md);
}

.control-group label {
    display: block;
    margin-bottom: var(--space-xs);
    color: var(--neon-dato);
}

.control-group select,
.control-group input[type="range"] {
    width: 100%;
    margin: var(--space-xs) 0;
}

.btn-simular {
    width: 100%;
    padding: var(--space-sm);
    background: linear-gradient(45deg, var(--neon-biomasa), var(--neon-energia));
    color: #000;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
    margin-top: var(--space-sm);
}

.btn-reset {
    width: 100%;
    padding: var(--space-sm);
    background: var(--bg-card);
    color: var(--neon-dato);
    border: 1px solid var(--neon-dato);
    border-radius: 4px;
    cursor: pointer;
    margin-top: var(--space-xs);
}

.simulator-visualization {
    background: #0a0a1a;
    border-radius: 4px;
    overflow: hidden;
}

.simulator-data {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 4px;
}

.data-card {
    background: rgba(0, 0, 0, 0.3);
    padding: var(--space-sm);
    margin-bottom: var(--space-sm);
    border-radius: 4px;
    display: flex;
    justify-content: space-between;
}

.data-card.highlight {
    border-left: 3px solid var(--neon-co2);
    background: rgba(46, 125, 50, 0.1);
}

.impacto-ambiental {
    margin-top: var(--space-lg);
    padding-top: var(--space-md);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.impacto-item {
    display: flex;
    justify-content: space-between;
    margin-bottom: var(--space-xs);
    font-size: 0.9rem;
}

.impacto-value {
    color: var(--neon-dato);
    font-weight: bold;
}

/* AN츼LISIS DE SOSTENIBILIDAD */
.analisis-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-lg);
    margin-bottom: var(--space-xl);
}

.analisis-card {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 6px;
    border: 1px solid var(--neon-dato);
}

.grafica-barras {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
    margin: var(--space-md) 0;
}

.barra {
    height: 20px;
    background: var(--neon-biomasa);
    border-radius: 4px;
    position: relative;
    width: var(--alto);
    transition: width 0.5s ease;
}

.barra-valor {
    position: absolute;
    right: 5px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 0.8rem;
    color: #000;
    font-weight: bold;
}

.barra-etiqueta {
    margin-top: var(--space-xs);
    font-size: 0.8rem;
    color: var(--neon-dato);
}

.tabla-costos {
    margin: var(--space-md) 0;
}

.tabla-costos table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.85rem;
}

.tabla-costos th, .tabla-costos td {
    padding: var(--space-xs);
    border: 1px solid var(--neon-dato);
    text-align: center;
}

.grafica-circular {
    text-align: center;
    margin: var(--space-md) 0;
}

.leyenda-grafica {
    display: flex;
    justify-content: center;
    gap: var(--space-lg);
    margin-top: var(--space-sm);
    font-size: 0.8rem;
}

/* QUIZ */
.quiz-container {
    margin-bottom: var(--space-xl);
}

.quiz-question {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 6px;
    margin-bottom: var(--space-md);
    border: 1px solid var(--neon-co2);
}

.quiz-options {
    display: grid;
    gap: var(--space-sm);
    margin: var(--space-md) 0;
}

.quiz-option {
    padding: var(--space-sm);
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 4px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    transition: all 0.2s ease;
}

.quiz-option:hover {
    background: rgba(255, 255, 255, 0.1);
}

.quiz-option.correct {
    background: rgba(76, 175, 80, 0.1);
    border-color: var(--neon-biomasa);
}

.quiz-option.incorrect {
    background: rgba(244, 67, 54, 0.1);
    border-color: var(--neon-co2);
}

.option-letter {
    background: var(--neon-dato);
    color: #000;
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    font-size: 0.7rem;
    font-weight: bold;
}

.quiz-feedback {
    margin-top: var(--space-md);
    padding: var(--space-md);
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
    display: none;
}

.quiz-results {
    text-align: center;
    margin-top: var(--space-xl);
}

.btn-retry {
    padding: var(--space-sm) var(--space-md);
    background: var(--neon-biomasa);
    color: #000;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
    margin-top: var(--space-md);
}

/* PROBLEMAS TIPO EXAMEN */
.problema-card {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 6px;
    margin-bottom: var(--space-lg);
    border: 1px solid var(--neon-dato);
}

.problema-header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-md);
}

.problema-num {
    background: var(--neon-biomasa);
    color: #000;
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 4px;
    font-weight: bold;
}



.problema-enunciado {
    margin-bottom: var(--space-md);
}

.problema-enunciado ol {
    padding-left: var(--space-lg);
}

.problema-espacio textarea {
    width: 100%;
    min-height: 120px;
    background: rgba(0, 0, 0, 0.5);
    color: #e0e0e0;
    border: 1px solid var(--neon-dato);
    border-radius: 4px;
    padding: var(--space-sm);
    font-family: inherit;
}

.problema-solucion {
    margin-top: var(--space-md);
    padding: var(--space-md);
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
    display: none;
}

.btn-verificar {
    padding: var(--space-xs) var(--space-sm);
    background: var(--neon-dato);
    color: #000;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
    margin-top: var(--space-sm);
}

.rubrica-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: var(--space-md);
    font-size: 0.8rem;
}

.rubrica-table th, .rubrica-table td {
    padding: var(--space-xs);
    border: 1px solid var(--neon-dato);
    text-align: center;
}

/* CIERRE METACOGNITIVO */
.cierre-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-lg);
}

.autoevaluacion, .reflexion, .plan-estudio, .recursos {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 6px;
}

.slider-group {
    margin-bottom: var(--space-md);
}

.recursos-links {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.recurso-link {
    color: var(--neon-dato);
    text-decoration: none;
    padding: var(--space-xs);
    border-radius: 3px;
    transition: all 0.2s ease;
}

.recurso-link:hover {
    background: rgba(76, 175, 80, 0.1);
}

/* ANIMACIONES */
@keyframes glow {
    0%, 100% { text-shadow: 0 0 5px currentColor; }
    50% { text-shadow: 0 0 10px currentColor, 0 0 15px currentColor; }
}

@keyframes co2Anim {
    0% { transform: translateY(0); opacity: 0; }
    10% { opacity: 1; }
    90% { opacity: 1; }
    100% { transform: translateY(250px); opacity: 0; }
}

/* RESPONSIVE */
@media (max-width: 768px) {
    .leccion-fisica-biomasa {
        padding: var(--space-md);
    }

    .titulo-leccion {
        font-size: 1.4rem;
    }

    .ciclo-dual, .tipos-grid, .procesos-grid, .analisis-grid {
        grid-template-columns: 1fr;
    }

    .simulator-container {
        grid-template-columns: 1fr;
    }

    .cierre-container {
        grid-template-columns: 1fr;
    }
}
/* ===== VARIABLES GLOBALES ===== */
:root {
  --neon-primario: #39FF14;    /* Verde neon para conceptos clave */
  --neon-secundario: #00FFFF;  /* Cian para ejemplos */
  --neon-alerta: #FF6B6B;      /* Rojo para evaluaciones */
  --neon-interactivo: #FF00FF; /* Rosa para elementos interactivos */
  --bg-oscuro: #0a0a1a;        /* Fondo principal */
  --bg-card: rgba(10, 10, 26, 0.8); /* Tarjetas */
  --espacio: 1rem;             /* Sistema de espaciado base */
  --radio-borde: 0.375rem;     /* Bordes redondeados */
  --transicion: all 0.2s ease; /* Transiciones suaves */
}

/* ===== ESTRUCTURA BASE ===== */
.leccion {
  max-width: 75rem;
  margin: 0 auto;
  padding: calc(var(--espacio) * 1.5);
  background: var(--bg-oscuro);
  color: #e0f0ff;
  font-family: 'Courier New', monospace;
  position: relative;
  overflow: hidden;
}

/* Efecto de grid cyberpunk sutil */
.leccion::before {
  content: '';
  position: absolute;
  inset: 0;
  background:
    linear-gradient(rgba(57, 255, 20, 0.02) 1px, transparent 1px),
    linear-gradient(90deg, rgba(57, 255, 20, 0.02) 1px, transparent 1px);
  background-size: 2.5rem 2.5rem;
  pointer-events: none;
}

/* ===== TIPOGRAF칈A JER츼RQUICA ===== */
.titulo-principal {
  font-size: clamp(1.8rem, 5vw, 2.5rem);
  color: var(--neon-primario);
  text-align: center;
  margin-bottom: var(--espacio);
  animation: glow 3s infinite;
}

.subtitulo {
  font-size: 1.25rem;
  color: var(--neon-secundario);
  text-align: center;
  margin-bottom: calc(var(--espacio) * 1.5);
}

/* ===== COMPONENTES REUTILIZABLES ===== */
/* Tarjetas gen칠ricas (para objetivos, contextos, etc.) */
.tarjeta {
  background: var(--bg-card);
  padding: var(--espacio);
  border-radius: var(--radio-borde);
  border-left: 3px solid var(--neon-primario);
  transition: var(--transicion);
}

.tarjeta:hover {
  transform: translateY(-0.25rem);
  box-shadow: 0 0.25rem 0.75rem rgba(57, 255, 20, 0.2);
}

/* Botones est치ndar */
.boton {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  background: rgba(0, 0, 0, 0.5);
  color: white;
  border: 1px solid var(--neon-interactivo);
  border-radius: var(--radio-borde);
  cursor: pointer;
  transition: var(--transicion);
}

.boton:hover {
  background: var(--neon-interactivo);
  transform: translateY(-2px);
}

/* ===== SECCIONES PRINCIPALES ===== */
/* Contenedor de secciones con borde lateral */
.seccion {
  position: relative;
  margin-bottom: calc(var(--espacio) * 2);
  padding-left: calc(var(--espacio) * 1.5);
  border-left: 2px solid var(--neon-primario);
}

.titulo-seccion {
  color: var(--neon-primario);
  margin-bottom: var(--espacio);
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

/* ===== TABLAS INTERACTIVAS ===== */
.tabla-datos {
  width: 100%;
  border-collapse: collapse;
  margin: var(--espacio) 0;
}

.tabla-datos th {
  color: var(--neon-primario);
  padding: 0.75rem;
  border-bottom: 2px solid var(--neon-primario);
}

.tabla-datos td {
  padding: 0.75rem;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.tabla-datos tr:hover {
  background: rgba(57, 255, 20, 0.05);
}

/* ===== SIMULADOR ===== */
.simulador {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: var(--espacio);
  background: rgba(0, 0, 0, 0.7);
  border: 2px solid var(--neon-interactivo);
  border-radius: var(--radio-borde);
  padding: var(--espacio);
}

.controles-simulador {
  display: flex;
  flex-direction: column;
  gap: var(--espacio);
}

.entrada-dato {
  padding: 0.75rem;
  background: rgba(0, 0, 0, 0.5);
  border: 1px solid var(--neon-interactivo);
  border-radius: var(--radio-borde);
  color: white;
}

/* ===== QUIZ INTERACTIVO ===== */
.opcion-quiz {
  padding: 0.75rem;
  margin: 0.25rem 0;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: var(--radio-borde);
  cursor: pointer;
  transition: var(--transicion);
}

.opcion-quiz.correcta {
  background: rgba(57, 255, 20, 0.1);
  border-color: var(--neon-primario);
}

.opcion-quiz.incorrecta {
  background: rgba(255, 107, 107, 0.1);
  border-color: var(--neon-alerta);
}

/* ===== L칈NEA DE TIEMPO ===== */
.linea-tiempo {
  position: relative;
  padding-left: 1.5rem;
  margin: var(--espacio) 0;
}

.linea-tiempo::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 2px;
  background: var(--neon-primario);
}

.item-tiempo {
  position: relative;
  margin-bottom: calc(var(--espacio) * 1.5);
  padding-left: 1.5rem;
}

/* ===== RESPONSIVE ===== */
@media (max-width: 768px) {
  .simulador {
    grid-template-columns: 1fr;
  }

  .leccion {
    padding: calc(var(--espacio) * 0.75);
  }
}

/* ===== ANIMACIONES ===== */
@keyframes glow {
  0%, 100% { text-shadow: 0 0 0.3rem currentColor; }
  50% { text-shadow: 0 0 0.6rem currentColor, 0 0 0.9rem currentColor; }
}

:root {
    --neon-concepto: #39FF14;
    --neon-interactivo: #FF00FF;
    --neon-evaluacion: #FF6B6B;
    --neon-dato: #00FF9D;
    --bg-leccion: #0a0a1a;
    --bg-seccion: rgba(0, 0, 0, 0.5);
    --bg-card: rgba(10, 10, 26, 0.8);
    --font-base: 1rem;
    --space-sm: 0.5rem;
    --space-md: 1rem;
    --space-lg: 1.5rem;
    --border-radius: 0.375rem;
    --transition: all 0.2s ease;
}

.leccion-fisica-ek {
    position: relative;
    background: var(--bg-leccion);
    color: #e0f0ff;
    font-family: 'Courier New', monospace;
    max-width: 75rem;
    margin: 0 auto;
    padding: var(--space-lg);
    line-height: 1.6;
}

.leccion-fisica-ek::before {
    content: '';
    position: absolute;
    inset: 0;
    background:
        linear-gradient(rgba(57, 255, 20, 0.02) 1px, transparent 1px),
        linear-gradient(90deg, rgba(57, 255, 20, 0.02) 1px, transparent 1px);
    background-size: 2.5rem 2.5rem;
    pointer-events: none;
}

.titulo-leccion {
    font-size: clamp(1.8rem, 5vw, 2.5rem);
    color: var(--neon-concepto);
    text-align: center;
    margin-bottom: var(--space-md);
    animation: glow 3s infinite;
}

@keyframes glow {
    0%, 100% { text-shadow: 0 0 0.3rem currentColor; }
    50% { text-shadow: 0 0 0.6rem currentColor, 0 0 0.9rem currentColor; }
}

.seccion {
    margin-bottom: var(--space-lg);
    position: relative;
}

.tarjeta {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: var(--border-radius);
    border-left: 3px solid var(--neon-concepto);
    transition: var(--transition);
}

.tarjeta:hover {
    transform: translateY(-2px);
    box-shadow: 0 0.25rem 0.75rem rgba(57, 255, 20, 0.2);
}

.boton {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    background: rgba(0, 0, 0, 0.5);
    color: white;
    border: 1px solid var(--neon-interactivo);
    border-radius: var(--border-radius);
    cursor: pointer;
    transition: var(--transition);
}

.boton:hover {
    background: var(--neon-interactivo);
    transform: translateY(-2px);
}

.tabla-cyberpunk {
    width: 100%;
    border-collapse: collapse;
    margin: var(--space-md) 0;
}

.tabla-cyberpunk th {
    color: var(--neon-concepto);
    padding: 0.75rem;
    border-bottom: 2px solid var(--neon-concepto);
}

.tabla-cyberpunk td {
    padding: 0.75rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.simulator-container {
    display: grid;
    grid-template-columns: 1fr 2fr 1fr;
    gap: var(--space-md);
    background: rgba(0, 0, 0, 0.7);
    border: 2px solid var(--neon-interactivo);
    border-radius: var(--border-radius);
    padding: var(--space-md);
    margin-bottom: var(--space-lg);
}

.quiz-option {
    padding: 0.75rem;
    margin: 0.25rem 0;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: var(--border-radius);
    cursor: pointer;
    transition: var(--transition);
}

.quiz-option.correct {
    background: rgba(57, 255, 20, 0.1);
    border-color: var(--neon-concepto);
}

.quiz-option.incorrect {
    background: rgba(255, 107, 107, 0.1);
    border-color: var(--neon-evaluacion);
}

@media (max-width: 768px) {
    .simulator-container {
        grid-template-columns: 1fr;
    }
}

:root {
    --neon-concepto: #39FF14;
    --neon-interactivo: #FF00FF;
    --neon-evaluacion: #FF6B6B;
    --neon-dato: #00FF9D;
    --bg-leccion: #0a0a1a;
    --bg-seccion: rgba(0, 0, 0, 0.5);
    --bg-card: rgba(10, 10, 26, 0.8);
    --font-base: 1rem;
    --space-sm: 0.5rem;
    --space-md: 1rem;
    --space-lg: 1.5rem;
    --border-radius: 0.375rem;
    --transition: all 0.2s ease;
    --glow-color: rgba(57, 255, 20, 0.7);
}

.leccion-fisica-epg {
    position: relative;
    background: var(--bg-leccion);
    color: #e0f0ff;
    font-family: 'Courier New', monospace;
    max-width: 75rem;
    margin: 0 auto;
    padding: var(--space-lg);
    line-height: 1.6;
}

.leccion-fisica-epg::before {
    content: '';
    position: absolute;
    inset: 0;
    background:
        linear-gradient(var(--glow-color) 1px, transparent 1px),
        linear-gradient(90deg, var(--glow-color) 1px, transparent 1px);
    background-size: 2.5rem 2.5rem;
    pointer-events: none;
    z-index: 0;
}

.titulo-leccion {
    font-size: clamp(1.8rem, 5vw, 2.5rem);
    color: var(--neon-concepto);
    text-align: center;
    margin-bottom: var(--space-md);
    animation: glow 3s infinite;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
}

.icon-tema {
    font-size: 2rem;
}

@keyframes glow {
    0%, 100% { text-shadow: 0 0 0.3rem currentColor; }
    50% { text-shadow: 0 0 0.6rem currentColor, 0 0 0.9rem currentColor; }
}

.subtitulo {
    font-size: 1.25rem;
    color: var(--neon-dato);
    text-align: center;
    margin-bottom: var(--space-lg);
    opacity: 0.9;
}

/* ===== COMPONENTES REUTILIZABLES ===== */
.seccion {
    margin-bottom: var(--space-lg);
    position: relative;
}

.seccion-titulo {
    color: var(--neon-concepto);
    margin-bottom: var(--space-md);
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    font-size: 1.5rem;
}

.seccion-titulo .icon {
    font-size: 1.2rem;
}

.tarjeta {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: var(--border-radius);
    border-left: 3px solid var(--neon-concepto);
    transition: var(--transition);
    margin-bottom: var(--space-md);
}

.tarjeta:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(57, 255, 20, 0.2);
}

.boton {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    background: rgba(0, 0, 0, 0.5);
    color: white;
    border: 1px solid var(--neon-interactivo);
    border-radius: var(--border-radius);
    cursor: pointer;
    transition: var(--transition);
    margin: 0.25rem 0;
    width: 100%;
}

.boton:hover {
    background: var(--neon-interactivo);
    transform: translateY(-2px);
}

.boton .btn-icon {
    font-size: 1.1rem;
}

/* ===== PANEL DE OBJETIVOS ===== */
.panel-objetivos {
    margin-bottom: var(--space-lg);
    padding: var(--space-md);
    background: var(--bg-seccion);
    border-radius: var(--border-radius);
    border-left: 4px solid var(--neon-concepto);
}

.objetivos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-md);
}

.objetivo-card {
    position: relative;
    padding-left: 2.5rem;
    cursor: pointer;
}

.objetivo-checkbox {
    position: absolute;
    left: var(--space-sm);
    top: var(--space-sm);
    width: 1.5rem;
    height: 1.5rem;
    border: 2px solid var(--neon-concepto);
    border-radius: 0.25rem;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--neon-concepto);
    font-weight: bold;
}

/* ===== CONTEXTO REAL ===== */
.contexto-real {
    margin-bottom: var(--space-lg);
}

.contexto-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-md);
}

.contexto-card {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: var(--border-radius);
    border: 1px solid var(--neon-dato);
    transition: var(--transition);
}

.contexto-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 4px 12px rgba(0, 255, 157, 0.2);
}

.dato-neon {
    color: var(--neon-dato);
    font-weight: bold;
    margin-top: var(--space-sm);
    font-size: 0.9rem;
}

/* ===== SECCI칍N TE칍RICA ===== */
.teoria-section {
    position: relative;
    margin-bottom: var(--space-lg);
}

.borde-neon-lateral {
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 3px;
    background: linear-gradient(to bottom, var(--neon-concepto), transparent);
    content: '';
}

.subseccion {
    margin-bottom: var(--space-lg);
}

.formula-grand {
    font-size: 2rem;
    text-align: center;
    margin: var(--space-md) 0;
    color: var(--neon-concepto);
}

.propiedades-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-md);
    margin: var(--space-md) 0;
}

.propiedad-card {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: var(--border-radius);
    border: 1px solid rgba(57, 255, 20, 0.3);
}

.ejemplo {
    margin-top: var(--space-sm);
    font-size: 0.9rem;
    color: var(--neon-dato);
}

/* ===== TABLA COMPARATIVA ===== */
.tabla-comparativa {
    overflow-x: auto;
    margin: var(--space-md) 0;
}

.tabla-cyberpunk {
    width: 100%;
    border-collapse: collapse;
}

.tabla-cyberpunk th {
    background: rgba(57, 255, 20, 0.1);
    color: var(--neon-concepto);
    padding: 0.75rem;
    text-align: left;
    border-bottom: 2px solid var(--neon-concepto);
}

.tabla-cyberpunk td {
    padding: 0.75rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.tabla-cyberpunk tr:hover {
    background: rgba(57, 255, 20, 0.05);
}

/* ===== CONSERVACI칍N DE ENERG칈A ===== */
.conservacion-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-md);
}

.diagrama-conservacion {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-lg);
    margin: var(--space-md) 0;
}

.estado {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-sm);
}

.objeto {
    width: 2rem;
    height: 2rem;
    background: #FF5722;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
}

.altura {
    height: 4rem;
    width: 2px;
    background: linear-gradient(to bottom, #FFC107, transparent);
    position: relative;
}

.altura::after {
    content: 'h';
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    color: #FFC107;
    font-size: 0.8rem;
}

.energias {
    font-size: 0.9rem;
    text-align: center;
}

.flecha {
    font-size: 1.5rem;
    color: var(--neon-concepto);
}

/* ===== SIMULADOR ===== */
.simulator-container {
    display: grid;
    grid-template-columns: 1fr 2fr 1fr;
    gap: var(--space-md);
    background: rgba(0, 0, 0, 0.7);
    border: 2px solid var(--neon-interactivo);
    border-radius: var(--border-radius);
    padding: var(--space-md);
    margin-bottom: var(--space-lg);
}

.simulator-controls {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
}

.control-group {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.control-group label {
    font-size: 0.9rem;
    color: #e0f0ff;
}

.control-group input[type="range"] {
    width: 100%;
}

.control-group select {
    padding: 0.5rem;
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid var(--neon-interactivo);
    border-radius: var(--border-radius);
    color: white;
}

.simulator-visualization {
    background: rgba(0, 0, 0, 0.9);
    border-radius: var(--border-radius);
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

.simulator-visualization svg {
    width: 100%;
    height: auto;
}

.data-card {
    background: rgba(255, 255, 255, 0.05);
    padding: var(--space-sm);
    margin-bottom: var(--space-sm);
    border-radius: var(--border-radius);
    border-left: 3px solid var(--neon-dato);
}

.data-card.highlight {
    border-left-color: var(--neon-interactivo);
    background: rgba(255, 0, 255, 0.05);
}

.data-label {
    font-size: 0.9rem;
    color: #aaa;
}

.data-value {
    font-weight: bold;
    color: var(--neon-dato);
}

/* ===== QUIZ ===== */
.quiz-container {
    margin-bottom: var(--space-lg);
}

.quiz-question {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: var(--border-radius);
    margin-bottom: var(--space-md);
    border: 1px solid rgba(255, 107, 107, 0.3);
}

.quiz-header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-sm);
}

.quiz-num {
    background: var(--neon-evaluacion);
    color: white;
    width: 1.5rem;
    height: 1.5rem;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.8rem;
    font-weight: bold;
}

.quiz-options {
    display: grid;
    gap: 0.5rem;
    margin: var(--space-sm) 0;
}

.quiz-option {
    padding: 0.75rem;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: var(--border-radius);
    cursor: pointer;
    transition: var(--transition);
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.quiz-option:hover {
    background: rgba(255, 255, 255, 0.1);
    transform: translateX(4px);
}

.option-letter {
    background: rgba(255, 255, 255, 0.1);
    width: 1.5rem;
    height: 1.5rem;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    font-size: 0.8rem;
}

.quiz-feedback {
    margin-top: var(--space-sm);
    padding: var(--space-sm);
    background: rgba(0, 0, 0, 0.3);
    border-radius: var(--border-radius);
    display: none;
}

.feedback-correct {
    color: var(--neon-concepto);
}

.feedback-incorrect {
    color: var(--neon-evaluacion);
}

/* ===== ERRORES COMUNES ===== */
.errores-container {
    display: grid;
    gap: var(--space-md);
}

.error-card {
    background: var(--bg-card);
    border: 1px solid var(--neon-alerta);
    border-radius: var(--border-radius);
    overflow: hidden;
}

.error-header {
    padding: var(--space-sm);
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: rgba(255, 255, 0, 0.05);
}

.error-content {
    padding: var(--space-md);
    border-top: 1px solid rgba(255, 255, 0, 0.2);
    display: none;
}

.error-toggle {
    font-size: 1.2rem;
    color: var(--neon-alerta);
}

/* ===== PROBLEMAS TIPO EXAMEN ===== */
.examen-container {
    display: grid;
    gap: var(--space-md);
}

.problema-card {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: var(--border-radius);
    border: 1px solid rgba(255, 107, 107, 0.3);
}

.problema-header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-sm);
}

.problema-num {
    background: var(--neon-evaluacion);
    color: white;
    width: 1.5rem;
    height: 1.5rem;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.8rem;
    font-weight: bold;
}

.problema-enunciado {
    margin-bottom: var(--space-md);
    line-height: 1.6;
}

.problema-enunciado ol {
    padding-left: 1.5rem;
}

.problema-espacio textarea {
    width: 100%;
    padding: var(--space-sm);
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid var(--neon-evaluacion);
    border-radius: var(--border-radius);
    color: white;
    font-family: inherit;
    resize: vertical;
    min-height: 80px;
}

.problema-solucion {
    margin-top: var(--space-sm);
    padding: var(--space-sm);
    background: rgba(0, 0, 0, 0.3);
    border-radius: var(--border-radius);
    display: none;
}

/* ===== CIERRE METACOGNITIVO ===== */
.cierre-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-lg);
}

.autoevaluacion, .recursos {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: var(--border-radius);
}

.slider-group {
    margin-bottom: var(--space-lg);
}

.slider-group label {
    display: block;
    margin-bottom: var(--space-sm);
    font-size: 0.9rem;
}

.autoeval-slider {
    width: 100%;
}

.slider-labels {
    display: flex;
    justify-content: space-between;
    margin-top: var(--space-sm);
    font-size: 0.8rem;
}

.recursos-links {
    display: grid;
    gap: var(--space-sm);
}

.recurso-link {
    color: var(--neon-dato);
    text-decoration: none;
    transition: color 0.2s ease;
}

.recurso-link:hover {
    color: var(--neon-interactivo);
    text-decoration: underline;
}

/* ===== RESPONSIVE ===== */
@media (max-width: 768px) {
    .leccion-fisica-epg {
        padding: var(--space-sm);
    }

    .simulator-container {
        grid-template-columns: 1fr;
    }

    .diagrama-conservacion {
        flex-direction: column;
        gap: var(--space-md);
    }

    .cierre-container {
        grid-template-columns: 1fr;
    }
}

:root {
    --neon-concepto: #39FF14;
    --neon-interactivo: #FF00FF;
    --neon-evaluacion: #FF6B6B;
    --neon-dato: #00FF9D;
    --bg-leccion: #0a0a1a;
    --bg-seccion: rgba(0, 0, 0, 0.5);
    --bg-card: rgba(10, 10, 26, 0.8);
    --font-base: 1rem;
    --space-sm: 0.5rem;
    --space-md: 1rem;
    --space-lg: 1.5rem;
    --border-radius: 0.375rem;
    --transition: all 0.2s ease;
    --glow-color: rgba(57, 255, 20, 0.7);
}

.leccion-fisica-epe {
    position: relative;
    background: var(--bg-leccion);
    color: #e0f0ff;
    font-family: 'Courier New', monospace;
    max-width: 75rem;
    margin: 0 auto;
    padding: var(--space-lg);
    line-height: 1.6;
}

.leccion-fisica-epe::before {
    content: '';
    position: absolute;
    inset: 0;
    background:
        linear-gradient(var(--glow-color) 1px, transparent 1px),
        linear-gradient(90deg, var(--glow-color) 1px, transparent 1px);
    background-size: 2.5rem 2.5rem;
    pointer-events: none;
    z-index: 0;
}

.titulo-leccion {
    font-size: clamp(1.8rem, 5vw, 2.5rem);
    color: var(--neon-concepto);
    text-align: center;
    margin-bottom: var(--space-md);
    animation: glow 3s infinite;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
}

.icon-tema {
    font-size: 2rem;
}

@keyframes glow {
    0%, 100% { text-shadow: 0 0 0.3rem currentColor; }
    50% { text-shadow: 0 0 0.6rem currentColor, 0 0 0.9rem currentColor; }
}

.subtitulo {
    font-size: 1.25rem;
    color: var(--neon-dato);
    text-align: center;
    margin-bottom: var(--space-lg);
    opacity: 0.9;
}

/* ===== COMPONENTES REUTILIZABLES ===== */
.seccion {
    margin-bottom: var(--space-lg);
    position: relative;
}

.seccion-titulo {
    color: var(--neon-concepto);
    margin-bottom: var(--space-md);
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    font-size: 1.5rem;
}

.seccion-titulo .icon {
    font-size: 1.2rem;
}

.tarjeta {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: var(--border-radius);
    border-left: 3px solid var(--neon-concepto);
    transition: var(--transition);
    margin-bottom: var(--space-md);
}

.tarjeta:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(57, 255, 20, 0.2);
}

.boton {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    background: rgba(0, 0, 0, 0.5);
    color: white;
    border: 1px solid var(--neon-interactivo);
    border-radius: var(--border-radius);
    cursor: pointer;
    transition: var(--transition);
    margin: 0.25rem 0;
    width: 100%;
}

.boton:hover {
    background: var(--neon-interactivo);
    transform: translateY(-2px);
}

.boton .btn-icon {
    font-size: 1.1rem;
}

/* ===== PANEL DE OBJETIVOS ===== */
.panel-objetivos {
    margin-bottom: var(--space-lg);
    padding: var(--space-md);
    background: var(--bg-seccion);
    border-radius: var(--border-radius);
    border-left: 4px solid var(--neon-concepto);
}

.objetivos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-md);
}

.objetivo-card {
    position: relative;
    padding-left: 2.5rem;
    cursor: pointer;
}

.objetivo-checkbox {
    position: absolute;
    left: var(--space-sm);
    top: var(--space-sm);
    width: 1.5rem;
    height: 1.5rem;
    border: 2px solid var(--neon-concepto);
    border-radius: 0.25rem;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--neon-concepto);
    font-weight: bold;
}

/* ===== CONTEXTO REAL ===== */
.contexto-real {
    margin-bottom: var(--space-lg);
}

.contexto-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-md);
}

.contexto-card {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: var(--border-radius);
    border: 1px solid var(--neon-dato);
    transition: var(--transition);
}

.contexto-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 4px 12px rgba(0, 255, 157, 0.2);
}

.dato-neon {
    color: var(--neon-dato);
    font-weight: bold;
    margin-top: var(--space-sm);
    font-size: 0.9rem;
}

/* ===== SECCI칍N TE칍RICA ===== */
.teoria-section {
    position: relative;
    margin-bottom: var(--space-lg);
}

.borde-neon-lateral {
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 3px;
    background: linear-gradient(to bottom, var(--neon-concepto), transparent);
    content: '';
}

.subseccion {
    margin-bottom: var(--space-lg);
}

.formula-destacada {
    font-size: 2rem;
    text-align: center;
    margin: var(--space-md) 0;
    color: var(--neon-concepto);
}

.ley-hooke-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-lg);
    margin-top: var(--space-md);
}

.tabla-variables {
    overflow-x: auto;
}

.tabla-cyberpunk {
    width: 100%;
    border-collapse: collapse;
    margin: var(--space-sm) 0;
}

.tabla-cyberpunk th {
    background: rgba(57, 255, 20, 0.1);
    color: var(--neon-concepto);
    padding: 0.5rem;
    text-align: left;
    border-bottom: 2px solid var(--neon-concepto);
}

.tabla-cyberpunk td {
    padding: 0.5rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.limites-validez {
    grid-column: 1 / -1;
    margin-top: var(--space-md);
}

.grafica-esfuerzo svg {
    width: 100%;
    height: auto;
}

.propiedades-epe {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-md);
    margin: var(--space-md) 0;
}

.propiedad {
    background: var(--bg-card);
    padding: var(--space-sm);
    border-radius: var(--border-radius);
    border-left: 2px solid var(--neon-dato);
}

.comparacion-grafica {
    margin-top: var(--space-md);
    text-align: center;
}

.grafica svg {
    width: 100%;
    max-width: 300px;
    height: auto;
}

.conservacion-container {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
    margin-top: var(--space-md);
}

.diagrama-conservacion {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: var(--space-lg);
    margin: var(--space-md) 0;
}

.estado {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-sm);
}

.objeto {
    width: 2rem;
    height: 2rem;
    background: #FF5722;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
}

.altura {
    height: 4rem;
    width: 2px;
    background: linear-gradient(to bottom, #FFC107, transparent);
    position: relative;
}

.altura::after {
    content: 'h';
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    color: #FFC107;
    font-size: 0.8rem;
}

.energias {
    font-size: 0.9rem;
    text-align: center;
}

.flecha {
    font-size: 1.5rem;
    color: var(--neon-concepto);
}

.ejemplo-practico {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: var(--border-radius);
    border-left: 3px solid var(--neon-dato);
    margin-top: var(--space-md);
}

.pasos {
    margin-top: var(--space-sm);
}

.paso {
    margin-bottom: var(--space-sm);
    padding-left: 1rem;
    border-left: 2px solid var(--neon-concepto);
}

/* ===== SIMULADOR ===== */
.simulator-container {
    display: grid;
    grid-template-columns: 1fr 2fr 1fr;
    gap: var(--space-md);
    background: rgba(0, 0, 0, 0.7);
    border: 2px solid var(--neon-interactivo);
    border-radius: var(--border-radius);
    padding: var(--space-md);
    margin-bottom: var(--space-lg);
}

.simulator-controls {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
}

.control-group {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.control-group label {
    font-size: 0.9rem;
    color: #e0f0ff;
}

.control-group input[type="range"] {
    width: 100%;
}

.control-group select {
    padding: 0.5rem;
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid var(--neon-interactivo);
    border-radius: var(--border-radius);
    color: white;
}

.simulator-visualization {
    background: rgba(0, 0, 0, 0.9);
    border-radius: var(--border-radius);
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

.simulator-visualization svg {
    width: 100%;
    height: auto;
}

.data-card {
    background: rgba(255, 255, 255, 0.05);
    padding: var(--space-sm);
    margin-bottom: var(--space-sm);
    border-radius: var(--border-radius);
    border-left: 3px solid var(--neon-dato);
}

.data-card.highlight {
    border-left-color: var(--neon-interactivo);
    background: rgba(255, 0, 255, 0.05);
}

.data-label {
    font-size: 0.9rem;
    color: #aaa;
}

.data-value {
    font-weight: bold;
    color: var(--neon-dato);
}

/* ===== QUIZ ===== */
.quiz-container {
    margin-bottom: var(--space-lg);
}

.quiz-question {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: var(--border-radius);
    margin-bottom: var(--space-md);
    border: 1px solid rgba(255, 107, 107, 0.3);
}

.quiz-header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-sm);
}

.quiz-num {
    background: var(--neon-evaluacion);
    color: white;
    width: 1.5rem;
    height: 1.5rem;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.8rem;
    font-weight: bold;
}

.quiz-options {
    display: grid;
    gap: 0.5rem;
    margin: var(--space-sm) 0;
}

.quiz-option {
    padding: 0.75rem;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: var(--border-radius);
    cursor: pointer;
    transition: var(--transition);
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.quiz-option:hover {
    background: rgba(255, 255, 255, 0.1);
    transform: translateX(4px);
}

.quiz-option.correct {
    background: rgba(57, 255, 20, 0.1);
    border-color: var(--neon-concepto);
}

.quiz-option.incorrect {
    background: rgba(255, 107, 107, 0.1);
    border-color: var(--neon-evaluacion);
}

.option-letter {
    background: rgba(255, 255, 255, 0.1);
    width: 1.5rem;
    height: 1.5rem;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    font-size: 0.8rem;
}

.quiz-feedback {
    margin-top: var(--space-sm);
    padding: var(--space-sm);
    background: rgba(0, 0, 0, 0.3);
    border-radius: var(--border-radius);
    display: none;
}

.feedback-correct {
    color: var(--neon-concepto);
}

.feedback-incorrect {
    color: var(--neon-evaluacion);
}

/* ===== ERRORES COMUNES ===== */
.errores-container {
    display: grid;
    gap: var(--space-md);
}

.error-card {
    background: var(--bg-card);
    border: 1px solid var(--neon-alerta);
    border-radius: var(--border-radius);
    overflow: hidden;
}

.error-header {
    padding: var(--space-sm);
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: rgba(255, 255, 0, 0.05);
}

.error-content {
    padding: var(--space-md);
    border-top: 1px solid rgba(255, 255, 0, 0.2);
    display: none;
}

.error-toggle {
    font-size: 1.2rem;
    color: var(--neon-alerta);
}

.comparacion {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-md);
    margin: var(--space-sm) 0;
    background: rgba(0, 0, 0, 0.2);
    padding: var(--space-sm);
    border-radius: var(--border-radius);
}

.error-grafica svg {
    width: 100%;
    height: auto;
    margin: var(--space-sm) 0;
}

.grafica-limites {
    text-align: center;
    margin: var(--space-sm) 0;
}

/* ===== PROBLEMAS TIPO EXAMEN ===== */
.examen-container {
    display: grid;
    gap: var(--space-md);
}

.problema-card {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: var(--border-radius);
    border: 1px solid rgba(255, 107, 107, 0.3);
}

.problema-header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-sm);
}

.problema-num {
    background: var(--neon-evaluacion);
    color: white;
    width: 1.5rem;
    height: 1.5rem;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.8rem;
    font-weight: bold;
}

.problema-enunciado {
    margin-bottom: var(--space-md);
    line-height: 1.6;
}

.problema-enunciado ol {
    padding-left: 1.5rem;
}

.problema-espacio textarea {
    width: 100%;
    padding: var(--space-sm);
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid var(--neon-evaluacion);
    border-radius: var(--border-radius);
    color: white;
    font-family: inherit;
    resize: vertical;
    min-height: 80px;
}

.problema-solucion {
    margin-top: var(--space-sm);
    padding: var(--space-sm);
    background: rgba(0, 0, 0, 0.3);
    border-radius: var(--border-radius);
    display: none;
}

.rubrica-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: var(--space-sm);
}

.rubrica-table th, .rubrica-table td {
    padding: 0.5rem;
    border: 1px solid rgba(255, 255, 255, 0.2);
    text-align: left;
}

.rubrica-table th {
    background: rgba(57, 255, 20, 0.1);
}

/* ===== CIERRE METACOGNITIVO ===== */
.cierre-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-lg);
}

.autoevaluacion, .recursos {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: var(--border-radius);
}

.slider-group {
    margin-bottom: var(--space-lg);
}

.slider-group label {
    display: block;
    margin-bottom: var(--space-sm);
    font-size: 0.9rem;
}

.autoeval-slider {
    width: 100%;
}

.slider-labels {
    display: flex;
    justify-content: space-between;
    margin-top: var(--space-sm);
    font-size: 0.8rem;
}

.recursos-links {
    display: grid;
    gap: var(--space-sm);
}

.recurso-link {
    color: var(--neon-dato);
    text-decoration: none;
    transition: color 0.2s ease;
}

.recurso-link:hover {
    color: var(--neon-interactivo);
    text-decoration: underline;
}

/* ===== RESPONSIVE ===== */
@media (max-width: 768px) {
    .leccion-fisica-epe {
        padding: var(--space-sm);
    }

    .simulator-container {
        grid-template-columns: 1fr;
    }

    .ley-hooke-container {
        grid-template-columns: 1fr;
    }

    .diagrama-conservacion {
        flex-direction: column;
        gap: var(--space-md);
    }

    .cierre-container {
        grid-template-columns: 1fr;
    }
}
/* ESTILOS ESPEC칈FICOS PARA LA LECCI칍N DE TRABAJO EN F칈SICA */
.leccion-fisica-trabajo .simulator-visualization {
    background: rgba(0, 0, 0, 0.9);
    border-radius: 6px;
    overflow: hidden;
}

.leccion-fisica-trabajo #svgTrabajo line {
    transition: all 0.5s ease;
}

.leccion-fisica-trabajo .data-card.highlight {
    border-left: 3px solid var(--neon-interactivo);
    background: rgba(255, 0, 255, 0.05);
}

.leccion-fisica-trabajo .tabla-cyberpunk tr:hover {
    background: rgba(57, 255, 20, 0.05);
}


/* ==========================================
    VARIABLES CYBERPUNK EDUCATIVAS
    ========================================== */
    :root {
        --neon-concepto: #39FF14;
        --neon-interactivo: #FF00FF;
        --neon-ejemplo: #00FFFF;
        --neon-alerta: #FFFF00;
        --neon-evaluacion: #FF6B6B;
        --neon-dato: #00FF9D;
        --bg-leccion: #0a0a1a;
        --bg-seccion: rgba(0, 0, 0, 0.5);
        --bg-card: rgba(10, 10, 26, 0.8);
        --font-base: 1rem;
        --space-sm: 8px;
        --space-md: 16px;
        --space-lg: 24px;
    }

    /* ==========================================
    ESTILOS GENERALES
    ========================================== */
    .leccion-fisica-trabajo {
        position: relative;
        background-color: var(--bg-leccion);
        color: #e0f0ff;
        font-family: 'Courier New', monospace;
        padding: var(--space-lg);
        max-width: 1200px;
        margin: 0 auto;
        line-height: 1.6;
    }

    .leccion-fisica-trabajo::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image:
            linear-gradient(rgba(57, 255, 20, 0.02) 1px, transparent 1px),
            linear-gradient(90deg, rgba(57, 255, 20, 0.02) 1px, transparent 1px);
        background-size: 40px 40px;
        pointer-events: none;
        z-index: 0;
    }

    /* ==========================================
    COMPONENTES ESPEC칈FICOS
    ========================================== */
    .titulo-leccion {
        font-size: 2.5rem;
        color: var(--neon-concepto);
        margin-bottom: var(--space-sm);
        animation: glow 3s infinite;
    }

    @keyframes glow {
        0%, 100% { text-shadow: 0 0 5px currentColor; }
        50% { text-shadow: 0 0 10px currentColor, 0 0 15px currentColor; }
    }

    .formula-highlight {
        color: var(--neon-interactivo);
        font-weight: bold;
    }

    .objetivo-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        border: 1px solid rgba(57, 255, 20, 0.2);
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        padding-left: 48px;
    }

    .simulator-container {
        display: grid;
        grid-template-columns: 1fr 2fr 1fr;
        gap: var(--space-lg);
        padding: var(--space-lg);
        background: rgba(0, 0, 0, 0.7);
        border: 2px solid var(--neon-interactivo);
        border-radius: 8px;
        margin-bottom: var(--space-lg);
    }

    @media (max-width: 768px) {
        .simulator-container {
            grid-template-columns: 1fr;
        }
    }

    .control-slider {
        width: 100%;
        margin: 8px 0;
    }

    #svgTrabajo {
        background: #0a0a1a;
        border-radius: 6px;
    }

    .quiz-option.correct {
        background: rgba(57, 255, 20, 0.1);
        border-color: var(--neon-concepto);
    }

    .quiz-option.incorrect {
        background: rgba(255, 107, 107, 0.1);
        border-color: var(--neon-evaluacion);
    }

    /* ANIMACIONES */
    @keyframes pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); }
    }

    /* ESTILOS ESPEC칈FICOS PARA LA LECCI칍N DE CONSERVACI칍N DE ENERG칈A */
.leccion-fisica-energia .simulator-visualization {
    background: rgba(0, 0, 0, 0.9);
    border-radius: 6px;
    overflow: hidden;
}

.leccion-fisica-energia #svgEnergia line {
    transition: all 0.5s ease;
}

.leccion-fisica-energia .data-card.highlight {
    border-left: 3px solid var(--neon-interactivo);
    background: rgba(255, 0, 255, 0.05);
}

.leccion-fisica-energia .tabla-cyberpunk tr:hover {
    background: rgba(57, 255, 20, 0.05);
}

/* Animaci칩n de ca칤da */
.leccion-fisica-energia #objeto {
    transition: cy 0.5s ease;
}

/* ========================================
   ESTILOS 칔NICOS PARA LECCI칍N DE F칈SICA: ENERG칈A Y COLISIONES
   Clase espec칤fica: .leccion-fisica-colisiones
   No colisiona con otras lecciones
======================================== */

.leccion-fisica-colisiones {
    /* Variables espec칤ficas para f칤sica */
    --color-momento: #42A5F5;
    --color-impulso: #FF9800;
    --color-elastica: #4CAF50;
    --color-inelastica: #F44336;
    --color-energia: #FFEB3B;
    
    /* Fondo tem치tico */
    background: 
        radial-gradient(circle at 20% 30%, rgba(66, 165, 245, 0.05) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(255, 152, 0, 0.05) 0%, transparent 50%),
        var(--bg-leccion);
}

/* Componentes espec칤ficos de f칤sica */
.fisica-formula-card {
    background: linear-gradient(145deg, rgba(10, 10, 26, 0.9), rgba(20, 20, 40, 0.9));
    border: 2px solid;
    border-image: linear-gradient(45deg, var(--color-momento), var(--color-impulso)) 1;
    position: relative;
    overflow: hidden;
}

.fisica-formula-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, var(--color-momento), var(--color-impulso), var(--color-elastica));
}

/* Animaciones espec칤ficas para simulador de f칤sica */
@keyframes particula-movimiento {
    0% { transform: translateX(0) scale(1); }
    50% { transform: translateX(var(--distancia)) scale(1.1); }
    100% { transform: translateX(calc(var(--distancia) * 2)) scale(1); }
}

@keyframes impacto-luz {
    0% { box-shadow: 0 0 0 0 rgba(255, 255, 0, 0.7); }
    70% { box-shadow: 0 0 0 15px rgba(255, 255, 0, 0); }
    100% { box-shadow: 0 0 0 0 rgba(255, 255, 0, 0); }
}

/* Responsive espec칤fico para simulador f칤sico */
@media (max-width: 1024px) {
    .leccion-fisica-colisiones .simulator-container {
        grid-template-areas: 
            "controls"
            "visualization"
            "data";
    }
    
    .leccion-fisica-colisiones .simulator-controls {
        grid-area: controls;
    }
    
    .leccion-fisica-colisiones .simulator-visualization {
        grid-area: visualization;
        min-height: 400px;
    }
    
    .leccion-fisica-colisiones .simulator-data {
        grid-area: data;
        max-height: 300px;
        overflow-y: auto;
    }
}

/* Optimizaciones para m칩vil */
@media (max-width: 480px) {
    .leccion-fisica-colisiones .conceptos-grid {
        grid-template-columns: 1fr;
        gap: var(--space-sm);
    }
    
    .leccion-fisica-colisiones .simulator-controls .control-group {
        margin-bottom: var(--space-sm);
    }
    
    .leccion-fisica-colisiones .quiz-option {
        padding: 10px 12px;
        font-size: var(--font-sm);
    }
}

/* ========================================
   VARIABLES ESPEC칈FICAS PARA F칈SICA
======================================== */
.leccion-fisica-colisiones {
    --color-momento: #42A5F5;      /* Azul - Momento lineal */
    --color-impulso: #FF9800;      /* Naranja - Impulso */
    --color-elastica: #4CAF50;     /* Verde - Colisi칩n el치stica */
    --color-inelastica: #F44336;   /* Rojo - Colisi칩n inel치stica */
    --color-energia: #FFEB3B;      /* Amarillo - Energ칤a */
}

/* ========================================
   ESTILOS GENERALES MEJORADOS
======================================== */
.leccion-fisica-colisiones {
    position: relative;
    background-color: var(--bg-leccion);
    color: #e0f0ff;
    font-family: 'Courier New', 'Consolas', monospace;
    padding: var(--space-xl);
    max-width: 1200px;
    margin: 0 auto;
    line-height: 1.6;
    border: 1px solid rgba(57, 255, 20, 0.2);
    border-radius: 12px;
}

/* Grid background optimizado */
.leccion-fisica-colisiones::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background-image: 
        linear-gradient(rgba(57, 255, 20, 0.02) 1px, transparent 1px),
        linear-gradient(90deg, rgba(57, 255, 20, 0.02) 1px, transparent 1px);
    background-size: 40px 40px;
    pointer-events: none;
    z-index: 0;
}

/* ========================================
   COMPONENTES COMPACTOS MEJORADOS
======================================== */

/* CABECERA COMPACTA */
.leccion-header {
    text-align: center;
    margin-bottom: var(--space-lg);
    padding-bottom: var(--space-md);
    border-bottom: 2px solid var(--neon-concepto);
}

.titulo-leccion {
    font-size: 2.2rem;
    color: var(--neon-concepto);
    margin-bottom: var(--space-sm);
    animation: glow 3s infinite;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.subtitulo {
    font-size: var(--font-lg);
    color: var(--neon-ejemplo);
    opacity: 0.9;
    font-weight: 300;
}

/* CONCEPTOS EN GRID COMPACTO */
.conceptos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-md);
    margin-bottom: var(--space-lg);
}

.concept-card {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 8px;
    border: 2px solid;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.concept-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 20px rgba(57, 255, 20, 0.2);
}

.concept-card:nth-child(1) { border-color: var(--color-momento); }
.concept-card:nth-child(2) { border-color: var(--color-impulso); }
.concept-card:nth-child(3) { border-color: var(--neon-concepto); }

.concept-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-sm);
}

.concept-badge {
    background: rgba(255, 255, 255, 0.1);
    padding: 4px 10px;
    border-radius: 12px;
    font-size: var(--font-sm);
    color: #e0f0ff;
}

.concept-formula {
    font-size: 1.5rem;
    text-align: center;
    margin: var(--space-md) 0;
    padding: var(--space-sm);
    background: rgba(0, 0, 0, 0.3);
    border-radius: 6px;
    border-left: 3px solid currentColor;
}

/* SIMULADOR MEJORADO */
.simulator-container {
    display: grid;
    grid-template-columns: 1fr 2fr 1fr;
    gap: var(--space-md);
    padding: var(--space-md);
    background: rgba(10, 10, 26, 0.9);
    border: 2px solid var(--neon-interactivo);
    border-radius: 10px;
    margin-bottom: var(--space-lg);
    min-height: 500px;
}

@media (max-width: 1024px) {
    .simulator-container {
        grid-template-columns: 1fr;
        gap: var(--space-lg);
    }
}

.simulator-controls {
    background: rgba(0, 0, 0, 0.6);
    padding: var(--space-md);
    border-radius: 8px;
    border: 1px solid rgba(255, 0, 255, 0.3);
}

.control-group {
    margin-bottom: var(--space-md);
}

.control-group label {
    display: block;
    color: var(--neon-dato);
    margin-bottom: 6px;
    font-size: var(--font-sm);
}

.control-group input[type="range"] {
    width: 100%;
    background: rgba(255, 255, 255, 0.1);
    height: 6px;
    border-radius: 3px;
    outline: none;
}

.control-value {
    display: inline-block;
    margin-left: var(--space-sm);
    color: var(--neon-interactivo);
    font-weight: bold;
    min-width: 40px;
}

.buttons-group {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
    margin-top: var(--space-lg);
}

.btn-simular, .btn-reset {
    padding: 12px;
    border: none;
    border-radius: 6px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    font-size: var(--font-md);
}

.btn-simular {
    background: linear-gradient(135deg, var(--neon-interactivo), #9C27B0);
    color: white;
}

.btn-reset {
    background: rgba(255, 255, 255, 0.1);
    color: #e0f0ff;
    border: 1px solid rgba(255, 255, 255, 0.3);
}

.btn-simular:hover {
    transform: scale(1.02);
    box-shadow: 0 0 20px var(--neon-interactivo);
}

/* VISUALIZACI칍N SVG */
.simulator-visualization {
    background: rgba(0, 0, 0, 0.8);
    border-radius: 8px;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    border: 1px solid rgba(0, 255, 255, 0.2);
}

#svgColision {
    flex-grow: 1;
    width: 100%;
    height: 100%;
    min-height: 400px;
}

.simulador-info {
    padding: var(--space-sm);
    background: rgba(0, 0, 0, 0.7);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    text-align: center;
    color: var(--neon-dato);
    font-size: var(--font-sm);
}

/* DATOS EN TIEMPO REAL */
.simulator-data {
    background: rgba(0, 0, 0, 0.6);
    padding: var(--space-md);
    border-radius: 8px;
    border: 1px solid rgba(0, 255, 157, 0.3);
    overflow-y: auto;
    max-height: 500px;
}

.data-card {
    background: rgba(255, 255, 255, 0.05);
    padding: 10px 12px;
    margin-bottom: 8px;
    border-radius: 6px;
    border-left: 3px solid var(--neon-dato);
    transition: all 0.2s ease;
}

.data-card:hover {
    background: rgba(255, 255, 255, 0.08);
    transform: translateX(2px);
}

.data-card.highlight {
    border-left-color: var(--neon-interactivo);
    background: rgba(255, 0, 255, 0.05);
}

.data-label {
    color: #BBDEFB;
    font-size: var(--font-sm);
    margin-bottom: 4px;
}

.data-value {
    color: var(--neon-dato);
    font-size: var(--font-md);
    font-weight: bold;
    font-family: 'Courier New', monospace;
}

.estadisticas {
    margin-top: var(--space-lg);
    padding-top: var(--space-md);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.stat-item {
    display: flex;
    justify-content: space-between;
    margin-bottom: 6px;
    font-size: var(--font-sm);
}

.stat-value {
    color: var(--neon-concepto);
    font-weight: bold;
}

/* QUIZ COMPACTO */
.quiz-container {
    background: var(--bg-section);
    padding: var(--space-lg);
    border-radius: 10px;
    border: 1px solid rgba(255, 107, 107, 0.3);
}

.quiz-question {
    margin-bottom: var(--space-lg);
    padding-bottom: var(--space-md);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.quiz-header {
    display: flex;
    align-items: center;
    gap: var(--space-md);
    margin-bottom: var(--space-md);
}

.quiz-num {
    background: var(--neon-evaluacion);
    color: #000;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    font-size: var(--font-md);
}

.quiz-options {
    display: grid;
    grid-template-columns: 1fr;
    gap: 8px;
}

.quiz-option {
    padding: 12px 16px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 6px;
    color: #e0f0ff;
    text-align: left;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    gap: 12px;
}

.quiz-option:hover:not(.selected) {
    background: rgba(255, 255, 255, 0.1);
    transform: translateX(4px);
}

.quiz-option.correct {
    background: rgba(76, 175, 80, 0.15);
    border-color: var(--color-elastica);
}

.quiz-option.incorrect {
    background: rgba(244, 67, 54, 0.15);
    border-color: var(--color-inelastica);
}

.option-letter {
    background: rgba(255, 255, 255, 0.1);
    width: 28px;
    height: 28px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    flex-shrink: 0;
}

/* ERRORES COMUNES COMPACTOS */
.errors-container {
    display: grid;
    gap: var(--space-md);
}

.error-card {
    background: rgba(255, 235, 59, 0.05);
    border: 1px solid var(--neon-alerta);
    border-radius: 8px;
    overflow: hidden;
}

.error-header {
    background: rgba(255, 235, 59, 0.1);
    padding: 14px 16px;
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: background 0.3s ease;
}

.error-header:hover {
    background: rgba(255, 235, 59, 0.15);
}

.error-content {
    padding: 16px;
    border-top: 1px solid rgba(255, 235, 59, 0.2);
}

/* PROBLEMAS TIPO EXAMEN - RESPONSIVE */
.problemas-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    margin-top: 2rem;
}

.problema-card {
    background: rgba(30, 41, 59, 0.8);
    border-radius: 16px;
    padding: 1.5rem;
    border: 1px solid rgba(99, 102, 241, 0.2);
    transition: all 0.3s ease;
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.problema-card:hover {
    transform: translateY(-5px);
    border-color: #8b5cf6;
    box-shadow: 0 10px 25px rgba(139, 92, 246, 0.2);
}

.problema-card h3 {
    color: #f8fafc;
    margin: 0;
    font-size: 1.1rem;
}

.problema-card p {
    color: #cbd5e1;
    font-size: 0.95rem;
    line-height: 1.6;
    margin: 0;
}

.problema-espacio textarea, .respuesta-area {
    width: 100%;
    min-height: 120px;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(139, 92, 246, 0.3);
    border-radius: 8px;
    padding: 1rem;
    color: #f8fafc;
    font-family: inherit;
    resize: vertical;
    transition: all 0.3s ease;
}

.problema-espacio textarea:focus, .respuesta-area:focus {
    outline: none;
    border-color: #8b5cf6;
    background: rgba(0, 0, 0, 0.4);
    box-shadow: 0 0 0 2px rgba(139, 92, 246, 0.2);
}

.rubrica, .rubrica-table {
    background: rgba(139, 92, 246, 0.1);
    border-radius: 8px;
    padding: 0.75rem 1rem;
    border-left: 4px solid #8b5cf6;
    margin-top: 0.5rem;
}

.rubrica p, .rubrica-table td {
    margin: 0;
    font-size: 0.85rem;
    color: #a5b4fc;
    font-style: italic;
}

@media (max-width: 768px) {
    .problemas-container {
        grid-template-columns: 1fr;
        gap: 1rem;
    }
    
    .problema-card {
        padding: 1.25rem;
    }
    
    .problema-espacio textarea, .respuesta-area {
        min-height: 100px;
        padding: 0.75rem;
    }
}

.btn-verificar {
    margin-top: var(--space-md);
    padding: 10px 20px;
    background: linear-gradient(135deg, var(--neon-evaluacion), #D32F2F);
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.3s ease;
}

.btn-verificar:hover {
    transform: scale(1.02);
    box-shadow: 0 0 15px var(--neon-evaluacion);
}

/* R칔BRICA */
.rubrica-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: var(--space-md);
    background: rgba(0, 0, 0, 0.3);
}

.rubrica-table th,
.rubrica-table td {
    padding: 12px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    text-align: left;
}

.rubrica-table th {
    background: rgba(255, 107, 107, 0.1);
    color: var(--neon-evaluacion);
}

.rubrica-table tr:nth-child(even) {
    background: rgba(255, 255, 255, 0.02);
}

/* CIERRE METACOGNITIVO COMPACTO - RESPONSIVE */
.cierre-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    margin-top: 2rem;
}

.autoevaluacion, .reflexion, .plan-estudio, .recursos {
    background: rgba(30, 41, 59, 0.8);
    border-radius: 16px;
    padding: 1.5rem;
    border: 1px solid rgba(99, 102, 241, 0.2);
}

.slider-group {
    margin-bottom: 1.5rem;
}

.slider-group label {
    display: block;
    margin-bottom: 0.5rem;
    color: #f8fafc;
    font-size: 0.95rem;
}

.autoeval-slider {
    width: 100%;
    accent-color: #8b5cf6;
}

.slider-labels {
    display: flex;
    justify-content: space-between;
    margin-top: 0.25rem;
    font-size: 0.75rem;
    color: #94a3b8;
}

.btn-guardar {
    width: 100%;
    padding: 0.75rem;
    background: linear-gradient(90deg, #6366f1, #8b5cf6);
    color: white;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    margin-top: 1rem;
}

.btn-guardar:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
}

.pregunta-reflexion textarea {
    width: 100%;
    min-height: 100px;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(139, 92, 246, 0.3);
    border-radius: 8px;
    padding: 1rem;
    color: #f8fafc;
    font-family: inherit;
    resize: vertical;
    margin-top: 0.5rem;
}

.plan-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1rem;
}

.plan-card {
    background: rgba(139, 92, 246, 0.1);
    border-radius: 8px;
    padding: 1rem;
    border: 1px solid rgba(139, 92, 246, 0.2);
}

.plan-card h4 {
    margin: 0 0 0.5rem 0;
    font-size: 1rem;
    color: #a5b4fc;
}

.plan-card ul {
    margin: 0;
    padding-left: 1.25rem;
    font-size: 0.9rem;
    color: #cbd5e1;
}

.recursos-links {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.recurso-link {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem 1rem;
    background: rgba(30, 41, 59, 0.6);
    border: 1px solid rgba(99, 102, 241, 0.2);
    border-radius: 8px;
    color: #f8fafc;
    text-decoration: none;
    font-size: 0.95rem;
    transition: all 0.3s ease;
}

.recurso-link:hover {
    background: rgba(99, 102, 241, 0.1);
    border-color: #6366f1;
    transform: translateX(5px);
}

@media (max-width: 768px) {
    .cierre-container {
        grid-template-columns: 1fr;
        gap: 1rem;
    }
    
    .autoevaluacion, .reflexion, .plan-estudio, .recursos {
        padding: 1.25rem;
    }
}

/* ANIMACIONES OPTIMIZADAS */
@keyframes glow {
    0%, 100% { 
        text-shadow: 0 0 5px currentColor; 
    }
    50% { 
        text-shadow: 0 0 10px currentColor, 0 0 15px currentColor; 
    }
}

@keyframes highlight {
    0% { background-color: rgba(57, 255, 20, 0); }
    50% { background-color: rgba(57, 255, 20, 0.1); }
    100% { background-color: rgba(57, 255, 20, 0); }
}

@keyframes scanline {
    0% { transform: translateY(0); }
    100% { transform: translateY(10px); }
}

/* RESPONSIVE OPTIMIZADO */
@media (max-width: 768px) {
    .leccion-fisica-colisiones {
        padding: var(--space-md);
    }
    
    .titulo-leccion {
        font-size: 1.8rem;
    }
    
    .conceptos-grid,
    .plan-grid {
        grid-template-columns: 1fr;
    }
    
    .simulator-container {
        grid-template-columns: 1fr;
        gap: var(--space-md);
    }
    
    .simulator-controls,
    .simulator-data {
        padding: var(--space-sm);
    }
    
    .cierre-container {
        grid-template-columns: 1fr;
        gap: var(--space-md);
        padding: var(--space-md);
    }
}

/* MATHJAX OPTIMIZADO */
.formula-inline {
    display: inline-block;
    margin: 0 4px;
}

.formula-principal {
    text-align: center;
    margin: var(--space-md) 0;
    padding: var(--space-sm);
    background: rgba(0, 0, 0, 0.3);
    border-radius: 6px;
    border-left: 3px solid var(--neon-concepto);
}

/* ESTAD칈STICAS EN SIMULADOR */
.estadisticas h4 {
    color: var(--neon-dato);
    margin-bottom: var(--space-sm);
    display: flex;
    align-items: center;
    gap: 8px;
}
/* ==========================================
    VARIABLES CYBERPUNK EDUCATIVAS
    ========================================== */
    :root {
        --neon-concepto: #39FF14;
        --neon-interactivo: #FF00FF;
        --neon-ejemplo: #00FFFF;
        --neon-alerta: #FFFF00;
        --neon-evaluacion: #FF6B6B;
        --neon-dato: #00FF9D;
        --bg-leccion: #0a0a1a;
        --bg-seccion: rgba(0, 0, 0, 0.5);
        --bg-card: rgba(10, 10, 26, 0.8);
        --font-base: 1rem;
        --space-sm: 8px;
        --space-md: 16px;
        --space-lg: 24px;
    }

    /* ==========================================
    ESTILOS GENERALES
    ========================================== */
    .leccion-fisica-energia {
        position: relative;
        background-color: var(--bg-leccion);
        color: #e0f0ff;
        font-family: 'Courier New', monospace;
        padding: var(--space-lg);
        max-width: 1200px;
        margin: 0 auto;
        line-height: 1.6;
    }

    .leccion-fisica-energia::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image:
            linear-gradient(rgba(57, 255, 20, 0.02) 1px, transparent 1px),
            linear-gradient(90deg, rgba(57, 255, 20, 0.02) 1px, transparent 1px);
        background-size: 40px 40px;
        pointer-events: none;
        z-index: 0;
    }

    /* ==========================================
    COMPONENTES ESPEC칈FICOS
    ========================================== */
    .titulo-leccion {
        font-size: 2.5rem;
        color: var(--neon-concepto);
        margin-bottom: var(--space-sm);
        animation: glow 3s infinite;
    }

    @keyframes glow {
        0%, 100% { text-shadow: 0 0 5px currentColor; }
        50% { text-shadow: 0 0 10px currentColor, 0 0 15px currentColor; }
    }

    .formula-highlight {
        color: var(--neon-interactivo);
        font-weight: bold;
    }

    .objetivo-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        border: 1px solid rgba(57, 255, 20, 0.2);
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        padding-left: 48px;
    }

    .simulator-container {
        display: grid;
        grid-template-columns: 1fr 2fr 1fr;
        gap: var(--space-lg);
        padding: var(--space-lg);
        background: rgba(0, 0, 0, 0.7);
        border: 2px solid var(--neon-interactivo);
        border-radius: 8px;
        margin-bottom: var(--space-lg);
    }

    @media (max-width: 768px) {
        .simulator-container {
            grid-template-columns: 1fr;
        }
    }

    .control-slider {
        width: 100%;
        margin: 8px 0;
    }

    #svgEnergia {
        background: #0a0a1a;
        border-radius: 6px;
    }

    .quiz-option.correct {
        background: rgba(57, 255, 20, 0.1);
        border-color: var(--neon-concepto);
    }

    .quiz-option.incorrect {
        background: rgba(255, 107, 107, 0.1);
        border-color: var(--neon-evaluacion);
    }

    /* ANIMACIONES */
    @keyframes pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); }
    }
/* ESTILOS ESPEC칈FICOS PARA LA LECCI칍N DE IMPULSO Y CANTIDAD DE MOVIMIENTO */
.leccion-fisica-impulso .simulator-visualization {
    background: rgba(0, 0, 0, 0.9);
    border-radius: 6px;
    overflow: hidden;
}

.leccion-fisica-impulso #svgImpulso line {
    transition: all 0.5s ease;
}

.leccion-fisica-impulso .data-card.highlight {
    border-left: 3px solid var(--neon-interactivo);
    background: rgba(255, 0, 255, 0.05);
}

.leccion-fisica-impulso .tabla-cyberpunk tr:hover {
    background: rgba(255, 0, 255, 0.05);
}

/* Animaci칩n de objetos en el simulador */
.leccion-fisica-impulso #objetoFinal {
    transition: cx 0.5s ease;
}

/* ========================================
   ESTILOS 칔NICOS PARA LECCI칍N DE CALOR Y CAPACIDAD T칄RMICA
   Clase: .leccion-fisica-calor
======================================== */

.leccion-fisica-calor {
    /* Variables espec칤ficas */
    --gradient-caliente: linear-gradient(45deg, #FF5722, #FF9800);
    --gradient-frio: linear-gradient(45deg, #2196F3, #03A9F4);
    --gradient-equilibrio: linear-gradient(45deg, #4CAF50, #8BC34A);
    
    /* Efectos especiales */
    background-attachment: fixed;
}

/* Animaciones espec칤ficas para termodin치mica */
@keyframes transferencia-calor {
    0% { transform: translateY(0) scale(1); }
    50% { transform: translateY(-10px) scale(1.1); }
    100% { transform: translateY(0) scale(1); }
}

@keyframes mercurio-subiendo {
    0% { height: 40px; }
    100% { height: var(--altura-final); }
}

/* Estilos para gr치ficos de temperatura */
.temp-line-agua {
    stroke: #42A5F5;
    stroke-width: 3;
    fill: none;
    stroke-linecap: round;
}

.temp-line-metal {
    stroke: #EF5350;
    stroke-width: 3;
    fill: none;
    stroke-linecap: round;
}

/* Estilos para elementos t칠rmicos */
.termico-hot {
    filter: drop-shadow(0 0 8px rgba(255, 87, 34, 0.7));
    transition: filter 0.3s ease;
}

.termico-cold {
    filter: drop-shadow(0 0 8px rgba(33, 150, 243, 0.7));
    transition: filter 0.3s ease;
}

.termico-equilibrio {
    filter: drop-shadow(0 0 8px rgba(76, 175, 80, 0.7));
    transition: filter 0.3s ease;
}

/* Responsive optimizado para simulador */
@media (max-width: 1200px) {
    .leccion-fisica-calor .simulator-container.calorimetro {
        grid-template-areas: 
            "controls"
            "visualization" 
            "data";
        gap: var(--space-md);
    }
    
    .leccion-fisica-calor .simulator-controls {
        grid-area: controls;
    }
    
    .leccion-fisica-calor .simulator-visualization {
        grid-area: visualization;
        min-height: 400px;
    }
    
    .leccion-fisica-calor .simulator-data {
        grid-area: data;
        max-height: 400px;
        overflow-y: auto;
    }
}

/* Mejoras de impresi칩n */
@media print {
    .leccion-fisica-calor {
        color: #000;
        background: #fff !important;
    }
    
    .leccion-fisica-calor .simulator-container {
        break-inside: avoid;
        border: 1px solid #ccc !important;
    }
    
    .leccion-fisica-calor .data-card {
        border: 1px solid #ddd !important;
    }
}
/* ========================================
   ESTILOS PRINCIPALES - SIN ELEMENTOS COLAPSABLES
======================================== */
.leccion-fisica-calor-mejorada {
    background-color: var(--bg-leccion);
    color: #e0f0ff;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    line-height: 1.6;
    padding: 20px;
    max-width: 1400px;
    margin: 0 auto;
}

/* CABECERA MEJORADA */
.leccion-header-simple {
    background: linear-gradient(135deg, rgba(255, 87, 34, 0.1), rgba(33, 150, 243, 0.1));
    padding: 30px;
    border-radius: 12px;
    margin-bottom: 40px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    text-align: center;
}

.titulo-container {
    margin-bottom: 20px;
}

.titulo-principal {
    font-size: 2.8rem;
    color: #FF9800;
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 15px;
}

.icono-titulo {
    font-size: 3rem;
    filter: drop-shadow(0 0 10px rgba(255, 152, 0, 0.5));
}

.subtitulo-principal {
    font-size: 1.3rem;
    color: #64B5F6;
    opacity: 0.9;
    max-width: 800px;
    margin: 0 auto;
}

.fecha-actualizacion {
    display: flex;
    justify-content: center;
    gap: 30px;
    margin-top: 20px;
    flex-wrap: wrap;
}

.badge-actualizado {
    background: rgba(76, 175, 80, 0.2);
    color: #81C784;
    padding: 8px 16px;
    border-radius: 20px;
    font-weight: bold;
    border: 1px solid rgba(76, 175, 80, 0.3);
}

.valor-destacado {
    background: rgba(33, 150, 243, 0.2);
    color: #64B5F6;
    padding: 8px 16px;
    border-radius: 20px;
    font-family: 'Courier New', monospace;
    border: 1px solid rgba(33, 150, 243, 0.3);
}

/* CONTENIDO PRINCIPAL EN COLUMNAS */
.contenido-principal {
    display: grid;
    grid-template-columns: 1fr 400px;
    gap: 40px;
    margin-bottom: 50px;
}

@media (max-width: 1200px) {
    .contenido-principal {
        grid-template-columns: 1fr;
    }
}

/* COLUMNA TEOR칈A */
.columna-teoria {
    display: flex;
    flex-direction: column;
    gap: 40px;
}

.seccion-contenido {
    background: rgba(20, 20, 40, 0.8);
    border-radius: 12px;
    padding: 30px;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.seccion-header {
    margin-bottom: 30px;
}

.numero-seccion {
    background: linear-gradient(45deg, #FF9800, #FF5722);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    font-size: 1.8rem;
    margin-right: 15px;
}

.seccion-header h2 {
    display: flex;
    align-items: center;
    font-size: 1.8rem;
    color: #BBDEFB;
    margin-bottom: 10px;
}

.linea-separadora {
    height: 3px;
    background: linear-gradient(90deg, #FF9800, #2196F3);
    border-radius: 2px;
    width: 100%;
}

/* CONCEPTOS GRID */
.conceptos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 25px;
    margin-bottom: 30px;
}

.concepto-card {
    background: rgba(30, 30, 50, 0.8);
    border-radius: 10px;
    padding: 25px;
    border: 1px solid rgba(255, 255, 255, 0.05);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.concepto-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
}

.concepto-icono {
    width: 70px;
    height: 70px;
    border-radius: 15px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2.5rem;
    margin-bottom: 20px;
}

.concepto-contenido h3 {
    color: #FF9800;
    margin-bottom: 15px;
    font-size: 1.4rem;
}

.concepto-definicion {
    color: #BBDEFB;
    margin-bottom: 20px;
    line-height: 1.6;
}

.concepto-formula {
    font-size: 1.5rem;
    text-align: center;
    margin: 20px 0;
    padding: 15px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    border-left: 4px solid currentColor;
}

.concepto-detalles {
    display: grid;
    gap: 10px;
}

.detalle-item {
    display: flex;
    justify-content: space-between;
    padding: 8px 12px;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 6px;
}

.detalle-etiqueta {
    color: #90CAF9;
}

.detalle-valor {
    color: #FFCC80;
    font-family: 'Courier New', monospace;
}

/* COMPARACI칍N */
.comparacion-card {
    background: linear-gradient(135deg, rgba(255, 152, 0, 0.05), rgba(33, 150, 243, 0.05));
    border-radius: 10px;
    padding: 25px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    margin-top: 30px;
}

.comparacion-titulo {
    color: #4CAF50;
    text-align: center;
    margin-bottom: 25px;
    font-size: 1.4rem;
}

.comparacion-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px;
    margin-bottom: 25px;
}

@media (max-width: 768px) {
    .comparacion-grid {
        grid-template-columns: 1fr;
    }
}

.comparacion-item {
    padding: 20px;
    border-radius: 8px;
}

.comparacion-item:first-child {
    background: rgba(33, 150, 243, 0.1);
    border: 1px solid rgba(33, 150, 243, 0.2);
}

.comparacion-item:last-child {
    background: rgba(255, 152, 0, 0.1);
    border: 1px solid rgba(255, 152, 0, 0.2);
}

.comparacion-item h4 {
    color: #64B5F6;
    margin-bottom: 15px;
    text-align: center;
}

.lista-caracteristicas {
    list-style: none;
    padding: 0;
}

.lista-caracteristicas li {
    padding: 8px 0;
    color: #E3F2FD;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.lista-caracteristicas li:last-child {
    border-bottom: none;
}

.ejemplo-practico {
    background: rgba(0, 0, 0, 0.3);
    padding: 20px;
    border-radius: 8px;
    margin-top: 20px;
    font-family: 'Courier New', monospace;
    color: #FFCC80;
    border-left: 4px solid #FF9800;
}

/* CALOR LATENTE */
.explicacion-detallada {
    line-height: 1.7;
}

.formula-destacada {
    background: linear-gradient(135deg, rgba(156, 39, 176, 0.1), rgba(103, 58, 183, 0.1));
    padding: 25px;
    border-radius: 10px;
    margin: 25px 0;
    text-align: center;
    border: 1px solid rgba(156, 39, 176, 0.2);
}

.formula-titulo {
    color: #BA68C8;
    font-weight: bold;
    margin-bottom: 15px;
    font-size: 1.2rem;
}

.formula-destacada .MathJax {
    font-size: 2rem !important;
}

.formula-variables {
    display: flex;
    justify-content: center;
    gap: 30px;
    margin-top: 20px;
    flex-wrap: wrap;
}

.formula-variables span {
    color: #CE93D8;
    font-family: 'Courier New', monospace;
}


.tabla-latente {
    background: rgba(30, 30, 50, 0.8);
    border-radius: 10px;
    overflow: hidden;
    margin: 30px 0;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.tabla-header {
    background: rgba(33, 150, 243, 0.1);
    padding: 20px;
    text-align: center;
}

.tabla-header h4 {
    color: #64B5F6;
    margin: 0;
}

.tabla-contenido {
    padding: 0;
}

.fila-latente {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    padding: 20px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    align-items: center;
}

.fila-latente:last-child {
    border-bottom: none;
}

@media (max-width: 768px) {
    .fila-latente {
        grid-template-columns: 1fr;
        gap: 15px;
    }
}

.celda-proceso {
    display: flex;
    align-items: center;
    gap: 15px;
}

.icono-proceso {
    font-size: 2rem;
    background: rgba(255, 255, 255, 0.05);
    padding: 10px;
    border-radius: 8px;
}

.celda-valor {
    text-align: center;
}

.valor-destacado {
    display: block;
    color: #4CAF50;
    font-size: 1.3rem;
    font-weight: bold;
    font-family: 'Courier New', monospace;
}

.valor-pequeno {
    display: block;
    color: #81C784;
    font-size: 0.9rem;
    margin-top: 5px;
}

.celda-info {
    text-align: right;
    color: #90CAF9;
    font-size: 0.95rem;
}

@media (max-width: 768px) {
    .celda-info {
        text-align: center;
    }
}

.ejemplo-aplicacion {
    background: rgba(76, 175, 80, 0.1);
    padding: 25px;
    border-radius: 10px;
    margin-top: 30px;
    border: 1px solid rgba(76, 175, 80, 0.2);
}

.ejemplo-aplicacion h4 {
    color: #81C784;
    margin-bottom: 20px;
    text-align: center;
}

.calculo-paso {
    display: flex;
    align-items: center;
    gap: 15px;
    margin: 15px 0;
    padding: 12px 15px;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
}

.paso-numero {
    background: #4CAF50;
    color: white;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    flex-shrink: 0;
}

.paso-texto {
    color: #E8F5E9;
    font-family: 'Courier New', monospace;
}

.resultado-final {
    background: rgba(0, 0, 0, 0.3);
    padding: 15px;
    border-radius: 8px;
    margin-top: 20px;
    text-align: center;
    color: #C8E6C9;
    font-size: 1.1rem;
    border-left: 4px solid #4CAF50;
}

/* EQUILIBRIO T칄RMICO */
.principio-fundamental {
    display: flex;
    align-items: center;
    gap: 25px;
    background: rgba(255, 152, 0, 0.1);
    padding: 25px;
    border-radius: 10px;
    margin-bottom: 30px;
    border: 1px solid rgba(255, 152, 0, 0.2);
}

.principio-icono {
    font-size: 3rem;
    flex-shrink: 0;
}

.principio-contenido h3 {
    color: #FFB74D;
    margin-bottom: 10px;
}

.principio-contenido p {
    color: #FFE0B2;
    line-height: 1.6;
}

.formula-equilibrio {
    background: rgba(30, 30, 50, 0.8);
    padding: 30px;
    border-radius: 10px;
    margin-bottom: 30px;
    text-align: center;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.formula-simple {
    font-size: 2rem;
    margin-bottom: 20px;
    color: #FF9800;
}

.formula-completa {
    font-size: 1.5rem;
    margin: 25px 0;
    padding: 20px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    overflow-x: auto;
}

.formula-explicacion {
    text-align: left;
    max-width: 600px;
    margin: 25px auto 0;
    color: #BBDEFB;
}

.formula-explicacion ul {
    list-style: none;
    padding-left: 0;
}

.formula-explicacion li {
    padding: 8px 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.formula-explicacion li:last-child {
    border-bottom: none;
}

.ejemplo-detallado {
    background: linear-gradient(135deg, rgba(33, 150, 243, 0.05), rgba(255, 87, 34, 0.05));
    padding: 30px;
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.ejemplo-detallado h4 {
    color: #64B5F6;
    text-align: center;
    margin-bottom: 25px;
    font-size: 1.3rem;
}

.enunciado-problema {
    background: rgba(0, 0, 0, 0.3);
    padding: 20px;
    border-radius: 8px;
    margin-bottom: 30px;
    color: #E3F2FD;
    border-left: 4px solid #2196F3;
    line-height: 1.7;
}

.solucion-pasos {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.paso-solucion {
    background: rgba(30, 30, 50, 0.8);
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.paso-header {
    background: rgba(33, 150, 243, 0.1);
    padding: 15px 20px;
    display: flex;
    align-items: center;
    gap: 15px;
}

.paso-indicador {
    background: #2196F3;
    color: white;
    padding: 5px 15px;
    border-radius: 20px;
    font-weight: bold;
}

.paso-titulo {
    color: #64B5F6;
    font-weight: bold;
}

.paso-contenido {
    padding: 20px;
}

.datos-lista {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.dato-item {
    display: flex;
    justify-content: space-between;
    padding: 10px 15px;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 6px;
}

.dato-label {
    color: #90CAF9;
    font-weight: bold;
}

.dato-valor {
    color: #FFCC80;
    font-family: 'Courier New', monospace;
}

.resultado-destacado {
    background: rgba(76, 175, 80, 0.2);
    padding: 15px;
    border-radius: 8px;
    margin-top: 20px;
    text-align: center;
    color: #C8E6C9;
    font-size: 1.2rem;
    border: 1px solid rgba(76, 175, 80, 0.3);
}

/* COLUMNA DATOS */
.columna-datos {
    display: flex;
    flex-direction: column;
    gap: 40px;
}

.seccion-datos {
    background: rgba(20, 20, 40, 0.8);
    border-radius: 12px;
    padding: 25px;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.seccion-header-datos {
    margin-bottom: 25px;
}

.seccion-header-datos h2 {
    color: #64B5F6;
    font-size: 1.5rem;
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    gap: 10px;
}

.linea-datos {
    height: 2px;
    background: linear-gradient(90deg, #2196F3, transparent);
    border-radius: 1px;
}

/* TABLA DE SUSTANCIAS */
.tabla-sustancias {
    background: rgba(10, 10, 26, 0.8);
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.tabla-header-fijo {
    display: grid;
    grid-template-columns: 2fr 1fr 1fr;
    background: rgba(33, 150, 243, 0.1);
    padding: 15px;
    font-weight: bold;
    color: #64B5F6;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.tabla-cuerpo {
    max-height: 500px;
    overflow-y: auto;
}

.fila-sustancia {
    display: grid;
    grid-template-columns: 2fr 1fr 1fr;
    padding: 15px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    align-items: center;
    transition: background-color 0.3s ease;
}

.fila-sustancia:hover {
    background: rgba(57, 255, 20, 0.05);
}

.fila-sustancia.destacada {
    background: rgba(33, 150, 243, 0.1);
}

.celda-sustancia {
    display: flex;
    align-items: center;
    gap: 15px;
}

.icono-sustancia {
    font-size: 1.8rem;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 8px;
}

.info-sustancia {
    display: flex;
    flex-direction: column;
}

.info-sustancia strong {
    color: #E3F2FD;
}

.formula-sustancia {
    color: #90CAF9;
    font-family: 'Courier New', monospace;
    font-size: 0.9rem;
    margin-top: 3px;
}

.celda-valor {
    display: flex;
    flex-direction: column;
    align-items: center;
}

.valor-principal {
    color: #4CAF50;
    font-size: 1.2rem;
    font-weight: bold;
    font-family: 'Courier New', monospace;
}

.valor-secundario {
    color: #81C784;
    font-size: 0.8rem;
    margin-top: 3px;
}

.celda-relacion {
    padding: 0 10px;
}

.barra-relacion {
    height: 20px;
    background: linear-gradient(90deg, #4CAF50, #8BC34A);
    border-radius: 10px;
    position: relative;
    transition: width 1s ease;
}

.texto-relacion {
    position: absolute;
    right: -35px;
    top: 50%;
    transform: translateY(-50%);
    color: #4CAF50;
    font-family: 'Courier New', monospace;
    font-weight: bold;
}

.tabla-nota {
    padding: 15px;
    background: rgba(0, 0, 0, 0.3);
    color: #BBDEFB;
    font-size: 0.9rem;
    text-align: center;
    border-top: 1px solid rgba(255, 255, 255, 0.05);
}

/* APLICACIONES PR츼CTICAS */
.aplicaciones-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
}

.aplicacion-card {
    background: rgba(30, 30, 50, 0.8);
    border-radius: 8px;
    padding: 20px;
    border: 1px solid rgba(255, 255, 255, 0.05);
    transition: transform 0.3s ease;
}

.aplicacion-card:hover {
    transform: translateY(-5px);
}

.aplicacion-icono {
    width: 50px;
    height: 50px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.8rem;
    margin-bottom: 15px;
}

.aplicacion-contenido h3 {
    color: #FF9800;
    margin-bottom: 10px;
    font-size: 1.1rem;
}

.aplicacion-contenido p {
    color: #BBDEFB;
    font-size: 0.95rem;
    line-height: 1.5;
    margin-bottom: 15px;
}

.aplicacion-dato {
    display: flex;
    justify-content: space-between;
    padding: 8px 12px;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 6px;
    font-size: 0.9rem;
}

.aplicacion-dato span {
    color: #90CAF9;
}

.aplicacion-dato strong {
    color: #FFCC80;
}

/* DIAGRAMA */
.diagrama-container {
    background: rgba(10, 10, 26, 0.8);
    border-radius: 8px;
    padding: 20px;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.diagrama-svg {
    display: block;
    margin: 0 auto;
    border-radius: 8px;
    background: rgba(0, 0, 0, 0.3);
}

.diagrama-leyenda {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-top: 20px;
    flex-wrap: wrap;
}

.leyenda-item {
    display: flex;
    align-items: center;
    gap: 10px;
    color: #BBDEFB;
    font-size: 0.9rem;
}

.leyenda-color {
    width: 15px;
    height: 15px;
    border-radius: 3px;
}

/* EJERCICIOS ADICIONALES */
.ejercicios-lista {
    display: flex;
    flex-direction: column;
    gap: 25px;
}

.ejercicio-item {
    background: rgba(30, 30, 50, 0.8);
    border-radius: 8px;
    padding: 20px;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.ejercicio-header {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 15px;
}

.ejercicio-numero {
    background: #2196F3;
    color: white;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    flex-shrink: 0;
}

.ejercicio-header h3 {
    color: #64B5F6;
    margin: 0;
    font-size: 1.2rem;
}

.ejercicio-enunciado {
    color: #E3F2FD;
    line-height: 1.6;
    margin-bottom: 15px;
    padding-left: 10px;
    border-left: 3px solid #2196F3;
}

.ejercicio-solucion {
    background: rgba(0, 0, 0, 0.3);
    padding: 15px;
    border-radius: 8px;
    color: #C8E6C9;
    font-family: 'Courier New', monospace;
    font-size: 0.95rem;
    line-height: 1.5;
    border: 1px solid rgba(76, 175, 80, 0.2);
}

/* CURIOSIDADES */
.curiosidades-lista {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.curiosidad-item {
    display: flex;
    gap: 20px;
    background: rgba(30, 30, 50, 0.8);
    border-radius: 8px;
    padding: 20px;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.curiosidad-icono {
    font-size: 2rem;
    flex-shrink: 0;
}

.curiosidad-contenido h4 {
    color: #FF9800;
    margin-bottom: 10px;
    font-size: 1.1rem;
}

.curiosidad-contenido p {
    color: #BBDEFB;
    font-size: 0.95rem;
    line-height: 1.5;
}

/* SIMULADOR SIMPLE */
.simulador-simple {
    background: linear-gradient(135deg, rgba(255, 87, 34, 0.1), rgba(33, 150, 243, 0.1));
    border-radius: 12px;
    padding: 40px;
    margin: 50px 0;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.simulador-header {
    text-align: center;
    margin-bottom: 40px;
}

.simulador-header h2 {
    color: #FF9800;
    font-size: 2rem;
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 15px;
}

.icono-simulador {
    font-size: 2.5rem;
}

.simulador-descripcion {
    color: #64B5F6;
    font-size: 1.1rem;
    max-width: 600px;
    margin: 0 auto;
}

.simulador-contenido {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 40px;
}

@media (max-width: 900px) {
    .simulador-contenido {
        grid-template-columns: 1fr;
    }
}

.calculadora-form {
    background: rgba(20, 20, 40, 0.8);
    padding: 30px;
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.sustancia-input {
    margin-bottom: 30px;
}

.sustancia-input h3 {
    color: #64B5F6;
    margin-bottom: 20px;
    padding-bottom: 10px;
    border-bottom: 2px solid rgba(100, 181, 246, 0.3);
}

.input-group {
    margin-bottom: 20px;
}

.input-group label {
    display: block;
    color: #90CAF9;
    margin-bottom: 8px;
    font-weight: bold;
}

.input-calculadora {
    width: 100%;
    padding: 12px 15px;
    background: rgba(0, 0, 0, 0.3);
    border: 2px solid rgba(100, 181, 246, 0.3);
    border-radius: 8px;
    color: #E3F2FD;
    font-size: 1rem;
    font-family: 'Courier New', monospace;
    transition: border-color 0.3s ease;
}

.input-calculadora:focus {
    outline: none;
    border-color: #2196F3;
}

.select-calculadora {
    width: 100%;
    padding: 12px 15px;
    background: rgba(0, 0, 0, 0.3);
    border: 2px solid rgba(100, 181, 246, 0.3);
    border-radius: 8px;
    color: #E3F2FD;
    font-size: 1rem;
    cursor: pointer;
}

.sustancia-info {
    display: flex;
    justify-content: space-between;
    padding: 10px 15px;
    background: rgba(33, 150, 243, 0.1);
    border-radius: 8px;
    margin-top: 15px;
    color: #64B5F6;
}

.calculadora-boton {
    text-align: center;
    margin-top: 30px;
}

.btn-calcular {
    background: linear-gradient(135deg, #FF9800, #FF5722);
    color: white;
    border: none;
    padding: 15px 30px;
    border-radius: 8px;
    font-size: 1.1rem;
    font-weight: bold;
    cursor: pointer;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    width: 100%;
}

.btn-calcular:hover {
    transform: translateY(-3px);
    box-shadow: 0 10px 20px rgba(255, 87, 34, 0.3);
}

.btn-icono {
    font-size: 1.3rem;
}

.calculadora-resultados {
    background: rgba(20, 20, 40, 0.8);
    padding: 30px;
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.resultados-header {
    text-align: center;
    margin-bottom: 25px;
}

.resultados-header h3 {
    color: #4CAF50;
    font-size: 1.4rem;
}

.resultados-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
    margin-bottom: 25px;
}

.resultado-item {
    background: rgba(0, 0, 0, 0.3);
    padding: 15px;
    border-radius: 8px;
    text-align: center;
}

.resultado-label {
    color: #90CAF9;
    font-size: 0.9rem;
    margin-bottom: 8px;
}

.resultado-valor {
    color: #4CAF50;
    font-size: 1.3rem;
    font-weight: bold;
    font-family: 'Courier New', monospace;
}

.ecuacion-resultado {
    background: rgba(0, 0, 0, 0.3);
    padding: 20px;
    border-radius: 8px;
    margin-top: 20px;
}

.ecuacion-titulo {
    color: #FF9800;
    font-weight: bold;
    margin-bottom: 10px;
    text-align: center;
}

.ecuacion-contenido {
    text-align: center;
    padding: 15px;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    overflow-x: auto;
}

/* RESUMEN FINAL */
.resumen-final {
    background: linear-gradient(135deg, rgba(76, 175, 80, 0.1), rgba(33, 150, 243, 0.1));
    border-radius: 12px;
    padding: 40px;
    margin-top: 50px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.resumen-header {
    text-align: center;
    margin-bottom: 40px;
}

.resumen-header h2 {
    color: #4CAF50;
    font-size: 2rem;
}

.formulas-resumen {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 30px;
    margin-bottom: 40px;
}

.formula-resumen-item {
    background: rgba(20, 20, 40, 0.8);
    padding: 25px;
    border-radius: 10px;
    text-align: center;
    border: 1px solid rgba(255, 255, 255, 0.05);
    transition: transform 0.3s ease;
}

.formula-resumen-item:hover {
    transform: translateY(-5px);
}

.formula-titulo {
    color: #FF9800;
    font-weight: bold;
    margin-bottom: 15px;
    font-size: 1.2rem;
}

.formula-contenido {
    font-size: 1.3rem;
    margin: 20px 0;
    padding: 15px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
}

.formula-explicacion {
    color: #BBDEFB;
    font-size: 0.95rem;
    line-height: 1.5;
}

.consejos-finales {
    background: rgba(20, 20, 40, 0.8);
    padding: 30px;
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.consejos-finales h3 {
    color: #FF9800;
    text-align: center;
    margin-bottom: 25px;
    font-size: 1.4rem;
}

.consejos-lista {
    list-style-position: inside;
    padding-left: 0;
    max-width: 800px;
    margin: 0 auto;
}

.consejos-lista li {
    padding: 12px 20px;
    margin-bottom: 10px;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    color: #E3F2FD;
    border-left: 4px solid #FF9800;
}

/* RESPONSIVE FINAL */
@media (max-width: 768px) {
    .leccion-fisica-calor-mejorada {
        padding: 15px;
    }
    
    .titulo-principal {
        font-size: 2rem;
        flex-direction: column;
        gap: 10px;
    }
    
    .contenido-principal {
        gap: 30px;
    }
    
    .seccion-contenido,
    .seccion-datos,
    .simulador-simple,
    .resumen-final {
        padding: 20px;
    }
    
    .conceptos-grid {
        grid-template-columns: 1fr;
    }
    
    .resultados-grid {
        grid-template-columns: 1fr;
    }
    
    .formulas-resumen {
        grid-template-columns: 1fr;
    }
}

/* ANIMACIONES SUTILES */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.concepto-card, .ejercicio-item, .curiosidad-item, .formula-resumen-item {
    animation: fadeInUp 0.6s ease forwards;
}

.concepto-card:nth-child(2) { animation-delay: 0.1s; }
.concepto-card:nth-child(3) { animation-delay: 0.2s; }
.ejercicio-item:nth-child(2) { animation-delay: 0.3s; }
.ejercicio-item:nth-child(3) { animation-delay: 0.4s; }

/* EFECTOS CYBERPUNK SUTILES */
.titulo-principal {
    position: relative;
}

.titulo-principal::after {
    content: '';
    position: absolute;
    bottom: -5px;
    left: 50%;
    transform: translateX(-50%);
    width: 100px;
    height: 3px;
    background: linear-gradient(90deg, transparent, #FF9800, transparent);
    border-radius: 2px;
}

.concepto-formula, .formula-destacada .MathJax {
    position: relative;
}

.concepto-formula::before, .formula-destacada .MathJax::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.05), transparent);
    border-radius: 8px;
    pointer-events: none;
}

/* SCROLLBAR PERSONALIZADO */
::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

::-webkit-scrollbar-track {
    background: rgba(20, 20, 40, 0.8);
    border-radius: 5px;
}

::-webkit-scrollbar-thumb {
    background: linear-gradient(45deg, #2196F3, #FF9800);
    border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(45deg, #1976D2, #F57C00);
}

/* IMPRESI칍N */
@media print {
    .leccion-fisica-calor-mejorada {
        background: white !important;
        color: black !important;
        padding: 20px !important;
    }
    
    .contenido-principal {
        display: block !important;
    }
    
    .simulador-simple,
    .btn-calcular {
        break-inside: avoid;
    }
    
    .icono-titulo,
    .icono-simulador,
    .btn-icono {
        color: black !important;
    }
}
/* ==========================================
    VARIABLES CYBERPUNK EDUCATIVAS
    ========================================== */
    :root {
        --neon-concepto: #39FF14;
        --neon-interactivo: #FF00FF;
        --neon-ejemplo: #00FFFF;
        --neon-alerta: #FFFF00;
        --neon-evaluacion: #FF6B6B;
        --neon-dato: #00FF9D;
        --bg-leccion: #0a0a1a;
        --bg-seccion: rgba(0, 0, 0, 0.5);
        --bg-card: rgba(10, 10, 26, 0.8);
        --font-base: 1rem;
        --space-sm: 8px;
        --space-md: 16px;
        --space-lg: 24px;
    }

    /* ==========================================
    ESTILOS GENERALES
    ========================================== */
    .leccion-fisica-impulso {
        position: relative;
        background-color: var(--bg-leccion);
        color: #e0f0ff;
        font-family: 'Courier New', monospace;
        padding: var(--space-lg);
        max-width: 1200px;
        margin: 0 auto;
        line-height: 1.6;
    }

    .leccion-fisica-impulso::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image:
            linear-gradient(rgba(255, 0, 255, 0.02) 1px, transparent 1px),
            linear-gradient(90deg, rgba(255, 0, 255, 0.02) 1px, transparent 1px);
        background-size: 40px 40px;
        pointer-events: none;
        z-index: 0;
    }

    /* ==========================================
    COMPONENTES ESPEC칈FICOS
    ========================================== */
    .titulo-leccion {
        font-size: 2.5rem;
        color: var(--neon-concepto);
        margin-bottom: var(--space-sm);
        animation: glow 3s infinite;
    }

    @keyframes glow {
        0%, 100% { text-shadow: 0 0 5px currentColor; }
        50% { text-shadow: 0 0 10px currentColor, 0 0 15px currentColor; }
    }

    .formula-highlight {
        color: var(--neon-interactivo);
        font-weight: bold;
    }

    .objetivo-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        border: 1px solid rgba(255, 0, 255, 0.2);
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        padding-left: 48px;
    }

    .simulator-container {
        display: grid;
        grid-template-columns: 1fr 2fr 1fr;
        gap: var(--space-lg);
        padding: var(--space-lg);
        background: rgba(0, 0, 0, 0.7);
        border: 2px solid var(--neon-interactivo);
        border-radius: 8px;
        margin-bottom: var(--space-lg);
    }

    @media (max-width: 768px) {
        .simulator-container {
            grid-template-columns: 1fr;
        }
    }

    .control-slider {
        width: 100%;
        margin: 8px 0;
    }

    #svgImpulso {
        background: #0a0a1a;
        border-radius: 6px;
    }

    .quiz-option.correct {
        background: rgba(57, 255, 20, 0.1);
        border-color: var(--neon-concepto);
    }

    .quiz-option.incorrect {
        background: rgba(255, 107, 107, 0.1);
        border-color: var(--neon-evaluacion);
    }

    /* ANIMACIONES */
    @keyframes pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); }
    }
    /* ESTILOS ESPEC칈FICOS PARA LA LECCI칍N DE CONSERVACI칍N DE LA CANTIDAD DE MOVIMIENTO */
.leccion-fisica-conservacion .simulator-visualization {
    background: rgba(0, 0, 0, 0.9);
    border-radius: 6px;
    overflow: hidden;
}

.leccion-fisica-conservacion #svgColision circle {
    transition: cx 0.5s ease, opacity 0.5s ease;
}

.leccion-fisica-conservacion .data-card.highlight {
    border-left: 3px solid var(--neon-interactivo);
    background: rgba(57, 255, 20, 0.05);
}

.leccion-fisica-conservacion .tabla-cyberpunk tr:hover {
    background: rgba(57, 255, 20, 0.05);
}

/* Animaci칩n de objetos en el simulador */
@keyframes moverObjeto {
    0% { cx: 150; }
    100% { cx: 300; }
}

/* ==========================================
    VARIABLES CYBERPUNK EDUCATIVAS
    ========================================== */
    :root {
        --neon-concepto: #39FF14;
        --neon-interactivo: #FF00FF;
        --neon-ejemplo: #00FFFF;
        --neon-alerta: #FFFF00;
        --neon-evaluacion: #FF6B6B;
        --neon-dato: #00FF9D;
        --bg-leccion: #0a0a1a;
        --bg-seccion: rgba(0, 0, 0, 0.5);
        --bg-card: rgba(10, 10, 26, 0.8);
        --font-base: 1rem;
        --space-sm: 8px;
        --space-md: 16px;
        --space-lg: 24px;
    }

    /* ==========================================
    ESTILOS GENERALES
    ========================================== */
    .leccion-fisica-conservacion {
        position: relative;
        background-color: var(--bg-leccion);
        color: #e0f0ff;
        font-family: 'Courier New', monospace;
        padding: var(--space-lg);
        max-width: 1200px;
        margin: 0 auto;
        line-height: 1.6;
    }

    .leccion-fisica-conservacion::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image:
            linear-gradient(rgba(57, 255, 20, 0.02) 1px, transparent 1px),
            linear-gradient(90deg, rgba(57, 255, 20, 0.02) 1px, transparent 1px);
        background-size: 40px 40px;
        pointer-events: none;
        z-index: 0;
    }

    /* ==========================================
    COMPONENTES ESPEC칈FICOS
    ========================================== */
    .titulo-leccion {
        font-size: 2.5rem;
        color: var(--neon-concepto);
        margin-bottom: var(--space-sm);
        animation: glow 3s infinite;
    }

    @keyframes glow {
        0%, 100% { text-shadow: 0 0 5px currentColor; }
        50% { text-shadow: 0 0 10px currentColor, 0 0 15px currentColor; }
    }

    .formula-highlight {
        color: var(--neon-interactivo);
        font-weight: bold;
    }

    .objetivo-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        border: 1px solid rgba(57, 255, 20, 0.2);
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        padding-left: 48px;
    }

    .simulator-container {
        display: grid;
        grid-template-columns: 1fr 2fr 1fr;
        gap: var(--space-lg);
        padding: var(--space-lg);
        background: rgba(0, 0, 0, 0.7);
        border: 2px solid var(--neon-interactivo);
        border-radius: 8px;
        margin-bottom: var(--space-lg);
    }

    @media (max-width: 768px) {
        .simulator-container {
            grid-template-columns: 1fr;
        }
    }

    .control-slider {
        width: 100%;
        margin: 8px 0;
    }

    #svgColision {
        background: #0a0a1a;
        border-radius: 6px;
    }

    .quiz-option.correct {
        background: rgba(57, 255, 20, 0.1);
        border-color: var(--neon-concepto);
    }

    .quiz-option.incorrect {
        background: rgba(255, 107, 107, 0.1);
        border-color: var(--neon-evaluacion);
    }

    /* ANIMACIONES */
    @keyframes pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); }
    }
/* ESTILOS ESPEC칈FICOS PARA LA LECCI칍N DE RESTITUCI칍N Y CALOR */
.leccion-fisica-restitucion .simulador-box {
    border: 1px solid var(--neon-interactivo);
}

.leccion-fisica-restitucion .visual-colision svg {
    border: 1px solid rgba(57, 255, 20, 0.3);
}

.leccion-fisica-restitucion .tabla-row:hover {
    background: rgba(57, 255, 20, 0.05);
}

.leccion-fisica-restitucion .ejercicio-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(57, 255, 20, 0.2);
}

.leccion-fisica-restitucion .aplicacion-card {
    transition: transform 0.3s ease;
}

.leccion-fisica-restitucion .aplicacion-card:hover {
    transform: scale(1.05);
}
/* ==========================================
    VARIABLES CYBERPUNK EDUCATIVAS
    ========================================== */
    :root {
        --neon-concepto: #39FF14;
        --neon-interactivo: #FF00FF;
        --neon-ejemplo: #00FFFF;
        --neon-alerta: #FFFF00;
        --neon-evaluacion: #FF6B6B;
        --neon-dato: #00FF9D;
        --bg-leccion: #0a0a1a;
        --bg-seccion: rgba(0, 0, 0, 0.5);
        --bg-card: rgba(10, 10, 26, 0.8);
        --font-base: 1rem;
        --space-sm: 8px;
        --space-md: 16px;
        --space-lg: 24px;
        --space-xl: 32px;
    }

    /* ==========================================
    ESTILOS GENERALES
    ========================================== */
    .leccion-fisica-restitucion {
        position: relative;
        background-color: var(--bg-leccion);
        color: #e0f0ff;
        font-family: 'Courier New', monospace;
        padding: var(--space-lg);
        max-width: 1400px;
        margin: 0 auto;
        line-height: 1.6;
    }

    .leccion-fisica-restitucion::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image:
            linear-gradient(rgba(57, 255, 20, 0.02) 1px, transparent 1px),
            linear-gradient(90deg, rgba(57, 255, 20, 0.02) 1px, transparent 1px);
        background-size: 40px 40px;
        pointer-events: none;
        z-index: 0;
    }

    /* ==========================================
    COMPONENTES ESPEC칈FICOS
    ========================================== */
    .titulo-leccion {
        font-size: 2.5rem;
        color: var(--neon-concepto);
        margin-bottom: var(--space-sm);
        animation: glow 3s infinite;
    }

    @keyframes glow {
        0%, 100% { text-shadow: 0 0 5px currentColor; }
        50% { text-shadow: 0 0 10px currentColor, 0 0 15px currentColor; }
    }

    .formula-highlight {
        color: var(--neon-interactivo);
        font-weight: bold;
    }

    .grid-contenido {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: var(--space-lg);
        margin-bottom: var(--space-xl);
    }

    .card-contenido {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 8px;
        border: 1px solid rgba(57, 255, 20, 0.2);
    }

    .card-header {
        margin-bottom: var(--space-md);
        padding-bottom: var(--space-sm);
        border-bottom: 1px solid rgba(57, 255, 20, 0.3);
    }

    .card-titulo {
        font-size: 1.5rem;
        color: var(--neon-concepto);
        display: flex;
        align-items: center;
        gap: var(--space-sm);
    }

    .formula-principal {
        background: rgba(0, 0, 0, 0.3);
        padding: var(--space-md);
        border-radius: 6px;
        margin-bottom: var(--space-md);
        border-left: 3px solid var(--neon-concepto);
    }

    .formula-line {
        margin: var(--space-sm) 0;
        font-size: 1.1rem;
    }

    .simulador-box {
        background: rgba(0, 0, 0, 0.4);
        padding: var(--space-md);
        border-radius: 6px;
        margin-bottom: var(--space-md);
    }

    .sim-controls {
        margin-bottom: var(--space-sm);
    }

    .control-group {
        display: flex;
        align-items: center;
        gap: var(--space-sm);
        margin-bottom: var(--space-sm);
    }

    .input-sim {
        width: 60px;
        padding: 4px;
        background: rgba(0, 0, 0, 0.5);
        color: white;
        border: 1px solid var(--neon-interactivo);
        border-radius: 4px;
        text-align: center;
    }

    .slider-sim {
        flex-grow: 1;
    }

    .slider-val {
        min-width: 40px;
        text-align: right;
    }

    .btn-sim {
        width: 100%;
        padding: var(--space-sm);
        background: linear-gradient(45deg, var(--neon-interactivo), #FF00AA);
        color: white;
        border: none;
        border-radius: 4px;
        font-weight: bold;
        cursor: pointer;
        margin-bottom: var(--space-sm);
    }

    .sim-results {
        background: rgba(0, 0, 0, 0.3);
        padding: var(--space-sm);
        border-radius: 4px;
    }

    .result-item {
        display: flex;
        justify-content: space-between;
        margin-bottom: var(--space-sm);
    }

    .result-item.highlight {
        color: var(--neon-evaluacion);
        font-weight: bold;
    }

    .visual-colision {
        margin-top: var(--space-md);
    }

    .visual-colision svg {
        width: 100%;
        height: 200px;
        background: rgba(0, 0, 0, 0.7);
        border-radius: 8px;
    }

    /* TABLA DE MATERIALES */
    .tabla-materiales {
        margin-bottom: var(--space-md);
    }

    .tabla-header {
        display: grid;
        grid-template-columns: 2fr 1fr 1fr;
        padding: var(--space-sm);
        background: rgba(57, 255, 20, 0.1);
        border-radius: 4px;
        font-weight: bold;
    }

    .tabla-row {
        display: grid;
        grid-template-columns: 2fr 1fr 1fr;
        padding: var(--space-sm);
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .tabla-row:last-child {
        border-bottom: none;
    }

    .tabla-row.destacada {
        background: rgba(57, 255, 20, 0.05);
    }

    .cel-mat {
        display: flex;
        align-items: center;
        gap: var(--space-sm);
    }

    .barra-rel {
        height: 8px;
        background: var(--neon-ejemplo);
        border-radius: 4px;
        margin-top: 2px;
    }

    /* DIAGRAMA DE ENERG칈A */
    .diagrama-energia {
        display: flex;
        align-items: end;
        gap: var(--space-md);
        margin: var(--space-md) 0;
        height: 150px;
    }

    .energia-inicial, .energia-final {
        flex: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .energia-barra {
        width: 60px;
        background: linear-gradient(to top, #2196F3, #42A5F5);
        border-radius: 4px 4px 0 0;
        transition: height 0.5s ease;
    }

    .final-item {
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .item-barra {
        width: 40px;
        border-radius: 4px 4px 0 0;
        transition: height 0.5s ease;
    }

    .item-barra:first-child {
        background: linear-gradient(to top, #2196F3, #42A5F5);
    }

    .item-barra:last-child {
        background: linear-gradient(to top, #FF5722, #FF7043);
    }

    /* EJERCICIOS RESUELTOS */
    .ejercicios-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: var(--space-md);
    }

    .ejercicio-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 8px;
        border: 1px solid rgba(57, 255, 20, 0.2);
    }

    .ejercicio-header {
        display: flex;
        align-items: center;
        gap: var(--space-sm);
        margin-bottom: var(--space-sm);
        font-weight: bold;
    }

    .ejercicio-num {
        background: var(--neon-interactivo);
        color: black;
        width: 24px;
        height: 24px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.8rem;
    }

    .solucion-paso {
        margin: var(--space-sm) 0;
        padding-left: var(--space-md);
        border-left: 2px solid var(--neon-concepto);
    }

    .solucion-paso.highlight {
        border-left-color: var(--neon-evaluacion);
        color: var(--neon-evaluacion);
    }

    /* QUIZ INTERACTIVO */
    .quiz-option.correct {
        background: rgba(57, 255, 20, 0.1);
        border-color: var(--neon-concepto);
    }

    .quiz-option.incorrect {
        background: rgba(255, 107, 107, 0.1);
        border-color: var(--neon-evaluacion);
    }

    /* ANIMACIONES */
    @keyframes pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); }
    }
/* ESTILOS ESPEC칈FICOS PARA LA LECCI칍N DE CIENCIAS SOCIALES - PIR츼MIDE DE MASLOW */
.leccion-ciencias-sociales-bienestar .nivel-polygon {
    transition: filter 0.2s ease;
}

.leccion-ciencias-sociales-bienestar .paso-card {
    border: 1px solid var(--neon-ejemplo);
}

.leccion-ciencias-sociales-bienestar .btn-simular {
    background: linear-gradient(45deg, #FF00FF, #FF00AA);
}

.leccion-ciencias-sociales-bienestar .piramide-simulada svg {
    max-width: 100%;
    height: auto;
}
/* ========================================
   ESTILOS ESPEC칈FICOS PARA LECCI칍N DE CIENCIAS SOCIALES
   ORGANIZACI칍N DE LA SOCIEDAD
======================================== */

/* PALETA DE COLORES ESPEC칈FICA PARA SOCIOLOG칈A */
.leccion-sociales-organizacion {
    --color-tema: #7B1FA2;
    --color-tema-claro: #E1BEE7;
    --color-tema-medio: #9C27B0;
    --color-contraste: #FF9800;
}

/* AJUSTES ESPEC칈FICOS PARA CONTENIDO SOCIAL */
.leccion-sociales-organizacion .conexiones-grid {
    display: grid;
    gap: var(--space-md);
    margin-top: var(--space-md);
}

.leccion-sociales-organizacion .conexion {
    display: flex;
    align-items: flex-start;
    gap: var(--space-sm);
    padding: var(--space-md);
    background: rgba(255, 255, 255, 0.03);
    border-radius: 6px;
    border-left: 3px solid var(--color-contraste);
}

.leccion-sociales-organizacion .conexion-icon {
    font-size: 1.5em;
    flex-shrink: 0;
    margin-top: 2px;
}

.leccion-sociales-organizacion .conexion-text {
    flex-grow: 1;
    font-size: var(--font-sm);
    line-height: 1.4;
}

/* ESTILOS PARA PRINCIPIOS */
.leccion-sociales-organizacion .principios-trio {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: var(--space-md);
    margin: var(--space-md) 0;
}

.leccion-sociales-organizacion .principio-card {
    text-align: center;
    padding: var(--space-md);
    background: var(--bg-card);
    border-radius: 6px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.leccion-sociales-organizacion .principio-icon {
    font-size: 2em;
    margin-bottom: var(--space-sm);
}

/* INTERDEPENDENCIA VISUAL */
.leccion-sociales-organizacion .interdependencia {
    background: rgba(255, 152, 0, 0.05);
    border: 1px solid rgba(255, 152, 0, 0.2);
    border-radius: 6px;
    padding: var(--space-md);
    margin-top: var(--space-md);
}

.leccion-sociales-organizacion .interdependencia-content {
    display: grid;
    gap: var(--space-sm);
}

.leccion-sociales-organizacion .inter-item {
    display: flex;
    align-items: flex-start;
    gap: var(--space-sm);
}

.leccion-sociales-organizacion .inter-icon {
    font-size: 1.2em;
    flex-shrink: 0;
    margin-top: 2px;
}

/* REGLA DE ORO ESPEC칈FICA */
.leccion-sociales-organizacion .regla-oro {
    background: rgba(57, 255, 20, 0.05);
    border: 1px solid var(--neon-concepto);
    border-radius: 6px;
    padding: var(--space-md);
    margin-top: var(--space-md);
}

.leccion-sociales-organizacion .regla-content {
    display: grid;
    gap: var(--space-sm);
}

/* EJEMPLO INTEGRADO ESPEC칈FICO */
.leccion-sociales-organizacion .ejemplo-integrado {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 8px;
    padding: var(--space-lg);
    margin: var(--space-lg) 0;
    border: 1px solid var(--neon-ejemplo);
}

/* ANIMACIONES ESPEC칈FICAS */
@keyframes social-pulse {
    0%, 100% { 
        box-shadow: 0 0 5px var(--color-tema);
    }
    50% { 
        box-shadow: 0 0 15px var(--color-tema),
                    0 0 25px var(--color-tema-claro);
    }
}

.leccion-sociales-organizacion .nivel-card:hover {
    animation: social-pulse 2s infinite;
}

/* SVG ESPEC칈FICO */
.leccion-sociales-organizacion .actor-dinamico {
    animation: float 3s ease-in-out infinite;
}

@keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-5px); }
}

/* RESPONSIVE ESPEC칈FICO */
@media (max-width: 768px) {
    .leccion-sociales-organizacion .conexiones-grid,
    .leccion-sociales-organizacion .interdependencia-content,
    .leccion-sociales-organizacion .principios-trio {
        grid-template-columns: 1fr;
    }
    
    .leccion-sociales-organizacion .ejemplo-integrado {
        padding: var(--space-md);
    }
}

/* MEJORAS DE CONTRASTE PARA SOCIOLOG칈A */
.leccion-sociales-organizacion .nivel-card[data-nivel="micro"] h4 {
    color: var(--color-micro);
}

.leccion-sociales-organizacion .nivel-card[data-nivel="meso"] h4 {
    color: var(--color-meso);
}

.leccion-sociales-organizacion .nivel-card[data-nivel="macro"] h4 {
    color: var(--color-macro);
}

/* ===========================================
VARIABLES CYBERPUNK EDUCATIVAS
==================================== */
:root {
    /* PALETA NEON EDUCATIVA */
    --neon-concepto: #39FF14; /* Verde - Conceptos clave */
    --neon-interactivo: #FF00FF; /* Rosa - Elementos interactivos */
    --neon-ejemplo: #00FFFF; /* Cian - Ejemplos y casos */
    --neon-alerta: #FFFF00; /* Amarillo - Advertencias/errores */
    --neon-evaluacion: #FF6B6B; /* Rojo - Evaluaci칩n */
    --neon-dato: #00FF9D; /* Verde datos - Informaci칩n */

    /* FONDOS JER츼RQUICOS */
    --bg-leccion: #0a0a1a; /* Fondo principal oscuro */
    --bg-seccion: rgba(0, 0, 0, 0.5); /* Fondo secciones */
    --bg-card: rgba(10, 10, 26, 0.8); /* Tarjetas semitransparentes */

    /* TAMA칌OS OPTIMIZADOS */
    --font-base: 1rem;
    --font-sm: 0.875rem;
    --font-md: 1.125rem;
    --font-lg: 1.25rem;
    --font-xl: 1.5rem;

    /* ESPACIADO CONTROLADO */
    --space-sm: 8px;
    --space-md: 16px;
    --space-lg: 24px;
    --space-xl: 32px;
}

/* ===========================================
ESTILOS GENERALES DE LA LECCI칍N
==================================== */
.leccion-ciencias-sociales-bienestar {
    position: relative;
    background-color: var(--bg-leccion);
    color: #e0f0ff;
    font-family: 'Courier New', monospace;
    padding: var(--space-xl);
    max-width: 1200px;
    margin: 0 auto;
    line-height: 1.6;
}

/* Grid background sutil */
.leccion-ciencias-sociales-bienestar::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image:
        linear-gradient(rgba(57, 255, 20, 0.02) 1px, transparent 1px),
        linear-gradient(90deg, rgba(57, 255, 20, 0.02) 1px, transparent 1px);
    background-size: 40px 40px;
    pointer-events: none;
    z-index: 0;
}

/* Scanlines muy sutiles */
.leccion-ciencias-sociales-bienestar::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
        to bottom,
        transparent 50%,
        rgba(0, 255, 255, 0.01) 51%
    );
    background-size: 100% 4px;
    pointer-events: none;
    z-index: 1;
    animation: scanline 8s linear infinite;
}

@keyframes scanline {
    0% { transform: translateY(0); }
    100% { transform: translateY(10px); }
}

/* ===========================================
COMPONENTES ESPEC칈FICOS
==================================== */
/* CABECERA */
.leccion-header {
    text-align: center;
    margin-bottom: var(--space-xl);
    position: relative;
    z-index: 2;
}

.titulo-leccion {
    font-size: 2.5rem;
    color: var(--neon-concepto);
    margin-bottom: var(--space-sm);
    animation: glow 3s infinite;
}

@keyframes glow {
    0%, 100% { text-shadow: 0 0 5px currentColor; }
    50% { text-shadow: 0 0 10px currentColor, 0 0 15px currentColor; }
}

.subtitulo {
    font-size: var(--font-lg);
    color: var(--neon-ejemplo);
    opacity: 0.9;
}

/* PANEL OBJETIVOS */
.panel-objetivos {
    background: var(--bg-seccion);
    padding: var(--space-lg);
    border-radius: 8px;
    margin-bottom: var(--space-xl);
    border-left: 4px solid var(--neon-concepto);
    position: relative;
    z-index: 2;
}

.objetivos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-md);
}

.objetivo-card {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 6px;
    border: 1px solid rgba(57, 255, 20, 0.2);
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    padding-left: 48px;
}

.objetivo-card:hover {
    transform: translateY(-2px);
    border-color: var(--neon-concepto);
    box-shadow: 0 4px 12px rgba(57, 255, 20, 0.2);
}

.objetivo-checkbox {
    position: absolute;
    left: var(--space-md);
    top: var(--space-md);
    width: 24px;
    height: 24px;
    border: 2px solid var(--neon-concepto);
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--neon-concepto);
    font-weight: bold;
}

/* CONTEXTO REAL */
.contexto-real {
    background: var(--bg-seccion);
    padding: var(--space-lg);
    border-radius: 8px;
    margin-bottom: var(--space-xl);
    border-left: 4px solid var(--neon-dato);
}

.contexto-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-md);
}

.contexto-card {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 6px;
    border: 1px solid var(--neon-dato);
}

.dato-neon {
    color: var(--neon-dato);
    font-weight: bold;
    margin-top: var(--space-sm);
    display: inline-block;
}

/* PIR츼MIDE INTERACTIVA */
.piramide-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-lg);
    margin-bottom: var(--space-xl);
    position: relative;
    z-index: 2;
}

.piramide-svg {
    background: rgba(0, 0, 0, 0.7);
    border-radius: 8px;
    padding: var(--space-md);
    border: 2px solid var(--neon-interactivo);
}

.nivel-piramide {
    cursor: pointer;
    transition: all 0.2s ease;
}

.nivel-piramide:hover .nivel-polygon {
    filter: brightness(1.2);
}

.piramide-info {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 6px;
    border: 1px solid var(--neon-interactivo);
}

.piramide-info h3 {
    color: var(--neon-interactivo);
    margin-bottom: var(--space-sm);
}

.piramide-info p {
    margin-bottom: var(--space-sm);
}

/* PRINCIPIOS */
.principios-section {
    margin-bottom: var(--space-xl);
}

.principios-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-md);
}

.principio-card {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 6px;
    border-left: 4px solid var(--neon-concepto);
}

.principio-icon {
    font-size: 1.5rem;
    margin-bottom: var(--space-sm);
}

/* EJEMPLO INTERACTIVO */
.ejemplo-interactivo {
    margin-bottom: var(--space-xl);
}

.ejemplo-pasos {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-md);
}

.paso-card {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 6px;
    border: 1px solid var(--neon-ejemplo);
    cursor: pointer;
    transition: all 0.2s ease;
}

.paso-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 255, 255, 0.2);
}

.paso-header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-sm);
}

.paso-num {
    background: var(--neon-ejemplo);
    color: #0a0a1a;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
}

.paso-icon {
    font-size: 1.5rem;
    margin-top: var(--space-sm);
}

/* SIMULADOR */
.simulator-container {
    display: grid;
    grid-template-columns: 1fr 2fr 1fr;
    gap: var(--space-lg);
    padding: var(--space-lg);
    background: rgba(0, 0, 0, 0.7);
    border: 2px solid var(--neon-interactivo);
    border-radius: 8px;
    margin-bottom: var(--space-xl);
    position: relative;
    z-index: 2;
}

@media (max-width: 768px) {
    .simulator-container {
        grid-template-columns: 1fr;
    }
}

.simulator-controls, .simulator-data {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 6px;
}

.control-select, .control-input {
    width: 100%;
    padding: 8px;
    background: rgba(0, 0, 0, 0.5);
    color: white;
    border: 1px solid var(--neon-interactivo);
    border-radius: 4px;
    font-family: inherit;
    margin-bottom: var(--space-sm);
}

.checkbox-group {
    display: grid;
    gap: var(--space-sm);
}

.btn-simular, .btn-aleatorio {
    width: 100%;
    padding: var(--space-md);
    margin-top: var(--space-sm);
    border: none;
    border-radius: 4px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
}

.btn-simular {
    background: linear-gradient(45deg, var(--neon-interactivo), #FF00AA);
    color: white;
}

.btn-aleatorio {
    background: linear-gradient(45deg, #00FFFF, #0097A7);
    color: white;
}

.btn-simular:hover {
    transform: scale(1.02);
    box-shadow: 0 0 15px var(--neon-interactivo);
}

.simulator-visualization {
    background: rgba(0, 0, 0, 0.9);
    border-radius: 6px;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

.piramide-simulada {
    width: 100%;
    height: 300px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.simulacion-info {
    margin-top: var(--space-md);
    text-align: center;
    color: var(--neon-dato);
}

.data-card {
    background: rgba(255, 255, 255, 0.05);
    padding: var(--space-sm);
    margin-bottom: var(--space-sm);
    border-radius: 4px;
    border-left: 3px solid var(--neon-dato);
}

.data-card.highlight {
    border-left-color: var(--neon-interactivo);
    background: rgba(255, 0, 255, 0.05);
}

.estadisticas {
    margin-top: var(--space-lg);
    padding-top: var(--space-md);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.stat-item {
    display: flex;
    justify-content: space-between;
    margin-bottom: var(--space-sm);
}

.stat-value {
    color: var(--neon-dato);
    font-weight: bold;
}

/* QUIZ */
.quiz-container {
    margin-bottom: var(--space-xl);
}

.quiz-question {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 8px;
    margin-bottom: var(--space-md);
    border: 1px solid rgba(255, 107, 107, 0.3);
}

.quiz-options {
    display: grid;
    gap: var(--space-sm);
    margin: var(--space-md) 0;
}

.quiz-option {
    padding: var(--space-md);
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: #e0f0ff;
    cursor: pointer;
    text-align: left;
    transition: all 0.2s ease;
    border-radius: 4px;
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.quiz-option:hover {
    background: rgba(255, 255, 255, 0.1);
    transform: translateX(4px);
}

.quiz-option.correct {
    background: rgba(57, 255, 20, 0.1);
    border-color: var(--neon-concepto);
}

.quiz-option.incorrect {
    background: rgba(255, 107, 107, 0.1);
    border-color: var(--neon-evaluacion);
}

.option-letter {
    background: rgba(255, 255, 255, 0.1);
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    font-weight: bold;
}

/* ERRORES COMUNES */
.errores-container {
    margin-bottom: var(--space-xl);
}

.error-card {
    background: var(--bg-card);
    border: 1px solid var(--neon-alerta);
    border-radius: 6px;
    margin-bottom: var(--space-md);
    overflow: hidden;
}

.error-header {
    background: rgba(255, 255, 0, 0.05);
    padding: var(--space-md);
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.error-content {
    padding: var(--space-md);
    border-top: 1px solid rgba(255, 255, 0, 0.2);
    display: none;
}

.error-tabla {
    margin-top: var(--space-md);
}

.error-tabla table {
    width: 100%;
    border-collapse: collapse;
}

.error-tabla th, .error-tabla td {
    padding: 8px;
    border: 1px solid rgba(255, 255, 0, 0.3);
    text-align: left;
}

/* PROBLEMAS TIPO EXAMEN */
.examen-container {
    margin-bottom: var(--space-xl);
}

.problema-card {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 8px;
    margin-bottom: var(--space-xl);
    border: 1px solid var(--neon-evaluacion);
}

.problema-header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-md);
}

.problema-num {
    background: var(--neon-evaluacion);
    color: #0a0a1a;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
}

.problema-enunciado {
    margin-bottom: var(--space-md);
}

.problema-espacio textarea {
    width: 100%;
    padding: var(--space-md);
    background: rgba(0, 0, 0, 0.5);
    color: #e0f0ff;
    border: 1px solid var(--neon-evaluacion);
    border-radius: 4px;
    font-family: inherit;
    resize: vertical;
    min-height: 100px;
}

.btn-verificar {
    background: var(--neon-evaluacion);
    color: white;
    border: none;
    padding: var(--space-sm) var(--space-md);
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
    margin-top: var(--space-sm);
}

.problema-solucion {
    background: rgba(0, 0, 0, 0.3);
    padding: var(--space-md);
    border-radius: 4px;
    margin-top: var(--space-md);
    border-left: 3px solid var(--neon-concepto);
}

.rubrica-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: var(--space-md);
}

.rubrica-table th, .rubrica-table td {
    padding: 8px;
    border: 1px solid rgba(255, 107, 107, 0.3);
    text-align: left;
}

.rubrica-table th {
    background: rgba(255, 107, 107, 0.1);
}

/* CIERRE METACOGNITIVO */
.cierre-container {
    margin-bottom: var(--space-xl);
}

.autoevaluacion, .reflexion, .plan-estudio, .recursos {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 8px;
    margin-bottom: var(--space-xl);
    border-left: 4px solid var(--neon-concepto);
}

.slider-group {
    margin-bottom: var(--space-lg);
}

.slider-group label {
    display: block;
    margin-bottom: var(--space-sm);
}

.autoeval-slider {
    width: 100%;
}

.slider-labels {
    display: flex;
    justify-content: space-between;
    margin-top: var(--space-sm);
    font-size: var(--font-sm);
}

.btn-guardar {
    background: var(--neon-concepto);
    color: #0a0a1a;
    border: none;
    padding: var(--space-sm) var(--space-md);
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
    margin-top: var(--space-md);
}

.plan-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-md);
}

.plan-card {
    background: rgba(0, 0, 0, 0.3);
    padding: var(--space-md);
    border-radius: 6px;
    border-left: 3px solid var(--neon-dato);
}

.plan-card h4 {
    color: var(--neon-dato);
    margin-bottom: var(--space-sm);
}

.recursos-links {
    display: grid;
    gap: var(--space-sm);
}

.recurso-link {
    color: var(--neon-ejemplo);
    text-decoration: none;
    padding: var(--space-sm);
    display: block;
    border-radius: 4px;
    transition: all 0.2s ease;
}

.recurso-link:hover {
    background: rgba(0, 255, 255, 0.1);
    transform: translateX(4px);
}

/* RESPONSIVE */
@media (max-width: 768px) {
    .leccion-ciencias-sociales-bienestar {
        padding: var(--space-md);
    }

    .titulo-leccion {
        font-size: 1.8rem;
    }

    .piramide-container,
    .objetivos-grid,
    .contexto-grid,
    .principios-grid,
    .ejemplo-pasos,
    .plan-grid {
        grid-template-columns: 1fr;
    }

    .simulator-container {
        grid-template-columns: 1fr;
    }
}

/* ANIMACIONES */
@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.8; }
}

@keyframes highlight {
    0% { background-color: rgba(57, 255, 20, 0); }
    50% { background-color: rgba(57, 255, 20, 0.1); }
    100% { background-color: rgba(57, 255, 20, 0); }
}

/* ========================================
       VARIABLES CYBERPUNK EDUCATIVAS
    ======================================== */
    :root {
        /* PALETA NEON EDUCATIVA - TEMA SOCIAL */
        --neon-concepto: #39FF14;    /* Verde - Conceptos clave */
        --neon-interactivo: #FF00FF; /* Rosa - Elementos interactivos */
        --neon-ejemplo: #00FFFF;     /* Cian - Ejemplos y casos */
        --neon-alerta: #FFFF00;      /* Amarillo - Advertencias/errores */
        --neon-evaluacion: #FF6B6B;  /* Rojo - Evaluaci칩n */
        --neon-dato: #00FF9D;        /* Verde datos - Informaci칩n */
        
        /* COLORES TEM츼TICOS - SOCIOLOG칈A */
        --color-micro: #E1BEE7;      /* Lila claro - Nivel Micro */
        --color-meso: #9C27B0;       /* P칰rpura - Nivel Meso */
        --color-macro: #7B1FA2;      /* P칰rpura oscuro - Nivel Macro */
        --color-interdependencia: #FF9800; /* Naranja - Conexiones */
        
        /* FONDOS JER츼RQUICOS */
        --bg-leccion: #0a0a1a;       /* Fondo principal oscuro */
        --bg-seccion: rgba(0, 0, 0, 0.5); /* Fondo secciones */
        --bg-card: rgba(10, 10, 26, 0.8); /* Tarjetas semitransparentes */
        
        /* TIPOGRAF칈A COMPACTA */
        --font-base: 0.95rem;        /* 15.2px - Compacto pero legible */
        --font-sm: 0.8rem;          /* 12.8px - Texto secundario */
        --font-md: 1rem;            /* 16px - T칤tulos secundarios */
        --font-lg: 1.2rem;          /* 19.2px - T칤tulos principales */
        --font-xl: 1.5rem;          /* 24px - Cabecera */
        
        /* ESPACIADO COMPACTO */
        --space-sm: 6px;            /* Para elementos muy juntos */
        --space-md: 12px;           /* Espaciado est치ndar */
        --space-lg: 18px;           /* Para separar secciones */
        --space-xl: 24px;           /* M치rgenes grandes */
        
        /* BORDES FINOS */
        --border-thin: 1px;
        --border-medium: 2px;
        --border-thick: 3px;
    }
    
    /* ========================================
       ESTILOS GENERALES DE LA LECCI칍N - COMPACTOS
    ======================================== */
    .leccion-sociales-organizacion {
        position: relative;
        background-color: var(--bg-leccion);
        color: #e0f0ff;
        font-family: 'Segoe UI', 'Roboto', sans-serif;
        font-size: var(--font-base);
        line-height: 1.4; /* M치s compacto que 1.6 */
        padding: var(--space-xl) var(--space-lg);
        max-width: 1200px;
        margin: 0 auto;
        overflow-x: hidden;
    }
    
    /* Grid background sutil - M츼S SUBTIL */
    .leccion-sociales-organizacion::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: 
            linear-gradient(rgba(57, 255, 20, 0.01) 1px, transparent 1px),
            linear-gradient(90deg, rgba(57, 255, 20, 0.01) 1px, transparent 1px);
        background-size: 30px 30px; /* M치s peque침o */
        pointer-events: none;
        z-index: 0;
        opacity: 0.3;
    }
    
    /* Scanlines muy sutiles - M츼S TENUES */
    .leccion-sociales-organizacion::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
            to bottom,
            transparent 50%,
            rgba(0, 255, 255, 0.005) 51%
        );
        background-size: 100% 3px; /* M치s fino */
        pointer-events: none;
        z-index: 1;
        animation: scanline 10s linear infinite;
        opacity: 0.2;
    }
    
    @keyframes scanline {
        0% { transform: translateY(0); }
        100% { transform: translateY(10px); }
    }
    
    /* ========================================
       COMPONENTES ESPEC칈FICOS - OPTIMIZADOS
    ======================================== */
    
    /* CABECERA COMPACTA */
    .leccion-header {
        text-align: center;
        margin-bottom: var(--space-xl);
        position: relative;
        z-index: 2;
        padding: var(--space-md);
    }
    
    .titulo-leccion {
        font-size: var(--font-xl);
        color: var(--neon-concepto);
        margin-bottom: var(--space-sm);
        animation: glow 3s infinite;
        line-height: 1.2;
    }
    
    @keyframes glow {
        0%, 100% { text-shadow: 0 0 3px currentColor; }
        50% { text-shadow: 0 0 6px currentColor, 0 0 9px currentColor; }
    }
    
    .subtitulo {
        font-size: var(--font-md);
        color: var(--neon-ejemplo);
        opacity: 0.9;
        margin-top: var(--space-sm);
    }
    
    /* PANEL OBJETIVOS - COMPACTO */
    .panel-objetivos {
        background: var(--bg-seccion);
        padding: var(--space-md);
        border-radius: 6px;
        margin-bottom: var(--space-lg);
        border-left: var(--border-medium) solid var(--neon-concepto);
        position: relative;
        z-index: 2;
    }
    
    .seccion-titulo {
        font-size: var(--font-lg);
        color: var(--neon-concepto);
        margin-bottom: var(--space-md);
        display: flex;
        align-items: center;
        gap: var(--space-sm);
        line-height: 1.3;
    }
    
    .seccion-titulo .icon {
        font-size: 1.2em;
    }
    
    .objetivos-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: var(--space-md);
    }
    
    .objetivo-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 4px;
        border: var(--border-thin) solid rgba(57, 255, 20, 0.2);
        cursor: pointer;
        transition: all 0.2s ease;
        position: relative;
        padding-left: 40px; /* M치s compacto */
    }
    
    .objetivo-card:hover {
        transform: translateY(-1px);
        border-color: var(--neon-concepto);
        box-shadow: 0 2px 6px rgba(57, 255, 20, 0.15);
    }
    
    .objetivo-checkbox {
        position: absolute;
        left: var(--space-md);
        top: var(--space-md);
        width: 20px;
        height: 20px;
        border: var(--border-thin) solid var(--neon-concepto);
        border-radius: 3px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--neon-concepto);
        font-size: var(--font-sm);
    }
    
    /* NIVELES DE ORGANIZACI칍N - COMPACTO */
    .niveles-comparativa {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: var(--space-md);
        margin-bottom: var(--space-md);
    }
    
    .nivel-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        border: var(--border-medium) solid;
        transition: transform 0.2s ease;
        height: 100%;
        display: flex;
        flex-direction: column;
    }
    
    .nivel-card[data-nivel="micro"] {
        border-color: var(--color-micro);
    }
    
    .nivel-card[data-nivel="meso"] {
        border-color: var(--color-meso);
    }
    
    .nivel-card[data-nivel="macro"] {
        border-color: var(--color-macro);
    }
    
    .nivel-card:hover {
        transform: translateY(-2px);
    }
    
    .nivel-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: var(--space-sm);
    }
    
    .nivel-badge {
        background: rgba(255, 255, 255, 0.1);
        padding: 2px 6px;
        border-radius: 10px;
        font-size: var(--font-sm);
        white-space: nowrap;
    }
    
    .nivel-caracteristicas p {
        margin: 4px 0;
        font-size: var(--font-sm);
        line-height: 1.3;
    }
    
    .nivel-ejemplos {
        margin-top: auto;
        padding-top: var(--space-sm);
    }
    
    .ejemplo-item {
        background: rgba(255, 255, 255, 0.03);
        padding: 6px;
        border-radius: 3px;
        margin-bottom: 4px;
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: var(--font-sm);
    }
    
    .ejemplo-icon {
        font-size: 1.2em;
        flex-shrink: 0;
    }
    
    .nivel-estadistica {
        margin-top: var(--space-sm);
        padding-top: var(--space-sm);
        border-top: var(--border-thin) solid rgba(255, 255, 255, 0.1);
        display: flex;
        justify-content: space-between;
        font-size: var(--font-sm);
    }
    
    .stat-value {
        color: var(--neon-dato);
        font-weight: bold;
    }
    
    /* ELEMENTOS CLAVE - COMPACTO */
    .elementos-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: var(--space-md);
        margin-bottom: var(--space-md);
    }
    
    .elemento-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        border: var(--border-thin) solid rgba(255, 255, 255, 0.1);
        cursor: pointer;
        transition: all 0.2s ease;
        text-align: center;
        height: 100%;
    }
    
    .elemento-card:hover {
        transform: translateY(-2px);
        border-color: var(--neon-interactivo);
        box-shadow: 0 2px 6px rgba(255, 0, 255, 0.15);
    }
    
    .elemento-icon {
        font-size: 1.8rem;
        margin-bottom: var(--space-sm);
    }
    
    .elemento-datos .dato {
        margin: 3px 0;
        font-size: var(--font-sm);
        line-height: 1.3;
    }
    
    /* TABLA COMPACTA */
    .tabla-cyberpunk {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: var(--space-md);
        font-size: var(--font-sm);
    }
    
    .tabla-cyberpunk th {
        background: rgba(57, 255, 20, 0.08);
        color: var(--neon-concepto);
        padding: 8px;
        text-align: left;
        border-bottom: var(--border-thin) solid var(--neon-concepto);
        white-space: nowrap;
    }
    
    .tabla-cyberpunk td {
        padding: 8px;
        border-bottom: var(--border-thin) solid rgba(255, 255, 255, 0.05);
        cursor: pointer;
        line-height: 1.3;
    }
    
    .tabla-cyberpunk tr:hover {
        background: rgba(57, 255, 20, 0.03);
    }
    
    .tabla-cyberpunk tr.selected {
        background: rgba(57, 255, 20, 0.08);
        outline: var(--border-thin) solid var(--neon-concepto);
    }
    
    /* SIMULADOR COMPACTO */
    .simulator-container {
        display: grid;
        grid-template-columns: 1fr 2fr 1fr;
        gap: var(--space-md);
        padding: var(--space-md);
        background: rgba(0, 0, 0, 0.7);
        border: var(--border-medium) solid var(--neon-interactivo);
        border-radius: 6px;
        margin-bottom: var(--space-lg);
        position: relative;
        z-index: 2;
        font-size: var(--font-sm);
    }
    
    @media (max-width: 768px) {
        .simulator-container {
            grid-template-columns: 1fr;
            gap: var(--space-lg);
        }
    }
    
    .simulator-controls, .simulator-data {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 4px;
        max-height: 500px;
        overflow-y: auto;
    }
    
    .control-input, .control-select {
        width: 100%;
        padding: 6px;
        background: rgba(0, 0, 0, 0.5);
        color: white;
        border: var(--border-thin) solid var(--neon-interactivo);
        border-radius: 3px;
        font-family: inherit;
        font-size: var(--font-sm);
        margin-bottom: var(--space-sm);
    }
    
    .checkbox-group {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 4px;
        margin-bottom: var(--space-sm);
        font-size: var(--font-sm);
    }
    
    .btn-clasificar, .btn-aleatorio, .btn-reset {
        width: 100%;
        padding: 8px;
        margin-top: 6px;
        border: none;
        border-radius: 3px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 6px;
        font-size: var(--font-sm);
    }
    
    .btn-clasificar {
        background: linear-gradient(45deg, var(--neon-interactivo), #FF00AA);
        color: white;
    }
    
    .btn-aleatorio {
        background: linear-gradient(45deg, #00FFFF, #0097A7);
        color: white;
    }
    
    .btn-reset {
        background: rgba(255, 255, 255, 0.08);
        color: #e0f0ff;
        border: var(--border-thin) solid rgba(255, 255, 255, 0.2);
    }
    
    .btn-clasificar:hover {
        transform: scale(1.02);
        box-shadow: 0 0 8px var(--neon-interactivo);
    }
    
    .simulator-visualization {
        background: rgba(0, 0, 0, 0.9);
        border-radius: 4px;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        min-height: 350px;
    }
    
    .sistema-container {
        flex-grow: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: var(--space-sm);
    }
    
    @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.8; }
    }
    
    .data-card {
        background: rgba(255, 255, 255, 0.03);
        padding: 6px;
        margin-bottom: 6px;
        border-radius: 3px;
        border-left: var(--border-thin) solid var(--neon-dato);
        font-size: var(--font-sm);
    }
    
    .data-card.highlight {
        border-left-color: var(--neon-interactivo);
        background: rgba(255, 0, 255, 0.05);
    }
    
    .data-label {
        font-weight: bold;
        color: var(--neon-dato);
        margin-bottom: 2px;
    }
    
    .estadisticas {
        margin-top: var(--space-md);
        padding-top: var(--space-sm);
        border-top: var(--border-thin) solid rgba(255, 255, 255, 0.1);
        font-size: var(--font-sm);
    }
    
    /* QUIZ COMPACTO */
    .quiz-question {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        margin-bottom: var(--space-md);
        border: var(--border-thin) solid rgba(255, 107, 107, 0.3);
    }
    
    .quiz-options {
        display: grid;
        gap: 6px;
        margin: var(--space-sm) 0;
    }
    
    .quiz-option {
        padding: 8px;
        background: rgba(255, 255, 255, 0.03);
        border: var(--border-thin) solid rgba(255, 255, 255, 0.1);
        color: #e0f0ff;
        cursor: pointer;
        text-align: left;
        transition: all 0.2s ease;
        border-radius: 3px;
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: var(--font-sm);
    }
    
    .quiz-option:hover {
        background: rgba(255, 255, 255, 0.06);
        transform: translateX(2px);
    }
    
    .quiz-option.correct {
        background: rgba(57, 255, 20, 0.08);
        border-color: var(--neon-concepto);
    }
    
    .quiz-option.incorrect {
        background: rgba(255, 107, 107, 0.08);
        border-color: var(--neon-evaluacion);
    }
    
    .option-letter {
        background: rgba(255, 255, 255, 0.1);
        width: 20px;
        height: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        font-weight: bold;
        font-size: var(--font-sm);
        flex-shrink: 0;
    }
    
    /* EJEMPLO INTEGRADO COMPACTO */
    .ejemplo-niveles {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: var(--space-md);
        margin-bottom: var(--space-md);
    }
    
    .nivel-ejemplo {
        background: var(--bg-card);
        border-radius: 6px;
        overflow: hidden;
        cursor: pointer;
        transition: transform 0.2s ease;
        border: var(--border-thin) solid;
    }
    
    .nivel-ejemplo[data-nivel="micro"] {
        border-color: var(--color-micro);
    }
    
    .nivel-ejemplo[data-nivel="meso"] {
        border-color: var(--color-meso);
    }
    
    .nivel-ejemplo[data-nivel="macro"] {
        border-color: var(--color-macro);
    }
    
    .nivel-ejemplo:hover {
        transform: translateY(-2px);
    }
    
    .nivel-header {
        padding: 8px;
        background: rgba(0, 0, 0, 0.3);
        border-bottom: var(--border-thin) solid rgba(255, 255, 255, 0.1);
    }
    
    .nivel-content {
        padding: var(--space-md);
        font-size: var(--font-sm);
    }
    
    .nivel-metrica {
        margin-top: var(--space-sm);
        padding-top: var(--space-sm);
        border-top: var(--border-thin) dashed rgba(255, 255, 255, 0.1);
        display: flex;
        justify-content: space-between;
    }
    
    /* RESPONSIVE COMPACTO */
    @media (max-width: 768px) {
        .leccion-sociales-organizacion {
            padding: var(--space-md);
        }
        
        .titulo-leccion {
            font-size: var(--font-lg);
        }
        
        .objetivos-grid,
        .niveles-comparativa,
        .elementos-grid,
        .ejemplo-niveles {
            grid-template-columns: 1fr;
        }
        
        .checkbox-group {
            grid-template-columns: 1fr;
        }
        
        .seccion-titulo {
            font-size: var(--font-md);
        }
    }
    
    /* ANIMACIONES SUBTILES */
    @keyframes highlight {
        0% { background-color: rgba(57, 255, 20, 0); }
        50% { background-color: rgba(57, 255, 20, 0.05); }
        100% { background-color: rgba(57, 255, 20, 0); }
    }
    
    /* MEJORAS DE ACCESIBILIDAD */
    @media (prefers-reduced-motion: reduce) {
        .leccion-sociales-organizacion::after,
        .titulo-leccion,
        .objetivo-card:hover,
        .quiz-option:hover,
        .elemento-card:hover,
        .nivel-card:hover,
        .nivel-ejemplo:hover,
        .btn-clasificar:hover {
            animation: none;
            transition: none;
        }
    }
    
    /* MEJORA DE CONTRASTE PARA LECTURA */
    .leccion-sociales-organizacion {
        color: #f0f4f8; /* Gris azulado muy claro para mejor contraste */
    }
    
    .data-value, .stat-value, .metrica-valor {
        color: #00FF9D; /* Verde ne칩n m치s intenso */
        font-weight: 600;
    }
    
    /* TAMA칌OS M칈NIMOS PARA TACTIL */
    .quiz-option, .btn-clasificar, .btn-aleatorio, .btn-reset {
        min-height: 36px; /* M칤nimo para tactil */
    }
    
    /* EVITAR DESBORDAMIENTOS */
    .leccion-sociales-organizacion {
        overflow-wrap: break-word;
        word-wrap: break-word;
        hyphens: auto;
    }
    
    .tabla-cyberpunk th,
    .tabla-cyberpunk td {
        word-break: break-word;
        overflow-wrap: break-word;
    }
    
    /* ZOOM CONTROLADO */
    @media (max-width: 480px) {
        :root {
            --font-base: 0.9rem;
            --font-sm: 0.75rem;
            --font-md: 0.95rem;
            --font-lg: 1.1rem;
            --font-xl: 1.3rem;
        }
        
        .simulator-visualization {
            min-height: 300px;
        }
        
        #svgSistema {
            transform: scale(0.9);
            transform-origin: center;
        }
    }
    
    /* IMPRESI칍N */
    @media print {
        .leccion-sociales-organizacion::before,
        .leccion-sociales-organizacion::after,
        .titulo-leccion,
        .btn-clasificar,
        .btn-aleatorio,
        .btn-reset,
        .quiz-option,
        .objetivo-checkbox {
            animation: none !important;
            box-shadow: none !important;
            border: 1px solid #000 !important;
            background: white !important;
            color: black !important;
        }
        
        .leccion-sociales-organizacion {
            background: white !important;
            color: black !important;
        }
        
        .data-card, .nivel-card, .elemento-card {
            border: 1px solid #ccc !important;
            background: white !important;
            color: black !important;
        }
    }
    /* ========================================
   ESTILOS ESPEC칈FICOS PARA LECCI칍N DE CIENCIAS SOCIALES
   EL ESTADO: TERRITORIO, POBLACI칍N, GOBIERNO Y SOBERAN칈A
======================================== */

/* PALETA DE COLORES ESPEC칈FICA PARA TEOR칈A DEL ESTADO */
.leccion-sociales-estado {
    --color-tema: #43A047;
    --color-tema-secundario: #1976D2;
    --color-poder-legislativo: #1976D2;
    --color-poder-ejecutivo: #D32F2F;
    --color-poder-judicial: #7B1FA2;
    --color-contraste: #FF9800;
}

/* ESTILOS PARA ELEMENTOS CONSTITUTIVOS */
.leccion-sociales-estado .elementos-estado {
    margin-bottom: var(--space-lg);
}

.leccion-sociales-estado .elemento-estado-card h4 {
    text-align: center;
    margin-bottom: var(--space-sm);
}

/* PODERES DEL ESTADO CON EFECTOS ESPECIALES */
.leccion-sociales-estado .poder-card[data-poder="legislativo"] h4 {
    color: var(--color-poder-legislativo);
}

.leccion-sociales-estado .poder-card[data-poder="ejecutivo"] h4 {
    color: var(--color-poder-ejecutivo);
}

.leccion-sociales-estado .poder-card[data-poder="judicial"] h4 {
    color: var(--color-poder-judicial);
}

/* ANIMACI칍N PARA PODERES */
@keyframes poder-pulse {
    0%, 100% { 
        box-shadow: 0 0 5px currentColor;
    }
    50% { 
        box-shadow: 0 0 15px currentColor,
                    0 0 25px currentColor;
    }
}

.leccion-sociales-estado .poder-card:hover {
    animation: poder-pulse 2s infinite;
}

.leccion-sociales-estado .poder-card[data-poder="legislativo"]:hover {
    animation-name: poder-pulse-legislativo;
}

@keyframes poder-pulse-legislativo {
    0%, 100% { box-shadow: 0 0 5px #1976D2; }
    50% { box-shadow: 0 0 15px #1976D2, 0 0 25px #64B5F6; }
}

/* SISTEMA DE CHECKS AND BALANCES VISUAL */
.leccion-sociales-estado .checks-balances {
    position: relative;
    overflow: hidden;
}

.leccion-sociales-estado .checks-balances::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        linear-gradient(45deg, transparent 49%, rgba(255, 152, 0, 0.1) 50%, transparent 51%),
        linear-gradient(-45deg, transparent 49%, rgba(255, 152, 0, 0.1) 50%, transparent 51%);
    background-size: 20px 20px;
    pointer-events: none;
    opacity: 0.3;
}

/* COMPARATIVO DE FORMAS DE GOBIERNO */
.leccion-sociales-estado .forma-gobierno[data-forma="republica"] .forma-header {
    background: linear-gradient(90deg, rgba(67, 160, 71, 0.2), rgba(25, 118, 210, 0.2));
}

.leccion-sociales-estado .forma-gobierno[data-forma="monarquia"] .forma-header {
    background: linear-gradient(90deg, rgba(156, 39, 176, 0.2), rgba(233, 30, 99, 0.2));
}

.leccion-sociales-estado .forma-gobierno[data-forma="parlamentaria"] .forma-header {
    background: linear-gradient(90deg, rgba(3, 169, 244, 0.2), rgba(0, 150, 136, 0.2));
}

/* SVG ESPEC칈FICO PARA ESTRUCTURA ESTATAL */
.leccion-sociales-estado .estructura-container svg {
    transition: all 0.3s ease;
}

.leccion-sociales-estado .estructura-container:hover svg {
    filter: brightness(1.1);
}

/* L칈NEAS DE CONEXI칍N ANIMADAS */
.leccion-sociales-estado #conexionEstadoLegislativo,
.leccion-sociales-estado #conexionEstadoEjecutivo,
.leccion-sociales-estado #conexionEstadoJudicial {
    stroke-dasharray: 10, 5;
    animation: dash-flow 20s linear infinite;
}

@keyframes dash-flow {
    0% { stroke-dashoffset: 100; }
    100% { stroke-dashoffset: 0; }
}

/* RESPONSIVE ESPEC칈FICO */
@media (max-width: 768px) {
    .leccion-sociales-estado .checks-balances::before {
        background-size: 30px 30px;
    }
    
    .leccion-sociales-estado .forma-gobierno .forma-header h4 {
        font-size: var(--font-md);
    }
}

/* ESTILOS PARA TEXTOS CONSTITUCIONALES */
.leccion-sociales-estado .texto-constitucional {
    font-family: 'Times New Roman', serif;
    background: rgba(255, 255, 255, 0.05);
    padding: var(--space-md);
    border-left: 4px solid var(--color-poder-legislativo);
    margin: var(--space-md) 0;
    font-size: var(--font-sm);
    line-height: 1.5;
}

/* EFECTOS DE BRILLO PARA ELEMENTOS CLAVE */
.leccion-sociales-estado .highlight-estatal {
    position: relative;
    padding: var(--space-md);
    border-radius: 6px;
    overflow: hidden;
}

.leccion-sociales-estado .highlight-estatal::after {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    right: -50%;
    bottom: -50%;
    background: linear-gradient(
        45deg,
        transparent 30%,
        rgba(255, 255, 255, 0.05) 50%,
        transparent 70%
    );
    animation: shine 3s infinite;
    pointer-events: none;
}

@keyframes shine {
    0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
    100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
}

/* MEJORAS DE CONTRASTE ESPEC칈FICAS */
.leccion-sociales-estado .poder-card .poder-caracteristicas p {
    color: #e0f0ff;
    background: rgba(255, 255, 255, 0.03);
    padding: 4px 8px;
    border-radius: 3px;
    margin: 3px 0;
}

.leccion-sociales-estado .elemento-estado-datos .dato strong {
    color: var(--neon-dato);
}

/* ADAPTACI칍N PARA IMPRESI칍N */
@media print {
    .leccion-sociales-estado .checks-balances::before,
    .leccion-sociales-estado .highlight-estatal::after {
        display: none;
    }
    
    .leccion-sociales-estado .poder-card {
        break-inside: avoid;
        page-break-inside: avoid;
    }
    
    .leccion-sociales-estado .forma-gobierno {
        border: 1px solid #ccc !important;
        margin-bottom: 20px;
    }
}
/* ESTILOS ESPEC칈FICOS PARA LA LECCI칍N DE NORMAS SOCIALES Y JUR칈DICAS */
.leccion-ciencias-sociales-normas .simulator-container {
    grid-template-columns: 1fr 2fr 1fr;
}

.leccion-ciencias-sociales-normas .comp-card.social {
    border-color: var(--color-social);
}

.leccion-ciencias-sociales-normas .comp-card.juridica {
    border-color: var(--color-juridica);
}

.leccion-ciencias-sociales-normas #svgNormas {
    width: 100%;
    height: auto;
    max-height: 400px;
}
/* ===========================================
VARIABLES CYBERPUNK EDUCATIVAS
=========================================== */
:root {
    /* PALETA NEON EDUCATIVA */
    --neon-concepto: #39FF14; /* Verde - Conceptos clave */
    --neon-interactivo: #FF00FF; /* Rosa - Elementos interactivos */
    --neon-ejemplo: #00FFFF; /* Cian - Ejemplos y casos */
    --neon-alerta: #FFFF00; /* Amarillo - Advertencias/errores */
    --neon-evaluacion: #FF6B6B; /* Rojo - Evaluaci칩n */
    --neon-dato: #00FF9D; /* Verde datos - Informaci칩n */
    /* FONDOS JER츼RQUICOS */
    --bg-leccion: #0a0a1a; /* Fondo principal oscuro */
    --bg-seccion: rgba(0, 0, 0, 0.5); /* Fondo secciones */
    --bg-card: rgba(10, 10, 26, 0.8); /* Tarjetas semitransparentes */
    /* COLORES TEM츼TICOS */
    --color-social: #FF00FF; /* Rosa - Normas sociales */
    --color-juridica: #7B1FA2; /* Morado - Normas jur칤dicas */
    /* TIPOGRAF칈A */
    --font-base: 1rem;
    --font-sm: 0.875rem;
    --font-md: 1.125rem;
    --font-lg: 1.25rem;
    --font-xl: 1.5rem;
    /* ESPACIADO */
    --space-sm: 8px;
    --space-md: 16px;
    --space-lg: 24px;
    --space-xl: 32px;
}

/* ===========================================
ESTILOS GENERALES DE LA LECCI칍N
=========================================== */
.leccion-ciencias-sociales-normas {
    position: relative;
    background-color: var(--bg-leccion);
    color: #e0f0ff;
    font-family: 'Courier New', monospace;
    padding: var(--space-xl);
    max-width: 1200px;
    margin: 0 auto;
    line-height: 1.6;
}

/* Grid background sutil */
.leccion-ciencias-sociales-normas::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image:
        linear-gradient(rgba(57, 255, 20, 0.02) 1px, transparent 1px),
        linear-gradient(90deg, rgba(57, 255, 20, 0.02) 1px, transparent 1px);
    background-size: 40px 40px;
    pointer-events: none;
    z-index: 0;
}

/* Scanlines */
.leccion-ciencias-sociales-normas::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
        to bottom,
        transparent 50%,
        rgba(0, 255, 255, 0.01) 51%
    );
    background-size: 100% 4px;
    pointer-events: none;
    z-index: 1;
    animation: scanline 8s linear infinite;
}

@keyframes scanline {
    0% { transform: translateY(0); }
    100% { transform: translateY(10px); }
}

/* CABECERA */
.leccion-header {
    text-align: center;
    margin-bottom: var(--space-xl);
    position: relative;
    z-index: 2;
}

.titulo-leccion {
    font-size: 2.5rem;
    color: var(--neon-concepto);
    margin-bottom: var(--space-sm);
    animation: glow 3s infinite;
}

@keyframes glow {
    0%, 100% { text-shadow: 0 0 5px currentColor; }
    50% { text-shadow: 0 0 10px currentColor, 0 0 15px currentColor; }
}

.subtitulo {
    font-size: var(--font-lg);
    color: var(--neon-ejemplo);
    opacity: 0.9;
}

/* PANEL OBJETIVOS */
.panel-objetivos {
    background: var(--bg-seccion);
    padding: var(--space-lg);
    border-radius: 8px;
    margin-bottom: var(--space-xl);
    border-left: 4px solid var(--neon-concepto);
    position: relative;
    z-index: 2;
}

.objetivos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-md);
}

.objetivo-card {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 6px;
    border: 1px solid rgba(57, 255, 20, 0.2);
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    padding-left: 48px;
}

.objetivo-card:hover {
    transform: translateY(-2px);
    border-color: var(--neon-concepto);
    box-shadow: 0 4px 12px rgba(57, 255, 20, 0.2);
}

.objetivo-checkbox {
    position: absolute;
    left: var(--space-md);
    top: var(--space-md);
    width: 24px;
    height: 24px;
    border: 2px solid var(--neon-concepto);
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--neon-concepto);
    font-weight: bold;
}

/* CONTEXTO REAL */
.contexto-real {
    background: var(--bg-seccion);
    padding: var(--space-lg);
    border-radius: 8px;
    margin-bottom: var(--space-xl);
    position: relative;
    z-index: 2;
}

.contexto-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-md);
}

.contexto-card {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 6px;
    border: 1px solid var(--neon-dato);
}

.dato-neon {
    color: var(--neon-dato);
    font-weight: bold;
    margin-top: var(--space-sm);
}

/* SECCI칍N TE칍RICA */
.teoria-section {
    background: var(--bg-seccion);
    padding: var(--space-lg);
    border-radius: 8px;
    margin-bottom: var(--space-xl);
    position: relative;
    z-index: 2;
}

.borde-neon-lateral {
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 4px;
    background: linear-gradient(to bottom, var(--neon-concepto), var(--neon-interactivo));
    border-radius: 8px 0 0 8px;
}

.comparativa-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: var(--space-lg);
    margin-bottom: var(--space-lg);
}

.comp-card {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 8px;
    border: 2px solid;
}

.comp-card.social {
    border-color: var(--color-social);
    box-shadow: 0 4px 12px rgba(255, 0, 255, 0.2);
}

.comp-card.juridica {
    border-color: var(--color-juridica);
    box-shadow: 0 4px 12px rgba(123, 31, 162, 0.4);
}

.comp-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-md);
}

.comp-badge {
    background: rgba(255, 255, 255, 0.1);
    padding: 4px 8px;
    border-radius: 12px;
    font-size: var(--font-sm);
}

.ejemplo-item {
    background: rgba(255, 255, 255, 0.05);
    padding: var(--space-sm);
    border-radius: 4px;
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-top: var(--space-sm);
}

.simbolo {
    font-size: 1.5rem;
}

/* REGLA DE ORO */
.regla-oro {
    background: rgba(0, 0, 0, 0.3);
    padding: var(--space-md);
    border-radius: 8px;
    margin-top: var(--space-lg);
}

.regla-content {
    display: grid;
    gap: var(--space-md);
}

.regla-item {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.regla-icon {
    font-size: 1.5rem;
}

/* SVG INTERACTIVO */
.svg-diagram {
    margin: var(--space-lg) 0;
    text-align: center;
}

/* SIMULADOR */
.simulator-container {
    display: grid;
    grid-template-columns: 1fr 2fr 1fr;
    gap: var(--space-lg);
    padding: var(--space-lg);
    background: rgba(0, 0, 0, 0.7);
    border: 2px solid var(--neon-interactivo);
    border-radius: 8px;
    margin-bottom: var(--space-xl);
    position: relative;
    z-index: 2;
}

@media (max-width: 768px) {
    .simulator-container {
        grid-template-columns: 1fr;
    }
}

.simulator-controls, .simulator-data {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 6px;
}

.control-input, select {
    width: 100%;
    padding: 8px;
    margin-top: var(--space-sm);
    background: rgba(0, 0, 0, 0.5);
    color: white;
    border: 1px solid var(--neon-interactivo);
    border-radius: 4px;
}

.btn-analizar {
    width: 100%;
    padding: var(--space-md);
    margin-top: var(--space-sm);
    background: linear-gradient(45deg, var(--neon-interactivo), #FF00AA);
    color: white;
    border: none;
    border-radius: 4px;
    font-weight: bold;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
}

.btn-analizar:hover {
    transform: scale(1.02);
}

.caso-detalle {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 6px;
    height: 100%;
}

.caso-datos {
    margin-top: var(--space-md);
    display: grid;
    gap: var(--space-sm);
}

.dato-item {
    display: flex;
    justify-content: space-between;
    padding: var(--space-sm);
    background: rgba(255, 255, 255, 0.05);
    border-radius: 4px;
}

.data-card {
    background: rgba(255, 255, 255, 0.05);
    padding: var(--space-sm);
    margin-bottom: var(--space-sm);
    border-radius: 4px;
    border-left: 3px solid var(--neon-dato);
}

.data-card.highlight {
    border-left-color: var(--neon-interactivo);
    background: rgba(255, 0, 255, 0.05);
}

/* QUIZ */
.quiz-container {
    background: var(--bg-seccion);
    padding: var(--space-lg);
    border-radius: 8px;
    margin-bottom: var(--space-xl);
    position: relative;
    z-index: 2;
}

.quiz-question {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 8px;
    margin-bottom: var(--space-md);
    border: 1px solid rgba(255, 107, 107, 0.3);
}

.quiz-options {
    display: grid;
    gap: var(--space-sm);
    margin: var(--space-md) 0;
}

.quiz-option {
    padding: var(--space-md);
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: #e0f0ff;
    cursor: pointer;
    text-align: left;
    transition: all 0.2s ease;
    border-radius: 4px;
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.quiz-option:hover {
    background: rgba(255, 255, 255, 0.1);
    transform: translateX(4px);
}

.quiz-option.correct {
    background: rgba(57, 255, 20, 0.1);
    border-color: var(--neon-concepto);
}

.quiz-option.incorrect {
    background: rgba(255, 107, 107, 0.1);
    border-color: var(--neon-evaluacion);
}

.option-letter {
    background: rgba(255, 255, 255, 0.1);
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    font-weight: bold;
}

/* ERRORES COMUNES */
.errores-container {
    display: grid;
    gap: var(--space-md);
}

.error-card {
    background: var(--bg-card);
    border: 1px solid var(--neon-alerta);
    border-radius: 6px;
}

.error-header {
    background: rgba(255, 255, 0, 0.05);
    padding: var(--space-md);
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.error-content {
    padding: var(--space-md);
    border-top: 1px solid rgba(255, 255, 0, 0.2);
    display: none;
}

.error-tabla table {
    width: 100%;
    margin-top: var(--space-md);
    border-collapse: collapse;
}

.error-tabla th, .error-tabla td {
    padding: 8px;
    border: 1px solid rgba(255, 255, 0, 0.3);
    text-align: left;
}

/* PROBLEMAS TIPO EXAMEN */
.examen-container {
    display: grid;
    gap: var(--space-lg);
}

.problema-card {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 8px;
    border: 1px solid var(--neon-evaluacion);
}

.problema-header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-md);
}

.problema-num {
    background: var(--neon-evaluacion);
    color: black;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    font-weight: bold;
}

.problema-espacio textarea {
    width: 100%;
    padding: var(--space-md);
    margin: var(--space-md) 0;
    background: rgba(0, 0, 0, 0.5);
    color: white;
    border: 1px solid var(--neon-evaluacion);
    border-radius: 4px;
    resize: vertical;
}

.btn-verificar {
    background: var(--neon-evaluacion);
    color: black;
    border: none;
    padding: var(--space-sm) var(--space-md);
    border-radius: 4px;
    font-weight: bold;
    cursor: pointer;
}

.problema-solucion {
    margin-top: var(--space-md);
    padding: var(--space-md);
    background: rgba(255, 107, 107, 0.1);
    border-radius: 4px;
    display: none;
}

.rubrica-table {
    width: 100%;
    margin-top: var(--space-md);
    border-collapse: collapse;
}

.rubrica-table th, .rubrica-table td {
    padding: var(--space-sm);
    border: 1px solid rgba(255, 107, 107, 0.3);
    text-align: left;
}

/* CIERRE METACOGNITIVO */
.cierre-container {
    display: grid;
    gap: var(--space-lg);
}

.autoevaluacion {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 8px;
}

.slider-group {
    margin-bottom: var(--space-lg);
}

.slider-group label {
    display: block;
    margin-bottom: var(--space-sm);
}

.autoeval-slider {
    width: 100%;
}

.slider-labels {
    display: flex;
    justify-content: space-between;
    margin-top: var(--space-sm);
    font-size: var(--font-sm);
}

.btn-guardar {
    background: var(--neon-concepto);
    color: black;
    border: none;
    padding: var(--space-md);
    border-radius: 4px;
    font-weight: bold;
    cursor: pointer;
    width: 100%;
}

.reflexion {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 8px;
}

.pregunta-reflexion {
    margin-bottom: var(--space-lg);
}

.pregunta-reflexion textarea {
    width: 100%;
    padding: var(--space-md);
    background: rgba(0, 0, 0, 0.5);
    color: white;
    border: 1px solid var(--neon-concepto);
    border-radius: 4px;
    resize: vertical;
}

.plan-estudio {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 8px;
}

.plan-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-md);
}

.plan-card {
    background: rgba(255, 255, 255, 0.05);
    padding: var(--space-md);
    border-radius: 6px;
    border: 1px solid var(--neon-dato);
}

.plan-card h4 {
    color: var(--neon-dato);
    margin-bottom: var(--space-sm);
}

.recursos {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 8px;
}

.recursos-links {
    display: grid;
    gap: var(--space-sm);
}

.recurso-link {
    color: var(--neon-ejemplo);
    text-decoration: none;
    padding: var(--space-sm);
    display: block;
    border-radius: 4px;
    transition: background 0.2s ease;
}

.recurso-link:hover {
    background: rgba(0, 255, 255, 0.1);
}

/* RESPONSIVE */
@media (max-width: 768px) {
    .leccion-ciencias-sociales-normas {
        padding: var(--space-md);
    }

    .titulo-leccion {
        font-size: 1.8rem;
    }

    .objetivos-grid, .contexto-grid, .comparativa-grid {
        grid-template-columns: 1fr;
    }
}
/* ========================================
       VARIABLES CYBERPUNK EDUCATIVAS - TEMA ESTADO
    ======================================== */
    :root {
        /* PALETA NEON EDUCATIVA - TEMA ESTATAL */
        --neon-concepto: #39FF14;    /* Verde - Conceptos clave */
        --neon-interactivo: #FF00FF; /* Rosa - Elementos interactivos */
        --neon-ejemplo: #00FFFF;     /* Cian - Ejemplos y casos */
        --neon-alerta: #FFFF00;      /* Amarillo - Advertencias/errores */
        --neon-evaluacion: #FF6B6B;  /* Rojo - Evaluaci칩n */
        --neon-dato: #00FF9D;        /* Verde datos - Informaci칩n */
        
        /* COLORES TEM츼TICOS - PODERES DEL ESTADO */
        --color-legislativo: #1976D2;  /* Azul - Poder Legislativo */
        --color-ejecutivo: #D32F2F;    /* Rojo - Poder Ejecutivo */
        --color-judicial: #7B1FA2;     /* P칰rpura - Poder Judicial */
        --color-estado: #43A047;       /* Verde - Estado */
        --color-federalismo: #FF9800;  /* Naranja - Federalismo */
        
        /* FONDOS JER츼RQUICOS */
        --bg-leccion: #0a0a1a;       /* Fondo principal oscuro */
        --bg-seccion: rgba(0, 0, 0, 0.5); /* Fondo secciones */
        --bg-card: rgba(10, 10, 26, 0.8); /* Tarjetas semitransparentes */
        
        /* TIPOGRAF칈A COMPACTA */
        --font-base: 0.95rem;        /* 15.2px - Compacto pero legible */
        --font-sm: 0.8rem;          /* 12.8px - Texto secundario */
        --font-md: 1rem;            /* 16px - T칤tulos secundarios */
        --font-lg: 1.2rem;          /* 19.2px - T칤tulos principales */
        --font-xl: 1.5rem;          /* 24px - Cabecera */
        
        /* ESPACIADO COMPACTO */
        --space-sm: 6px;            /* Para elementos muy juntos */
        --space-md: 12px;           /* Espaciado est치ndar */
        --space-lg: 18px;           /* Para separar secciones */
        --space-xl: 24px;           /* M치rgenes grandes */
        
        /* BORDES FINOS */
        --border-thin: 1px;
        --border-medium: 2px;
        --border-thick: 3px;
    }
    
    /* ========================================
       ESTILOS GENERALES DE LA LECCI칍N - COMPACTOS
    ======================================== */
    .leccion-sociales-estado {
        position: relative;
        background-color: var(--bg-leccion);
        color: #e0f0ff;
        font-family: 'Segoe UI', 'Roboto', sans-serif;
        font-size: var(--font-base);
        line-height: 1.4; /* M치s compacto que 1.6 */
        padding: var(--space-xl) var(--space-lg);
        max-width: 1200px;
        margin: 0 auto;
        overflow-x: hidden;
    }
    
    /* Grid background sutil - M츼S SUBTIL */
    .leccion-sociales-estado::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: 
            linear-gradient(rgba(57, 255, 20, 0.01) 1px, transparent 1px),
            linear-gradient(90deg, rgba(57, 255, 20, 0.01) 1px, transparent 1px);
        background-size: 30px 30px; /* M치s peque침o */
        pointer-events: none;
        z-index: 0;
        opacity: 0.3;
    }
    
    /* Scanlines muy sutiles - M츼S TENUES */
    .leccion-sociales-estado::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
            to bottom,
            transparent 50%,
            rgba(0, 255, 255, 0.005) 51%
        );
        background-size: 100% 3px; /* M치s fino */
        pointer-events: none;
        z-index: 1;
        animation: scanline 10s linear infinite;
        opacity: 0.2;
    }
    
    @keyframes scanline {
        0% { transform: translateY(0); }
        100% { transform: translateY(10px); }
    }
    
    /* ========================================
       COMPONENTES ESPEC칈FICOS - OPTIMIZADOS
    ======================================== */
    
    /* CABECERA COMPACTA */
    .leccion-header {
        text-align: center;
        margin-bottom: var(--space-xl);
        position: relative;
        z-index: 2;
        padding: var(--space-md);
    }
    
    .titulo-leccion {
        font-size: var(--font-xl);
        color: var(--neon-concepto);
        margin-bottom: var(--space-sm);
        animation: glow 3s infinite;
        line-height: 1.2;
    }
    
    @keyframes glow {
        0%, 100% { text-shadow: 0 0 3px currentColor; }
        50% { text-shadow: 0 0 6px currentColor, 0 0 9px currentColor; }
    }
    
    .subtitulo {
        font-size: var(--font-md);
        color: var(--neon-ejemplo);
        opacity: 0.9;
        margin-top: var(--space-sm);
    }
    
    /* PANEL OBJETIVOS - COMPACTO */
    .panel-objetivos {
        background: var(--bg-seccion);
        padding: var(--space-md);
        border-radius: 6px;
        margin-bottom: var(--space-lg);
        border-left: var(--border-medium) solid var(--neon-concepto);
        position: relative;
        z-index: 2;
    }
    
    .seccion-titulo {
        font-size: var(--font-lg);
        color: var(--neon-concepto);
        margin-bottom: var(--space-md);
        display: flex;
        align-items: center;
        gap: var(--space-sm);
        line-height: 1.3;
    }
    
    .seccion-titulo .icon {
        font-size: 1.2em;
    }
    
    .objetivos-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: var(--space-md);
    }
    
    /* ELEMENTOS DEL ESTADO - COMPACTO */
    .elementos-estado {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: var(--space-md);
        margin-bottom: var(--space-md);
    }
    
    .elemento-estado-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        border: var(--border-medium) solid;
        transition: transform 0.2s ease;
        height: 100%;
        display: flex;
        flex-direction: column;
        cursor: pointer;
    }
    
    .elemento-estado-card[data-elemento="territorio"] {
        border-color: var(--color-estado);
    }
    
    .elemento-estado-card[data-elemento="poblacion"] {
        border-color: var(--color-federalismo);
    }
    
    .elemento-estado-card[data-elemento="gobierno"] {
        border-color: var(--color-ejecutivo);
    }
    
    .elemento-estado-card[data-elemento="soberania"] {
        border-color: var(--color-judicial);
    }
    
    .elemento-estado-card:hover {
        transform: translateY(-2px);
    }
    
    .elemento-estado-icon {
        font-size: 2rem;
        margin-bottom: var(--space-sm);
        text-align: center;
    }
    
    .elemento-estado-datos .dato {
        margin: 3px 0;
        font-size: var(--font-sm);
        line-height: 1.3;
    }
    
    .elemento-estado-ejemplo {
        margin-top: auto;
        padding-top: var(--space-sm);
        font-size: var(--font-sm);
        color: var(--neon-ejemplo);
        border-top: var(--border-thin) dashed rgba(255, 255, 255, 0.1);
    }
    
    /* FUNCIONES DEL ESTADO - COMPACTO */
    .funciones-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: var(--space-md);
        margin-bottom: var(--space-md);
    }
    
    .funcion-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        border: var(--border-thin) solid rgba(255, 255, 255, 0.1);
        cursor: pointer;
        transition: all 0.2s ease;
        text-align: center;
        height: 100%;
    }
    
    .funcion-card:hover {
        transform: translateY(-2px);
        border-color: var(--neon-interactivo);
        box-shadow: 0 2px 6px rgba(255, 0, 255, 0.15);
    }
    
    .funcion-icon {
        font-size: 1.8rem;
        margin-bottom: var(--space-sm);
    }
    
    .funcion-detalle {
        margin: var(--space-sm) 0;
        font-size: var(--font-sm);
    }
    
    .funcion-detalle p {
        margin: 3px 0;
    }
    
    /* PODERES DEL ESTADO - COMPACTO */
    .poderes-comparativa {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: var(--space-md);
        margin-bottom: var(--space-md);
    }
    
    .poder-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        border: var(--border-medium) solid;
        transition: transform 0.2s ease;
        height: 100%;
        display: flex;
        flex-direction: column;
    }
    
    .poder-card[data-poder="legislativo"] {
        border-color: var(--color-legislativo);
    }
    
    .poder-card[data-poder="ejecutivo"] {
        border-color: var(--color-ejecutivo);
    }
    
    .poder-card[data-poder="judicial"] {
        border-color: var(--color-judicial);
    }
    
    .poder-card:hover {
        transform: translateY(-2px);
    }
    
    .poder-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: var(--space-sm);
    }
    
    .poder-badge {
        background: rgba(255, 255, 255, 0.1);
        padding: 2px 6px;
        border-radius: 10px;
        font-size: var(--font-sm);
        white-space: nowrap;
    }
    
    .poder-atribuciones {
        margin-top: auto;
        padding-top: var(--space-sm);
    }
    
    .atribucion-item {
        background: rgba(255, 255, 255, 0.03);
        padding: 6px;
        border-radius: 3px;
        margin-bottom: 4px;
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: var(--font-sm);
    }
    
    .atribucion-icon {
        font-size: 1.2em;
        flex-shrink: 0;
    }
    
    .poder-estadistica {
        margin-top: var(--space-sm);
        padding-top: var(--space-sm);
        border-top: var(--border-thin) solid rgba(255, 255, 255, 0.1);
        display: flex;
        justify-content: space-between;
        font-size: var(--font-sm);
    }
    
    /* CHECKS AND BALANCES */
    .checks-balances {
        background: rgba(255, 152, 0, 0.05);
        border: 1px solid rgba(255, 152, 0, 0.2);
        border-radius: 6px;
        padding: var(--space-md);
        margin-top: var(--space-md);
    }
    
    .checks-content {
        display: grid;
        gap: var(--space-sm);
    }
    
    .check-item {
        display: flex;
        align-items: flex-start;
        gap: var(--space-sm);
    }
    
    .check-icon {
        font-size: 1.2em;
        flex-shrink: 0;
        margin-top: 2px;
    }
    
    /* SIMULADOR COMPACTO */
    .simulator-container {
        display: grid;
        grid-template-columns: 1fr 2fr 1fr;
        gap: var(--space-md);
        padding: var(--space-md);
        background: rgba(0, 0, 0, 0.7);
        border: var(--border-medium) solid var(--neon-interactivo);
        border-radius: 6px;
        margin-bottom: var(--space-lg);
        position: relative;
        z-index: 2;
        font-size: var(--font-sm);
    }
    
    @media (max-width: 768px) {
        .simulator-container {
            grid-template-columns: 1fr;
            gap: var(--space-lg);
        }
    }
    
    .simulator-controls, .simulator-data {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 4px;
        max-height: 500px;
        overflow-y: auto;
    }
    
    .control-select {
        width: 100%;
        padding: 6px;
        background: rgba(0, 0, 0, 0.5);
        color: white;
        border: var(--border-thin) solid var(--neon-interactivo);
        border-radius: 3px;
        font-family: inherit;
        font-size: var(--font-sm);
        margin-bottom: var(--space-sm);
    }
    
    .checkbox-group {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 4px;
        margin-bottom: var(--space-sm);
        font-size: var(--font-sm);
    }
    
    .btn-clasificar, .btn-aleatorio, .btn-reset {
        width: 100%;
        padding: 8px;
        margin-top: 6px;
        border: none;
        border-radius: 3px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 6px;
        font-size: var(--font-sm);
    }
    
    .btn-clasificar {
        background: linear-gradient(45deg, var(--neon-interactivo), #FF00AA);
        color: white;
    }
    
    .btn-aleatorio {
        background: linear-gradient(45deg, #00FFFF, #0097A7);
        color: white;
    }
    
    .btn-reset {
        background: rgba(255, 255, 255, 0.08);
        color: #e0f0ff;
        border: var(--border-thin) solid rgba(255, 255, 255, 0.2);
    }
    
    .btn-clasificar:hover {
        transform: scale(1.02);
        box-shadow: 0 0 8px var(--neon-interactivo);
    }
    
    .simulator-visualization {
        background: rgba(0, 0, 0, 0.9);
        border-radius: 4px;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        min-height: 350px;
    }
    
    .estructura-container {
        flex-grow: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: var(--space-sm);
    }
    
    @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.8; }
    }
    
    .data-card {
        background: rgba(255, 255, 255, 0.03);
        padding: 6px;
        margin-bottom: 6px;
        border-radius: 3px;
        border-left: var(--border-thin) solid var(--neon-dato);
        font-size: var(--font-sm);
    }
    
    .data-card.highlight {
        border-left-color: var(--neon-interactivo);
        background: rgba(255, 0, 255, 0.05);
    }
    
    .data-label {
        font-weight: bold;
        color: var(--neon-dato);
        margin-bottom: 2px;
    }
    
    /* EJEMPLO COMPARATIVO */
    .comparativo-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: var(--space-md);
        margin-bottom: var(--space-md);
    }
    
    .forma-gobierno {
        background: var(--bg-card);
        border-radius: 6px;
        overflow: hidden;
        cursor: pointer;
        transition: transform 0.2s ease;
        border: var(--border-thin) solid rgba(255, 255, 255, 0.1);
    }
    
    .forma-gobierno:hover {
        transform: translateY(-2px);
        border-color: var(--neon-ejemplo);
    }
    
    .forma-header {
        padding: var(--space-md);
        background: rgba(0, 0, 0, 0.3);
        border-bottom: var(--border-thin) solid rgba(255, 255, 255, 0.1);
    }
    
    .forma-content {
        padding: var(--space-md);
        font-size: var(--font-sm);
    }
    
    .forma-ventajas, .forma-desventajas {
        margin: var(--space-sm) 0;
        padding: var(--space-sm);
        border-radius: 4px;
    }
    
    .forma-ventajas {
        background: rgba(57, 255, 20, 0.05);
        border-left: 3px solid var(--neon-concepto);
    }
    
    .forma-desventajas {
        background: rgba(255, 107, 107, 0.05);
        border-left: 3px solid var(--neon-evaluacion);
    }
    
    .forma-ventajas ul, .forma-desventajas ul {
        margin: 4px 0 4px 16px;
    }
    
    .forma-ejemplos {
        margin-top: var(--space-sm);
        padding-top: var(--space-sm);
        border-top: var(--border-thin) dashed rgba(255, 255, 255, 0.1);
        color: var(--neon-ejemplo);
        font-size: var(--font-sm);
    }
    
    /* QUIZ COMPACTO */
    .quiz-question {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        margin-bottom: var(--space-md);
        border: var(--border-thin) solid rgba(255, 107, 107, 0.3);
    }
    
    .quiz-options {
        display: grid;
        gap: 6px;
        margin: var(--space-sm) 0;
    }
    
    .quiz-option {
        padding: 8px;
        background: rgba(255, 255, 255, 0.03);
        border: var(--border-thin) solid rgba(255, 255, 255, 0.1);
        color: #e0f0ff;
        cursor: pointer;
        text-align: left;
        transition: all 0.2s ease;
        border-radius: 3px;
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: var(--font-sm);
    }
    
    .quiz-option:hover {
        background: rgba(255, 255, 255, 0.06);
        transform: translateX(2px);
    }
    
    .quiz-option.correct {
        background: rgba(57, 255, 20, 0.08);
        border-color: var(--neon-concepto);
    }
    
    .quiz-option.incorrect {
        background: rgba(255, 107, 107, 0.08);
        border-color: var(--neon-evaluacion);
    }
    
    .option-letter {
        background: rgba(255, 255, 255, 0.1);
        width: 20px;
        height: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        font-weight: bold;
        font-size: var(--font-sm);
        flex-shrink: 0;
    }
    
    /* RESPONSIVE COMPACTO */
    @media (max-width: 768px) {
        .leccion-sociales-estado {
            padding: var(--space-md);
        }
        
        .titulo-leccion {
            font-size: var(--font-lg);
        }
        
        .objetivos-grid,
        .elementos-estado,
        .funciones-grid,
        .poderes-comparativa,
        .comparativo-container {
            grid-template-columns: 1fr;
        }
        
        .checkbox-group {
            grid-template-columns: 1fr;
        }
        
        .seccion-titulo {
            font-size: var(--font-md);
        }
    }
    
    /* ANIMACIONES SUBTILES */
    @keyframes highlight {
        0% { background-color: rgba(57, 255, 20, 0); }
        50% { background-color: rgba(57, 255, 20, 0.05); }
        100% { background-color: rgba(57, 255, 20, 0); }
    }
    
    /* MEJORAS DE ACCESIBILIDAD */
    @media (prefers-reduced-motion: reduce) {
        .leccion-sociales-estado::after,
        .titulo-leccion,
        .objetivo-card:hover,
        .quiz-option:hover,
        .elemento-estado-card:hover,
        .funcion-card:hover,
        .poder-card:hover,
        .forma-gobierno:hover,
        .btn-clasificar:hover {
            animation: none;
            transition: none;
        }
    }
    
    /* MEJORA DE CONTRASTE PARA LECTURA */
    .leccion-sociales-estado {
        color: #f0f4f8; /* Gris azulado muy claro para mejor contraste */
    }
    
    .data-value, .stat-value, .poder-estadistica .stat-value {
        color: #00FF9D; /* Verde ne칩n m치s intenso */
        font-weight: 600;
    }
    
    /* TAMA칌OS M칈NIMOS PARA TACTIL */
    .quiz-option, .btn-clasificar, .btn-aleatorio, .btn-reset {
        min-height: 36px; /* M칤nimo para tactil */
    }
    
    /* EVITAR DESBORDAMIENTOS */
    .leccion-sociales-estado {
        overflow-wrap: break-word;
        word-wrap: break-word;
        hyphens: auto;
    }
    
    /* ZOOM CONTROLADO */
    @media (max-width: 480px) {
        :root {
            --font-base: 0.9rem;
            --font-sm: 0.75rem;
            --font-md: 0.95rem;
            --font-lg: 1.1rem;
            --font-xl: 1.3rem;
        }
        
        .simulator-visualization {
            min-height: 300px;
        }
        
        #svgEstado {
            transform: scale(0.9);
            transform-origin: center;
        }
    }
    
    /* IMPRESI칍N */
    @media print {
        .leccion-sociales-estado::before,
        .leccion-sociales-estado::after,
        .titulo-leccion,
        .btn-clasificar,
        .btn-aleatorio,
        .btn-reset,
        .quiz-option,
        .objetivo-checkbox {
            animation: none !important;
            box-shadow: none !important;
            border: 1px solid #000 !important;
            background: white !important;
            color: black !important;
        }
        
        .leccion-sociales-estado {
            background: white !important;
            color: black !important;
        }
        
        .data-card, .elemento-estado-card, .funcion-card, .poder-card, .forma-gobierno {
            border: 1px solid #ccc !important;
            background: white !important;
            color: black !important;
        }
    }
    
    /* ESTILOS ESPEC칈FICOS PARA REFERENCIA LEGAL */
    .referencia-legal {
        margin-top: var(--space-sm);
        padding: var(--space-sm);
        background: rgba(67, 160, 71, 0.1);
        border-left: 3px solid var(--color-estado);
        border-radius: 3px;
        font-size: var(--font-sm);
    }
    
    .principio-constitucional {
        background: rgba(25, 118, 210, 0.1);
        border: 1px solid var(--color-legislativo);
        border-radius: 6px;
        padding: var(--space-md);
        margin-bottom: var(--space-md);
        font-style: italic;
    }
    
    .conclusion-comparativa {
        background: rgba(255, 152, 0, 0.05);
        border: 1px solid rgba(255, 152, 0, 0.2);
        border-radius: 6px;
        padding: var(--space-md);
        margin-top: var(--space-md);
    }
/* ========================================
   ESTILOS ESPEC칈FICOS PARA LECCI칍N DE RELACIONES DE PODER
   DOMINACI칍N, RESISTENCIA Y NEGOCIACI칍N
======================================== */

/* PALETA DE COLORES ESPEC칈FICA PARA TEOR칈A DEL PODER */
.leccion-sociales-poder {
    --color-foucault: #9C27B0;
    --color-weber: #1976D2;
    --color-bourdieu: #FF9800;
    --color-scott: #4CAF50;
    --color-gramsci: #D32F2F;
}

/* EFECTOS ESPECIALES PARA TEMA PODER */
.leccion-sociales-poder .red-effect {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        radial-gradient(circle at 20% 30%, rgba(255, 0, 255, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(0, 255, 255, 0.1) 0%, transparent 50%);
    pointer-events: none;
    z-index: 0;
    animation: power-grid 15s infinite linear;
}

@keyframes power-grid {
    0% { 
        background-position: 0 0, 0 0;
        opacity: 0.3;
    }
    50% { 
        background-position: 30px 30px, -30px -30px;
        opacity: 0.5;
    }
    100% { 
        background-position: 60px 60px, -60px -60px;
        opacity: 0.3;
    }
}

/* ANIMACIONES PARA TIPOS DE PODER */
.leccion-sociales-poder .tipo-poder-card[data-tipo="politico"] h4 {
    color: var(--color-politico);
    text-shadow: 0 0 5px rgba(25, 118, 210, 0.3);
}

.leccion-sociales-poder .tipo-poder-card[data-tipo="economico"] h4 {
    color: var(--color-economico);
    text-shadow: 0 0 5px rgba(211, 47, 47, 0.3);
}

.leccion-sociales-poder .tipo-poder-card[data-tipo="social"] h4 {
    color: var(--color-social);
    text-shadow: 0 0 5px rgba(255, 152, 0, 0.3);
}

.leccion-sociales-poder .tipo-poder-card[data-tipo="personal"] h4 {
    color: var(--color-personal);
    text-shadow: 0 0 5px rgba(76, 175, 80, 0.3);
}

/* ANIMACIONES PARA DIN츼MICAS */
@keyframes dominacion-pulse {
    0%, 100% { 
        box-shadow: 0 0 5px var(--color-dominacion);
    }
    50% { 
        box-shadow: 0 0 15px var(--color-dominacion),
                    0 0 25px rgba(211, 47, 47, 0.5);
    }
}

@keyframes resistencia-pulse {
    0%, 100% { 
        box-shadow: 0 0 5px var(--color-resistencia);
    }
    50% { 
        box-shadow: 0 0 15px var(--color-resistencia),
                    0 0 25px rgba(255, 152, 0, 0.5);
    }
}

@keyframes negociacion-pulse {
    0%, 100% { 
        box-shadow: 0 0 5px var(--color-negociacion);
    }
    50% { 
        box-shadow: 0 0 15px var(--color-negociacion),
                    0 0 25px rgba(33, 150, 243, 0.5);
    }
}

.leccion-sociales-poder .dinamica-card[data-dinamica="dominacion"]:hover {
    animation: dominacion-pulse 2s infinite;
}

.leccion-sociales-poder .dinamica-card[data-dinamica="resistencia"]:hover {
    animation: resistencia-pulse 2s infinite;
}

.leccion-sociales-poder .dinamica-card[data-dinamica="negociacion"]:hover {
    animation: negociacion-pulse 2s infinite;
}

/* EFECTO DE RED EN SIMULADOR */
.leccion-sociales-poder .simulator-visualization {
    position: relative;
    overflow: hidden;
}

.leccion-sociales-poder .simulator-visualization::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
        linear-gradient(90deg, rgba(255, 0, 255, 0.05) 1px, transparent 1px),
        linear-gradient(rgba(255, 0, 255, 0.05) 1px, transparent 1px);
    background-size: 30px 30px;
    pointer-events: none;
    z-index: 0;
    animation: grid-move 20s infinite linear;
}

@keyframes grid-move {
    0% { transform: translateX(0) translateY(0); }
    100% { transform: translateX(30px) translateY(30px); }
}

/* ESTILOS PARA TEOR칈AS EN TEXTO */
.leccion-sociales-poder .teoria-foucault {
    color: var(--color-foucault);
    border-left: 3px solid var(--color-foucault);
    padding-left: var(--space-sm);
}

.leccion-sociales-poder .teoria-weber {
    color: var(--color-weber);
    border-left: 3px solid var(--color-weber);
    padding-left: var(--space-sm);
}

.leccion-sociales-poder .teoria-bourdieu {
    color: var(--color-bourdieu);
    border-left: 3px solid var(--color-bourdieu);
    padding-left: var(--space-sm);
}

/* CASO DE ESTUDIO CON L칈NEA DE TIEMPO MEJORADA */
.leccion-sociales-poder .evento-tiempo[data-fase="dominacion"]::before {
    background: var(--color-dominacion);
    box-shadow: 0 0 10px var(--color-dominacion);
}

.leccion-sociales-poder .evento-tiempo[data-fase="resistencia"]::before {
    background: var(--color-resistencia);
    box-shadow: 0 0 10px var(--color-resistencia);
}

.leccion-sociales-poder .evento-tiempo[data-fase="negociacion"]::before {
    background: var(--color-negociacion);
    box-shadow: 0 0 10px var(--color-negociacion);
}

/* EFECTO DE CONEXI칍N ENTRE NODOS EN SIMULADOR */
.leccion-sociales-poder .conexion-dominacion {
    stroke: var(--color-dominacion);
    stroke-width: 2;
    animation: flow-dominacion 3s infinite linear;
}

.leccion-sociales-poder .conexion-resistencia {
    stroke: var(--color-resistencia);
    stroke-width: 2;
    stroke-dasharray: 5, 3;
    animation: flow-resistencia 2s infinite linear;
}

.leccion-sociales-poder .conexion-negociacion {
    stroke: var(--color-negociacion);
    stroke-width: 2;
    animation: flow-negociacion 4s infinite linear;
}

@keyframes flow-dominacion {
    0% { stroke-dashoffset: 20; }
    100% { stroke-dashoffset: 0; }
}

@keyframes flow-resistencia {
    0% { stroke-dashoffset: 10; }
    100% { stroke-dashoffset: 0; }
}

@keyframes flow-negociacion {
    0% { stroke-dashoffset: 30; }
    100% { stroke-dashoffset: 0; }
}

/* RESPONSIVE ESPEC칈FICO */
@media (max-width: 768px) {
    .leccion-sociales-poder .teorias-contraste {
        grid-template-columns: 1fr;
    }
    
    .leccion-sociales-poder .ciclo-content {
        flex-direction: column;
        align-items: stretch;
    }
    
    .leccion-sociales-poder .ciclo-flecha {
        transform: rotate(90deg);
        margin: var(--space-sm) 0;
    }
    
    .leccion-sociales-poder .matriz-poder {
        font-size: 0.7rem;
    }
    
    .leccion-sociales-poder .evento-tiempo {
        margin-left: 20px;
    }
    
    .leccion-sociales-poder .evento-tiempo::before {
        left: -30px;
    }
}

/* MEJORAS DE VISUALIZACI칍N PARA IMPRESI칍N */
@media print {
    .leccion-sociales-poder .red-effect,
    .leccion-sociales-poder .simulator-visualization::before,
    .leccion-sociales-poder .evento-tiempo::before {
        display: none;
    }
    
    .leccion-sociales-poder .ciclo-poder {
        background: white;
        border: 2px solid #ccc;
    }
    
    .leccion-sociales-poder .linea-tiempo::before {
        background: #ccc;
    }
}

/* EFECTOS DE FOCO PARA ELEMENTOS INTERACTIVOS */
.leccion-sociales-poder .nodo-poder:focus,
.leccion-sociales-poder .quiz-option:focus,
.leccion-sociales-poder .btn-clasificar:focus {
    outline: 2px solid var(--neon-interactivo);
    outline-offset: 2px;
}

/* MEJORAS DE CONTRASTE PARA LECTURA */
.leccion-sociales-poder .tipo-poder-dato,
.leccion-sociales-poder .evento-dato,
.leccion-sociales-poder .stat-value {
    font-weight: bold;
    color: #39FF14;
}

/* EFECTO DE "RESISTENCIA" EN BOTONES */
.leccion-sociales-poder .btn-reset {
    position: relative;
    overflow: hidden;
}

.leccion-sociales-poder .btn-reset::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    right: -50%;
    bottom: -50%;
    background: linear-gradient(
        45deg,
        transparent 30%,
        rgba(255, 255, 255, 0.1) 50%,
        transparent 70%
    );
    animation: resistance-shine 3s infinite;
    pointer-events: none;
}

@keyframes resistance-shine {
    0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
    100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
}
 /* ========================================
       VARIABLES CYBERPUNK EDUCATIVAS - TEMA PODER
    ======================================== */
    :root {
        /* PALETA NEON EDUCATIVA - TEMA PODER */
        --neon-concepto: #39FF14;    /* Verde - Conceptos clave */
        --neon-interactivo: #FF00FF; /* Rosa - Elementos interactivos */
        --neon-ejemplo: #00FFFF;     /* Cian - Ejemplos y casos */
        --neon-alerta: #FFFF00;      /* Amarillo - Advertencias/errores */
        --neon-evaluacion: #FF6B6B;  /* Rojo - Evaluaci칩n */
        --neon-dato: #00FF9D;        /* Verde datos - Informaci칩n */
        
        /* COLORES TEM츼TICOS - DIN츼MICAS DE PODER */
        --color-dominacion: #D32F2F;   /* Rojo - Dominaci칩n */
        --color-resistencia: #FF9800;  /* Naranja - Resistencia */
        --color-negociacion: #2196F3;  /* Azul - Negociaci칩n */
        --color-mixto: #9C27B0;        /* P칰rpura - Mixto */
        
        /* COLORES TIPOS DE PODER */
        --color-politico: #1976D2;
        --color-economico: #D32F2F;
        --color-social: #FF9800;
        --color-personal: #4CAF50;
        
        /* FONDOS JER츼RQUICOS */
        --bg-leccion: #0a0a1a;       /* Fondo principal oscuro */
        --bg-seccion: rgba(0, 0, 0, 0.5); /* Fondo secciones */
        --bg-card: rgba(10, 10, 26, 0.8); /* Tarjetas semitransparentes */
        
        /* TIPOGRAF칈A COMPACTA */
        --font-base: 0.95rem;        /* 15.2px - Compacto pero legible */
        --font-sm: 0.8rem;          /* 12.8px - Texto secundario */
        --font-md: 1rem;            /* 16px - T칤tulos secundarios */
        --font-lg: 1.2rem;          /* 19.2px - T칤tulos principales */
        --font-xl: 1.5rem;          /* 24px - Cabecera */
        
        /* ESPACIADO COMPACTO */
        --space-sm: 6px;            /* Para elementos muy juntos */
        --space-md: 12px;           /* Espaciado est치ndar */
        --space-lg: 18px;           /* Para separar secciones */
        --space-xl: 24px;           /* M치rgenes grandes */
        
        /* BORDES FINOS */
        --border-thin: 1px;
        --border-medium: 2px;
        --border-thick: 3px;
    }
    
    /* ========================================
       ESTILOS GENERALES DE LA LECCI칍N - COMPACTOS
    ======================================== */
    .leccion-sociales-poder {
        position: relative;
        background-color: var(--bg-leccion);
        color: #e0f0ff;
        font-family: 'Segoe UI', 'Roboto', sans-serif;
        font-size: var(--font-base);
        line-height: 1.4; /* M치s compacto que 1.6 */
        padding: var(--space-xl) var(--space-lg);
        max-width: 1200px;
        margin: 0 auto;
        overflow-x: hidden;
    }
    
    /* Grid background sutil - TEMA PODER */
    .leccion-sociales-poder::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: 
            radial-gradient(circle at 25% 25%, rgba(255, 0, 255, 0.02) 2px, transparent 2px),
            radial-gradient(circle at 75% 75%, rgba(0, 255, 255, 0.02) 2px, transparent 2px);
        background-size: 60px 60px;
        pointer-events: none;
        z-index: 0;
        opacity: 0.3;
    }
    
    /* Scanlines din치micas */
    .leccion-sociales-poder::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
            to bottom,
            transparent 50%,
            rgba(255, 0, 255, 0.01) 51%
        );
        background-size: 100% 4px;
        pointer-events: none;
        z-index: 1;
        animation: scanline-power 8s linear infinite;
    }
    
    @keyframes scanline-power {
        0% { transform: translateY(0); }
        100% { transform: translateY(10px); }
    }
    
    /* ========================================
       COMPONENTES ESPEC칈FICOS - OPTIMIZADOS
    ======================================== */
    
    /* CABECERA COMPACTA */
    .leccion-header {
        text-align: center;
        margin-bottom: var(--space-xl);
        position: relative;
        z-index: 2;
        padding: var(--space-md);
    }
    
    .titulo-leccion {
        font-size: var(--font-xl);
        color: var(--neon-interactivo);
        margin-bottom: var(--space-sm);
        animation: glow-power 2s infinite alternate;
        line-height: 1.2;
    }
    
    @keyframes glow-power {
        0% { 
            text-shadow: 0 0 3px var(--neon-interactivo),
                        0 0 6px var(--neon-interactivo);
        }
        100% { 
            text-shadow: 0 0 6px var(--neon-interactivo),
                        0 0 12px var(--neon-interactivo),
                        0 0 18px #FF00AA;
        }
    }
    
    .subtitulo {
        font-size: var(--font-md);
        color: var(--neon-ejemplo);
        opacity: 0.9;
        margin-top: var(--space-sm);
    }
    
    /* PANEL OBJETIVOS - COMPACTO */
    .panel-objetivos {
        background: var(--bg-seccion);
        padding: var(--space-md);
        border-radius: 6px;
        margin-bottom: var(--space-lg);
        border-left: var(--border-medium) solid var(--neon-interactivo);
        position: relative;
        z-index: 2;
    }
    
    .seccion-titulo {
        font-size: var(--font-lg);
        color: var(--neon-concepto);
        margin-bottom: var(--space-md);
        display: flex;
        align-items: center;
        gap: var(--space-sm);
        line-height: 1.3;
    }
    
    .seccion-titulo .icon {
        font-size: 1.2em;
    }
    
    /* TIPOS DE PODER - COMPACTO */
    .tipos-poder-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: var(--space-md);
        margin-bottom: var(--space-md);
    }
    
    .tipo-poder-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        border: var(--border-medium) solid;
        transition: transform 0.2s ease;
        height: 100%;
        display: flex;
        flex-direction: column;
        cursor: pointer;
    }
    
    .tipo-poder-card[data-tipo="politico"] {
        border-color: var(--color-politico);
    }
    
    .tipo-poder-card[data-tipo="economico"] {
        border-color: var(--color-economico);
    }
    
    .tipo-poder-card[data-tipo="social"] {
        border-color: var(--color-social);
    }
    
    .tipo-poder-card[data-tipo="personal"] {
        border-color: var(--color-personal);
    }
    
    .tipo-poder-card:hover {
        transform: translateY(-2px);
    }
    
    .tipo-poder-icon {
        font-size: 2rem;
        margin-bottom: var(--space-sm);
        text-align: center;
    }
    
    .tipo-poder-caracteristicas p {
        margin: 3px 0;
        font-size: var(--font-sm);
        line-height: 1.3;
    }
    
    .tipo-poder-ejemplos {
        margin-top: auto;
        padding-top: var(--space-sm);
    }
    
    .ejemplo-item {
        background: rgba(255, 255, 255, 0.03);
        padding: 6px;
        border-radius: 3px;
        margin-bottom: 4px;
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: var(--font-sm);
    }
    
    .ejemplo-icon {
        font-size: 1.2em;
        flex-shrink: 0;
    }
    
    .tipo-poder-dato {
        margin-top: var(--space-sm);
        padding-top: var(--space-sm);
        border-top: var(--border-thin) solid rgba(255, 255, 255, 0.1);
        display: flex;
        justify-content: space-between;
        font-size: var(--font-sm);
    }
    
    /* DIN츼MICAS DE PODER - COMPACTO */
    .dinamicas-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: var(--space-md);
        margin-bottom: var(--space-md);
    }
    
    .dinamica-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        border: var(--border-medium) solid;
        transition: transform 0.2s ease;
        height: 100%;
        display: flex;
        flex-direction: column;
        cursor: pointer;
    }
    
    .dinamica-card[data-dinamica="dominacion"] {
        border-color: var(--color-dominacion);
    }
    
    .dinamica-card[data-dinamica="resistencia"] {
        border-color: var(--color-resistencia);
    }
    
    .dinamica-card[data-dinamica="negociacion"] {
        border-color: var(--color-negociacion);
    }
    
    .dinamica-card:hover {
        transform: translateY(-2px);
    }
    
    .dinamica-icon {
        font-size: 2rem;
        margin-bottom: var(--space-sm);
        text-align: center;
    }
    
    .dinamica-detalle p {
        margin: 3px 0;
        font-size: var(--font-sm);
        line-height: 1.3;
    }
    
    .dinamica-formas {
        margin-top: auto;
        padding-top: var(--space-sm);
    }
    
    .forma-item {
        background: rgba(255, 255, 255, 0.03);
        padding: 6px;
        border-radius: 3px;
        margin-bottom: 4px;
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: var(--font-sm);
    }
    
    .forma-icon {
        font-size: 1.2em;
        flex-shrink: 0;
    }
    
    /* CICLO DEL PODER */
    .ciclo-poder {
        background: linear-gradient(45deg, 
            rgba(211, 47, 47, 0.1), 
            rgba(255, 152, 0, 0.1), 
            rgba(33, 150, 243, 0.1));
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 6px;
        padding: var(--space-md);
        margin-top: var(--space-md);
    }
    
    .ciclo-content {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-wrap: wrap;
        gap: var(--space-md);
        margin-bottom: var(--space-sm);
    }
    
    .ciclo-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        min-width: 100px;
    }
    
    .ciclo-icon {
        font-size: 2em;
        margin-bottom: 4px;
    }
    
    .ciclo-flecha {
        font-size: 1.5em;
        color: var(--neon-interactivo);
        animation: pulse 2s infinite;
    }
    
    .ciclo-explicacion {
        font-size: var(--font-sm);
        text-align: center;
        color: var(--neon-ejemplo);
        margin-top: var(--space-sm);
        padding-top: var(--space-sm);
        border-top: var(--border-thin) dashed rgba(255, 255, 255, 0.1);
    }
    
    /* MATRIZ DE PODER */
    .matriz-poder {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: var(--space-md);
        font-size: var(--font-sm);
    }
    
    .matriz-poder th {
        background: rgba(57, 255, 20, 0.08);
        color: var(--neon-concepto);
        padding: 8px;
        text-align: left;
        border-bottom: var(--border-thin) solid var(--neon-concepto);
        white-space: nowrap;
    }
    
    .matriz-poder td {
        padding: 8px;
        border-bottom: var(--border-thin) solid rgba(255, 255, 255, 0.05);
        cursor: pointer;
        line-height: 1.3;
    }
    
    .matriz-poder tr:hover {
        background: rgba(255, 0, 255, 0.03);
    }
    
    .matriz-poder tr.selected {
        background: rgba(255, 0, 255, 0.08);
        outline: var(--border-thin) solid var(--neon-interactivo);
    }
    
    /* SIMULADOR COMPACTO */
    .simulator-container {
        display: grid;
        grid-template-columns: 1fr 2fr 1fr;
        gap: var(--space-md);
        padding: var(--space-md);
        background: rgba(0, 0, 0, 0.7);
        border: var(--border-medium) solid var(--neon-interactivo);
        border-radius: 6px;
        margin-bottom: var(--space-lg);
        position: relative;
        z-index: 2;
        font-size: var(--font-sm);
    }
    
    @media (max-width: 768px) {
        .simulator-container {
            grid-template-columns: 1fr;
            gap: var(--space-lg);
        }
    }
    
    .simulator-controls, .simulator-data {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 4px;
        max-height: 500px;
        overflow-y: auto;
    }
    
    .control-select {
        width: 100%;
        padding: 6px;
        background: rgba(0, 0, 0, 0.5);
        color: white;
        border: var(--border-thin) solid var(--neon-interactivo);
        border-radius: 3px;
        font-family: inherit;
        font-size: var(--font-sm);
        margin-bottom: var(--space-sm);
    }
    
    .checkbox-group {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 4px;
        margin-bottom: var(--space-sm);
        font-size: var(--font-sm);
    }
    
    .slider-control {
        margin-bottom: var(--space-md);
    }
    
    .slider-control input[type="range"] {
        width: 100%;
        margin: var(--space-sm) 0;
    }
    
    .slider-labels {
        display: flex;
        justify-content: space-between;
        font-size: var(--font-sm);
        color: var(--neon-ejemplo);
    }
    
    .btn-clasificar, .btn-aleatorio, .btn-reset {
        width: 100%;
        padding: 8px;
        margin-top: 6px;
        border: none;
        border-radius: 3px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 6px;
        font-size: var(--font-sm);
    }
    
    .btn-clasificar {
        background: linear-gradient(45deg, var(--neon-interactivo), #FF00AA);
        color: white;
    }
    
    .btn-aleatorio {
        background: linear-gradient(45deg, #00FFFF, #0097A7);
        color: white;
    }
    
    .btn-reset {
        background: rgba(255, 255, 255, 0.08);
        color: #e0f0ff;
        border: var(--border-thin) solid rgba(255, 255, 255, 0.2);
    }
    
    .btn-clasificar:hover {
        transform: scale(1.02);
        box-shadow: 0 0 8px var(--neon-interactivo);
    }
    
    .simulator-visualization {
        background: rgba(0, 0, 0, 0.9);
        border-radius: 4px;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        min-height: 350px;
    }
    
    .red-container {
        flex-grow: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: var(--space-sm);
    }
    
    @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.8; }
    }
    
    .data-card {
        background: rgba(255, 255, 255, 0.03);
        padding: 6px;
        margin-bottom: 6px;
        border-radius: 3px;
        border-left: var(--border-thin) solid var(--neon-dato);
        font-size: var(--font-sm);
    }
    
    .data-card.highlight {
        border-left-color: var(--neon-interactivo);
        background: rgba(255, 0, 255, 0.05);
    }
    
    .data-label {
        font-weight: bold;
        color: var(--neon-dato);
        margin-bottom: 2px;
    }
    
    /* CASO DE ESTUDIO */
    .linea-tiempo {
        margin-bottom: var(--space-md);
        position: relative;
        padding-left: 20px;
    }
    
    .linea-tiempo::before {
        content: '';
        position: absolute;
        left: 6px;
        top: 0;
        bottom: 0;
        width: 2px;
        background: linear-gradient(to bottom, 
            var(--color-dominacion), 
            var(--color-resistencia), 
            var(--color-negociacion));
    }
    
    .evento-tiempo {
        position: relative;
        margin-bottom: var(--space-md);
        padding: var(--space-md);
        background: var(--bg-card);
        border-radius: 6px;
        border-left: 4px solid;
        cursor: pointer;
        transition: transform 0.2s ease;
    }
    
    .evento-tiempo[data-fase="dominacion"] {
        border-left-color: var(--color-dominacion);
    }
    
    .evento-tiempo[data-fase="resistencia"] {
        border-left-color: var(--color-resistencia);
    }
    
    .evento-tiempo[data-fase="negociacion"] {
        border-left-color: var(--color-negociacion);
    }
    
    .evento-tiempo:hover {
        transform: translateX(4px);
    }
    
    .evento-tiempo::before {
        content: '';
        position: absolute;
        left: -24px;
        top: 20px;
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background: currentColor;
    }
    
    .evento-fecha {
        font-weight: bold;
        color: var(--neon-ejemplo);
        margin-bottom: var(--space-sm);
        font-size: var(--font-sm);
    }
    
    .evento-dato {
        margin-top: var(--space-sm);
        padding-top: var(--space-sm);
        border-top: var(--border-thin) dashed rgba(255, 255, 255, 0.1);
        display: flex;
        justify-content: space-between;
        font-size: var(--font-sm);
    }
    
    .analisis-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: var(--space-md);
        margin-bottom: var(--space-md);
    }
    
    .analisis-item {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        border: var(--border-thin) solid rgba(255, 255, 255, 0.1);
    }
    
    .analisis-item ul {
        margin: 4px 0 4px 16px;
        font-size: var(--font-sm);
    }
    
    .lecciones-caso {
        background: rgba(57, 255, 20, 0.05);
        border: 1px solid var(--neon-concepto);
        border-radius: 6px;
        padding: var(--space-md);
        margin-top: var(--space-md);
    }
    
    .lecciones-caso p {
        margin: 4px 0;
        font-size: var(--font-sm);
    }
    
    /* QUIZ COMPACTO */
    .quiz-question {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        margin-bottom: var(--space-md);
        border: var(--border-thin) solid rgba(255, 107, 107, 0.3);
    }
    
    .quiz-options {
        display: grid;
        gap: 6px;
        margin: var(--space-sm) 0;
    }
    
    .quiz-option {
        padding: 8px;
        background: rgba(255, 255, 255, 0.03);
        border: var(--border-thin) solid rgba(255, 255, 255, 0.1);
        color: #e0f0ff;
        cursor: pointer;
        text-align: left;
        transition: all 0.2s ease;
        border-radius: 3px;
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: var(--font-sm);
    }
    
    .quiz-option:hover {
        background: rgba(255, 255, 255, 0.06);
        transform: translateX(2px);
    }
    
    .quiz-option.correct {
        background: rgba(57, 255, 20, 0.08);
        border-color: var(--neon-concepto);
    }
    
    
    .quiz-option.incorrect {
        background: rgba(255, 107, 107, 0.08);
        border-color: var(--neon-evaluacion);
    }
    
    .option-letter {
        background: rgba(255, 255, 255, 0.1);
        width: 20px;
        height: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        font-weight: bold;
        font-size: var(--font-sm);
        flex-shrink: 0;
    }
    
    /* RESPONSIVE COMPACTO */
    @media (max-width: 768px) {
        .leccion-sociales-poder {
            padding: var(--space-md);
        }
        
        .titulo-leccion {
            font-size: var(--font-lg);
        }
        
        .tipos-poder-grid,
        .dinamicas-grid,
        .analisis-grid {
            grid-template-columns: 1fr;
        }
        
        .checkbox-group {
            grid-template-columns: 1fr;
        }
        
        .seccion-titulo {
            font-size: var(--font-md);
        }
        
        .ciclo-content {
            flex-direction: column;
            gap: var(--space-sm);
        }
        
        .ciclo-flecha {
            transform: rotate(90deg);
        }
    }
    
    /* ANIMACIONES ESPEC칈FICAS PARA TEMA PODER */
    @keyframes highlight {
        0% { background-color: rgba(255, 0, 255, 0); }
        50% { background-color: rgba(255, 0, 255, 0.05); }
        100% { background-color: rgba(255, 0, 255, 0); }
    }
    
    /* EFECTO DE RED DE PODER EN FONDO */
    .leccion-sociales-poder .red-effect {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: 
            radial-gradient(circle at 20% 30%, rgba(255, 0, 255, 0.05) 0%, transparent 50%),
            radial-gradient(circle at 80% 70%, rgba(0, 255, 255, 0.05) 0%, transparent 50%);
        pointer-events: none;
        z-index: 0;
        animation: red-pulse 10s infinite alternate;
    }
    
    @keyframes red-pulse {
        0% { opacity: 0.3; }
        100% { opacity: 0.6; }
    }
    
    /* MEJORAS DE ACCESIBILIDAD */
    @media (prefers-reduced-motion: reduce) {
        .leccion-sociales-poder::after,
        .titulo-leccion,
        .ciclo-flecha,
        .nodo-poder,
        .evento-tiempo:hover,
        .quiz-option:hover,
        .btn-clasificar:hover,
        .tipo-poder-card:hover,
        .dinamica-card:hover {
            animation: none;
            transition: none;
        }
    }
    
    /* MEJORA DE CONTRASTE PARA LECTURA */
    .leccion-sociales-poder {
        color: #f0f4f8;
    }
    
    .data-value, .stat-value, .dato-valor {
        color: #00FF9D;
        font-weight: 600;
    }
    
    /* TAMA칌OS M칈NIMOS PARA TACTIL */
    .quiz-option, .btn-clasificar, .btn-aleatorio, .btn-reset {
        min-height: 36px;
    }
    
    .tipo-poder-card, .dinamica-card, .evento-tiempo {
        min-height: 40px;
    }
    
    /* ZOOM CONTROLADO */
    @media (max-width: 480px) {
        :root {
            --font-base: 0.9rem;
            --font-sm: 0.75rem;
            --font-md: 0.95rem;
            --font-lg: 1.1rem;
            --font-xl: 1.3rem;
        }
        
        .simulator-visualization {
            min-height: 300px;
        }
        
        #svgRed {
            transform: scale(0.9);
            transform-origin: center;
        }
        
        .matriz-poder {
            font-size: 0.7rem;
        }
    }
    
    /* IMPRESI칍N */
    @media print {
        .leccion-sociales-poder::before,
        .leccion-sociales-poder::after,
        .titulo-leccion,
        .btn-clasificar,
        .btn-aleatorio,
        .btn-reset,
        .quiz-option,
        .ciclo-flecha {
            animation: none !important;
            box-shadow: none !important;
            border: 1px solid #000 !important;
            background: white !important;
            color: black !important;
        }
        
        .leccion-sociales-poder {
            background: white !important;
            color: black !important;
        }
        
        .tipo-poder-card,
        .dinamica-card,
        .evento-tiempo,
        .analisis-item,
        .data-card {
            border: 1px solid #ccc !important;
            background: white !important;
            color: black !important;
            break-inside: avoid;
        }
        
        .ciclo-poder {
            background: white !important;
            border: 2px solid #ccc !important;
        }
    }
    
    /* ESTILOS ESPEC칈FICOS PARA TEOR칈AS */
    .teorias-contraste {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: var(--space-sm);
        margin-top: var(--space-sm);
    }
    
    .teoria-item {
        background: rgba(255, 255, 255, 0.05);
        padding: var(--space-sm);
        border-radius: 4px;
        font-size: var(--font-sm);
        text-align: center;
        border-left: 3px solid var(--neon-concepto);
    }
    
    .principio-foucault {
        background: rgba(156, 39, 176, 0.1);
        border: 1px solid rgba(156, 39, 176, 0.3);
        border-radius: 6px;
        padding: var(--space-md);
        margin-bottom: var(--space-md);
        font-style: italic;
        font-size: var(--font-sm);
    }

    /* ESTILOS ESPEC칈FICOS PARA LECCI칍N HISTORIA M칄XICO PREHISP츼NICO */
.leccion-historia-mexico-prehispanico {
    zoom: 90%;
    font-size: 0.875rem;
}

/* Ajustes de tabla para contenido hist칩rico */
.tabla-cyberpunk[data-tema="historia"] th {
    background: linear-gradient(45deg, rgba(57, 255, 20, 0.1), rgba(0, 255, 157, 0.1));
}

/* Colores tem치ticos por civilizaci칩n */
.civilizacion-tag.olmeca {
    background: linear-gradient(45deg, rgba(255, 152, 0, 0.2), rgba(255, 152, 0, 0.4));
    color: #FFB74D;
    border: 1px solid #FF9800;
}

.civilizacion-tag.teotihuacan {
    background: linear-gradient(45deg, rgba(33, 150, 243, 0.2), rgba(33, 150, 243, 0.4));
    color: #64B5F6;
    border: 1px solid #2196F3;
}

.civilizacion-tag.maya {
    background: linear-gradient(45deg, rgba(244, 67, 54, 0.2), rgba(244, 67, 54, 0.4));
    color: #EF9A9A;
    border: 1px solid #F44336;
}

.civilizacion-tag.azteca {
    background: linear-gradient(45deg, rgba(156, 39, 176, 0.2), rgba(156, 39, 176, 0.4));
    color: #CE93D8;
    border: 1px solid #9C27B0;
}

/* Timeline espec칤fica */
.periodo-civilizacion[data-civilizacion="olmeca"] rect {
    fill: #FF9800;
}

.periodo-civilizacion[data-civilizacion="teotihuacan"] rect {
    fill: #2196F3;
}

.periodo-civilizacion[data-civilizacion="maya"] rect {
    fill: #F44336;
}

.periodo-civilizacion[data-civilizacion="azteca"] rect {
    fill: #9C27B0;
}

/* Estilos para tabletas */
@media (max-width: 1024px) {
    .leccion-historia-mexico-prehispanico {
        zoom: 85%;
    }
    
    .simulator-container {
        grid-template-columns: 1fr;
        gap: 12px;
    }
}

/* Estilos para m칩viles */
@media (max-width: 480px) {
    .leccion-historia-mexico-prehispanico {
        zoom: 80%;
        padding: 12px;
    }
    
    .titulo-leccion {
        font-size: 1.3rem;
    }
    
    .seccion-titulo {
        font-size: 1.1rem;
    }
}
/* ESTILOS ESPEC칈FICOS PARA LA LECCI칍N DE LA CONQUISTA */
.leccion-historia-conquista .timeline-marker {
    background: var(--neon-conquista);
}

.leccion-historia-conquista #mapaConquista {
    width: 100%;
    height: auto;
}

.leccion-historia-conquista .personaje-card.malinche {
    border-color: var(--neon-aliados);
}

.leccion-historia-conquista .grafica-barras .barra.espa침ola {
    background: rgba(255, 82, 82, 0.7);
}

.leccion-historia-conquista .grafica-barras .barra.mexica {
    background: rgba(76, 175, 80, 0.7);
}

.leccion-historia-conquista .grafica-barras .barra.aliados {
    background: rgba(255, 193, 7, 0.7);
}
/* ===========================================
VARIABLES CYBERPUNK EDUCATIVAS
=========================================== */
:root {
    /* PALETA NEON HIST칍RICA */
    --neon-conquista: #FF5252; /* Rojo - Conquista */
    --neon-aliados: #4CAF50; /* Verde - Aliados ind칤genas */
    --neon-tecnologia: #FF9800; /* Naranja - Tecnolog칤a */
    --neon-enfermedad: #7B1FA2; /* Morado - Enfermedades */
    --neon-evaluacion: #FFEB3B; /* Amarillo - Evaluaci칩n */
    --neon-dato: #00BCD4; /* Cian - Datos */
    /* FONDOS */
    --bg-leccion: #0a0a1a;
    --bg-seccion: rgba(0, 0, 0, 0.6);
    --bg-card: rgba(10, 10, 26, 0.9);
    /* TIPOGRAF칈A */
    --font-base: 1rem;
    --font-sm: 0.875rem;
    --font-md: 1.125rem;
    --font-lg: 1.25rem;
    --font-xl: 1.5rem;
    /* ESPACIADO */
    --space-sm: 8px;
    --space-md: 16px;
    --space-lg: 24px;
    --space-xl: 32px;
}

/* ===========================================
ESTILOS GENERALES
=========================================== */
.leccion-historia-conquista {
    position: relative;
    background-color: var(--bg-leccion);
    color: #e0f0ff;
    font-family: 'Courier New', monospace;
    padding: var(--space-xl);
    max-width: 1200px;
    margin: 0 auto;
    line-height: 1.6;
}

/* Grid cyberpunk */
.leccion-historia-conquista::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image:
        linear-gradient(rgba(255, 82, 82, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255, 82, 82, 0.03) 1px, transparent 1px);
    background-size: 50px 50px;
    pointer-events: none;
    z-index: 0;
}

/* Scanlines */
.leccion-historia-conquista::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
        to bottom,
        transparent 50%,
        rgba(255, 235, 238, 0.02) 51%
    );
    background-size: 100% 6px;
    pointer-events: none;
    z-index: 1;
    animation: scanline 10s linear infinite;
}

@keyframes scanline {
    0% { transform: translateY(0); }
    100% { transform: translateY(20px); }
}

/* CABECERA */
.leccion-header {
    text-align: center;
    margin-bottom: var(--space-xl);
    position: relative;
    z-index: 2;
}

.titulo-leccion {
    font-size: 2.5rem;
    color: var(--neon-conquista);
    margin-bottom: var(--space-sm);
    animation: glow 3s infinite;
}

@keyframes glow {
    0%, 100% { text-shadow: 0 0 5px var(--neon-conquista); }
    50% { text-shadow: 0 0 10px var(--neon-conquista), 0 0 15px var(--neon-conquista); }
}

.subtitulo {
    font-size: var(--font-lg);
    color: var(--neon-dato);
    opacity: 0.9;
}

/* PANEL OBJETIVOS */
.panel-objetivos {
    background: var(--bg-seccion);
    padding: var(--space-lg);
    border-radius: 8px;
    margin-bottom: var(--space-xl);
    border-left: 4px solid var(--neon-conquista);
}

.objetivos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-md);
}

.objetivo-card {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 6px;
    border: 1px solid rgba(255, 82, 82, 0.3);
    cursor: pointer;
    transition: all 0.3s;
    position: relative;
    padding-left: 48px;
}

.objetivo-card:hover {
    transform: translateY(-2px);
    border-color: var(--neon-conquista);
    box-shadow: 0 4px 12px rgba(255, 82, 82, 0.2);
}

.objetivo-checkbox {
    position: absolute;
    left: var(--space-md);
    top: var(--space-md);
    width: 24px;
    height: 24px;
    border: 2px solid var(--neon-conquista);
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--neon-conquista);
}

/* CONTEXTO REAL */
.contexto-real {
    background: var(--bg-seccion);
    padding: var(--space-lg);
    border-radius: 8px;
    margin-bottom: var(--space-xl);
}

.contexto-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-md);
}

.contexto-card {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 6px;
    border: 1px solid var(--neon-dato);
}

.dato-neon {
    color: var(--neon-dato);
    font-weight: bold;
    margin-top: var(--space-sm);
}

/* SECCI칍N TE칍RICA */
.teoria-section {
    background: var(--bg-seccion);
    padding: var(--space-lg);
    border-radius: 8px;
    margin-bottom: var(--space-xl);
    position: relative;
}

.borde-neon-lateral {
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 4px;
    background: linear-gradient(to bottom, var(--neon-conquista), var(--neon-aliados));
    border-radius: 8px 0 0 8px;
}

/* TIMELINE */
.timeline-cyberpunk {
    position: relative;
    margin: var(--space-lg) 0;
    padding-left: 30px;
}

.timeline-cyberpunk::before {
    content: '';
    position: absolute;
    left: 15px;
    top: 0;
    bottom: 0;
    width: 2px;
    background: linear-gradient(to bottom, var(--neon-conquista), var(--neon-aliados), var(--neon-enfermedad));
}

.timeline-item {
    position: relative;
    margin-bottom: var(--space-lg);
    padding-left: 20px;
}

.timeline-marker {
    position: absolute;
    left: -37px;
    top: 0;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: var(--neon-conquista);
    border: 3px solid var(--bg-leccion);
}

.timeline-content {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 6px;
    border-left: 3px solid var(--neon-conquista);
}

.timeline-dato {
    color: var(--neon-dato);
    font-size: var(--font-sm);
    margin-top: var(--space-sm);
}

/* FACTORES GRID */
.factores-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-lg);
    margin: var(--space-lg) 0;
}

.factor-card {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 8px;
    border: 2px solid;
}

.factor-card.tecnologia {
    border-color: var(--neon-tecnologia);
}

.factor-card.alianzas {
    border-color: var(--neon-aliados);
}

.factor-card.enfermedades {
    border-color: var(--neon-enfermedad);
}

.factor-card.estrategia {
    border-color: var(--neon-conquista);
}

.factor-icon {
    font-size: 2rem;
    margin-bottom: var(--space-sm);
}

.factor-dato {
    color: var(--neon-dato);
    font-size: var(--font-sm);
    margin-top: var(--space-sm);
    font-weight: bold;
}

/* PERSONAJES */
.personajes-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-md);
    margin: var(--space-lg) 0;
}

.personaje-card {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 8px;
    border: 2px solid;
    text-align: center;
}

.personaje-card.cortes {
    border-color: var(--neon-conquista);
}

.personaje-card.malinche {
    border-color: var(--neon-aliados);
}

.personaje-card.moctezuma {
    border-color: #FF9800;
}

.personaje-card.cuauhtemoc {
    border-color: var(--neon-enfermedad);
}

.personaje-header {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-bottom: var(--space-sm);
}

.personaje-icon {
    font-size: 2rem;
    margin-bottom: var(--space-sm);
}

.personaje-subtitulo {
    font-size: var(--font-sm);
    color: var(--neon-dato);
    margin-bottom: var(--space-sm);
}

.personaje-dato {
    color: var(--neon-dato);
    font-size: var(--font-sm);
    margin-top: var(--space-sm);
    font-weight: bold;
}

/* SIMULADOR */
.simulator-container {
    display: grid;
    grid-template-columns: 1fr 2fr 1fr;
    gap: var(--space-lg);
    padding: var(--space-lg);
    background: rgba(0, 0, 0, 0.7);
    border: 2px solid var(--neon-conquista);
    border-radius: 8px;
    margin-bottom: var(--space-xl);
}

@media (max-width: 768px) {
    .simulator-container {
        grid-template-columns: 1fr;
    }
}

.simulator-controls {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 6px;
}

.control-group {
    margin-bottom: var(--space-md);
}

.control-group label {
    display: block;
    margin-bottom: var(--space-sm);
    color: var(--neon-dato);
}

.control-input, .control-slider {
    width: 100%;
    padding: 8px;
    background: rgba(0, 0, 0, 0.5);
    color: white;
    border: 1px solid var(--neon-conquista);
    border-radius: 4px;
}

.btn-iniciar, .btn-reiniciar {
    width: 100%;
    padding: var(--space-md);
    margin: var(--space-sm) 0;
    border: none;
    border-radius: 4px;
    font-weight: bold;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
}

.btn-iniciar {
    background: linear-gradient(45deg, var(--neon-conquista), #FF1744);
    color: white;
}

.btn-reiniciar {
    background: rgba(255, 255, 255, 0.1);
    color: #e0f0ff;
    border: 1px solid rgba(255, 255, 255, 0.3);
}

.btn-iniciar:hover {
    transform: scale(1.02);
    box-shadow: 0 0 15px var(--neon-conquista);
}

.simulator-visualization {
    background: rgba(0, 0, 0, 0.9);
    border-radius: 6px;
}

.mapa-container {
    width: 100%;
    height: 400px;
}

.mapa-container svg {
    width: 100%;
    height: 100%;
}

.punto-mapa {
    transition: all 0.3s ease;
    cursor: pointer;
}

.punto-mapa:hover circle {
    opacity: 1 !important;
}


.data-card {
    background: rgba(255, 255, 255, 0.05);
    padding: var(--space-sm);
    margin-bottom: var(--space-sm);
    border-radius: 4px;
    border-left: 3px solid var(--neon-dato);
}

.data-card.highlight {
    border-left-color: var(--neon-conquista);
    background: rgba(255, 82, 82, 0.1);
}

/* QUIZ */
.quiz-container {
    background: var(--bg-seccion);
    padding: var(--space-lg);
    border-radius: 8px;
    margin-bottom: var(--space-xl);
}

.quiz-question {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 8px;
    margin-bottom: var(--space-md);
    border: 1px solid rgba(255, 235, 238, 0.3);
}

.quiz-options {
    display: grid;
    gap: var(--space-sm);
    margin: var(--space-md) 0;
}

.quiz-option {
    padding: var(--space-md);
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: #e0f0ff;
    cursor: pointer;
    transition: all 0.2s;
    border-radius: 4px;
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.quiz-option:hover {
    background: rgba(255, 255, 255, 0.1);
    transform: translateX(4px);
}

.quiz-option.correct {
    background: rgba(76, 175, 80, 0.1);
    border-color: var(--neon-aliados);
}

.quiz-option.incorrect {
    background: rgba(255, 82, 82, 0.1);
    border-color: var(--neon-evaluacion);
}

.option-letter {
    background: rgba(255, 255, 255, 0.1);
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
}

/* ERRORES COMUNES */
.errores-container {
    display: grid;
    gap: var(--space-md);
}

.error-card {
    background: var(--bg-card);
    border: 1px solid var(--neon-evaluacion);
    border-radius: 6px;
}

.error-header {
    background: rgba(255, 235, 238, 0.1);
    padding: var(--space-md);
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.error-content {
    padding: var(--space-md);
    border-top: 1px solid rgba(255, 235, 238, 0.2);
    display: none;
}

.error-grafica {
    margin: var(--space-md) 0;
}

.grafica-barras {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.grafica-barras div {
    height: 20px;
    border-radius: 4px;
    transition: width 0.5s ease;
}

.barra.espa침ola {
    background: rgba(255, 82, 82, 0.5);
}

.barra.mexica {
    background: rgba(76, 175, 80, 0.5);
}

.barra.aliados {
    background: rgba(255, 193, 7, 0.5);
}

.grafica-leyenda {
    display: flex;
    justify-content: space-around;
    margin-top: var(--space-sm);
    font-size: var(--font-sm);
}

.error-mapa {
    margin: var(--space-md) 0;
    background: rgba(0, 0, 0, 0.5);
    padding: var(--space-sm);
    border-radius: 4px;
}

/* PROBLEMAS TIPO EXAMEN */
.examen-container {
    display: grid;
    gap: var(--space-lg);
}

.problema-card {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 8px;
    border: 1px solid var(--neon-evaluacion);
}

.problema-header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-md);
}

.problema-num {
    background: var(--neon-evaluacion);
    color: black;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    font-weight: bold;
}

.problema-espacio textarea {
    width: 100%;
    padding: var(--space-md);
    margin: var(--space-md) 0;
    background: rgba(0, 0, 0, 0.5);
    color: white;
    border: 1px solid var(--neon-evaluacion);
    border-radius: 4px;
    resize: vertical;
}

.btn-verificar {
    background: var(--neon-evaluacion);
    color: black;
    border: none;
    padding: var(--space-sm) var(--space-md);
    border-radius: 4px;
    font-weight: bold;
    cursor: pointer;
}

.problema-solucion {
    margin-top: var(--space-md);
    padding: var(--space-md);
    background: rgba(255, 235, 238, 0.1);
    border-radius: 4px;
    display: none;
}

.rubrica-table {
    width: 100%;
    margin-top: var(--space-md);
    border-collapse: collapse;
}

.rubrica-table th, .rubrica-table td {
    padding: var(--space-sm);
    border: 1px solid rgba(255, 235, 238, 0.3);
    text-align: left;
}

/* CIERRE METACOGNITIVO */
.cierre-container {
    display: grid;
    gap: var(--space-lg);
}

.autoevaluacion {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 8px;
}

.slider-group {
    margin-bottom: var(--space-lg);
}

.slider-group label {
    display: block;
    margin-bottom: var(--space-sm);
}

.autoeval-slider {
    width: 100%;
}

.slider-labels {
    display: flex;
    justify-content: space-between;
    margin-top: var(--space-sm);
    font-size: var(--font-sm);
}

.btn-guardar {
    background: var(--neon-conquista);
    color: black;
    border: none;
    padding: var(--space-md);
    border-radius: 4px;
    font-weight: bold;
    cursor: pointer;
    width: 100%;
}

.reflexion {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 8px;
}

.pregunta-reflexion {
    margin-bottom: var(--space-lg);
}

.pregunta-reflexion textarea {
    width: 100%;
    padding: var(--space-md);
    background: rgba(0, 0, 0, 0.5);
    color: white;
    border: 1px solid var(--neon-conquista);
    border-radius: 4px;
    resize: vertical;
}

.plan-estudio {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 8px;
}

.plan-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-md);
}

.plan-card {
    background: rgba(255, 255, 255, 0.05);
    padding: var(--space-md);
    border-radius: 6px;
    border: 1px solid var(--neon-dato);
}

.plan-card h4 {
    color: var(--neon-dato);
    margin-bottom: var(--space-sm);
}

.recursos {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 8px;
}

.recursos-links {
    display: grid;
    gap: var(--space-sm);
}

.recurso-link {
    color: var(--neon-dato);
    text-decoration: none;
    padding: var(--space-sm);
    display: block;
    border-radius: 4px;
    transition: background 0.2s;
}

.recurso-link:hover {
    background: rgba(0, 188, 212, 0.1);
}

/* RESPONSIVE */
@media (max-width: 768px) {
    .leccion-historia-conquista {
        padding: var(--space-md);
    }

    .titulo-leccion {
        font-size: 1.8rem;
    }

    .timeline-cyberpunk {
        padding-left: 20px;
    }

    .factores-grid, .personajes-grid, .objetivos-grid {
        grid-template-columns: 1fr;
    }
}
/* ========================================
       VARIABLES CYBERPUNK HIST칍RICAS
    ======================================== */
    :root {
        /* PALETA NEON TEM츼TICA */
        --neon-olmeca: #FF9800;      /* Naranja - Olmecas */
        --neon-teotihuacan: #2196F3; /* Azul - Teotihuac치n */
        --neon-maya: #F44336;        /* Rojo - Maya */
        --neon-azteca: #9C27B0;      /* P칰rpura - Azteca */
        
        /* COLORES GENERALES */
        --neon-concepto: #39FF14;    /* Verde - Conceptos clave */
        --neon-interactivo: #FF00FF; /* Rosa - Elementos interactivos */
        --neon-ejemplo: #00FFFF;     /* Cian - Ejemplos y casos */
        --neon-alerta: #FFFF00;      /* Amarillo - Advertencias/errores */
        --neon-evaluacion: #FF6B6B;  /* Rojo - Evaluaci칩n */
        --neon-dato: #00FF9D;        /* Verde datos - Informaci칩n */
        
        /* FONDOS JER츼RQUICOS */
        --bg-leccion: #0a0a1a;       /* Fondo principal oscuro */
        --bg-seccion: rgba(0, 0, 0, 0.5); /* Fondo secciones */
        --bg-card: rgba(10, 10, 26, 0.8); /* Tarjetas semitransparentes */
        
        /* TIPOGRAF칈A */
        --font-base: 1rem;
        --font-sm: 0.875rem;
        --font-md: 1.125rem;
        --font-lg: 1.25rem;
        --font-xl: 1.5rem;
        
        /* ESPACIADO COMPACTO */
        --space-sm: 6px;
        --space-md: 12px;
        --space-lg: 18px;
        --space-xl: 24px;
    }
    
    /* ========================================
       ESTILOS GENERALES COMPACTOS
    ======================================== */
    .leccion-historia-mexico-prehispanico {
        position: relative;
        background-color: var(--bg-leccion);
        color: #e0f0ff;
        font-family: 'Courier New', monospace;
        padding: var(--space-xl);
        max-width: 1200px;
        margin: 0 auto;
        line-height: 1.5;
        font-size: var(--font-sm);
        zoom: 90%;
    }
    
    /* Grid background sutil */
    .leccion-historia-mexico-prehispanico::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: 
            linear-gradient(rgba(57, 255, 20, 0.02) 1px, transparent 1px),
            linear-gradient(90deg, rgba(57, 255, 20, 0.02) 1px, transparent 1px);
        background-size: 30px 30px;
        pointer-events: none;
        z-index: 0;
    }
    
    /* CABECERA COMPACTA */
    .leccion-header {
        text-align: center;
        margin-bottom: var(--space-lg);
        position: relative;
        z-index: 2;
        padding: var(--space-md);
    }
    
    .titulo-leccion {
        font-size: 1.8rem;
        color: var(--neon-concepto);
        margin-bottom: var(--space-sm);
        animation: glow 3s infinite;
    }
    
    .subtitulo {
        font-size: var(--font-md);
        color: var(--neon-ejemplo);
        opacity: 0.9;
        margin-bottom: var(--space-sm);
    }
    
    .badge-tiempo {
        display: flex;
        justify-content: center;
        gap: var(--space-sm);
        flex-wrap: wrap;
    }
    
    .badge {
        background: rgba(57, 255, 20, 0.1);
        padding: 4px 8px;
        border-radius: 12px;
        font-size: var(--font-sm);
        border: 1px solid var(--neon-concepto);
    }
    
    /* PANEL OBJETIVOS COMPACTO */
    .panel-objetivos {
        background: var(--bg-seccion);
        padding: var(--space-md);
        border-radius: 6px;
        margin-bottom: var(--space-lg);
        border-left: 3px solid var(--neon-concepto);
    }
    
    .seccion-titulo {
        font-size: var(--font-lg);
        color: var(--neon-concepto);
        margin-bottom: var(--space-md);
        display: flex;
        align-items: center;
        gap: var(--space-sm);
    }
    
    .objetivos-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: var(--space-sm);
    }
    
    .objetivo-card {
        background: var(--bg-card);
        padding: var(--space-sm);
        border-radius: 4px;
        border: 1px solid rgba(57, 255, 20, 0.2);
        cursor: pointer;
        transition: all 0.2s ease;
        position: relative;
        padding-left: 36px;
        font-size: var(--font-sm);
    }
    
    .objetivo-checkbox {
        position: absolute;
        left: var(--space-sm);
        top: var(--space-sm);
        width: 18px;
        height: 18px;
        border: 2px solid var(--neon-concepto);
        border-radius: 3px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: var(--font-sm);
    }
    
    /* CONTEXTO REAL COMPACTO */
    .contexto-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: var(--space-sm);
        margin-bottom: var(--space-lg);
    }
    
    .contexto-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        border: 1px solid rgba(0, 255, 157, 0.3);
    }
    
    .dato-neon {
        background: rgba(0, 255, 157, 0.1);
        padding: 4px 8px;
        border-radius: 4px;
        font-size: var(--font-sm);
        margin-top: var(--space-sm);
        border: 1px solid var(--neon-dato);
    }
    
    /* TABLA COMPARATIVA COMPACTA */
    .tabla-cyberpunk {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: var(--space-md);
        font-size: var(--font-sm);
    }
    
    .tabla-cyberpunk th {
        background: rgba(57, 255, 20, 0.1);
        color: var(--neon-concepto);
        padding: 8px;
        text-align: left;
        border-bottom: 2px solid var(--neon-concepto);
        font-size: var(--font-sm);
    }
    
    .tabla-cyberpunk td {
        padding: 8px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        cursor: pointer;
        font-size: var(--font-sm);
    }
    
    .civilizacion-tag {
        padding: 2px 6px;
        border-radius: 4px;
        font-size: var(--font-sm);
    }
    
    .civilizacion-tag.olmeca {
        background: rgba(255, 152, 0, 0.2);
        color: #FF9800;
    }
    
    .civilizacion-tag.teotihuacan {
        background: rgba(33, 150, 243, 0.2);
        color: #2196F3;
    }
    
    .civilizacion-tag.maya {
        background: rgba(244, 67, 54, 0.2);
        color: #F44336;
    }
    
    .civilizacion-tag.azteca {
        background: rgba(156, 39, 176, 0.2);
        color: #9C27B0;
    }
    
    /* DETALLES DE CIVILIZACIONES */
    .detalle-content {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: var(--space-md);
        margin-top: var(--space-sm);
    }
    
    .detalle-columna {
        background: rgba(255, 255, 255, 0.05);
        padding: var(--space-sm);
        border-radius: 4px;
        border-left: 3px solid;
    }
    
    /* LEGADOS COMUNES */
    .legados-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: var(--space-sm);
        margin-bottom: var(--space-lg);
    }
    
    .legado-card {
        background: var(--bg-card);
        padding: var(--space-sm);
        border-radius: 6px;
        border: 1px solid rgba(255, 255, 255, 0.1);
        text-align: center;
    }
    
    .legado-icon {
        font-size: 1.5rem;
        margin-bottom: var(--space-sm);
    }
    
    /* SIMULADOR COMPACTO */
    .simulator-container {
        display: grid;
        grid-template-columns: 1fr 2fr 1fr;
        gap: var(--space-md);
        padding: var(--space-md);
        background: rgba(0, 0, 0, 0.7);
        border: 2px solid var(--neon-interactivo);
        border-radius: 6px;
        margin-bottom: var(--space-lg);
        font-size: var(--font-sm);
    }
    
    @media (max-width: 768px) {
        .simulator-container {
            grid-template-columns: 1fr;
        }
    }
    
    .control-slider {
        width: 100%;
        margin: var(--space-sm) 0;
    }
    
    .slider-value {
        text-align: center;
        color: var(--neon-interactivo);
        font-size: var(--font-sm);
    }
    
    .btn-animar, .btn-reset {
        width: 100%;
        padding: 8px;
        margin-top: var(--space-sm);
        border: none;
        border-radius: 4px;
        font-size: var(--font-sm);
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: var(--space-sm);
    }
    
    .btn-animar {
        background: linear-gradient(45deg, var(--neon-interactivo), #FF00AA);
        color: white;
    }
    
    .btn-reset {
        background: rgba(255, 255, 255, 0.1);
        color: #e0f0ff;
        border: 1px solid rgba(255, 255, 255, 0.3);
    }
    
    .timeline-container {
        background: rgba(0, 0, 0, 0.9);
        border-radius: 4px;
        overflow: hidden;
        min-height: 300px;
        padding: var(--space-sm);
    }
    
    .data-card {
        background: rgba(255, 255, 255, 0.05);
        padding: 6px;
        margin-bottom: 6px;
        border-radius: 3px;
        border-left: 2px solid var(--neon-dato);
        font-size: var(--font-sm);
    }
    
    /* QUIZ COMPACTO */
    .quiz-question {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        margin-bottom: var(--space-sm);
        border: 1px solid rgba(255, 107, 107, 0.3);
    }
    
    .quiz-options {
        display: grid;
        gap: 4px;
        margin: var(--space-sm) 0;
    }
    
    .quiz-option {
        padding: 8px;
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.2);
        color: #e0f0ff;
        cursor: pointer;
        text-align: left;
        border-radius: 3px;
        display: flex;
        align-items: center;
        gap: 6px;
        font-size: var(--font-sm);
    }
    
    .option-letter {
        background: rgba(255, 255, 255, 0.1);
        width: 20px;
        height: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        font-size: var(--font-sm);
        flex-shrink: 0;
    }
    
    /* PROBLEMAS DE EXAMEN COMPACTOS */
    .examen-container {
        display: grid;
        gap: var(--space-md);
        margin-bottom: var(--space-lg);
    }
    
    .problema-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        border: 1px solid var(--neon-evaluacion);
    }
    
    .tabla-analisis {
        width: 100%;
        border-collapse: collapse;
        margin: var(--space-sm) 0;
        font-size: var(--font-sm);
    }
    
    .tabla-analisis th, .tabla-analisis td {
        border: 1px solid rgba(255, 107, 107, 0.3);
        padding: 6px;
        vertical-align: top;
    }
    
    .tabla-analisis textarea {
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.3);
        border: 1px solid rgba(255, 255, 255, 0.1);
        color: white;
        font-family: inherit;
        font-size: var(--font-sm);
        resize: vertical;
        min-height: 40px;
    }
    
    /* CIERRE METACOGNITIVO COMPACTO */
    .cierre-container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: var(--space-md);
        margin-bottom: var(--space-lg);
    }
    
    @media (max-width: 768px) {
        .cierre-container {
            grid-template-columns: 1fr;
        }
    }
    
    .autoeval-slider {
        width: 100%;
        margin: 4px 0;
    }
    
    .slider-labels {
        display: flex;
        justify-content: space-between;
        font-size: var(--font-sm);
        color: rgba(255, 255, 255, 0.6);
    }
    
    .pregunta-reflexion textarea {
        width: 100%;
        background: rgba(0, 0, 0, 0.3);
        border: 1px solid rgba(57, 255, 20, 0.3);
        color: white;
        font-family: inherit;
        font-size: var(--font-sm);
        padding: 6px;
        border-radius: 4px;
        resize: vertical;
    }
    
    /* PLAN DE ESTUDIO COMPACTO */
    .plan-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: var(--space-sm);
        margin-bottom: var(--space-lg);
    }
    
    .plan-card {
        background: var(--bg-card);
        padding: var(--space-sm);
        border-radius: 6px;
        border: 1px solid rgba(57, 255, 20, 0.3);
    }
    
    .plan-card ul {
        padding-left: 16px;
        margin: var(--space-sm) 0;
        font-size: var(--font-sm);
    }
    
    /* RECURSOS COMPACTOS */
    .recursos-links {
        display: grid;
        gap: var(--space-sm);
    }
    
    .recurso-link {
        background: rgba(57, 255, 20, 0.1);
        padding: 8px;
        border-radius: 4px;
        color: var(--neon-concepto);
        text-decoration: none;
        border: 1px solid rgba(57, 255, 20, 0.3);
        font-size: var(--font-sm);
        transition: all 0.2s ease;
    }
    
    .recurso-link:hover {
        background: rgba(57, 255, 20, 0.2);
        transform: translateX(4px);
    }
    
    /* ANIMACIONES */
    @keyframes glow {
        0%, 100% { text-shadow: 0 0 5px currentColor; }
        50% { text-shadow: 0 0 10px currentColor, 0 0 15px currentColor; }
    }
    
    @keyframes highlight {
        0% { background-color: rgba(57, 255, 20, 0); }
        50% { background-color: rgba(57, 255, 20, 0.1); }
        100% { background-color: rgba(57, 255, 20, 0); }
    }
    
    /* RESPONSIVE ADAPTACIONES */
    @media (max-width: 768px) {
        .leccion-historia-mexico-prehispanico {
            padding: var(--space-md);
            font-size: var(--font-sm);
        }
        
        .titulo-leccion {
            font-size: 1.5rem;
        }
        
        .simulator-container {
            grid-template-columns: 1fr;
        }
        
        .objetivos-grid,
        .contexto-grid,
        .legados-grid,
        .plan-grid {
            grid-template-columns: 1fr;
        }
        
        .detalle-content {
            grid-template-columns: 1fr;
        }
        
        .tabla-cyberpunk {
            font-size: var(--font-sm);
            display: block;
            overflow-x: auto;
        }
    }
    
    /* UTILIDADES */
    .highlight {
        animation: highlight 2s;
    }
    
    .selected {
        background: rgba(57, 255, 20, 0.1) !important;
        outline: 1px solid var(--neon-concepto);
    }

    /* ESTILOS ESPEC칈FICOS PARA LA LECCI칍N DE INDEPENDENCIA */
.leccion-historia-independencia .etapa-card[data-etapa="iniciacion"] {
    border-color: var(--neon-grito);
}

.leccion-historia-independencia .etapa-card[data-etapa="organizacion"] {
    border-color: var(--neon-sentimientos);
}

.leccion-historia-independencia .documento-card.gritodolores {
    border-color: var(--neon-grito);
}

.leccion-historia-independencia .documento-card.iguala {
    border-color: var(--neon-iguala);
}

.leccion-historia-independencia #svgPlanIguala {
    width: 100%;
    height: auto;
}

.leccion-historia-independencia .barra.apoyo {
    background: rgba(76, 175, 80, 0.8);
}

.leccion-historia-independencia .barra.rechazo {
    background: rgba(255, 87, 34, 0.8);
}
/* ESTILOS ESPEC칈FICOS PARA LECCI칍N VIRREINATO NUEVA ESPA칌A */
.leccion-historia-virreinato {
    zoom: 90%;
    font-size: 0.875rem;
}

/* Colores tem치ticos para jerarqu칤a colonial */
.nivel-tag.rey {
    background: linear-gradient(45deg, rgba(255, 193, 7, 0.2), rgba(255, 193, 7, 0.4));
    color: #FFD54F;
    border: 1px solid #FFC107;
    box-shadow: 0 0 5px rgba(255, 193, 7, 0.3);
}

.nivel-tag.virrey {
    background: linear-gradient(45deg, rgba(33, 150, 243, 0.2), rgba(33, 150, 243, 0.4));
    color: #64B5F6;
    border: 1px solid #2196F3;
    box-shadow: 0 0 5px rgba(33, 150, 243, 0.3);
}

.nivel-tag.audiencia {
    background: linear-gradient(45deg, rgba(76, 175, 80, 0.2), rgba(76, 175, 80, 0.4));
    color: #81C784;
    border: 1px solid #4CAF50;
    box-shadow: 0 0 5px rgba(76, 175, 80, 0.3);
}

/* Sistema de castas visual */
.nivel-casta[data-casta="espanoles"]:hover {
    background: rgba(255, 193, 7, 0.1);
    transform: translateX(5px);
}

.nivel-casta[data-casta="criollos"]:hover {
    background: rgba(33, 150, 243, 0.1);
    transform: translateX(5px);
}

.nivel-casta[data-casta="mestizos"]:hover {
    background: rgba(76, 175, 80, 0.1);
    transform: translateX(5px);
}

.nivel-casta[data-casta="indigenas"]:hover {
    background: rgba(255, 152, 0, 0.1);
    transform: translateX(5px);
}

.nivel-casta[data-casta="negros"]:hover {
    background: rgba(156, 39, 176, 0.1);
    transform: translateX(5px);
}

/* Jerarqu칤a SVG */
#nodoRey circle {
    filter: drop-shadow(0 0 3px #FFC107);
}

#nodoVirrey rect {
    filter: drop-shadow(0 0 3px #2196F3);
}

#nodoAudiencia rect {
    filter: drop-shadow(0 0 3px #4CAF50);
}

/* Estilos para tabletas */
@media (max-width: 1024px) {
    .leccion-historia-virreinato {
        zoom: 85%;
    }
    
    .simulator-container {
        grid-template-columns: 1fr;
        gap: 10px;
    }
    
    .sistemas-grid,
    .iglesia-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* Estilos para m칩viles peque침os */
@media (max-width: 480px) {
    .leccion-historia-virreinato {
        zoom: 80%;
        padding: 10px;
    }
    
    .sistemas-grid,
    .iglesia-grid {
        grid-template-columns: 1fr;
    }
    
    .datos-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}
 /* ========================================
       VARIABLES CYBERPUNK COLONIALES
    ======================================== */
    :root {
        /* PALETA NEON TEM츼TICA */
        --neon-rey: #FFC107;          /* Amarillo - Rey */
        --neon-virrey: #2196F3;       /* Azul - Virrey */
        --neon-audiencia: #4CAF50;    /* Verde - Audiencia */
        --neon-encomienda: #FF9800;   /* Naranja - Encomienda */
        --neon-iglesia: #9C27B0;      /* P칰rpura - Iglesia */
        --neon-mineria: #795548;      /* Caf칠 - Miner칤a */
        --neon-cabildo: #607D8B;      /* Gris - Cabildo */
        
        /* COLORES GENERALES */
        --neon-concepto: #39FF14;    /* Verde - Conceptos clave */
        --neon-interactivo: #FF00FF; /* Rosa - Elementos interactivos */
        --neon-ejemplo: #00FFFF;     /* Cian - Ejemplos y casos */
        --neon-alerta: #FFFF00;      /* Amarillo - Advertencias/errores */
        --neon-evaluacion: #FF6B6B;  /* Rojo - Evaluaci칩n */
        --neon-dato: #00FF9D;        /* Verde datos - Informaci칩n */
        
        /* FONDOS JER츼RQUICOS */
        --bg-leccion: #0a0a1a;       /* Fondo principal oscuro */
        --bg-seccion: rgba(0, 0, 0, 0.5); /* Fondo secciones */
        --bg-card: rgba(10, 10, 26, 0.8); /* Tarjetas semitransparentes */
        
        /* TIPOGRAF칈A COMPACTA */
        --font-base: 0.9rem;
        --font-sm: 0.8rem;
        --font-md: 1rem;
        --font-lg: 1.1rem;
        --font-xl: 1.3rem;
        
        /* ESPACIADO COMPACTO */
        --space-sm: 5px;
        --space-md: 10px;
        --space-lg: 15px;
        --space-xl: 20px;
    }
    
    /* ========================================
       ESTILOS GENERALES COMPACTOS
    ======================================== */
    .leccion-historia-virreinato {
        position: relative;
        background-color: var(--bg-leccion);
        color: #e0f0ff;
        font-family: 'Courier New', monospace;
        padding: var(--space-xl);
        max-width: 1200px;
        margin: 0 auto;
        line-height: 1.5;
        font-size: var(--font-sm);
        zoom: 90%;
    }
    
    /* Grid background colonial */
    .leccion-historia-virreinato::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: 
            linear-gradient(rgba(255, 193, 7, 0.02) 1px, transparent 1px),
            linear-gradient(90deg, rgba(255, 193, 7, 0.02) 1px, transparent 1px);
        background-size: 35px 35px;
        pointer-events: none;
        z-index: 0;
    }
    
    /* CABECERA COMPACTA */
    .leccion-header {
        text-align: center;
        margin-bottom: var(--space-lg);
        position: relative;
        z-index: 2;
        padding: var(--space-md);
    }
    
    .titulo-leccion {
        font-size: 1.7rem;
        color: var(--neon-virrey);
        margin-bottom: var(--space-sm);
        animation: glow 3s infinite;
    }
    
    .subtitulo {
        font-size: var(--font-md);
        color: var(--neon-ejemplo);
        opacity: 0.9;
        margin-bottom: var(--space-sm);
    }
    
    .badge-tiempo {
        display: flex;
        justify-content: center;
        gap: var(--space-sm);
        flex-wrap: wrap;
    }
    
    .badge {
        background: rgba(33, 150, 243, 0.1);
        padding: 3px 6px;
        border-radius: 10px;
        font-size: var(--font-sm);
        border: 1px solid var(--neon-virrey);
    }
    
    /* PANEL OBJETIVOS COMPACTO */
    .panel-objetivos {
        background: var(--bg-seccion);
        padding: var(--space-md);
        border-radius: 6px;
        margin-bottom: var(--space-lg);
        border-left: 3px solid var(--neon-concepto);
    }
    
    .seccion-titulo {
        font-size: var(--font-lg);
        color: var(--neon-concepto);
        margin-bottom: var(--space-md);
        display: flex;
        align-items: center;
        gap: var(--space-sm);
    }
    
    .objetivos-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: var(--space-sm);
    }
    
    .objetivo-card {
        background: var(--bg-card);
        padding: var(--space-sm);
        border-radius: 4px;
        border: 1px solid rgba(57, 255, 20, 0.2);
        cursor: pointer;
        transition: all 0.2s ease;
        position: relative;
        padding-left: 32px;
        font-size: var(--font-sm);
    }
    
    .objetivo-checkbox {
        position: absolute;
        left: var(--space-sm);
        top: var(--space-sm);
        width: 16px;
        height: 16px;
        border: 2px solid var(--neon-concepto);
        border-radius: 3px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: var(--font-sm);
    }
    
    /* TABLA JER츼RQUICA COMPACTA */
    .tabla-cyberpunk {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: var(--space-md);
        font-size: var(--font-sm);
    }
    
    .tabla-cyberpunk th {
        background: rgba(33, 150, 243, 0.1);
        color: var(--neon-virrey);
        padding: 8px;
        text-align: left;
        border-bottom: 2px solid var(--neon-virrey);
        font-size: var(--font-sm);
    }
    
    .tabla-cyberpunk td {
        padding: 8px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        cursor: pointer;
        font-size: var(--font-sm);
    }
    
    .nivel-tag {
        padding: 2px 6px;
        border-radius: 4px;
        font-size: var(--font-sm);
        display: inline-block;
        min-width: 70px;
        text-align: center;
    }
    
    .nivel-tag.rey {
        background: rgba(255, 193, 7, 0.2);
        color: #FFC107;
        border: 1px solid #FFC107;
    }
    
    .nivel-tag.virrey {
        background: rgba(33, 150, 243, 0.2);
        color: #2196F3;
        border: 1px solid #2196F3;
    }
    
    .nivel-tag.audiencia {
        background: rgba(76, 175, 80, 0.2);
        color: #4CAF50;
        border: 1px solid #4CAF50;
    }
    
    .nivel-tag.cabildo {
        background: rgba(96, 125, 139, 0.2);
        color: #607D8B;
        border: 1px solid #607D8B;
    }
    
    /* SISTEMAS ECON칍MICOS */
    .sistemas-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
        gap: var(--space-sm);
        margin-bottom: var(--space-lg);
    }
    
    .sistema-card {
        background: var(--bg-card);
        padding: var(--space-sm);
        border-radius: 6px;
        border: 1px solid rgba(255, 255, 255, 0.1);
        cursor: pointer;
        text-align: center;
        transition: all 0.2s ease;
    }
    
    .sistema-card:hover {
        transform: translateY(-3px);
        border-color: var(--neon-interactivo);
    }
    
    .sistema-icon {
        font-size: 1.5rem;
        margin-bottom: 4px;
    }
    
    /* DATOS ECON칍MICOS */
    .datos-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: var(--space-sm);
        margin-top: var(--space-md);
    }
    
    .dato-card {
        background: rgba(33, 150, 243, 0.1);
        padding: var(--space-sm);
        border-radius: 4px;
        text-align: center;
        border: 1px solid var(--neon-virrey);
    }
    
    .dato-valor {
        font-size: var(--font-lg);
        color: var(--neon-virrey);
        font-weight: bold;
    }
    
    /* PIR츼MIDE DE CASTAS */
    .piramide-niveles {
        display: flex;
        flex-direction: column;
        gap: 3px;
        margin-bottom: var(--space-md);
    }
    
    .nivel-casta {
        background: var(--bg-card);
        padding: var(--space-sm);
        border-radius: 4px;
        border-left: 4px solid;
        cursor: pointer;
        transition: all 0.2s ease;
    }
    
    .nivel-casta[data-casta="espanoles"] { border-left-color: #FFC107; }
    .nivel-casta[data-casta="criollos"] { border-left-color: #2196F3; }
    .nivel-casta[data-casta="mestizos"] { border-left-color: #4CAF50; }
    .nivel-casta[data-casta="indigenas"] { border-left-color: #FF9800; }
    .nivel-casta[data-casta="negros"] { border-left-color: #9C27B0; }
    
    .casta-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 2px;
    }
    
    .casta-porcentaje {
        background: rgba(255, 255, 255, 0.1);
        padding: 2px 6px;
        border-radius: 10px;
        font-size: var(--font-sm);
    }
    
    /* IGLESIA */
    .iglesia-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
        gap: var(--space-sm);
        margin-bottom: var(--space-lg);
    }
    
    .iglesia-card {
        background: var(--bg-card);
        padding: var(--space-sm);
        border-radius: 6px;
        border: 1px solid rgba(156, 39, 176, 0.3);
        text-align: center;
    }
    
    .iglesia-icon {
        font-size: 1.5rem;
        margin-bottom: 4px;
    }
    
    /* SIMULADOR COMPACTO */
    .simulator-container {
        display: grid;
        grid-template-columns: 1fr 2fr 1fr;
        gap: var(--space-md);
        padding: var(--space-md);
        background: rgba(0, 0, 0, 0.7);
        border: 2px solid var(--neon-interactivo);
        border-radius: 6px;
        margin-bottom: var(--space-lg);
        font-size: var(--font-sm);
    }
    
    @media (max-width: 768px) {
        .simulator-container {
            grid-template-columns: 1fr;
        }
    }
    
    .control-select {
        width: 100%;
        padding: 6px;
        background: rgba(0, 0, 0, 0.5);
        color: white;
        border: 1px solid var(--neon-interactivo);
        border-radius: 4px;
        font-family: inherit;
        font-size: var(--font-sm);
        margin-bottom: var(--space-sm);
    }
    
    .checkbox-group {
        display: grid;
        grid-template-columns: 1fr;
        gap: 3px;
        font-size: var(--font-sm);
    }
    
    
    .btn-comparar, .btn-timeline {
        width: 100%;
        padding: 8px;
        margin-top: var(--space-sm);
        border: none;
        border-radius: 4px;
        font-size: var(--font-sm);
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 6px;
    }
    
    .btn-comparar {
        background: linear-gradient(45deg, var(--neon-interactivo), #FF00AA);
        color: white;
    }
    
    .btn-timeline {
        background: rgba(255, 255, 255, 0.1);
        color: #e0f0ff;
        border: 1px solid rgba(255, 255, 255, 0.3);
    }
    
    .jerarquia-container {
        background: rgba(0, 0, 0, 0.9);
        border-radius: 4px;
        overflow: hidden;
        min-height: 280px;
        padding: var(--space-sm);
    }
    
    .data-card {
        background: rgba(255, 255, 255, 0.05);
        padding: 6px;
        margin-bottom: 6px;
        border-radius: 3px;
        border-left: 2px solid var(--neon-dato);
        font-size: var(--font-sm);
    }
    
    /* QUIZ COMPACTO */
    .quiz-question {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        margin-bottom: var(--space-sm);
        border: 1px solid rgba(255, 107, 107, 0.3);
    }
    
    .quiz-options {
        display: grid;
        gap: 3px;
        margin: var(--space-sm) 0;
    }
    
    .quiz-option {
        padding: 8px;
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.2);
        color: #e0f0ff;
        cursor: pointer;
        text-align: left;
        border-radius: 3px;
        display: flex;
        align-items: center;
        gap: 6px;
        font-size: var(--font-sm);
    }
    
    /* PROBLEMAS DE EXAMEN COMPACTOS */
    .examen-container {
        display: grid;
        gap: var(--space-md);
        margin-bottom: var(--space-lg);
    }
    
    .problema-card {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        border: 1px solid var(--neon-evaluacion);
    }
    
    .tabla-analisis table {
        width: 100%;
        border-collapse: collapse;
        margin: var(--space-sm) 0;
        font-size: var(--font-sm);
    }
    
    .tabla-analisis th, .tabla-analisis td {
        border: 1px solid rgba(255, 107, 107, 0.3);
        padding: 6px;
        vertical-align: top;
    }
    
    .tabla-analisis textarea {
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.3);
        border: 1px solid rgba(255, 255, 255, 0.1);
        color: white;
        font-family: inherit;
        font-size: var(--font-sm);
        resize: vertical;
        min-height: 60px;
    }
    
    .comparativa-doble {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: var(--space-md);
        margin: var(--space-md) 0;
    }
    
    @media (max-width: 768px) {
        .comparativa-doble {
            grid-template-columns: 1fr;
        }
    }
    
    /* CIERRE METACOGNITIVO COMPACTO */
    .cierre-container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: var(--space-md);
        margin-bottom: var(--space-lg);
    }
    
    @media (max-width: 768px) {
        .cierre-container {
            grid-template-columns: 1fr;
        }
    }
    
    .autoeval-slider {
        width: 100%;
        margin: 4px 0;
    }
    
    .slider-labels {
        display: flex;
        justify-content: space-between;
        font-size: var(--font-sm);
        color: rgba(255, 255, 255, 0.6);
    }
    
    .pregunta-reflexion textarea {
        width: 100%;
        background: rgba(0, 0, 0, 0.3);
        border: 1px solid rgba(57, 255, 20, 0.3);
        color: white;
        font-family: inherit;
        font-size: var(--font-sm);
        padding: 6px;
        border-radius: 4px;
        resize: vertical;
        min-height: 80px;
    }
    
    /* ANIMACIONES */
    @keyframes glow {
        0%, 100% { text-shadow: 0 0 5px currentColor; }
        50% { text-shadow: 0 0 10px currentColor, 0 0 15px currentColor; }
    }
    
    @keyframes highlight {
        0% { background-color: rgba(57, 255, 20, 0); }
        50% { background-color: rgba(57, 255, 20, 0.1); }
        100% { background-color: rgba(57, 255, 20, 0); }
    }
    
    /* RESPONSIVE ADAPTACIONES */
    @media (max-width: 768px) {
        .leccion-historia-virreinato {
            padding: var(--space-md);
            font-size: var(--font-sm);
            zoom: 85%;
        }
        
        .titulo-leccion {
            font-size: 1.4rem;
        }
        
        .simulator-container {
            grid-template-columns: 1fr;
        }
        
        .sistemas-grid,
        .iglesia-grid,
        .datos-grid {
            grid-template-columns: 1fr;
        }
        
        .tabla-cyberpunk {
            font-size: var(--font-sm);
            display: block;
            overflow-x: auto;
        }
    }
    
    @media (max-width: 480px) {
        .leccion-historia-virreinato {
            zoom: 80%;
            padding: 10px;
        }
        
        .titulo-leccion {
            font-size: 1.2rem;
        }
        
        .seccion-titulo {
            font-size: var(--font-md);
        }
    }
    
    /* UTILIDADES */
    .highlight {
        animation: highlight 2s;
    }
    
    .selected {
        background: rgba(57, 255, 20, 0.1) !important;
        outline: 1px solid var(--neon-concepto);
    }

    /* ===========================================
VARIABLES CYBERPUNK EDUCATIVAS
=========================================== */
:root {
    /* PALETA NEON HIST칍RICA */
    --neon-independencia: #4CAF50; /* Verde - Independencia */
    --neon-grito: #D32F2F; /* Rojo - Grito de Dolores */
    --neon-iguala: #7B1FA2; /* Morado - Plan de Iguala */
    --neon-sentimientos: #1976D2; /* Azul - Sentimientos de la Naci칩n */
    --neon-evaluacion: #FF9800; /* Naranja - Evaluaci칩n */
    --neon-dato: #00BCD4; /* Cian - Datos */
    /* FONDOS */
    --bg-leccion: #0a0a1a;
    --bg-seccion: rgba(0, 0, 0, 0.6);
    --bg-card: rgba(10, 10, 26, 0.9);
    /* TIPOGRAF칈A */
    --font-base: 1rem;
    --font-sm: 0.875rem;
    --font-md: 1.125rem;
    --font-lg: 1.25rem;
    --font-xl: 1.5rem;
    /* ESPACIADO */
    --space-sm: 8px;
    --space-md: 16px;
    --space-lg: 24px;
    --space-xl: 32px;
}

/* ===========================================
ESTILOS GENERALES
=========================================== */
.leccion-historia-independencia {
    position: relative;
    background-color: var(--bg-leccion);
    color: #e0f0ff;
    font-family: 'Courier New', monospace;
    padding: var(--space-xl);
    max-width: 1200px;
    margin: 0 auto;
    line-height: 1.6;
}

/* Grid cyberpunk */
.leccion-historia-independencia::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image:
        linear-gradient(rgba(76, 175, 80, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(76, 175, 80, 0.03) 1px, transparent 1px);
    background-size: 50px 50px;
    pointer-events: none;
    z-index: 0;
}

/* Scanlines */
.leccion-historia-independencia::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
        to bottom,
        transparent 50%,
        rgba(76, 175, 80, 0.02) 51%
    );
    background-size: 100% 6px;
    pointer-events: none;
    z-index: 1;
    animation: scanline 10s linear infinite;
}

@keyframes scanline {
    0% { transform: translateY(0); }
    100% { transform: translateY(20px); }
}

/* CABECERA */
.leccion-header {
    text-align: center;
    margin-bottom: var(--space-xl);
    position: relative;
    z-index: 2;
}

.titulo-leccion {
    font-size: 2.5rem;
    color: var(--neon-independencia);
    margin-bottom: var(--space-sm);
    animation: glow 3s infinite;
}

@keyframes glow {
    0%, 100% { text-shadow: 0 0 5px var(--neon-independencia); }
    50% { text-shadow: 0 0 10px var(--neon-independencia), 0 0 15px var(--neon-independencia); }
}

.subtitulo {
    font-size: var(--font-lg);
    color: var(--neon-dato);
    opacity: 0.9;
}

/* PANEL OBJETIVOS */
.panel-objetivos {
    background: var(--bg-seccion);
    padding: var(--space-lg);
    border-radius: 8px;
    margin-bottom: var(--space-xl);
    border-left: 4px solid var(--neon-independencia);
}

.objetivos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-md);
}

.objetivo-card {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 6px;
    border: 1px solid rgba(76, 175, 80, 0.3);
    cursor: pointer;
    transition: all 0.3s;
    position: relative;
    padding-left: 48px;
}

.objetivo-card:hover {
    transform: translateY(-2px);
    border-color: var(--neon-independencia);
    box-shadow: 0 4px 12px rgba(76, 175, 80, 0.2);
}

.objetivo-checkbox {
    position: absolute;
    left: var(--space-md);
    top: var(--space-md);
    width: 24px;
    height: 24px;
    border: 2px solid var(--neon-independencia);
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--neon-independencia);
    font-weight: bold;
}

/* CONTEXTO REAL */
.contexto-real {
    background: var(--bg-seccion);
    padding: var(--space-lg);
    border-radius: 8px;
    margin-bottom: var(--space-xl);
}

.contexto-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-md);
}

.contexto-card {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 6px;
    border: 1px solid var(--neon-dato);
}

.dato-neon {
    color: var(--neon-dato);
    font-weight: bold;
    margin-top: var(--space-sm);
}

/* SECCI칍N TE칍RICA */
.teoria-section {
    background: var(--bg-seccion);
    padding: var(--space-lg);
    border-radius: 8px;
    margin-bottom: var(--space-xl);
    position: relative;
}

.borde-neon-lateral {
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 4px;
    background: linear-gradient(to bottom, var(--neon-grito), var(--neon-iguala));
    border-radius: 8px 0 0 8px;
}

/* ETAPAS TIMELINE */
.etapas-timeline {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-lg);
    margin: var(--space-lg) 0;
}

.etapa-card {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 8px;
    border: 2px solid;
    transition: transform 0.2s;
}

.etapa-card:hover {
    transform: translateY(-4px);
}

.etapa-card[data-etapa="iniciacion"] {
    border-color: var(--neon-grito);
}

.etapa-card[data-etapa="organizacion"] {
    border-color: var(--neon-sentimientos);
}

.etapa-card[data-etapa="resistencia"] {
    border-color: var(--neon-evaluacion);
}

.etapa-card[data-etapa="consumacion"] {
    border-color: var(--neon-iguala);
}

.etapa-header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-sm);
}

.etapa-icon {
    font-size: 1.5rem;
}

.etapa-dato {
    color: var(--neon-dato);
    font-size: var(--font-sm);
    margin-top: var(--space-sm);
    text-align: right;
}

/* CAUSAS GRID */
.causas-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
    gap: var(--space-lg);
    margin: var(--space-lg) 0;
}

.causa-card {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 8px;
    border: 2px solid;
}

.causa-card.externa {
    border-color: var(--neon-dato);
}

.causa-card.interna {
    border-color: var(--neon-evaluacion);
}

.causa-header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-md);
}

.causa-icon {
    font-size: 1.5rem;
}

.causa-dato {
    color: var(--neon-dato);
    font-size: var(--font-sm);
    margin-top: var(--space-sm);
}

/* DOCUMENTOS GRID */
.documentos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-md);
    margin: var(--space-lg) 0;
}

.documento-card {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 8px;
    border: 2px solid;
    text-align: center;
}

.documento-card.gritodolores {
    border-color: var(--neon-grito);
}

.documento-card.chilpancingo {
    border-color: var(--neon-sentimientos);
}

.documento-card.iguala {
    border-color: var(--neon-iguala);
}

.documento-header {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-bottom: var(--space-sm);
}

.documento-icon {
    font-size: 1.5rem;
    margin-bottom: var(--space-sm);
}

.documento-dato {
    color: var(--neon-dato);
    font-size: var(--font-sm);
    margin-top: var(--space-sm);
}

/* SIMULADOR */
.simulator-container {
    display: grid;
    grid-template-columns: 1fr 2fr 1fr;
    gap: var(--space-lg);
    padding: var(--space-lg);
    background: rgba(0, 0, 0, 0.7);
    border: 2px solid var(--neon-iguala);
    border-radius: 8px;
    margin-bottom: var(--space-xl);
}


@media (max-width: 768px) {
    .simulator-container {
        grid-template-columns: 1fr;
    }
}

.simulator-controls {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 6px;
}

.control-group {
    margin-bottom: var(--space-md);
}

.control-group label {
    display: block;
    margin-bottom: var(--space-sm);
    color: var(--neon-dato);
}

.control-input, .control-slider {
    width: 100%;
    padding: 8px;
    background: rgba(0, 0, 0, 0.5);
    color: white;
    border: 1px solid var(--neon-iguala);
    border-radius: 4px;
    font-family: inherit;
}

.slider-labels {
    display: flex;
    justify-content: space-between;
    margin-top: var(--space-sm);
    font-size: var(--font-sm);
}

.btn-iniciar, .btn-reiniciar {
    width: 100%;
    padding: var(--space-md);
    margin: var(--space-sm) 0;
    border: none;
    border-radius: 4px;
    font-weight: bold;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
}

.btn-iniciar {
    background: linear-gradient(45deg, var(--neon-iguala), #9C27B0);
    color: white;
}

.btn-reiniciar {
    background: rgba(255, 255, 255, 0.1);
    color: #e0f0ff;
    border: 1px solid rgba(255, 255, 255, 0.3);
}

.btn-iniciar:hover {
    transform: scale(1.02);
    box-shadow: 0 0 15px var(--neon-iguala);
}

.simulator-visualization {
    background: rgba(0, 0, 0, 0.9);
    border-radius: 6px;
    overflow: hidden;
}

.plan-iguala-container {
    width: 100%;
    height: 400px;
}

.plan-iguala-container svg {
    width: 100%;
    height: 100%;
}

.garantia-card {
    transition: opacity 0.3s ease;
    cursor: pointer;
}

.garantia-card:hover {
    opacity: 1 !important;
}

.data-card {
    background: rgba(255, 255, 255, 0.05);
    padding: var(--space-sm);
    margin-bottom: var(--space-sm);
    border-radius: 4px;
    border-left: 3px solid var(--neon-dato);
}

.data-card.highlight {
    border-left-color: var(--neon-iguala);
    background: rgba(123, 31, 162, 0.1);
}

/* QUIZ */
.quiz-container {
    background: var(--bg-seccion);
    padding: var(--space-lg);
    border-radius: 8px;
    margin-bottom: var(--space-xl);
}

.quiz-question {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 8px;
    margin-bottom: var(--space-md);
    border: 1px solid rgba(255, 152, 0, 0.3);
}

.quiz-options {
    display: grid;
    gap: var(--space-sm);
    margin: var(--space-md) 0;
}

.quiz-option {
    padding: var(--space-md);
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: #e0f0ff;
    cursor: pointer;
    transition: all 0.2s;
    border-radius: 4px;
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.quiz-option:hover {
    background: rgba(255, 255, 255, 0.1);
    transform: translateX(4px);
}

.quiz-option.correct {
    background: rgba(76, 175, 80, 0.1);
    border-color: var(--neon-independencia);
}

.quiz-option.incorrect {
    background: rgba(255, 152, 0, 0.1);
    border-color: var(--neon-evaluacion);
}

.option-letter {
    background: rgba(255, 255, 255, 0.1);
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    font-weight: bold;
}

/* ERRORES COMUNES */
.errores-container {
    display: grid;
    gap: var(--space-md);
}

.error-card {
    background: var(--bg-card);
    border: 1px solid var(--neon-evaluacion);
    border-radius: 6px;
    margin-bottom: var(--space-md);
}

.error-header {
    background: rgba(255, 152, 0, 0.1);
    padding: var(--space-md);
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.error-content {
    padding: var(--space-md);
    border-top: 1px solid rgba(255, 152, 0, 0.2);
    display: none;
}

.error-grafica {
    margin: var(--space-md) 0;
}

.grafica-barras {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
    margin-bottom: var(--space-sm);
}

.grafica-barras div {
    height: 20px;
    border-radius: 4px;
    transition: width 0.5s ease;
}

.barra.apoyo {
    background: rgba(76, 175, 80, 0.7);
}

.barra.rechazo {
    background: rgba(255, 87, 34, 0.7);
}

.grafica-leyenda {
    display: flex;
    justify-content: space-around;
    font-size: var(--font-sm);
}

.error-mapa {
    margin: var(--space-md) 0;
    background: rgba(0, 0, 0, 0.5);
    padding: var(--space-sm);
    border-radius: 4px;
}

/* PROBLEMAS TIPO EXAMEN */
.examen-container {
    display: grid;
    gap: var(--space-lg);
}

.problema-card {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 8px;
    border: 1px solid var(--neon-evaluacion);
}

.problema-header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-md);
}

.problema-num {
    background: var(--neon-evaluacion);
    color: black;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    font-weight: bold;
}

.problema-espacio textarea {
    width: 100%;
    padding: var(--space-md);
    margin: var(--space-md) 0;
    background: rgba(0, 0, 0, 0.5);
    color: white;
    border: 1px solid var(--neon-evaluacion);
    border-radius: 4px;
    resize: vertical;
}

.btn-verificar {
    background: var(--neon-evaluacion);
    color: black;
    border: none;
    padding: var(--space-sm) var(--space-md);
    border-radius: 4px;
    font-weight: bold;
    cursor: pointer;
}

.problema-solucion {
    margin-top: var(--space-md);
    padding: var(--space-md);
    background: rgba(255, 152, 0, 0.1);
    border-radius: 4px;
    display: none;
}

.comparativa-table {
    width: 100%;
    margin: var(--space-md) 0;
    border-collapse: collapse;
}

.comparativa-table th, .comparativa-table td {
    padding: var(--space-sm);
    border: 1px solid rgba(255, 152, 0, 0.3);
    text-align: center;
}

.comparativa-table th {
    background: rgba(255, 152, 0, 0.2);
}

.rubrica-table {
    width: 100%;
    margin-top: var(--space-md);
    border-collapse: collapse;
}

.rubrica-table th, .rubrica-table td {
    padding: var(--space-sm);
    border: 1px solid rgba(255, 152, 0, 0.3);
    text-align: left;
}

/* CIERRE METACOGNITIVO */
.cierre-container {
    display: grid;
    gap: var(--space-lg);
}

.autoevaluacion {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 8px;
}

.slider-group {
    margin-bottom: var(--space-lg);
}

.slider-group label {
    display: block;
    margin-bottom: var(--space-sm);
}

.autoeval-slider {
    width: 100%;
}

.slider-labels {
    display: flex;
    justify-content: space-between;
    margin-top: var(--space-sm);
    font-size: var(--font-sm);
}

.btn-guardar {
    background: var(--neon-independencia);
    color: black;
    border: none;
    padding: var(--space-md);
    border-radius: 4px;
    font-weight: bold;
    cursor: pointer;
    width: 100%;
}

.reflexion {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 8px;
}

.pregunta-reflexion {
    margin-bottom: var(--space-lg);
}

.pregunta-reflexion textarea {
    width: 100%;
    padding: var(--space-md);
    background: rgba(0, 0, 0, 0.5);
    color: white;
    border: 1px solid var(--neon-independencia);
    border-radius: 4px;
    resize: vertical;
}


.plan-estudio {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 8px;
}

.plan-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-md);
}

.plan-card {
    background: rgba(255, 255, 255, 0.05);
    padding: var(--space-md);
    border-radius: 6px;
    border: 1px solid var(--neon-dato);
}

.plan-card h4 {
    color: var(--neon-dato);
    margin-bottom: var(--space-sm);
}

.recursos {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 8px;
}

.recursos-links {
    display: grid;
    gap: var(--space-sm);
}

.recurso-link {
    color: var(--neon-dato);
    text-decoration: none;
    padding: var(--space-sm);
    display: block;
    border-radius: 4px;
    transition: background 0.2s;
}

.recurso-link:hover {
    background: rgba(0, 188, 212, 0.1);
}

/* RESPONSIVE */
@media (max-width: 768px) {
    .leccion-historia-independencia {
        padding: var(--space-md);
    }

    .titulo-leccion {
        font-size: 1.8rem;
    }

    .etapas-timeline, .causas-grid, .documentos-grid {
        grid-template-columns: 1fr;
    }

    .simulator-container {
        grid-template-columns: 1fr;
    }
}
/* ESTILOS ESPEC칈FICOS PARA LA LECCI칍N DE LA REVOLUCI칍N MEXICANA */
.leccion-historia-revolucion .faccion-card.maderista {
    border-color: var(--neon-madero);
}

.leccion-historia-revolucion .faccion-card.villista {
    border-color: var(--neon-villa);
}

.leccion-historia-revolucion .faccion-card.zapatista {
    border-color: var(--neon-zapata);
}

.leccion-historia-revolucion .articulo-card.art3 {
    border-color: var(--neon-constitucion);
}

.leccion-historia-revolucion .articulo-card.art27 {
    border-color: var(--neon-zapata);
}

.leccion-historia-revolucion .articulo-card.art123 {
    border-color: var(--neon-carranza);
}

.leccion-historia-revolucion #svgRepartoAgrario {
    width: 100%;
    height: auto;
}

.leccion-historia-revolucion .barra.etapa1 {
    background: rgba(76, 175, 80, 0.8);
}

.leccion-historia-revolucion .barra.etapa2 {
    background: rgba(211, 47, 47, 0.8);
}

/* ESTILOS ESPEC칈FICOS PARA LECCI칍N M칄XICO INDEPENDIENTE */
.leccion-historia-independiente {
    zoom: 90%;
    font-size: 0.875rem;
}

/* Colores de etapas hist칩ricas */
.etapa-bar.imperio {
    background: linear-gradient(45deg, #FFB300, #FF9800);
    box-shadow: 0 0 5px rgba(255, 179, 0, 0.5);
}

.etapa-bar.republica {
    background: linear-gradient(45deg, #1976D2, #2196F3);
    box-shadow: 0 0 5px rgba(25, 118, 210, 0.5);
}

.etapa-bar.centralismo {
    background: linear-gradient(45deg, #D32F2F, #F44336);
    box-shadow: 0 0 5px rgba(211, 47, 47, 0.5);
}

.etapa-bar.guerra-eeuu {
    background: linear-gradient(45deg, #7B1FA2, #9C27B0);
    box-shadow: 0 0 5px rgba(123, 31, 162, 0.5);
}

.etapa-bar.reforma {
    background: linear-gradient(45deg, #388E3C, #4CAF50);
    box-shadow: 0 0 5px rgba(56, 142, 60, 0.5);
}

.etapa-bar.intervencion {
    background: linear-gradient(45deg, #0097A7, #00BCD4);
    box-shadow: 0 0 5px rgba(0, 151, 167, 0.5);
}

.etapa-bar.porfiriato {
    background: linear-gradient(45deg, #FF6F00, #FF9800);
    box-shadow: 0 0 5px rgba(255, 111, 0, 0.5);
}

/* Botones de timeline con efectos neon */
.timeline-btn[data-etapa="imperio"]:hover {
    background: rgba(255, 179, 0, 0.2);
    border-color: #FFB300;
    box-shadow: 0 0 8px rgba(255, 179, 0, 0.4);
}

.timeline-btn[data-etapa="republica"]:hover {
    background: rgba(25, 118, 210, 0.2);
    border-color: #1976D2;
    box-shadow: 0 0 8px rgba(25, 118, 210, 0.4);
}

.timeline-btn[data-etapa="porfiriato"]:hover {
    background: rgba(255, 111, 0, 0.2);
    border-color: #FF6F00;
    box-shadow: 0 0 8px rgba(255, 111, 0, 0.4);
}

/* Cartas constitucionales con efectos */
.articulo-card {
    transition: all 0.3s ease;
}

.articulo-card:hover {
    transform: translateX(5px);
    background: rgba(255, 255, 255, 0.08);
}

/* Modelos de gobierno con efectos visuales */
.modelo-card[data-modelo="conservadores"] {
    border-color: rgba(211, 47, 47, 0.3);
}

.modelo-card[data-modelo="liberales"] {
    border-color: rgba(56, 142, 60, 0.3);
}

.modelo-card[data-modelo="cientificos"] {
    border-color: rgba(255, 111, 0, 0.3);
}

/* Estilos para tabletas */
@media (max-width: 1024px) {
    .leccion-historia-independiente {
        zoom: 85%;
    }
    
    .simulator-container {
        grid-template-columns: 1fr;
        gap: 10px;
    }
    
    .comparativa-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* Estilos para m칩viles peque침os */
@media (max-width: 480px) {
    .leccion-historia-independiente {
        zoom: 80%;
        padding: 10px;
    }
    
    .timeline-controls {
        flex-direction: column;
    }
    
    .timeline-btn {
        width: 100%;
        margin-bottom: 5px;
    }
    
    .comparativa-grid,
    .estadisticas-grid {
        grid-template-columns: 1fr;
    }
    
    .balanza-evaluativa {
        grid-template-columns: 1fr;
    }
}
/* ========================================
       VARIABLES CYBERPUNK INDEPENDIENTES
    ======================================== */
    :root {
        /* PALETA NEON POR ETAPA */
        --neon-imperio: #FFB300;          /* Amarillo - Imperio */
        --neon-republica: #1976D2;        /* Azul - Rep칰blica */
        --neon-centralismo: #D32F2F;      /* Rojo - Centralismo */
        --neon-guerra-eeuu: #7B1FA2;      /* P칰rpura - Guerra EE.UU. */
        --neon-reforma: #388E3C;          /* Verde - Reforma */
        --neon-intervencion: #0097A7;     /* Cian - Intervenci칩n */
        --neon-porfiriato: #FF6F00;       /* Naranja - Porfiriato */
        
        /* COLORES GENERALES */
        --neon-concepto: #39FF14;        /* Verde - Conceptos clave */
        --neon-interactivo: #FF00FF;     /* Rosa - Elementos interactivos */
        --neon-ejemplo: #00FFFF;         /* Cian - Ejemplos y casos */
        --neon-alerta: #FFFF00;          /* Amarillo - Advertencias/errores */
        --neon-evaluacion: #FF6B6B;      /* Rojo - Evaluaci칩n */
        --neon-dato: #00FF9D;            /* Verde datos - Informaci칩n */
        
        /* FONDOS JER츼RQUICOS */
        --bg-leccion: #0a0a1a;           /* Fondo principal oscuro */
        --bg-seccion: rgba(0, 0, 0, 0.5); /* Fondo secciones */
        --bg-card: rgba(10, 10, 26, 0.8); /* Tarjetas semitransparentes */
        
        /* TIPOGRAF칈A COMPACTA */
        --font-base: 0.9rem;
        --font-sm: 0.8rem;
        --font-md: 1rem;
        --font-lg: 1.1rem;
        --font-xl: 1.3rem;
        
        /* ESPACIADO COMPACTO */
        --space-sm: 5px;
        --space-md: 10px;
        --space-lg: 15px;
        --space-xl: 20px;
    }
    
    /* ========================================
       ESTILOS GENERALES COMPACTOS
    ======================================== */
    .leccion-historia-independiente {
        position: relative;
        background-color: var(--bg-leccion);
        color: #e0f0ff;
        font-family: 'Courier New', monospace;
        padding: var(--space-xl);
        max-width: 1200px;
        margin: 0 auto;
        line-height: 1.5;
        font-size: var(--font-sm);
        zoom: 90%;
    }
    
    /* Grid background independentista */
    .leccion-historia-independiente::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: 
            linear-gradient(rgba(255, 111, 0, 0.02) 1px, transparent 1px),
            linear-gradient(90deg, rgba(255, 111, 0, 0.02) 1px, transparent 1px);
        background-size: 35px 35px;
        pointer-events: none;
        z-index: 0;
    }
    
    /* CABECERA COMPACTA */
    .leccion-header {
        text-align: center;
        margin-bottom: var(--space-lg);
        position: relative;
        z-index: 2;
        padding: var(--space-md);
    }
    
    .titulo-leccion {
        font-size: 1.7rem;
        color: var(--neon-porfiriato);
        margin-bottom: var(--space-sm);
        animation: glow 3s infinite;
    }
    
    .subtitulo {
        font-size: var(--font-md);
        color: var(--neon-ejemplo);
        opacity: 0.9;
        margin-bottom: var(--space-sm);
    }
    
    .badge-tiempo {
        display: flex;
        justify-content: center;
        gap: var(--space-sm);
        flex-wrap: wrap;
    }
    
    .badge {
        background: rgba(255, 111, 0, 0.1);
        padding: 3px 6px;
        border-radius: 10px;
        font-size: var(--font-sm);
        border: 1px solid var(--neon-porfiriato);
    }
    
    /* L칈NEA DE TIEMPO INTERACTIVA */
    .timeline-interactiva {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        margin-bottom: var(--space-lg);
        border: 1px solid var(--neon-interactivo);
    }
    
    .timeline-controls {
        display: flex;
        flex-wrap: wrap;
        gap: 5px;
        margin-bottom: var(--space-md);
    }
    
    .timeline-btn {
        padding: 6px 10px;
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.3);
        color: #e0f0ff;
        border-radius: 4px;
        cursor: pointer;
        font-size: var(--font-sm);
        transition: all 0.2s ease;
        flex-grow: 1;
        min-width: 80px;
    }
    
    .timeline-btn:hover {
        transform: translateY(-2px);
    }
    
    .timeline-visual {
        margin: var(--space-md) 0;
    }
    
    .timeline-bar {
        height: 30px;
        background: rgba(0, 0, 0, 0.5);
        border-radius: 15px;
        position: relative;
        margin: 20px 0 40px;
    }
    
    .timeline-marker {
        position: absolute;
        top: 35px;
        transform: translateX(-50%);
        color: var(--neon-dato);
        font-size: var(--font-sm);
    }
    
    .etapa-bar {
        position: absolute;
        height: 100%;
        border-radius: 15px;
        opacity: 0.7;
        transition: all 0.3s ease;
        cursor: pointer;
    }
    
    .etapa-bar:hover {
        opacity: 1;
        transform: scaleY(1.1);
    }
    
    .etapa-bar.imperio { background: var(--neon-imperio); }
    .etapa-bar.republica { background: var(--neon-republica); }
    .etapa-bar.centralismo { background: var(--neon-centralismo); }
    .etapa-bar.guerra-eeuu { background: var(--neon-guerra-eeuu); }
    .etapa-bar.reforma { background: var(--neon-reforma); }
    .etapa-bar.intervencion { background: var(--neon-intervencion); }
    .etapa-bar.porfiriato { background: var(--neon-porfiriato); }
    
    .etapa-bar.active {
        opacity: 1;
        box-shadow: 0 0 10px currentColor;
    }
    
    /* ETAPAS DETALLADAS */
    .etapa-detalle {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        margin-bottom: var(--space-sm);
        border-left: 4px solid;
        animation: fadeIn 0.5s ease;
    }
    
    #detalleImperio { border-left-color: var(--neon-imperio); }
    #detalleRepublica { border-left-color: var(--neon-republica); }
    #detalleGuerraEeuu { border-left-color: var(--neon-guerra-eeuu); }
    #detalleReforma { border-left-color: var(--neon-reforma); }
    #detallePorfiriato { border-left-color: var(--neon-porfiriato); }
    
    .etapa-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: var(--space-md);
    }
    
    .etapa-badge {
        background: rgba(255, 255, 255, 0.1);
        padding: 3px 8px;
        border-radius: 12px;
        font-size: var(--font-sm);
    }
    
    .etapa-content {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: var(--space-md);
    }
    
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    /* MODELOS COMPARATIVOS */
    .comparativa-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: var(--space-sm);
        margin-bottom: var(--space-lg);
    }
    
    .modelo-card {
        background: var(--bg-card);
        padding: var(--space-sm);
        border-radius: 6px;
        border: 1px solid rgba(255, 255, 255, 0.1);
        cursor: pointer;
        text-align: center;
        transition: all 0.2s ease;
    }
    
    .modelo-card:hover {
        transform: translateY(-3px);
        border-color: var(--neon-interactivo);
    }
    
    .modelo-icon {
        font-size: 1.5rem;
        margin-bottom: 4px;
    }
    
    /* ESTAD칈STICAS */
    .estadisticas-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: var(--space-sm);
        margin-top: var(--space-md);
    }
    
    .estadistica-card {
        background: rgba(255, 111, 0, 0.1);
        padding: var(--space-sm);
        border-radius: 4px;
        text-align: center;
        border: 1px solid var(--neon-porfiriato);
        cursor: pointer;
        transition: all 0.2s ease;
    }
    
    .estadistica-card:hover {
        transform: scale(1.05);
        background: rgba(255, 111, 0, 0.2);
    }
    
    .estadistica-valor {
        font-size: var(--font-lg);
        color: var(--neon-porfiriato);
        font-weight: bold;
    }
    
    /* SIMULADOR CONSTITUCIONAL */
    .simulator-container {
        display: grid;
        grid-template-columns: 1fr 2fr 1fr;
        gap: var(--space-md);
        padding: var(--space-md);
        background: rgba(0, 0, 0, 0.7);
        border: 2px solid var(--neon-interactivo);
        border-radius: 6px;
        margin-bottom: var(--space-lg);
        font-size: var(--font-sm);
    }
    
    @media (max-width: 768px) {
        .simulator-container {
            grid-template-columns: 1fr;
        }
    }
    
    .constitucion-container {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        min-height: 300px;
        display: flex;
        flex-direction: column;
    }
    
    .constitucion-articulos {
        flex-grow: 1;
        margin: var(--space-md) 0;
    }
    
    .articulo-card {
        background: rgba(255, 255, 255, 0.05);
        padding: var(--space-sm);
        margin-bottom: var(--space-sm);
        border-radius: 4px;
        border-left: 3px solid var(--neon-dato);
        display: flex;
        gap: var(--space-sm);
    }
    
    .articulo-card.highlight {
        border-left-color: var(--neon-interactivo);
        background: rgba(255, 0, 255, 0.05);
    }
    
    .articulo-numero {
        background: rgba(255, 255, 255, 0.1);
        width: 30px;
        height: 30px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        flex-shrink: 0;
        font-size: var(--font-sm);
    }
    
    /* PROBLEMAS DE EXAMEN */
    .balanza-evaluativa {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: var(--space-md);
        margin: var(--space-md) 0;
    }
    
    @media (max-width: 768px) {
        .balanza-evaluativa {
            grid-template-columns: 1fr;
        }
    }
    
    .balanza-lado {
        padding: var(--space-md);
        border-radius: 6px;
    }
    
    .balanza-lado.positivo {
        background: rgba(76, 175, 80, 0.1);
        border: 1px solid var(--neon-reforma);
    }
    
    .balanza-lado.negativo {
        background: rgba(244, 67, 54, 0.1);
        border: 1px solid var(--neon-centralismo);
    }
    
    /* RESPONSIVE ADAPTACIONES */
    @media (max-width: 768px) {
        .leccion-historia-independiente {
            padding: var(--space-md);
            font-size: var(--font-sm);
            zoom: 85%;
        }
        
        .titulo-leccion {
            font-size: 1.4rem;
        }
        
        .simulator-container {
            grid-template-columns: 1fr;
        }
        
        .comparativa-grid,
        .estadisticas-grid {
            grid-template-columns: repeat(2, 1fr);
        }
        
        .etapa-content {
            grid-template-columns: 1fr;
        }
        
        .timeline-controls {
            flex-direction: column;
        }
        
        .timeline-btn {
            width: 100%;
        }
    }
    
    @media (max-width: 480px) {
        .leccion-historia-independiente {
            zoom: 80%;
            padding: 10px;
        }
        
        .titulo-leccion {
            font-size: 1.2rem;
        }
        
        .seccion-titulo {
            font-size: var(--font-md);
        }
        
        .comparativa-grid,
        .estadisticas-grid {
            grid-template-columns: 1fr;
        }
    }
    
    /* ANIMACIONES */
    @keyframes glow {
        0%, 100% { text-shadow: 0 0 5px currentColor; }
        50% { text-shadow: 0 0 10px currentColor, 0 0 15px currentColor; }
    }
    
    @keyframes highlight {
        0% { background-color: rgba(57, 255, 20, 0); }
        50% { background-color: rgba(57, 255, 20, 0.1); }
        100% { background-color: rgba(57, 255, 20, 0); }
    }
    
    /* UTILIDADES */
    .highlight {
        animation: highlight 2s;
    }
    /* ===========================================
VARIABLES CYBERPUNK EDUCATIVAS
=========================================== */
:root {
    /* PALETA NEON REVOLUCIONARIA */
    --neon-revolucion: #D32F2F; /* Rojo - Revoluci칩n */
    --neon-madero: #1976D2; /* Azul - Maderistas */
    --neon-villa: #FF5252; /* Rojo claro - Villistas */
    --neon-zapata: #388E3C; /* Verde - Zapatistas */
    --neon-carranza: #FF9800; /* Naranja - Carrancistas */
    --neon-constitucion: #7B1FA2; /* Morado - Constituci칩n 1917 */
    --neon-evaluacion: #FFEB3B; /* Amarillo - Evaluaci칩n */
    --neon-dato: #00BCD4; /* Cian - Datos */
    /* FONDOS */
    --bg-leccion: #0a0a1a;
    --bg-seccion: rgba(0, 0, 0, 0.6);
    --bg-card: rgba(10, 10, 26, 0.9);
    /* TIPOGRAF칈A */
    --font-base: 1rem;
    --font-sm: 0.875rem;
    --font-md: 1.125rem;
    --font-lg: 1.25rem;
    --font-xl: 1.5rem;
    /* ESPACIADO */
    --space-sm: 8px;
    --space-md: 16px;
    --space-lg: 24px;
    --space-xl: 32px;
}

/* ===========================================
ESTILOS GENERALES
=========================================== */
.leccion-historia-revolucion {
    position: relative;
    background-color: var(--bg-leccion);
    color: #e0f0ff;
    font-family: 'Courier New', monospace;
    padding: var(--space-xl);
    max-width: 1200px;
    margin: 0 auto;
    line-height: 1.6;
}

/* Grid cyberpunk */
.leccion-historia-revolucion::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image:
        linear-gradient(rgba(211, 47, 47, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(211, 47, 47, 0.03) 1px, transparent 1px);
    background-size: 50px 50px;
    pointer-events: none;
    z-index: 0;
}

/* Scanlines */
.leccion-historia-revolucion::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
        to bottom,
        transparent 50%,
        rgba(211, 47, 47, 0.02) 51%
    );
    background-size: 100% 6px;
    pointer-events: none;
    z-index: 1;
    animation: scanline 10s linear infinite;
}

@keyframes scanline {
    0% { transform: translateY(0); }
    100% { transform: translateY(20px); }
}

/* CABECERA */
.leccion-header {
    text-align: center;
    margin-bottom: var(--space-xl);
    position: relative;
    z-index: 2;
}

.titulo-leccion {
    font-size: 2.5rem;
    color: var(--neon-revolucion);
    margin-bottom: var(--space-sm);
    animation: glow 3s infinite;
}

@keyframes glow {
    0%, 100% { text-shadow: 0 0 5px var(--neon-revolucion); }
    50% { text-shadow: 0 0 10px var(--neon-revolucion), 0 0 15px var(--neon-revolucion); }
}

.subtitulo {
    font-size: var(--font-lg);
    color: var(--neon-dato);
    opacity: 0.9;
}

/* PANEL OBJETIVOS */
.panel-objetivos {
    background: var(--bg-seccion);
    padding: var(--space-lg);
    border-radius: 8px;
    margin-bottom: var(--space-xl);
    border-left: 4px solid var(--neon-revolucion);
}

.objetivos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-md);
}

.objetivo-card {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 6px;
    border: 1px solid rgba(211, 47, 47, 0.3);
    cursor: pointer;
    transition: all 0.3s;
    position: relative;
    padding-left: 48px;
}

.objetivo-card:hover {
    transform: translateY(-2px);
    border-color: var(--neon-revolucion);
    box-shadow: 0 4px 12px rgba(211, 47, 47, 0.2);
}

.objetivo-checkbox {
    position: absolute;
    left: var(--space-md);
    top: var(--space-md);
    width: 24px;
    height: 24px;
    border: 2px solid var(--neon-revolucion);
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--neon-revolucion);
    font-weight: bold;
}

/* CONTEXTO REAL */
.contexto-real {
    background: var(--bg-seccion);
    padding: var(--space-lg);
    border-radius: 8px;
    margin-bottom: var(--space-xl);
}

.contexto-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-md);
}

.contexto-card {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 6px;
    border: 1px solid var(--neon-dato);
}

.dato-neon {
    color: var(--neon-dato);
    font-weight: bold;
    margin-top: var(--space-sm);
}

/* SECCI칍N TE칍RICA */
.teoria-section {
    background: var(--bg-seccion);
    padding: var(--space-lg);
    border-radius: 8px;
    margin-bottom: var(--space-xl);
    position: relative;
}

.borde-neon-lateral {
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 4px;
    background: linear-gradient(to bottom, var(--neon-revolucion), var(--neon-constitucion));
    border-radius: 8px 0 0 8px;
}

/* FACCIONES GRID */
.facciones-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-lg);
    margin: var(--space-lg) 0;
}

.faccion-card {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 8px;
    border: 2px solid;
    transition: transform 0.2s;
}

.faccion-card:hover {
    transform: translateY(-4px);
}

.faccion-card.maderista {
    border-color: var(--neon-madero);
}

.faccion-card.villista {
    border-color: var(--neon-villa);
}

.faccion-card.zapatista {
    border-color: var(--neon-zapata);
}

.faccion-card.carrancista {
    border-color: var(--neon-carranza);
}

.faccion-header {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-bottom: var(--space-sm);
}

.faccion-icon {
    font-size: 2rem;
    margin-bottom: var(--space-sm);
}

.faccion-subtitulo {
    font-size: var(--font-sm);
    color: var(--neon-dato);
    margin-bottom: var(--space-sm);
}

.faccion-dato {
    color: var(--neon-dato);
    font-size: var(--font-sm);
    margin-top: var(--space-sm);
    text-align: right;
}

/* TIMELINE REVOLUCI칍N */
.timeline-revolucion {
    position: relative;
    margin: var(--space-lg) 0;
    padding-left: 30px;
}

.timeline-revolucion::before {
    content: '';
    position: absolute;
    left: 15px;
    top: 0;
    bottom: 0;
    width: 2px;
    background: linear-gradient(to bottom, var(--neon-revolucion), var(--neon-constitucion));
}

.timeline-item {
    position: relative;
    margin-bottom: var(--space-lg);
    padding-left: 20px;
}

.timeline-marker {
    position: absolute;
    left: -37px;
    top: 0;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: var(--neon-revolucion);
    border: 3px solid var(--bg-leccion);
}

.timeline-content {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 6px;
    border-left: 3px solid var(--neon-revolucion);
}

.timeline-dato {
    color: var(--neon-dato);
    font-size: var(--font-sm);
    margin-top: var(--space-sm);
}

/* CONSTITUCI칍N GRID */
.constitucion-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-md);
    margin: var(--space-lg) 0;
}

.articulo-card {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 8px;
    border: 2px solid;
    text-align: center;
}

.articulo-card.art3 {
    border-color: var(--neon-constitucion);
}

.articulo-card.art27 {
    border-color: var(--neon-zapata);
}

.articulo-card.art123 {
    border-color: var(--neon-carranza);
}

.articulo-header {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-bottom: var(--space-sm);
}

.articulo-icon {
    font-size: 2rem;
    margin-bottom: var(--space-sm);
}

.articulo-dato {
    color: var(--neon-dato);
    font-size: var(--font-sm);
    margin-top: var(--space-sm);
}

/* PLAN DE AYALA */
.plan-ayala-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-lg);
    margin: var(--space-lg) 0;
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 8px;
    border: 1px solid var(--neon-zapata);
}

.plan-ayala-visual svg {
    width: 100%;
    height: auto;
}

/* SIMULADOR */
.simulator-container {
    display: grid;
    grid-template-columns: 1fr 2fr 1fr;
    gap: var(--space-lg);
    padding: var(--space-lg);
    background: rgba(0, 0, 0, 0.7);
    border: 2px solid var(--neon-zapata);
    border-radius: 8px;
    margin-bottom: var(--space-xl);
}

@media (max-width: 768px) {
    .simulator-container {
        grid-template-columns: 1fr;
    }
}

.simulator-controls {
    background: var(--bg-card);
    padding: var(--space-md);
    border-radius: 6px;
}

.control-group {
    margin-bottom: var(--space-md);
}

.control-group label {
    display: block;
    margin-bottom: var(--space-sm);
    color: var(--neon-dato);
}

.control-input, .control-slider {
    width: 100%;
    padding: 8px;
    background: rgba(0, 0, 0, 0.5);
    color: white;
    border: 1px solid var(--neon-zapata);
    border-radius: 4px;
    font-family: inherit;
}

.slider-labels {
    display: flex;
    justify-content: space-between;
    margin-top: var(--space-sm);
    font-size: var(--font-sm);
}

.btn-iniciar, .btn-reiniciar {
    width: 100%;
    padding: var(--space-md);
    margin: var(--space-sm) 0;
    border: none;
    border-radius: 4px;
    font-weight: bold;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
}

.btn-iniciar {
    background: linear-gradient(45deg, var(--neon-zapata), #1B5E20);
    color: white;
}

.btn-reiniciar {
    background: rgba(255, 255, 255, 0.1);
    color: #e0f0ff;
    border: 1px solid rgba(255, 255, 255, 0.3);
}

.btn-iniciar:hover {
    transform: scale(1.02);
    box-shadow: 0 0 15px var(--neon-zapata);
}

.simulator-visualization {
    background: rgba(0, 0, 0, 0.9);
    border-radius: 6px;
    overflow: hidden;
}

.mapa-reparto-container {
    width: 100%;
    height: 400px;
}

.mapa-reparto-container svg {
    width: 100%;
    height: 100%;
}

.reparto-elemento {
    transition: opacity 0.5s ease;
}

.data-card {
    background: rgba(255, 255, 255, 0.05);
    padding: var(--space-sm);
    margin-bottom: var(--space-sm);
    border-radius: 4px;
    border-left: 3px solid var(--neon-dato);
}

.data-card.highlight {
    border-left-color: var(--neon-zapata);
    background: rgba(56, 142, 60, 0.1);
}

/* QUIZ */
.quiz-container {
    background: var(--bg-seccion);
    padding: var(--space-lg);
    border-radius: 8px;
    margin-bottom: var(--space-xl);
}

.quiz-question {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 8px;
    margin-bottom: var(--space-md);
    border: 1px solid rgba(255, 152, 0, 0.3);
}

.quiz-options {
    display: grid;
    gap: var(--space-sm);
    margin: var(--space-md) 0;
}

.quiz-option {
    padding: var(--space-md);
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: #e0f0ff;
    cursor: pointer;
    transition: all 0.2s;
    border-radius: 4px;
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.quiz-option:hover {
    background: rgba(255, 255, 255, 0.1);
    transform: translateX(4px);
}

.quiz-option.correct {
    background: rgba(76, 175, 80, 0.1);
    border-color: var(--neon-zapata);
}

.quiz-option.incorrect {
    background: rgba(255, 152, 0, 0.1);
    border-color: var(--neon-evaluacion);
}

.option-letter {
    background: rgba(255, 255, 255, 0.1);
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    font-weight: bold;
}

/* ERRORES COMUNES */
.errores-container {
    display: grid;
    gap: var(--space-md);
}

.error-card {
    background: var(--bg-card);
    border: 1px solid var(--neon-evaluacion);
    border-radius: 6px;
    margin-bottom: var(--space-md);
}

.error-header {
    background: rgba(255, 152, 0, 0.1);
    padding: var(--space-md);
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.error-content {
    padding: var(--space-md);
    border-top: 1px solid rgba(255, 152, 0, 0.2);
    display: none;
}

.error-grafica {
    margin: var(--space-md) 0;
}

.grafica-barras {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
    margin-bottom: var(--space-sm);
}

.grafica-barras div {
    height: 20px;
    border-radius: 4px;
    transition: width 0.5s ease;
}

.barra.etapa1 {
    background: rgba(76, 175, 80, 0.7);
}

.barra.etapa2 {
    background: rgba(211, 47, 47, 0.7);
}

.barra.apoyo {
    background: rgba(76, 175, 80, 0.7);
}

.barra.rechazo {
    background: rgba(211, 47, 47, 0.7);
}

.barra.aplicado {
    background: rgba(76, 175, 80, 0.7);
}

.barra.pendiente {
    background: rgba(211, 47, 47, 0.7);
}

.grafica-leyenda {
    display: flex;
    justify-content: space-around;
    font-size: var(--font-sm);
}

.error-mapa {
    margin: var(--space-md) 0;
    background: rgba(0, 0, 0, 0.5);
    padding: var(--space-sm);
    border-radius: 4px;
}

/* PROBLEMAS TIPO EXAMEN */
.examen-container {
    display: grid;
    gap: var(--space-lg);
}

.problema-card {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 8px;
    border: 1px solid var(--neon-evaluacion);
}

.problema-header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-md);
}

.problema-num {
    background: var(--neon-evaluacion);
    color: black;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    font-weight: bold;
}

.problema-espacio textarea {
    width: 100%;
    padding: var(--space-md);
    margin: var(--space-md) 0;
    background: rgba(0, 0, 0, 0.5);
    color: white;
    border: 1px solid var(--neon-evaluacion);
    border-radius: 4px;
    resize: vertical;
}

.btn-verificar {
    background: var(--neon-evaluacion);
    color: black;
    border: none;
    padding: var(--space-sm) var(--space-md);
    border-radius: 4px;
    font-weight: bold;
    cursor: pointer;
}

.problema-solucion {
    margin-top: var(--space-md);
    padding: var(--space-md);
    background: rgba(255, 152, 0, 0.1);
    border-radius: 4px;
    display: none;
}

.comparativa-table {
    width: 100%;
    margin: var(--space-md) 0;
    border-collapse: collapse;
}

.comparativa-table th, .comparativa-table td {
    padding: var(--space-sm);
    border: 1px solid rgba(255, 152, 0, 0.3);
    text-align: center;
}

.comparativa-table th {
    background: rgba(255, 152, 0, 0.2);
}

.rubrica-table {
    width: 100%;
    margin-top: var(--space-md);
    border-collapse: collapse;
}

.rubrica-table th, .rubrica-table td {
    padding: var(--space-sm);
    border: 1px solid rgba(255, 152, 0, 0.3);
    text-align: left;
}

/* CIERRE METACOGNITIVO */
.cierre-container {
    display: grid;
    gap: var(--space-lg);
}

.autoevaluacion {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 8px;
}

.slider-group {
    margin-bottom: var(--space-lg);
}

.slider-group label {
    display: block;
    margin-bottom: var(--space-sm);
}

.autoeval-slider {
    width: 100%;
}

.slider-labels {
    display: flex;
    justify-content: space-between;
    margin-top: var(--space-sm);
    font-size: var(--font-sm);
}

.btn-guardar {
    background: var(--neon-revolucion);
    color: black;
    border: none;
    padding: var(--space-md);
    border-radius: 4px;
    font-weight: bold;
    cursor: pointer;
    width: 100%;
}

.reflexion {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 8px;
}

.pregunta-reflexion {
    margin-bottom: var(--space-lg);
}

.pregunta-reflexion textarea {
    width: 100%;
    padding: var(--space-md);
    background: rgba(0, 0, 0, 0.5);
    color: white;
    border: 1px solid var(--neon-revolucion);
    border-radius: 4px;
    resize: vertical;
}

.plan-estudio {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 8px;
}

.plan-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-md);
}

.plan-card {
    background: rgba(255, 255, 255, 0.05);
    padding: var(--space-md);
    border-radius: 6px;
    border: 1px solid var(--neon-dato);
}

.plan-card h4 {
    color: var(--neon-dato);
    margin-bottom: var(--space-sm);
}

.recursos {
    background: var(--bg-card);
    padding: var(--space-lg);
    border-radius: 8px;
}

.recursos-links {
    display: grid;
    gap: var(--space-sm);
}

.recurso-link {
    color: var(--neon-dato);
    text-decoration: none;
    padding: var(--space-sm);
    display: block;
    border-radius: 4px;
    transition: background 0.2s;
}

.recurso-link:hover {
    background: rgba(0, 188, 212, 0.1);
}

/* RESPONSIVE */
@media (max-width: 768px) {
    .leccion-historia-revolucion {
        padding: var(--space-md);
    }

    .titulo-leccion {
        font-size: 1.8rem;
    }

    .facciones-grid, .constitucion-grid {
        grid-template-columns: 1fr;
    }

    .plan-ayala-container {
        grid-template-columns: 1fr;
    }

    .simulator-container {
        grid-template-columns: 1fr;
    }
}
/* ESTILOS ESPEC칈FICOS PARA LECCI칍N M칄XICO CONTEMPOR츼NEO */
.leccion-historia-contemporaneo {
    zoom: 90%;
    font-size: 0.875rem;
}

/* Colores de etapas contempor치neas */
.etapa-bar.cardenismo {
    background: linear-gradient(45deg, #D32F2F, #F44336);
    box-shadow: 0 0 5px rgba(211, 47, 47, 0.5);
}

.etapa-bar.milagro {
    background: linear-gradient(45deg, #388E3C, #4CAF50);
    box-shadow: 0 0 5px rgba(56, 142, 60, 0.5);
}

.etapa-bar.crisis {
    background: linear-gradient(45deg, #7B1FA2, #9C27B0);
    box-shadow: 0 0 5px rgba(123, 31, 162, 0.5);
}

.etapa-bar.alternancia {
    background: linear-gradient(45deg, #9C27B0, #E91E63);
    box-shadow: 0 0 5px rgba(156, 39, 176, 0.5);
}

/* Botones de timeline con efectos neon */
.timeline-btn[data-etapa="cardenismo"]:hover {
    background: rgba(211, 47, 47, 0.2);
    border-color: #D32F2F;
    box-shadow: 0 0 8px rgba(211, 47, 47, 0.4);
}

.timeline-btn[data-etapa="milagro"]:hover {
    background: rgba(56, 142, 60, 0.2);
    border-color: #388E3C;
    box-shadow: 0 0 8px rgba(56, 142, 60, 0.4);
}

.timeline-btn[data-etapa="alternancia"]:hover {
    background: rgba(156, 39, 176, 0.2);
    border-color: #9C27B0;
    box-shadow: 0 0 8px rgba(156, 39, 176, 0.4);
}

/* Gr치fico econ칩mico mejorado */
.barra-pib {
    position: relative;
    overflow: hidden;
}

.barra-pib::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
        to bottom,
        transparent,
        rgba(255, 255, 255, 0.1),
        transparent
    );
    animation: shine 3s infinite;
}

@keyframes shine {
    0% { transform: translateY(-100%); }
    100% { transform: translateY(100%); }
}

/* Estad칤sticas con efecto hologr치fico */
.estadistica-card {
    position: relative;
    overflow: hidden;
}

.estadistica-card::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(
        45deg,
        transparent 30%,
        rgba(255, 255, 255, 0.03) 50%,
        transparent 70%
    );
    animation: hologram 6s infinite linear;
}

@keyframes hologram {
    0% { transform: rotate(0deg) translate(-30%, -30%); }
    100% { transform: rotate(360deg) translate(-30%, -30%); }
}

/* Modelos econ칩micos con efectos */
.modelo-card[data-modelo="agraria"] {
    border-color: rgba(211, 47, 47, 0.3);
}

.modelo-card[data-modelo="industrial"] {
    border-color: rgba(56, 142, 60, 0.3);
}

.modelo-card[data-modelo="neoliberal"] {
    border-color: rgba(33, 150, 243, 0.3);
}

/* Estilos para tabletas */
@media (max-width: 1024px) {
    .leccion-historia-contemporaneo {
        zoom: 85%;
    }
    
    .simulator-container {
        grid-template-columns: 1fr;
        gap: 10px;
    }
    
    .modelos-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* Estilos para m칩viles peque침os */
@media (max-width: 480px) {
    .leccion-historia-contemporaneo {
        zoom: 80%;
        padding: 10px;
    }
    
    .timeline-controls {
        flex-direction: column;
    }
    
    .timeline-btn {
        width: 100%;
        margin-bottom: 5px;
    }
    
    .modelos-grid,
    .estadisticas-grid {
        grid-template-columns: 1fr;
    }
    
    .analisis-dimensiones {
        grid-template-columns: 1fr;
    }
    
    /* Ajustes espec칤ficos para gr치fico en m칩vil */
    .grafico-barras {
        padding-left: 30px;
    }
    
    .eje-y {
        width: 30px;
        font-size: 0.7rem;
    }
}
/* ========================================
       VARIABLES CYBERPUNK CONTEMPOR츼NEAS
    ======================================== */
    :root {
        /* PALETA NEON POR ETAPA */
        --neon-cardenismo: #D32F2F;          /* Rojo - Cardenismo */
        --neon-milagro: #388E3C;             /* Verde - Milagro */
        --neon-desarrollo: #FF9800;          /* Naranja - Desarrollismo */
        --neon-crisis: #7B1FA2;              /* P칰rpura - Crisis/68 */
        --neon-transicion: #2196F3;          /* Azul - Transici칩n */
        --neon-alternancia: #9C27B0;         /* Violeta - Alternancia */
        
        /* COLORES GENERALES */
        --neon-concepto: #39FF14;           /* Verde - Conceptos clave */
        --neon-interactivo: #FF00FF;        /* Rosa - Elementos interactivos */
        --neon-ejemplo: #00FFFF;            /* Cian - Ejemplos y casos */
        --neon-alerta: #FFFF00;             /* Amarillo - Advertencias/errores */
        --neon-evaluacion: #FF6B6B;         /* Rojo - Evaluaci칩n */
        --neon-dato: #00FF9D;               /* Verde datos - Informaci칩n */
        
        /* FONDOS JER츼RQUICOS */
        --bg-leccion: #0a0a1a;              /* Fondo principal oscuro */
        --bg-seccion: rgba(0, 0, 0, 0.5);   /* Fondo secciones */
        --bg-card: rgba(10, 10, 26, 0.8);   /* Tarjetas semitransparentes */
        
        /* TIPOGRAF칈A COMPACTA */
        --font-base: 0.9rem;
        --font-sm: 0.8rem;
        --font-md: 1rem;
        --font-lg: 1.1rem;
        --font-xl: 1.3rem;
        
        /* ESPACIADO COMPACTO */
        --space-sm: 5px;
        --space-md: 10px;
        --space-lg: 15px;
        --space-xl: 20px;
    }
    
    /* ========================================
       ESTILOS GENERALES COMPACTOS
    ======================================== */
    .leccion-historia-contemporaneo {
        position: relative;
        background-color: var(--bg-leccion);
        color: #e0f0ff;
        font-family: 'Courier New', monospace;
        padding: var(--space-xl);
        max-width: 1200px;
        margin: 0 auto;
        line-height: 1.5;
        font-size: var(--font-sm);
        zoom: 90%;
    }
    
    /* Grid background contempor치neo */
    .leccion-historia-contemporaneo::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: 
            linear-gradient(rgba(56, 142, 60, 0.02) 1px, transparent 1px),
            linear-gradient(90deg, rgba(56, 142, 60, 0.02) 1px, transparent 1px);
        background-size: 35px 35px;
        pointer-events: none;
        z-index: 0;
    }
    
    /* CABECERA COMPACTA */
    .leccion-header {
        text-align: center;
        margin-bottom: var(--space-lg);
        position: relative;
        z-index: 2;
        padding: var(--space-md);
    }
    
    .titulo-leccion {
        font-size: 1.7rem;
        color: var(--neon-milagro);
        margin-bottom: var(--space-sm);
        animation: glow 3s infinite;
    }
    
    .subtitulo {
        font-size: var(--font-md);
        color: var(--neon-ejemplo);
        opacity: 0.9;
        margin-bottom: var(--space-sm);
    }
    
    .badge-tiempo {
        display: flex;
        justify-content: center;
        gap: var(--space-sm);
        flex-wrap: wrap;
    }
    
    .badge {
        background: rgba(56, 142, 60, 0.1);
        padding: 3px 6px;
        border-radius: 10px;
        font-size: var(--font-sm);
        border: 1px solid var(--neon-milagro);
    }
    
    /* L칈NEA DE TIEMPO INTERACTIVA */
    .timeline-interactiva {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        margin-bottom: var(--space-lg);
        border: 1px solid var(--neon-interactivo);
    }
    
    .timeline-controls {
        display: flex;
        flex-wrap: wrap;
        gap: 5px;
        margin-bottom: var(--space-md);
    }
    
    .timeline-btn {
        padding: 6px 10px;
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.3);
        color: #e0f0ff;
        border-radius: 4px;
        cursor: pointer;
        font-size: var(--font-sm);
        transition: all 0.2s ease;
        flex-grow: 1;
        min-width: 80px;
    }
    
    .timeline-btn:hover {
        transform: translateY(-2px);
    }
    
    .timeline-visual {
        margin: var(--space-md) 0;
    }
    
    .timeline-bar {
        height: 30px;
        background: rgba(0, 0, 0, 0.5);
        border-radius: 15px;
        position: relative;
        margin: 20px 0 40px;
    }
    
    .timeline-marker {
        position: absolute;
        top: 35px;
        transform: translateX(-50%);
        color: var(--neon-dato);
        font-size: var(--font-sm);
    }
    
    .etapa-bar {
        position: absolute;
        height: 100%;
        border-radius: 15px;
        opacity: 0.7;
        transition: all 0.3s ease;
        cursor: pointer;
    }
    
    .etapa-bar:hover {
        opacity: 1;
        transform: scaleY(1.1);
    }
    
    .etapa-bar.cardenismo { background: var(--neon-cardenismo); }
    .etapa-bar.milagro { background: var(--neon-milagro); }
    .etapa-bar.desarrollo { background: var(--neon-desarrollo); }
    .etapa-bar.crisis { background: var(--neon-crisis); }
    .etapa-bar.transicion { background: var(--neon-transicion); }
    .etapa-bar.alternancia { background: var(--neon-alternancia); }
    
    .etapa-bar.active {
        opacity: 1;
        box-shadow: 0 0 10px currentColor;
    }
    
    /* ETAPAS DETALLADAS */
    .etapa-detalle {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        margin-bottom: var(--space-sm);
        border-left: 4px solid;
        animation: fadeIn 0.5s ease;
    }
    
    #detalleCardenismo { border-left-color: var(--neon-cardenismo); }
    #detalleMilagro { border-left-color: var(--neon-milagro); }
    #detalleCrisis { border-left-color: var(--neon-crisis); }
    #detalleAlternancia { border-left-color: var(--neon-alternancia); }
    
    .etapa-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: var(--space-md);
    }
    
    .etapa-badge {
        background: rgba(255, 255, 255, 0.1);
        padding: 3px 8px;
        border-radius: 12px;
        font-size: var(--font-sm);
    }
    
    .etapa-content {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: var(--space-md);
    }
    
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    /* ESTAD칈STICAS */
    .estadisticas-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: var(--space-sm);
        margin-top: var(--space-md);
    }
    
    .estadistica-card {
        background: rgba(56, 142, 60, 0.1);
        padding: var(--space-sm);
        border-radius: 4px;
        text-align: center;
        border: 1px solid var(--neon-milagro);
        cursor: pointer;
        transition: all 0.2s ease;
    }
    
    .estadistica-card:hover {
        transform: scale(1.05);
        background: rgba(56, 142, 60, 0.2);
    }
    
    .estadistica-valor {
        font-size: var(--font-lg);
        color: var(--neon-milagro);
        font-weight: bold;
    }
    
    /* MODELOS ECON칍MICOS */
    .modelos-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: var(--space-sm);
        margin-bottom: var(--space-lg);
    }
    
    .modelo-card {
        background: var(--bg-card);
        padding: var(--space-sm);
        border-radius: 6px;
        border: 1px solid rgba(255, 255, 255, 0.1);
        cursor: pointer;
        text-align: center;
        transition: all 0.2s ease;
    }
    
    .modelo-card:hover {
        transform: translateY(-3px);
        border-color: var(--neon-interactivo);
    }
    
    .modelo-icon {
        font-size: 1.5rem;
        margin-bottom: 4px;
    }
    
    /* SIMULADOR ECON칍MICO */
    .simulator-container {
        display: grid;
        grid-template-columns: 1fr 2fr 1fr;
        gap: var(--space-md);
        padding: var(--space-md);
        background: rgba(0, 0, 0, 0.7);
        border: 2px solid var(--neon-interactivo);
        border-radius: 6px;
        margin-bottom: var(--space-lg);
        font-size: var(--font-sm);
    }
    
    @media (max-width: 768px) {
        .simulator-container {
            grid-template-columns: 1fr;
        }
    }
    
    .grafico-container {
        background: var(--bg-card);
        padding: var(--space-md);
        border-radius: 6px;
        min-height: 300px;
        display: flex;
        flex-direction: column;
    }
    
    .grafico-barras {
        display: flex;
        align-items: flex-end;
        height: 200px;
        margin: var(--space-md) 0;
        gap: 15px;
        padding-left: 40px;
        position: relative;
    }
    
    .eje-y {
        position: absolute;
        left: 0;
        top: 0;
        bottom: 0;
        width: 40px;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        font-size: var(--font-sm);
        color: var(--neon-dato);
    }
    
    .barras-container {
        display: flex;
        gap: 15px;
        align-items: flex-end;
        flex-grow: 1;
    }
    
    .barra-anio {
        flex: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
        cursor: pointer;
    }
    
    .barra-pib {
        width: 80%;
        background: linear-gradient(to top, var(--neon-milagro), #4CAF50);
        border-radius: 4px 4px 0 0;
        min-height: 5px;
        transition: all 0.3s ease;
        position: relative;
    }
    
    .barra-pib::after {
        content: attr(data-value);
        position: absolute;
        top: -25px;
        left: 50%;
        transform: translateX(-50%);
        color: var(--neon-milagro);
        font-size: var(--font-sm);
        white-space: nowrap;
    }
    
    .barra-anio.active .barra-pib {
        background: linear-gradient(to top, var(--neon-interactivo), #FF00FF);
        box-shadow: 0 0 10px var(--neon-interactivo);
    }
    
    .barra-label {
        margin-top: 5px;
        font-size: var(--font-sm);
        color: var(--neon-dato);
    }
    
    /* PROBLEMAS DE EXAMEN */
    .analisis-dimensiones {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: var(--space-md);
        margin: var(--space-md) 0;
    }
    
    .dimension {
        background: rgba(255, 255, 255, 0.05);
        padding: var(--space-sm);
        border-radius: 4px;
        border-left: 3px solid var(--neon-cardenismo);
    }
    
    .linea-transicion {
        display: flex;
        justify-content: space-between;
        margin: var(--space-md) 0;
        flex-wrap: wrap;
        gap: var(--space-sm);
    }
    
    .punto-transicion {
        flex: 1;
        min-width: 100px;
        background: rgba(255, 255, 255, 0.05);
        padding: var(--space-sm);
        border-radius: 4px;
        text-align: center;
    }
    
    @media (max-width: 768px) {
        .linea-transicion {
            flex-direction: column;
        }
    }
    
    /* RESPONSIVE ADAPTACIONES */
    @media (max-width: 768px) {
        .leccion-historia-contemporaneo {
            padding: var(--space-md);
            font-size: var(--font-sm);
            zoom: 85%;
        }
        
        .titulo-leccion {
            font-size: 1.4rem;
        }
        
        .simulator-container {
            grid-template-columns: 1fr;
        }
        
        .modelos-grid,
        .estadisticas-grid {
            grid-template-columns: repeat(2, 1fr);
        }
        
        .etapa-content {
            grid-template-columns: 1fr;
        }
        
        .timeline-controls {
            flex-direction: column;
        }
        
        .timeline-btn {
            width: 100%;
        }
        
        .analisis-dimensiones {
            grid-template-columns: 1fr;
        }
    }
    
    @media (max-width: 480px) {
        .leccion-historia-contemporaneo {
            zoom: 80%;
            padding: 10px;
        }
        
        .titulo-leccion {
            font-size: 1.2rem;
        }
        
        .seccion-titulo {
            font-size: var(--font-md);
        }
        
        .modelos-grid,
        .estadisticas-grid {
            grid-template-columns: 1fr;
        }
        
        .barras-container {
            flex-direction: column;
            height: auto;
            align-items: stretch;
        }
        
        .barra-anio {
            flex-direction: row;
            align-items: center;
        }
        
        .barra-pib {
            width: var(--barra-width);
            height: 20px;
            border-radius: 4px;
        }
        
        .barra-pib::after {
            top: 50%;
            left: calc(100% + 10px);
            transform: translateY(-50%);
        }
        
        .barra-label {
            margin-top: 0;
            margin-left: 10px;
            min-width: 60px;
        }
    }
    
    /* ANIMACIONES */
    @keyframes glow {
        0%, 100% { text-shadow: 0 0 5px currentColor; }
        50% { text-shadow: 0 0 10px currentColor, 0 0 15px currentColor; }
    }
    
    @keyframes highlight {
        0% { background-color: rgba(57, 255, 20, 0); }
        50% { background-color: rgba(57, 255, 20, 0.1); }
        100% { background-color: rgba(57, 255, 20, 0); }
    }
    
    /* UTILIDADES */
    .highlight {
        animation: highlight 2s;
    }
    
    .active {
        filter: brightness(1.2);
    }


/* Ajustes responsivos espec칤ficos */
@media (max-width: 480px) {
    .leccion-programacion-bases-datos .simulator-controls {
        padding: var(--space-sm);
    }
    
    .leccion-programacion-bases-datos .sql-table {
        font-size: 0.75rem;
    }
    
    .leccion-programacion-bases-datos .editor-header {
        flex-direction: column;
        gap: var(--space-sm);
    }
}
:root {
    /* COLORES TEM츼TICOS POR TIPO DE CONTENIDO */
    --neon-concepto: #39ff14; /* Verde - Conceptos clave */
    --neon-interactivo: #ff00ff; /* Rosa - Elementos interactivos */
    --neon-ejemplo: #00ffff; /* Cian - Ejemplos y casos */
    --neon-alerta: #ffff00; /* Amarillo - Advertencias/errores */
    --neon-evaluacion: #ff6b6b; /* Rojo - Evaluaci칩n */
    --neon-dato: #00ff9d; /* Verde datos - Informaci칩n */

    /* FONDOS JER츼RQUICOS */
    --bg-leccion: #0a0a1a; /* Fondo principal oscuro */
    --bg-seccion: rgba(0, 0, 0, 0.5); /* Fondo secciones */
    --bg-card: rgba(10, 10, 26, 0.8); /* Tarjetas semitransparentes */

    /* TAMA칌OS OPTIMIZADOS - Compactados */
    --font-base: 0.9rem; /* Reducido de 1rem */
    --font-sm: 0.75rem; /* Reducido de 0.875rem */
    --font-md: 1rem; /* Reducido de 1.125rem */
    --font-lg: 1.1rem; /* Reducido de 1.25rem */

    /* ESPACIADO CONTROLADO - Compactado */
    --space-sm: 4px; /* Reducido de 8px */
    --space-md: 8px; /* Reducido de 16px */
    --space-lg: 12px; /* Reducido de 24px */
}

.leccion-programacion-bases-datos {
    background: var(--bg-leccion);
    font-family: monospace;
    color: #e0f0ff;
    padding: var(--space-md);
    position: relative;
    max-width: 100%;
    overflow-x: hidden;
}

.leccion-programacion-bases-datos::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: linear-gradient(rgba(57, 255, 20, 0.02) 1px, transparent 1px), linear-gradient(90deg, rgba(57, 255, 20, 0.02) 1px, transparent 1px);
    background-size: 20px 20px; /* Reducido para mejor densidad */
    pointer-events: none;
    z-index: 0;
}

.leccion-programacion-bases-datos::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(to bottom, transparent 50%, rgba(0, 255, 255, 0.01) 51%);
    background-size: 100% 2px; /* Reducido para performance */
    pointer-events: none;
    z-index: 1;
    animation: scanline 6s linear infinite;
}

@keyframes scanline {
    0% { background-position: 0 0; }
    100% { background-position: 0 -100%; }
}

.titulo-leccion {
    font-size: var(--font-lg);
    color: var(--neon-concepto);
    animation: glow 3s infinite;
}

@keyframes glow {
    0%, 100% { text-shadow: 0 0 3px currentColor; } /* Reducido shadow para compacto */
    50% { text-shadow: 0 0 6px currentColor, 0 0 9px currentColor; }
}

.seccion-titulo {
    font-size: var(--font-md);
    color: var(--neon-concepto);
    border-left: 3px solid var(--neon-interactivo); /* Reducido border */
    padding-left: var(--space-sm);
}

.objetivos-grid, .contexto-grid, .principios-grid, .comparativa-grid, .normalizacion-grid, .ejercicios-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); /* Minwidth reducido para mejor fit */
    gap: var(--space-sm);
}

.objetivo-card, .contexto-card, .principio, .comp-card, .nf-card, .ejercicio-card, .error-card {
    padding: var(--space-sm);
    background: var(--bg-card);
    border: 1px solid var(--neon-concepto); /* Border reducido */
    border-radius: 4px; /* Reducido radius */
    transition: transform 0.1s ease; /* Transici칩n m치s r치pida */
}

.objetivo-card:hover, .contexto-card:hover, .principio:hover, .comp-card:hover, .nf-card:hover, .ejercicio-card:hover, .error-card:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 6px rgba(57, 255, 20, 0.15); /* Shadow reducido */
}

.objetivo-checkbox {
    width: 16px; /* Reducido */
    height: 16px;
    border: 1px solid var(--neon-concepto);
    margin-right: var(--space-sm);
}

.dato-neon {
    color: var(--neon-dato);
    font-weight: bold;
}

.borde-neon-lateral {
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 3px; /* Reducido */
    background: var(--neon-interactivo);
}

.tabla-cyberpunk {
    width: 100%;
    border-collapse: collapse;
    font-size: var(--font-sm); /* Reducido para tablas */
}

.tabla-cyberpunk th, .tabla-cyberpunk td {
    padding: var(--space-sm);
    border: 1px solid var(--neon-alerta);
    text-align: left;
}

.tabla-cyberpunk th {
    background: var(--bg-seccion);
    color: var(--neon-concepto);
}

.tabla-cyberpunk tr:hover {
    background: rgba(255, 255, 0, 0.05); /* Opacidad reducida */
}

.simulator-container {
    display: grid;
    grid-template-columns: 1fr 2fr 1fr;
    gap: var(--space-md);
    padding: var(--space-md);
    background: rgba(0, 0, 0, 0.7);
    border: 1px solid var(--neon-interactivo); /* Border reducido */
    border-radius: 4px;
}

@media (max-width: 768px) {
    .simulator-container {
        grid-template-columns: 1fr;
        gap: var(--space-sm);
    }

    .objetivos-grid, .contexto-grid, .principios-grid, .comparativa-grid, .normalizacion-grid, .ejercicios-grid {
        grid-template-columns: 1fr; /* 1 columna en mobile para mejor distribuci칩n */
    }

    .leccion-programacion-bases-datos {
        padding: var(--space-sm); /* Padding reducido en mobile */
    }
}

@media (max-width: 480px) {
    :root {
        --font-base: 0.8rem; /* M치s compacto en small screens */
        --font-sm: 0.7rem;
    }
}

.control-group, .stats-sql, .consejos-sql {
    margin-bottom: var(--space-sm); /* Reducido */
}

.control-select, .control-input {
    width: 100%;
    padding: var(--space-sm);
    background: var(--bg-card);
    border: 1px solid var(--neon-interactivo);
    color: #e0f0ff;
    font-size: var(--font-sm);
}

.btn-ejemplo, .btn-editor, .btn-ejecutar, .btn-limpiar, .btn-guardar, .btn-normalizar, .btn-agregar, .btn-relacionar, .btn-ver-solucion, .btn-retry, .btn-guardar, .btn-proyecto, .btn-verificar {
    padding: var(--space-sm);
    background: var(--neon-interactivo);
    border: none;
    color: #000;
    cursor: pointer;
    transition: transform 0.1s ease;
    font-size: var(--font-sm);
}

.btn-ejemplo:hover, .btn-editor:hover, .btn-ejecutar:hover, .btn-limpiar:hover, .btn-guardar:hover, .btn-normalizar:hover, .btn-agregar:hover, .btn-relacionar:hover, .btn-ver-solucion:hover, .btn-retry:hover, .btn-guardar:hover, .btn-proyecto:hover, .btn-verificar:hover {
    transform: scale(1.03); /* Efecto reducido */
}

.sql-editor-container {
    background: var(--bg-seccion);
    padding: var(--space-sm);
    border-radius: 4px;
}

#sql-input {
    width: 100%;
    height: 150px; /* Reducido height para compacto */
    background: var(--bg-card);
    color: #e0f0ff;
    border: 1px solid var(--neon-alerta);
    font-size: var(--font-sm);
}

.resultado-container {
    margin-top: var(--space-md);
    background: var(--bg-seccion);
    padding: var(--space-sm);
    border-radius: 4px;
    max-height: 250px; /* Reducido */
    overflow: auto;
    font-size: var(--font-sm);
}

.data-card {
    padding: var(--space-sm);
    margin-bottom: var(--space-sm);
    background: var(--bg-card);
    border: 1px solid var(--neon-dato);
    font-size: var(--font-sm);
}

.quiz-question {
    margin-bottom: var(--space-md);
    padding: var(--space-sm);
    background: var(--bg-card);
    border: 1px solid var(--neon-evaluacion); /* Border reducido */
    border-radius: 4px;
}

.quiz-options {
    display: flex;
    flex-direction: column;
}

.quiz-option {
    padding: var(--space-sm);
    margin: var(--space-sm) 0 0 0;
    background: rgba(255, 255, 0, 0.05);
    border: 1px solid var(--neon-alerta);
    color: #e0f0ff;
    cursor: pointer;
    transition: all 0.1s ease;
    font-size: var(--font-sm);
}

.quiz-option:hover {
    background: rgba(255, 255, 0, 0.1);
    transform: translateX(2px); /* Efecto reducido */
}

.quiz-option.correct {
    background: rgba(57, 255, 20, 0.1);
    border-color: var(--neon-concepto);
}

.quiz-option.incorrect {
    background: rgba(255, 107, 107, 0.1);
    border-color: var(--neon-evaluacion);
}

.quiz-feedback {
    margin-top: var(--space-sm);
    padding: var(--space-sm);
    background: var(--bg-seccion);
    font-size: var(--font-sm);
}

.ejercicio-card, .problema-card, .error-card {
    margin-bottom: var(--space-md);
    padding: var(--space-sm);
}

.solucion-content, .error-content {
    margin-top: var(--space-sm);
}

.respuesta-area, .practica-input {
    width: 100%;
    height: 80px; /* Reducido */
    background: var(--bg-card);
    border: 1px solid var(--neon-interactivo);
    color: #e0f0ff;
    font-size: var(--font-sm);
}

.er-diagram-interactive {
    border: 1px solid var(--neon-concepto); /* Border reducido */
    width: 100%;
    height: 100%;
}

.skill-meter {
    margin-bottom: var(--space-md);
}

.skill-bar {
    height: 8px; /* Reducido */
    background: var(--bg-seccion);
    border-radius: 3px; /* Reducido */
    margin-bottom: var(--space-sm);
}

.skill-fill {
    height: 100%;
    background: var(--neon-evaluacion);
    border-radius: 3px;
    transition: width 0.1s ease;
}

.skill-slider {
    width: 100%;
}

pre {
    margin: var(--space-sm) 0;
    padding: 0;
    background: none;
    border: none;
    position: relative;
    counter-reset: line;
    overflow: hidden;
}

pre code {
    display: block;
    padding: var(--space-sm);
    background: linear-gradient(to bottom, #002b36, #003f4f); /* Fondo inspirado en estilos "bonitos" como Solarized Dark */
    border: 1px solid var(--neon-dato);
    border-radius: 4px;
    box-shadow: 0 2px 4px rgba(0, 255, 157, 0.2); /* Sombra suave para "bonito" */
    color: #93a1a1;
    font-family: 'Consolas', 'Monaco', monospace;
    font-size: var(--font-sm);
    line-height: 1.4; /* Mejor legibilidad */
    white-space: pre;
    overflow-x: auto;
}

pre code::before {
    content: counter(line);
    counter-increment: line;
    position: absolute;
    left: 0;
    width: 2em;
    text-align: right;
    padding-right: var(--space-sm);
    color: rgba(147, 161, 161, 0.5); /* N칰meros de l칤nea sutiles */
    background: rgba(0, 0, 0, 0.3);
    border-right: 1px solid var(--neon-dato);
}

pre code span {
    display: block;
    padding-left: 3em; /* Espacio para n칰meros de l칤nea */
}

pre code span:first-child::before {
    content: '1';
}

a.recurso-link {
    display: block;
    margin: var(--space-sm) 0;
    color: var(--neon-interactivo);
    text-decoration: none;
    font-size: var(--font-sm);
}

a.recurso-link:hover {
    text-decoration: underline;
}

/* Optimizaciones */
* {
    box-sizing: border-box;
}

body {
    margin: 0;
    font-size: var(--font-base);
}
:root {
    --neon-concepto: #39ff14;
    --neon-interactivo: #ff00ff;
    --neon-ejemplo: #00ffff;
    --neon-alerta: #ffff00;
    --neon-evaluacion: #ff6b6b;
    --neon-dato: #00ff9d;

    --bg-leccion: #0a0a1a;
    --bg-seccion: rgba(0, 0, 0, 0.5);
    --bg-card: rgba(10, 10, 26, 0.8);

    --font-base: 0.9rem;
    --font-sm: 0.75rem;
    --font-md: 1rem;
    --font-lg: 1.1rem;

    --space-sm: 4px;
    --space-md: 8px;
    --space-lg: 12px;
}

.leccion-programacion-python-sqlite {
    background: var(--bg-leccion);
    font-family: monospace;
    color: #e0f0ff;
    padding: var(--space-md);
    position: relative;
    max-width: 100%;
    overflow-x: hidden;
}

.leccion-programacion-python-sqlite::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: linear-gradient(rgba(57, 255, 20, 0.02) 1px, transparent 1px), linear-gradient(90deg, rgba(57, 255, 20, 0.02) 1px, transparent 1px);
    background-size: 20px 20px;
    pointer-events: none;
    z-index: 0;
}

.leccion-programacion-python-sqlite::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(to bottom, transparent 50%, rgba(0, 255, 255, 0.01) 51%);
    background-size: 100% 2px;
    pointer-events: none;
    z-index: 1;
    animation: scanline 6s linear infinite;
}

@keyframes scanline {
    0% { background-position: 0 0; }
    100% { background-position: 0 -100%; }
}

.titulo-leccion {
    font-size: var(--font-lg);
    color: var(--neon-concepto);
    animation: glow 3s infinite;
}

@keyframes glow {
    0%, 100% { text-shadow: 0 0 3px currentColor; }
    50% { text-shadow: 0 0 6px currentColor, 0 0 9px currentColor; }
}

.seccion-titulo {
    font-size: var(--font-md);
    color: var(--neon-concepto);
    border-left: 3px solid var(--neon-interactivo);
    padding-left: var(--space-sm);
}

.objetivos-grid, .contexto-grid, .principios-grid, .comparativa-grid, .pyodide-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-sm);
}

.objetivo-card, .contexto-card, .principio, .comp-card, .py-card {
    padding: var(--space-sm);
    background: var(--bg-card);
    border: 1px solid var(--neon-concepto);
    border-radius: 4px;
    transition: transform 0.1s ease;
}

.objetivo-card:hover, .contexto-card:hover, .principio:hover, .comp-card:hover, .py-card:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 6px rgba(57, 255, 20, 0.15);
}

.objetivo-checkbox {
    width: 16px;
    height: 16px;
    border: 1px solid var(--neon-concepto);
    margin-right: var(--space-sm);
}

.dato-neon {
    color: var(--neon-dato);
    font-weight: bold;
}

.borde-neon-lateral {
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 3px;
    background: var(--neon-interactivo);
}

.tabla-cyberpunk {
    width: 100%;
    border-collapse: collapse;
    font-size: var(--font-sm);
}

.tabla-cyberpunk th, .tabla-cyberpunk td {
    padding: var(--space-sm);
    border: 1px solid var(--neon-alerta);
    text-align: left;
}

.tabla-cyberpunk th {
    background: var(--bg-seccion);
    color: var(--neon-concepto);
}

.tabla-cyberpunk tr:hover {
    background: rgba(255, 255, 0, 0.05);
}

.simulator-container {
    display: grid;
    grid-template-columns: 1fr 2fr 1fr;
    gap: var(--space-md);
    padding: var(--space-md);
    background: rgba(0, 0, 0, 0.7);
    border: 1px solid var(--neon-interactivo);
    border-radius: 4px;
}

@media (max-width: 768px) {
    .simulator-container {
        grid-template-columns: 1fr;
        gap: var(--space-sm);
    }
}

.python-buttons {
    display: flex;
    gap: var(--space-sm);
}

#python-code {
    width: 100%;
    height: 150px;
    background: var(--bg-card);
    color: #e0f0ff;
    border: 1px solid var(--neon-alerta);
    font-size: var(--font-sm);
}

#python-output {
    max-height: 250px;
    overflow: auto;
    font-size: var(--font-sm);
}

.data-card {
    padding: var(--space-sm);
    margin-bottom: var(--space-sm);
    background: var(--bg-card);
    border: 1px solid var(--neon-dato);
    font-size: var(--font-sm);
}

.quiz-question {
    margin-bottom: var(--space-md);
    padding: var(--space-sm);
    background: var(--bg-card);
    border: 1px solid var(--neon-evaluacion);
    border-radius: 4px;
}

.quiz-option {
    padding: var(--space-sm);
    margin: var(--space-sm) 0 0 0;
    background: rgba(255, 255, 0, 0.05);
    border: 1px solid var(--neon-alerta);
    color: #e0f0ff;
    cursor: pointer;
    transition: all 0.1s ease;
    font-size: var(--font-sm);
}

.quiz-option:hover {
    background: rgba(255, 255, 0, 0.1);
    transform: translateX(2px);
}

.quiz-feedback {
    margin-top: var(--space-sm);
    padding: var(--space-sm);
    background: var(--bg-seccion);
    font-size: var(--font-sm);
}

.error-card {
    margin-bottom: var(--space-md);
    padding: var(--space-sm);
}

.respuesta-area {
    width: 100%;
    height: 80px;
    background: var(--bg-card);
    border: 1px solid var(--neon-interactivo);
    color: #e0f0ff;
    font-size: var(--font-sm);
}

.skill-bar {
    height: 8px;
    background: var(--bg-seccion);
    border-radius: 3px;
    margin-bottom: var(--space-sm);
}

.skill-fill {
    height: 100%;
    background: var(--neon-evaluacion);
    border-radius: 3px;
    transition: width 0.1s ease;
}

pre code {
    display: block;
    padding: var(--space-sm);
    background: linear-gradient(to bottom, #002b36, #003f4f);
    border: 1px solid var(--neon-dato);
    border-radius: 4px;
    box-shadow: 0 2px 4px rgba(0, 255, 157, 0.2);
    color: #93a1a1;
    font-family: 'Consolas', 'Monaco', monospace;
    font-size: var(--font-sm);
    line-height: 1.4;
    white-space: pre;
    overflow-x: auto;
    position: relative;
    counter-reset: line;
}

pre code span {
    display: block;
    padding-left: 3em;
}

pre code span::before {
    content: counter(line);
    counter-increment: line;
    position: absolute;
    left: 0;
    width: 2em;
    text-align: right;
    color: rgba(147, 161, 161, 0.5);
    background: rgba(0, 0, 0, 0.3);
    border-right: 1px solid var(--neon-dato);
    padding-right: var(--space-sm);
}

* {
    box-sizing: border-box;
}

body {
    margin: 0;
    font-size: var(--font-base);
}

:root {
    --neon-concepto: #39ff14;
    --neon-interactivo: #ff00ff;
    --neon-ejemplo: #00ffff;
    --neon-alerta: #ffff00;
    --neon-evaluacion: #ff6b6b;
    --neon-dato: #00ff9d;

    --bg-leccion: #0a0a1a;
    --bg-seccion: rgba(0, 0, 0, 0.5);
    --bg-card: rgba(10, 10, 26, 0.8);

    --font-base: 0.9rem;
    --font-sm: 0.75rem;
    --font-md: 1rem;
    --font-lg: 1.1rem;

    --space-sm: 4px;
    --space-md: 8px;
    --space-lg: 12px;
}

.leccion-programacion-python-sqlite {
    background: var(--bg-leccion);
    font-family: monospace;
    color: #e0f0ff;
    padding: var(--space-md);
    position: relative;
    max-width: 100%;
    overflow-x: hidden;
}

.leccion-programacion-python-sqlite::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: linear-gradient(rgba(57, 255, 20, 0.02) 1px, transparent 1px), linear-gradient(90deg, rgba(57, 255, 20, 0.02) 1px, transparent 1px);
    background-size: 20px 20px;
    pointer-events: none;
    z-index: 0;
}

.leccion-programacion-python-sqlite::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(to bottom, transparent 50%, rgba(0, 255, 255, 0.01) 51%);
    background-size: 100% 2px;
    pointer-events: none;
    z-index: 1;
    animation: scanline 6s linear infinite;
}

@keyframes scanline {
    0% { background-position: 0 0; }
    100% { background-position: 0 -100%; }
}

.titulo-leccion {
    font-size: var(--font-lg);
    color: var(--neon-concepto);
    animation: glow 3s infinite;
}

@keyframes glow {
    0%, 100% { text-shadow: 0 0 3px currentColor; }
    50% { text-shadow: 0 0 6px currentColor, 0 0 9px currentColor; }
}

.seccion-titulo {
    font-size: var(--font-md);
    color: var(--neon-concepto);
    border-left: 3px solid var(--neon-interactivo);
    padding-left: var(--space-sm);
}

.objetivos-grid, .contexto-grid, .principios-grid, .comparativa-grid, .pyodide-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-sm);
}

.objetivo-card, .contexto-card, .principio, .comp-card, .py-card {
    padding: var(--space-sm);
    background: var(--bg-card);
    border: 1px solid var(--neon-concepto);
    border-radius: 4px;
    transition: transform 0.1s ease;
}

.objetivo-card:hover, .contexto-card:hover, .principio:hover, .comp-card:hover, .py-card:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 6px rgba(57, 255, 20, 0.15);
}

.objetivo-checkbox {
    width: 16px;
    height: 16px;
    border: 1px solid var(--neon-concepto);
    margin-right: var(--space-sm);
}

.dato-neon {
    color: var(--neon-dato);
    font-weight: bold;
}

.borde-neon-lateral {
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 3px;
    background: var(--neon-interactivo);
}

.tabla-cyberpunk {
    width: 100%;
    border-collapse: collapse;
    font-size: var(--font-sm);
}

.tabla-cyberpunk th, .tabla-cyberpunk td {
    padding: var(--space-sm);
    border: 1px solid var(--neon-alerta);
    text-align: left;
}

.tabla-cyberpunk th {
    background: var(--bg-seccion);
    color: var(--neon-concepto);
}

.tabla-cyberpunk tr:hover {
    background: rgba(255, 255, 0, 0.05);
}

.simulator-container {
    display: grid;
    grid-template-columns: 1fr 2fr 1fr;
    gap: var(--space-md);
    padding: var(--space-md);
    background: rgba(0, 0, 0, 0.7);
    border: 1px solid var(--neon-interactivo);
    border-radius: 4px;
}

@media (max-width: 768px) {
    .simulator-container {
        grid-template-columns: 1fr;
        gap: var(--space-sm);
    }
}

.python-buttons {
    display: flex;
    gap: var(--space-sm);
}

#python-code {
    width: 100%;
    height: 150px;
    background: var(--bg-card);
    color: #e0f0ff;
    border: 1px solid var(--neon-alerta);
    font-size: var(--font-sm);
}

#python-output {
    max-height: 250px;
    overflow: auto;
    font-size: var(--font-sm);
}

.data-card {
    padding: var(--space-sm);
    margin-bottom: var(--space-sm);
    background: var(--bg-card);
    border: 1px solid var(--neon-dato);
    font-size: var(--font-sm);
}

.quiz-question {
    margin-bottom: var(--space-md);
    padding: var(--space-sm);
    background: var(--bg-card);
    border: 1px solid var(--neon-evaluacion);
    border-radius: 4px;
}

.quiz-option {
    padding: var(--space-sm);
    margin: var(--space-sm) 0 0 0;
    background: rgba(255, 255, 0, 0.05);
    border: 1px solid var(--neon-alerta);
    color: #e0f0ff;
    cursor: pointer;
    transition: all 0.1s ease;
    font-size: var(--font-sm);
}

.quiz-option:hover {
    background: rgba(255, 255, 0, 0.1);
    transform: translateX(2px);
}

.quiz-feedback {
    margin-top: var(--space-sm);
    padding: var(--space-sm);
    background: var(--bg-seccion);
    font-size: var(--font-sm);
}

.error-card {
    margin-bottom: var(--space-md);
    padding: var(--space-sm);
}

.respuesta-area {
    width: 100%;
    height: 80px;
    background: var(--bg-card);
    border: 1px solid var(--neon-interactivo);
    color: #e0f0ff;
    font-size: var(--font-sm);
}

.skill-bar {
    height: 8px;
    background: var(--bg-seccion);
    border-radius: 3px;
    margin-bottom: var(--space-sm);
}

.skill-fill {
    height: 100%;
    background: var(--neon-evaluacion);
    border-radius: 3px;
    transition: width 0.1s ease;
}

pre code {
    display: block;
    padding: var(--space-sm);
    background: linear-gradient(to bottom, #002b36, #003f4f);
    border: 1px solid var(--neon-dato);
    border-radius: 4px;
    box-shadow: 0 2px 4px rgba(0, 255, 157, 0.2);
    color: #93a1a1;
    font-family: 'Consolas', 'Monaco', monospace;
    font-size: var(--font-sm);
    line-height: 1.4;
    white-space: pre;
    overflow-x: auto;
    position: relative;
    counter-reset: line;
}

pre code span {
    display: block;
    padding-left: 3em;
}

pre code span::before {
    content: counter(line);
    counter-increment: line;
    position: absolute;
    left: 0;
    width: 2em;
    text-align: right;
    color: rgba(147, 161, 161, 0.5);
    background: rgba(0, 0, 0, 0.3);
    border-right: 1px solid var(--neon-dato);
    padding-right: var(--space-sm);
}

* {
    box-sizing: border-box;
}

body {
    margin: 0;
    font-size: var(--font-base);
}
:root {
    --neon-concepto: #39ff14;
    --neon-interactivo: #ff00ff;
    --neon-ejemplo: #00ffff;
    --neon-alerta: #ffff00;
    --neon-evaluacion: #ff6b6b;
    --neon-dato: #00ff9d;

    --bg-leccion: #0a0a1a;
    --bg-seccion: rgba(0, 0, 0, 0.5);
    --bg-card: rgba(10, 10, 26, 0.8);

    --font-base: 0.9rem;
    --font-sm: 0.75rem;
    --font-md: 1rem;
    --font-lg: 1.1rem;

    --space-sm: 4px;
    --space-md: 8px;
    --space-lg: 12px;
}

.leccion-programacion-bases-datos-no-relacionales-mongodb {
    background: var(--bg-leccion);
    font-family: monospace;
    color: #e0f0ff;
    padding: var(--space-md);
    position: relative;
    max-width: 100%;
    overflow-x: hidden;
}

.leccion-programacion-bases-datos-no-relacionales-mongodb::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: linear-gradient(rgba(57, 255, 20, 0.02) 1px, transparent 1px), linear-gradient(90deg, rgba(57, 255, 20, 0.02) 1px, transparent 1px);
    background-size: 20px 20px;
    pointer-events: none;
    z-index: 0;
}

.leccion-programacion-bases-datos-no-relacionales-mongodb::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(to bottom, transparent 50%, rgba(0, 255, 255, 0.01) 51%);
    background-size: 100% 2px;
    pointer-events: none;
    z-index: 1;
    animation: scanline 6s linear infinite;
}

@keyframes scanline {
    0% { background-position: 0 0; }
    100% { background-position: 0 -100%; }
}

.titulo-leccion {
    font-size: var(--font-lg);
    color: var(--neon-concepto);
    animation: glow 3s infinite;
}

@keyframes glow {
    0%, 100% { text-shadow: 0 0 3px currentColor; }
    50% { text-shadow: 0 0 6px currentColor, 0 0 9px currentColor; }
}

.seccion-titulo {
    font-size: var(--font-md);
    color: var(--neon-concepto);
    border-left: 3px solid var(--neon-interactivo);
    padding-left: var(--space-sm);
}

.objetivos-grid, .contexto-grid, .principios-grid, .comparativa-grid, .advanced-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-sm);
}

.objetivo-card, .contexto-card, .principio, .comp-card, .adv-card {
    padding: var(--space-sm);
    background: var(--bg-card);
    border: 1px solid var(--neon-concepto);
    border-radius: 4px;
    transition: transform 0.1s ease;
}

.objetivo-card:hover, .contexto-card:hover, .principio:hover, .comp-card:hover, .adv-card:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 6px rgba(57, 255, 20, 0.15);
}

.objetivo-checkbox {
    width: 16px;
    height: 16px;
    border: 1px solid var(--neon-concepto);
    margin-right: var(--space-sm);
}

.dato-neon {
    color: var(--neon-dato);
    font-weight: bold;
}

.borde-neon-lateral {
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 3px;
    background: var(--neon-interactivo);
}

.tabla-cyberpunk {
    width: 100%;
    border-collapse: collapse;
    font-size: var(--font-sm);
}

.tabla-cyberpunk th, .tabla-cyberpunk td {
    padding: var(--space-sm);
    border: 1px solid var(--neon-alerta);
    text-align: left;
}

.tabla-cyberpunk th {
    background: var(--bg-seccion);
    color: var(--neon-concepto);
}

.tabla-cyberpunk tr:hover {
    background: rgba(255, 255, 0, 0.05);
}

.simulator-container {
    display: grid;
    grid-template-columns: 1fr 2fr 1fr;
    gap: var(--space-md);
    padding: var(--space-md);
    background: rgba(0, 0, 0, 0.7);
    border: 1px solid var(--neon-interactivo);
    border-radius: 4px;
}

@media (max-width: 768px) {
    .simulator-container {
        grid-template-columns: 1fr;
        gap: var(--space-sm);
    }
}

.mongo-buttons {
    display: flex;
    gap: var(--space-sm);
}

#mongo-input {
    width: 100%;
    height: 150px;
    background: var(--bg-card);
    color: #e0f0ff;
    border: 1px solid var(--neon-alerta);
    font-size: var(--font-sm);
}

#mongo-output {
    max-height: 250px;
    overflow: auto;
    font-size: var(--font-sm);
}

.data-card {
    padding: var(--space-sm);
    margin-bottom: var(--space-sm);
    background: var(--bg-card);
    border: 1px solid var(--neon-dato);
    font-size: var(--font-sm);
}

.quiz-question {
    margin-bottom: var(--space-md);
    padding: var(--space-sm);
    background: var(--bg-card);
    border: 1px solid var(--neon-evaluacion);
    border-radius: 4px;
}

.quiz-option {
    padding: var(--space-sm);
    margin: var(--space-sm) 0 0 0;
    background: rgba(255, 255, 0, 0.05);
    border: 1px solid var(--neon-alerta);
    color: #e0f0ff;
    cursor: pointer;
    transition: all 0.1s ease;
    font-size: var(--font-sm);
}

.quiz-option:hover {
    background: rgba(255, 255, 0, 0.1);
    transform: translateX(2px);
}

.quiz-feedback {
    margin-top: var(--space-sm);
    padding: var(--space-sm);
    background: var(--bg-seccion);
    font-size: var(--font-sm);
}

.error-card {
    margin-bottom: var(--space-md);
    padding: var(--space-sm);
}

.respuesta-area {
    width: 100%;
    height: 80px;
    background: var(--bg-card);
    border: 1px solid var(--neon-interactivo);
    color: #e0f0ff;
    font-size: var(--font-sm);
}

.skill-bar {
    height: 8px;
    background: var(--bg-seccion);
    border-radius: 3px;
    margin-bottom: var(--space-sm);
}

.skill-fill {
    height: 100%;
    background: var(--neon-evaluacion);
    border-radius: 3px;
    transition: width 0.1s ease;
}

pre code {
    display: block;
    padding: var(--space-sm);
    background: linear-gradient(to bottom, #002b36, #003f4f);
    border: 1px solid var(--neon-dato);
    border-radius: 4px;
    box-shadow: 0 2px 4px rgba(0, 255, 157, 0.2);
    color: #93a1a1;
    font-family: 'Consolas', 'Monaco', monospace;
    font-size: var(--font-sm);
    line-height: 1.4;
    white-space: pre;
    overflow-x: auto;
    position: relative;
    counter-reset: line;
}

pre code span {
    display: block;
    padding-left: 3em;
}

pre code span::before {
    content: counter(line);
    counter-increment: line;
    position: absolute;
    left: 0;
    width: 2em;
    text-align: right;
    color: rgba(147, 161, 161, 0.5);
    background: rgba(0, 0, 0, 0.3);
    border-right: 1px solid var(--neon-dato);
    padding-right: var(--space-sm);
}

* {
    box-sizing: border-box;
}

body {
    margin: 0;
    font-size: var(--font-base);
}
:root {
    /* COLORES TEM츼TICOS POR TIPO DE CONTENIDO */
    --neon-concepto: #39ff14;     /* Verde - Conceptos clave */
    --neon-interactivo: #ff00ff;  /* Rosa - Elementos interactivos */
    --neon-ejemplo: #00ffff;      /* Cian - Ejemplos y casos */
    --neon-alerta: #ffff00;       /* Amarillo - Advertencias/errores */
    --neon-evaluacion: #ff6b6b;   /* Rojo - Evaluaci칩n */
    --neon-dato: #00ff9d;         /* Verde datos - Informaci칩n */

    /* FONDOS JER츼RQUICOS */
    --bg-leccion: #0a0a1a;        /* Fondo principal oscuro */
    --bg-seccion: rgba(0, 0, 0, 0.5);
    --bg-card: rgba(10, 10, 26, 0.8);

    /* TAMA칌OS OPTIMIZADOS - Compactos */
    --font-base: 0.9rem;
    --font-sm: 0.75rem;
    --font-md: 1rem;
    --font-lg: 1.1rem;

    /* ESPACIADO CONTROLADO - Compacto */
    --space-sm: 4px;
    --space-md: 8px;
    --space-lg: 12px;
}

.leccion-programacion-metodologias-scrum {
    background: var(--bg-leccion);
    font-family: monospace;
    color: #e0f0ff;
    padding: var(--space-md);
    position: relative;
    max-width: 100%;
    overflow-x: hidden;
}

.leccion-programacion-metodologias-scrum::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background-image: 
        linear-gradient(rgba(57, 255, 20, 0.02) 1px, transparent 1px),
        linear-gradient(90deg, rgba(57, 255, 20, 0.02) 1px, transparent 1px);
    background-size: 20px 20px;
    pointer-events: none;
    z-index: 0;
}

.leccion-programacion-metodologias-scrum::after {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background: linear-gradient(to bottom, transparent 50%, rgba(0, 255, 255, 0.01) 51%);
    background-size: 100% 2px;
    pointer-events: none;
    z-index: 1;
    animation: scanline 6s linear infinite;
}

@keyframes scanline {
    0% { background-position: 0 0; }
    100% { background-position: 0 -100%; }
}

.titulo-leccion {
    font-size: var(--font-lg);
    color: var(--neon-concepto);
    animation: glow 3s infinite alternate;
}

@keyframes glow {
    from { text-shadow: 0 0 3px currentColor; }
    to { text-shadow: 0 0 6px currentColor, 0 0 9px currentColor; }
}

.seccion-titulo {
    font-size: var(--font-md);
    color: var(--neon-concepto);
    border-left: 3px solid var(--neon-interactivo);
    padding-left: var(--space-sm);
}

.objetivos-grid, .contexto-grid, .principios-grid, .comparativa-grid, .advanced-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-sm);
}

.objetivo-card, .contexto-card, .principio, .comp-card, .adv-card {
    padding: var(--space-sm);
    background: var(--bg-card);
    border: 1px solid var(--neon-concepto);
    border-radius: 4px;
    transition: transform 0.1s ease;
}

.objetivo-card:hover, .contexto-card:hover, .principio:hover, .comp-card:hover, .adv-card:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 6px rgba(57, 255, 20, 0.15);
}

.objetivo-checkbox {
    width: 16px;
    height: 16px;
    border: 1px solid var(--neon-concepto);
    margin-right: var(--space-sm);
    display: inline-block;
    vertical-align: middle;
}

.dato-neon {
    color: var(--neon-dato);
    font-weight: bold;
}

.borde-neon-lateral {
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 3px;
    background: var(--neon-interactivo);
}

.tabla-cyberpunk {
    width: 100%;
    border-collapse: collapse;
    font-size: var(--font-sm);
}

.tabla-cyberpunk th, .tabla-cyberpunk td {
    padding: var(--space-sm);
    border: 1px solid var(--neon-alerta);
    text-align: left;
}

.tabla-cyberpunk th {
    background: var(--bg-seccion);
    color: var(--neon-concepto);
}

.tabla-cyberpunk tr:hover {
    background: rgba(255, 255, 0, 0.05);
}

.simulator-container {
    display: grid;
    grid-template-columns: 1fr 2fr 1fr;
    gap: var(--space-md);
    padding: var(--space-md);
    background: rgba(0, 0, 0, 0.7);
    border: 1px solid var(--neon-interactivo);
    border-radius: 4px;
}

@media (max-width: 768px) {
    .simulator-container {
        grid-template-columns: 1fr;
    }
    .objetivos-grid, .contexto-grid, .principios-grid, .comparativa-grid, .advanced-grid {
        grid-template-columns: 1fr;
    }
}

.scrum-board {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: var(--space-md);
}

.scrum-column {
    background: var(--bg-card);
    border: 1px solid var(--neon-interactivo);
    border-radius: 4px;
    padding: var(--space-sm);
    min-height: 300px;
}

.scrum-column h4 {
    color: var(--neon-concepto);
    text-align: center;
    margin-bottom: var(--space-sm);
}

.scrum-item {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid var(--neon-ejemplo);
    padding: var(--space-sm);
    margin-bottom: var(--space-sm);
    cursor: grab;
    border-radius: 4px;
    font-size: var(--font-sm);
}

.scrum-item:active {
    cursor: grabbing;
}

#sprint-result {
    text-align: center;
    font-size: var(--font-md);
    margin-top: var(--space-md);
    min-height: 30px;
}

.quiz-question {
    margin-bottom: var(--space-md);
    padding: var(--space-sm);
    background: var(--bg-card);
    border: 1px solid var(--neon-evaluacion);
    border-radius: 4px;
}

.quiz-option {
    display: block;
    padding: var(--space-sm);
    margin: var(--space-sm) 0 0 0;
    background: rgba(255, 255, 0, 0.05);
    border: 1px solid var(--neon-alerta);
    cursor: pointer;
    transition: all 0.1s;
    font-size: var(--font-sm);
}

.quiz-option:hover {
    background: rgba(255, 255, 0, 0.1);
    transform: translateX(4px);
}

.quiz-option.correct {
    background: rgba(57, 255, 20, 0.2);
    border-color: var(--neon-concepto);
}

.quiz-option.incorrect {
    background: rgba(255, 107, 107, 0.2);
    border-color: var(--neon-evaluacion);
}

.quiz-feedback {
    margin-top: var(--space-sm);
    padding: var(--space-sm);
    background: var(--bg-seccion);
    font-size: var(--font-sm);
}

.error-card {
    margin-bottom: var(--space-md);
    background: var(--bg-card);
    border: 1px solid var(--neon-alerta);
    border-radius: 4px;
}

.error-header {
    padding: var(--space-sm);
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.collapse-icon {
    font-weight: bold;
    color: var(--neon-alerta);
}

.error-content {
    padding: var(--space-sm);
}

.respuesta-area, .practica-input {
    width: 100%;
    height: 80px;
    background: var(--bg-card);
    border: 1px solid var(--neon-interactivo);
    color: #e0f0ff;
    font-size: var(--font-sm);
    margin-top: var(--space-sm);
}

.skill-bar {
    height: 8px;
    background: var(--bg-seccion);
    border-radius: 3px;
    overflow: hidden;
    margin: var(--space-sm) 0;
}

.skill-fill {
    height: 100%;
    background: var(--neon-evaluacion);
    width: 0%;
    transition: width 0.3s ease;
}

.er-diagram-interactive {
    width: 100%;
    height: auto;
    background: transparent;
}

pre code {
    display: block;
    padding: var(--space-sm);
    background: linear-gradient(to bottom, #002b36, #003f4f);
    border: 1px solid var(--neon-dato);
    border-radius: 4px;
    box-shadow: 0 2px 4px rgba(0, 255, 157, 0.2);
    color: #93a1a1;
    font-family: 'Consolas', 'Monaco', monospace;
    font-size: var(--font-sm);
    line-height: 1.4;
    white-space: pre;
    overflow-x: auto;
    position: relative;
    counter-reset: line;
}

pre code span {
    display: block;
    padding-left: 3em;
}

pre code span::before {
    content: counter(line);
    counter-increment: line;
    position: absolute;
    left: 0;
    width: 2em;
    text-align: right;
    color: rgba(147, 161, 161, 0.5);
    background: rgba(0, 0, 0, 0.3);
    border-right: 1px solid var(--neon-dato);
    padding-right: var(--space-sm);
}

* { box-sizing: border-box; }
body { margin: 0; font-size: var(--font-base); }

:root {
    /* COLORES TEM츼TICOS POR TIPO DE CONTENIDO */
    --neon-concepto: #39ff14;     /* Verde - Conceptos clave */
    --neon-interactivo: #ff00ff;  /* Rosa - Elementos interactivos */
    --neon-ejemplo: #00ffff;      /* Cian - Ejemplos y casos */
    --neon-alerta: #ffff00;       /* Amarillo - Advertencias/errores */
    --neon-evaluacion: #ff6b6b;   /* Rojo - Evaluaci칩n */
    --neon-dato: #00ff9d;         /* Verde datos - Informaci칩n */

    /* FONDOS JER츼RQUICOS */
    --bg-leccion: #0a0a1a;        /* Fondo principal oscuro */
    --bg-seccion: rgba(0, 0, 0, 0.5);
    --bg-card: rgba(10, 10, 26, 0.8);

    /* TAMA칌OS OPTIMIZADOS - Compactos */
    --font-base: 0.9rem;
    --font-sm: 0.75rem;
    --font-md: 1rem;
    --font-lg: 1.1rem;

    /* ESPACIADO CONTROLADO - Compacto */
    --space-sm: 4px;
    --space-md: 8px;
    --space-lg: 12px;
}

.leccion-programacion-desarrollo-aplicaciones-web {
    background: var(--bg-leccion);
    font-family: monospace;
    color: #e0f0ff;
    padding: var(--space-md);
    position: relative;
    max-width: 100%;
    overflow-x: hidden;
}

.leccion-programacion-desarrollo-aplicaciones-web::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background-image: 
        linear-gradient(rgba(57, 255, 20, 0.02) 1px, transparent 1px),
        linear-gradient(90deg, rgba(57, 255, 20, 0.02) 1px, transparent 1px);
    background-size: 20px 20px;
    pointer-events: none;
    z-index: 0;
}

.leccion-programacion-desarrollo-aplicaciones-web::after {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background: linear-gradient(to bottom, transparent 50%, rgba(0, 255, 255, 0.01) 51%);
    background-size: 100% 2px;
    pointer-events: none;
    z-index: 1;
    animation: scanline 6s linear infinite;
}

@keyframes scanline {
    0% { background-position: 0 0; }
    100% { background-position: 0 -100%; }
}

.titulo-leccion {
    font-size: var(--font-lg);
    color: var(--neon-concepto);
    animation: glow 3s infinite alternate;
}

@keyframes glow {
    from { text-shadow: 0 0 3px currentColor; }
    to { text-shadow: 0 0 6px currentColor, 0 0 9px currentColor; }
}

.seccion-titulo {
    font-size: var(--font-md);
    color: var(--neon-concepto);
    border-left: 3px solid var(--neon-interactivo);
    padding-left: var(--space-sm);
}

.objetivos-grid, .contexto-grid, .principios-grid, .comparativa-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-sm);
}

.objetivo-card, .contexto-card, .principio, .comp-card {
    padding: var(--space-sm);
    background: var(--bg-card);
    border: 1px solid var(--neon-concepto);
    border-radius: 4px;
    transition: transform 0.1s ease;
}

.objetivo-card:hover, .contexto-card:hover, .principio:hover, .comp-card:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 6px rgba(57, 255, 20, 0.15);
}

.objetivo-checkbox {
    width: 16px;
    height: 16px;
    border: 1px solid var(--neon-concepto);
    margin-right: var(--space-sm);
    display: inline-block;
    vertical-align: middle;
}

.dato-neon {
    color: var(--neon-dato);
    font-weight: bold;
}

.borde-neon-lateral {
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 3px;
    background: var(--neon-interactivo);
}

.tabla-cyberpunk {
    width: 100%;
    border-collapse: collapse;
    font-size: var(--font-sm);
}

.tabla-cyberpunk th, .tabla-cyberpunk td {
    padding: var(--space-sm);
    border: 1px solid var(--neon-alerta);
    text-align: left;
}

.tabla-cyberpunk th {
    background: var(--bg-seccion);
    color: var(--neon-concepto);
}

.tabla-cyberpunk tr:hover {
    background: rgba(255, 255, 0, 0.05);
}

.simulator-container {
    display: grid;
    grid-template-columns: 1fr 2fr 1fr;
    gap: var(--space-md);
    padding: var(--space-md);
    background: rgba(0, 0, 0, 0.7);
    border: 1px solid var(--neon-interactivo);
    border-radius: 4px;
}

@media (max-width: 768px) {
    .simulator-container {
        grid-template-columns: 1fr;
    }
    .objetivos-grid, .contexto-grid, .principios-grid, .comparativa-grid {
        grid-template-columns: 1fr;
    }
}

.control-input {
    width: 100%;
    padding: var(--space-sm);
    background: var(--bg-card);
    border: 1px solid var(--neon-alerta);
    color: #e0f0ff;
    font-size: var(--font-sm);
    border-radius: 4px;
}

.controles-form {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

@media (min-width: 768px) {
    .controles-form {
        flex-direction: row;
    }
}

.productos-lista {
    background: var(--bg-card);
    border: 1px solid var(--neon-ejemplo);
    padding: var(--space-sm);
    min-height: 200px;
    border-radius: 4px;
}

.productos-lista .placeholder {
    color: #888;
    font-style: italic;
    text-align: center;
    margin: var(--space-md) 0;
}

.btn-ejecutar, .btn-limpiar, .btn-eliminar {
    padding: var(--space-sm) var(--space-md);
    background: var(--neon-interactivo);
    border: none;
    color: white;
    cursor: pointer;
    border-radius: 4px;
    font-size: var(--font-sm);
    transition: background 0.2s;
}

.btn-ejecutar:hover { background: #ff33ff; }
.btn-limpiar:hover { background: #ffff33; color: black; }
.btn-eliminar { background: var(--neon-evaluacion); }
.btn-eliminar:hover { background: #ff4444; }

.resultado-content {
    margin-top: var(--space-md);
    min-height: 40px;
    text-align: center;
    font-size: var(--font-md);
}

.quiz-question {
    margin-bottom: var(--space-md);
    padding: var(--space-sm);
    background: var(--bg-card);
    border: 1px solid var(--neon-evaluacion);
    border-radius: 4px;
}

.quiz-option {
    display: block;
    padding: var(--space-sm);
    margin: var(--space-sm) 0 0 0;
    background: rgba(255, 255, 0, 0.05);
    border: 1px solid var(--neon-alerta);
    cursor: pointer;
    transition: all 0.1s;
    font-size: var(--font-sm);
}

.quiz-option:hover {
    background: rgba(255, 255, 0, 0.1);
    transform: translateX(4px);
}

.quiz-option.correct {
    background: rgba(57, 255, 20, 0.2);
    border-color: var(--neon-concepto);
}

.quiz-option.incorrect {
    background: rgba(255, 107, 107, 0.2);
    border-color: var(--neon-evaluacion);
}

.quiz-feedback {
    margin-top: var(--space-sm);
    padding: var(--space-sm);
    background: var(--bg-seccion);
    font-size: var(--font-sm);
}

.error-card {
    margin-bottom: var(--space-md);
    background: var(--bg-card);
    border: 1px solid var(--neon-alerta);
    border-radius: 4px;
}

.error-header {
    padding: var(--space-sm);
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.collapse-icon {
    font-weight: bold;
    color: var(--neon-alerta);
}

.error-content {
    padding: var(--space-sm);
}

.respuesta-area {
    width: 100%;
    height: 80px;
    background: var(--bg-card);
    border: 1px solid var(--neon-interactivo);
    color: #e0f0ff;
    font-size: var(--font-sm);
    margin-top: var(--space-sm);
}

.skill-bar {
    height: 8px;
    background: var(--bg-seccion);
    border-radius: 3px;
    overflow: hidden;
    margin: var(--space-sm) 0;
}

.skill-fill {
    height: 100%;
    background: var(--neon-evaluacion);
    width: 0%;
    transition: width 0.3s ease;
}

.er-diagram-interactive {
    width: 100%;
    height: auto;
}

pre code {
    display: block;
    padding: var(--space-sm);
    background: linear-gradient(to bottom, #002b36, #003f4f);
    border: 1px solid var(--neon-dato);
    border-radius: 4px;
    box-shadow: 0 2px 4px rgba(0, 255, 157, 0.2);
    color: #93a1a1;
    font-family: 'Consolas', 'Monaco', monospace;
    font-size: var(--font-sm);
    line-height: 1.4;
    white-space: pre;
    overflow-x: auto;
    position: relative;
    counter-reset: line;
}

pre code span {
    display: block;
    padding-left: 3em;
}

pre code span::before {
    content: counter(line);
    counter-increment: line;
    position: absolute;
    left: 0;
    width: 2em;
    text-align: right;
    color: rgba(147, 161, 161, 0.5);
    background: rgba(0, 0, 0, 0.3);
    border-right: 1px solid var(--neon-dato);
    padding-right: var(--space-sm);
}

* { box-sizing: border-box; }
body { margin: 0; font-size: var(--font-base); }
/* ========================================
       VARIABLES CYBERPUNK PARA PROGRAMACI칍N
    ======================================== */
    .leccion-programacion-csharp {
        --color-csharp: #178600;      /* Verde C# */
        --color-dotnet: #512BD4;      /* Morado .NET */
        --color-aspnet: #A179DC;      /* Lila ASP.NET */
        --color-azure: #0078D4;       /* Azul Azure */
        --color-unity: #000000;       /* Negro Unity */
        
        --neon-csharp: #39FF14;       /* Verde neon C# */
        --neon-dotnet: #9D4EDD;       /* Morado neon .NET */
        --neon-web: #00FFFF;          /* Cian web */
        --neon-desktop: #FF00FF;      /* Rosa desktop */
        --neon-gaming: #FF6B6B;       /* Rojo gaming */
    }
    
    /* ========================================
       ESTILOS ESPEC칈FICOS C#
    ======================================== */
    
    /* TARJETAS DE EJEMPLOS */
    .ejemplos-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: var(--space-md);
        margin-top: var(--space-lg);
    }
    
    .ejemplo-card {
        background: rgba(23, 134, 0, 0.1);
        border: 1px solid var(--neon-csharp);
        border-radius: 8px;
        padding: var(--space-md);
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }
    
    .ejemplo-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 8px 20px rgba(57, 255, 20, 0.3);
        background: rgba(23, 134, 0, 0.2);
    }
    
    .ejemplo-card pre {
        background: rgba(0, 0, 0, 0.5);
        padding: var(--space-sm);
        border-radius: 4px;
        font-size: var(--font-sm);
        overflow-x: auto;
        margin: var(--space-sm) 0;
    }
    
    .ejemplo-card code {
        color: var(--neon-csharp);
        font-family: 'Consolas', monospace;
    }
    
    .ejemplo-tag {
        position: absolute;
        top: 8px;
        right: 8px;
        background: rgba(57, 255, 20, 0.2);
        color: var(--neon-csharp);
        padding: 2px 8px;
        border-radius: 12px;
        font-size: 0.75rem;
        border: 1px solid var(--neon-csharp);
    }
    
    /* EDITOR DE C칍DIGO */
    .editor-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background: rgba(0, 0, 0, 0.5);
        padding: var(--space-sm) var(--space-md);
        border-top-left-radius: 8px;
        border-top-right-radius: 8px;
        border-bottom: 1px solid rgba(57, 255, 20, 0.3);
    }
    
    .editor-tabs {
        display: flex;
        gap: 4px;
    }
    
    .editor-tab {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        color: rgba(255, 255, 255, 0.7);
        padding: 4px 12px;
        border-radius: 4px 4px 0 0;
        cursor: pointer;
        font-size: var(--font-sm);
        transition: all 0.2s ease;
    }
    
    .editor-tab:hover {
        background: rgba(57, 255, 20, 0.1);
    }
    
    .editor-tab.active {
        background: rgba(57, 255, 20, 0.2);
        color: var(--neon-csharp);
        border-color: var(--neon-csharp);
    }
    
    .editor-info {
        display: flex;
        gap: var(--space-md);
        font-size: var(--font-sm);
        color: rgba(255, 255, 255, 0.6);
    }
    
    .code-editor {
        width: 100%;
        min-height: 300px;
        background: #1E1E1E;
        color: #D4D4D4;
        font-family: 'Consolas', 'Courier New', monospace;
        font-size: 14px;
        line-height: 1.5;
        padding: var(--space-md);
        border: none;
        resize: vertical;
        border-radius: 0;
        tab-size: 4;
    }
    
    .code-editor:focus {
        outline: none;
    }
    
    .editor-console {
        background: #0C0C0C;
        border-top: 1px solid rgba(57, 255, 20, 0.3);
        font-family: 'Consolas', monospace;
    }
    
    .console-header {
        background: rgba(0, 0, 0, 0.7);
        color: var(--neon-csharp);
        padding: 8px var(--space-md);
        font-weight: bold;
        border-bottom: 1px solid rgba(57, 255, 20, 0.2);
    }
    
    .console-output {
        padding: var(--space-md);
        min-height: 100px;
        max-height: 200px;
        overflow-y: auto;
        color: #00FF00;
        font-family: 'Consolas', monospace;
        white-space: pre-wrap;
    }
    
    .console-stats {
        padding: var(--space-sm) var(--space-md);
        background: rgba(0, 0, 0, 0.5);
        border-top: 1px solid rgba(57, 255, 20, 0.2);
        font-size: var(--font-sm);
    }
    
    /* NODOS ARQUITECTURA */
    .nodo-arquitectura {
        cursor: pointer;
        transition: all 0.3s ease;
    }
    
    .nodo-arquitectura:hover {
        opacity: 0.9 !important;
        transform: scale(1.02);
    }
    
    /* ANIMACIONES SVG */
    @keyframes dash {
        to {
            stroke-dashoffset: 0;
        }
    }
    
    #arquitecturaSVG path {
        stroke-dasharray: 1000;
        stroke-dashoffset: 1000;
    }
    
    /* INFO ESPECIAL C# */
    .cs-info {
        background: rgba(23, 134, 0, 0.1);
        border-left: 4px solid var(--neon-csharp);
        padding: var(--space-md);
        margin: var(--space-md) 0;
        border-radius: 0 8px 8px 0;
    }
    
    /* CLAS CARDS ESPECIALES */
    .clas-card.core {
        border-color: var(--color-dotnet);
        box-shadow: 0 4px 12px rgba(81, 43, 212, 0.2);
    }
    
    .clas-card.frameworks {
        border-color: var(--color-aspnet);
        box-shadow: 0 4px 12px rgba(161, 121, 220, 0.2);
    }
    
    /* RESPONSIVE ESPECIAL */
    @media (max-width: 768px) {
        .code-editor {
            font-size: 12px;
        }
        
        .ejemplos-grid {
            grid-template-columns: 1fr;
        }
        
        .arquitectura-container {
            overflow-x: auto;
        }
    }
/* ========================================
   DISTRIBUCI칍N OPTIMIZADA SIMULADOR C# EN TIEMPO REAL
   Dise침o compacto, eficiente y visualmente atractivo
======================================== */

/* CONTENEDOR PRINCIPAL DEL SIMULADOR */
.simulador-avanzado {
    display: grid;
    grid-template-columns: 1fr 3fr;
    grid-template-rows: auto 1fr auto;
    gap: 16px;
    height: 85vh;
    min-height: 600px;
    max-height: 900px;
    padding: 20px;
    background: #0a0a1a;
    border: 2px solid #39FF14;
    border-radius: 12px;
    position: relative;
    overflow: hidden;
}

/* EFECTO GRID BACKGROUND SUTIL */
.simulador-avanzado::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
        linear-gradient(rgba(57, 255, 20, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(57, 255, 20, 0.03) 1px, transparent 1px);
    background-size: 30px 30px;
    pointer-events: none;
    z-index: 0;
}

/* PANEL IZQUIERDO - CONTROLES Y EJEMPLOS */
.simulador-controls-panel {
    grid-column: 1;
    grid-row: 1 / span 3;
    display: flex;
    flex-direction: column;
    gap: 16px;
    background: rgba(10, 10, 26, 0.9);
    border: 1px solid rgba(57, 255, 20, 0.3);
    border-radius: 10px;
    padding: 18px;
    overflow: hidden;
    position: relative;
    z-index: 1;
}

/* HEADER DEL SIMULADOR */
.simulador-header {
    grid-column: 1 / span 2;
    grid-row: 1;
    text-align: center;
    padding: 12px;
    background: linear-gradient(90deg, 
        rgba(23, 134, 0, 0.2) 0%, 
        rgba(81, 43, 212, 0.2) 100%);
    border-radius: 8px;
    border-bottom: 2px solid #39FF14;
    margin-bottom: 8px;
}

.titulo-simulador {
    font-size: 1.6rem;
    color: #39FF14;
    margin: 0;
    font-weight: bold;
    letter-spacing: 1px;
}

.subtitulo-simulador {
    font-size: 0.9rem;
    color: #00FFFF;
    opacity: 0.9;
    margin-top: 4px;
}

/* CONTENEDOR PRINCIPAL DE C칍DIGO Y CONSOLA */
.simulador-main-area {
    grid-column: 2;
    grid-row: 2;
    display: flex;
    flex-direction: column;
    gap: 16px;
    overflow: hidden;
}

/* EDITOR DE C칍DIGO COMPACTO */
.code-editor-container {
    flex: 1;
    display: flex;
    flex-direction: column;
    background: #1E1E1E;
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid rgba(57, 255, 20, 0.3);
    min-height: 300px;
}

.editor-header-compact {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 16px;
    background: rgba(0, 0, 0, 0.8);
    border-bottom: 1px solid rgba(57, 255, 20, 0.3);
    flex-wrap: wrap;
    gap: 12px;
}

.editor-tabs-compact {
    display: flex;
    gap: 4px;
}

.editor-tab-compact {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: rgba(255, 255, 255, 0.7);
    padding: 6px 14px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.85rem;
    transition: all 0.2s ease;
    white-space: nowrap;
}

.editor-tab-compact.active {
    background: rgba(57, 255, 20, 0.25);
    color: #39FF14;
    border-color: #39FF14;
    box-shadow: 0 0 10px rgba(57, 255, 20, 0.3);
}

.editor-info-compact {
    display: flex;
    gap: 16px;
    font-size: 0.8rem;
    color: rgba(255, 255, 255, 0.6);
}

/* EDITOR DE TEXTO */
.code-textarea-compact {
    flex: 1;
    width: 100%;
    min-height: 300px;
    background: #1E1E1E;
    color: #D4D4D4;
    font-family: 'Consolas', 'Courier New', monospace;
    font-size: 14px;
    line-height: 1.5;
    padding: 16px;
    border: none;
    resize: none;
    outline: none;
    overflow: auto;
    tab-size: 2;
}

/* BARRA DE ESTADO DEL EDITOR */
.editor-status-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 16px;
    background: rgba(0, 0, 0, 0.7);
    border-top: 1px solid rgba(57, 255, 20, 0.2);
    font-size: 0.8rem;
    color: rgba(255, 255, 255, 0.7);
}

.status-item {
    display: flex;
    align-items: center;
    gap: 6px;
}

.status-icon {
    color: #39FF14;
    font-size: 0.9rem;
}

/* PANEL DE CONSOLA */
.console-panel {
    flex: 0 0 35%;
    max-height: 250px;
    min-height: 180px;
    display: flex;
    flex-direction: column;
    background: #0C0C0C;
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid rgba(0, 255, 255, 0.3);
}

.console-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 16px;
    background: rgba(0, 20, 40, 0.9);
    border-bottom: 1px solid rgba(0, 255, 255, 0.3);
}

.console-title {
    color: #00FFFF;
    font-size: 0.95rem;
    font-weight: bold;
    display: flex;
    align-items: center;
    gap: 8px;
}

.console-actions {
    display: flex;
    gap: 8px;
}

.console-output-area {
    flex: 1;
    padding: 14px;
    overflow-y: auto;
    color: #00FF00;
    font-family: 'Consolas', monospace;
    font-size: 13px;
    line-height: 1.4;
    background: #0A0A0A;
}

/* PANEL DERECHO - VISUALIZACI칍N Y DATOS */
.simulador-visualization-panel {
    grid-column: 2;
    grid-row: 3;
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 16px;
    margin-top: 8px;
}

.visualization-container {
    background: rgba(10, 10, 26, 0.8);
    border: 1px solid rgba(255, 0, 255, 0.3);
    border-radius: 8px;
    padding: 16px;
    overflow: auto;
}

.stats-container {
    background: rgba(10, 10, 26, 0.8);
    border: 1px solid rgba(255, 107, 107, 0.3);
    border-radius: 8px;
    padding: 16px;
}

/* CONTROLES COMPACTOS */
.controls-group {
    margin-bottom: 16px;
}

.controls-group label {
    display: block;
    color: #00FFFF;
    font-size: 0.9rem;
    margin-bottom: 8px;
    font-weight: bold;
}

.control-select-compact {
    width: 100%;
    padding: 10px 12px;
    background: rgba(0, 0, 0, 0.6);
    color: white;
    border: 1px solid rgba(57, 255, 20, 0.4);
    border-radius: 6px;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.2s ease;
}

.control-select-compact:focus {
    outline: none;
    border-color: #39FF14;
    box-shadow: 0 0 10px rgba(57, 255, 20, 0.4);
}

/* CHECKBOX GROUP COMPACTO */
.checkbox-group-compact {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 8px;
    margin-top: 8px;
}

.checkbox-label {
    display: flex;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    font-size: 0.85rem;
    color: rgba(255, 255, 255, 0.9);
    padding: 6px;
    border-radius: 4px;
    transition: background 0.2s ease;
}

.checkbox-label:hover {
    background: rgba(57, 255, 20, 0.1);
}

.checkbox-label input[type="checkbox"] {
    accent-color: #39FF14;
    transform: scale(1.1);
}

/* EJEMPLOS R츼PIDOS */
.ejemplos-rapidos {
    margin-top: 20px;
}

.ejemplos-rapidos h4 {
    color: #39FF14;
    font-size: 1rem;
    margin-bottom: 12px;
    padding-bottom: 6px;
    border-bottom: 1px solid rgba(57, 255, 20, 0.3);
}

.ejemplos-buttons-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 8px;
}

.ejemplo-btn {
    padding: 10px 8px;
    background: rgba(23, 134, 0, 0.15);
    border: 1px solid rgba(57, 255, 20, 0.3);
    color: rgba(255, 255, 255, 0.9);
    border-radius: 6px;
    font-size: 0.8rem;
    cursor: pointer;
    transition: all 0.2s ease;
    text-align: left;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.ejemplo-btn:hover {
    background: rgba(57, 255, 20, 0.25);
    transform: translateY(-1px);
    border-color: #39FF14;
}

.ejemplo-btn.active {
    background: rgba(57, 255, 20, 0.35);
    color: #39FF14;
    border-color: #39FF14;
    box-shadow: 0 0 8px rgba(57, 255, 20, 0.4);
}

/* BOTONES DE ACCI칍N */
.action-buttons {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 10px;
    margin-top: 20px;
}

.action-btn {
    padding: 12px 8px;
    border: none;
    border-radius: 6px;
    font-size: 0.85rem;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 6px;
}

.action-btn-primary {
    background: linear-gradient(135deg, #39FF14, #178600);
    color: white;
}

.action-btn-secondary {
    background: linear-gradient(135deg, #00FFFF, #0097A7);
    color: white;
}

.action-btn-tertiary {
    background: linear-gradient(135deg, #FF00FF, #9C27B0);
    color: white;
}

.action-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.action-btn:active {
    transform: translateY(0);
}

.btn-icon {
    font-size: 1.2rem;
}

.btn-label {
    font-size: 0.75rem;
}

/* ESTAD칈STICAS EN TIEMPO REAL */
.stats-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 10px;
}

.stat-card {
    background: rgba(255, 255, 255, 0.05);
    padding: 12px;
    border-radius: 6px;
    border-left: 3px solid;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex: 1;
    min-width: 0;
}

.stat-card.primary {
    border-left-color: #39FF14;
}

.stat-card.secondary {
    border-left-color: #00FFFF;
}

.stat-card.tertiary {
    border-left-color: #FF00FF;
    flex: 1;
    min-width: 0;
}

.stat-label {
    font-size: 0.8rem;
    color: rgba(255, 255, 255, 0.7);
}

.stat-value {
    font-size: 1rem;
    font-weight: bold;
    color: #39FF14;
    font-family: 'Courier New', monospace;
}

/* VISUALIZACI칍N DEL C칍DIGO */
.code-visualization {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.code-lines {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.code-line {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 4px 8px;
    border-radius: 4px;
    font-family: 'Consolas', monospace;
    font-size: 0.85rem;
    transition: background 0.2s ease;
}

.code-line:hover {
    background: rgba(57, 255, 20, 0.1);
}

.line-number {
    color: rgba(255, 255, 255, 0.4);
    font-size: 0.75rem;
    min-width: 24px;
    text-align: right;
}

.line-content {
    color: #D4D4D4;
    flex: 1;
}

.line-type-keyword {
    color: #569CD6;
}

.line-type-string {
    color: #CE9178;
}

.line-type-comment {
    color: #6A9955;
}

.line-type-method {
    color: #DCDCAA;
}

/* ANIMACIONES */
@keyframes pulse-glow {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.8; }
}

.pulse {
    animation: pulse-glow 2s infinite;
}

@keyframes highlight-line {
    0% { background: rgba(57, 255, 20, 0); }
    50% { background: rgba(57, 255, 20, 0.2); }
    100% { background: rgba(57, 255, 20, 0); }
}

.highlight {
    animation: highlight-line 1.5s ease;
}

/* RESPONSIVE DESIGN */
@media (max-width: 1200px) {
    .simulador-avanzado {
        grid-template-columns: 1fr;
        grid-template-rows: auto auto 1fr auto;
        height: auto;
        min-height: 800px;
    }
    
    .simulador-controls-panel {
        grid-column: 1;
        grid-row: 2;
        max-height: 300px;
        overflow-y: auto;
    }
    
    .simulador-main-area {
        grid-column: 1;
        grid-row: 3;
    }
    
    .simulador-visualization-panel {
        grid-column: 1;
        grid-row: 4;
        grid-template-columns: 1fr;
    }
}

@media (max-width: 768px) {
    .simulador-avanzado {
        padding: 12px;
        gap: 12px;
    }
    
    .editor-header-compact {
        flex-direction: column;
        align-items: flex-start;
        gap: 8px;
    }
    
    .editor-info-compact {
        width: 100%;
        justify-content: space-between;
    }
    
    .ejemplos-buttons-grid {
        grid-template-columns: 1fr;
    }
    
    .action-buttons {
        grid-template-columns: 1fr;
    }
    
    .checkbox-group-compact {
        grid-template-columns: 1fr;
    }
}

/* SCROLLBAR PERSONALIZADO */
.simulador-avanzado::-webkit-scrollbar,
.code-textarea-compact::-webkit-scrollbar,
.console-output-area::-webkit-scrollbar,
.simulador-controls-panel::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

.simulador-avanzado::-webkit-scrollbar-track,
.code-textarea-compact::-webkit-scrollbar-track,
.console-output-area::-webkit-scrollbar-track,
.simulador-controls-panel::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
}

.simulador-avanzado::-webkit-scrollbar-thumb,
.code-textarea-compact::-webkit-scrollbar-thumb,
.console-output-area::-webkit-scrollbar-thumb,
.simulador-controls-panel::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, #39FF14, #178600);
    border-radius: 4px;
}

.simulador-avanzado::-webkit-scrollbar-thumb:hover,
.code-textarea-compact::-webkit-scrollbar-thumb:hover,
.console-output-area::-webkit-scrollbar-thumb:hover,
.simulador-controls-panel::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, #39FF14, #39FF14);
}

/* TOOLTIPS */
[data-tooltip] {
    position: relative;
    cursor: help;
}

[data-tooltip]:hover::after {
    content: attr(data-tooltip);
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(10, 10, 26, 0.95);
    color: #39FF14;
    padding: 8px 12px;
    border-radius: 6px;
    font-size: 0.8rem;
    white-space: nowrap;
    border: 1px solid rgba(57, 255, 20, 0.4);
    z-index: 1000;
    margin-bottom: 5px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

/* LOADING STATES */
.loading {
    position: relative;
    overflow: hidden;
}

.loading::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(57, 255, 20, 0.1),
        transparent
    );
    animation: loading-shimmer 1.5s infinite;
}

@keyframes loading-shimmer {
    0% { left: -100%; }
    100% { left: 100%; }
}

/* EFECTOS DE FOCO MEJORADOS */
.code-textarea-compact:focus,
.control-select-compact:focus,
.ejemplo-btn:focus,
.action-btn:focus {
    outline: 2px solid #39FF14;
    outline-offset: 2px;
    box-shadow: 0 0 15px rgba(57, 255, 20, 0.4);
}

/* ESTADOS DE ERROR Y 칄XITO */
.error-state {
    border-color: #FF6B6B !important;
    background: rgba(255, 107, 107, 0.05) !important;
}

.success-state {
    border-color: #39FF14 !important;
    background: rgba(57, 255, 20, 0.05) !important;
}

.warning-state {
    border-color: #FFFF00 !important;
    background: rgba(255, 255, 0, 0.05) !important;
}

/* BADGES Y TAGS */
.badge {
    display: inline-block;
    padding: 3px 8px;
    border-radius: 12px;
    font-size: 0.7rem;
    font-weight: bold;
    margin-left: 8px;
}

.badge-success {
    background: rgba(57, 255, 20, 0.2);
    color: #39FF14;
    border: 1px solid rgba(57, 255, 20, 0.4);
}

.badge-info {
    background: rgba(0, 255, 255, 0.2);
    color: #00FFFF;
    border: 1px solid rgba(0, 255, 255, 0.4);
}

.badge-warning {
    background: rgba(255, 255, 0, 0.2);
    color: #FFFF00;
    border: 1px solid rgba(255, 255, 0, 0.4);
}

/* ========================================
   MEJORAS DE DISTRIBUCI칍N PARA SIMULADOR C#
   Distribuci칩n flexible y responsive
======================================== */

.leccion-programacion-csharp .simulator-container {
    display: grid;
    grid-template-columns: 1fr 3fr;
    grid-template-rows: auto 1fr;
    gap: 2.5rem;
    background: #000000;
    padding: 3rem;
    margin: 2rem 0;
    border: 3px solid #39FF14;
    position: relative;
    align-items: start;
    min-height: 950px;
}

.leccion-programacion-csharp .simulator-controls {
    grid-column: 1;
    grid-row: 1 / 3;
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    padding: 2.5rem 2rem;
    background: linear-gradient(135deg, rgba(57, 255, 20, 0.1) 0%, rgba(57, 255, 20, 0.03) 100%);
    border: 2px solid rgba(57, 255, 20, 0.5);
    border-radius: 12px;
    max-height: 860px;
    overflow-y: auto;
    scroll-behavior: smooth;
}

.leccion-programacion-csharp .simulator-visualization {
    grid-column: 2;
    grid-row: 1;
    display: flex;
    flex-direction: column;
    background: #000000;
    border: 2px solid rgba(57, 255, 20, 0.5);
    border-radius: 12px;
    overflow: hidden;
}

.leccion-programacion-csharp .simulator-data {
    grid-column: 2;
    grid-row: 2;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 1rem;
    padding: 1.5rem;
    background: linear-gradient(135deg, rgba(57, 255, 20, 0.08) 0%, rgba(57, 255, 20, 0.02) 100%);
    border: 2px solid rgba(57, 255, 20, 0.4);
    border-radius: 12px;
}

.leccion-programacion-csharp .simulator-data h3 {
    grid-column: 1 / -1;
    color: #39FF14;
    font-size: 1.1rem;
    margin: 0 0 0.5rem 0;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.leccion-programacion-csharp .data-card {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.5);
    border-left: 3px solid #39FF14;
    border-radius: 6px;
}

.leccion-programacion-csharp .data-card.highlight {
    border-left-color: #00FFFF;
    background: rgba(0, 255, 255, 0.08);
}

.leccion-programacion-csharp .data-label {
    color: rgba(255, 255, 255, 0.6);
    font-size: 0.85rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.leccion-programacion-csharp .data-value {
    color: #39FF14;
    font-size: 1.2rem;
    font-weight: bold;
    font-family: 'Consolas', monospace;
}

.leccion-programacion-csharp .simulator-controls {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    padding: 2.5rem 2rem;
    background: linear-gradient(135deg, rgba(57, 255, 20, 0.1) 0%, rgba(57, 255, 20, 0.03) 100%);
    border: 2px solid rgba(57, 255, 20, 0.5);
    border-radius: 12px;
    max-height: 760px;
    overflow-y: auto;
    scroll-behavior: smooth;
}

.leccion-programacion-csharp .simulator-controls h3 {
    color: #39FF14;
    font-size: 1.3rem;
    margin: 0 0 1rem 0;
    text-transform: uppercase;
    letter-spacing: 2px;
    padding-bottom: 1.2rem;
    border-bottom: 2px solid rgba(57, 255, 20, 0.4);
}

.leccion-programacion-csharp .control-group {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    padding: 1.5rem;
    background: rgba(0, 0, 0, 0.6);
    border-left: 4px solid #39FF14;
    border-radius: 8px;
    transition: all 0.3s ease;
}

.leccion-programacion-csharp .control-group:hover {
    background: rgba(0, 0, 0, 0.7);
    border-left-color: #00FFFF;
}

.leccion-programacion-csharp .control-group label {
    color: #00FFFF;
    font-size: 1rem;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.leccion-programacion-csharp .control-select {
    padding: 0.9rem 1.2rem;
    background: #0a0a0a;
    color: #39FF14;
    border: 2px solid #39FF14;
    font-family: 'Consolas', monospace;
    font-size: 1rem;
    border-radius: 6px;
    width: 100%;
    transition: all 0.3s ease;
}

.leccion-programacion-csharp .control-select:hover {
    border-color: #00FFFF;
    box-shadow: 0 0 12px rgba(57, 255, 20, 0.3);
}

.leccion-programacion-csharp .checkbox-group {
    display: flex;
    flex-direction: column;
    gap: 0.8rem;
}

.leccion-programacion-csharp .checkbox-group label {
    display: flex;
    align-items: center;
    gap: 1rem;
    color: rgba(255, 255, 255, 0.95);
    font-size: 0.98rem;
    cursor: pointer;
    padding: 0.6rem 1rem;
    border-radius: 6px;
    transition: all 0.2s ease;
}

.leccion-programacion-csharp .checkbox-group label:hover {
    background: rgba(57, 255, 20, 0.12);
}

.leccion-programacion-csharp .checkbox-group input[type="checkbox"] {
    width: 20px;
    height: 20px;
    cursor: pointer;
    accent-color: #39FF14;
}

.leccion-programacion-csharp .btn-clasificar,
.leccion-programacion-csharp .btn-aleatorio,
.leccion-programacion-csharp .btn-reset {
    padding: 1.3rem 1.5rem;
    background: linear-gradient(135deg, rgba(57, 255, 20, 0.25) 0%, rgba(57, 255, 20, 0.12) 100%);
    border: 2px solid #39FF14;
    color: #39FF14;
    font-weight: bold;
    text-transform: uppercase;
    cursor: pointer;
    border-radius: 8px;
    transition: all 0.3s ease;
    width: 100%;
    font-size: 1rem;
    letter-spacing: 1px;
}

.leccion-programacion-csharp .btn-clasificar:hover,
.leccion-programacion-csharp .btn-aleatorio:hover,
.leccion-programacion-csharp .btn-reset:hover {
    background: linear-gradient(135deg, rgba(57, 255, 20, 0.4) 0%, rgba(57, 255, 20, 0.25) 100%);
    box-shadow: 0 0 25px rgba(57, 255, 20, 0.7);
    transform: translateY(-3px);
}

.leccion-programacion-csharp .simulator-visualization {
    display: flex;
    flex-direction: column;
    background: #000000;
    border: 2px solid rgba(57, 255, 20, 0.5);
    border-radius: 12px;
    overflow: hidden;
}

.leccion-programacion-csharp .editor-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 2rem;
    background: linear-gradient(90deg, rgba(57, 255, 20, 0.15) 0%, rgba(57, 255, 20, 0.08) 100%);
    border-bottom: 2px solid rgba(57, 255, 20, 0.4);
    flex-wrap: wrap;
    gap: 2rem;
}

.leccion-programacion-csharp .editor-tabs {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
}

.leccion-programacion-csharp .editor-tab {
    background: rgba(255, 255, 255, 0.05);
    border: 2px solid rgba(57, 255, 20, 0.25);
    color: rgba(255, 255, 255, 0.8);
    padding: 0.8rem 1.5rem;
    border-radius: 6px;
    cursor: pointer;
    font-size: 1rem;
    transition: all 0.3s ease;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.leccion-programacion-csharp .editor-tab:hover {
    background: rgba(57, 255, 20, 0.15);
    border-color: rgba(57, 255, 20, 0.5);
}

.leccion-programacion-csharp .editor-tab.active {
    background: linear-gradient(135deg, rgba(57, 255, 20, 0.35) 0%, rgba(57, 255, 20, 0.15) 100%);
    color: #39FF14;
    border-color: #39FF14;
    box-shadow: 0 0 20px rgba(57, 255, 20, 0.5);
}

.leccion-programacion-csharp .editor-info {
    display: flex;
    gap: 2rem;
    font-size: 0.95rem;
    color: rgba(255, 255, 255, 0.75);
}

.leccion-programacion-csharp .editor-info span {
    padding: 0.5rem 1.2rem;
    background: rgba(57, 255, 20, 0.18);
    border-radius: 6px;
    border: 1px solid rgba(57, 255, 20, 0.35);
    font-family: 'Consolas', monospace;
}

.leccion-programacion-csharp .editor-content {
    flex: 1;
    display: grid;
    grid-template-columns: 1fr;
    grid-template-rows: minmax(300px, 1fr) minmax(250px, 1fr);
    overflow: hidden;
    gap: 0;
    min-height: 700px;
}

.leccion-programacion-csharp .code-editor {
    grid-column: 1;
    grid-row: 1;
    width: 100%;
    background: #1E1E1E;
    color: #D4D4D4;
    font-family: 'Consolas', 'Courier New', monospace;
    font-size: 15px;
    line-height: 1.8;
    padding: 2rem;
    border: none;
    resize: none;
    outline: none;
    overflow: auto;
    tab-size: 4;
}

.leccion-programacion-csharp .editor-console {
    grid-column: 1;
    grid-row: 2;
    display: flex;
    flex-direction: column;
    background: #0C0C0C;
    border-top: 2px solid rgba(57, 255, 20, 0.3);
    overflow: hidden;
}

.leccion-programacion-csharp .console-header {
    padding: 0.8rem 1.5rem;
    background: rgba(0, 0, 0, 0.8);
    color: #39FF14;
    font-weight: bold;
    font-size: 0.95rem;
    text-transform: uppercase;
    border-bottom: 1px solid rgba(57, 255, 20, 0.2);
}

.leccion-programacion-csharp .console-output {
    flex: 1;
    padding: 1.2rem 1.5rem;
    font-family: 'Consolas', monospace;
    font-size: 0.9rem;
    color: #39FF14;
    overflow-y: auto;
    overflow-x: auto;
    white-space: pre-wrap;
    word-wrap: break-word;
    word-break: break-all;
}

.leccion-programacion-csharp .console-stats {
    padding: 0.6rem 1.5rem;
    background: rgba(57, 255, 20, 0.08);
    border-top: 1px solid rgba(57, 255, 20, 0.2);
    color: rgba(255, 255, 255, 0.6);
    font-size: 0.85rem;
}

@media (max-width: 1200px) {
    .leccion-programacion-csharp .editor-content {
        grid-template-rows: 1fr 200px;
    }
    
    .leccion-programacion-csharp .code-editor {
        font-size: 14px;
        padding: 1.5rem;
    }
    
    .leccion-programacion-csharp .console-output {
        font-size: 0.85rem;
    }
}

@media (max-width: 768px) {
    .leccion-programacion-csharp .editor-content {
        grid-template-rows: 1fr 150px;
        min-height: 400px;
    }
    
    .leccion-programacion-csharp .code-editor {
        font-size: 13px;
        padding: 1rem;
    }
    
    .leccion-programacion-csharp .console-header {
        padding: 0.6rem 1rem;
        font-size: 0.85rem;
    }
    
    .leccion-programacion-csharp .console-output {
        padding: 0.8rem 1rem;
        font-size: 0.8rem;
    }
}

.leccion-programacion-csharp .code-editor:focus {
    box-shadow: inset 0 0 20px rgba(57, 255, 20, 0.1);
}

.leccion-programacion-csharp .code-editor::-webkit-scrollbar {
    width: 12px;
    height: 12px;
}

.leccion-programacion-csharp .code-editor::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.4);
}

.leccion-programacion-csharp .code-editor::-webkit-scrollbar-thumb {
    background: rgba(57, 255, 20, 0.5);
    border-radius: 6px;
}

.leccion-programacion-csharp .code-editor::-webkit-scrollbar-thumb:hover {
    background: rgba(57, 255, 20, 0.8);
}

@media (max-width: 1600px) {
    .leccion-programacion-csharp .simulator-container {
        grid-template-columns: 1fr 2.5fr;
        min-height: 850px;
    }
}

@media (max-width: 1200px) {
    .leccion-programacion-csharp .simulator-container {
        grid-template-columns: 1fr;
        grid-template-rows: auto auto auto;
        gap: 1.5rem;
        min-height: auto;
        padding: 2rem;
    }
    
    .leccion-programacion-csharp .simulator-controls {
        grid-column: 1;
        grid-row: 1;
        max-height: 400px;
    }
    
    .leccion-programacion-csharp .simulator-visualization {
        grid-column: 1;
        grid-row: 2;
        min-height: 500px;
    }
    
    .leccion-programacion-csharp .simulator-data {
        grid-column: 1;
        grid-row: 3;
    }
}

@media (max-width: 768px) {
    .leccion-programacion-csharp .simulator-container {
        padding: 1.5rem;
        gap: 1rem;
    }
    
    .leccion-programacion-csharp .simulator-controls {
        max-height: 350px;
        padding: 1.5rem;
    }
    
    .leccion-programacion-csharp .simulator-visualization {
        min-height: 400px;
    }
    
    .leccion-programacion-csharp .code-editor {
        font-size: 14px;
        padding: 1.5rem;
    }
    
    .leccion-programacion-csharp .editor-header {
        padding: 1.2rem;
        gap: 1rem;
    }
    
    .leccion-programacion-csharp .control-group {
        padding: 1.2rem;
    }
    
    .leccion-programacion-csharp .simulator-data {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 480px) {
    .leccion-programacion-csharp .simulator-container {
        padding: 1rem;
        border: 2px solid #39FF14;
    }
    
    .leccion-programacion-csharp .btn-clasificar,
    .leccion-programacion-csharp .btn-aleatorio,
    .leccion-programacion-csharp .btn-reset {
        font-size: 0.9rem;
        padding: 1rem;
    }
    
    .leccion-programacion-csharp .code-editor {
        font-size: 12px;
    }
    
    .leccion-programacion-csharp .simulator-data {
        grid-template-columns: 1fr;
    }
}
 /* ========================================
       VARIABLES JS ANIMACIONES
    ======================================== */
    .leccion-js-animaciones {
        --neon-js: #F7DF1E;        /* Amarillo JS */
        --neon-raf: #39FF14;       /* Verde requestAnimationFrame */
        --neon-gsap: #88CE02;      /* Verde GSAP */
        --neon-canvas: #FF6B6B;    /* Rojo Canvas */
        --neon-waapi: #00FFFF;     /* Cian WAAPI */
        
        --bg-simulation: #1a1a2e;
        --bg-particle: rgba(57, 255, 20, 0.1);
        --border-glow: rgba(57, 255, 20, 0.3);
    }
    
    /* ========================================
       LAYOUT COMPACTO
    ======================================== */
    .leccion-header-compact {
        text-align: center;
        padding: 16px;
        margin-bottom: 20px;
        background: linear-gradient(90deg, 
            rgba(247, 223, 30, 0.1) 0%, 
            rgba(57, 255, 20, 0.1) 100%);
        border-radius: 10px;
        border: 1px solid var(--border-glow);
    }
    
    .titulo-leccion {
        font-size: 2rem;
        color: var(--neon-js);
        margin-bottom: 8px;
        animation: glow 3s infinite;
    }
    
    .subtitulo-compact {
        font-size: 1rem;
        color: var(--neon-waapi);
        opacity: 0.9;
    }
    
    /* STATS BAR */
    .stats-bar {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 12px;
        margin-bottom: 24px;
    }
    
    .stat-item {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 12px;
        background: rgba(10, 10, 26, 0.8);
        border-radius: 8px;
        border: 1px solid rgba(247, 223, 30, 0.2);
    }
    
    .stat-icon {
        font-size: 1.5rem;
        color: var(--neon-js);
    }
    
    .stat-value {
        font-size: 1.2rem;
        font-weight: bold;
        color: var(--neon-raf);
        font-family: 'Courier New', monospace;
    }
    
    .stat-label {
        font-size: 0.85rem;
        color: rgba(255, 255, 255, 0.7);
        flex: 1;
    }
    
    /* SIMULADOR GRID */
    .simulador-grid {
        display: grid;
        grid-template-columns: 280px 1fr 280px;
        gap: 20px;
        margin-bottom: 30px;
    }
    
    @media (max-width: 1200px) {
        .simulador-grid {
            grid-template-columns: 1fr;
            grid-template-rows: auto auto auto;
        }
    }
    
    .controls-panel {
        background: rgba(10, 10, 26, 0.9);
        padding: 20px;
        border-radius: 10px;
        border: 1px solid var(--border-glow);
    }
    
    .control-group {
        margin-bottom: 20px;
    }
    
    .control-group label {
        display: block;
        color: var(--neon-raf);
        margin-bottom: 8px;
        font-size: 0.9rem;
        font-weight: bold;
    }
    
    .control-slider {
        width: 100%;
        height: 6px;
        background: rgba(57, 255, 20, 0.2);
        border-radius: 3px;
        outline: none;
        -webkit-appearance: none;
    }
    
    .control-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        width: 18px;
        height: 18px;
        background: var(--neon-raf);
        border-radius: 50%;
        cursor: pointer;
        box-shadow: 0 0 10px var(--neon-raf);
    }
    
    .slider-value {
        display: inline-block;
        margin-left: 10px;
        color: var(--neon-raf);
        font-family: 'Courier New', monospace;
        font-weight: bold;
        min-width: 40px;
    }
    
    .buttons-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 10px;
        margin-top: 20px;
    }
    
    .btn-action {
        padding: 12px 8px;
        border: none;
        border-radius: 6px;
        font-weight: bold;
        cursor: pointer;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 6px;
        transition: all 0.2s ease;
    }
    
    .btn-action:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }
    
    .btn-action:active {
        transform: translateY(0);
    }
    
    .btn-action {
        background: linear-gradient(135deg, var(--neon-raf), #178600);
        color: white;
    }
    
    .btn-action.secondary {
        background: linear-gradient(135deg, var(--neon-waapi), #0097A7);
    }
    
    .btn-action.danger {
        background: linear-gradient(135deg, var(--neon-canvas), #C62828);
    }
    
    .btn-action.info {
        background: linear-gradient(135deg, #FF00FF, #9C27B0);
    }
    
    .btn-icon {
        font-size: 1.2rem;
    }
    
    /* 츼REA DE SIMULACI칍N */
    .simulation-area {
        background: var(--bg-simulation);
        border-radius: 10px;
        border: 1px solid var(--border-glow);
        overflow: hidden;
        display: flex;
        flex-direction: column;
    }
    
    .simulation-canvas {
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 20px;
    }
    
    .simulation-info {
        display: flex;
        justify-content: space-around;
        padding: 12px;
        background: rgba(0, 0, 0, 0.5);
        border-top: 1px solid var(--border-glow);
    }
    
    .info-item {
        display: flex;
        align-items: center;
        gap: 8px;
    }
    
    .info-label {
        color: rgba(255, 255, 255, 0.7);
        font-size: 0.85rem;
    }
    
    .info-value {
        color: var(--neon-raf);
        font-family: 'Courier New', monospace;
        font-weight: bold;
        font-size: 1rem;
    }
    
    /* PANEL DE DATOS */
    .data-panel {
        background: rgba(10, 10, 26, 0.9);
        padding: 20px;
        border-radius: 10px;
        border: 1px solid var(--border-glow);
    }
    
    .data-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 12px;
    }
    
    .data-card {
        background: rgba(255, 255, 255, 0.05);
        padding: 12px;
        border-radius: 8px;
        display: flex;
        align-items: center;
        gap: 12px;
        border-left: 3px solid var(--neon-raf);
    }
    
    .data-card.highlight {
        border-left-color: var(--neon-js);
        background: rgba(247, 223, 30, 0.05);
    }
    
    .data-icon {
        font-size: 1.5rem;
        color: var(--neon-raf);
    }
    
    .data-content {
        flex: 1;
    }
    
    .data-label {
        font-size: 0.8rem;
        color: rgba(255, 255, 255, 0.7);
        margin-bottom: 4px;
    }
    
    .data-value {
        font-size: 1.1rem;
        font-weight: bold;
        color: var(--neon-raf);
        font-family: 'Courier New', monospace;
    }
    
    /* M칄TODOS GRID */
    .metodos-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
    }
    
    .metodo-card {
        background: rgba(10, 10, 26, 0.8);
        border-radius: 10px;
        overflow: hidden;
        border: 1px solid rgba(57, 255, 20, 0.2);
        transition: all 0.3s ease;
    }
    
    .metodo-card:hover {
        transform: translateY(-4px);
        border-color: var(--neon-raf);
        box-shadow: 0 8px 20px rgba(57, 255, 20, 0.2);
    }
    
    .metodo-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 16px;
        background: rgba(0, 0, 0, 0.3);
        border-bottom: 1px solid rgba(57, 255, 20, 0.2);
    }
    
    .metodo-header h4 {
        margin: 0;
        color: var(--neon-raf);
        font-size: 1.1rem;
    }
    
    .metodo-badge {
        background: rgba(57, 255, 20, 0.2);
        color: var(--neon-raf);
        padding: 4px 10px;
        border-radius: 12px;
        font-size: 0.75rem;
        font-weight: bold;
        border: 1px solid var(--neon-raf);
    }
    
    .metodo-body {
        padding: 16px;
    }
    
    .metodo-icon {
        font-size: 2rem;
        color: var(--neon-raf);
        text-align: center;
        margin-bottom: 12px;
    }
    
    .metodo-desc {
        color: rgba(255, 255, 255, 0.9);
        font-size: 0.9rem;
        margin-bottom: 12px;
        line-height: 1.4;
    }
    
    .metodo-features {
        list-style: none;
        padding: 0;
        margin: 0 0 16px 0;
    }
    
    .metodo-features li {
        color: rgba(255, 255, 255, 0.7);
        font-size: 0.85rem;
        padding: 4px 0;
        padding-left: 20px;
        position: relative;
    }
    
    .metodo-features li:before {
        content: '九';
        position: absolute;
        left: 0;
        color: var(--neon-raf);
    }
    
    .metodo-code {
        background: #1E1E1E;
        padding: 12px;
        border-top: 1px solid rgba(57, 255, 20, 0.2);
    }
    
    .metodo-code pre {
        margin: 0;
        font-size: 0.8rem;
        line-height: 1.4;
    }
    
    .metodo-code code {
        color: #569CD6;
        font-family: 'Consolas', monospace;
    }
    
    /* DEMOS CONTAINER */
    .demos-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
    }
    
    .demo-card {
        background: rgba(10, 10, 26, 0.8);
        border-radius: 10px;
        overflow: hidden;
        border: 1px solid rgba(0, 255, 255, 0.2);
    }
    
    .demo-card.active {
        border-color: var(--neon-waapi);
        box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
    }
    
    .demo-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 16px;
        background: rgba(0, 0, 0, 0.3);
        border-bottom: 1px solid rgba(0, 255, 255, 0.2);
        cursor: pointer;
    }
    
    .demo-header h4 {
        margin: 0;
        color: var(--neon-waapi);
        font-size: 1rem;
    }
    
    .demo-toggle {
        background: var(--neon-waapi);
        color: black;
        border: none;
        width: 32px;
        height: 32px;
        border-radius: 50%;
        cursor: pointer;
        font-size: 1rem;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .demo-content {
        padding: 16px;
    }
    
    .demo-content canvas {
        width: 100%;
        height: 200px;
        background: #1a1a2e;
        border-radius: 6px;
        margin-bottom: 12px;
    }
    
    .demo-controls {
        display: flex;
        gap: 8px;
        margin-top: 12px;
        flex-wrap: wrap;
    }
    
    .demo-controls button {
        padding: 8px 12px;
        background: rgba(57, 255, 20, 0.1);
        border: 1px solid var(--neon-raf);
        color: var(--neon-raf);
        border-radius: 6px;
        cursor: pointer;
        font-size: 0.85rem;
        transition: all 0.2s ease;
    }
    
    .demo-controls button:hover {
        background: rgba(57, 255, 20, 0.2);
    }
    
    /* SCROLL DEMO */
    .scroll-demo {
        height: 200px;
        overflow-y: auto;
        background: #1a1a2e;
        border-radius: 6px;
        padding: 16px;
    }
    
    .scroll-item {
        padding: 16px;
        margin: 8px 0;
        background: rgba(247, 223, 30, 0.1);
        border-radius: 6px;
        border: 1px solid rgba(247, 223, 30, 0.3);
        color: var(--neon-js);
        font-weight: bold;
    }
    
    /* PHYSICS DEMO */
    .physics-box {
        height: 200px;
        background: #1a1a2e;
        border-radius: 6px;
        position: relative;
        overflow: hidden;
        margin-bottom: 12px;
    }
    
    .physics-ball {
        width: 40px;
        height: 40px;
        background: radial-gradient(circle at 30% 30%, #FF6B6B, #C62828);
        border-radius: 50%;
        position: absolute;
        left: 20px;
        top: 80px;
        transition: all 0.8s cubic-bezier(0.68, -0.55, 0.27, 1.55);
    }
    
    /* RESPONSIVE */
    @media (max-width: 768px) {
        .simulador-grid {
            gap: 16px;
        }
        
        .data-grid {
            grid-template-columns: 1fr;
        }
        
        .metodos-grid,
        .demos-container {
            grid-template-columns: 1fr;
        }
        
        .buttons-grid {
            grid-template-columns: 1fr;
        }
        
        .titulo-leccion {
            font-size: 1.5rem;
        }
    }
    
    /* ANIMACIONES */
    @keyframes glow {
        0%, 100% { text-shadow: 0 0 5px currentColor; }
        50% { text-shadow: 0 0 10px currentColor, 0 0 15px currentColor; }
    }
    
    /* SCROLLBAR */
    .scroll-demo::-webkit-scrollbar {
        width: 6px;
    }
    
    .scroll-demo::-webkit-scrollbar-track {
        background: rgba(0, 0, 0, 0.3);
    }
    
    .scroll-demo::-webkit-scrollbar-thumb {
        background: var(--neon-js);
        border-radius: 3px;
    }
    
/* estilos-leccion-html5-cyberpunk.css -- prefijo lph- para evitar colisiones */
:root{
  --lph-bg: #0a0a1a;
  --lph-card: rgba(10,10,26,0.85);
  --lph-neon-concepto: #39ff14;
  --lph-neon-interactivo: #ff00ff;
  --lph-neon-dato: #00ff9d;
  --lph-text: #e0f0ff;
  --lph-accent: #00ffff;
  --lph-alert: #ff6b6b;
  --lph-radius: 10px;
  --lph-gap: 12px;
  --lph-font: "Segoe UI", Roboto, system-ui, sans-serif;
}

.leccion-programacion-html5-cyberpunk.leccion-container{
  position: relative;
  background: linear-gradient(180deg,var(--lph-bg) 0%, #080812 100%);
  color: var(--lph-text);
  font-family: var(--lph-font);
  padding: 18px;
  border-radius: 14px;
  overflow: hidden;
}

/* header */
.lph-header{ text-align:center; margin-bottom:14px; position:relative; z-index:2; }
.lph-titulo{ font-size:1.6rem; color:var(--lph-neon-concepto); margin:0; animation: lph-glow 3s infinite; }
.lph-subtitulo{ color: #bfefff; opacity:0.85; margin-top:6px; }

/* grid layout for simulator + controls */
.lph-simulator { margin-top:20px; }
.lph-simulator-container { display:grid; grid-template-columns: 300px 1fr 260px; gap:var(--lph-gap); align-items:start; }
@media (max-width: 992px){ .lph-simulator-container{ grid-template-columns: 1fr; } }

/* controls */
.lph-simulator-controls, .lph-simulator-data { background:var(--lph-card); padding:12px; border-radius:8px; border:1px solid rgba(255,255,255,0.04); box-shadow: 0 6px 18px rgba(0,0,0,0.5); }
.lph-control{ width:100%; padding:8px; margin:6px 0; border-radius:6px; background: rgba(255,255,255,0.03); color:var(--lph-text); border:1px solid rgba(255,255,255,0.04); }
.lph-btn{ display:inline-block; padding:10px 12px; border-radius:8px; background: linear-gradient(90deg,var(--lph-neon-interactivo), var(--lph-neon-concepto)); color:#051014; border:none; cursor:pointer; margin:6px 4px; min-height:40px; }
.lph-btn:focus{ outline:3px solid rgba(57,255,20,0.12); }

/* editor */
.lph-editor{ background:var(--lph-card); border-radius:8px; padding:10px; display:flex; flex-direction:column; gap:10px; }
.lph-editor-tabs{ display:flex; gap:6px; }
.lph-tab{ background:transparent; color:var(--lph-text); border:1px solid rgba(255,255,255,0.03); padding:8px 10px; border-radius:6px; cursor:pointer; }
.lph-codigo{ width:100%; min-height:200px; font-family: "Courier New", monospace; font-size:0.9rem; padding:10px; background:#07070b; color:var(--lph-text); border-radius:6px; border:1px solid rgba(255,255,255,0.03); }

/* result iframe */
.lph-result-pane{ min-height:260px; background:#020212; border-radius:8px; padding:8px; }
.lph-result-iframe{ width:100%; height:320px; border:1px solid rgba(255,255,255,0.05); border-radius:6px; }

/* stats */
.lph-stats div{ margin:6px 0; font-size:0.95rem; }

/* quiz */
.lph-quiz-question{ background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent); padding:10px; border-radius:8px; margin-bottom:10px; }
.lph-quiz-options{ display:flex; gap:8px; flex-wrap:wrap; margin-top:8px; }
.lph-quiz-option{ padding:8px 10px; min-width:120px; border-radius:8px; background:rgba(255,255,255,0.02); border:1px solid rgba(255,255,255,0.04); cursor:pointer; }
.lph-quiz-option.lph-correct{ background: rgba(57,255,20,0.07); border-color:var(--lph-neon-concepto); }
.lph-quiz-option.lph-incorrect{ background: rgba(255,107,107,0.06); border-color:var(--lph-alert); }

/* errores colapsables */
.lph-error-card{ margin-bottom:8px; }
.lph-error-toggle{ width:100%; text-align:left; padding:8px; border-radius:6px; background:#110a16; color:var(--lph-text); border:1px solid rgba(255,255,255,0.03); }

/* utility */
.lph-data-card{ padding:8px; background:rgba(0,0,0,0.2); border-radius:6px; margin-bottom:6px; }

/* glow animation */
@keyframes lph-glow {
  0%,100%{ text-shadow: 0 0 6px rgba(57,255,20,0.15); }
  50%{ text-shadow: 0 0 14px rgba(57,255,20,0.25), 0 0 24px rgba(255,0,255,0.06); }
}

/* small screens adjustments */
@media (max-width:600px){
  .lph-codigo{ min-height:160px; font-size:0.85rem; }
  .lph-btn{ padding:8px; min-height:44px; }
}
/* =====================================================
   CSS 칔NICO  LECCI칍N HTML5 CYBERPUNK
   Namespace: .leccion-programacion-html5
===================================================== */

.leccion-programacion-html5 {
  --bg-main: #0b0f14;
  --bg-panel: #111827;
  --bg-panel-soft: #0f172a;
  --neon: #22d3ee;
  --neon-soft: #67e8f9;
  --accent: #a855f7;
  --danger: #ef4444;
  --success: #22c55e;
  --text-main: #e5e7eb;
  --text-soft: #94a3b8;

  background: linear-gradient(180deg, #020617, #020617);
  color: var(--text-main);
  font-family: "Inter", "Segoe UI", system-ui, sans-serif;
  padding: 2rem 1.5rem;
  border-radius: 14px;
  box-shadow: 0 0 40px rgba(34, 211, 238, 0.05);
}

/* ================================
   CABECERA
================================ */
.leccion-programacion-html5 .leccion-header {
  border-bottom: 1px solid rgba(34, 211, 238, 0.2);
  padding-bottom: 1.5rem;
  margin-bottom: 2rem;
}

.leccion-programacion-html5 .titulo-leccion {
  font-size: clamp(1.8rem, 4vw, 2.6rem);
  font-weight: 800;
  letter-spacing: 0.08em;
  color: var(--neon);
  text-shadow: 0 0 8px rgba(34, 211, 238, 0.4);
}

.leccion-programacion-html5 .neon-glow {
  animation: neonPulse 3s infinite ease-in-out;
}

@keyframes neonPulse {
  0%, 100% { text-shadow: 0 0 8px rgba(34,211,238,.4); }
  50% { text-shadow: 0 0 16px rgba(34,211,238,.8); }
}

.leccion-programacion-html5 .subtitulo {
  margin-top: 0.6rem;
  color: var(--text-soft);
  letter-spacing: 0.15em;
  text-transform: uppercase;
  font-size: 0.8rem;
}

.leccion-programacion-html5 .meta-leccion {
  margin-top: 1rem;
  display: flex;
  gap: 1rem;
  flex-wrap: wrap;
  font-size: 0.75rem;
  color: var(--text-soft);
}

/* ================================
   BLOQUES GENERALES
================================ */
.leccion-programacion-html5 .bloque {
  background: linear-gradient(
    180deg,
    var(--bg-panel),
    var(--bg-panel-soft)
  );
  border: 1px solid rgba(34, 211, 238, 0.15);
  border-radius: 12px;
  padding: 1.6rem;
  margin-bottom: 1.8rem;
  opacity: 0;
  transform: translateY(20px);
  transition: all 0.6s ease;
}

.leccion-programacion-html5 .bloque-visible {
  opacity: 1;
  transform: translateY(0);
}

.leccion-programacion-html5 .bloque-titulo {
  color: var(--neon-soft);
  margin-bottom: 1rem;
  font-size: 1.2rem;
  border-left: 3px solid var(--neon);
  padding-left: 0.6rem;
}

/* ================================
   TEXTO Y LISTAS
================================ */
.leccion-programacion-html5 p {
  color: var(--text-main);
  line-height: 1.6;
  margin-bottom: 0.8rem;
}

.leccion-programacion-html5 ul,
.leccion-programacion-html5 ol {
  padding-left: 1.2rem;
  color: var(--text-soft);
}

.leccion-programacion-html5 li {
  margin-bottom: 0.4rem;
}

/* ================================
   TABLA SEM츼NTICA
================================ */
.leccion-programacion-html5 .tabla-semantica {
  display: grid;
  gap: 0.6rem;
}

.leccion-programacion-html5 .tabla-semantica .fila {
  display: grid;
  grid-template-columns: 160px 1fr;
  background: rgba(2, 6, 23, 0.6);
  padding: 0.6rem;
  border-radius: 6px;
  font-size: 0.85rem;
}

.leccion-programacion-html5 .tabla-semantica .tag {
  color: var(--accent);
  font-family: monospace;
}

/* ================================
   FORMULARIO
================================ */
.leccion-programacion-html5 .formulario-demo {
  display: grid;
  gap: 1rem;
}

.leccion-programacion-html5 .campo label {
  font-size: 0.75rem;
  color: var(--text-soft);
}

.leccion-programacion-html5 input,
.leccion-programacion-html5 textarea {
  width: 100%;
  background: #020617;
  border: 1px solid rgba(148, 163, 184, 0.25);
  color: var(--text-main);
  padding: 0.6rem;
  border-radius: 6px;
  font-family: inherit;
}

.leccion-programacion-html5 input:focus,
.leccion-programacion-html5 textarea:focus {
  outline: none;
  border-color: var(--neon);
  box-shadow: 0 0 0 1px rgba(34,211,238,.4);
}

.leccion-programacion-html5 .campo-error {
  border-color: var(--danger) !important;
}

.leccion-programacion-html5 .btn-enviar {
  background: linear-gradient(90deg, var(--neon), var(--accent));
  border: none;
  padding: 0.7rem;
  border-radius: 8px;
  font-weight: 700;
  cursor: pointer;
  color: #020617;
}

.leccion-programacion-html5 .mensaje-exito {
  margin-top: 0.8rem;
  color: var(--success);
  font-size: 0.8rem;
  opacity: 0;
  transition: opacity 0.4s ease;
}

.leccion-programacion-html5 .mensaje-exito.visible {
  opacity: 1;
}

/* ================================
   DETAILS / ERRORES
================================ */
.leccion-programacion-html5 details {
  background: rgba(2,6,23,.6);
  padding: 0.6rem;
  border-radius: 6px;
  cursor: pointer;
  margin-bottom: 0.5rem;
}

.leccion-programacion-html5 summary {
  color: var(--neon-soft);
  font-size: 0.85rem;
}

/* ================================
   PROGRESO DE LECCI칍N
================================ */
.progreso-leccion {
  position: fixed;
  bottom: 18px;
  right: 18px;
  background: #020617;
  border: 1px solid rgba(34,211,238,.3);
  border-radius: 10px;
  padding: 0.6rem 0.8rem;
  width: 180px;
  z-index: 999;
}

.progreso-texto {
  font-size: 0.7rem;
  color: var(--text-soft);
}

.progreso-barra {
  height: 6px;
  background: rgba(148,163,184,.2);
  border-radius: 6px;
  overflow: hidden;
  margin-top: 4px;
}

.progreso-valor {
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg, var(--neon), var(--accent));
}

/* ================================
   TIP ROTATIVO
================================ */
.tip-rotativo {
  margin-top: 1rem;
  font-size: 0.75rem;
  color: var(--text-soft);
  border-top: 1px dashed rgba(148,163,184,.2);
  padding-top: 0.6rem;
  text-align: center;
}

/* ESTILOS ESPEC칈FICOS PARA LECCI칍N HTML5 SEM츼NTICO */
.leccion-programacion-html5 {
    --primary-neon: #00FFFF;
    --accent-neon: #39FF14;
    --warning-neon: #FFFF00;
    --error-neon: #FF6B6B;
}

/* 츼RBOL SEM츼NTICO INTERACTIVO */
.tree {
    font-family: 'Consolas', monospace;
    font-size: 0.9rem;
}

.tree-item {
    padding: 0.25rem 0;
    border-left: 1px dotted rgba(0, 255, 255, 0.3);
    margin-left: 0.5rem;
}

.tree-tag {
    color: #e0f0ff;
    padding: 0.1rem 0.5rem;
    border-radius: 3px;
}

.tree-tag.semantic {
    background: rgba(57, 255, 20, 0.1);
    color: var(--accent-neon);
}

/* COMPARATIVA DE C칍DIGO */
.comparativa-rapida {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
    margin: 1.5rem 0;
    background: rgba(0, 0, 0, 0.3);
    padding: 1rem;
    border-radius: 6px;
}

.comparativa-bad, .comparativa-good {
    padding: 1rem;
    border-radius: 4px;
}

.comparativa-bad {
    border: 1px solid var(--error-neon);
    background: rgba(255, 107, 107, 0.05);
}

.comparativa-good {
    border: 1px solid var(--accent-neon);
    background: rgba(57, 255, 20, 0.05);
}

.comparativa-bad pre, .comparativa-good pre {
    margin: 0.5rem 0 0;
    padding: 0.75rem;
    background: rgba(0, 0, 0, 0.5);
    border-radius: 4px;
    overflow-x: auto;
}

/* DESAF칈O FINAL */
.desafio-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.5rem;
    margin-top: 1rem;
}

@media (max-width: 768px) {
    .desafio-content { grid-template-columns: 1fr; }
}

.codigo-roto pre, .solucion-textarea {
    background: #1a1a2e;
    color: #e0f0ff;
    padding: 1rem;
    border-radius: 6px;
    border: 1px solid rgba(255, 107, 107, 0.3);
    font-family: 'Consolas', monospace;
    font-size: 0.9rem;
}

.solucion-textarea {
    width: 100%;
    height: 200px;
    resize: vertical;
    margin: 0.5rem 0;
}

.solucion-feedback {
    margin-top: 0.75rem;
    padding: 0.75rem;
    border-radius: 4px;
    font-weight: bold;
}
/* VARIABLES PRINCIPALES */
:root {
    --neon-cyan: #00FFFF;
    --neon-green: #39FF14;
    --neon-pink: #FF00FF;
    --neon-yellow: #FFFF00;
    --neon-orange: #FF6B00;
    --bg-dark: #0a0a1a;
    --bg-darker: #050510;
    --bg-card: rgba(10, 10, 26, 0.85);
    --text-light: #e0f0ff;
    --text-dim: #a0b0c0;
    --border-glow: 1px solid rgba(0, 255, 255, 0.4);
    --shadow-neon: 0 0 10px rgba(0, 255, 255, 0.3);
}

/* RESET Y BASE */
.leccion-programacion-html5 * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

.leccion-programacion-html5 {
    background: var(--bg-dark);
    color: var(--text-light);
    font-family: 'Segoe UI', 'Roboto', 'Consolas', monospace;
    padding: 1.5rem;
    max-width: 1200px;
    margin: 0 auto;
    line-height: 1.6;
    position: relative;
    min-height: 100vh;
}

/* FONDO CYBERPUNK SUTIL */
.leccion-programacion-html5::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        radial-gradient(circle at 20% 30%, rgba(0, 255, 255, 0.05) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(57, 255, 20, 0.03) 0%, transparent 50%);
    pointer-events: none;
    z-index: 0;
}

/* CABECERA COMPACTA */
.leccion-header.compact {
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
    border-bottom: var(--border-glow);
    position: relative;
    z-index: 1;
}

.header-top {
    display: flex;
    gap: 0.75rem;
    margin-bottom: 1rem;
    flex-wrap: wrap;
}

.materia-badge, .nivel-badge, .tiempo-badge {
    background: rgba(0, 255, 255, 0.15);
    padding: 0.35rem 1rem;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: 600;
    letter-spacing: 0.5px;
    border: 1px solid rgba(0, 255, 255, 0.3);
}

.nivel-badge { background: rgba(57, 255, 20, 0.15); border-color: rgba(57, 255, 20, 0.3); }
.tiempo-badge { background: rgba(255, 0, 255, 0.15); border-color: rgba(255, 0, 255, 0.3); }

.titulo-leccion {
    font-size: 2.2rem;
    color: var(--neon-cyan);
    margin: 0.5rem 0;
    text-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
    font-weight: 700;
    letter-spacing: 1px;
}

.neon-icon {
    color: var(--neon-green);
    margin-right: 0.75rem;
    font-size: 1.8rem;
}

.leccion-subtitulo {
    font-size: 1.1rem;
    color: var(--text-dim);
    margin-top: 0.5rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.leccion-subtitulo::before {
    content: '郊';
    color: var(--neon-green);
    font-size: 0.9rem;
}

/* OBJETIVOS R츼PIDOS */
.objetivos-rapidos {
    margin: 2rem 0 3rem;
    position: relative;
    z-index: 1;
}

.objetivos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
}

.objetivo-card {
    background: var(--bg-card);
    border: 1px solid rgba(57, 255, 20, 0.2);
    border-radius: 10px;
    padding: 1.5rem;
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.objetivo-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, var(--neon-green), transparent);
}

.objetivo-card:hover {
    transform: translateY(-5px);
    border-color: var(--neon-green);
    box-shadow: var(--shadow-neon);
}

.obj-icon {
    font-size: 2rem;
    flex-shrink: 0;
}

.obj-text h4 {
    color: var(--neon-cyan);
    margin-bottom: 0.5rem;
    font-size: 1.1rem;
}

.obj-text p {
    color: var(--text-dim);
    font-size: 0.9rem;
    line-height: 1.5;
}

/* SECCI칍N PRINCIPAL */
.seccion-principal {
    display: flex;
    flex-direction: column;
    gap: 3rem;
    position: relative;
    z-index: 1;
}

.seccion-titulo {
    font-size: 1.5rem;
    color: var(--neon-cyan);
    margin-bottom: 1.5rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding-bottom: 0.5rem;
    border-bottom: 2px solid rgba(0, 255, 255, 0.2);
}

.neon-bullet {
    color: var(--neon-green);
    font-size: 1.2rem;
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

/* ETIQUETAS SEM츼NTICAS */
.etiquetas-grid-detalle {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 1.5rem;
    margin-top: 1.5rem;
}

.etiqueta-item {
    background: rgba(0, 0, 0, 0.4);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    padding: 1.5rem;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.etiqueta-item:hover {
    border-color: var(--neon-cyan);
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 255, 255, 0.1);
}

.tag-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
}

.etiqueta-item code {
    color: var(--neon-green);
    font-size: 1.3rem;
    font-weight: bold;
    font-family: 'Consolas', monospace;
    background: rgba(57, 255, 20, 0.1);
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
}

.tag-importance {
    font-size: 0.75rem;
    padding: 0.25rem 0.75rem;
    border-radius: 12px;
    font-weight: bold;
}

.tag-desc {
    color: var(--text-light);
    margin-bottom: 0.75rem;
    font-size: 0.95rem;
}

.tag-uso {
    color: var(--text-dim);
    font-size: 0.85rem;
    margin-bottom: 0.75rem;
}

.tag-uso strong {
    color: var(--neon-yellow);
}

.tag-ejemplo {
    font-family: 'Consolas', monospace;
    font-size: 0.8rem;
    color: rgba(255, 255, 255, 0.6);
    background: rgba(0, 0, 0, 0.3);
    padding: 0.75rem;
    border-radius: 4px;
    border-left: 3px solid var(--neon-cyan);
    margin-top: 0.5rem;
    overflow-x: auto;
}

/* SIMULADOR DE ESTRUCTURA - MEJORADO */
.simulador-controls {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 12px;
    padding: 1.5rem;
    border: var(--border-glow);
    margin-bottom: 1.5rem;
}

.controls-header {
    margin-bottom: 1.5rem;
    text-align: center;
}

.controls-header h3 {
    color: var(--neon-pink);
    margin-bottom: 0.5rem;
    font-size: 1.3rem;
}

.controls-header p {
    color: var(--text-dim);
    font-size: 0.95rem;
}

.controls-buttons {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
    margin-bottom: 1rem;
}

.btn-control {
    padding: 1rem 1.5rem;
    border: none;
    border-radius: 8px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 1rem;
    min-width: 200px;
    justify-content: center;
}

.btn-analyze {
    background: linear-gradient(45deg, var(--neon-cyan), #0097A7);
    color: white;
}

.btn-optimize {
    background: linear-gradient(45deg, var(--neon-green), #2E7D32);
    color: white;
}

.btn-reset {
    background: linear-gradient(45deg, var(--neon-pink), #FF00AA);
    color: white;
}

.btn-control:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.btn-control .btn-icon {
    font-size: 1.2rem;
}

.controls-info {
    text-align: center;
    color: var(--text-dim);
    font-size: 0.9rem;
    padding-top: 1rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.simulador-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    background: rgba(0, 0, 0, 0.5);
    border-radius: 12px;
    padding: 2rem;
    border: var(--border-glow);
    margin-top: 1rem;
}

@media (max-width: 1024px) {
    .simulador-container {
        grid-template-columns: 1fr;
    }
}

.simulador-editor {
    background: #1a1a2e;
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid rgba(0, 255, 255, 0.2);
}

.editor-toolbar {
    background: #0f3460;
    padding: 1rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid rgba(0, 255, 255, 0.2);
}

.toolbar-left {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.file-name {
    font-family: 'Consolas', monospace;
    color: var(--neon-cyan);
    font-weight: bold;
}

.file-stats {
    font-size: 0.85rem;
    color: var(--text-dim);
    background: rgba(0, 0, 0, 0.3);
    padding: 0.25rem 0.75rem;
    border-radius: 4px;
}

.toolbar-right {
    display: flex;
    gap: 0.5rem;
}

.editor-status {
    font-size: 0.85rem;
    color: var(--neon-green);
    background: rgba(57, 255, 20, 0.1);
    padding: 0.25rem 0.75rem;
    border-radius: 4px;
}

.code-editor {
    width: 100%;
    height: 400px;
    background: #0a0a1a;
    color: #e0f0ff;
    border: none;
    padding: 1.5rem;
    font-family: 'Consolas', 'Monaco', monospace;
    font-size: 0.95rem;
    line-height: 1.5;
    resize: none;
    outline: none;
}

.code-editor:focus {
    box-shadow: inset 0 0 0 2px rgba(0, 255, 255, 0.3);
}

/* RESULTADOS DEL SIMULADOR */
.simulador-resultados {
    background: var(--bg-card);
    border-radius: 8px;
    padding: 1.5rem;
    border: 1px solid rgba(57, 255, 20, 0.2);
}

.resultados-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.resultados-header h3 {
    color: var(--neon-green);
    font-size: 1.2rem;
}

.score-display {
    text-align: center;
}

.score-number {
    font-size: 2rem;
    font-weight: bold;
    color: var(--neon-green);
    line-height: 1;
}

.score-label {
    font-size: 0.8rem;
    color: var(--text-dim);
    margin-top: 0.25rem;
}

/* M칄TRICAS */
.metricas-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.metrica {
    background: rgba(0, 0, 0, 0.3);
    padding: 1rem;
    border-radius: 6px;
}

.metrica-label {
    color: var(--text-dim);
    font-size: 0.9rem;
    margin-bottom: 0.5rem;
}

.metrica-value {
    color: var(--neon-cyan);
    font-size: 1.5rem;
    font-weight: bold;
    margin-bottom: 0.5rem;
}

.metrica-bar {
    height: 6px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 3px;
    overflow: hidden;
}

.bar-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--neon-green), var(--neon-cyan));
    border-radius: 3px;
    transition: width 1s ease;
}

/* 츼RBOL DE ESTRUCTURA */
.arbol-estructura {
    background: rgba(0, 0, 0, 0.4);
    padding: 1rem;
    border-radius: 6px;
    margin-bottom: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.arbol-estructura h4 {
    color: var(--neon-yellow);
    margin-bottom: 1rem;
    font-size: 1rem;
}

.tree-container {
    background: #0a0a1a;
    padding: 1rem;
    border-radius: 4px;
    max-height: 200px;
    overflow-y: auto;
    font-family: 'Consolas', monospace;
    font-size: 0.85rem;
}

.tree-line {
    padding: 0.1rem 0;
    white-space: pre;
}

.semantic-tag {
    color: var(--neon-green);
    font-weight: bold;
}

/* RECOMENDACIONES */
.recomendaciones {
    background: rgba(255, 193, 7, 0.05);
    padding: 1rem;
    border-radius: 6px;
    border: 1px solid rgba(255, 193, 7, 0.2);
}

.recomendaciones h4 {
    color: var(--neon-yellow);
    margin-bottom: 0.75rem;
    font-size: 1rem;
}

.recomendaciones ul {
    padding-left: 1.5rem;
    color: var(--text-light);
}

.recomendaciones li {
    margin-bottom: 0.5rem;
    font-size: 0.9rem;
    line-height: 1.4;
}

/* EJEMPLOS R츼PIDOS */
.ejemplos-rapidos {
    margin-top: 1.5rem;
    padding: 1.5rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    border: 1px solid rgba(255, 0, 255, 0.2);
}

.ejemplos-rapidos h4 {
    color: var(--neon-pink);
    margin-bottom: 1rem;
}

.ejemplos-buttons {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
}

.btn-ejemplo {
    background: rgba(255, 0, 255, 0.1);
    color: var(--text-light);
    border: 1px solid rgba(255, 0, 255, 0.3);
    padding: 0.75rem 1.5rem;
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.9rem;
    transition: all 0.2s;
}

.btn-ejemplo:hover {
    background: rgba(255, 0, 255, 0.2);
    transform: translateY(-2px);
}

/* FORMULARIO AVANZADO */
.formulario-container {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 2rem;
    margin-top: 1rem;
}

@media (max-width: 900px) {
    .formulario-container {
        grid-template-columns: 1fr;
    }
}

.formulario-cyberpunk {
    background: var(--bg-card);
    padding: 2rem;
    border-radius: 10px;
    border: 1px solid rgba(255, 0, 255, 0.2);
}

.form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.5rem;
    margin-bottom: 1.5rem;
}

@media (max-width: 768px) {
    .form-row {
        grid-template-columns: 1fr;
    }
}

.form-group {
    display: flex;
    flex-direction: column;
}

.form-group.full-width {
    grid-column: 1 / -1;
}

.formulario-cyberpunk label {
    color: var(--neon-cyan);
    margin-bottom: 0.5rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.label-icon {
    font-size: 1.1rem;
}

.formulario-cyberpunk input,
.formulario-cyberpunk textarea,
.formulario-cyberpunk select {
    background: rgba(0, 0, 0, 0.4);
    border: 1px solid rgba(0, 255, 255, 0.3);
    color: var(--text-light);
    padding: 0.75rem 1rem;
    border-radius: 6px;
    font-family: inherit;
    font-size: 0.95rem;
    transition: all 0.2s;
}

.formulario-cyberpunk input:focus,
.formulario-cyberpunk textarea:focus,
.formulario-cyberpunk select:focus {
    outline: none;
    border-color: var(--neon-green);
    box-shadow: 0 0 0 2px rgba(57, 255, 20, 0.2);
}

.form-hint {
    font-size: 0.8rem;
    color: var(--text-dim);
    margin-top: 0.5rem;
    line-height: 1.4;
}

/* RANGE PERSONALIZADO */
.range-container {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-top: 0.5rem;
}

.formulario-cyberpunk input[type="range"] {
    flex: 1;
    height: 6px;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 3px;
    -webkit-appearance: none;
}

.formulario-cyberpunk input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 20px;
    height: 20px;
    background: var(--neon-green);
    border-radius: 50%;
    cursor: pointer;
    border: 2px solid var(--bg-dark);
}

.formulario-cyberpunk output {
    background: rgba(57, 255, 20, 0.1);
    color: var(--neon-green);
    padding: 0.25rem 0.75rem;
    border-radius: 4px;
    font-weight: bold;
    min-width: 40px;
    text-align: center;
}

.range-labels {
    display: flex;
    justify-content: space-between;
    margin-top: 0.5rem;
    font-size: 0.8rem;
    color: var(--text-dim);
}

/* TEXTAREA CON CONTADOR */
.textarea-info {
    display: flex;
    justify-content: space-between;
    margin-top: 0.5rem;
    font-size: 0.85rem;
}

.char-count {
    color: var(--neon-cyan);
}

.min-chars {
    color: var(--text-dim);
}

/* ACCIONES DEL FORMULARIO */
.form-actions {
    display: flex;
    gap: 1rem;
    align-items: center;
    margin-top: 2rem;
    padding-top: 1.5rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.btn-submit, .btn-reset {
    padding: 1rem 2rem;
    border: none;
    border-radius: 6px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 1rem;
}

.btn-submit {
    background: linear-gradient(45deg, var(--neon-pink), #FF00AA);
    color: white;
}

.btn-submit:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(255, 0, 255, 0.3);
}

.btn-reset {
    background: rgba(255, 255, 255, 0.1);
    color: var(--text-light);
    border: 1px solid rgba(255, 255, 255, 0.3);
}

.btn-reset:hover {
    background: rgba(255, 255, 255, 0.2);
}

.btn-icon {
    font-size: 1.1rem;
}

.form-status {
    flex: 1;
    padding: 1rem;
    border-radius: 6px;
    background: rgba(255, 255, 255, 0.05);
    color: var(--text-dim);
    text-align: center;
    font-size: 0.9rem;
    transition: all 0.3s;
}

/* INFORMACI칍N DE VALIDACI칍N */
.form-validation-info {
    background: rgba(57, 255, 20, 0.05);
    padding: 1.5rem;
    border-radius: 10px;
    border: 1px solid rgba(57, 255, 20, 0.2);
}

.form-validation-info h4 {
    color: var(--neon-green);
    margin-bottom: 1rem;
    font-size: 1.1rem;
}

.form-validation-info ul {
    padding-left: 1.5rem;
    color: var(--text-light);
}

.form-validation-info li {
    margin-bottom: 0.5rem;
    font-size: 0.9rem;
    line-height: 1.4;
}

.form-validation-info code {
    background: rgba(0, 0, 0, 0.3);
    padding: 0.2rem 0.5rem;
    border-radius: 4px;
    font-family: 'Consolas', monospace;
    color: var(--neon-cyan);
}

/* ERRORES FRECUENTES - NUEVO DISE칌O COMPLETO */
.seccion-descripcion {
    color: var(--text-dim);
    margin-bottom: 2rem;
    font-size: 1rem;
    text-align: center;
}

.errores-columna {
    display: flex;
    flex-direction: column;
    gap: 3rem;
}

.error-completo {
    background: var(--bg-card);
    border-radius: 12px;
    overflow: hidden;
    border: 1px solid rgba(255, 107, 107, 0.2);
    transition: transform 0.3s, box-shadow 0.3s;
}

.error-completo:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(255, 107, 107, 0.1);
}

.error-header-completo {
    background: rgba(255, 107, 107, 0.1);
    padding: 1.5rem 2rem;
    display: flex;
    align-items: center;
    gap: 1.5rem;
    border-bottom: 1px solid rgba(255, 107, 107, 0.2);
}

.error-icon {
    font-size: 2rem;
    color: #FF6B6B;
    flex-shrink: 0;
}

.error-titulo h3 {
    color: #FF6B6B;
    font-size: 1.4rem;
    margin-bottom: 0.5rem;
}

.error-subtitulo {
    color: var(--text-dim);
    font-size: 0.95rem;
    font-weight: 500;
}

.error-contenido-completo {
    padding: 2rem;
}

.error-explicacion {
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.error-explicacion h4 {
    color: var(--neon-yellow);
    margin-bottom: 1rem;
    font-size: 1.1rem;
}

.error-explicacion p {
    color: var(--text-light);
    line-height: 1.6;
    font-size: 0.95rem;
}

.error-explicacion strong {
    color: var(--neon-cyan);
}

.error-comparacion {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    margin-bottom: 2rem;
}

@media (max-width: 900px) {
    .error-comparacion {
        grid-template-columns: 1fr;
    }
}

.comparacion-item {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

.incorrecto {
    border: 1px solid rgba(255, 107, 107, 0.3);
}

.correcto {
    border: 1px solid rgba(57, 255, 20, 0.3);
}

.comparacion-header {
    padding: 1rem 1.5rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.comparacion-badge {
    font-size: 0.8rem;
    font-weight: bold;
    padding: 0.25rem 0.75rem;
    border-radius: 4px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.incorrecto-badge {
    background: rgba(255, 107, 107, 0.2);
    color: #FF6B6B;
}

.correcto-badge {
    background: rgba(57, 255, 20, 0.2);
    color: var(--neon-green);
}

.comparacion-desc {
    font-size: 0.85rem;
    color: var(--text-dim);
}

.comparacion-codigo {
    flex: 1;
    padding: 1.5rem;
    background: #0a0a1a;
    overflow-x: auto;
}

.comparacion-codigo pre {
    margin: 0;
    font-family: 'Consolas', monospace;
    font-size: 0.85rem;
    line-height: 1.4;
}

.incorrecto .comparacion-codigo code {
    color: #FF6B6B;
}

.correcto .comparacion-codigo code {
    color: var(--neon-green);
}

.comparacion-problema,
.comparacion-solucion {
    padding: 1rem 1.5rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    font-size: 0.9rem;
}

.comparacion-problema p,
.comparacion-solucion p {
    margin: 0;
    line-height: 1.5;
}

.comparacion-problema strong {
    color: #FF6B6B;
}

.comparacion-solucion strong {
    color: var(--neon-green);
}

.error-consejo {
    background: rgba(255, 193, 7, 0.05);
    padding: 1.5rem;
    border-radius: 8px;
    border: 1px solid rgba(255, 193, 7, 0.2);
    margin-top: 1.5rem;
}

.error-consejo p {
    color: var(--text-light);
    line-height: 1.6;
    margin: 0;
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
}

.error-consejo strong {
    color: var(--neon-yellow);
}

/* DESAF칈O PR츼CTICO */
.desafio-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    margin-top: 1.5rem;
}

@media (max-width: 1024px) {
    .desafio-container {
        grid-template-columns: 1fr;
    }
}

.desafio-problema, .desafio-solucion {
    background: var(--bg-card);
    padding: 1.5rem;
    border-radius: 10px;
    border: 1px solid rgba(255, 0, 255, 0.2);
}

.desafio-problema h4, .desafio-solucion h4 {
    color: var(--neon-pink);
    margin-bottom: 1rem;
    font-size: 1.1rem;
}

.codigo-malo {
    background: #1a1a2e;
    padding: 1.5rem;
    border-radius: 6px;
    border: 1px solid rgba(255, 107, 107, 0.3);
    margin-bottom: 1.5rem;
    overflow-x: auto;
}

.codigo-malo pre {
    margin: 0;
    color: #FF6B6B;
    font-family: 'Consolas', monospace;
    font-size: 0.9rem;
    line-height: 1.4;
}

.problema-desc {
    color: var(--text-light);
}

.problema-desc p {
    margin-bottom: 0.75rem;
    font-weight: 600;
}

.problema-desc ul {
    padding-left: 1.5rem;
    margin-top: 0.5rem;
}

.problema-desc li {
    margin-bottom: 0.5rem;
    color: var(--text-dim);
}

/* EDITOR DE SOLUCI칍N */
.editor-solucion {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.solucion-textarea {
    width: 100%;
    height: 300px;
    background: #0a0a1a;
    color: var(--text-light);
    border: 1px solid rgba(57, 255, 20, 0.3);
    border-radius: 6px;
    padding: 1.5rem;
    font-family: 'Consolas', monospace;
    font-size: 0.95rem;
    line-height: 1.5;
    resize: vertical;
    outline: none;
}

.solucion-textarea:focus {
    border-color: var(--neon-green);
    box-shadow: 0 0 0 2px rgba(57, 255, 20, 0.2);
}

.editor-tools {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
}

.btn-verificar, .btn-mostrar, .btn-limpiar {
    padding: 0.75rem 1.5rem;
    border: none;
    border-radius: 6px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.btn-verificar {
    background: linear-gradient(45deg, var(--neon-green), #2E7D32);
    color: white;
}

.btn-mostrar {
    background: rgba(0, 255, 255, 0.1);
    color: var(--text-light);
    border: 1px solid rgba(0, 255, 255, 0.3);
}

.btn-limpiar {
    background: rgba(255, 107, 107, 0.1);
    color: #FF6B6B;
    border: 1px solid rgba(255, 107, 107, 0.3);
}

.btn-verificar:hover, .btn-mostrar:hover, .btn-limpiar:hover {
    transform: translateY(-2px);
}

/* FEEDBACK DE SOLUCI칍N */
.solucion-feedback {
    margin-top: 1.5rem;
    padding: 1.5rem;
    border-radius: 8px;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.feedback-initial {
    color: var(--text-light);
    line-height: 1.5;
}

.feedback-initial p {
    margin-bottom: 0.75rem;
}

.feedback-initial ul {
    padding-left: 1.5rem;
    margin-top: 0.5rem;
}

.feedback-initial li {
    margin-bottom: 0.5rem;
    color: var(--text-dim);
}

.feedback-excelente {
    background: rgba(57, 255, 20, 0.1);
    border: 1px solid rgba(57, 255, 20, 0.3);
    padding: 1.5rem;
    border-radius: 8px;
}

.feedback-bueno {
    background: rgba(255, 193, 7, 0.1);
    border: 1px solid rgba(255, 193, 7, 0.3);
    padding: 1.5rem;
    border-radius: 8px;
}

.feedback-mejorable {
    background: rgba(255, 107, 107, 0.1);
    border: 1px solid rgba(255, 107, 107, 0.3);
    padding: 1.5rem;
    border-radius: 8px;
}

.feedback-excelente h4,
.feedback-bueno h4,
.feedback-mejorable h4 {
    color: white;
    margin-bottom: 0.75rem;
}

.feedback-error {
    background: rgba(255, 107, 107, 0.1);
    border: 1px solid rgba(255, 107, 107, 0.3);
    padding: 1.5rem;
    border-radius: 8px;
    color: #FF6B6B;
}

/* SIMULADOR HTML COMPLETO */
.simulador-completo-container {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 12px;
    border: var(--border-glow);
    overflow: hidden;
    margin-top: 1rem;
}

.simulador-tabs {
    display: flex;
    flex-direction: column;
    height: 600px;
}

.tabs-header {
    display: flex;
    background: #0f3460;
    border-bottom: 1px solid rgba(0, 255, 255, 0.2);
}

.tab-btn {
    background: none;
    border: none;
    color: var(--text-light);
    padding: 1rem 2rem;
    cursor: pointer;
    font-weight: 600;
    font-size: 0.95rem;
    border-right: 1px solid rgba(0, 255, 255, 0.2);
    transition: all 0.2s;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.tab-btn.active {
    background: rgba(0, 255, 255, 0.2);
    color: var(--neon-cyan);
    box-shadow: inset 0 -3px 0 var(--neon-cyan);
}

.tab-btn:hover:not(.active) {
    background: rgba(0, 255, 255, 0.1);
}

.tabs-content {
    flex: 1;
    display: flex;
    overflow: hidden;
}

.tab-pane {
    flex: 1;
    display: none;
    overflow: hidden;
}

.tab-pane.active {
    display: flex;
    flex-direction: column;
}

/* EDITOR HTML */
.editor-html {
    flex: 1;
    display: flex;
    flex-direction: column;
    background: #1a1a2e;
}

.editor-header {
    background: #0a0a1a;
    padding: 1rem 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid rgba(0, 255, 255, 0.2);
}

.editor-header span {
    color: var(--neon-cyan);
    font-weight: bold;
    font-family: 'Consolas', monospace;
}

.editor-actions {
    display: flex;
    gap: 0.75rem;
}

.btn-ejecutar, .btn-guardar, .btn-descargar {
    padding: 0.5rem 1rem;
    border: none;
    border-radius: 4px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.9rem;
}

.btn-ejecutar {
    background: linear-gradient(45deg, var(--neon-green), #2E7D32);
    color: white;
}

.btn-guardar {
    background: rgba(0, 255, 255, 0.1);
    color: var(--text-light);
    border: 1px solid rgba(0, 255, 255, 0.3);
}

.btn-descargar {
    background: rgba(255, 0, 255, 0.1);
    color: var(--text-light);
    border: 1px solid rgba(255, 0, 255, 0.3);
}

.btn-ejecutar:hover, .btn-guardar:hover, .btn-descargar:hover {
    transform: translateY(-2px);
}

.editor-html-textarea {
    flex: 1;
    background: #0a0a1a;
    color: var(--text-light);
    border: none;
    padding: 1.5rem;
    font-family: 'Consolas', monospace;
    font-size: 0.95rem;
    line-height: 1.5;
    resize: none;
    outline: none;
}

/* VISTA PREVIA */
.vista-previa {
    flex: 1;
    display: flex;
    flex-direction: column;
    background: white;
}

.vista-header {
    background: #f0f0f0;
    padding: 1rem 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid #ddd;
}

.vista-header span {
    color: #333;
    font-weight: bold;
}

.vista-actions {
    display: flex;
    gap: 1rem;
    align-items: center;
}

.btn-actualizar {
    background: #4CAF50;
    color: white;
    border: none;
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.vista-size select {
    padding: 0.5rem;
    border-radius: 4px;
    border: 1px solid #ccc;
    background: white;
    color: #333;
}

.vista-iframe {
    flex: 1;
    border: none;
    width: 100%;
    height: 500px;
}

/* CONSOLA */
.consola-output {
    flex: 1;
    display: flex;
    flex-direction: column;
    background: #0a0a1a;
}

.consola-header {
    background: #1a1a2e;
    padding: 1rem 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid rgba(0, 255, 255, 0.2);
}

.consola-header span {
    color: var(--neon-yellow);
    font-weight: bold;
}

.btn-limpiar {
    background: rgba(255, 107, 107, 0.1);
    color: #FF6B6B;
    border: 1px solid rgba(255, 107, 107, 0.3);
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.consola-content {
    flex: 1;
    padding: 1.5rem;
    overflow-y: auto;
    font-family: 'Consolas', monospace;
    font-size: 0.9rem;
    line-height: 1.4;
}

.console-entry {
    padding: 0.5rem 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    color: var(--text-light);
}

/* INFORMACI칍N DEL SIMULADOR */
.simulador-info {
    padding: 1.5rem;
    background: rgba(0, 0, 0, 0.3);
    border-top: 1px solid rgba(0, 255, 255, 0.2);
}

.simulador-info h4 {
    color: var(--neon-cyan);
    margin-bottom: 1rem;
}

.simulador-info ol {
    padding-left: 1.5rem;
    color: var(--text-light);
}

.simulador-info li {
    margin-bottom: 0.5rem;
    line-height: 1.5;
}

/* EVALUACI칍N Y RECURSOS (COMPARTIDOS) */
.evaluacion-recursos {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    margin-top: 3rem;
}

@media (max-width: 900px) {
    .evaluacion-recursos {
        grid-template-columns: 1fr;
    }
}

/* AUTOEVALUACI칍N COMPACTA */
.autoevaluacion-compact {
    background: var(--bg-card);
    padding: 1.5rem;
    border-radius: 10px;
    border: 1px solid rgba(57, 255, 20, 0.2);
}

.eval-grid {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    margin: 1.5rem 0;
}

.eval-item {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.eval-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.eval-label {
    color: var(--text-light);
    font-weight: 600;
}

.eval-value {
    color: var(--neon-green);
    font-weight: bold;
    font-size: 1.1rem;
}

.eval-slider {
    width: 100%;
    height: 8px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    -webkit-appearance: none;
    outline: none;
}

.eval-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 20px;
    height: 20px;
    background: var(--neon-green);
    border-radius: 50%;
    cursor: pointer;
    border: 2px solid var(--bg-dark);
}

.eval-labels {
    display: flex;
    justify-content: space-between;
    font-size: 0.8rem;
    color: var(--text-dim);
}

.eval-actions {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 2rem;
    padding-top: 1.5rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.btn-guardar-eval {
    background: linear-gradient(45deg, var(--neon-pink), #FF00AA);
    color: white;
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 6px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.btn-guardar-eval:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(255, 0, 255, 0.3);
}

.eval-promedio {
    color: var(--text-light);
    background: rgba(0, 0, 0, 0.3);
    padding: 0.75rem 1.5rem;
    border-radius: 6px;
    border: 1px solid rgba(0, 255, 255, 0.2);
}

.eval-promedio strong {
    color: var(--neon-cyan);
}

.eval-promedio span {
    color: var(--neon-green);
    font-weight: bold;
    font-size: 1.1rem;
}

/* RECURSOS COMPACTOS */
.recursos-compact {
    background: var(--bg-card);
    padding: 1.5rem;
    border-radius: 10px;
    border: 1px solid rgba(0, 255, 255, 0.2);
}

.recursos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
    margin-top: 1.5rem;
}

.recurso-card {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(0, 255, 255, 0.2);
    border-radius: 8px;
    padding: 1.5rem;
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    text-decoration: none;
    transition: all 0.3s;
}

.recurso-card:hover {
    transform: translateY(-5px);
    border-color: var(--neon-cyan);
    box-shadow: var(--shadow-neon);
}

.recurso-icon {
    font-size: 2rem;
    flex-shrink: 0;
}

.recurso-content h4 {
    color: var(--neon-cyan);
    margin-bottom: 0.5rem;
    font-size: 1rem;
}

.recurso-content p {
    color: var(--text-dim);
    font-size: 0.85rem;
    line-height: 1.4;
}

/* NOTIFICACIONES */
.notificacion {
    position: fixed;
    top: 20px;
    right: 20px;
    background: var(--bg-card);
    border-radius: 8px;
    padding: 1rem 1.5rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
    min-width: 300px;
    max-width: 400px;
    z-index: 10000;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    animation: slideIn 0.3s ease;
    border-left: 4px solid;
}

@keyframes slideIn {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

.notificacion-success {
    border-left-color: var(--neon-green);
    background: rgba(57, 255, 20, 0.1);
}

.notificacion-warning {
    border-left-color: var(--neon-yellow);
    background: rgba(255, 193, 7, 0.1);
}

.notificacion-info {
    border-left-color: var(--neon-cyan);
    background: rgba(0, 255, 255, 0.1);
}

.notificacion-contenido {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    flex: 1;
}

.notificacion-icon {
    font-size: 1.2rem;
}

.notificacion-mensaje {
    color: var(--text-light);
    font-size: 0.95rem;
    line-height: 1.4;
}

.notificacion-cerrar {
    background: none;
    border: none;
    color: var(--text-dim);
    font-size: 1.5rem;
    cursor: pointer;
    padding: 0;
    line-height: 1;
    transition: color 0.2s;
}


.notificacion-cerrar:hover {
    color: var(--text-light);
}

/* RESPONSIVE ADAPTACIONES */
@media (max-width: 768px) {
    .leccion-programacion-html5 {
        padding: 1rem;
    }
    
    .titulo-leccion {
        font-size: 1.8rem;
    }
    
    .objetivos-grid,
    .etiquetas-grid-detalle {
        grid-template-columns: 1fr;
    }
    
    .simulador-container,
    .desafio-container,
    .form-row {
        grid-template-columns: 1fr;
        padding: 1rem;
    }
    
    .form-actions {
        flex-direction: column;
    }
    
    .editor-tools {
        flex-direction: column;
    }
    
    .btn-verificar, .btn-mostrar, .btn-limpiar {
        width: 100%;
        justify-content: center;
    }
    
    .tabs-header {
        flex-wrap: wrap;
    }
    
    .tab-btn {
        flex: 1;
        min-width: 120px;
        justify-content: center;
        padding: 0.75rem;
    }
    
    .controls-buttons {
        flex-direction: column;
    }
    
    .btn-control {
        width: 100%;
    }
    
    .error-comparacion {
        grid-template-columns: 1fr;
    }
}

/* ANIMACIONES Y EFECTOS */
@keyframes highlight {
    0% { background-color: rgba(57, 255, 20, 0); }
    50% { background-color: rgba(57, 255, 20, 0.1); }
    100% { background-color: rgba(57, 255, 20, 0); }
}

.highlight {
    animation: highlight 1s ease;
}

/* SCROLLBAR PERSONALIZADA */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb {
    background: rgba(0, 255, 255, 0.3);
    border-radius: 4px;
}

/* =======================================================
   LC-ADVANCE - leccion_detalle.php specific styles
   ======================================================= */

.page-wrapper {
    width: 100%;
    max-width: 100vw;
    overflow-x: hidden;
}

.main-header {
    width: 100%;
    border-bottom: 1px solid var(--neon-cyan);
    box-shadow: 0 0 15px rgba(0, 243, 255, 0.2);
    padding: 10px 15px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-sizing: border-box;
    background: rgba(10, 10, 15, 0.95);
    backdrop-filter: blur(10px);
    z-index: 1001;
    position: sticky;
    top: 0;
}

.header-title {
    border: 1px solid var(--neon-cyan);
    padding: 5px 15px;
    background: rgba(0, 243, 255, 0.05);
    position: relative;
}

.header-title::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 100%;
    height: 2px;
    background: orange;
    box-shadow: 0 0 5px orange;
}

.header-title h1 {
    font-size: 1rem;
    margin: 0;
    text-shadow: 0 0 10px var(--neon-cyan);
    color: var(--neon-cyan);
    white-space: nowrap;
}

.header-title .access {
    color: #39ff14;
    text-shadow: 0 0 10px #39ff14;
    display: block;
    font-size: 0.7rem;
}

.main-content {
    padding: 15px;
    width: 100%;
    box-sizing: border-box;
    max-width: 1200px;
    margin: 0 auto;
}

.lesson-layout {
    display: flex;
    gap: 20px;
    align-items: flex-start;
}

.lesson-main {
    flex: 1;
    min-width: 0;
}

.lesson-sidebar {
    width: 320px;
    flex-shrink: 0;
}

.module-title {
    font-size: 0.9rem;
    letter-spacing: 3px;
    color: var(--neon-cyan);
    margin: 20px 0 25px;
    text-align: center;
    text-transform: uppercase;
    font-weight: bold;
    display: block;
    border-bottom: 2px solid var(--neon-cyan);
    padding-bottom: 10px;
    box-shadow: 0 4px 10px -5px var(--neon-cyan);
}

.tabs {
    background: rgba(0, 0, 0, 0.4);
    padding: 4px;
    border-radius: 30px;
    margin-bottom: 25px;
    display: flex;
    gap: 5px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    max-width: 450px;
    margin-left: auto;
    margin-right: auto;
}

.tab-btn {
    flex: 1;
    font-size: 10px;
    padding: 10px 15px;
    border: none;
    border-radius: 25px;
    transition: all 0.3s ease;
    text-transform: uppercase;
    font-family: 'Orbitron', sans-serif;
    background: transparent;
    color: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 5px;
    cursor: pointer;
}

.tab-btn.active {
    background: rgba(0, 243, 255, 0.15);
    box-shadow: inset 0 0 10px rgba(0, 243, 255, 0.1);
    color: var(--neon-cyan);
    border: 1px solid rgba(0, 243, 255, 0.3);
}

.panel {
    background: rgba(20, 20, 30, 0.6);
    border: 1px solid rgba(0, 243, 255, 0.1);
    border-radius: 12px;
    padding: 25px;
    backdrop-filter: blur(10px);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    margin-bottom: 30px;
}

.lesson-header {
    text-align: center;
    margin-bottom: 30px;
    padding: 20px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    position: relative;
    border: 1px solid rgba(255, 0, 255, 0.1);
}

.lesson-title-row {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 15px;
    margin-bottom: 15px;
    flex-wrap: wrap;
}

.icon-tema {
    font-size: 2.5rem;
    filter: drop-shadow(0 0 8px var(--neon-magenta));
}

.lesson-title {
    font-size: 1.4rem;
    color: #fff;
    margin: 0;
    text-transform: uppercase;
    letter-spacing: 1px;
    line-height: 1.3;
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
}

.lesson-header::after {
    content: '';
    display: block;
    width: 100%;
    height: 1px;
    border-bottom: 2px dashed var(--neon-magenta);
    margin: 15px 0;
    opacity: 0.4;
}

.lesson-materia {
    font-size: 0.8rem;
    color: var(--neon-magenta);
    text-transform: uppercase;
    letter-spacing: 2px;
    font-weight: bold;
    display: block;
    margin-bottom: 5px;
}

.previous-score {
    font-size: 0.9rem;
    color: #aaa;
    margin-top: 10px;
}

.previous-score strong {
    color: var(--neon-cyan);
    font-family: 'Orbitron', sans-serif;
}

.lesson-content {
    font-size: 16px;
    line-height: 1.8;
    color: #eee;
    margin-bottom: 30px;
}

.lesson-content h3 {
    color: var(--neon-cyan) !important;
    border-bottom: 2px solid var(--neon-cyan) !important;
    font-size: 1.2rem !important;
    padding-bottom: 10px;
    margin-top: 40px;
}

.lesson-content h4 {
    color: var(--neon-magenta) !important;
    font-size: 1rem !important;
    margin-top: 25px;
}

.sidebar-card {
    background: rgba(20, 20, 30, 0.85);
    border: 1px solid rgba(0, 243, 255, 0.3);
    box-shadow: 0 0 20px rgba(0, 243, 255, 0.1);
    border-radius: 12px;
    padding: 20px;
    position: sticky;
    top: 80px;
}

.info-item {
    margin-bottom: 18px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.info-item .label {
    font-size: 11px;
    color: #888;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.info-item .value {
    font-size: 13px;
    color: #fff;
    font-weight: bold;
    font-family: 'Orbitron', sans-serif;
}

.progress-item {
    flex-direction: column;
    align-items: flex-start;
    gap: 10px;
}

.progress-bar {
    width: 100%;
    height: 8px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 10px;
    overflow: hidden;
    border: 1px solid rgba(0, 243, 255, 0.2);
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--neon-cyan), #0088ff);
    box-shadow: 0 0 10px var(--neon-cyan);
    border-radius: 10px;
    transition: width 1s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.percent {
    font-size: 14px;
    color: var(--neon-cyan);
    align-self: flex-end;
    font-family: 'Orbitron', sans-serif;
    text-shadow: 0 0 5px var(--neon-cyan);
}

.sidebar-actions {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-top: 25px;
}

@media (max-width: 992px) {
    .lesson-sidebar {
        width: 280px;
    }
}

@media (max-width: 768px) {
    .lesson-layout {
        flex-direction: column;
        align-items: stretch;
    }
    
    .lesson-sidebar {
        width: 100%;
        order: -1;
        margin-bottom: 20px;
    }

    .sidebar-card {
        position: static;
        padding: 20px;
    }

    .lesson-title {
        font-size: 1.1rem;
    }

    .tabs {
        width: 100%;
        max-width: 100%;
    }

    .tab-btn {
        font-size: 9px;
        padding: 10px 5px;
    }

    .panel {
        padding: 20px 15px;
    }
}

@media (max-width: 480px) {
    .main-content {
        padding: 10px;
    }

    .lesson-header {
        padding: 15px 10px;
    }

    .lesson-title {
        font-size: 1rem;
    }

    .icon-tema {
        font-size: 2rem;
    }

    .btn-small {
        font-size: 10px !important;
        padding: 10px !important;
    }
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 255, 255, 0.5);
}
/* VARIABLES PRINCIPALES */
:root {
    --neon-cyan: #00FFFF;
    --neon-green: #39FF14;
    --neon-pink: #FF00FF;
    --neon-yellow: #FFFF00;
    --neon-orange: #FF6B00;
    --bg-dark: #0a0a1a;
    --bg-darker: #050510;
    --bg-card: rgba(10, 10, 26, 0.85);
    --text-light: #e0f0ff;
    --text-dim: #a0b0c0;
    --border-glow: 1px solid rgba(0, 255, 255, 0.4);
    --shadow-neon: 0 0 10px rgba(0, 255, 255, 0.3);
}

/* RESET Y BASE */
.leccion-programacion-html5 * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

.leccion-programacion-html5 {
    background: var(--bg-dark);
    color: var(--text-light);
    font-family: 'Segoe UI', 'Roboto', 'Consolas', monospace;
    padding: 1.5rem;
    max-width: 1200px;
    margin: 0 auto;
    line-height: 1.6;
    position: relative;
    min-height: 100vh;
}

/* FONDO CYBERPUNK SUTIL */
.leccion-programacion-html5::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        radial-gradient(circle at 20% 30%, rgba(0, 255, 255, 0.05) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(57, 255, 20, 0.03) 0%, transparent 50%);
    pointer-events: none;
    z-index: 0;
}

/* SIMULADOR DE ESTRUCTURA - NUEVO DISE칌O */
.simulador-contenido-ancho {
    width: 100%;
    margin-top: 1.5rem;
}

.editor-y-ejemplos {
    display: flex;
    flex-direction: column;
    gap: 2rem;
}

.editor-container {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 12px;
    border: var(--border-glow);
    overflow: hidden;
}

.simulador-editor {
    background: #1a1a2e;
    border-radius: 0;
    border: none;
    border-bottom: 1px solid rgba(0, 255, 255, 0.2);
}

.editor-toolbar {
    background: #0f3460;
    padding: 1rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid rgba(0, 255, 255, 0.2);
}

.toolbar-left {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.file-name {
    font-family: 'Consolas', monospace;
    color: var(--neon-cyan);
    font-weight: bold;
}

.file-stats {
    font-size: 0.85rem;
    color: var(--text-dim);
    background: rgba(0, 0, 0, 0.3);
    padding: 0.25rem 0.75rem;
    border-radius: 4px;
}

.toolbar-right {
    display: flex;
    gap: 0.5rem;
}

.editor-status {
    font-size: 0.85rem;
    color: var(--neon-green);
    background: rgba(57, 255, 20, 0.1);
    padding: 0.25rem 0.75rem;
    border-radius: 4px;
}

.code-editor {
    width: 100%;
    height: 400px;
    background: #0a0a1a;
    color: #e0f0ff;
    border: none;
    padding: 1.5rem;
    font-family: 'Consolas', 'Monaco', monospace;
    font-size: 0.95rem;
    line-height: 1.5;
    resize: none;
    outline: none;
    overflow-y: auto;
    min-height: 400px;
    max-height: 400px;
}

/* EJEMPLOS R츼PIDOS MEJORADOS */
.ejemplos-rapidos-mejorado {
    padding: 1.5rem;
    background: rgba(0, 0, 0, 0.3);
}

.ejemplos-header {
    margin-bottom: 1.5rem;
    text-align: center;
}

.ejemplos-header h4 {
    color: var(--neon-pink);
    font-size: 1.2rem;
    margin-bottom: 0.5rem;
}

.ejemplos-desc {
    color: var(--text-dim);
    font-size: 0.9rem;
}

.ejemplos-buttons-mejorado {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.btn-ejemplo-mejorado {
    background: rgba(255, 0, 255, 0.1);
    border: 1px solid rgba(255, 0, 255, 0.3);
    border-radius: 8px;
    padding: 1rem;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    color: var(--text-light);
    height: 100%;
}

.btn-ejemplo-mejorado:hover {
    background: rgba(255, 0, 255, 0.2);
    transform: translateY(-3px);
    border-color: var(--neon-pink);
}

.btn-ejemplo-mejorado.selected {
    background: rgba(255, 0, 255, 0.25);
    border-color: var(--neon-pink);
    box-shadow: 0 0 15px rgba(255, 0, 255, 0.3);
}

.ejemplo-icon {
    font-size: 2rem;
    margin-bottom: 0.5rem;
}

.ejemplo-texto {
    font-weight: bold;
    margin-bottom: 0.25rem;
    font-size: 0.95rem;
}

.ejemplo-desc {
    font-size: 0.8rem;
    color: var(--text-dim);
}

.ejemplos-info {
    text-align: center;
    padding-top: 1rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    color: var(--text-dim);
    font-size: 0.9rem;
}

/* AN츼LISIS SEM츼NTICO MEJORADO */
.analisis-container {
    background: var(--bg-card);
    border-radius: 12px;
    border: 1px solid rgba(57, 255, 20, 0.2);
    overflow: hidden;
}

.analisis-header {
    background: rgba(57, 255, 20, 0.1);
    padding: 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid rgba(57, 255, 20, 0.2);
}

.analisis-header h3 {
    color: var(--neon-green);
    font-size: 1.3rem;
}

.analisis-score {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
}

.score-circle {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--neon-green), #2E7D32);
    display: flex;
    align-items: center;
    justify-content: center;
    border: 3px solid var(--neon-green);
    box-shadow: 0 0 20px rgba(57, 255, 20, 0.3);
}

.score-number {
    font-size: 1.8rem;
    font-weight: bold;
    color: white;
}

.score-label {
    font-size: 0.85rem;
    color: var(--text-dim);
}

.analisis-detalle {
    padding: 1.5rem;
}

.metricas-grid-completo {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.metrica-completa {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.metrica-header {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 1rem;
}

.metrica-icon {
    font-size: 1.5rem;
}

.metrica-title {
    font-weight: 600;
    color: var(--text-light);
    font-size: 1rem;
}

.metrica-content {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.metrica-value {
    font-size: 1.8rem;
    font-weight: bold;
    color: var(--neon-cyan);
    text-align: center;
}

.metrica-bar-container {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.metrica-bar-bg {
    flex: 1;
    height: 8px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    overflow: hidden;
}

.metrica-bar-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--neon-green), var(--neon-cyan));
    border-radius: 4px;
    transition: width 1s ease;
}

.metrica-percentage {
    font-size: 0.85rem;
    color: var(--text-dim);
    min-width: 50px;
    text-align: right;
}

/* 츼RBOL DE ESTRUCTURA COMPLETO */
.arbol-estructura-completo {
    background: rgba(0, 0, 0, 0.4);
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    margin-bottom: 1.5rem;
    overflow: hidden;
}

.arbol-header {
    background: rgba(0, 0, 0, 0.5);
    padding: 1rem 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.arbol-header h4 {
    color: var(--neon-yellow);
    margin: 0;
    font-size: 1rem;
}

.btn-expandir {
    background: rgba(0, 255, 255, 0.1);
    color: var(--text-light);
    border: 1px solid rgba(0, 255, 255, 0.3);
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.85rem;
    transition: all 0.2s;
}

.btn-expandir:hover {
    background: rgba(0, 255, 255, 0.2);
}

.arbol-contenido {
    padding: 1rem;
}

.tree-container {
    background: #0a0a1a;
    padding: 1rem;
    border-radius: 6px;
    max-height: 200px;
    overflow-y: auto;
    font-family: 'Consolas', monospace;
    font-size: 0.85rem;
    transition: max-height 0.3s ease;
}

.tree-container.expandido {
    max-height: 400px;
}

.tree-line {
    padding: 0.1rem 0;
    white-space: pre;
    font-family: 'Consolas', monospace;
    font-size: 0.85rem;
    line-height: 1.4;
}

.semantic-tag {
    color: var(--neon-green);
    font-weight: bold;
}

.div-tag {
    color: #FF6B6B;
    font-weight: bold;
}

/* RECOMENDACIONES COMPLETAS */
.recomendaciones-completas {
    background: rgba(255, 193, 7, 0.05);
    border-radius: 8px;
    border: 1px solid rgba(255, 193, 7, 0.2);
    padding: 1.5rem;
}

.recomendaciones-completas h4 {
    color: var(--neon-yellow);
    margin-bottom: 1rem;
    font-size: 1.1rem;
}

.recomendaciones-lista {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.recomendacion-item {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 6px;
    border-left: 3px solid var(--neon-yellow);
}

.recomendacion-icon {
    font-size: 1.2rem;
    flex-shrink: 0;
}

.recomendacion-text {
    color: var(--text-light);
    font-size: 0.9rem;
    line-height: 1.5;
}

.recomendaciones-actions {
    display: flex;
    justify-content: center;
}

.btn-recomendacion {
    background: rgba(255, 193, 7, 0.1);
    color: var(--neon-yellow);
    border: 1px solid rgba(255, 193, 7, 0.3);
    padding: 0.75rem 1.5rem;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.2s;
}

.btn-recomendacion:hover {
    background: rgba(255, 193, 7, 0.2);
    transform: translateY(-2px);
}

/* CONTROLES DEL SIMULADOR - MEJOR VISIBLES */
.simulador-controls {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 12px;
    padding: 1.5rem;
    border: var(--border-glow);
    margin-bottom: 1.5rem;
}

.controls-header {
    margin-bottom: 1.5rem;
    text-align: center;
}

.controls-header h3 {
    color: var(--neon-pink);
    margin-bottom: 0.5rem;
    font-size: 1.3rem;
}

.controls-header p {
    color: var(--text-dim);
    font-size: 0.95rem;
}

.controls-buttons {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
    margin-bottom: 1rem;
}

.btn-control {
    padding: 1rem 1.5rem;
    border: none;
    border-radius: 8px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 1rem;
    min-width: 200px;
    justify-content: center;
}

.btn-analyze {
    background: linear-gradient(45deg, var(--neon-cyan), #0097A7);
    color: white;
}

.btn-optimize {
    background: linear-gradient(45deg, var(--neon-green), #2E7D32);
    color: white;
}

.btn-reset {
    background: linear-gradient(45deg, var(--neon-pink), #FF00AA);
    color: white;
}

.btn-control:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.btn-control .btn-icon {
    font-size: 1.2rem;
}

.controls-info {
    text-align: center;
    color: var(--text-dim);
    font-size: 0.9rem;
    padding-top: 1rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}


/* NOTIFICACIONES */
.notificacion {
    position: fixed;
    top: 20px;
    right: 20px;
    background: var(--bg-card);
    border-radius: 8px;
    padding: 1rem 1.5rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
    min-width: 300px;
    max-width: 400px;
    z-index: 10000;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    animation: slideIn 0.3s ease;
    border-left: 4px solid;
}

@keyframes slideIn {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

.notificacion-success {
    border-left-color: var(--neon-green);
    background: rgba(57, 255, 20, 0.1);
}

.notificacion-warning {
    border-left-color: var(--neon-yellow);
    background: rgba(255, 193, 7, 0.1);
}

.notificacion-info {
    border-left-color: var(--neon-cyan);
    background: rgba(0, 255, 255, 0.1);
}

.notificacion-contenido {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    flex: 1;
}

.notificacion-icon {
    font-size: 1.2rem;
}

.notificacion-mensaje {
    color: var(--text-light);
    font-size: 0.95rem;
    line-height: 1.4;
}

.notificacion-cerrar {
    background: none;
    border: none;
    color: var(--text-dim);
    font-size: 1.5rem;
    cursor: pointer;
    padding: 0;
    line-height: 1;
    transition: color 0.2s;
}

.notificacion-cerrar:hover {
    color: var(--text-light);
}

/* RESPONSIVE */
@media (max-width: 768px) {
    .leccion-programacion-html5 {
        padding: 1rem;
    }
    
    .titulo-leccion {
        font-size: 1.8rem;
    }
    
    .simulador-contenido-ancho {
        margin-top: 1rem;
    }
    
    .editor-y-ejemplos {
        gap: 1rem;
    }
    
    .code-editor {
        height: 300px;
        min-height: 300px;
        max-height: 300px;
    }
    
    .ejemplos-buttons-mejorado {
        grid-template-columns: 1fr;
    }
    
    .metricas-grid-completo {
        grid-template-columns: 1fr;
    }
    
    .controls-buttons {
        flex-direction: column;
    }
    
    .btn-control {
        width: 100%;
    }
    
    .analisis-header {
        flex-direction: column;
        gap: 1rem;
        text-align: center;
    }
}

/* ANIMACIONES */
@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

.neon-bullet {
    animation: pulse 2s infinite;
}

/* SCROLLBAR PERSONALIZADA */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb {
    background: rgba(0, 255, 255, 0.3);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 255, 255, 0.5);
}
/* VARIABLES PRINCIPALES */
:root {
    --neon-cyan: #00FFFF;
    --neon-green: #39FF14;
    --neon-pink: #FF00FF;
    --neon-yellow: #FFFF00;
    --neon-orange: #FF6B00;
    --bg-dark: #0a0a1a;
    --bg-darker: #050510;
    --bg-card: rgba(10, 10, 26, 0.85);
    --text-light: #e0f0ff;
    --text-dim: #a0b0c0;
    --border-glow: 1px solid rgba(0, 255, 255, 0.4);
    --shadow-neon: 0 0 10px rgba(0, 255, 255, 0.3);
}

/* RESET Y BASE */
.leccion-programacion-html5 * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

.leccion-programacion-html5 {
    background: var(--bg-dark);
    color: var(--text-light);
    font-family: 'Segoe UI', 'Roboto', 'Consolas', monospace;
    padding: 1.5rem;
    max-width: 1200px;
    margin: 0 auto;
    line-height: 1.6;
    position: relative;
    min-height: 100vh;
}

/* FONDO CYBERPUNK SUTIL */
.leccion-programacion-html5::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        radial-gradient(circle at 20% 30%, rgba(0, 255, 255, 0.05) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(57, 255, 20, 0.03) 0%, transparent 50%);
    pointer-events: none;
    z-index: 0;
}

/* SIMULADOR DE ESTRUCTURA - NUEVO DISE칌O */
.simulador-contenido-ancho {
    width: 100%;
    margin-top: 1.5rem;
}

.editor-y-ejemplos {
    display: flex;
    flex-direction: column;
    gap: 2rem;
}

.editor-container {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 12px;
    border: var(--border-glow);
    overflow: hidden;
}

.simulador-editor {
    background: #1a1a2e;
    border-radius: 0;
    border: none;
    border-bottom: 1px solid rgba(0, 255, 255, 0.2);
}

.editor-toolbar {
    background: #0f3460;
    padding: 1rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid rgba(0, 255, 255, 0.2);
}

.toolbar-left {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.file-name {
    font-family: 'Consolas', monospace;
    color: var(--neon-cyan);
    font-weight: bold;
}

.file-stats {
    font-size: 0.85rem;
    color: var(--text-dim);
    background: rgba(0, 0, 0, 0.3);
    padding: 0.25rem 0.75rem;
    border-radius: 4px;
}

.toolbar-right {
    display: flex;
    gap: 0.5rem;
}

.editor-status {
    font-size: 0.85rem;
    color: var(--neon-green);
    background: rgba(57, 255, 20, 0.1);
    padding: 0.25rem 0.75rem;
    border-radius: 4px;
}

.code-editor {
    width: 100%;
    height: 400px;
    background: #0a0a1a;
    color: #e0f0ff;
    border: none;
    padding: 1.5rem;
    font-family: 'Consolas', 'Monaco', monospace;
    font-size: 0.95rem;
    line-height: 1.5;
    resize: none;
    outline: none;
    overflow-y: auto;
    min-height: 400px;
    max-height: 400px;
}

/* EJEMPLOS R츼PIDOS MEJORADOS */
.ejemplos-rapidos-mejorado {
    padding: 1.5rem;
    background: rgba(0, 0, 0, 0.3);
}

.ejemplos-header {
    margin-bottom: 1.5rem;
    text-align: center;
}

.ejemplos-header h4 {
    color: var(--neon-pink);
    font-size: 1.2rem;
    margin-bottom: 0.5rem;
}

.ejemplos-desc {
    color: var(--text-dim);
    font-size: 0.9rem;
}

.ejemplos-buttons-mejorado {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.btn-ejemplo-mejorado {
    background: rgba(255, 0, 255, 0.1);
    border: 1px solid rgba(255, 0, 255, 0.3);
    border-radius: 8px;
    padding: 1rem;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    color: var(--text-light);
    height: 100%;
}

.btn-ejemplo-mejorado:hover {
    background: rgba(255, 0, 255, 0.2);
    transform: translateY(-3px);
    border-color: var(--neon-pink);
}

.btn-ejemplo-mejorado.selected {
    background: rgba(255, 0, 255, 0.25);
    border-color: var(--neon-pink);
    box-shadow: 0 0 15px rgba(255, 0, 255, 0.3);
}

.ejemplo-icon {
    font-size: 2rem;
    margin-bottom: 0.5rem;
}

.ejemplo-texto {
    font-weight: bold;
    margin-bottom: 0.25rem;
    font-size: 0.95rem;
}

.ejemplo-desc {
    font-size: 0.8rem;
    color: var(--text-dim);
}

.ejemplos-info {
    text-align: center;
    padding-top: 1rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    color: var(--text-dim);
    font-size: 0.9rem;
}

/* AN츼LISIS SEM츼NTICO MEJORADO */
.analisis-container {
    background: var(--bg-card);
    border-radius: 12px;
    border: 1px solid rgba(57, 255, 20, 0.2);
    overflow: hidden;
}

.analisis-header {
    background: rgba(57, 255, 20, 0.1);
    padding: 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid rgba(57, 255, 20, 0.2);
}

.analisis-header h3 {
    color: var(--neon-green);
    font-size: 1.3rem;
}

.analisis-score {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
}

.score-circle {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--neon-green), #2E7D32);
    display: flex;
    align-items: center;
    justify-content: center;
    border: 3px solid var(--neon-green);
    box-shadow: 0 0 20px rgba(57, 255, 20, 0.3);
}

.score-number {
    font-size: 1.8rem;
    font-weight: bold;
    color: white;
}

.score-label {
    font-size: 0.85rem;
    color: var(--text-dim);
}

.analisis-detalle {
    padding: 1.5rem;
}

.metricas-grid-completo {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.metrica-completa {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.metrica-header {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 1rem;
}

.metrica-icon {
    font-size: 1.5rem;
}

.metrica-title {
    font-weight: 600;
    color: var(--text-light);
    font-size: 1rem;
}

.metrica-content {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.metrica-value {
    font-size: 1.8rem;
    font-weight: bold;
    color: var(--neon-cyan);
    text-align: center;
}

.metrica-bar-container {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.metrica-bar-bg {
    flex: 1;
    height: 8px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    overflow: hidden;
}

.metrica-bar-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--neon-green), var(--neon-cyan));
    border-radius: 4px;
    transition: width 1s ease;
}

.metrica-percentage {
    font-size: 0.85rem;
    color: var(--text-dim);
    min-width: 50px;
    text-align: right;
}

/* 츼RBOL DE ESTRUCTURA COMPLETO */
.arbol-estructura-completo {
    background: rgba(0, 0, 0, 0.4);
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    margin-bottom: 1.5rem;
    overflow: hidden;
}

.arbol-header {
    background: rgba(0, 0, 0, 0.5);
    padding: 1rem 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.arbol-header h4 {
    color: var(--neon-yellow);
    margin: 0;
    font-size: 1rem;
}

.btn-expandir {
    background: rgba(0, 255, 255, 0.1);
    color: var(--text-light);
    border: 1px solid rgba(0, 255, 255, 0.3);
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.85rem;
    transition: all 0.2s;
}

.btn-expandir:hover {
    background: rgba(0, 255, 255, 0.2);
}

.arbol-contenido {
    padding: 1rem;
}

.tree-container {
    background: #0a0a1a;
    padding: 1rem;
    border-radius: 6px;
    max-height: 200px;
    overflow-y: auto;
    font-family: 'Consolas', monospace;
    font-size: 0.85rem;
    transition: max-height 0.3s ease;
}

.tree-container.expandido {
    max-height: 400px;
}

.tree-line {
    padding: 0.1rem 0;
    white-space: pre;
    font-family: 'Consolas', monospace;
    font-size: 0.85rem;
    line-height: 1.4;
}

.semantic-tag {
    color: var(--neon-green);
    font-weight: bold;
}

.div-tag {
    color: #FF6B6B;
    font-weight: bold;
}

/* RECOMENDACIONES COMPLETAS */
.recomendaciones-completas {
    background: rgba(255, 193, 7, 0.05);
    border-radius: 8px;
    border: 1px solid rgba(255, 193, 7, 0.2);
    padding: 1.5rem;
}

.recomendaciones-completas h4 {
    color: var(--neon-yellow);
    margin-bottom: 1rem;
    font-size: 1.1rem;
}

.recomendaciones-lista {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.recomendacion-item {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 6px;
    border-left: 3px solid var(--neon-yellow);
}

.recomendacion-icon {
    font-size: 1.2rem;
    flex-shrink: 0;
}

.recomendacion-text {
    color: var(--text-light);
    font-size: 0.9rem;
    line-height: 1.5;
}

.recomendaciones-actions {
    display: flex;
    justify-content: center;
}

.btn-recomendacion {
    background: rgba(255, 193, 7, 0.1);
    color: var(--neon-yellow);
    border: 1px solid rgba(255, 193, 7, 0.3);
    padding: 0.75rem 1.5rem;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.2s;
}

.btn-recomendacion:hover {
    background: rgba(255, 193, 7, 0.2);
    transform: translateY(-2px);
}

/* CONTROLES DEL SIMULADOR - MEJOR VISIBLES */
.simulador-controls {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 12px;
    padding: 1.5rem;
    border: var(--border-glow);
    margin-bottom: 1.5rem;
}

.controls-header {
    margin-bottom: 1.5rem;
    text-align: center;
}

.controls-header h3 {
    color: var(--neon-pink);
    margin-bottom: 0.5rem;
    font-size: 1.3rem;
}

.controls-header p {
    color: var(--text-dim);
    font-size: 0.95rem;
}

.controls-buttons {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
    margin-bottom: 1rem;
}

.btn-control {
    padding: 1rem 1.5rem;
    border: none;
    border-radius: 8px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 1rem;
    min-width: 200px;
    justify-content: center;
}

.btn-analyze {
    background: linear-gradient(45deg, var(--neon-cyan), #0097A7);
    color: white;
}

.btn-optimize {
    background: linear-gradient(45deg, var(--neon-green), #2E7D32);
    color: white;
}

.btn-reset {
    background: linear-gradient(45deg, var(--neon-pink), #FF00AA);
    color: white;
}

.btn-control:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.btn-control .btn-icon {
    font-size: 1.2rem;
}

.controls-info {
    text-align: center;
    color: var(--text-dim);
    font-size: 0.9rem;
    padding-top: 1rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

/* NOTIFICACIONES */
.notificacion {
    position: fixed;
    top: 20px;
    right: 20px;
    background: var(--bg-card);
    border-radius: 8px;
    padding: 1rem 1.5rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
    min-width: 300px;
    max-width: 400px;
    z-index: 10000;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    animation: slideIn 0.3s ease;
    border-left: 4px solid;
}

@keyframes slideIn {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

.notificacion-success {
    border-left-color: var(--neon-green);
    background: rgba(57, 255, 20, 0.1);
}

.notificacion-warning {
    border-left-color: var(--neon-yellow);
    background: rgba(255, 193, 7, 0.1);
}

.notificacion-info {
    border-left-color: var(--neon-cyan);
    background: rgba(0, 255, 255, 0.1);
}

.notificacion-contenido {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    flex: 1;
}

.notificacion-icon {
    font-size: 1.2rem;
}

.notificacion-mensaje {
    color: var(--text-light);
    font-size: 0.95rem;
    line-height: 1.4;
}

.notificacion-cerrar {
    background: none;
    border: none;
    color: var(--text-dim);
    font-size: 1.5rem;
    cursor: pointer;
    padding: 0;
    line-height: 1;
    transition: color 0.2s;
}

.notificacion-cerrar:hover {
    color: var(--text-light);
}

/* RESPONSIVE */
@media (max-width: 768px) {
    .leccion-programacion-html5 {
        padding: 1rem;
    }
    
    .titulo-leccion {
        font-size: 1.8rem;
    }
    
    .simulador-contenido-ancho {
        margin-top: 1rem;
    }
    
    .editor-y-ejemplos {
        gap: 1rem;
    }
    
    .code-editor {
        height: 300px;
        min-height: 300px;
        max-height: 300px;
    }
    
    .ejemplos-buttons-mejorado {
        grid-template-columns: 1fr;
    }
    
    .metricas-grid-completo {
        grid-template-columns: 1fr;
    }
    
    .controls-buttons {
        flex-direction: column;
    }
    
    .btn-control {
        width: 100%;
    }
    
    .analisis-header {
        flex-direction: column;
        gap: 1rem;
        text-align: center;
    }
}

/* ANIMACIONES */
@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

.neon-bullet {
    animation: pulse 2s infinite;
}

/* SCROLLBAR PERSONALIZADA */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb {
    background: rgba(0, 255, 255, 0.3);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 255, 255, 0.5);
}
/* ESTILOS ESPEC칈FICOS PARA LECCI칍N CSS3 */
.leccion-programacion-css3 {
    font-family: 'Segoe UI', 'Consolas', monospace;
    background: linear-gradient(135deg, #0a0a1a 0%, #1a1a2e 100%);
}

/* ANIMACIONES ESPECIALES PARA CSS3 */
@keyframes css3-glow {
    0%, 100% { 
        text-shadow: 0 0 5px #43A047, 
                     0 0 10px rgba(67, 160, 71, 0.5);
    }
    50% { 
        text-shadow: 0 0 10px #00FFFF,
                     0 0 20px rgba(0, 255, 255, 0.5),
                     0 0 30px rgba(0, 255, 255, 0.3);
    }
}

.leccion-programacion-css3 .titulo-leccion {
    animation: css3-glow 3s infinite alternate;
}

/* EFECTO DE C칍DIGO CSS */
.css-code-highlight {
    background: linear-gradient(90deg, 
        rgba(67, 160, 71, 0.1) 0%, 
        rgba(67, 160, 71, 0.05) 50%, 
        transparent 100%);
    border-left: 3px solid #43A047;
    padding: 1rem;
    margin: 1rem 0;
    border-radius: 0 8px 8px 0;
}

/* BOTONES CSS3 ESPECIALES */
.btn-css3 {
    background: linear-gradient(45deg, #43A047, #2E7D32);
    border: 2px solid rgba(67, 160, 71, 0.5);
    box-shadow: 0 0 15px rgba(67, 160, 71, 0.3);
    transition: all 0.3s;
}

.btn-css3:hover {
    box-shadow: 0 0 25px rgba(67, 160, 71, 0.5);
    transform: translateY(-3px);
}

/* CARDS CSS3 */
.css3-card {
    background: rgba(67, 160, 71, 0.05);
    border: 2px solid rgba(67, 160, 71, 0.2);
    backdrop-filter: blur(10px);
}

.css3-card:hover {
    border-color: #43A047;
    background: rgba(67, 160, 71, 0.1);
}

/* SCROLLBAR CSS3 */
.leccion-programacion-css3::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, #43A047, #2E7D32);
    border-radius: 10px;
}

/* EFECTO DE GRID SUTIL */
.css3-grid-bg::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
        linear-gradient(rgba(67, 160, 71, 0.02) 1px, transparent 1px),
        linear-gradient(90deg, rgba(67, 160, 71, 0.02) 1px, transparent 1px);
    background-size: 50px 50px;
    pointer-events: none;
    z-index: 0;
}

/* RESPONSIVE ADICIONAL PARA CSS3 */
@media (max-width: 480px) {
    .leccion-programacion-css3 .modulo-card {
        padding: 1rem;
    }
    
    .dato-valor {
        font-size: 2rem;
    }
    
    .editor-css-textarea {
        min-height: 200px;
    }
}

/* VARIABLES CSS3 */
.leccion-programacion-css3 {
    --color-css: #43A047;
    --color-css-dark: #2E7D32;
    --color-css-light: #66BB6A;
    --color-css-glow: rgba(67, 160, 71, 0.3);
    --bg-section: rgba(10, 10, 26, 0.85);
}

/* CABECERA CSS3 */
.leccion-programacion-css3 .materia-badge {
    background: linear-gradient(45deg, var(--color-css), var(--color-css-dark));
}

.leccion-programacion-css3 .titulo-leccion {
    color: var(--color-css-light);
    text-shadow: 0 0 10px var(--color-css-glow);
}

/* DATOS CSS3 */
.datos-css3 .datos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
    margin: 1.5rem 0;
}

.dato-card {
    background: var(--bg-section);
    border: 2px solid var(--color-css);
    border-radius: 12px;
    padding: 1.5rem;
    text-align: center;
    transition: transform 0.3s, box-shadow 0.3s;
}

.dato-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px var(--color-css-glow);
}

.dato-icon {
    font-size: 2.5rem;
    margin-bottom: 1rem;
}

.dato-valor {
    font-size: 2.5rem;
    font-weight: bold;
    color: var(--color-css-light);
    margin: 0.5rem 0;
}

/* M칍DULOS CSS3 */
.modulos-grid-interactivo {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    margin: 1.5rem 0;
}

.modulo-card {
    background: var(--bg-section);
    border: 2px solid rgba(67, 160, 71, 0.3);
    border-radius: 12px;
    padding: 1.5rem;
    transition: all 0.3s;
}

.modulo-card:hover {
    border-color: var(--color-css);
    box-shadow: 0 5px 15px var(--color-css-glow);
}

.modulo-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1rem;
}

.modulo-icon {
    font-size: 2rem;
}

.modulo-tag {
    background: rgba(67, 160, 71, 0.2);
    color: var(--color-css-light);
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
    font-size: 0.85rem;
    margin-left: auto;
}

.modulo-content code {
    display: block;
    background: rgba(0, 0, 0, 0.3);
    padding: 0.75rem;
    border-radius: 6px;
    margin: 1rem 0;
    font-family: 'Consolas', monospace;
    color: var(--color-css-light);
    border-left: 3px solid var(--color-css);
}

.modulo-stats {
    display: flex;
    justify-content: space-between;
    color: var(--text-dim);
    font-size: 0.9rem;
    margin-top: 1rem;
}

.modulo-btn {
    width: 100%;
    padding: 0.75rem;
    background: linear-gradient(45deg, var(--color-css), var(--color-css-dark));
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    transition: transform 0.2s;
    margin-top: 1rem;
}

.modulo-btn:hover {
    transform: translateY(-2px);
}

/* SIMULADOR CSS AVANZADO */
.simulador-container-completo {
    background: var(--bg-section);
    border: 2px solid var(--color-css);
    border-radius: 12px;
    overflow: hidden;
    margin: 1.5rem 0;
}

.simulador-tabs {
    background: rgba(0, 0, 0, 0.3);
}

.tab-header {
    display: flex;
    border-bottom: 2px solid rgba(67, 160, 71, 0.2);
}

.tab-btn {
    flex: 1;
    padding: 1rem;
    background: none;
    border: none;
    color: var(--text-dim);
    cursor: pointer;
    transition: all 0.3s;
    font-weight: bold;
}

.tab-btn.active {
    color: var(--color-css-light);
    background: rgba(67, 160, 71, 0.1);
    border-bottom: 3px solid var(--color-css);
}

.tab-content {
    padding: 1.5rem;
}

.tab-pane {
    display: none;
}

.tab-pane.active {
    display: block;
}

.editor-css-completo {
    background: #0a0a1a;
    border-radius: 8px;
    overflow: hidden;
}

.editor-header {
    background: rgba(67, 160, 71, 0.2);
    padding: 1rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid rgba(67, 160, 71, 0.3);
}

.editor-css-textarea {
    width: 100%;
    min-height: 300px;
    background: #0a0a1a;
    color: #e0f0ff;
    border: none;
    padding: 1.5rem;
    font-family: 'Consolas', 'Monaco', monospace;
    font-size: 0.95rem;
    line-height: 1.5;
    resize: vertical;
}

.visual-html {
    background: #0a0a1a;
    border-radius: 8px;
    padding: 1.5rem;
}

.html-preview {
    background: #1a1a2e;
    padding: 1.5rem;
    border-radius: 6px;
    overflow-x: auto;
    color: #a0b0c0;
    font-family: 'Consolas', monospace;
}

.resultado-live {
    background: #0a0a1a;
    border-radius: 8px;
    overflow: hidden;
}

.resultado-header {
    background: rgba(67, 160, 71, 0.2);
    padding: 1rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.resultado-contenido {
    padding: 1.5rem;
    min-height: 300px;
}

.simulador-controls {
    padding: 1.5rem;
    background: rgba(0, 0, 0, 0.5);
    border-top: 1px solid rgba(67, 160, 71, 0.2);
}

.controls-buttons {
    display: flex;
    gap: 1rem;
    margin: 1rem 0;
}

.btn-control {
    flex: 1;
    padding: 1rem;
    background: linear-gradient(45deg, var(--color-css), var(--color-css-dark));
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
    transition: transform 0.2s;
}

.btn-control:hover {
    transform: translateY(-2px);
}

/* DEMOS INTERACTIVAS */
.demos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    margin: 1.5rem 0;
}

.demo-container {
    background: var(--bg-section);
    border: 2px solid rgba(67, 160, 71, 0.3);
    border-radius: 12px;
    overflow: hidden;
}

.demo-header {
    background: rgba(67, 160, 71, 0.1);
    padding: 1rem;
    border-bottom: 1px solid rgba(67, 160, 71, 0.2);
}

.demo-controls {
    margin-top: 1rem;
    display: flex;
    align-items: center;
    gap: 1rem;
}

.demo-controls select {
    flex: 1;
    padding: 0.5rem;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid var(--color-css);
    border-radius: 4px;
    color: var(--text-light);
}

.demo-content {
    padding: 1.5rem;
}

.flex-playground {
    display: flex;
    gap: 1rem;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    margin-bottom: 1rem;
}

.flex-demo-item {
    flex: 1;
    padding: 1rem;
    background: var(--color-css);
    color: white;
    border-radius: 6px;
    text-align: center;
    transition: transform 0.2s;
}

.flex-demo-item:hover {
    transform: scale(1.05);
}

.grid-playground {
    display: grid;
    gap: 1rem;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    margin-bottom: 1rem;
}

.grid-demo-item {
    padding: 1rem;
    background: var(--color-css);
    color: white;
    border-radius: 6px;
    text-align: center;
}

.anim-playground {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    margin-bottom: 1rem;
}

.anim-demo-item {
    padding: 1rem 2rem;
    background: var(--color-css);
    color: white;
    border-radius: 8px;
    font-size: 1.2rem;
    font-weight: bold;
}

.demo-code {
    background: rgba(0, 0, 0, 0.5);
    padding: 1rem;
    border-radius: 6px;
    font-family: 'Consolas', monospace;
    color: var(--color-css-light);
    border-left: 3px solid var(--color-css);
}

/* RETOS CSS3 */
.retos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    margin: 1.5rem 0;
}

.reto-card {
    background: var(--bg-section);
    border: 2px solid;
    border-radius: 12px;
    overflow: hidden;
    transition: transform 0.3s;
}

.reto-card:hover {
    transform: translateY(-5px);
}

.reto-card:nth-child(1) { border-color: #43A047; }
.reto-card:nth-child(2) { border-color: #FFB74D; }
.reto-card:nth-child(3) { border-color: #FF6B6B; }

.reto-header {
    padding: 1rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.reto-dificultad {
    display: inline-block;
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: bold;
    margin-bottom: 0.5rem;
}

.reto-description {
    padding: 1rem;
}

.reto-preview {
    margin: 1rem 0;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    text-align: center;
    cursor: pointer;
}

.reto-solucion {
    padding: 1rem;
    background: rgba(0, 0, 0, 0.5);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.reto-solucion pre {
    margin: 0;
    font-size: 0.9rem;
    line-height: 1.4;
}

/* SVG INTERACTIVO */
.svg-container {
    background: var(--bg-section);
    border: 2px solid var(--color-css);
    border-radius: 12px;
    overflow: hidden;
    margin: 1.5rem 0;
}

.svg-controls {
    padding: 1rem;
    background: rgba(67, 160, 71, 0.1);
    display: flex;
    gap: 1rem;
    justify-content: center;
}

.btn-svg {
    padding: 0.75rem 1.5rem;
    background: linear-gradient(45deg, var(--color-css), var(--color-css-dark));
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    transition: transform 0.2s;
}

.btn-svg:hover {
    transform: translateY(-2px);
}

.svg-wrapper {
    padding: 1.5rem;
    display: flex;
    justify-content: center;
    background: rgba(0, 0, 0, 0.3);
}

#css3-svg-interactivo {
    max-width: 100%;
    height: auto;
}

.svg-info {
    padding: 1rem;
    background: rgba(67, 160, 71, 0.1);
    border-top: 1px solid rgba(67, 160, 71, 0.2);
    text-align: center;
    color: var(--text-dim);
}

/* AUTOEVALUACI칍N */
.autoevaluacion-css3 {
    background: var(--bg-section);
    border: 2px solid var(--color-css);
    border-radius: 12px;
    padding: 1.5rem;
    margin: 1.5rem 0;
}

.eval-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    margin: 1.5rem 0;
}

.eval-item {
    background: rgba(0, 0, 0, 0.3);
    padding: 1rem;
    border-radius: 8px;
}

.eval-label {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
}

.eval-value {
    color: var(--color-css-light);
    font-weight: bold;
}

.eval-slider {
    width: 100%;
    margin: 0.5rem 0;
}

.eval-labels {
    display: flex;
    justify-content: space-between;
    font-size: 0.85rem;
    color: var(--text-dim);
}


.eval-acciones {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 1.5rem;
    padding-top: 1rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.btn-guardar-eval {
    padding: 0.75rem 1.5rem;
    background: linear-gradient(45deg, var(--color-css), var(--color-css-dark));
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
}

.eval-promedio {
    color: var(--color-css-light);
    font-size: 1.2rem;
}

/* RECURSOS */
.recursos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    margin: 1.5rem 0;
}

.recurso-card {
    background: var(--bg-section);
    border: 2px solid rgba(67, 160, 71, 0.3);
    border-radius: 12px;
    padding: 1.5rem;
    text-decoration: none;
    color: var(--text-light);
    transition: all 0.3s;
    display: flex;
    gap: 1rem;
    align-items: flex-start;
}

.recurso-card:hover {
    border-color: var(--color-css);
    transform: translateY(-5px);
    box-shadow: 0 10px 20px var(--color-css-glow);
}

.recurso-icon {
    font-size: 2rem;
    color: var(--color-css-light);
}

.recurso-content h4 {
    color: var(--color-css-light);
    margin-bottom: 0.5rem;
}

.recurso-content p {
    font-size: 0.9rem;
    color: var(--text-dim);
}

/* NOTIFICACIONES CSS */
.notificacion-css {
    position: fixed;
    top: 20px;
    right: 20px;
    background: var(--bg-section);
    border-left: 4px solid;
    border-radius: 8px;
    padding: 1rem 1.5rem;
    display: flex;
    align-items: center;
    gap: 1rem;
    min-width: 300px;
    max-width: 400px;
    z-index: 10000;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    animation: slideIn 0.3s ease;
}

.notificacion-success { border-left-color: var(--color-css); }
.notificacion-info { border-left-color: #00FFFF; }
.notificacion-warning { border-left-color: #FFFF00; }

.notificacion-contenido {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    flex: 1;
}

.notificacion-icon {
    font-size: 1.2rem;
}

.notificacion-cerrar {
    background: none;
    border: none;
    color: var(--text-dim);
    font-size: 1.5rem;
    cursor: pointer;
    padding: 0;
    line-height: 1;
}

@keyframes slideIn {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

/* RESPONSIVE */
@media (max-width: 768px) {
    .leccion-programacion-css3 {
        padding: 1rem;
    }
    
    .datos-grid,
    .modulos-grid-interactivo,
    .demos-grid,
    .retos-grid,
    .recursos-grid {
        grid-template-columns: 1fr;
    }
    
    .controls-buttons {
        flex-direction: column;
    }
    
    .tab-header {
        flex-direction: column;
    }
    
    .tab-btn {
        width: 100%;
    }
    
    .svg-controls {
        flex-direction: column;
    }
    
    .eval-acciones {
        flex-direction: column;
        gap: 1rem;
        text-align: center;
    }
}

/* ANIMACIONES ESPECIALES CSS3 */
@keyframes pulse-css {
    0%, 100% { 
        box-shadow: 0 0 5px var(--color-css);
    }
    50% { 
        box-shadow: 0 0 15px var(--color-css),
                    0 0 25px var(--color-css);
    }
}

.neon-icon {
    animation: pulse-css 2s infinite;
}

@keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

.floating {
    animation: float 3s infinite ease-in-out;
}
/* ESTILOS ESPEC칈FICOS PARA LECCI칍N PHP8+ */
.leccion-programacion-php8 {
    font-family: 'Consolas', 'Monaco', 'Segoe UI', monospace;
    background: linear-gradient(135deg, #0A0011 0%, #1C0F27 100%);
}

/* ANIMACIONES ESPECIALES PARA PHP8+ */
@keyframes php-pulse {
    0%, 100% { 
        text-shadow: 0 0 5px #E1BEE7, 
                     0 0 10px rgba(225, 190, 231, 0.5);
    }
    50% { 
        text-shadow: 0 0 10px #BA68C8,
                     0 0 20px rgba(186, 104, 200, 0.5),
                     0 0 30px rgba(186, 104, 200, 0.3);
    }
}

.leccion-programacion-php8 .titulo-leccion {
    animation: php-pulse 3s infinite alternate;
}

/* EFECTO DE C칍DIGO PHP */
.php-code-highlight {
    background: linear-gradient(90deg, 
        rgba(136, 146, 191, 0.1) 0%, 
        rgba(136, 146, 191, 0.05) 50%, 
        transparent 100%);
    border-left: 3px solid #8892BF;
    padding: 1rem;
    margin: 1rem 0;
    border-radius: 0 8px 8px 0;
}

/* BOTONES PHP8+ ESPECIALES */
.btn-php8 {
    background: linear-gradient(45deg, #8892BF, #4F5B93);
    border: 2px solid rgba(136, 146, 191, 0.5);
    box-shadow: 0 0 15px rgba(136, 146, 191, 0.3);
    transition: all 0.3s;
}

.btn-php8:hover {
    box-shadow: 0 0 25px rgba(136, 146, 191, 0.5);
    transform: translateY(-3px);
}

/* CARDS PHP8+ */
.php8-card {
    background: rgba(136, 146, 191, 0.05);
    border: 2px solid rgba(136, 146, 191, 0.2);
    backdrop-filter: blur(10px);
}

.php8-card:hover {
    border-color: #8892BF;
    background: rgba(136, 146, 191, 0.1);
}

/* SCROLLBAR PHP8+ */
.leccion-programacion-php8::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, #8892BF, #4F5B93);
    border-radius: 10px;
}

/* EFECTO DE DATABASE SUTIL */
.php8-db-bg::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
        linear-gradient(rgba(186, 104, 200, 0.02) 1px, transparent 1px),
        linear-gradient(90deg, rgba(186, 104, 200, 0.02) 1px, transparent 1px);
    background-size: 40px 40px;
    pointer-events: none;
    z-index: 0;
}

/* NOTIFICACIONES PHP8+ */
.notificacion-php {
    position: fixed;
    top: 20px;
    right: 20px;
    background: rgba(10, 0, 17, 0.95);
    border-left: 4px solid;
    border-radius: 8px;
    padding: 1rem 1.5rem;
    display: flex;
    align-items: center;
    gap: 1rem;
    min-width: 300px;
    max-width: 400px;
    z-index: 10000;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    animation: slideIn 0.3s ease;
}

.notificacion-success { border-left-color: #43A047; }
.notificacion-info { border-left-color: #2196F3; }
.notificacion-warning { border-left-color: #FF9800; }

/* RESPONSIVE ADICIONAL PARA PHP8+ */
@media (max-width: 480px) {
    .leccion-programacion-php8 .stack-card {
        padding: 1rem;
    }
    
    .dato-valor {
        font-size: 1.8rem;
    }
    
    .editor-php-textarea {
        min-height: 250px;
        font-size: 0.85rem;
    }
    
    .request-controls select,
    .request-controls textarea {
        font-size: 0.9rem;
    }
}
 .cyberpunk-lesson {
            font-family: 'Consolas', 'Courier New', monospace;
            color: #E0E0E0;
            background-color: #0A0A1A;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #333;
            box-shadow: 0 0 20px rgba(0, 255, 170, 0.3);
        }

        .cyberpunk-header h2 {
            color: #00FFAA;
            text-shadow: 0 0 10px rgba(0, 255, 170, 0.7);
            margin-bottom: 10px;
        }

        .subtitle {
            color: #FF00AA;
            font-size: 1.1em;
        }

        .neon-divider {
            height: 3px;
            background: linear-gradient(90deg, transparent, #00FFAA, transparent);
            margin: 20px 0;
            border: none;
        }

        .stats-box {
            background-color: #1A0635;
            border-left: 4px solid #00FFAA;
            padding: 10px 15px;
            margin: 15px 0;
            border-radius: 5px;
        }

        .stats-box ul {
            margin: 5px 0 0 20px;
            padding: 0;
        }

        .stats-box li {
            margin-bottom: 5px;
            color: #E0E0E0;
        }

        /* Tablas cyberpunk */
        .cyber-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            background-color: #121212;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 0 10px rgba(0, 255, 170, 0.2);
        }

        .cyber-table th {
            background-color: #00FFAA;
            color: #000;
            padding: 10px;
            text-align: center;
        }

        .cyber-table td {
            padding: 10px;
            border-bottom: 1px solid #333;
            text-align: center;
        }

        .cyber-table tr:nth-child(even) {
            background-color: #1A1A2E;
        }

        .cyber-table tr:hover {
            background-color: #2A2A3E;
        }

        /* Simulador PHP */
        .php-simulator {
            background-color: #0D0D1A;
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
            border: 1px solid #00FFAA;
        }

        .simulator-columns {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
        }

        .code-editor, .output-terminal {
            flex: 1;
            background-color: #121212;
            border-radius: 8px;
            padding: 10px;
            border: 1px solid #333;
        }

        .editor-header, .terminal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 5px 10px;
            background-color: #1A1A2E;
            border-bottom: 1px solid #00FFAA;
            margin: -10px -10px 10px -10px;
        }

        #php-code {
            width: 100%;
            background-color: #121212;
            color: #E0E0E0;
            border: none;
            font-family: 'Consolas', monospace;
            font-size: 14px;
            padding: 10px;
            border-radius: 5px;
        }

        #php-output {
            background-color: #121212;
            color: #E0E0E0;
            padding: 10px;
            border-radius: 5px;
            min-height: 150px;
            font-family: 'Consolas', monospace;
            font-size: 13px;
            overflow-auto: auto;
        }

        .loading {
            color: #00FFAA;
        }

        .success-response {
            color: #00FFAA;
        }

        .error-response {
            color: #FF5555;
        }

        .simulator-controls {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .execute-btn, .reset-btn {
            background-color: #00FFAA;
            color: #000;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .execute-btn:hover, .reset-btn:hover {
            background-color: #00DD88;
            box-shadow: 0 0 10px rgba(0, 255, 170, 0.5);
        }

        .api-test-buttons {
            display: flex;
            gap: 10px;
            margin-left: auto;
        }

        .api-test-buttons button {
            background-color: #1A1A2E;
            color: #00FFAA;
            border: 1px solid #00FFAA;
            padding: 8px 12px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .api-test-buttons button:hover {
            background-color: #00FFAA;
            color: #000;
        }

        /* Challenge Box */
        .challenge-box {
            background-color: #1A0635;
            border-left: 4px solid #FF00AA;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .solution-details {
            margin-top: 10px;
            background-color: #0D0D1A;
            border-radius: 5px;
            padding: 10px;
        }

        .solution-details summary {
            color: #FF00AA;
            cursor: pointer;
            font-weight: bold;
        }

        pre code {
            background-color: #121212;
            color: #E0E0E0;
            display: block;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-size: 13px;
        }

        /* Arquitectura SVG */
        .cyber-architecture {
            margin: 20px 0;
            text-align: center;
        }

        #cyber-php-svg {
            max-width: 100%;
            height: auto;
        }

        /* Recursos */
        .resources-section {
            background-color: #121212;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }

        .resources-section a {
            color: #00FFAA;
            text-decoration: none;
        }

        .resources-section a:hover {
            text-decoration: underline;
        }
/* ESTILOS ESPEC칈FICOS PARA LECCI칍N DE DERIVADAS */
.leccion-matematicas-derivadas {
    --derivada-neon: #00ffff;
    --derivada-verde: #39ff14;
    --derivada-rosa: #ff00ff;
    --derivada-amarillo: #ffff00;
    --bg-derivadas: #0a0a1a;
    --bg-card-derivadas: rgba(10, 10, 26, 0.9);
}

/* FONDO MATEM츼TICO CON F칍RMULAS SUTILES */
.leccion-matematicas-derivadas::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
        linear-gradient(rgba(0, 255, 255, 0.02) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 255, 255, 0.02) 1px, transparent 1px),
        radial-gradient(circle at 30% 20%, rgba(57, 255, 20, 0.03) 0%, transparent 40%),
        radial-gradient(circle at 70% 80%, rgba(255, 0, 255, 0.02) 0%, transparent 40%);
    background-size: 60px 60px, 60px 60px, 100% 100%, 100% 100%;
    pointer-events: none;
    z-index: 0;
}

/* ANIMACI칍N GLOW PARA T칈TULOS DE DERIVADAS */
@keyframes glowDerivada {
    0%, 100% { 
        text-shadow: 0 0 10px currentColor;
    }
    50% { 
        text-shadow: 0 0 20px currentColor,
                     0 0 30px rgba(0, 255, 255, 0.5);
    }
}

.titulo-leccion {
    animation: glowDerivada 3s infinite;
}
/* ESTILOS ESPEC칈FICOS PARA LECCI칍N DE DERIVADAS */
.leccion-matematicas-derivadas {
    /* Variables espec칤ficas de la lecci칩n */
    --derivada-primary: #00FFFF;
    --derivada-secondary: #39FF14;
    --derivada-accent: #FF00FF;
    --derivada-warning: #FFFF00;
    --derivada-error: #FF1744;
}

/* Animaci칩n especial para f칩rmulas matem치ticas */
@keyframes mathGlow {
    0%, 100% { 
        filter: drop-shadow(0 0 5px var(--derivada-primary));
    }
    50% { 
        filter: drop-shadow(0 0 10px var(--derivada-primary))
                drop-shadow(0 0 20px var(--derivada-secondary));
    }
}

.math-animated {
    animation: mathGlow 3s infinite;
    display: inline-block;
}

/* Estilos para notaciones matem치ticas */
.derivada-notation {
    font-family: 'Cambria Math', 'Latin Modern Math', serif;
    font-size: 1.2em;
    color: var(--derivada-primary);
    background: rgba(0, 255, 255, 0.1);
    padding: 0.2em 0.5em;
    border-radius: 4px;
    border: 1px solid rgba(0, 255, 255, 0.3);
}

/* Efecto especial para derivadas correctas */
.derivada-correcta {
    position: relative;
    padding-left: 2em;
}

.derivada-correcta::before {
    content: '九';
    position: absolute;
    left: 0;
    top: 50%;
    transform: translateY(-50%);
    color: var(--derivada-secondary);
    font-weight: bold;
    animation: pulse 1s infinite;
}

/* ESTILOS ESPEC칈FICOS PARA LECCI칍N DE DERIVADAS CYBERPUNK */
.leccion-matematicas-derivadas {
    /* Estilos base ya incluidos en el HTML */
}

/* Media queries adicionales */
@media (max-width: 480px) {
    .leccion-matematicas-derivadas {
        padding: 10px;
    }
    
    .titulo-leccion {
        font-size: 1.5rem;
    }
    
    .seccion-titulo {
        font-size: 1.2rem;
    }
    
    .tabla-fila {
        grid-template-columns: 1fr;
        padding: 10px;
    }
    
    .tabla-celda.derivada {
        font-size: 0.9rem;
    }
}

/* ESTILOS ESPEC칈FICOS PARA LECCI칍N DE DERIVADAS */
.leccion-matematicas-derivadas {
    /* Estilos espec칤ficos ya incluidos en el bloque HTML */
}

/* Sobrescribir o a침adir estilos espec칤ficos si es necesario */
.leccion-matematicas-derivadas .input-funcion {
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
}

.leccion-matematicas-derivadas .math-display {
    overflow-x: auto;
    padding: 10px;
}

.leccion-matematicas-derivadas .derivada-resultado {
    background: rgba(57, 255, 20, 0.05);
    border-left: 4px solid var(--neon-green);
    padding: 15px;
    margin: 10px 0;
    border-radius: 5px;
}

.leccion-matematicas-derivadas .error-box {
    background: rgba(255, 107, 107, 0.05);
    border-left: 4px solid #FF6B6B;
    padding: 15px;
    margin: 10px 0;
    border-radius: 5px;
}

/* Animaciones espec칤ficas para matem치ticas */
@keyframes math-pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

.leccion-matematicas-derivadas .formula-animada {
    animation: math-pulse 2s infinite;
}

/* Estilos para visualizaci칩n de pasos */
.leccion-matematicas-derivadas .paso-matematico {
    padding: 10px;
    margin: 5px 0;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 5px;
    border-left: 3px solid var(--neon-cyan);
}
/* VARIABLES PRINCIPALES */
:root {
    --neon-cyan: #00FFFF;
    --neon-green: #39FF14;
    --neon-pink: #FF00FF;
    --neon-yellow: #FFFF00;
    --neon-orange: #FF6B00;
    --bg-dark: #0a0a1a;
    --bg-darker: #050510;
    --bg-card: rgba(10, 10, 26, 0.85);
    --text-light: #e0f0ff;
    --text-dim: #a0b0c0;
    --border-glow: 1px solid rgba(0, 255, 255, 0.4);
    --shadow-neon: 0 0 10px rgba(0, 255, 255, 0.3);
}

/* RESET Y BASE */
.leccion-matematicas-derivadas * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

.leccion-matematicas-derivadas {
    background: var(--bg-dark);
    color: var(--text-light);
    font-family: 'Segoe UI', 'Roboto', 'Consolas', monospace;
    padding: 1.5rem;
    max-width: 1200px;
    margin: 0 auto;
    line-height: 1.6;
    position: relative;
    min-height: 100vh;
}

/* FONDO CYBERPUNK SUTIL */
.leccion-matematicas-derivadas::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        radial-gradient(circle at 20% 30%, rgba(0, 255, 255, 0.05) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(57, 255, 20, 0.03) 0%, transparent 50%),
        linear-gradient(45deg, rgba(255, 0, 255, 0.02) 1px, transparent 1px),
        linear-gradient(-45deg, rgba(0, 255, 255, 0.02) 1px, transparent 1px);
    background-size: 60px 60px;
    pointer-events: none;
    z-index: 0;
}

/* CABECERA */
.leccion-header.compact {
    text-align: center;
    margin-bottom: 2rem;
    padding: 1.5rem;
    background: rgba(0, 0, 0, 0.5);
    border-radius: 12px;
    border: var(--border-glow);
    position: relative;
    z-index: 1;
}

.header-top {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-bottom: 1rem;
    flex-wrap: wrap;
}

.materia-badge, .nivel-badge, .tiempo-badge {
    padding: 0.5rem 1rem;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: bold;
}

.materia-badge {
    background: rgba(0, 255, 255, 0.1);
    color: var(--neon-cyan);
    border: 1px solid var(--neon-cyan);
}

.nivel-badge {
    background: rgba(57, 255, 20, 0.1);
    color: var(--neon-green);
    border: 1px solid var(--neon-green);
}

.tiempo-badge {
    background: rgba(255, 0, 255, 0.1);
    color: var(--neon-pink);
    border: 1px solid var(--neon-pink);
}

.titulo-leccion {
    font-size: 2.2rem;
    margin-bottom: 0.5rem;
    color: var(--neon-cyan);
    text-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
    animation: glow 3s infinite;
}

@keyframes glow {
    0%, 100% { text-shadow: 0 0 10px rgba(0, 255, 255, 0.5); }
    50% { text-shadow: 0 0 15px rgba(0, 255, 255, 0.8), 0 0 20px rgba(0, 255, 255, 0.4); }
}

.neon-icon {
    color: var(--neon-pink);
    margin-right: 0.5rem;
}

.leccion-subtitulo {
    color: var(--text-dim);
    font-size: 1.1rem;
}

/* OBJETIVOS R츼PIDOS */
.objetivos-rapidos {
    margin-bottom: 2rem;
}

.objetivos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
}

.objetivo-card {
    background: var(--bg-card);
    padding: 1.5rem;
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    display: flex;
    align-items: center;
    gap: 1rem;
    transition: transform 0.3s, box-shadow 0.3s;
}

.objetivo-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 5px 15px rgba(0, 255, 255, 0.2);
}

.obj-icon {
    font-size: 2rem;
    flex-shrink: 0;
}

.obj-text h4 {
    color: var(--neon-green);
    margin-bottom: 0.5rem;
    font-size: 1.1rem;
}

.obj-text p {
    color: var(--text-dim);
    font-size: 0.9rem;
}

/* SECCIONES */
.seccion-principal-derivadas {
    display: flex;
    flex-direction: column;
    gap: 2.5rem;
}

.seccion-titulo {
    color: var(--neon-cyan);
    font-size: 1.5rem;
    margin-bottom: 1.5rem;
    padding-bottom: 0.5rem;
    border-bottom: 2px solid rgba(0, 255, 255, 0.3);
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.neon-bullet {
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.6; }
}

/* TABLA DE DERIVADAS */
.tabla-derivadas-section {
    background: rgba(0, 0, 0, 0.3);
    padding: 1.5rem;
    border-radius: 12px;
    border: var(--border-glow);
}

.derivadas-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 2rem;
}

.derivada-categoria {
    background: rgba(0, 0, 0, 0.5);
    padding: 1.5rem;
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.categoria-titulo {
    color: var(--neon-pink);
    font-size: 1.2rem;
    margin-bottom: 1rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid rgba(255, 0, 255, 0.3);
}

.derivadas-lista {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.derivada-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 0.75rem;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 6px;
}

.funcion-box, .derivada-box {
    flex: 1;
    padding: 0.5rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
    font-family: 'Cambria Math', 'Latin Modern Math', STIXGeneral, serif;
    font-size: 1.1rem;
    text-align: center;
}

.flecha-derivada {
    color: var(--neon-green);
    font-size: 1.5rem;
    font-weight: bold;
}

/* SIMULADOR COMPLETO */
.simulador-derivadas-completo {
    background: rgba(0, 0, 0, 0.3);
    padding: 1.5rem;
    border-radius: 12px;
    border: 1px solid rgba(57, 255, 20, 0.3);
}

.simulador-controls-completo {
    background: rgba(0, 0, 0, 0.5);
    padding: 1.5rem;
    border-radius: 10px;
    margin-bottom: 1.5rem;
}

.controls-header h3 {
    color: var(--neon-green);
    margin-bottom: 0.5rem;
}

.controls-desc {
    color: var(--text-dim);
    font-size: 0.95rem;
}

.input-container {
    margin-top: 1.5rem;
}

.input-group {
    margin-bottom: 1.5rem;
}

.input-group label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 0.5rem;
    color: var(--text-light);
    font-weight: 500;
}

.label-icon {
    color: var(--neon-pink);
}

.input-funcion {
    width: 100%;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.5);
    border: 2px solid rgba(0, 255, 255, 0.3);
    border-radius: 8px;
    color: var(--text-light);
    font-family: 'Consolas', monospace;
    font-size: 1.1rem;
    transition: all 0.3s;
}

.input-funcion:focus {
    outline: none;
    border-color: var(--neon-cyan);
    box-shadow: 0 0 15px rgba(0, 255, 255, 0.3);
}

.buttons-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
}

.btn-calcular-completo, .btn-ejemplo-completo, .btn-evaluar, .btn-limpiar-sim {
    padding: 1rem;
    border: none;
    border-radius: 8px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    font-size: 1rem;
}

.btn-calcular-completo {
    background: linear-gradient(45deg, var(--neon-green), #2E7D32);
    color: white;
}

.btn-ejemplo-completo {
    background: linear-gradient(45deg, var(--neon-pink), #FF00AA);
    color: white;
}

.btn-evaluar {
    background: linear-gradient(45deg, var(--neon-cyan), #0097A7);
    color: white;
}

.btn-limpiar-sim {
    background: linear-gradient(45deg, #FF6B6B, #C62828);
    color: white;
}

.btn-calcular-completo:hover, .btn-ejemplo-completo:hover, 
.btn-evaluar:hover, .btn-limpiar-sim:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

/* RESULTADOS */
.resultados-container {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 1.5rem;
    margin-bottom: 1.5rem;
}

@media (max-width: 768px) {
    .resultados-container {
        grid-template-columns: 1fr;
    }
}

.resultado-principal {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 10px;
    border: 1px solid rgba(57, 255, 20, 0.2);
    overflow: hidden;
}

.resultado-header {
    background: rgba(57, 255, 20, 0.1);
    padding: 1rem 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid rgba(57, 255, 20, 0.2);
}

.resultado-header h4 {
    color: var(--neon-green);
    margin: 0;
}

.resultado-estado {
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: bold;
}

.resultado-estado.calculando {
    background: rgba(255, 193, 7, 0.1);
    color: var(--neon-yellow);
}

.resultado-estado.success {
    background: rgba(57, 255, 20, 0.1);
    color: var(--neon-green);
}

.resultado-estado.error {
    background: rgba(255, 107, 107, 0.1);
    color: #FF6B6B;
}

.resultado-contenido {
    padding: 1.5rem;
}

.funcion-display, .derivada-display {
    margin-bottom: 1.5rem;
}

.display-label {
    color: var(--text-dim);
    font-size: 0.9rem;
    margin-bottom: 0.5rem;
}

.display-value {
    padding: 1rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 6px;
    border-left: 3px solid var(--neon-cyan);
    font-family: 'Cambria Math', serif;
    font-size: 1.2rem;
}

.display-value-derivada {
    padding: 1rem;
    background: rgba(57, 255, 20, 0.05);
    border-radius: 6px;
    border-left: 3px solid var(--neon-green);
    font-family: 'Cambria Math', serif;
    font-size: 1.2rem;
}

.display-value-derivada strong {
    color: var(--neon-green);
}

.paso-paso {
    background: rgba(255, 193, 7, 0.05);
    border-radius: 8px;
    border: 1px solid rgba(255, 193, 7, 0.2);
    margin-top: 1.5rem;
}

.paso-header {
    background: rgba(255, 193, 7, 0.1);
    padding: 1rem 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid rgba(255, 193, 7, 0.2);
}

.paso-header h5 {
    color: var(--neon-yellow);
    margin: 0;
}

.btn-toggle-pasos {
    background: rgba(255, 193, 7, 0.1);
    color: var(--neon-yellow);
    border: 1px solid rgba(255, 193, 7, 0.3);
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.85rem;
}

.btn-toggle-pasos:hover {
    background: rgba(255, 193, 7, 0.2);
}

.pasos-contenido {
    padding: 1rem 1.5rem;
}

.pasos-contenido ol {
    margin-left: 1.5rem;
    color: var(--text-light);
}

.pasos-contenido li {
    margin-bottom: 0.75rem;
}

/* EVALUACI칍N EN PUNTO */
.evaluacion-punto {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 10px;
    border: 1px solid rgba(0, 255, 255, 0.2);
}

.evaluacion-header {
    background: rgba(0, 255, 255, 0.1);
    padding: 1rem 1.5rem;
    border-bottom: 1px solid rgba(0, 255, 255, 0.2);
}

.evaluacion-header h4 {
    color: var(--neon-cyan);
    margin: 0;
}

.evaluacion-contenido {
    padding: 1.5rem;
}

.input-evaluacion {
    display: flex;
    gap: 1rem;
    margin-bottom: 1.5rem;
    align-items: center;
}

.input-evaluacion label {
    color: var(--text-light);
    font-weight: 500;
}

.input-punto {
    flex: 1;
    padding: 0.75rem;
    background: rgba(0, 0, 0, 0.5);
    border: 2px solid rgba(0, 255, 255, 0.3);
    border-radius: 6px;
    color: var(--text-light);
    font-size: 1.1rem;
    text-align: center;
}


.btn-calcular-punto {
    background: linear-gradient(45deg, var(--neon-cyan), #0097A7);
    color: white;
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
}

.btn-calcular-punto:hover {
    background: linear-gradient(45deg, #0097A7, var(--neon-cyan));
}

.resultado-evaluacion {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.eval-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.75rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 6px;
}

.eval-label {
    color: var(--text-dim);
}

.eval-value {
    color: var(--neon-green);
    font-weight: bold;
    font-size: 1.2rem;
}

/* EJEMPLOS R츼PIDOS */
.ejemplos-rapidos-derivadas {
    background: rgba(0, 0, 0, 0.3);
    padding: 1.5rem;
    border-radius: 10px;
    border: 1px solid rgba(255, 0, 255, 0.2);
}

.ejemplos-rapidos-derivadas h4 {
    color: var(--neon-pink);
    margin-bottom: 1rem;
}

.ejemplos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    gap: 1rem;
}

.btn-ejemplo {
    background: rgba(255, 0, 255, 0.1);
    border: 1px solid rgba(255, 0, 255, 0.3);
    border-radius: 8px;
    padding: 1rem;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    color: var(--text-light);
}

.btn-ejemplo:hover {
    background: rgba(255, 0, 255, 0.2);
    transform: translateY(-3px);
}

.btn-ejemplo.selected {
    background: rgba(255, 0, 255, 0.25);
    border-color: var(--neon-pink);
    box-shadow: 0 0 10px rgba(255, 0, 255, 0.3);
}

.ejemplo-icon {
    font-size: 1.5rem;
}

.ejemplo-texto {
    font-size: 0.9rem;
    text-align: center;
}

/* REGLAS DE DERIVACI칍N */
.reglas-derivacion-section {
    background: rgba(0, 0, 0, 0.3);
    padding: 1.5rem;
    border-radius: 12px;
    border: 1px solid rgba(255, 193, 7, 0.3);
}

.reglas-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
}

.regla-card {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    overflow: hidden;
    transition: transform 0.3s;
}

.regla-card:hover {
    transform: translateY(-5px);
}

.regla-header {
    background: rgba(0, 0, 0, 0.7);
    padding: 1rem 1.5rem;
    display: flex;
    align-items: center;
    gap: 1rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.regla-icon {
    font-size: 2rem;
}

.regla-titulo h3 {
    color: var(--text-light);
    margin-bottom: 0.25rem;
    font-size: 1.1rem;
}

.regla-subtitulo {
    color: var(--text-dim);
    font-size: 0.85rem;
}

.regla-contenido {
    padding: 1.5rem;
}

.regla-formula {
    margin-bottom: 1rem;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 6px;
    text-align: center;
    font-family: 'Cambria Math', serif;
    font-size: 1.1rem;
}

.regla-ejemplo {
    margin-bottom: 1.5rem;
}

.regla-ejemplo p {
    margin-bottom: 0.75rem;
    color: var(--text-light);
}

.ejemplo-pasos {
    background: rgba(255, 255, 255, 0.05);
    padding: 1rem;
    border-radius: 6px;
    font-size: 0.9rem;
}

.ejemplo-pasos p {
    margin-bottom: 0.5rem;
    color: var(--text-dim);
}

.btn-probar-regla {
    width: 100%;
    background: rgba(57, 255, 20, 0.1);
    color: var(--neon-green);
    border: 1px solid rgba(57, 255, 20, 0.3);
    padding: 0.75rem;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    transition: all 0.3s;
}

.btn-probar-regla:hover {
    background: rgba(57, 255, 20, 0.2);
}

/* ANIMACI칍N SVG */
.animacion-section {
    background: rgba(0, 0, 0, 0.3);
    padding: 1.5rem;
    border-radius: 12px;
    border: 1px solid rgba(255, 107, 107, 0.3);
}

.animacion-container {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 10px;
    padding: 1rem;
}

.svg-animacion {
    width: 100%;
    height: auto;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    margin-bottom: 1rem;
}

.animacion-controls {
    display: flex;
    justify-content: center;
    gap: 1rem;
}

.btn-animacion {
    background: rgba(255, 107, 107, 0.1);
    color: #FF6B6B;
    border: 1px solid rgba(255, 107, 107, 0.3);
    padding: 0.75rem 1.5rem;
    border-radius: 6px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.3s;
}

.btn-animacion:hover {
    background: rgba(255, 107, 107, 0.2);
}

/* RETOS */
.retos-section {
    background: rgba(0, 0, 0, 0.3);
    padding: 1.5rem;
    border-radius: 12px;
    border: 1px solid rgba(0, 150, 255, 0.3);
}

.retos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 1.5rem;
}

.reto-card {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    overflow: hidden;
}

.reto-header {
    padding: 1rem 1.5rem;
    display: flex;
    align-items: center;
    gap: 1rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.reto-dificultad {
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
    font-size: 0.75rem;
    font-weight: bold;
    text-transform: uppercase;
}

.dificultad-media {
    background: rgba(255, 193, 7, 0.1);
    color: var(--neon-yellow);
    border: 1px solid rgba(255, 193, 7, 0.3);
}

.dificultad-alta {
    background: rgba(255, 107, 107, 0.1);
    color: #FF6B6B;
    border: 1px solid rgba(255, 107, 107, 0.3);
}

.dificultad-aplicada {
    background: rgba(0, 150, 255, 0.1);
    color: #0096FF;
    border: 1px solid rgba(0, 150, 255, 0.3);
}

.reto-titulo h3 {
    color: var(--text-light);
    margin-bottom: 0.25rem;
    font-size: 1.1rem;
}

.reto-subtitulo {
    color: var(--text-dim);
    font-size: 0.85rem;
}

.reto-contenido {
    padding: 1.5rem;
}

.reto-enunciado {
    margin-bottom: 1.5rem;
}

.reto-enunciado p {
    margin-bottom: 0.75rem;
    color: var(--text-light);
}

.formula-reto {
    padding: 1rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 6px;
    margin: 1rem 0;
    text-align: center;
    font-family: 'Cambria Math', serif;
    font-size: 1.2rem;
}

.reto-interactivo {
    margin-top: 1.5rem;
}

.input-reto {
    margin-bottom: 1rem;
}

.input-reto label {
    display: block;
    margin-bottom: 0.5rem;
    color: var(--text-light);
    font-weight: 500;
}

.input-solucion {
    width: 100%;
    padding: 0.75rem;
    background: rgba(0, 0, 0, 0.5);
    border: 2px solid rgba(57, 255, 20, 0.3);
    border-radius: 6px;
    color: var(--text-light);
    font-family: 'Consolas', monospace;
    font-size: 1rem;
}

.input-solucion:focus {
    outline: none;
    border-color: var(--neon-green);
}

.reto-actions {
    display: flex;
    gap: 1rem;
    margin-bottom: 1rem;
}

.btn-verificar-reto, .btn-mostrar-reto, .btn-calcular-reto, .btn-explicar-reto {
    flex: 1;
    padding: 0.75rem;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    transition: all 0.3s;
}

.btn-verificar-reto {
    background: rgba(57, 255, 20, 0.1);
    color: var(--neon-green);
    border: 1px solid rgba(57, 255, 20, 0.3);
}

.btn-mostrar-reto {
    background: rgba(0, 150, 255, 0.1);
    color: #0096FF;
    border: 1px solid rgba(0, 150, 255, 0.3);
}

.btn-calcular-reto {
    background: rgba(255, 193, 7, 0.1);
    color: var(--neon-yellow);
    border: 1px solid rgba(255, 193, 7, 0.3);
}

.btn-explicar-reto {
    background: rgba(255, 0, 255, 0.1);
    color: var(--neon-pink);
    border: 1px solid rgba(255, 0, 255, 0.3);
}

.btn-verificar-reto:hover, .btn-mostrar-reto:hover, 
.btn-calcular-reto:hover, .btn-explicar-reto:hover {
    transform: translateY(-2px);
}

.reto-feedback {
    padding: 1rem;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 6px;
    border-left: 3px solid var(--neon-yellow);
}

.feedback-excelente {
    color: var(--neon-green);
}

.feedback-error {
    color: #FF6B6B;
}

.resultado-aplicacion {
    padding: 1rem;
    background: rgba(0, 150, 255, 0.05);
    border-radius: 6px;
    border: 1px solid rgba(0, 150, 255, 0.2);
}

.resultado-fisica {
    color: var(--text-light);
}

.formula-fisica {
    margin: 1rem 0;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 6px;
}

.interpretacion-fisica {
    margin-top: 1rem;
    padding: 1rem;
    background: rgba(0, 150, 255, 0.1);
    border-radius: 6px;
}

/* ERRORES COMUNES (Mantenido el bloque de abajo por ser m치s completo) */



/* AUTOEVALUACI칍N Y CIERRE */
.cierre-section {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
}

@media (max-width: 768px) {
    .cierre-section {
        grid-template-columns: 1fr;
    }
}

.autoevaluacion-derivadas, .recursos-derivadas {
    background: rgba(0, 0, 0, 0.3);
    padding: 1.5rem;
    border-radius: 12px;
    border: 1px solid rgba(255, 193, 7, 0.3);
}

.eval-derivadas-grid {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    margin-bottom: 1.5rem;
}

.eval-item-derivada {
    background: rgba(0, 0, 0, 0.5);
    padding: 1rem;
    border-radius: 8px;
}

.eval-header-derivada {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.75rem;
}

.eval-label-derivada {
    color: var(--text-light);
    font-weight: 500;
}

.eval-value-derivada {
    color: var(--neon-green);
    font-weight: bold;
    font-size: 1.1rem;
}

.eval-slider-derivada {
    width: 100%;
    height: 8px;
    -webkit-appearance: none;
    appearance: none;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    outline: none;
}

.eval-slider-derivada::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 20px;
    height: 20px;
    background: var(--neon-green);
    border-radius: 50%;
    cursor: pointer;
    border: 2px solid white;
    box-shadow: 0 0 5px rgba(57, 255, 20, 0.5);
}

.eval-slider-derivada::-moz-range-thumb {
    width: 20px;
    height: 20px;
    background: var(--neon-green);
    border-radius: 50%;
    cursor: pointer;
    border: 2px solid white;
    box-shadow: 0 0 5px rgba(57, 255, 20, 0.5);
}

.eval-labels-derivada {
    display: flex;
    justify-content: space-between;
    margin-top: 0.5rem;
    color: var(--text-dim);
    font-size: 0.85rem;
}

.eval-actions-derivadas {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    align-items: center;
}

.btn-guardar-eval-derivadas {
    background: linear-gradient(45deg, var(--neon-green), #2E7D32);
    color: white;
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.3s;
}

.btn-guardar-eval-derivadas:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(57, 255, 20, 0.3);
}

.eval-promedio-derivadas {
    color: var(--text-light);
    font-size: 1.1rem;
}

.eval-promedio-derivadas span {
    color: var(--neon-yellow);
    font-weight: bold;
}

/* RECURSOS */
.recursos-grid-derivadas {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
}

.recurso-card-derivadas {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 8px;
    padding: 1rem;
    text-decoration: none;
    color: var(--text-light);
    display: flex;
    align-items: center;
    gap: 1rem;
    transition: all 0.3s;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.recurso-card-derivadas:hover {
    background: rgba(0, 0, 0, 0.7);
    transform: translateY(-3px);
    border-color: var(--neon-cyan);
}

.recurso-icon-derivadas {
    font-size: 1.5rem;
    flex-shrink: 0;
}

.recurso-content-derivadas h4 {
    color: var(--neon-cyan);
    margin-bottom: 0.25rem;
    font-size: 1rem;
}

.recurso-content-derivadas p {
    color: var(--text-dim);
    font-size: 0.85rem;
}

/* NOTIFICACIONES */
.notificacion-derivadas {
    position: fixed;
    top: 20px;
    right: 20px;
    background: var(--bg-card);
    border-radius: 8px;
    padding: 1rem 1.5rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
    min-width: 300px;
    max-width: 400px;
    z-index: 10000;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    animation: slideIn 0.3s ease;
    border-left: 4px solid;
}

@keyframes slideIn {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

.notificacion-success {
    border-left-color: var(--neon-green);
    background: rgba(57, 255, 20, 0.1);
}

.notificacion-error {
    border-left-color: #FF6B6B;
    background: rgba(255, 107, 107, 0.1);
}

.notificacion-warning {
    border-left-color: var(--neon-yellow);
    background: rgba(255, 193, 7, 0.1);
}

.notificacion-info {
    border-left-color: var(--neon-cyan);
    background: rgba(0, 255, 255, 0.1);
}

.notificacion-contenido-derivadas {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    flex: 1;
}

.notificacion-icon-derivadas {
    font-size: 1.2rem;
}

.notificacion-mensaje-derivadas {
    color: var(--text-light);
    font-size: 0.95rem;
    line-height: 1.4;
}

.notificacion-cerrar-derivadas {
    background: none;
    border: none;
    color: var(--text-dim);
    font-size: 1.5rem;
    cursor: pointer;
    padding: 0;
    line-height: 1;
    transition: color 0.2s;
}

.notificacion-cerrar-derivadas:hover {
    color: var(--text-light);
}

/* RESPONSIVE */
@media (max-width: 768px) {
    .leccion-matematicas-derivadas {
        padding: 1rem;
    }
    
    .titulo-leccion {
        font-size: 1.8rem;
    }
    
    .objetivos-grid {
        grid-template-columns: 1fr;
    }
    
    .derivadas-grid {
        grid-template-columns: 1fr;
    }
    
    .reglas-grid {
        grid-template-columns: 1fr;
    }
    
    .retos-grid {
        grid-template-columns: 1fr;
    }
    
    .errores-grid {
        grid-template-columns: 1fr;
    }
    
    .buttons-grid {
        grid-template-columns: 1fr;
    }
    
    .ejemplos-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* SCROLLBAR PERSONALIZADA */
::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 5px;
}

::-webkit-scrollbar-thumb {
    background: rgba(0, 255, 255, 0.3);
    border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 255, 255, 0.5);
}

/* MATHJAX STYLING */
.math-display {
    font-family: 'Cambria Math', 'Latin Modern Math', STIXGeneral, serif;
    font-size: 1.1rem;
}

.error-text {
    color: #FF6B6B;
    font-weight: bold;
}

.success-text {
    color: var(--neon-green);
    font-weight: bold;
}
/* Estilos para la secci칩n de errores comunes */
.errores-section {
    background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
    border-radius: 20px;
    padding: 2.5rem;
    margin: 3rem 0;
    border: 1px solid rgba(99, 102, 241, 0.3);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    position: relative;
    overflow: hidden;
}

.errores-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, #3b82f6, #8b5cf6, #ec4899);
}

.errores-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    margin-top: 2rem;
}

.error-card {
    background: rgba(30, 41, 59, 0.8);
    border-radius: 16px;
    padding: 1.5rem;
    border: 1px solid rgba(99, 102, 241, 0.2);
    transition: all 0.3s ease;
    cursor: pointer;
    position: relative;
    overflow: hidden;
}

.error-card:hover {
    transform: translateY(-5px);
    border-color: #3b82f6;
    box-shadow: 0 10px 25px rgba(59, 130, 246, 0.2);
}

.error-card.expanded {
    background: rgba(15, 23, 42, 0.95);
    border-color: #8b5cf6;
}

.error-header {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    margin-bottom: 1rem;
}

.error-icon {
    font-size: 1.5rem;
    color: #ef4444;
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.6; }
}

.error-titulo h4 {
    color: #f8fafc;
    margin: 0;
    font-size: 1.1rem;
    font-weight: 600;
    line-height: 1.4;
}

.error-contenido {
    opacity: 1;
    max-height: 500px;
    transition: all 0.3s ease;
}

.error-card.collapsed .error-contenido {
    opacity: 0.7;
    max-height: 0;
    overflow: hidden;
}

.error-ejemplo {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 10px;
    padding: 1rem;
    margin-bottom: 1rem;
    overflow-x: auto; /* Fix for mobile overflow */
}

.error-ejemplo pre {
    margin: 0;
    overflow-x: auto;
    white-space: pre-wrap; /* Break lines if necessary */
    word-break: break-all;
}

.error-ejemplo code {
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
    font-size: 0.9rem;
}

.error-ejemplo p {
    margin: 0.5rem 0;
    font-size: 0.95rem;
}

.error-ejemplo strong {
    color: #f1f5f9;
}

.error-explicacion {
    background: rgba(30, 64, 175, 0.2);
    border-radius: 10px;
    padding: 1rem;
    border-left: 4px solid #3b82f6;
    font-size: 0.9rem;
    color: #cbd5e1;
}

/* Estilos para f칩rmulas matem치ticas */
.error-ejemplo .katex {
    font-size: 1rem !important;
}

/* Botones de control */
.errores-controls {
    display: flex;
    gap: 1rem;
    justify-content: center;
    margin-top: 2rem;
    padding-top: 2rem;
    border-top: 1px solid rgba(148, 163, 184, 0.2);
}

.control-btn {
    background: rgba(99, 102, 241, 0.2);
    color: #cbd5e1;
    border: 1px solid rgba(99, 102, 241, 0.4);
    padding: 0.5rem 1.5rem;
    border-radius: 8px;
    cursor: pointer;
    font-size: 0.9rem;
    font-weight: 500;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.control-btn:hover {
    background: rgba(99, 102, 241, 0.4);
    color: #f8fafc;
    transform: translateY(-2px);
}

/* Indicador de estado */
.error-status {
    position: absolute;
    top: 1rem;
    right: 1rem;
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: #ef4444;
    transition: all 0.3s ease;
}

.error-card.expanded .error-status {
    background: #10b981;
    box-shadow: 0 0 10px #10b981;
}

/* Efecto de resaltado al hacer hover sobre f칩rmulas */
.error-ejemplo p:hover {
    background: rgba(59, 130, 246, 0.1);
    border-radius: 5px;
    padding: 0.2rem 0.5rem;
    transition: background 0.3s ease;
}

/* Responsive */
@media (max-width: 768px) {
    .errores-section {
        padding: 1rem;
        margin: 2rem 0;
    }
    
    .errores-grid {
        grid-template-columns: 1fr;
        gap: 1rem;
    }

    .error-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.5rem;
    }

    .error-header h3 {
        font-size: 1rem;
    }

    .error-card {
        padding: 1rem;
    }

    .error-contenido {
        padding: 0.5rem 0;
    }
    
    .errores-controls {
        flex-direction: column;
        align-items: center;
        gap: 0.75rem;
    }
    
    .control-btn {
        width: 100%;
        justify-content: center;
    }
}

@media (max-width: 480px) {
    .error-header h3 {
        font-size: 0.9rem;
    }
    
    .error-ejemplo {
        padding: 0.75rem;
    }
    
    .error-ejemplo code {
        font-size: 0.8rem;
    }
}
/* ======================================== */
/* ESTILOS ESPEC칈FICOS PARA LECCI칍N DE MATEM츼TICAS */
/* ======================================== */

.leccion-matematicas-derivadas {
    /* Variables espec칤ficas ya definidas en el HTML */
}

/* ANIMACIONES ESPECIALES PARA MATEM츼TICAS */
@keyframes pulse-math {
    0%, 100% { 
        box-shadow: 0 0 5px currentColor;
    }
    50% { 
        box-shadow: 0 0 15px currentColor,
                     0 0 25px currentColor;
    }
}

.neon-icon {
    animation: pulse-math 3s infinite;
}

/* EFECTOS DE GRID MATEM츼TICO */
.math-grid-bg {
    position: relative;
}

.math-grid-bg::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
        linear-gradient(rgba(0, 255, 255, 0.02) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 255, 255, 0.02) 1px, transparent 1px),
        linear-gradient(rgba(255, 0, 255, 0.01) 2px, transparent 2px),
        linear-gradient(90deg, rgba(255, 0, 255, 0.01) 2px, transparent 2px);
    background-size: 40px 40px, 40px 40px, 80px 80px, 80px 80px;
    pointer-events: none;
    z-index: 0;
}

/* ESTILOS PARA F칍RMULAS MATHJAX */
.mjx-chtml {
    color: #e0f0ff !important;
}

.mjx-math {
    color: #e0f0ff !important;
}

/* BOTONES ESPECIALES MATEM츼TICOS */
.btn-math-primary {
    background: linear-gradient(45deg, #00FFFF, #0097A7);
    color: white;
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.3s;
}

.btn-math-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 255, 255, 0.3);
}

.btn-math-secondary {
    background: linear-gradient(45deg, #FF00FF, #FF00AA);
    color: white;
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.3s;
}

.btn-math-secondary:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(255, 0, 255, 0.3);
}

/* TARJETAS DE CONCEPTO MATEM츼TICO */
.concept-card-math {
    background: rgba(10, 10, 26, 0.85);
    border-radius: 12px;
    padding: 1.5rem;
    border: 2px solid;
    border-image: linear-gradient(45deg, #00FFFF, #FF00FF) 1;
    transition: all 0.3s;
}

.concept-card-math:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0, 255, 255, 0.2);
}

.concept-icon-math {
    font-size: 3rem;
    margin-bottom: 1rem;
    text-align: center;
}

/* INDICADORES DE NIVEL */
.nivel-indicator {
    display: inline-block;
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: bold;
    text-transform: uppercase;
}

.nivel-basico {
    background: rgba(57, 255, 20, 0.2);
    color: #39FF14;
    border: 1px solid rgba(57, 255, 20, 0.3);
}

.nivel-intermedio {
    background: rgba(255, 255, 0, 0.2);
    color: #FFFF00;
    border: 1px solid rgba(255, 255, 0, 0.3);
}

.nivel-avanzado {
    background: rgba(255, 0, 255, 0.2);
    color: #FF00FF;
    border: 1px solid rgba(255, 0, 255, 0.3);
}

/* TABLAS MATEM츼TICAS */
.table-math {
    width: 100%;
    border-collapse: collapse;
    margin: 1.5rem 0;
}

.table-math th {
    background: rgba(0, 255, 255, 0.1);
    color: #00FFFF;
    padding: 1rem;
    text-align: left;
    border-bottom: 2px solid rgba(0, 255, 255, 0.3);
}

.table-math td {
    padding: 1rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.table-math tr:hover {
    background: rgba(0, 255, 255, 0.05);
}

/* GR츼FICAS EN MOVIMIENTO */
.graph-animation {
    position: relative;
    overflow: hidden;
}

.graph-animation::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 2px;
    background: linear-gradient(90deg, transparent, #00FFFF, transparent);
    animation: scanline 3s linear infinite;
}

@keyframes scanline {
    0% { left: -100%; }
    100% { left: 100%; }
}

/* RESPONSIVE PARA DISPOSITIVOS M칍VILES */
@media (max-width: 480px) {
    .math-display {
        font-size: 0.9rem;
        padding: 1rem;
    }
    
    .concavity-rules {
        grid-template-columns: 1fr;
    }
    
    .rule-icon {
        font-size: 2rem;
    }
}
/* ESTILOS ESPEC칈FICOS PARA LECCI칍N DE SEGUNDAS DERIVADAS */
.leccion-matematicas-segundas-derivadas {
    /* Estilos espec칤ficos ya incluidos en el HTML */
}

/* Animaciones adicionales */
@keyframes concavidad-arriba {
    0% { transform: translateY(0); }
    50% { transform: translateY(-5px); }
    100% { transform: translateY(0); }
}

@keyframes concavidad-abajo {
    0% { transform: translateY(0); }
    50% { transform: translateY(5px); }
    100% { transform: translateY(0); }
}

.concavidad-arriba .interpretacion-visual {
    animation: concavidad-arriba 2s infinite;
}

.concavidad-abajo .interpretacion-visual {
    animation: concavidad-abajo 2s infinite;
}

/* Estilos para gr치ficas espec칤ficas */
.chart-tooltip {
    background: rgba(10, 10, 26, 0.9) !important;
    border: 1px solid var(--neon-cyan) !important;
    border-radius: 6px !important;
    padding: 10px !important;
    color: var(--text-light) !important;
}

/* Estilos para puntos de inflexi칩n en gr치fica */
.inflexion-point {
    animation: pulse-inflexion 1.5s infinite;
}

@keyframes pulse-inflexion {
    0%, 100% { 
        opacity: 1;
        transform: scale(1);
    }
    50% { 
        opacity: 0.7;
        transform: scale(1.1);
    }
}

/* Estilos para efectos de ne칩n en f칩rmulas */
.neon-formula {
    text-shadow: 0 0 5px currentColor,
                 0 0 10px currentColor;
}

/* Responsive adicional para gr치ficas */
@media (max-width: 480px) {
    .grafica-wrapper {
        height: 300px !important;
    }
    
    .grafica-leyenda {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.5rem;
    }
}

/* Estilos para el modo de impresi칩n */
@media print {
    .leccion-matematicas-segundas-derivadas {
        background: white !important;
        color: black !important;
    }
    
    .simulador-controls,
    .controls-buttons,
    .btn-control,
    .notificacion {
        display: none !important;
    }
}

/* VARIABLES PRINCIPALES */
:root {
    --neon-cyan: #00FFFF;
    --neon-green: #39FF14;
    --neon-pink: #FF00FF;
    --neon-yellow: #FFFF00;
    --neon-orange: #FF6B00;
    --bg-dark: #0a0a1a;
    --bg-darker: #050510;
    --bg-card: rgba(10, 10, 26, 0.85);
    --text-light: #e0f0ff;
    --text-dim: #a0b0c0;
    --border-glow: 1px solid rgba(0, 255, 255, 0.4);
    --shadow-neon: 0 0 10px rgba(0, 255, 255, 0.3);
}

/* RESET Y BASE */
.leccion-matematicas-segundas-derivadas * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

.leccion-matematicas-segundas-derivadas {
    background: var(--bg-dark);
    color: var(--text-light);
    font-family: 'Segoe UI', 'Roboto', 'Consolas', monospace;
    padding: 1.5rem;
    max-width: 1200px;
    margin: 0 auto;
    line-height: 1.6;
    position: relative;
    min-height: 100vh;
}

/* FONDO CYBERPUNK SUTIL */
.leccion-matematicas-segundas-derivadas::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        radial-gradient(circle at 20% 30%, rgba(0, 255, 255, 0.05) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(57, 255, 20, 0.03) 0%, transparent 50%),
        linear-gradient(45deg, rgba(255, 0, 255, 0.02) 25%, transparent 25%),
        linear-gradient(-45deg, rgba(255, 0, 255, 0.02) 25%, transparent 25%);
    background-size: 60px 60px;
    pointer-events: none;
    z-index: 0;
}

/* CABECERA */
.leccion-header.compact {
    background: linear-gradient(135deg, rgba(10, 10, 26, 0.9), rgba(0, 0, 40, 0.9));
    border-radius: 12px;
    padding: 1.5rem;
    margin-bottom: 2rem;
    border: var(--border-glow);
    position: relative;
    overflow: hidden;
}

.leccion-header.compact::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, 
        transparent, 
        var(--neon-cyan),
        var(--neon-pink),
        var(--neon-green),
        transparent);
    animation: scanline 3s linear infinite;
}

@keyframes scanline {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

.header-top {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
    margin-bottom: 1rem;
}

.materia-badge, .nivel-badge, .tiempo-badge {
    padding: 0.5rem 1rem;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: 600;
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
}

.materia-badge {
    background: rgba(57, 255, 20, 0.15);
    color: var(--neon-green);
    border: 1px solid rgba(57, 255, 20, 0.3);
}

.nivel-badge {
    background: rgba(0, 255, 255, 0.15);
    color: var(--neon-cyan);
    border: 1px solid rgba(0, 255, 255, 0.3);
}

.tiempo-badge {
    background: rgba(255, 0, 255, 0.15);
    color: var(--neon-pink);
    border: 1px solid rgba(255, 0, 255, 0.3);
}

.titulo-leccion {
    font-size: 2.2rem;
    color: var(--neon-cyan);
    text-align: center;
    margin: 1rem 0;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 1rem;
    flex-wrap: wrap;
}

.neon-icon {
    font-size: 2.5rem;
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

.leccion-subtitulo {
    text-align: center;
    color: var(--text-dim);
    font-size: 1.1rem;
    margin-top: 0.5rem;
}

/* OBJETIVOS R츼PIDOS */
.objetivos-rapidos {
    margin-bottom: 2rem;
}

.objetivos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
}

.objetivo-card {
    background: var(--bg-card);
    border-radius: 12px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: transform 0.3s, box-shadow 0.3s;
    display: flex;
    align-items: flex-start;
    gap: 1rem;
}

.objetivo-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
    border-color: var(--neon-cyan);
}

.obj-icon {
    font-size: 2rem;
    flex-shrink: 0;
}

.obj-text h4 {
    color: var(--text-light);
    margin-bottom: 0.5rem;
    font-size: 1.1rem;
}

.obj-text p {
    color: var(--text-dim);
    font-size: 0.9rem;
    line-height: 1.5;
}

/* SECCIONES PRINCIPALES */
.seccion-titulo {
    color: var(--neon-cyan);
    font-size: 1.5rem;
    margin: 2rem 0 1.5rem 0;
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.neon-bullet {
    color: var(--neon-pink);
    font-size: 1.2rem;
}

/* CONCEPTOS */
.conceptos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.concepto-card {
    background: var(--bg-card);
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    overflow: hidden;
    transition: transform 0.3s, border-color 0.3s;
}

.concepto-card:hover {
    transform: translateY(-3px);
    border-color: var(--neon-green);
}

.concepto-header {
    background: rgba(0, 0, 0, 0.3);
    padding: 1.2rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.concepto-header h3 {
    color: var(--text-light);
    font-size: 1.2rem;
    margin: 0;
}

.concepto-importance {
    font-size: 0.8rem;
    padding: 0.25rem 0.75rem;
    border-radius: 12px;
    font-weight: 600;
}

.concepto-importance[data-importance="CR칈TICO"] {
    background: rgba(255, 107, 107, 0.2);
    color: #FF6B6B;
    border: 1px solid rgba(255, 107, 107, 0.3);
}

.concepto-importance[data-importance="ALTA"] {
    background: rgba(255, 193, 7, 0.2);
    color: #FFC107;
    border: 1px solid rgba(255, 193, 7, 0.3);
}

.concepto-importance[data-importance="MEDIA"] {
    background: rgba(57, 255, 20, 0.2);
    color: var(--neon-green);
    border: 1px solid rgba(57, 255, 20, 0.3);
}

.concepto-desc {
    padding: 1.2rem;
}

.concepto-desc p {
    color: var(--text-light);
    margin-bottom: 1rem;
    line-height: 1.6;
}

.concepto-formula {
    background: rgba(0, 0, 0, 0.3);
    padding: 1rem;
    border-radius: 8px;
    margin: 1rem 0;
    border-left: 3px solid var(--neon-cyan);
    font-family: 'Cambria Math', 'Latin Modern Math', serif;
}

.concepto-ejemplo {
    background: rgba(57, 255, 20, 0.1);
    padding: 1rem;
    border-radius: 8px;
    margin-top: 1rem;
    border: 1px solid rgba(57, 255, 20, 0.2);
    font-size: 0.9rem;
}

.concavidad-visual {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-top: 1rem;
}

.concavidad-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 0.75rem;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
}

.concavidad-icon {
    font-size: 1.5rem;
    flex-shrink: 0;
}

.concavidad-text {
    font-size: 0.9rem;
    line-height: 1.4;
}

.concavidad-text strong {
    color: var(--neon-green);
}

.concepto-condiciones {
    background: rgba(0, 255, 255, 0.1);
    padding: 1rem;
    border-radius: 8px;
    margin: 1rem 0;
    border: 1px solid rgba(0, 255, 255, 0.2);
}

.concepto-condiciones ol {
    margin-left: 1.5rem;
    margin-top: 0.5rem;
}

.concepto-condiciones li {
    margin-bottom: 0.5rem;
    color: var(--text-light);
}

.aplicaciones-lista {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.aplicacion-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.5rem;
    border-radius: 6px;
    background: rgba(255, 255, 255, 0.05);
    transition: background 0.3s;
}

.aplicacion-item:hover {
    background: rgba(255, 255, 255, 0.1);
}

.app-icon {
    font-size: 1.2rem;
    flex-shrink: 0;
}

.app-text {
    font-size: 0.9rem;
    line-height: 1.4;
}

/* SIMULADOR DE CONCAVIDAD */
.simulador-concavidad {
    margin-bottom: 3rem;
}

.simulador-controls {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 12px;
    padding: 1.5rem;
    border: var(--border-glow);
    margin-bottom: 2rem;
}

.controls-header {
    text-align: center;
    margin-bottom: 1.5rem;
}

.controls-header h3 {
    color: var(--neon-pink);
    font-size: 1.3rem;
    margin-bottom: 0.5rem;
}

.controls-header p {
    color: var(--text-dim);
    font-size: 0.95rem;
}

.controls-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    margin-bottom: 1.5rem;
}

.control-group {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.control-group label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--text-light);
    font-weight: 500;
}

.control-icon {
    font-size: 1.2rem;
}

.control-select {
    padding: 0.75rem;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 6px;
    color: var(--text-light);
    font-family: inherit;
    font-size: 0.95rem;
    transition: border-color 0.3s;
}

.control-select:focus {
    outline: none;
    border-color: var(--neon-cyan);
}

.range-inputs {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.range-inputs input {
    flex: 1;
    padding: 0.5rem;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 4px;
    color: var(--text-light);
    text-align: center;
}

.range-inputs span {
    color: var(--text-dim);
}

.checkbox-group {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
}

.checkbox-group label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    cursor: pointer;
    padding: 0.5rem;
    border-radius: 4px;
    transition: background 0.3s;
}

.checkbox-group label:hover {
    background: rgba(255, 255, 255, 0.1);
}

.checkbox-group input[type="checkbox"] {
    width: 18px;
    height: 18px;
    cursor: pointer;
}

.controls-buttons {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
}

.btn-control {
    padding: 1rem 1.5rem;
    border: none;
    border-radius: 8px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 1rem;
    min-width: 200px;
    justify-content: center;
}

.btn-analyze {
    background: linear-gradient(45deg, var(--neon-cyan), #0097A7);
    color: white;
}

.btn-optimize {
    background: linear-gradient(45deg, var(--neon-green), #2E7D32);
    color: white;
}

.btn-reset {
    background: linear-gradient(45deg, var(--neon-pink), #FF00AA);
    color: white;
}

.btn-control:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.btn-control .btn-icon {
    font-size: 1.2rem;
}

/* GR츼FICA INTERACTIVA */
.grafica-container {
    background: var(--bg-card);
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    overflow: hidden;
    margin-bottom: 2rem;
}

.grafica-header {
    background: rgba(0, 0, 0, 0.3);
    padding: 1.2rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 1rem;
}

.grafica-header h4 {
    color: var(--neon-green);
    margin: 0;
    font-size: 1.1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.grafica-info {
    display: flex;
    gap: 1.5rem;
    font-size: 0.9rem;
}

#funcion-actual {
    color: var(--neon-cyan);
    font-family: 'Consolas', monospace;
}

#zoom-info {
    color: var(--text-dim);
}

.grafica-wrapper {
    padding: 1.5rem;
    height: 500px;
    position: relative;
}

#grafica-concavidad {
    width: 100% !important;
    height: 100% !important;
}

.grafica-leyenda {
    background: rgba(0, 0, 0, 0.3);
    padding: 1rem 1.5rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    display: flex;
    gap: 2rem;
    flex-wrap: wrap;
    justify-content: center;
}

.leyenda-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 0.9rem;
}

.leyenda-color {
    width: 20px;
    height: 20px;
    border-radius: 4px;
    display: inline-block;
}

/* AN츼LISIS EN TIEMPO REAL */
.analisis-tiempo-real {
    background: var(--bg-card);
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    overflow: hidden;
    margin-bottom: 2rem;
}

.analisis-header {
    background: rgba(0, 0, 0, 0.3);
    padding: 1.5rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 1.5rem;
}

.analisis-header h4 {
    color: var(--neon-yellow);
    margin: 0;
    font-size: 1.2rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.analisis-score {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
}

.score-circle {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--neon-yellow), #FF8F00);
    display: flex;
    align-items: center;
    justify-content: center;
    border: 3px solid var(--neon-yellow);
    box-shadow: 0 0 20px rgba(255, 255, 0, 0.3);
}

.score-number {
    font-size: 1.8rem;
    font-weight: bold;
    color: white;
}

.score-label {
    font-size: 0.85rem;
    color: var(--text-dim);
}

.analisis-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    padding: 1.5rem;
}

.analisis-card {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    overflow: hidden;
    transition: transform 0.3s, border-color 0.3s;
}

.analisis-card:hover {
    transform: translateY(-3px);
    border-color: var(--neon-cyan);
}

.analisis-titulo {
    background: rgba(0, 0, 0, 0.4);
    padding: 1rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.analisis-icon {
    font-size: 1.2rem;
    flex-shrink: 0;
}

.analisis-titulo span:last-child {
    color: var(--text-light);
    font-weight: 600;
    font-size: 0.95rem;
}

.analisis-contenido {
    padding: 1rem;
    min-height: 120px;
    max-height: 200px;
    overflow-y: auto;
}

.analisis-detalle {
    padding: 1.5rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.analisis-detalle h5 {
    color: var(--neon-green);
    margin-bottom: 1rem;
    font-size: 1.1rem;
}

.interpretacion-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
}

.interpretacion-item {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    padding: 1.5rem;
    text-align: center;
    transition: transform 0.3s;
}

.interpretacion-item:hover {
    transform: translateY(-5px);
}

.interpretacion-visual {
    font-size: 3rem;
    margin-bottom: 1rem;
}

.interpretacion-visual.concavidad-arriba {
    color: var(--neon-green);
}

.interpretacion-visual.concavidad-abajo {
    color: #FF6B6B;
}

.interpretacion-visual.punto-inflexion {
    color: var(--neon-yellow);
}

.interpretacion-texto {
    color: var(--text-light);
    line-height: 1.5;
}

.interpretacion-texto strong {
    display: block;
    font-size: 1.1rem;
    margin-bottom: 0.5rem;
    color: var(--neon-cyan);
}

.interpretacion-texto em {
    color: var(--text-dim);
    font-size: 0.9rem;
}

/* APLICACIONES AVANZADAS */
.aplicaciones-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    margin-bottom: 3rem;
}

.aplicacion-card {
    background: var(--bg-card);
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    overflow: hidden;
    transition: transform 0.3s, box-shadow 0.3s;
}

.aplicacion-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
}

.aplicacion-card.ia {
    border-color: rgba(57, 255, 20, 0.3);
}

.aplicacion-card.fisica {
    border-color: rgba(0, 255, 255, 0.3);
}

.aplicacion-card.economia {
    border-color: rgba(255, 193, 7, 0.3);
}

.aplicacion-card.ingenieria {
    border-color: rgba(255, 0, 255, 0.3);
}

.aplicacion-header {
    background: rgba(0, 0, 0, 0.4);
    padding: 1.5rem;
    display: flex;
    align-items: center;
    gap: 1rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.app-icon {
    font-size: 2rem;
    flex-shrink: 0;
}

.app-titulo h3 {
    color: var(--text-light);
    margin: 0 0 0.25rem 0;
    font-size: 1.2rem;
}

.app-subtitulo {
    color: var(--text-dim);
    font-size: 0.9rem;
    margin: 0;
}

.aplicacion-contenido {
    padding: 1.5rem;
}

.aplicacion-contenido p {
    color: var(--text-light);
    margin-bottom: 1rem;
    line-height: 1.6;
}

.aplicacion-contenido ul {
    margin-left: 1.5rem;
    margin-bottom: 1.5rem;
}

.aplicacion-contenido li {
    color: var(--text-light);
    margin-bottom: 0.5rem;
    line-height: 1.5;
}

.aplicacion-contenido li strong {
    color: var(--neon-cyan);
}

.aplicacion-ejemplo {
    background: rgba(0, 0, 0, 0.3);
    padding: 1rem;
    border-radius: 8px;
    border-left: 3px solid var(--neon-green);
    font-size: 0.9rem;
    margin-top: 1.5rem;
}

.fisica-formulas {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin: 1.5rem 0;
}

.formula-item {
    background: rgba(0, 0, 0, 0.3);
    padding: 1rem;
    border-radius: 8px;
    border: 1px solid rgba(0, 255, 255, 0.2);
}

.formula {
    font-family: 'Cambria Math', 'Latin Modern Math', serif;
    font-size: 1.1rem;
    color: var(--neon-cyan);
    margin-bottom: 0.5rem;
}

.formula-desc {
    color: var(--text-dim);
    font-size: 0.9rem;
}

/* ERRORES FRECUENTES */
.errores-columna {
    display: flex;
    flex-direction: column;
    gap: 2rem;
    margin-bottom: 3rem;
}

.error-completo {
    background: rgba(255, 107, 107, 0.05);
    border-radius: 12px;
    border: 1px solid rgba(255, 107, 107, 0.2);
    overflow: hidden;
}

.error-header-completo {
    background: rgba(255, 107, 107, 0.1);
    padding: 1.5rem;
    display: flex;
    align-items: center;
    gap: 1rem;
    border-bottom: 1px solid rgba(255, 107, 107, 0.2);
}

.error-icon {
    font-size: 2rem;
    flex-shrink: 0;
}

.error-titulo h3 {
    color: #FF6B6B;
    margin: 0 0 0.25rem 0;
    font-size: 1.3rem;
}

.error-subtitulo {
    color: rgba(255, 255, 255, 0.7);
    font-size: 0.9rem;
    margin: 0;
}

.error-contenido-completo {
    padding: 1.5rem;
}

.error-explicacion {
    margin-bottom: 1.5rem;
}

.error-explicacion h4 {
    color: var(--text-light);
    margin-bottom: 0.75rem;
    font-size: 1.1rem;
}

.error-explicacion p {
    color: var(--text-light);
    line-height: 1.6;
    margin-bottom: 0.5rem;
}

.error-comparacion {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.5rem;
    margin: 1.5rem 0;
}

@media (max-width: 768px) {
    .error-comparacion {
        grid-template-columns: 1fr;
    }
}

.comparacion-item {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.comparacion-item.incorrecto {
    border-color: rgba(255, 107, 107, 0.3);
}

.comparacion-item.correcto {
    border-color: rgba(57, 255, 20, 0.3);
}

.comparacion-header {
    padding: 1rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.comparacion-badge {
    padding: 0.25rem 0.75rem;
    border-radius: 4px;
    font-size: 0.8rem;
    font-weight: 600;
}

.incorrecto-badge {
    background: rgba(255, 107, 107, 0.2);
    color: #FF6B6B;
    border: 1px solid rgba(255, 107, 107, 0.3);
}

.correcto-badge {
    background: rgba(57, 255, 20, 0.2);
    color: var(--neon-green);
    border: 1px solid rgba(57, 255, 20, 0.3);
}

.comparacion-desc {
    color: var(--text-dim);
    font-size: 0.85rem;
}

.comparacion-codigo {
    padding: 1rem;
    background: #0a0a1a;
}

.comparacion-codigo pre {
    margin: 0;
    overflow-x: auto;
}

.comparacion-codigo code {
    font-family: 'Consolas', 'Monaco', monospace;
    font-size: 0.85rem;
    color: #e0f0ff;
    line-height: 1.4;
}

.comparacion-problema, .comparacion-solucion {
    padding: 1rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    font-size: 0.9rem;
}

.comparacion-problema p, .comparacion-solucion p {
    margin: 0;
    color: var(--text-light);
    line-height: 1.5;
}

.comparacion-problema strong, .comparacion-solucion strong {
    color: #FF6B6B;
}

.comparacion-solucion strong {
    color: var(--neon-green);
}

.error-consejo {
    background: rgba(255, 193, 7, 0.1);
    padding: 1rem;
    border-radius: 8px;
    margin-top: 1.5rem;
    border-left: 3px solid #FFC107;
}

.error-consejo p {
    color: var(--text-light);
    margin: 0;
    line-height: 1.5;
}

.error-consejo strong {
    color: #FFC107;
}

/* DESAF칈O PR츼CTICO */
.desafio-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    margin-bottom: 3rem;
}

@media (max-width: 992px) {
    .desafio-container {
        grid-template-columns: 1fr;
    }
}

.desafio-problema {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 12px;
    padding: 1.5rem;
    border: 1px solid rgba(0, 255, 255, 0.2);
}

.desafio-problema h4 {
    color: #FF6B6B;
    margin-bottom: 1rem;
    font-size: 1.2rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.codigo-problema {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 8px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
}

.funcion-display {
    font-family: 'Cambria Math', 'Latin Modern Math', serif;
    font-size: 1.3rem;
    color: var(--neon-cyan);
    text-align: center;
    margin-bottom: 1.5rem;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
}

.problema-desc {
    color: var(--text-light);
}

.problema-desc p {
    margin-bottom: 1rem;
}

.problema-desc ol {
    margin-left: 1.5rem;
    margin-top: 0.5rem;
}

.problema-desc li {
    margin-bottom: 0.5rem;
    color: var(--text-light);
    line-height: 1.5;
}

.desafio-solucion {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 12px;
    padding: 1.5rem;
    border: 1px solid rgba(57, 255, 20, 0.2);
}

.desafio-solucion h4 {
    color: var(--neon-green);
    margin-bottom: 1.5rem;
    font-size: 1.2rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.editor-solucion {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    margin-bottom: 1.5rem;
}

.paso-solucion {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 8px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.paso-solucion h5 {
    color: var(--neon-cyan);
    margin-bottom: 1rem;
    font-size: 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.solucion-textarea {
    width: 100%;
    min-height: 80px;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 6px;
    color: var(--text-light);
    font-family: 'Consolas', monospace;
    font-size: 0.95rem;
    resize: vertical;
    margin-bottom: 1rem;
}

.solucion-textarea:focus {
    outline: none;
    border-color: var(--neon-cyan);
}

.btn-verificar-paso {
    background: rgba(0, 255, 255, 0.1);
    color: var(--neon-cyan);
    border: 1px solid rgba(0, 255, 255, 0.3);
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.2s;
}

.btn-verificar-paso:hover {
    background: rgba(0, 255, 255, 0.2);
    transform: translateY(-2px);
}

.solucion-feedback {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.feedback-initial {
    color: var(--text-light);
}

.feedback-initial p {
    margin-bottom: 0.75rem;
}

.feedback-initial ul {
    margin-left: 1.5rem;
    margin-top: 0.5rem;
}

.feedback-initial li {
    margin-bottom: 0.5rem;
    color: var(--text-light);
    line-height: 1.5;
}

.feedback-excelente {
    color: var(--neon-green);
    line-height: 1.6;
}

.feedback-excelente h4 {
    color: var(--neon-green);
    margin-bottom: 0.75rem;
    font-size: 1.1rem;
}

.feedback-error {
    color: #FF6B6B;
    line-height: 1.6;
}

.feedback-error h4 {
    color: #FF6B6B;
    margin-bottom: 0.75rem;
    font-size: 1.1rem;
}

.feedback-mejorable {
    color: #FFC107;
    line-height: 1.6;
}

.feedback-mejorable h4 {
    color: #FFC107;
    margin-bottom: 0.75rem;
    font-size: 1.1rem;
}

.solucion-acciones {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
}

.btn-verificar-completa {
    background: linear-gradient(45deg, var(--neon-green), #2E7D32);
    color: white;
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.2s;
    flex: 1;
    min-width: 200px;
    justify-content: center;
}

.btn-mostrar-modelo {
    background: linear-gradient(45deg, var(--neon-cyan), #0097A7);
    color: white;
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.2s;
    flex: 1;
    min-width: 200px;
    justify-content: center;
}

.btn-limpiar-sol {
    background: linear-gradient(45deg, #FF6B6B, #C62828);
    color: white;
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.2s;
    flex: 1;
    min-width: 200px;
    justify-content: center;
}

.btn-verificar-completa:hover,
.btn-mostrar-modelo:hover,
.btn-limpiar-sol:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 10px rgba(0, 0, 0, 0.3);
}

/* AUTOEVALUACI칍N Y RECURSOS */
.evaluacion-recursos {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    margin-bottom: 2rem;
}

@media (max-width: 768px) {
    .evaluacion-recursos {
        grid-template-columns: 1fr;
    }
}

.autoevaluacion-compact,
.recursos-compact {
    background: var(--bg-card);
    border-radius: 12px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.eval-grid {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    margin: 1.5rem 0;
}

.eval-item {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    padding: 1.2rem;
}

.eval-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.75rem;
}

.eval-label {
    color: var(--text-light);
    font-weight: 500;
}

.eval-value {
    color: var(--neon-cyan);
    font-weight: 600;
    font-size: 1.1rem;
}

.eval-slider {
    width: 100%;
    height: 8px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    outline: none;
    -webkit-appearance: none;
}

.eval-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 20px;
    height: 20px;
    background: var(--neon-cyan);
    border-radius: 50%;
    cursor: pointer;
    border: 2px solid white;
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
}

.eval-labels {
    display: flex;
    justify-content: space-between;
    margin-top: 0.5rem;
    color: var(--text-dim);
    font-size: 0.8rem;
}

.eval-actions {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 1rem;
    margin-top: 1.5rem;
}

.btn-guardar-eval {
    background: linear-gradient(45deg, var(--neon-green), #2E7D32);
    color: white;
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.2s;
}

.btn-guardar-eval:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 10px rgba(0, 0, 0, 0.3);
}

.eval-promedio {
    color: var(--text-light);
    background: rgba(0, 0, 0, 0.3);
    padding: 0.5rem 1rem;
    border-radius: 6px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.eval-promedio strong {
    color: var(--neon-cyan);
}

.recursos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
    margin-top: 1.5rem;
}

.recurso-card {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    padding: 1.2rem;
    text-decoration: none;
    color: inherit;
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.3s;
    display: flex;
    align-items: flex-start;
    gap: 1rem;
}

.recurso-card:hover {
    transform: translateY(-3px);
    border-color: var(--neon-cyan);
    background: rgba(0, 0, 0, 0.5);
}

.recurso-icon {
    font-size: 1.5rem;
    flex-shrink: 0;
}

.recurso-content h4 {
    color: var(--text-light);
    margin: 0 0 0.5rem 0;
    font-size: 0.95rem;
}

.recurso-content p {
    color: var(--text-dim);
    font-size: 0.85rem;
    line-height: 1.4;
    margin: 0;
}

/* NOTIFICACIONES */
.notificacion {
    position: fixed;
    top: 20px;
    right: 20px;
    background: var(--bg-card);
    border-radius: 8px;
    padding: 1rem 1.5rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
    min-width: 300px;
    max-width: 400px;
    z-index: 10000;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    animation: slideIn 0.3s ease;
    border-left: 4px solid;
}

@keyframes slideIn {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

.notificacion-success {
    border-left-color: var(--neon-green);
    background: rgba(57, 255, 20, 0.1);
}

.notificacion-warning {
    border-left-color: var(--neon-yellow);
    background: rgba(255, 193, 7, 0.1);
}

.notificacion-info {
    border-left-color: var(--neon-cyan);
    background: rgba(0, 255, 255, 0.1);
}

.notificacion-contenido {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    flex: 1;
}

.notificacion-icon {
    font-size: 1.2rem;
}

.notificacion-mensaje {
    color: var(--text-light);
    font-size: 0.95rem;
    line-height: 1.4;
}

.notificacion-cerrar {
    background: none;
    border: none;
    color: var(--text-dim);
    font-size: 1.5rem;
    cursor: pointer;
    padding: 0;
    line-height: 1;
    transition: color 0.2s;
}

.notificacion-cerrar:hover {
    color: var(--text-light);
}

/* COMPONENTES REUTILIZABLES */
.intervalos-lista,
.puntos-inflexion-lista,
.puntos-criticos-lista {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.intervalo-item,
.punto-inflexion-item,
.punto-critico {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 6px;
    padding: 0.75rem;
    border-left: 3px solid;
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.intervalo-icon,
.punto-icon {
    font-size: 1.2rem;
    flex-shrink: 0;
}

.intervalo-info,
.punto-info {
    flex: 1;
}

.intervalo-info strong,
.punto-info strong {
    color: var(--neon-cyan);
    display: block;
    margin-bottom: 0.25rem;
}

.aceleracion-info ul,
.resumen-matematico ul {
    margin-left: 1.5rem;
    margin-top: 0.5rem;
}

.aceleracion-info li,
.resumen-matematico li {
    margin-bottom: 0.5rem;
    color: var(--text-light);
    line-height: 1.5;
}

.formulas-resumen {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    margin: 1rem 0;
}

/* RESPONSIVE */
@media (max-width: 768px) {
    .leccion-matematicas-segundas-derivadas {
        padding: 1rem;
    }
    
    .titulo-leccion {
        font-size: 1.8rem;
    }
    
    .objetivos-grid,
    .conceptos-grid,
    .controls-grid,
    .analisis-grid,
    .interpretacion-grid,
    .aplicaciones-grid,
    .recursos-grid {
        grid-template-columns: 1fr;
    }
    
    .grafica-wrapper {
        height: 400px;
        padding: 1rem;
    }
    
    .controls-buttons,
    .solucion-acciones {
        flex-direction: column;
    }
    
    .btn-control,
    .btn-verificar-completa,
    .btn-mostrar-modelo,
    .btn-limpiar-sol {
        width: 100%;
    }
    
    .analisis-header {
        flex-direction: column;
        text-align: center;
    }
    
    .notificacion {
        min-width: 250px;
        max-width: 300px;
        right: 10px;
        left: 10px;
        margin: 0 auto;
    }
}

/* SCROLLBAR PERSONALIZADA */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb {
    background: rgba(0, 255, 255, 0.3);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 255, 255, 0.5);
}

/* ESTILOS PARA MATHJAX */
.mjx-chtml {
    font-size: 1.1em !important;
}

/* ANIMACIONES ADICIONALES */
@keyframes glow {
    0%, 100% { 
        text-shadow: 0 0 5px currentColor;
    }
    50% { 
        text-shadow: 0 0 10px currentColor,
                     0 0 15px currentColor;
    }
}

.titulo-leccion .neon-icon {
    animation: glow 2s infinite;
}

/* EFECTOS DE HOVER PARA CARDS */
.concepto-card:hover .concepto-header {
    background: rgba(0, 0, 0, 0.4);
}

.aplicacion-card:hover .aplicacion-header {
    background: rgba(0, 0, 0, 0.5);
}

.analisis-card:hover .analisis-titulo {
    background: rgba(0, 0, 0, 0.5);
}

/* ESTILOS PARA TABLAS (si se necesitan) */
.table {
    width: 100%;
    border-collapse: collapse;
    margin: 1rem 0;
}

.table th,
.table td {
    padding: 0.75rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
    text-align: left;
}

.table th {
    background: rgba(0, 0, 0, 0.3);
    color: var(--neon-cyan);
    font-weight: 600;
}

.table tr:nth-child(even) {
    background: rgba(255, 255, 255, 0.05);
}

.table tr:hover {
    background: rgba(0, 255, 255, 0.1);
}
/* ESTILOS ESPEC칈FICOS PARA LECCI칍N DE INTEGRALES */
.leccion-matematicas-integrales {
    /* Estilos espec칤ficos ya incluidos en el HTML */
}

/* Animaciones espec칤ficas para integrales */
@keyframes integral-flow {
    0% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
    100% { transform: translateY(0); }
}

@keyframes area-fill {
    0% { height: 0%; }
    100% { height: 100%; }
}

/* Efectos para gr치ficas de integrales */
.integral-chart-tooltip {
    background: rgba(10, 10, 26, 0.95) !important;
    border: 1px solid var(--neon-green) !important;
    border-radius: 6px !important;
    padding: 10px !important;
    color: var(--text-light) !important;
    font-family: 'Consolas', monospace !important;
}

/* Animaciones para 치reas positivas y negativas */
.positive-area {
    animation: positive-glow 2s infinite alternate;
}

@keyframes positive-glow {
    from { box-shadow: 0 0 5px rgba(0, 200, 83, 0.5); }
    to { box-shadow: 0 0 15px rgba(0, 200, 83, 0.8); }
}

.negative-area {
    animation: negative-glow 2s infinite alternate;
}

@keyframes negative-glow {
    from { box-shadow: 0 0 5px rgba(255, 87, 34, 0.5); }
    to { box-shadow: 0 0 15px rgba(255, 87, 34, 0.8); }
}

/* Estilos para el s칤mbolo de integral */
.integral-symbol {
    font-size: 3rem;
    color: var(--neon-cyan);
    text-shadow: 0 0 10px var(--neon-cyan);
    animation: integral-symbol-pulse 3s infinite;
}

@keyframes integral-symbol-pulse {
    0%, 100% { 
        text-shadow: 0 0 10px var(--neon-cyan);
        transform: scale(1);
    }
    50% { 
        text-shadow: 0 0 20px var(--neon-cyan), 0 0 30px var(--neon-cyan);
        transform: scale(1.1);
    }
}

/* Responsive adicional para integrales */
@media (max-width: 480px) {
    .grafica-wrapper {
        height: 300px !important;
    }
    
    .funcion-ejemplos {
        justify-content: center;
    }
    
    .tabla-integrales-cyberpunk {
        font-size: 0.8rem;
    }
    
    .integral-formula, .antiderivada-formula {
        font-size: 0.9rem !important;
    }
}

/* Estilos para el modo de impresi칩n */
@media print {
    .leccion-matematicas-integrales {
        background: white !important;
        color: black !important;
    }
    
    .simulador-controls,
    .controls-buttons,
    .btn-control,
    .notificacion,
    .grafica-container {
        display: none !important;
    }
    
    .tabla-integrales-cyberpunk {
        border: 1px solid black !important;
    }
    
    .tabla-integrales-cyberpunk th,
    .tabla-integrales-cyberpunk td {
        border: 1px solid black !important;
        color: black !important;
    }
}

/* Efectos especiales para m칠todos de integraci칩n */
.metodo-card:hover .metodo-icon {
    animation: metodo-icon-spin 1s ease;
}

@keyframes metodo-icon-spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Gradientes especiales para aplicaciones */
.aplicacion-card.fisica .app-icon {
    background: linear-gradient(45deg, var(--neon-cyan), #0097A7);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.aplicacion-card.geometria .app-icon {
    background: linear-gradient(45deg, var(--neon-green), #2E7D32);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

/* Efectos de transici칩n para resultados */
.resultado-card:hover .resultado-icon {
    animation: resultado-bounce 0.5s ease;
}

@keyframes resultado-bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-5px); }
}
/* ESTILOS ESPEC칈FICOS PARA LECCI칍N DE INTEGRALES */
.leccion-matematicas-integrales {
    background: linear-gradient(135deg, #0a0a1a 0%, #050510 100%);
    position: relative;
    overflow-x: hidden;
}

.leccion-matematicas-integrales::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
        linear-gradient(rgba(0, 255, 255, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 255, 255, 0.03) 1px, transparent 1px);
    background-size: 50px 50px;
    background-position: -25px -25px;
    pointer-events: none;
    z-index: 0;
}

.leccion-matematicas-integrales > * {
    position: relative;
    z-index: 1;
}

/* ANIMACI칍N DE SCANLINES PARA INTEGRALES */
@keyframes scanlines {
    0% { transform: translateY(0); }
    100% { transform: translateY(10px); }
}

.leccion-matematicas-integrales::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: repeating-linear-gradient(
        0deg,
        transparent 0px,
        transparent 1px,
        rgba(0, 255, 255, 0.03) 1px,
        rgba(0, 255, 255, 0.03) 2px
    );
    pointer-events: none;
    z-index: 0;
    animation: scanlines 8s linear infinite;
}

/* EFECTO DE GLOW PARA T칈TULOS DE INTEGRALES */
.titulo-leccion {
    position: relative;
    text-shadow: 
        0 0 5px rgba(0, 255, 255, 0.5),
        0 0 10px rgba(0, 255, 255, 0.3),
        0 0 15px rgba(0, 255, 255, 0.1);
    animation: titleGlow 3s ease-in-out infinite alternate;
}

@keyframes titleGlow {
    0% {
        text-shadow: 
            0 0 5px rgba(0, 255, 255, 0.5),
            0 0 10px rgba(0, 255, 255, 0.3),
            0 0 15px rgba(0, 255, 255, 0.1);
    }
    100% {
        text-shadow: 
            0 0 10px rgba(0, 255, 255, 0.7),
            0 0 20px rgba(0, 255, 255, 0.5),
            0 0 30px rgba(0, 255, 255, 0.3);
    }
}

/* BOTONES CON EFECTO CYBERPUNK */
.btn-control {
    position: relative;
    overflow: hidden;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.btn-control::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 255, 255, 0.2),
        transparent
    );
    transition: left 0.5s ease;
}

.btn-control:hover::before {
    left: 100%;
}

.btn-control:hover {
    transform: translateY(-3px) scale(1.02);
    box-shadow: 
        0 5px 20px rgba(0, 0, 0, 0.3),
        0 0 20px currentColor;
}

/* EFECTO DE BORDE NEON PARA TARJETAS */
.concepto-card, .metodo-card, .resultado-card {
    position: relative;
    border: 1px solid transparent;
    background-clip: padding-box;
}

.concepto-card::before, .metodo-card::before, .resultado-card::before {
    content: '';
    position: absolute;
    top: -1px;
    left: -1px;
    right: -1px;
    bottom: -1px;
    background: linear-gradient(
        45deg,
        var(--neon-cyan),
        var(--neon-green),
        var(--neon-pink),
        var(--neon-yellow)
    );
    border-radius: inherit;
    z-index: -1;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.concepto-card:hover::before, .metodo-card:hover::before, .resultado-card:hover::before {
    opacity: 0.3;
    animation: borderRotate 3s linear infinite;
}

@keyframes borderRotate {
    0% {
        filter: hue-rotate(0deg);
    }
    100% {
        filter: hue-rotate(360deg);
    }
}

/* EFECTO DE PARTICULAS PARA LA GR츼FICA */
.grafica-wrapper {
    position: relative;
}

.grafica-wrapper::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
        radial-gradient(circle at 20% 30%, rgba(0, 255, 255, 0.05) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(57, 255, 20, 0.03) 0%, transparent 50%),
        radial-gradient(circle at 40% 80%, rgba(255, 0, 255, 0.02) 0%, transparent 50%);
    pointer-events: none;
    z-index: 0;
}

/* ANIMACI칍N DE CARGANDO PARA GR츼FICA */
#grafica-integral-avanzada.loading {
    opacity: 0.5;
}

/* EFECTO DE TEXTO NEON PARA F칍RMULAS */
.concepto-formula, .metodo-formula, .integral-formula, .antiderivada-formula {
    position: relative;
}

.concepto-formula::after, .metodo-formula::after {
    content: '';
    position: absolute;
    bottom: -5px;
    left: 10%;
    right: 10%;
    height: 1px;
    background: linear-gradient(
        90deg,
        transparent,
        var(--neon-cyan),
        transparent
    );
}

/* RESPONSIVE ADJUSTMENTS */
@media (max-width: 1024px) {
    .conceptos-grid,
    .resultados-grid,
    .metodos-grid {
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    }
}

@media (max-width: 640px) {
    .conceptos-grid,
    .resultados-grid,
    .metodos-grid,
    .recursos-grid {
        grid-template-columns: 1fr;
    }
    
    .controls-buttons {
        flex-direction: column;
        align-items: stretch;
    }
    
    .btn-control {
        width: 100%;
        margin-bottom: 0.5rem;
    }
}

/* PRINT STYLES */
@media print {
    .leccion-matematicas-integrales {
        background: white !important;
        color: black !important;
    }
    
    .btn-control, .btn-ejemplo, .btn-verificar-paso,
    .btn-verificar-completa, .btn-mostrar-modelo, .btn-limpiar-sol,
    .btn-guardar-eval {
        display: none !important;
    }
    
    .concepto-card, .metodo-card, .resultado-card {
        border: 1px solid #ccc !important;
        box-shadow: none !important;
    }
    
    .grafica-wrapper {
        display: none !important;
    }
}

/* VARIABLES PRINCIPALES PARA INTEGRALES */
:root {
    --neon-cyan: #00FFFF;
    --neon-green: #39FF14;
    --neon-pink: #FF00FF;
    --neon-yellow: #FFFF00;
    --neon-orange: #FF6B00;
    --bg-dark: #0a0a1a;
    --bg-darker: #050510;
    --bg-card: rgba(10, 10, 26, 0.85);
    --text-light: #e0f0ff;
    --text-dim: #a0b0c0;
    --border-glow: 1px solid rgba(0, 255, 255, 0.4);
    --shadow-neon: 0 0 10px rgba(0, 255, 255, 0.3);
}

/* RESET Y BASE PARA LECCI칍N DE INTEGRALES */
.leccion-matematicas-integrales * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

.leccion-matematicas-integrales {
    background: var(--bg-dark);
    color: var(--text-light);
    font-family: 'Segoe UI', 'Roboto', 'Consolas', monospace;
    padding: 1.5rem;
    max-width: 1400px;
    margin: 0 auto;
    line-height: 1.6;
    position: relative;
    min-height: 100vh;
}

/* FONDO CYBERPUNK SUTIL PARA MATEM츼TICAS */
.leccion-matematicas-integrales::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    z-index: 0;
}

/* CABECERA COMPACTA */
.leccion-header.compact {
    text-align: center;
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
    border-bottom: 2px solid var(--neon-green);
    position: relative;
    z-index: 1;
}

.header-top {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-bottom: 1rem;
    flex-wrap: wrap;
}

.materia-badge, .nivel-badge, .tiempo-badge {
    background: rgba(57, 255, 20, 0.1);
    color: var(--neon-green);
    padding: 0.5rem 1rem;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: bold;
    border: 1px solid rgba(57, 255, 20, 0.3);
}

.nivel-badge {
    background: rgba(255, 0, 255, 0.1);
    color: var(--neon-pink);
    border-color: rgba(255, 0, 255, 0.3);
}

.tiempo-badge {
    background: rgba(255, 255, 0, 0.1);
    color: var(--neon-yellow);
    border-color: rgba(255, 255, 0, 0.3);
}

.titulo-leccion {
    font-size: 2.5rem;
    color: var(--neon-cyan);
    margin: 0.5rem 0;
    text-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 1rem;
}

.neon-icon {
    font-size: 3rem;
    animation: pulse 2s infinite;
}

.leccion-subtitulo {
    color: var(--text-dim);
    font-size: 1.1rem;
    margin-top: 0.5rem;
}

/* PANEL DE OBJETIVOS */
.objetivos-rapidos {
    margin-bottom: 2rem;
}

.objetivos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    margin-top: 1rem;
}

.objetivo-card {
    background: var(--bg-card);
    border: 1px solid rgba(0, 255, 255, 0.2);
    border-radius: 10px;
    padding: 1.5rem;
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    transition: transform 0.3s, box-shadow 0.3s;
}

.objetivo-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 255, 255, 0.1);
}

.obj-icon {
    font-size: 2rem;
    flex-shrink: 0;
}

.obj-text h4 {
    color: var(--neon-green);
    margin-bottom: 0.5rem;
    font-size: 1.1rem;
}

.obj-text p {
    color: var(--text-dim);
    font-size: 0.9rem;
    line-height: 1.5;
}

/* SECCIONES PRINCIPALES */
.seccion-titulo {
    color: var(--neon-cyan);
    font-size: 1.8rem;
    margin: 2rem 0 1.5rem 0;
    padding-bottom: 0.5rem;
    border-bottom: 2px solid rgba(0, 255, 255, 0.3);
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.neon-bullet {
    color: var(--neon-green);
    animation: pulse 2s infinite;
}

/* CONCEPTOS FUNDAMENTALES */
.conceptos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.concepto-card {
    background: var(--bg-card);
    border: 1px solid rgba(57, 255, 20, 0.2);
    border-radius: 10px;
    padding: 1.5rem;
    transition: all 0.3s;
}

.concepto-card:hover {
    border-color: var(--neon-green);
    box-shadow: 0 0 15px rgba(57, 255, 20, 0.2);
}

.concepto-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
    padding-bottom: 0.75rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.concepto-header h3 {
    color: var(--neon-green);
    font-size: 1.2rem;
    margin: 0;
}

.concepto-importance {
    background: rgba(255, 107, 107, 0.1);
    color: #FF6B6B;
    padding: 0.25rem 0.75rem;
    border-radius: 4px;
    font-size: 0.8rem;
    font-weight: bold;
}

.concepto-formula {
    background: rgba(0, 0, 0, 0.3);
    padding: 1rem;
    border-radius: 6px;
    margin: 1rem 0;
    text-align: center;
    border: 1px solid rgba(0, 255, 255, 0.1);
}

.concepto-ejemplo {
    background: rgba(255, 193, 7, 0.05);
    padding: 0.75rem;
    border-radius: 6px;
    margin: 1rem 0;
    border-left: 3px solid var(--neon-yellow);
}

.concepto-detalle p {
    color: var(--text-dim);
    font-size: 0.9rem;
    line-height: 1.6;
}

.interpretacion-visual-integral {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    margin: 1rem 0;
}

.interpretacion-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.interpretacion-icon {
    font-size: 1.2rem;
    flex-shrink: 0;
}

.interpretacion-text {
    color: var(--text-light);
    font-size: 0.9rem;
}

.aplicaciones-lista {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.aplicacion-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.5rem;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 6px;
}

.app-icon {
    font-size: 1.2rem;
    flex-shrink: 0;
}

.app-text {
    color: var(--text-light);
    font-size: 0.9rem;
}

/* TABLA DE INTEGRALES */
.tabla-container {
    background: var(--bg-card);
    border-radius: 10px;
    border: 1px solid rgba(0, 255, 255, 0.2);
    overflow: hidden;
    margin-bottom: 2rem;
}

.tabla-integrales-cyberpunk {
    width: 100%;
    border-collapse: collapse;
}

.tabla-integrales-cyberpunk thead {
    background: rgba(0, 255, 255, 0.1);
}

.tabla-integrales-cyberpunk th {
    color: var(--neon-cyan);
    padding: 1rem;
    text-align: left;
    font-weight: bold;
    border-bottom: 2px solid rgba(0, 255, 255, 0.3);
}

.tabla-integrales-cyberpunk td {
    color: var(--text-light);
    padding: 1rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.tabla-integrales-cyberpunk tr:hover {
    background: rgba(0, 255, 255, 0.05);
}

.tabla-integrales-cyberpunk tr:last-child td {
    border-bottom: none;
}

.tabla-notas {
    padding: 1.5rem;
    background: rgba(255, 193, 7, 0.05);
    border-top: 1px solid rgba(255, 193, 7, 0.2);
}

.tabla-notas h4 {
    color: var(--neon-yellow);
    margin-bottom: 0.75rem;
}

.tabla-notas ul {
    color: var(--text-dim);
    padding-left: 1.5rem;
    line-height: 1.6;
}

.tabla-notas li {
    margin-bottom: 0.5rem;
}

/* SIMULADOR DE INTEGRALES */
.simulador-controls {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 12px;
    border: var(--border-glow);
    padding: 1.5rem;
    margin-bottom: 2rem;
}

.controls-header {
    text-align: center;
    margin-bottom: 1.5rem;
}

.controls-header h3 {
    color: var(--neon-pink);
    margin-bottom: 0.5rem;
    font-size: 1.3rem;
}

.controls-header p {
    color: var(--text-dim);
    font-size: 0.95rem;
}

.controls-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    margin-bottom: 1.5rem;
}

.control-group {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.control-group label {
    color: var(--neon-green);
    font-weight: bold;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.control-icon {
    font-size: 1.2rem;
}

.funcion-input-container {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

#funcion-integral {
    background: rgba(0, 0, 0, 0.3);
    color: var(--text-light);
    border: 1px solid rgba(0, 255, 255, 0.3);
    border-radius: 6px;
    padding: 0.75rem 1rem;
    font-family: 'Courier New', monospace;
    font-size: 1rem;
    width: 100%;
}

#funcion-integral:focus {
    outline: none;
    border-color: var(--neon-cyan);
    box-shadow: 0 0 10px rgba(0, 255, 255, 0.2);
}

.funcion-ejemplos {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
}

.btn-ejemplo {
    background: rgba(255, 0, 255, 0.1);
    color: var(--neon-pink);
    border: 1px solid rgba(255, 0, 255, 0.3);
    border-radius: 4px;
    padding: 0.5rem 1rem;
    cursor: pointer;
    font-size: 0.85rem;
    transition: all 0.2s;
}

.btn-ejemplo:hover {
    background: rgba(255, 0, 255, 0.2);
    transform: translateY(-2px);
}

.limites-container {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.limite-input {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
    flex: 1;
}

.limite-input label {
    font-size: 0.85rem;
    color: var(--text-dim);
}

.limite-input input {
    background: rgba(0, 0, 0, 0.3);
    color: var(--text-light);
    border: 1px solid rgba(0, 255, 255, 0.3);
    border-radius: 6px;
    padding: 0.5rem;
    text-align: center;
}

.limite-separador {
    color: var(--neon-cyan);
    font-weight: bold;
    padding: 0 0.5rem;
}

.checkbox-group {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    margin-top: 0.5rem;
}

.checkbox-group label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--text-light);
    font-weight: normal;
    cursor: pointer;
}

.checkbox-group input[type="checkbox"] {
    accent-color: var(--neon-green);
    width: 1.1rem;
    height: 1.1rem;
}

.control-select {
    background: rgba(0, 0, 0, 0.3);
    color: var(--text-light);
    border: 1px solid rgba(0, 255, 255, 0.3);
    border-radius: 6px;
    padding: 0.75rem;
    font-family: inherit;
    font-size: 0.95rem;
    width: 100%;
}


.control-select:focus {
    outline: none;
    border-color: var(--neon-cyan);
    box-shadow: 0 0 10px rgba(0, 255, 255, 0.2);
}

.controls-buttons {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-top: 1.5rem;
}

.btn-control {
    padding: 1rem 2rem;
    border: none;
    border-radius: 8px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 1rem;
    min-width: 180px;
    justify-content: center;
}

.btn-calcular {
    background: linear-gradient(45deg, var(--neon-green), #2E7D32);
    color: white;
}

.btn-analizar {
    background: linear-gradient(45deg, var(--neon-cyan), #0097A7);
    color: white;
}

.btn-reset {
    background: linear-gradient(45deg, var(--neon-pink), #FF00AA);
    color: white;
}

.btn-control:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.btn-control:active {
    transform: translateY(-1px);
}

.btn-control .btn-icon {
    font-size: 1.2rem;
}

/* GR츼FICA INTERACTIVA */
.grafica-container {
    background: var(--bg-card);
    border-radius: 12px;
    border: 1px solid rgba(0, 255, 255, 0.2);
    padding: 1.5rem;
    margin-bottom: 2rem;
}

.grafica-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
    flex-wrap: wrap;
    gap: 1rem;
}

.grafica-header h4 {
    color: var(--neon-green);
    margin: 0;
    font-size: 1.2rem;
}

.grafica-info {
    display: flex;
    gap: 1.5rem;
    font-size: 0.9rem;
    color: var(--text-dim);
}

.grafica-wrapper {
    height: 400px;
    position: relative;
    margin-bottom: 1.5rem;
}

#grafica-integral-avanzada {
    width: 100%;
    height: 100%;
}

.grafica-leyenda {
    display: flex;
    flex-wrap: wrap;
    gap: 1.5rem;
    justify-content: center;
    padding-top: 1rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.leyenda-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.9rem;
}

.leyenda-color {
    width: 20px;
    height: 20px;
    border-radius: 4px;
}

/* RESULTADOS Y AN츼LISIS */
.resultados-integrales {
    background: var(--bg-card);
    border-radius: 12px;
    border: 1px solid rgba(57, 255, 20, 0.2);
    overflow: hidden;
    margin-bottom: 2rem;
}

.resultados-header {
    background: rgba(57, 255, 20, 0.1);
    padding: 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 1rem;
    border-bottom: 1px solid rgba(57, 255, 20, 0.2);
}

.resultados-header h4 {
    color: var(--neon-green);
    margin: 0;
    font-size: 1.3rem;
}

.resultados-score {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
}

.score-circle {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--neon-green), #2E7D32);
    display: flex;
    align-items: center;
    justify-content: center;
    border: 3px solid var(--neon-green);
    box-shadow: 0 0 20px rgba(57, 255, 20, 0.3);
}

.score-number {
    font-size: 1.8rem;
    font-weight: bold;
    color: white;
}

.score-label {
    font-size: 0.85rem;
    color: var(--text-dim);
}

.resultados-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    padding: 1.5rem;
}

.resultado-card {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    overflow: hidden;
}

.resultado-titulo {
    background: rgba(0, 0, 0, 0.5);
    padding: 1rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.resultado-icon {
    color: var(--neon-cyan);
    font-size: 1.5rem;
    font-weight: bold;
}

.resultado-titulo span:last-child {
    color: var(--text-light);
    font-weight: bold;
    font-size: 1rem;
}

.resultado-contenido {
    padding: 1.5rem;
}

.integral-formula, .antiderivada-formula {
    text-align: center;
    margin-bottom: 1rem;
    min-height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.integral-valor {
    text-align: center;
    font-size: 1.1rem;
    color: var(--text-dim);
    margin-bottom: 0.5rem;
}

.integral-detalle, .antiderivada-detalle {
    text-align: center;
    font-size: 0.9rem;
    color: var(--text-dim);
}

.area-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.5rem 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.area-item:last-child {
    border-bottom: none;
    font-weight: bold;
    color: var(--neon-cyan);
}

.area-label {
    color: var(--text-light);
    font-size: 0.95rem;
}

.area-valor {
    color: var(--neon-green);
    font-weight: bold;
    font-family: 'Courier New', monospace;
    font-size: 1.1rem;
}

.metodo-item {
    margin-bottom: 0.75rem;
    font-size: 0.95rem;
}

.metodo-item:last-child {
    margin-bottom: 0;
}

.resultados-detalle {
    padding: 1.5rem;
    background: rgba(0, 0, 0, 0.2);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.resultados-detalle h5 {
    color: var(--neon-yellow);
    margin-bottom: 1rem;
    font-size: 1.1rem;
}

.interpretacion-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
}

.interpretacion-item {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    padding: 1rem;
    display: flex;
    align-items: center;
    gap: 1rem;
}

.interpretacion-visual {
    width: 50px;
    height: 50px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    flex-shrink: 0;
}

.area-positiva {
    background: rgba(0, 200, 83, 0.2);
    border: 1px solid rgba(0, 200, 83, 0.4);
}

.area-negativa {
    background: rgba(255, 87, 34, 0.2);
    border: 1px solid rgba(255, 87, 34, 0.4);
}

.area-neta {
    background: rgba(255, 193, 7, 0.2);
    border: 1px solid rgba(255, 193, 7, 0.4);
}

.interpretacion-texto {
    color: var(--text-light);
    font-size: 0.9rem;
    line-height: 1.4;
}

.interpretacion-texto strong {
    color: var(--neon-cyan);
    display: block;
    margin-bottom: 0.25rem;
}

.interpretacion-texto em {
    color: var(--text-dim);
    font-style: normal;
    font-size: 0.85rem;
}

/* M칄TODOS DE INTEGRACI칍N */
.metodos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.metodo-card {
    background: var(--bg-card);
    border: 1px solid rgba(255, 0, 255, 0.2);
    border-radius: 10px;
    overflow: hidden;
    transition: transform 0.3s, box-shadow 0.3s;
}

.metodo-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(255, 0, 255, 0.1);
    border-color: var(--neon-pink);
}

.metodo-header {
    background: rgba(255, 0, 255, 0.1);
    padding: 1.5rem;
    display: flex;
    align-items: center;
    gap: 1rem;
    border-bottom: 1px solid rgba(255, 0, 255, 0.2);
}

.metodo-icon {
    font-size: 2rem;
    flex-shrink: 0;
}

.metodo-titulo h3 {
    color: var(--neon-pink);
    margin: 0 0 0.25rem 0;
    font-size: 1.2rem;
}

.metodo-subtitulo {
    color: var(--text-dim);
    font-size: 0.9rem;
    margin: 0;
}

.metodo-contenido {
    padding: 1.5rem;
}

.metodo-contenido p {
    color: var(--text-light);
    margin-bottom: 1rem;
    line-height: 1.6;
}

.metodo-contenido ul, .metodo-contenido ol {
    color: var(--text-dim);
    padding-left: 1.5rem;
    margin-bottom: 1rem;
    line-height: 1.6;
}

.metodo-contenido li {
    margin-bottom: 0.5rem;
}

.metodo-formula {
    background: rgba(0, 0, 0, 0.3);
    padding: 1rem;
    border-radius: 6px;
    margin: 1rem 0;
    text-align: center;
    border: 1px solid rgba(0, 255, 255, 0.1);
    font-size: 1.1rem;
}

.metodo-pasos {
    margin: 1rem 0;
}

.metodo-pasos strong {
    color: var(--neon-green);
    display: block;
    margin-bottom: 0.5rem;
}

.metodo-tabla table {
    width: 100%;
    border-collapse: collapse;
    margin: 1rem 0;
}


.metodo-tabla th, .metodo-tabla td {
    padding: 0.75rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
    text-align: left;
    color: var(--text-light);
}

.metodo-tabla th {
    background: rgba(0, 0, 0, 0.3);
    color: var(--neon-cyan);
    font-weight: bold;
}

.metodo-tabla tr:hover {
    background: rgba(0, 0, 0, 0.2);
}

.metodo-ejemplo {
    background: rgba(255, 193, 7, 0.05);
    padding: 1rem;
    border-radius: 6px;
    margin-top: 1rem;
    border-left: 3px solid var(--neon-yellow);
}

.metodo-ejemplo strong {
    color: var(--neon-yellow);
    display: block;
    margin-bottom: 0.5rem;
}

.metodo-ejemplo p {
    color: var(--text-dim);
    margin: 0.5rem 0;
    font-size: 0.9rem;
}

.metodo-ejemplo pre {
    background: rgba(0, 0, 0, 0.3);
    padding: 1rem;
    border-radius: 6px;
    overflow-x: auto;
    margin: 0.5rem 0;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.metodo-ejemplo code {
    color: var(--neon-green);
    font-family: 'Courier New', monospace;
    font-size: 0.85rem;
}

/* DESAF칈O PR츼CTICO */
.desafio-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin-bottom: 2rem;
}

.desafio-problema, .desafio-solucion {
    background: var(--bg-card);
    border-radius: 12px;
    border: 1px solid rgba(255, 87, 34, 0.2);
    padding: 1.5rem;
}

.desafio-problema h4, .desafio-solucion h4 {
    color: #FF6B6B;
    margin-bottom: 1rem;
    font-size: 1.2rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.codigo-problema {
    margin-bottom: 1.5rem;
}

.funcion-display {
    background: rgba(0, 0, 0, 0.3);
    padding: 1.5rem;
    border-radius: 8px;
    text-align: center;
    margin-bottom: 1rem;
    border: 1px solid rgba(255, 87, 34, 0.3);
    font-size: 1.5rem;
}

.problema-desc p {
    color: var(--text-light);
    margin-bottom: 1rem;
    line-height: 1.6;
}

.problema-desc ol {
    color: var(--text-dim);
    padding-left: 1.5rem;
    margin-bottom: 1rem;
    line-height: 1.6;
}

.problema-desc li {
    margin-bottom: 0.5rem;
}

.pista-desafio {
    background: rgba(255, 193, 7, 0.05);
    padding: 1rem;
    border-radius: 6px;
    border-left: 3px solid var(--neon-yellow);
    margin-top: 1rem;
}

.pista-desafio strong {
    color: var(--neon-yellow);
}

.editor-solucion {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    margin-bottom: 1.5rem;
}

.paso-solucion {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    padding: 1rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.paso-solucion h5 {
    color: var(--neon-cyan);
    margin-bottom: 0.75rem;
    font-size: 1rem;
}

.solucion-textarea {
    width: 100%;
    min-height: 80px;
    background: rgba(0, 0, 0, 0.3);
    color: var(--text-light);
    border: 1px solid rgba(0, 255, 255, 0.3);
    border-radius: 6px;
    padding: 0.75rem;
    font-family: inherit;
    font-size: 0.95rem;
    resize: vertical;
    margin-bottom: 0.75rem;
}

.solucion-textarea:focus {
    outline: none;
    border-color: var(--neon-cyan);
    box-shadow: 0 0 10px rgba(0, 255, 255, 0.2);
}

.btn-verificar-paso {
    background: rgba(0, 255, 255, 0.1);
    color: var(--neon-cyan);
    border: 1px solid rgba(0, 255, 255, 0.3);
    border-radius: 6px;
    padding: 0.5rem 1rem;
    cursor: pointer;
    font-size: 0.9rem;
    transition: all 0.2s;
}

.btn-verificar-paso:hover {
    background: rgba(0, 255, 255, 0.2);
    transform: translateY(-2px);
}

.solucion-feedback {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
    border: 1px solid rgba(255, 193, 7, 0.2);
}

.feedback-initial p {
    color: var(--neon-yellow);
    margin-bottom: 1rem;
    font-weight: bold;
}

.feedback-initial ul {
    color: var(--text-dim);
    padding-left: 1.5rem;
    line-height: 1.6;
}

.feedback-initial li {
    margin-bottom: 0.5rem;
}

.feedback-paso {
    padding: 1rem;
    border-radius: 6px;
    margin-bottom: 0.75rem;
}

.feedback-paso.correcto {
    background: rgba(57, 255, 20, 0.05);
    border-left: 3px solid var(--neon-green);
}

.feedback-paso.incorrecto {
    background: rgba(255, 107, 107, 0.05);
    border-left: 3px solid #FF6B6B;
}

.feedback-paso h5 {
    margin: 0 0 0.5rem 0;
    font-size: 1rem;
}

.feedback-paso p {
    margin: 0;
    color: var(--text-light);
    font-size: 0.9rem;
    line-height: 1.5;
}

.feedback-completo {
    padding: 1.5rem;
    border-radius: 8px;
}

.feedback-completo.excelente {
    background: rgba(57, 255, 20, 0.1);
    border: 1px solid rgba(57, 255, 20, 0.3);
}

.feedback-completo.bueno {
    background: rgba(255, 193, 7, 0.1);
    border: 1px solid rgba(255, 193, 7, 0.3);
}

.feedback-completo.mejorable {
    background: rgba(255, 107, 107, 0.1);
    border: 1px solid rgba(255, 107, 107, 0.3);
}

.feedback-completo h5 {
    margin: 0 0 1rem 0;
    font-size: 1.1rem;
}

.feedback-completo p {
    margin: 0.5rem 0;
    color: var(--text-light);
    line-height: 1.6;
}

.feedback-completo strong {
    color: var(--neon-cyan);
}

.solucion-acciones {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
}

.btn-verificar-completa, .btn-mostrar-modelo, .btn-limpiar-sol {
    padding: 0.75rem 1.5rem;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.2s;
}

.btn-verificar-completa {
    background: linear-gradient(45deg, var(--neon-green), #2E7D32);
    color: white;
}

.btn-mostrar-modelo {
    background: linear-gradient(45deg, var(--neon-cyan), #0097A7);
    color: white;
}

.btn-limpiar-sol {
    background: linear-gradient(45deg, var(--neon-pink), #FF00AA);
    color: white;
}

.btn-verificar-completa:hover, .btn-mostrar-modelo:hover, .btn-limpiar-sol:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
}

/* AUTOEVALUACI칍N Y RECURSOS */
.evaluacion-recursos {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin-bottom: 2rem;
}

.autoevaluacion-compact, .recursos-compact {
    background: var(--bg-card);
    border-radius: 12px;
    border: 1px solid rgba(255, 193, 7, 0.2);
    padding: 1.5rem;
}

.eval-grid {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    margin: 1.5rem 0;
}

.eval-item {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.eval-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.eval-label {
    color: var(--text-light);
    font-weight: bold;
    font-size: 0.95rem;
}

.eval-value {
    color: var(--neon-green);
    font-weight: bold;
    font-size: 1.1rem;
}

.eval-slider {
    width: 100%;
    height: 8px;
    -webkit-appearance: none;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
    outline: none;
}

.eval-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: var(--neon-green);
    cursor: pointer;
    border: 2px solid white;
    box-shadow: 0 0 10px rgba(57, 255, 20, 0.5);
}

.eval-slider::-moz-range-thumb {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: var(--neon-green);
    cursor: pointer;
    border: 2px solid white;
    box-shadow: 0 0 10px rgba(57, 255, 20, 0.5);
}

.eval-labels {
    display: flex;
    justify-content: space-between;
    color: var(--text-dim);
    font-size: 0.8rem;
}

.eval-actions {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-top: 1.5rem;
}

.btn-guardar-eval {
    background: linear-gradient(45deg, var(--neon-pink), #FF00AA);
    color: white;
    border: none;
    border-radius: 6px;
    padding: 1rem;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
}

.btn-guardar-eval:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(255, 0, 255, 0.3);
}

.eval-promedio {
    text-align: center;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    border: 1px solid rgba(0, 255, 255, 0.2);
}

.eval-promedio strong {
    color: var(--neon-cyan);
}

.eval-promedio span {
    color: var(--neon-green);
    font-size: 1.5rem;
    font-weight: bold;
    margin-left: 0.5rem;
}

.recursos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
    margin-top: 1.5rem;
}

.recurso-card {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(0, 255, 255, 0.2);
    border-radius: 8px;
    padding: 1.5rem;
    text-decoration: none;
    color: inherit;
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    transition: all 0.3s;
}

.recurso-card:hover {
    background: rgba(0, 0, 0, 0.5);
    border-color: var(--neon-cyan);
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 255, 255, 0.1);
}

.recurso-icon {
    font-size: 2rem;
    flex-shrink: 0;
    color: var(--neon-cyan);
}

.recurso-content h4 {
    color: var(--neon-green);
    margin: 0 0 0.5rem 0;
    font-size: 1rem;
}

.recurso-content p {
    color: var(--text-dim);
    margin: 0;
    font-size: 0.85rem;
    line-height: 1.5;
}

/* ANIMACIONES */
@keyframes pulse {
    0%, 100% { 
        opacity: 1;
        text-shadow: 0 0 5px currentColor;
    }
    50% { 
        opacity: 0.7;
        text-shadow: 0 0 10px currentColor,
                     0 0 15px currentColor;
    }
}

@keyframes glow {
    0%, 100% { 
        box-shadow: 0 0 5px currentColor;
    }
    50% { 
        box-shadow: 0 0 10px currentColor,
                    0 0 15px currentColor;
    }
}


/* SCROLLBAR PERSONALIZADA */
::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 5px;
}

::-webkit-scrollbar-thumb {
    background: rgba(0, 255, 255, 0.3);
    border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 255, 255, 0.5);
}

/* RESPONSIVE DESIGN */
@media (max-width: 768px) {
    .leccion-matematicas-integrales {
        padding: 1rem;
    }
    
    .titulo-leccion {
        font-size: 2rem;
        flex-direction: column;
        gap: 0.5rem;
    }
    
    .neon-icon {
        font-size: 2.5rem;
    }
    
    .objetivos-grid {
        grid-template-columns: 1fr;
    }
    
    .conceptos-grid {
        grid-template-columns: 1fr;
    }
    
    .seccion-titulo {
        font-size: 1.5rem;
    }
    
    .controls-grid {
        grid-template-columns: 1fr;
    }
    
    .controls-buttons {
        flex-direction: column;
    }
    
    .btn-control {
        width: 100%;
    }
    
    .resultados-grid {
        grid-template-columns: 1fr;
    }
    
    .metodos-grid {
        grid-template-columns: 1fr;
    }
    
    .desafio-container {
        grid-template-columns: 1fr;
    }
    
    .solucion-acciones {
        flex-direction: column;
    }
    
    .evaluacion-recursos {
        grid-template-columns: 1fr;
    }
    
    .grafica-header {
        flex-direction: column;
        align-items: flex-start;
    }
    
    .grafica-info {
        flex-direction: column;
        gap: 0.5rem;
    }
}

@media (max-width: 480px) {
    .header-top {
        flex-direction: column;
        align-items: center;
        gap: 0.5rem;
    }
    
    .funcion-ejemplos {
        justify-content: center;
    }
    
    .limites-container {
        flex-direction: column;
        align-items: stretch;
        gap: 0.5rem;
    }
    
    .limite-separador {
        text-align: center;
        padding: 0.5rem 0;
    }
    
    .grafica-leyenda {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.75rem;
    }
}

/* MATHJAX OVERRIDES */
.MathJax {
    color: var(--text-light) !important;
}

.mjx-chtml {
    color: var(--text-light) !important;
}

/* UTILITY CLASSES */
.text-center {
    text-align: center;
}

.mb-1 { margin-bottom: 0.5rem; }
.mb-2 { margin-bottom: 1rem; }
.mb-3 { margin-bottom: 1.5rem; }
.mt-1 { margin-top: 0.5rem; }
.mt-2 { margin-top: 1rem; }
.mt-3 { margin-top: 1.5rem; }

/* LOADING STATES */
.loading {
    position: relative;
    opacity: 0.7;
    pointer-events: none;
}

.loading::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 30px;
    height: 30px;
    border: 3px solid rgba(0, 255, 255, 0.3);
    border-top-color: var(--neon-cyan);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    transform: translate(-50%, -50%);
}

@keyframes spin {
    to { transform: translate(-50%, -50%) rotate(360deg); }
}

/* ESTILOS ESPEC칈FICOS PARA LECCI칍N INGL칄S A1 */
.leccion-ingles-a1 {
    /* Estilos base ya incluidos en el HTML */
}

/* Animaciones espec칤ficas para ingl칠s */
@keyframes waveEnglish {
    0%, 100% { transform: scaleY(0.5); }
    50% { transform: scaleY(1.5); }
}

.wave-bar.english {
    animation: waveEnglish 0.8s ease-in-out infinite;
}

/* Estilos para di치logo animado */
@keyframes talkAnimation {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
}

.character.speaking .char-avatar {
    animation: talkAnimation 0.5s infinite;
}

/* Colores tem치ticos para ingl칠s */
.english-theme-1 { color: var(--neon-cyan); }
.english-theme-2 { color: var(--neon-green); }
.english-theme-3 { color: var(--neon-pink); }
.english-theme-4 { color: var(--neon-yellow); }

/* Grid de n칰meros responsivo */
@media (max-width: 480px) {
    .numeros-grid {
        grid-template-columns: repeat(auto-fill, minmax(50px, 1fr));
        gap: 4px;
    }
    
    .number-digit {
        font-size: 1rem;
    }
    
    .number-word {
        font-size: 0.6rem;
    }
}

/* Estilos para reconocimiento de voz */
.recording-active {
    animation: recordingPulse 1.5s infinite;
}

@keyframes recordingPulse {
    0%, 100% { 
        box-shadow: 0 0 5px rgba(255, 0, 255, 0.5);
    }
    50% { 
        box-shadow: 0 0 20px rgba(255, 0, 255, 0.8);
    }
}

/* Barras de progreso para evaluaci칩n */
.progress-bar-english {
    height: 8px;
    background: linear-gradient(90deg, 
        var(--neon-cyan) 0%, 
        var(--neon-green) 50%, 
        var(--neon-pink) 100%);
    border-radius: 4px;
    transition: width 0.5s ease;
}
/* VARIABLES PRINCIPALES */
:root {
    --neon-cyan: #00FFFF;
    --neon-green: #39FF14;
    --neon-pink: #FF00FF;
    --neon-yellow: #FFFF00;
    --neon-orange: #FF6B00;
    --bg-dark: #0a0a1a;
    --bg-darker: #050510;
    --bg-card: rgba(10, 10, 26, 0.85);
    --text-light: #e0f0ff;
    --text-dim: #a0b0c0;
    --border-glow: 1px solid rgba(0, 255, 255, 0.4);
    --shadow-neon: 0 0 10px rgba(0, 255, 255, 0.3);
}

/* RESET Y BASE */
.leccion-ingles-a1 * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

.leccion-ingles-a1 {
    background: var(--bg-dark);
    color: var(--text-light);
    font-family: 'Segoe UI', 'Roboto', 'Consolas', monospace;
    padding: 1.5rem;
    max-width: 1200px;
    margin: 0 auto;
    line-height: 1.6;
    position: relative;
    min-height: 100vh;
}

/* FONDO CYBERPUNK SUTIL */
.leccion-ingles-a1::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        radial-gradient(circle at 20% 30%, rgba(0, 255, 255, 0.05) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(57, 255, 20, 0.03) 0%, transparent 50%);
    pointer-events: none;
    z-index: 0;
}

/* CABECERA */
.leccion-header.compact {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 12px;
    padding: 1.5rem;
    margin-bottom: 2rem;
    border: var(--border-glow);
    position: relative;
    overflow: hidden;
}

.header-top {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
    margin-bottom: 1rem;
}

.materia-badge, .nivel-badge, .tiempo-badge, .campus-badge {
    padding: 0.5rem 1rem;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: 600;
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
}

.materia-badge {
    background: rgba(0, 255, 255, 0.1);
    color: var(--neon-cyan);
    border: 1px solid rgba(0, 255, 255, 0.3);
}

.nivel-badge {
    background: rgba(57, 255, 20, 0.1);
    color: var(--neon-green);
    border: 1px solid rgba(57, 255, 20, 0.3);
}

.tiempo-badge {
    background: rgba(255, 255, 0, 0.1);
    color: var(--neon-yellow);
    border: 1px solid rgba(255, 255, 0, 0.3);
}

.campus-badge {
    background: rgba(255, 0, 255, 0.1);
    color: var(--neon-pink);
    border: 1px solid rgba(255, 0, 255, 0.3);
}

.titulo-leccion {
    font-size: 2.5rem;
    margin: 1rem 0 0.5rem 0;
    color: var(--text-light);
    text-align: center;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 1rem;
    flex-wrap: wrap;
}

.neon-icon {
    color: var(--neon-cyan);
    font-size: 2.5rem;
    animation: pulse 2s infinite;
}

.leccion-subtitulo {
    text-align: center;
    color: var(--text-dim);
    font-size: 1.1rem;
    margin-bottom: 0;
}

/* PANEL OBJETIVOS */
.objetivos-rapidos {
    margin-bottom: 2rem;
}

.objetivos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
}

.objetivo-card {
    background: var(--bg-card);
    border-radius: 12px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
    display: flex;
    align-items: center;
    gap: 1.5rem;
    transition: transform 0.3s, border-color 0.3s;
}

.objetivo-card:hover {
    transform: translateY(-5px);
    border-color: var(--neon-cyan);
}

.obj-icon {
    font-size: 2.5rem;
    flex-shrink: 0;
}

.obj-text h4 {
    margin: 0 0 0.5rem 0;
    color: var(--text-light);
    font-size: 1.2rem;
}

.obj-text p {
    margin: 0;
    color: var(--text-dim);
    font-size: 0.95rem;
}

/* SECCI칍N GREETINGS */
.greetings-section {
    margin-bottom: 3rem;
}

.seccion-titulo {
    font-size: 1.8rem;
    color: var(--text-light);
    margin-bottom: 1.5rem;
    display: flex;
    align-items: center;
    gap: 1rem;
}

.neon-bullet {
    color: var(--neon-cyan);
    font-size: 1.5rem;
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

.greetings-grid-detalle {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 1.5rem;
}

.greeting-item {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 10px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.3s;
}

.greeting-item:hover {
    border-color: var(--neon-green);
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.greeting-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
    padding-bottom: 0.75rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.greeting-header code {
    font-family: 'Consolas', monospace;
    font-size: 1.1rem;
    color: var(--neon-cyan);
    background: rgba(0, 255, 255, 0.1);
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
}

.greeting-importance {
    font-size: 0.75rem;
    font-weight: bold;
    padding: 0.25rem 0.75rem;
    border-radius: 12px;
    text-transform: uppercase;
}

.greeting-importance {
    background: rgba(57, 255, 20, 0.2);
    color: var(--neon-green);
}

.greeting-desc {
    color: var(--text-dim);
    font-size: 0.9rem;
    margin-bottom: 1rem;
    line-height: 1.5;
}

.greeting-ejemplo {
    font-family: 'Consolas', monospace;
    font-size: 0.85rem;
    color: var(--neon-yellow);
    margin-bottom: 1rem;
    padding: 0.75rem;
    background: rgba(255, 255, 0, 0.05);
    border-radius: 6px;
    border-left: 3px solid var(--neon-yellow);
}

.greeting-accion {
    display: flex;
    justify-content: center;
}

.btn-speak-small {
    background: rgba(0, 255, 255, 0.1);
    color: var(--text-light);
    border: 1px solid rgba(0, 255, 255, 0.3);
    padding: 0.5rem 1rem;
    border-radius: 6px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.9rem;
    transition: all 0.2s;
}

.btn-speak-small:hover {
    background: rgba(0, 255, 255, 0.2);
    transform: translateY(-2px);
}

/* SIMULADOR DE VOZ */
.simulador-voz-container {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 12px;
    border: var(--border-glow);
    overflow: hidden;
    margin-bottom: 3rem;
}

.voz-controls {
    padding: 2rem;
    background: rgba(0, 0, 0, 0.3);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.controls-header h3 {
    color: var(--neon-pink);
    margin-bottom: 0.5rem;
    font-size: 1.3rem;
}

.controls-header p {
    color: var(--text-dim);
    margin-bottom: 1.5rem;
}

.frase-selector {
    margin-bottom: 1.5rem;
}

.frase-dropdown {
    width: 100%;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid rgba(0, 255, 255, 0.3);
    border-radius: 8px;
    color: var(--text-light);
    font-size: 1rem;
    font-family: inherit;
}

.frase-dropdown:focus {
    outline: none;
    border-color: var(--neon-cyan);
    box-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
}

.voz-buttons {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
}

.btn-voz {
    flex: 1;
    min-width: 200px;
    padding: 1rem 1.5rem;
    border: none;
    border-radius: 8px;
    font-size: 1rem;
    font-weight: bold;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    transition: all 0.3s;
}

.btn-listen {
    background: linear-gradient(45deg, var(--neon-cyan), #0097A7);
    color: white;
}

.btn-speak {
    background: linear-gradient(45deg, var(--neon-pink), #FF00AA);
    color: white;
}

.btn-info {
    background: linear-gradient(45deg, var(--neon-yellow), #FF9900);
    color: black;
}

.btn-voz:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

/* FEEDBACK DE VOZ */
.voz-feedback {
    padding: 2rem;
}

.feedback-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.feedback-header h4 {
    color: var(--neon-green);
    margin: 0;
    font-size: 1.2rem;
}

.feedback-score {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.score-display {
    display: flex;
    flex-direction: column;
    align-items: center;
}

.score-number {
    font-size: 2rem;
    font-weight: bold;
    color: var(--neon-green);
}

.score-label {
    font-size: 0.85rem;
    color: var(--text-dim);
}

.feedback-content {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.current-phrase {
    background: rgba(0, 0, 0, 0.3);
    padding: 1rem;
    border-radius: 8px;
    border-left: 4px solid var(--neon-cyan);
}

.current-phrase strong {
    color: var(--neon-cyan);
}

#currentPhrase {
    color: var(--text-light);
    font-style: italic;
}

.pronunciation-result {
    display: grid;
    grid-template-columns: 1fr 2fr;
    gap: 1.5rem;
}

.result-visual {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    padding: 1rem;
    display: flex;
    align-items: center;
    justify-content: center;
}

.waveform {
    display: flex;
    align-items: flex-end;
    justify-content: center;
    gap: 3px;
    height: 100px;
    width: 100%;
}

.wave-bar {
    width: 4px;
    background: linear-gradient(to top, var(--neon-cyan), var(--neon-green));
    border-radius: 2px;
    animation: wave 1s ease-in-out infinite alternate;
}

@keyframes wave {
    from { height: 20%; }
    to { height: 80%; }
}

.result-details {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.detail-item {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.detail-label {
    color: var(--text-dim);
    font-size: 0.9rem;
}

.detail-value {
    color: var(--text-light);
    font-size: 1rem;
    padding: 0.5rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
    min-height: 2.5rem;
    display: flex;
    align-items: center;
}

.phonetics-display {
    background: rgba(255, 193, 7, 0.05);
    border-radius: 8px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 193, 7, 0.2);
}

.phonetics-display h5 {
    color: var(--neon-yellow);
    margin-bottom: 1rem;
}

.phonetics-content {
    color: var(--text-light);
    font-size: 0.95rem;
    line-height: 1.6;
}

/* N칔MEROS INTERACTIVOS */
.numeros-container {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 12px;
    border: var(--border-glow);
    padding: 2rem;
    margin-bottom: 3rem;
}

.numeros-header {
    text-align: center;
    margin-bottom: 2rem;
}

.numeros-header h3 {
    color: var(--neon-green);
    margin-bottom: 0.5rem;
    font-size: 1.3rem;
}

.numeros-header p {
    color: var(--text-dim);
}

.numeros-controls {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 1.5rem;
    margin-bottom: 2rem;
    padding: 1.5rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
}

.control-group {
    display: flex;
    align-items: center;
    gap: 1rem;
    flex-wrap: wrap;
}

.btn-numeros {
    padding: 0.75rem 1.5rem;
    border: none;
    border-radius: 6px;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.3s;
}

.btn-play-all {
    background: linear-gradient(45deg, var(--neon-cyan), #0097A7);
    color: white;
}

.btn-practice {
    background: linear-gradient(45deg, var(--neon-green), #2E7D32);
    color: white;
}

.btn-test {
    background: linear-gradient(45deg, var(--neon-yellow), #FF9900);
    color: black;
}

.btn-numeros:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.control-group label {
    color: var(--text-light);
    font-weight: 600;
}

#speedControl {
    width: 150px;
}

#speedValue {
    min-width: 40px;
    text-align: center;
    color: var(--neon-cyan);
    font-weight: bold;
}

/* GRID DE N칔MEROS */
.numeros-grid-container {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    overflow: hidden;
    margin-bottom: 2rem;
}

.grid-header {
    background: rgba(0, 0, 0, 0.5);
    padding: 1rem 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.grid-title {
    color: var(--neon-cyan);
    font-size: 1.2rem;
    font-weight: bold;
}

.grid-stats {
    color: var(--text-dim);
    font-size: 0.9rem;
}

.grid-stats span {
    color: var(--neon-green);
    font-weight: bold;
}

.numeros-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
    gap: 8px;
    padding: 1.5rem;
    max-height: 400px;
    overflow-y: auto;
}

.numero-btn {
    aspect-ratio: 1;
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    color: var(--text-light);
    cursor: pointer;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
    padding: 0.5rem;
}

.numero-btn:hover {
    background: rgba(0, 255, 255, 0.1);
    border-color: var(--neon-cyan);
    transform: scale(1.05);
}

.numero-btn.clicked {
    background: rgba(57, 255, 20, 0.1);
    border-color: var(--neon-green);
}

.numero-btn.speaking {
    background: rgba(255, 0, 255, 0.1);
    border-color: var(--neon-pink);
    animation: pulse 0.5s infinite;
}

.number-digit {
    font-size: 1.2rem;
    font-weight: bold;
    margin-bottom: 0.25rem;
}

.number-word {
    font-size: 0.7rem;
    color: var(--text-dim);
    text-align: center;
    line-height: 1.2;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
}

.numeros-info {
    margin-top: 2rem;
}

.info-card {
    background: rgba(255, 193, 7, 0.05);
    border-radius: 8px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 193, 7, 0.2);
}

.info-card h4 {
    color: var(--neon-yellow);
    margin-bottom: 1rem;
    font-size: 1.1rem;
}

.info-card ul {
    margin: 0;
    padding-left: 1.5rem;
    color: var(--text-light);
}

.info-card li {
    margin-bottom: 0.5rem;
    line-height: 1.5;
}

/* DI츼LOGO INTERACTIVO */
.dialogo-container {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 12px;
    border: var(--border-glow);
    padding: 2rem;
    margin-bottom: 3rem;
}

.dialogo-visual {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 3rem;
    position: relative;
    min-height: 300px;
}

.character {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
    z-index: 2;
}

.char-avatar {
    font-size: 3rem;
    width: 100px;
    height: 100px;
    background: rgba(0, 0, 0, 0.5);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 3px solid var(--neon-cyan);
}

.character-you .char-avatar {
    border-color: var(--neon-cyan);
}

.character-ana .char-avatar {
    border-color: var(--neon-pink);
}

.char-info {
    text-align: center;
}

.char-info h4 {
    color: var(--text-light);
    margin-bottom: 0.5rem;
    font-size: 1.2rem;
}

.char-info p {
    color: var(--text-dim);
    margin: 0.25rem 0;
    font-size: 0.9rem;
}

.dialogo-bubble {
    position: absolute;
    background: rgba(0, 0, 0, 0.8);
    border-radius: 15px;
    padding: 1rem 1.5rem;
    max-width: 300px;
    z-index: 1;
    transition: all 0.3s;
}

.bubble-you {
    left: 150px;
    top: 50px;
    border: 2px solid var(--neon-cyan);
}

.bubble-ana {
    right: 150px;
    top: 150px;
    border: 2px solid var(--neon-pink);
}

.bubble-content p {
    margin: 0;
    color: var(--text-light);
    font-size: 1rem;
    line-height: 1.4;
}

.highlight {
    color: var(--neon-yellow);
    font-weight: bold;
}

.bubble-arrow {
    position: absolute;
    width: 0;
    height: 0;
}

.bubble-you .bubble-arrow {
    right: -10px;
    top: 50%;
    transform: translateY(-50%);
    border-top: 10px solid transparent;
    border-bottom: 10px solid transparent;
    border-left: 10px solid var(--neon-cyan);
}

.bubble-ana .bubble-arrow {
    left: -10px;
    top: 50%;
    transform: translateY(-50%);
    border-top: 10px solid transparent;
    border-bottom: 10px solid transparent;
    border-right: 10px solid var(--neon-pink);
}

.dialogo-controls {
    margin-bottom: 2rem;
}

.dialogo-controls h4 {
    color: var(--neon-green);
    margin-bottom: 0.5rem;
    font-size: 1.2rem;
}

.dialogo-controls p {
    color: var(--text-dim);
    margin-bottom: 1.5rem;
}

.dialogo-options {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.btn-dialogo {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    padding: 1rem;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.3s;
}

.btn-dialogo:hover {
    background: rgba(0, 255, 255, 0.1);
    border-color: var(--neon-cyan);
    transform: translateY(-3px);
}

.option-icon {
    font-size: 1.5rem;
}


.option-text {
    font-weight: 600;
    color: var(--text-light);
    font-size: 0.9rem;
    text-align: center;
}

.option-en {
    color: var(--text-dim);
    font-size: 0.8rem;
    text-align: center;
    font-style: italic;
}

.dialogo-playback {
    display: flex;
    gap: 1rem;
    justify-content: center;
}

.btn-play-dialogo, .btn-reset-dialogo {
    padding: 0.75rem 1.5rem;
    border: none;
    border-radius: 6px;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.3s;
}

.btn-play-dialogo {
    background: linear-gradient(45deg, var(--neon-cyan), #0097A7);
    color: white;
}

.btn-reset-dialogo {
    background: linear-gradient(45deg, var(--neon-pink), #FF00AA);
    color: white;
}

.btn-play-dialogo:hover, .btn-reset-dialogo:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.dialogo-script {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.dialogo-script h4 {
    color: var(--neon-yellow);
    margin-bottom: 1rem;
    font-size: 1.1rem;
}

.script-content {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.script-line {
    padding: 1rem;
    border-radius: 6px;
    display: flex;
    gap: 1rem;
    align-items: flex-start;
}

.you-line {
    background: rgba(0, 255, 255, 0.05);
    border-left: 3px solid var(--neon-cyan);
}

.ana-line {
    background: rgba(255, 0, 255, 0.05);
    border-left: 3px solid var(--neon-pink);
}

.speaker {
    font-weight: bold;
    min-width: 60px;
    color: var(--neon-cyan);
}

.ana-line .speaker {
    color: var(--neon-pink);
}

.script-line .text {
    flex: 1;
    color: var(--text-light);
    line-height: 1.5;
}

/* NOTIFICACIONES */
.notificacion {
    position: fixed;
    top: 20px;
    right: 20px;
    background: var(--bg-card);
    border-radius: 8px;
    padding: 1rem 1.5rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
    min-width: 300px;
    max-width: 400px;
    z-index: 10000;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    animation: slideIn 0.3s ease;
    border-left: 4px solid;
}

@keyframes slideIn {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

.notificacion-success {
    border-left-color: var(--neon-green);
    background: rgba(57, 255, 20, 0.1);
}

.notificacion-warning {
    border-left-color: var(--neon-yellow);
    background: rgba(255, 193, 7, 0.1);
}

.notificacion-error {
    border-left-color: #ff4444;
    background: rgba(255, 68, 68, 0.1);
}

.notificacion-info {
    border-left-color: var(--neon-cyan);
    background: rgba(0, 255, 255, 0.1);
}

.notificacion-contenido {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    flex: 1;
}

.notificacion-icon {
    font-size: 1.2rem;
}

.notificacion-mensaje {
    color: var(--text-light);
    font-size: 0.95rem;
    line-height: 1.4;
}

.notificacion-cerrar {
    background: none;
    border: none;
    color: var(--text-dim);
    font-size: 1.5rem;
    cursor: pointer;
    padding: 0;
    line-height: 1;
    transition: color 0.2s;
}

.notificacion-cerrar:hover {
    color: var(--text-light);
}

/* RESPONSIVE */
@media (max-width: 768px) {
    .leccion-ingles-a1 {
        padding: 1rem;
    }
    
    .titulo-leccion {
        font-size: 1.8rem;
    }
    
    .objetivos-grid {
        grid-template-columns: 1fr;
    }
    
    .greetings-grid-detalle {
        grid-template-columns: 1fr;
    }
    
    .voz-buttons {
        flex-direction: column;
    }
    
    .btn-voz {
        width: 100%;
    }
    
    .numeros-grid {
        grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
    }
    
    .dialogo-visual {
        flex-direction: column;
        gap: 2rem;
    }
    
    .dialogo-bubble {
        position: relative;
        left: auto !important;
        right: auto !important;
        top: auto !important;
        margin: 1rem 0;
    }
    
    .dialogo-options {
        grid-template-columns: 1fr;
    }
    
    .notificacion {
        min-width: auto;
        max-width: 90%;
        left: 5%;
        right: 5%;
    }
}

/* SCROLLBAR PERSONALIZADA */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb {
    background: rgba(0, 255, 255, 0.3);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 255, 255, 0.5);
}
/* ESTILOS ESPEC칈FICOS PARA BOTONES DE GREETINGS */
.btn-speak-small {
    background: linear-gradient(45deg, rgba(0, 255, 255, 0.1), rgba(0, 255, 255, 0.2));
    color: var(--text-light);
    border: 1px solid rgba(0, 255, 255, 0.3);
    padding: 0.6rem 1.2rem;
    border-radius: 8px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.9rem;
    font-weight: 600;
    transition: all 0.3s ease;
    min-width: 120px;
    justify-content: center;
    position: relative;
    overflow: hidden;
}

.btn-speak-small:hover:not(:disabled) {
    background: linear-gradient(45deg, rgba(0, 255, 255, 0.2), rgba(0, 255, 255, 0.3));
    border-color: var(--neon-cyan);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 255, 255, 0.2);
}

.btn-speak-small:active:not(:disabled) {
    transform: translateY(0);
}

.btn-speak-small:disabled {
    opacity: 0.7;
    cursor: not-allowed;
}

/* Estados del bot칩n */
.btn-speak-small.loading {
    background: linear-gradient(45deg, rgba(255, 193, 7, 0.1), rgba(255, 193, 7, 0.2));
    border-color: var(--neon-yellow);
}

.btn-speak-small.playing {
    background: linear-gradient(45deg, rgba(57, 255, 20, 0.1), rgba(57, 255, 20, 0.2));
    border-color: var(--neon-green);
    animation: pulsePlaying 1.5s infinite;
}

.btn-speak-small.error {
    background: linear-gradient(45deg, rgba(255, 107, 107, 0.1), rgba(255, 107, 107, 0.2));
    border-color: #ff6b6b;
}

@keyframes pulsePlaying {
    0%, 100% { 
        box-shadow: 0 0 5px rgba(57, 255, 20, 0.3);
    }
    50% { 
        box-shadow: 0 0 15px rgba(57, 255, 20, 0.6);
    }
}

/* Elementos internos del bot칩n */
.btn-speak-small .btn-icon {
    font-size: 1rem;
    transition: transform 0.3s;
}

.btn-speak-small.playing .btn-icon {
    animation: soundWave 0.5s infinite alternate;
}

.btn-speak-small .btn-text {
    font-size: 0.85rem;
}

.btn-speak-small .btn-status {
    font-size: 0.7rem;
    opacity: 0.8;
    margin-left: auto;
    min-width: 80px;
    text-align: right;
}

@keyframes soundWave {
    from { transform: scale(1); }
    to { transform: scale(1.2); }
}

/* Audio elements ocultos */
.greeting-accion audio {
    display: none;
}

/* Mensaje de error */
.audio-error-message {
    animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
}
/* ESTILOS ESPEC칈FICOS PARA LECCI칍N INGL칄S A1 CYBERPUNK */
.leccion-ingles-a1-family {
    /* Estilos principales ya definidos en el bloque HTML */
}

/* Paleta de colores espec칤fica para ingl칠s */
.leccion-ingles-a1-family {
    --neon-english: #00FFFF;
    --neon-vocabulary: #39FF14;
    --neon-pronunciation: #FF00FF;
    --neon-listening: #FFFF00;
    --neon-conversation: #FF6B00;
    --neon-assessment: #9C27B0;
}

/* Estados especiales para tarjetas de vocabulario */
.card-vocabulario.learning {
    border-color: var(--neon-english);
    animation: pulseLearning 2s infinite;
}

@keyframes pulseLearning {
    0%, 100% { box-shadow: 0 0 5px var(--neon-english); }
    50% { box-shadow: 0 0 15px var(--neon-english); }
}

.card-vocabulario.mastered {
    border-color: var(--neon-vocabulary);
    background: linear-gradient(135deg, 
        rgba(57, 255, 20, 0.05), 
        rgba(57, 255, 20, 0.1));
}

/* Efectos de onda de voz espec칤ficos */
.voice-wave-english {
    background: linear-gradient(90deg, 
        transparent, 
        var(--neon-english), 
        transparent);
    animation: voiceWave 1s linear infinite;
}

@keyframes voiceWave {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

/* Indicadores de nivel de dificultad */
.difficulty-badge {
    padding: 2px 8px;
    border-radius: 12px;
    font-size: 0.8em;
    font-weight: bold;
    text-transform: uppercase;
}

.difficulty-easy {
    background: rgba(57, 255, 20, 0.1);
    color: var(--neon-vocabulary);
    border: 1px solid var(--neon-vocabulary);
}

.difficulty-medium {
    background: rgba(255, 255, 0, 0.1);
    color: var(--neon-listening);
    border: 1px solid var(--neon-listening);
}

.difficulty-hard {
    background: rgba(255, 107, 0, 0.1);
    color: var(--neon-conversation);
    border: 1px solid var(--neon-conversation);
}

/* Efectos de pronunciaci칩n correcta */
.pronunciation-correct {
    animation: correctFlash 0.5s ease;
    background: linear-gradient(45deg, 
        transparent, 
        rgba(57, 255, 20, 0.2), 
        transparent);
}

@keyframes correctFlash {
    0% { opacity: 1; }
    50% { opacity: 0.7; background-color: rgba(57, 255, 20, 0.3); }
    100% { opacity: 1; }
}

/* Efectos de error de pronunciaci칩n */
.pronunciation-error {
    animation: errorShake 0.5s ease;
    background: linear-gradient(45deg, 
        transparent, 
        rgba(255, 107, 0, 0.2), 
        transparent);
}

@keyframes errorShake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    75% { transform: translateX(5px); }
}

/* Progreso espec칤fico para ingl칠s */
.progress-english {
    background: linear-gradient(90deg, 
        var(--neon-vocabulary), 
        var(--neon-pronunciation), 
        var(--neon-listening), 
        var(--neon-conversation));
}

/* Tarjetas de familia con efecto especial */
.family-card-special {
    position: relative;
    overflow: hidden;
}

.family-card-special::before {
    content: '游녿꽳릠뽹꽳릠꽳릠';
    position: absolute;
    top: -20px;
    right: -20px;
    font-size: 4em;
    opacity: 0.1;
    z-index: 0;
}

/* Efecto de hover para 치rbol familiar */
.tree-node:hover::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 100px;
    height: 100px;
    background: radial-gradient(circle, 
        rgba(0, 255, 255, 0.1) 0%, 
        transparent 70%);
    transform: translate(-50%, -50%);
    z-index: -1;
}

/* Animaci칩n para objetos 3D */
.objeto-3d-model {
    animation: float3D 6s ease-in-out infinite;
    transform-style: preserve-3d;
}

@keyframes float3D {
    0%, 100% { 
        transform: rotateY(0deg) translateY(0); 
    }
    25% { 
        transform: rotateY(90deg) translateY(-10px); 
    }
    50% { 
        transform: rotateY(180deg) translateY(0); 
    }
    75% { 
        transform: rotateY(270deg) translateY(10px); 
    }
}

/* Efecto de typing para chat IA */
.typing-indicator {
    display: inline-block;
    position: relative;
    width: 60px;
    height: 20px;
}

.typing-indicator span {
    position: absolute;
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: var(--neon-english);
    animation: typing 1.5s infinite ease-in-out;
}

.typing-indicator span:nth-child(1) {
    left: 0;
    animation-delay: 0s;
}

.typing-indicator span:nth-child(2) {
    left: 15px;
    animation-delay: 0.2s;
}

.typing-indicator span:nth-child(3) {
    left: 30px;
    animation-delay: 0.4s;
}

@keyframes typing {
    0%, 60%, 100% { transform: translateY(0); }
    30% { transform: translateY(-10px); }
}

/* Efecto de highlight para palabras importantes */
.highlight-word {
    background: linear-gradient(120deg, 
        rgba(0, 255, 255, 0.2) 0%, 
        rgba(0, 255, 255, 0.1) 50%, 
        rgba(0, 255, 255, 0.2) 100%);
    padding: 2px 6px;
    border-radius: 4px;
    border-left: 3px solid var(--neon-english);
}

/* Responsive espec칤fico para elementos de ingl칠s */
@media (max-width: 768px) {
    .vocabulario-contenedor {
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    }
    
    .objetos-grid-ar {
        grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
    }
    
    .palabra-ingles {
        font-size: 2em !important;
    }
    
    .controles-grid {
        grid-template-columns: repeat(2, 1fr) !important;
    }
}

@media (max-width: 480px) {
    .vocabulario-contenedor {
        grid-template-columns: 1fr !important;
    }
    
    .objetos-grid-ar {
        grid-template-columns: repeat(2, 1fr) !important;
    }
    
    .controles-grid {
        grid-template-columns: 1fr !important;
    }
}

/* Efecto de carga para elementos as칤ncronos */
.loading-english {
    background: linear-gradient(90deg, 
        var(--bg-card) 25%, 
        rgba(0, 255, 255, 0.1) 50%, 
        var(--bg-card) 75%);
    background-size: 200% 100%;
    animation: loadingShimmer 1.5s infinite;
}

@keyframes loadingShimmer {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
}

/* Efecto de correcto para evaluaciones */
.correct-answer {
    animation: correctPulse 0.5s ease;
    box-shadow: 0 0 20px rgba(57, 255, 20, 0.3);
}

@keyframes correctPulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
}

/* Efecto de incorrecto para evaluaciones */
.incorrect-answer {
    animation: incorrectShake 0.5s ease;
    box-shadow: 0 0 20px rgba(255, 107, 0, 0.3);
}

@keyframes incorrectShake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    75% { transform: translateX(5px); }
}

/* Modo nocturno para lectura prolongada */
.night-mode .leccion-ingles-a1-family {
    --bg-dark: #050510;
    --bg-card: rgba(5, 5, 16, 0.9);
    --text-light: #c0d0e0;
    --text-dim: #8090a0;
}

/* Modo alto contraste para accesibilidad */
.high-contrast .leccion-ingles-a1-family {
    --bg-dark: #000000;
    --bg-card: #111111;
    --text-light: #ffffff;
    --text-dim: #cccccc;
    --neon-cyan: #00ffff;
    --neon-green: #00ff00;
    --neon-pink: #ff00ff;
    --neon-yellow: #ffff00;
    --neon-orange: #ff7700;
}
/* ESTILOS ADICIONALES PARA BOTONES Y EFECTOS */
.btn-accion:active {
    transform: scale(0.95);
}

.btn-control:active {
    transform: translateY(-1px);
}

/* EFECTOS DE FOCO PARA ACCESIBILIDAD */
.btn-accion:focus,
.btn-control:focus,
.btn-pequeno:focus,
.btn-mensaje:focus,
.btn-quiz:focus,
.btn-progreso:focus {
    outline: 2px solid #ffff00;
    outline-offset: 2px;
}

/* ESTADOS DE CARGA */
.cargando {
    position: relative;
    overflow: hidden;
}

.cargando::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(90deg, 
        transparent, 
        rgba(255, 255, 255, 0.1), 
        transparent);
    animation: loading 1.5s infinite;
}

@keyframes loading {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

/* NOTIFICACIONES FLOTANTES */
.xp-notification {
    animation: floatUp 1s ease forwards;
}

/* TOOLTIPS */
[title] {
    position: relative;
}

[title]:hover::after {
    content: attr(title);
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 5px 10px;
    border-radius: 5px;
    font-size: 0.8rem;
    white-space: nowrap;
    z-index: 1000;
    margin-bottom: 5px;
}

/* MEJORAS DE ACCESIBILIDAD */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* CONTRASTE MEJORADO PARA DISCAPACIDAD VISUAL */
.alto-contraste .card-vocabulario {
    border-width: 2px;
}

.alto-contraste .btn-accion {
    border-width: 2px;
}

/* MODOS DE COLOR */
@media (prefers-color-scheme: dark) {
    .leccion-ingles-funcional {
        background: #0a0a1a;
    }
}

@media (prefers-color-scheme: light) {
    .leccion-ingles-funcional {
        background: #f0f0f0;
        color: #333;
    }
    
    .card-vocabulario {
        background: white;
        border-color: #ddd;
    }
    
    .seccion-vocabulario,
    .seccion-simulador,
    .seccion-practica,
    .seccion-arbol,
    .seccion-dialogo,
    .seccion-quiz,
    .seccion-progreso {
        background: white;
        border-color: #ddd;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
}
/* ESTILOS ESPEC칈FICOS PARA LECCI칍N DE INGL칄S A1 */
.leccion-ingles-familia {
    /* Variables espec칤ficas ya definidas en el estilo embebido */
}

/* Responsive espec칤fico para ingl칠s */
@media (max-width: 480px) {
    .leccion-ingles-familia .vocab-card {
        padding: 0.75rem;
    }
    
    .leccion-ingles-familia .word-english {
        font-size: 2rem;
    }
    
    .leccion-ingles-familia .seccion-titulo {
        font-size: 1.3rem;
    }
    
    .leccion-ingles-familia .btn-control,
    .leccion-ingles-familia .btn-vocabulario,
    .leccion-ingles-familia .btn-conversation,
    .leccion-ingles-familia .btn-examen {
        padding: 0.5rem 1rem;
        font-size: 0.9rem;
    }
}

/* Impresi칩n optimizada */
@media print {
    .leccion-ingles-familia .btn-control,
    .leccion-ingles-familia .btn-vocabulario,
    .leccion-ingles-familia .btn-conversation,
    .leccion-ingles-familia .btn-examen,
    .leccion-ingles-familia .card-actions,
    .leccion-ingles-familia .bubble-action,
    .leccion-ingles-familia .pregunta-audio,
    .leccion-ingles-familia .btn-audio {
        display: none !important;
    }
    
    .leccion-ingles-familia {
        background: white !important;
        color: black !important;
    }
    
    .leccion-ingles-familia .vocab-card {
        break-inside: avoid;
        border: 1px solid #ccc !important;
        box-shadow: none !important;
    }
}
/* VARIABLES PRINCIPALES PARA INGL칄S */
:root {
    --neon-cyan: #00FFFF;
    --neon-green: #39FF14;
    --neon-pink: #FF00FF;
    --neon-yellow: #FFFF00;
    --neon-orange: #FF6B00;
    --neon-red: #FF6B6B;
    --bg-dark: #0a0a1a;
    --bg-darker: #050510;
    --bg-card: rgba(10, 10, 26, 0.85);
    --text-light: #e0f0ff;
    --text-dim: #a0b0c0;
    --border-glow: 1px solid rgba(0, 255, 255, 0.4);
    --shadow-neon: 0 0 10px rgba(0, 255, 255, 0.3);
}

/* RESET Y BASE PARA LECCI칍N DE INGL칄S */
.leccion-ingles-familia * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

.leccion-ingles-familia {
    background: var(--bg-dark);
    color: var(--text-light);
    font-family: 'Segoe UI', 'Roboto', 'Consolas', monospace;
    padding: 1.5rem;
    max-width: 1200px;
    margin: 0 auto;
    line-height: 1.6;
    position: relative;
    min-height: 100vh;
}

/* FONDO CYBERPUNK SUTIL */
.leccion-ingles-familia::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    z-index: 0;
}

.leccion-ingles-familia > * {
    position: relative;
    z-index: 1;
}

/* CABECERA COMPACTA */
.leccion-header.compact {
    margin-bottom: 2rem;
    padding: 1.5rem;
    background: var(--bg-card);
    border-radius: 12px;
    border: var(--border-glow);
    box-shadow: var(--shadow-neon);
}

.header-top {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
    margin-bottom: 1rem;
}

.materia-badge, .nivel-badge, .tiempo-badge, .voz-badge {
    padding: 0.5rem 1rem;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: 600;
}

.materia-badge {
    background: rgba(0, 255, 255, 0.1);
    color: var(--neon-cyan);
    border: 1px solid var(--neon-cyan);
}

.nivel-badge {
    background: rgba(57, 255, 20, 0.1);
    color: var(--neon-green);
    border: 1px solid var(--neon-green);
}

.tiempo-badge {
    background: rgba(255, 255, 0, 0.1);
    color: var(--neon-yellow);
    border: 1px solid var(--neon-yellow);
}

.voz-badge {
    background: rgba(255, 0, 255, 0.1);
    color: var(--neon-pink);
    border: 1px solid var(--neon-pink);
}

.titulo-leccion {
    font-size: 2.2rem;
    color: var(--neon-cyan);
    margin-bottom: 0.5rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.neon-icon {
    animation: pulse 2s infinite;
}

.leccion-subtitulo {
    color: var(--text-dim);
    font-size: 1.1rem;
}

/* PANEL DE OBJETIVOS */
.objetivos-rapidos {
    margin-bottom: 2rem;
}

.objetivos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1rem;
}

.objetivo-card {
    background: var(--bg-card);
    padding: 1.5rem;
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    display: flex;
    align-items: center;
    gap: 1rem;
    transition: all 0.3s ease;
}

.objetivo-card:hover {
    transform: translateY(-3px);
    border-color: var(--neon-cyan);
    box-shadow: 0 5px 15px rgba(0, 255, 255, 0.1);
}

.obj-icon {
    font-size: 2rem;
}

.obj-text h4 {
    color: var(--text-light);
    margin-bottom: 0.25rem;
}

.obj-text p {
    color: var(--text-dim);
    font-size: 0.9rem;
}

/* SECCI칍N PRINCIPAL */
.seccion-principal-ingles {
    display: flex;
    flex-direction: column;
    gap: 2rem;
}

/* SECCIONES DE VOCABULARIO */
.vocabulario-section {
    background: var(--bg-card);
    padding: 1.5rem;
    border-radius: 12px;
    border: 1px solid rgba(57, 255, 20, 0.2);
}

.seccion-titulo {
    color: var(--neon-green);
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.neon-bullet {
    animation: pulse 1.5s infinite;
}

.seccion-descripcion {
    color: var(--text-dim);
    margin-bottom: 1.5rem;
}

/* GRID DE VOCABULARIO */
.vocabulario-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.vocab-card {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 10px;
    padding: 1rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
}

.vocab-card:hover {
    transform: translateY(-5px);
    border-color: var(--neon-cyan);
    box-shadow: 0 5px 15px rgba(0, 255, 255, 0.2);
}

.vocab-card.speaking {
    border-color: var(--neon-green);
    box-shadow: 0 0 20px rgba(57, 255, 20, 0.3);
    transform: scale(1.05);
}

.card-emoji {
    font-size: 2.5rem;
    margin-bottom: 0.75rem;
}

.card-content {
    flex: 1;
    width: 100%;
}

.word-english {
    font-size: 1.2rem;
    font-weight: bold;
    color: var(--text-light);
    margin-bottom: 0.25rem;
}

.word-spanish {
    color: var(--neon-cyan);
    font-size: 0.95rem;
    margin-bottom: 0.25rem;
}

.word-phonetic {
    color: var(--text-dim);
    font-size: 0.85rem;
    font-family: 'Consolas', monospace;
}

.card-actions {
    display: flex;
    gap: 0.5rem;
    margin-top: 0.75rem;
}

.card-btn {
    background: rgba(255, 255, 255, 0.1);
    border: none;
    border-radius: 6px;
    width: 36px;
    height: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    color: var(--text-light);
    font-size: 1rem;
    transition: all 0.2s ease;
}

.card-btn:hover {
    background: rgba(255, 255, 255, 0.2);
    transform: scale(1.1);
}

.add-btn:hover {
    background: rgba(57, 255, 20, 0.2);
    color: var(--neon-green);
}

.example-btn:hover {
    background: rgba(255, 255, 0, 0.2);
    color: var(--neon-yellow);
}

.audio-btn:hover {
    background: rgba(0, 255, 255, 0.2);
    color: var(--neon-cyan);
}

/* BOTONES DE VOCABULARIO */
.vocabulario-actions {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
}

.btn-vocabulario {
    background: rgba(57, 255, 20, 0.1);
    color: var(--neon-green);
    border: 1px solid var(--neon-green);
    padding: 0.75rem 1.5rem;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.3s ease;
}

.btn-vocabulario:hover {
    background: rgba(57, 255, 20, 0.2);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(57, 255, 20, 0.2);
}

/* SIMULADOR DE PRONUNCIACI칍N */
.simulador-pronunciacion {
    background: var(--bg-card);
    padding: 1.5rem;
    border-radius: 12px;
    border: 1px solid rgba(255, 0, 255, 0.2);
}

/* CONTROLES DEL SIMULADOR */
.simulador-controls-ingles {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 10px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
    border: 1px solid rgba(255, 0, 255, 0.1);
}

.controls-header {
    text-align: center;
    margin-bottom: 1.5rem;
}

.controls-header h3 {
    color: var(--neon-pink);
    margin-bottom: 0.5rem;
}

.controls-header p {
    color: var(--text-dim);
}

.controls-buttons {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
    margin-bottom: 1rem;
}

.btn-control {
    padding: 1rem 1.5rem;
    border: none;
    border-radius: 8px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    min-width: 140px;
    justify-content: center;
}

.btn-listen {
    background: linear-gradient(45deg, var(--neon-cyan), #0097A7);
    color: white;
}

.btn-speak {
    background: linear-gradient(45deg, var(--neon-pink), #FF00AA);
    color: white;
}

.btn-next {
    background: linear-gradient(45deg, var(--neon-green), #2E7D32);
    color: white;
}

.btn-repeat {
    background: linear-gradient(45deg, var(--neon-yellow), #FF8C00);
    color: black;
}

.btn-control:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.controls-info {
    text-align: center;
    color: var(--text-dim);
    font-size: 0.9rem;
    padding-top: 1rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

/* DISPLAY DE PALABRA ACTUAL */
.word-display-container {
    background: rgba(0, 0, 0, 0.4);
    border-radius: 10px;
    padding: 2rem;
    margin-bottom: 1.5rem;
    text-align: center;
    border: 2px solid rgba(0, 255, 255, 0.2);
}

.word-display-main {
    margin-bottom: 1.5rem;
}

.word-english {
    font-size: 3rem;
    font-weight: bold;
    color: var(--neon-cyan);
    margin-bottom: 0.5rem;
    text-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
}

.word-translation {
    font-size: 1.5rem;
    color: var(--neon-green);
    margin-bottom: 0.5rem;
}

.word-phonetic {
    font-size: 1rem;
    color: var(--text-dim);
    font-family: 'Consolas', monospace;
}

.word-example {
    background: rgba(0, 0, 0, 0.3);
    padding: 1rem;
    border-radius: 8px;
    border-left: 4px solid var(--neon-yellow);
}

.example-label {
    color: var(--neon-yellow);
    font-weight: bold;
    margin-bottom: 0.5rem;
    font-size: 0.9rem;
}

.example-text {
    color: var(--text-light);
    font-style: italic;
}

/* PANEL DE PR츼CTICA Y FEEDBACK */
.practice-feedback-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.5rem;
    margin-top: 1.5rem;
}

@media (max-width: 768px) {
    .practice-feedback-container {
        grid-template-columns: 1fr;
    }
}

.practice-words-panel, .feedback-panel {
    background: rgba(0, 0, 0, 0.3);
    padding: 1.5rem;
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.practice-words-panel h4, .feedback-panel h4 {
    color: var(--neon-yellow);
    margin-bottom: 1rem;
    font-size: 1.1rem;
}

/* CHIPS DE PALABRAS */
.word-chips-container {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-bottom: 1rem;
    min-height: 60px;
    max-height: 120px;
    overflow-y: auto;
    padding: 0.5rem;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 6px;
}

.word-chip {
    background: rgba(0, 255, 255, 0.1);
    color: var(--neon-cyan);
    padding: 0.5rem 0.75rem;
    border-radius: 20px;
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.9rem;
    border: 1px solid rgba(0, 255, 255, 0.3);
}

.word-chip.current {
    background: rgba(57, 255, 20, 0.2);
    color: var(--neon-green);
    border-color: var(--neon-green);
    font-weight: bold;
}

.chip-remove {
    background: none;
    border: none;
    color: inherit;
    cursor: pointer;
    font-size: 1.2rem;
    padding: 0;
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
}

.chip-remove:hover {
    background: rgba(255, 255, 255, 0.1);
}

.practice-actions {
    display: flex;
    gap: 0.75rem;
}

.btn-chip-add, .btn-chip-clear {
    padding: 0.5rem 1rem;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.9rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.btn-chip-add {
    background: rgba(57, 255, 20, 0.1);
    color: var(--neon-green);
    border: 1px solid var(--neon-green);
}

.btn-chip-clear {
    background: rgba(255, 107, 107, 0.1);
    color: var(--neon-red);
    border: 1px solid var(--neon-red);
}

.btn-chip-add:hover {
    background: rgba(57, 255, 20, 0.2);
}

.btn-chip-clear:hover {
    background: rgba(255, 107, 107, 0.2);
}

/* FEEDBACK MESSAGE */
.feedback-message {
    padding: 1rem;
    border-radius: 8px;
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    min-height: 60px;
}

.feedback-message.info {
    background: rgba(0, 255, 255, 0.1);
    border: 1px solid rgba(0, 255, 255, 0.3);
}

.feedback-message.success {
    background: rgba(57, 255, 20, 0.1);
    border: 1px solid rgba(57, 255, 20, 0.3);
}

.feedback-message.error {
    background: rgba(255, 107, 107, 0.1);
    border: 1px solid rgba(255, 107, 107, 0.3);
}

.feedback-message.listening {
    background: rgba(255, 255, 0, 0.1);
    border: 1px solid rgba(255, 255, 0, 0.3);
}

.feedback-message.warning {
    background: rgba(255, 193, 7, 0.1);
    border: 1px solid rgba(255, 193, 7, 0.3);
}

.feedback-icon {
    font-size: 1.5rem;
    flex-shrink: 0;
}

.feedback-text {
    flex: 1;
    line-height: 1.4;
}

/* CONFIDENCE METER */
.confidence-meter-container {
    background: rgba(0, 0, 0, 0.2);
    padding: 1rem;
    border-radius: 8px;
    margin-bottom: 1rem;
}

.confidence-header {
    display: flex;
    justify-content: space-between;
    margin-bottom: 0.5rem;
    font-size: 0.9rem;
    color: var(--text-light);
}

.confidence-meter {
    height: 10px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 5px;
    overflow: hidden;
    margin-bottom: 0.5rem;
}

.confidence-fill {
    height: 100%;
    width: 0%;
    border-radius: 5px;
    transition: width 0.5s ease, background 0.5s ease;
}

.confidence-labels {
    display: flex;
    justify-content: space-between;
    font-size: 0.8rem;
    color: var(--text-dim);
}

/* STATS CONTAINER */
.stats-container {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1rem;
    text-align: center;
}

.stat-item {
    background: rgba(0, 0, 0, 0.2);
    padding: 1rem;
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.stat-value {
    font-size: 1.8rem;
    font-weight: bold;
    color: var(--neon-cyan);
    margin-bottom: 0.25rem;
}

.stat-label {
    font-size: 0.85rem;
    color: var(--text-dim);
}

/* 츼RBOL FAMILIAR */
.family-tree-section {
    background: var(--bg-card);
    padding: 1.5rem;
    border-radius: 12px;
    border: 1px solid rgba(57, 255, 20, 0.2);
}

.tree-container {
    background: white;
    border-radius: 10px;
    padding: 1rem;
    margin: 1.5rem 0;
    overflow: auto;
    min-height: 400px;
    display: flex;
    justify-content: center;
    align-items: center;
}

.family-tree-svg {
    width: 100%;
    height: auto;
    max-width: 1000px;
}

.tree-node {
    transition: all 0.3s ease;
    cursor: pointer;
}

.tree-node:hover {
    opacity: 0.9;
    transform: scale(1.05);
}

.tree-controls {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
    margin-bottom: 1.5rem;
}

.btn-tree {
    background: rgba(57, 255, 20, 0.1);
    color: var(--neon-green);
    border: 1px solid var(--neon-green);
    padding: 0.75rem 1.5rem;
    border-radius: 8px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.3s ease;
}

.btn-tree:hover {
    background: rgba(57, 255, 20, 0.2);
    transform: translateY(-2px);
}

.tree-info {
    background: rgba(0, 0, 0, 0.3);
    padding: 1.5rem;
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.tree-info h4 {
    color: var(--neon-cyan);
    margin-bottom: 1rem;
}

.relationships-list {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.relationship-item {
    background: rgba(0, 0, 0, 0.2);
    padding: 0.75rem;
    border-radius: 6px;
    border-left: 3px solid var(--neon-cyan);
}

.relationship-title {
    font-weight: bold;
    color: var(--text-light);
    margin-bottom: 0.25rem;
}

.relationship-desc {
    color: var(--text-dim);
    font-size: 0.9rem;
}

/* SIMULADOR DE CONVERSACIONES */
.conversation-simulator {
    background: var(--bg-card);
    padding: 1.5rem;
    border-radius: 12px;
    border: 1px solid rgba(0, 255, 255, 0.2);
}

/* TABS DE CONVERSACI칍N */
.conversation-tabs {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 10px;
    overflow: hidden;
    margin-bottom: 1.5rem;
}

.tabs-header {
    display: flex;
    background: rgba(0, 0, 0, 0.5);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.tab-btn {
    flex: 1;
    padding: 1rem;
    background: none;
    border: none;
    color: var(--text-dim);
    cursor: pointer;
    font-weight: 600;
    transition: all 0.3s ease;
    border-bottom: 3px solid transparent;
}

.tab-btn:hover {
    color: var(--text-light);
    background: rgba(255, 255, 255, 0.05);
}

.tab-btn.active {
    color: var(--neon-cyan);
    border-bottom-color: var(--neon-cyan);
    background: rgba(0, 255, 255, 0.05);
}

.tabs-content {
    padding: 1.5rem;
}

.tab-pane {
    display: none;
}

.tab-pane.active {
    display: block;
}

/* DI츼LOGOS */
.dialogue-container {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.dialogue-bubble {
    display: flex;
    gap: 1rem;
    max-width: 80%;
}

.dialogue-bubble.left {
    align-self: flex-start;
}

.dialogue-bubble.right {
    align-self: flex-end;
    flex-direction: row-reverse;
}

.bubble-avatar {
    font-size: 2rem;
    flex-shrink: 0;
}

.bubble-content {
    background: rgba(0, 0, 0, 0.3);
    padding: 1rem;
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    flex: 1;
}

.dialogue-bubble.left .bubble-content {
    border-left: 4px solid var(--neon-cyan);
}

.dialogue-bubble.right .bubble-content {
    border-right: 4px solid var(--neon-pink);
}

.bubble-content strong {
    color: var(--neon-yellow);
}

.bubble-action {
    background: rgba(0, 255, 255, 0.1);
    border: 1px solid var(--neon-cyan);
    color: var(--neon-cyan);
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    flex-shrink: 0;
    align-self: center;
    transition: all 0.3s ease;
}

.bubble-action:hover {
    background: rgba(0, 255, 255, 0.2);
    transform: scale(1.1);
}

/* CONTROLES DE CONVERSACI칍N */
.conversation-controls {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
    margin-bottom: 1.5rem;
}

.btn-conversation {
    background: rgba(0, 255, 255, 0.1);
    color: var(--neon-cyan);
    border: 1px solid var(--neon-cyan);
    padding: 0.75rem 1.5rem;
    border-radius: 8px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.3s ease;
}

.btn-conversation:hover {
    background: rgba(0, 255, 255, 0.2);
    transform: translateY(-2px);
}

/* GRABACI칍N DE CONVERSACI칍N */
.conversation-recording {
    background: rgba(0, 0, 0, 0.3);
    padding: 1.5rem;
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.conversation-recording h4 {
    color: var(--neon-pink);
    margin-bottom: 1rem;
}

.recording-controls {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1rem;
}

.btn-record {
    background: var(--neon-green);
    color: black;
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 8px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-weight: bold;
    transition: all 0.3s ease;
    min-width: 180px;
}

.btn-record:hover {
    opacity: 0.9;
    transform: translateY(-2px);
}

.recording-visualizer {
    flex: 1;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 2px;
}

.visualizer-bar {
    height: 20px;
    width: 3px;
    background: var(--neon-pink);
    border-radius: 2px;
}

@keyframes pulse {
    0% { height: 5px; opacity: 0.5; }
    100% { height: 30px; opacity: 1; }
}

.recording-feedback {
    padding: 1rem;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: var(--text-dim);
    min-height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* SECCI칍N DE ERRORES */
.errores-pronunciacion {
    background: var(--bg-card);
    padding: 1.5rem;
    border-radius: 12px;
    border: 1px solid rgba(255, 107, 107, 0.2);
}

.errores-columna {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    margin-bottom: 1.5rem;
}

.error-completo {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 10px;
    overflow: hidden;
    border: 1px solid rgba(255, 107, 107, 0.3);
}

.error-header-completo {
    background: rgba(255, 107, 107, 0.1);
    padding: 1rem 1.5rem;
    display: flex;
    align-items: center;
    gap: 1rem;
    border-bottom: 1px solid rgba(255, 107, 107, 0.2);
}

.error-icon {
    font-size: 2rem;
}

.error-titulo h3 {
    color: var(--text-light);
    margin-bottom: 0.25rem;
    font-size: 1.2rem;
}

.error-subtitulo {
    color: var(--text-dim);
    font-size: 0.9rem;
}

.error-contenido-completo {
    padding: 1.5rem;
}

.error-explicacion {
    margin-bottom: 1.5rem;
}

.error-explicacion h4 {
    color: var(--neon-yellow);
    margin-bottom: 0.5rem;
}

.error-explicacion p {
    color: var(--text-light);
    line-height: 1.6;
}

.error-comparacion {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.5rem;
    margin-bottom: 1.5rem;
}

@media (max-width: 768px) {
    .error-comparacion {
        grid-template-columns: 1fr;
    }
}

.comparacion-item {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid;
}

.comparacion-item.incorrecto {
    border-color: rgba(255, 107, 107, 0.3);
}

.comparacion-item.correcto {
    border-color: rgba(57, 255, 20, 0.3);
}

.comparacion-header {
    padding: 0.75rem 1rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid;
}

.comparacion-item.incorrecto .comparacion-header {
    background: rgba(255, 107, 107, 0.1);
    border-bottom-color: rgba(255, 107, 107, 0.2);
}

.comparacion-item.correcto .comparacion-header {
    background: rgba(57, 255, 20, 0.1);
    border-bottom-color: rgba(57, 255, 20, 0.2);
}

.comparacion-badge {
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: bold;
}

.incorrecto-badge {
    background: rgba(255, 107, 107, 0.2);
    color: var(--neon-red);
}

.correcto-badge {
    background: rgba(57, 255, 20, 0.2);
    color: var(--neon-green);
}

.comparacion-desc {
    font-size: 0.9rem;
    color: var(--text-dim);
}

.comparacion-audio {
    padding: 1rem;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.btn-audio {
    background: rgba(0, 255, 255, 0.1);
    color: var(--neon-cyan);
    border: 1px solid var(--neon-cyan);
    padding: 0.5rem 1rem;
    border-radius: 6px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.3s ease;
}

.btn-audio:hover {
    background: rgba(0, 255, 255, 0.2);
}

.comparacion-audio p {
    color: var(--text-dim);
    font-size: 0.9rem;
    margin-top: 0.5rem;
}

.error-consejo {
    background: rgba(255, 193, 7, 0.05);
    padding: 1rem;
    border-radius: 8px;
    border-left: 4px solid var(--neon-yellow);
}

.error-consejo p {
    color: var(--text-light);
    line-height: 1.6;
}

.error-consejo strong {
    color: var(--neon-yellow);
}

/* PR츼CTICA DE ERRORES */
.errores-practice {
    background: rgba(0, 0, 0, 0.3);
    padding: 1.5rem;
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.errores-practice h4 {
    color: var(--neon-yellow);
    margin-bottom: 1rem;
}

.practice-words-list {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 1rem;
}

.practice-word-item {
    background: rgba(0, 0, 0, 0.2);
    padding: 1rem;
    border-radius: 8px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.word-text {
    font-weight: bold;
    color: var(--text-light);
}

.word-practice-btn {
    background: rgba(57, 255, 20, 0.1);
    color: var(--neon-green);
    border: 1px solid var(--neon-green);
    padding: 0.5rem 1rem;
    border-radius: 6px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.3s ease;
}

.word-practice-btn:hover {
    background: rgba(57, 255, 20, 0.2);
}

/* DESAF칈O DE FRASES */
.desafio-frases {
    background: var(--bg-card);
    padding: 1.5rem;
    border-radius: 12px;
    border: 1px solid rgba(255, 193, 7, 0.2);
}

.desafio-container {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 1.5rem;
}

@media (max-width: 992px) {
    .desafio-container {
        grid-template-columns: 1fr;
    }
}

.instrucciones {
    background: rgba(0, 0, 0, 0.3);
    padding: 1rem;
    border-radius: 8px;
    margin-bottom: 1.5rem;
    border-left: 4px solid var(--neon-cyan);
}

.instrucciones p {
    color: var(--text-light);
    margin-bottom: 0.5rem;
}

.instrucciones strong {
    color: var(--neon-yellow);
}

/* CONSTRUCTOR DE ORACIONES */
.sentence-builder {
    background: rgba(0, 0, 0, 0.3);
    padding: 1.5rem;
    border-radius: 10px;
    margin-bottom: 1.5rem;
}

.word-pool {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
    margin-bottom: 1.5rem;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    min-height: 100px;
    border: 2px dashed rgba(255, 255, 255, 0.1);
}

.word-item {
    background: rgba(0, 255, 255, 0.1);
    color: var(--neon-cyan);
    padding: 0.5rem 1rem;
    border-radius: 20px;
    cursor: move;
    display: flex;
    flex-direction: column;
    align-items: center;
    border: 1px solid rgba(0, 255, 255, 0.3);
    user-select: none;
}

.word-item:hover {
    background: rgba(0, 255, 255, 0.2);
}

.word-text {
    font-weight: bold;
    font-size: 1.1rem;
}

.word-translation {
    font-size: 0.8rem;
    color: var(--text-dim);
}

.sentence-area {
    background: rgba(0, 0, 0, 0.2);
    padding: 1.5rem;
    border-radius: 8px;
    margin-bottom: 1.5rem;
    min-height: 120px;
    border: 2px solid rgba(57, 255, 20, 0.2);
}

.sentence-title {
    color: var(--neon-green);
    font-weight: bold;
    margin-bottom: 1rem;
    font-size: 1.1rem;
}

.sentence-container {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    min-height: 60px;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 6px;
    margin-bottom: 1rem;
    border: 2px dashed rgba(255, 255, 255, 0.05);
}

.sentence-container.drag-over {
    border-color: var(--neon-cyan);
    background: rgba(0, 255, 255, 0.05);
}

.sentence-word {
    background: rgba(57, 255, 20, 0.2);
    color: var(--neon-green);
    padding: 0.5rem 1rem;
    border-radius: 20px;
    font-weight: bold;
    cursor: pointer;
    border: 1px solid rgba(57, 255, 20, 0.3);
    user-select: none;
}

.sentence-word:hover {
    background: rgba(57, 255, 20, 0.3);
    transform: translateY(-2px);
}

.sentence-feedback {
    padding: 1rem;
    border-radius: 6px;
    background: rgba(0, 0, 0, 0.2);
    color: var(--text-dim);
    text-align: center;
    transition: all 0.3s ease;
}

.sentence-feedback.active {
    background: rgba(0, 0, 0, 0.3);
    color: var(--text-light);
}

.sentence-feedback.success {
    background: rgba(57, 255, 20, 0.1);
    color: var(--neon-green);
    border: 1px solid rgba(57, 255, 20, 0.3);
}

.sentence-feedback.error {
    background: rgba(255, 107, 107, 0.1);
    color: var(--neon-red);
    border: 1px solid rgba(255, 107, 107, 0.3);
}

.sentence-feedback.warning {
    background: rgba(255, 193, 7, 0.1);
    color: var(--neon-yellow);
    border: 1px solid rgba(255, 193, 7, 0.3);
}

.builder-controls {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
}

.btn-builder {
    background: rgba(255, 193, 7, 0.1);
    color: var(--neon-yellow);
    border: 1px solid var(--neon-yellow);
    padding: 0.75rem 1.5rem;
    border-radius: 8px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.3s ease;
}

.btn-builder:hover {
    background: rgba(255, 193, 7, 0.2);
    transform: translateY(-2px);
}

/* EJEMPLOS DE ORACIONES */
.desafio-ejemplos {
    background: rgba(0, 0, 0, 0.3);
    padding: 1.5rem;
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.desafio-ejemplos h4 {
    color: var(--neon-cyan);
    margin-bottom: 1rem;
}

.ejemplos-lista {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.ejemplo-item {
    background: rgba(0, 0, 0, 0.2);
    padding: 1rem;
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    position: relative;
}

.ejemplo-ingles {
    font-weight: bold;
    color: var(--text-light);
}

.ejemplo-traduccion {
    color: var(--text-dim);
    font-size: 0.9rem;
    font-style: italic;
}

.ejemplo-audio {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: rgba(0, 255, 255, 0.1);
    border: 1px solid var(--neon-cyan);
    color: var(--neon-cyan);
    width: 36px;
    height: 36px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
}

.ejemplo-audio:hover {
    background: rgba(0, 255, 255, 0.2);
    transform: scale(1.1);
}

/* EXAMEN INTERACTIVO */
.examen-interactivo {
    background: var(--bg-card);
    padding: 1.5rem;
    border-radius: 12px;
    border: 1px solid rgba(255, 107, 107, 0.2);
}

.examen-container {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 10px;
    overflow: hidden;
}

.examen-header {
    background: rgba(0, 0, 0, 0.5);
    padding: 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.examen-info h3 {
    color: var(--text-light);
    margin-bottom: 0.5rem;
}

.examen-info p {
    color: var(--text-dim);
    font-size: 0.9rem;
}

.examen-timer {
    display: flex;
    align-items: center;
}

.timer-circle {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background: linear-gradient(45deg, var(--neon-red), #d32f2f);
    display: flex;
    align-items: center;
    justify-content: center;
    border: 3px solid var(--neon-red);
    box-shadow: 0 0 20px rgba(255, 107, 107, 0.3);
}

.timer-text {
    font-size: 1.5rem;
    font-weight: bold;
    color: white;
}

/* PREGUNTAS DEL EXAMEN */
.examen-preguntas {
    padding: 1.5rem;
}

.pregunta-item {
    background: rgba(0, 0, 0, 0.2);
    padding: 1.5rem;
    border-radius: 10px;
    margin-bottom: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.pregunta-header {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 1rem;
    flex-wrap: wrap;
}

.pregunta-numero {
    font-weight: bold;
    color: var(--neon-yellow);
    font-size: 1.2rem;
}

.pregunta-texto {
    color: var(--text-light);
    flex: 1;
}

.pregunta-audio {
    background: rgba(0, 255, 255, 0.1);
    color: var(--neon-cyan);
    border: 1px solid var(--neon-cyan);
    padding: 0.5rem 1rem;
    border-radius: 6px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.3s ease;
}

.pregunta-audio:hover {
    background: rgba(0, 255, 255, 0.2);
}

.pregunta-opciones {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem;
    margin-bottom: 1rem;
}

@media (max-width: 768px) {
    .pregunta-opciones {
        grid-template-columns: 1fr;
    }
}

.opcion-item {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    padding: 1rem;
    border-radius: 8px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 1rem;
    transition: all 0.3s ease;
}

.opcion-item:hover {
    background: rgba(255, 255, 255, 0.1);
    transform: translateY(-2px);
}

.opcion-item.selected {
    background: rgba(0, 255, 255, 0.1);
    border-color: var(--neon-cyan);
}

.opcion-item[data-correct="true"].selected {
    background: rgba(57, 255, 20, 0.1);
    border-color: var(--neon-green);
}

.opcion-letra {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.1);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    color: var(--text-light);
    flex-shrink: 0;
}

.opcion-item.selected .opcion-letra {
    background: var(--neon-cyan);
    color: black;
}

.opcion-item[data-correct="true"].selected .opcion-letra {
    background: var(--neon-green);
    color: black;
}

.opcion-texto {
    color: var(--text-light);
    flex: 1;
}

.pregunta-feedback {
    padding: 1rem;
    border-radius: 6px;
    margin-top: 1rem;
    display: none;
}

.pregunta-feedback.correct {
    display: block;
    background: rgba(57, 255, 20, 0.1);
    color: var(--neon-green);
    border: 1px solid rgba(57, 255, 20, 0.3);
}

/* AUDIO FEEDBACK PARA EXAMEN */
.pregunta-audio-feedback {
    background: rgba(0, 0, 0, 0.3);
    padding: 1.5rem;
    border-radius: 8px;
    margin-top: 1rem;
}

.audio-wave {
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 2px;
    margin-bottom: 1rem;
}

.audio-feedback-text {
    text-align: center;
    color: var(--text-dim);
    min-height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* ACCIONES DEL EXAMEN */
.examen-actions {
    padding: 1.5rem;
    background: rgba(0, 0, 0, 0.5);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 1rem;
}

.btn-examen {
    background: rgba(255, 107, 107, 0.1);
    color: var(--neon-red);
    border: 1px solid var(--neon-red);
    padding: 0.75rem 1.5rem;
    border-radius: 8px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-weight: bold;
    transition: all 0.3s ease;
}

.btn-examen:hover {
    background: rgba(255, 107, 107, 0.2);
    transform: translateY(-2px);
}

.examen-score {
    color: var(--text-light);
    font-size: 1.1rem;
}

.examen-score strong {
    color: var(--neon-yellow);
}

.examen-score span {
    color: var(--neon-cyan);
    font-weight: bold;
    font-size: 1.2rem;
}

/* RESULTADOS DEL EXAMEN */
.examen-results {
    padding: 1.5rem;
    background: rgba(0, 0, 0, 0.3);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.examen-results h4 {
    color: var(--neon-cyan);
    margin-bottom: 1.5rem;
    text-align: center;
    font-size: 1.3rem;
}

.result-summary {
    display: flex;
    justify-content: space-around;
    align-items: center;
    margin-bottom: 2rem;
    padding: 1.5rem;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.result-score {
    font-size: 3rem;
    font-weight: bold;
    color: var(--neon-cyan);
}

.result-percentage {
    font-size: 2.5rem;
    font-weight: bold;
    color: var(--neon-yellow);
}

.result-status {
    padding: 0.5rem 1.5rem;
    border-radius: 20px;
    font-weight: bold;
    font-size: 1.2rem;
}

.result-status.pass {
    background: rgba(57, 255, 20, 0.2);
    color: var(--neon-green);
    border: 1px solid var(--neon-green);
}

.result-status.fail {
    background: rgba(255, 107, 107, 0.2);
    color: var(--neon-red);
    border: 1px solid var(--neon-red);
}

.result-breakdown {
    margin-bottom: 1.5rem;
}

.result-breakdown h5 {
    color: var(--text-light);
    margin-bottom: 1rem;
    font-size: 1.1rem;
}

.result-question {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 0.75rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}


.question-num {
    font-weight: bold;
    color: var(--neon-yellow);
    min-width: 30px;
}

.question-result {
    flex: 1;
}

.question-result.correct {
    color: var(--neon-green);
}

.question-result.incorrect {
    color: var(--neon-red);
}

.result-recommendation {
    padding: 1.5rem;
    border-radius: 8px;
    margin-top: 1.5rem;
}

.result-recommendation.success {
    background: rgba(57, 255, 20, 0.1);
    border: 1px solid rgba(57, 255, 20, 0.3);
    color: var(--neon-green);
}

.result-recommendation.warning {
    background: rgba(255, 193, 7, 0.1);
    border: 1px solid rgba(255, 193, 7, 0.3);
    color: var(--neon-yellow);
}

.result-recommendation.error {
    background: rgba(255, 107, 107, 0.1);
    border: 1px solid rgba(255, 107, 107, 0.3);
    color: var(--neon-red);
}

.result-recommendation strong {
    font-size: 1.1rem;
}

/* AUTOEVALUACI칍N Y RECURSOS */
.evaluacion-recursos-ingles {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.5rem;
}

@media (max-width: 992px) {
    .evaluacion-recursos-ingles {
        grid-template-columns: 1fr;
    }
}

.autoevaluacion-compact, .recursos-compact-ingles {
    background: var(--bg-card);
    padding: 1.5rem;
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

/* AUTOEVALUACI칍N */
.eval-grid-ingles {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1.5rem;
    margin-bottom: 1.5rem;
}

@media (max-width: 768px) {
    .eval-grid-ingles {
        grid-template-columns: 1fr;
    }
}

.eval-item-ingles {
    background: rgba(0, 0, 0, 0.3);
    padding: 1rem;
    border-radius: 8px;
}

.eval-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.75rem;
}

.eval-label {
    color: var(--text-light);
    font-weight: 500;
}

.eval-value {
    color: var(--neon-cyan);
    font-weight: bold;
    font-size: 1.1rem;
}

.eval-slider {
    width: 100%;
    height: 8px;
    border-radius: 4px;
    background: rgba(255, 255, 255, 0.1);
    outline: none;
    -webkit-appearance: none;
}

.eval-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: var(--neon-cyan);
    cursor: pointer;
    border: 2px solid white;
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
}

.eval-slider::-moz-range-thumb {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: var(--neon-cyan);
    cursor: pointer;
    border: 2px solid white;
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
}

.eval-labels {
    display: flex;
    justify-content: space-between;
    margin-top: 0.5rem;
    font-size: 0.8rem;
    color: var(--text-dim);
}

.eval-actions-ingles {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 1.5rem;
    padding-top: 1.5rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.btn-guardar-eval {
    background: rgba(57, 255, 20, 0.1);
    color: var(--neon-green);
    border: 1px solid var(--neon-green);
    padding: 0.75rem 1.5rem;
    border-radius: 8px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-weight: bold;
    transition: all 0.3s ease;
}

.btn-guardar-eval:hover {
    background: rgba(57, 255, 20, 0.2);
    transform: translateY(-2px);
}

.eval-promedio {
    color: var(--text-light);
    font-size: 1.1rem;
}

.eval-promedio strong {
    color: var(--neon-yellow);
}

.eval-promedio span {
    color: var(--neon-cyan);
    font-weight: bold;
}

/* REFLEXI칍N */
.eval-reflection {
    margin-top: 1.5rem;
    padding-top: 1.5rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.eval-reflection h4 {
    color: var(--neon-pink);
    margin-bottom: 1rem;
}

.reflection-questions {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.question-item {
    background: rgba(0, 0, 0, 0.2);
    padding: 1rem;
    border-radius: 8px;
}

.question-item p {
    color: var(--text-light);
    margin-bottom: 0.75rem;
    font-weight: 500;
}

.reflection-text {
    width: 100%;
    min-height: 60px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 6px;
    padding: 0.75rem;
    color: var(--text-light);
    font-family: inherit;
    resize: vertical;
}

.reflection-text:focus {
    outline: none;
    border-color: var(--neon-cyan);
    box-shadow: 0 0 5px rgba(0, 255, 255, 0.3);
}

/* RECURSOS */
.recursos-grid-ingles {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
    margin-bottom: 1.5rem;
}

@media (max-width: 768px) {
    .recursos-grid-ingles {
        grid-template-columns: 1fr;
    }
}

.recurso-card-ingles {
    background: rgba(0, 0, 0, 0.3);
    padding: 1rem;
    border-radius: 8px;
    text-decoration: none;
    color: inherit;
    display: flex;
    align-items: center;
    gap: 1rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.3s ease;
}

.recurso-card-ingles:hover {
    border-color: var(--neon-cyan);
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 255, 255, 0.1);
}

.recurso-icon {
    font-size: 1.5rem;
    flex-shrink: 0;
}

.recurso-content h4 {
    color: var(--text-light);
    margin-bottom: 0.25rem;
    font-size: 1rem;
}

.recurso-content p {
    color: var(--text-dim);
    font-size: 0.85rem;
}

/* PLAN DE ESTUDIO */
.study-plan {
    margin-top: 1.5rem;
    padding-top: 1.5rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.study-plan h4 {
    color: var(--neon-yellow);
    margin-bottom: 1rem;
}

.plan-items {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.plan-item {
    background: rgba(0, 0, 0, 0.2);
    padding: 0.75rem;
    border-radius: 6px;
    display: flex;
    align-items: center;
    gap: 1rem;
    border-left: 3px solid var(--neon-green);
}

.plan-day {
    background: rgba(57, 255, 20, 0.1);
    color: var(--neon-green);
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: bold;
    min-width: 60px;
    text-align: center;
}

.plan-task {
    color: var(--text-light);
    flex: 1;
    font-size: 0.9rem;
}

/* MODAL DE SELECTOR DE PALABRAS */
.word-selector-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 10000;
}

.word-selector-content {
    background: var(--bg-card);
    padding: 2rem;
    border-radius: 12px;
    max-width: 500px;
    max-height: 80vh;
    overflow-y: auto;
    border: 2px solid var(--neon-cyan);
    box-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
}

/* ANIMACIONES */
@keyframes pulse {
    0%, 100% { 
        opacity: 1;
        transform: scale(1);
    }
    50% { 
        opacity: 0.7;
        transform: scale(1.05);
    }
}

/* SCROLLBAR PERSONALIZADA */
::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 5px;
}

::-webkit-scrollbar-thumb {
    background: rgba(0, 255, 255, 0.3);
    border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 255, 255, 0.5);
}

/* RESPONSIVE ADICIONAL */
@media (max-width: 768px) {
    .leccion-ingles-familia {
        padding: 1rem;
    }
    
    .titulo-leccion {
        font-size: 1.8rem;
    }
    
    .objetivos-grid {
        grid-template-columns: 1fr;
    }
    
    .vocabulario-grid {
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    }
    
    .controls-buttons {
        flex-direction: column;
    }
    
    .btn-control {
        width: 100%;
    }
    
    .word-english {
        font-size: 2.5rem;
    }
    
    .practice-feedback-container {
        grid-template-columns: 1fr;
    }
    
    .error-comparacion {
        grid-template-columns: 1fr;
    }
    
    .desafio-container {
        grid-template-columns: 1fr;
    }
    
    .pregunta-opciones {
        grid-template-columns: 1fr;
    }
    
    .examen-header {
        flex-direction: column;
        gap: 1rem;
        text-align: center;
    }
    
    .result-summary {
        flex-direction: column;
        gap: 1rem;
        text-align: center;
    }
    
    .eval-grid-ingles {
        grid-template-columns: 1fr;
    }
    
    .recursos-grid-ingles {
        grid-template-columns: 1fr;
    }
    
    .eval-actions-ingles {
        flex-direction: column;
        gap: 1rem;
        text-align: center;
    }
}

/* ESTILOS PARA NOTIFICACIONES */
#notification-container-ingles {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 10000;
    max-width: 300px;
}

/* ESTILOS PARA EFECTOS DE HABLA */
.speaking {
    animation: speaking-pulse 0.5s infinite alternate;
}

@keyframes speaking-pulse {
    0% { 
        box-shadow: 0 0 5px rgba(57, 255, 20, 0.3);
        transform: scale(1);
    }
    100% { 
        box-shadow: 0 0 20px rgba(57, 255, 20, 0.6);
        transform: scale(1.05);
    }
}

/* ESTILOS PARA DRAG AND DROP */
.drag-over {
    border-color: var(--neon-cyan) !important;
    background: rgba(0, 255, 255, 0.05) !important;
}

/* ESTILOS ESPEC칈FICOS PARA LECCI칍N INGL칄S A2 - CYBERPUNK */

/* Variables espec칤ficas para ingl칠s */
:root {
    /* Colores tem치ticos para ingl칠s */
    --neon-vocabulary: #FF00FF;    /* Rosa - Vocabulario */
    --neon-grammar: #00FFFF;       /* Cian - Gram치tica */
    --neon-pronunciation: #FFFF00; /* Amarillo - Pronunciaci칩n */
    --neon-listening: #39FF14;     /* Verde - Comprensi칩n auditiva */
    --neon-speaking: #FF6B00;      /* Naranja - Expresi칩n oral */
    --neon-time: #9D00FF;          /* P칰rpura - Tiempo */
    
    /* Fondo espec칤fico para ingl칠s */
    --bg-ingles: linear-gradient(135deg, #0a0a1a 0%, #1a0a2a 100%);
}

/* Contenedor principal de lecci칩n ingl칠s */
.leccion-ingles-rutina {
    background: var(--bg-ingles);
    font-family: 'Segoe UI', 'Roboto', 'Arial', sans-serif;
}

/* Mejoras espec칤ficas para elementos de ingl칠s */
.time-btn-neon {
    font-family: 'Consolas', 'Monaco', monospace;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.time-btn-neon:hover {
    transform: translateY(-3px) scale(1.02);
}

/* Animaciones espec칤ficas para ingl칠s */
@keyframes english-pulse {
    0%, 100% { 
        text-shadow: 0 0 5px currentColor;
    }
    50% { 
        text-shadow: 0 0 15px currentColor,
                     0 0 25px currentColor;
    }
}

.titulo-leccion-neon {
    animation: english-pulse 3s infinite;
}

/* Efectos de texto para ingl칠s */
.english-text-glow {
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
}

/* Estilos para elementos interactivos de ingl칠s */
.activity-card {
    cursor: grab;
    user-select: none;
}

.activity-card:active {
    cursor: grabbing;
}

/* Estilos para el reloj anal칩gico */
.analog-clock-svg {
    filter: drop-shadow(0 0 10px rgba(0, 255, 255, 0.3));
}

/* Mejoras de accesibilidad para ingl칠s */
@media (prefers-reduced-motion: reduce) {
    .leccion-ingles-rutina * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* Estilos para modo oscuro mejorado */
@media (prefers-color-scheme: dark) {
    .leccion-ingles-rutina {
        --text-light: #f0f0f0;
        --text-dim: #b0b0b0;
    }
}

/* Estilos para impresi칩n */
@media print {
    .leccion-ingles-rutina {
        color: black;
        background: white;
    }
    
    .time-btn-neon, .activity-card, .grammar-card {
        border: 1px solid #ccc !important;
        break-inside: avoid;
    }
}
/* ========================================
   VARIABLES Y RESET CYBERPUNK
   ======================================== */
:root {
    /* COLORES NEON PARA INGL칄S */
    --neon-cyan: #00FFFF;
    --neon-green: #39FF14;
    --neon-pink: #FF00FF;
    --neon-yellow: #FFFF00;
    --neon-orange: #FF6B00;
    --neon-purple: #9D00FF;
    
    /* FONDOS JER츼RQUICOS */
    --bg-dark: #0a0a1a;
    --bg-darker: #050510;
    --bg-card: rgba(10, 10, 26, 0.85);
    --bg-card-light: rgba(20, 20, 40, 0.7);
    
    /* TEXTO */
    --text-light: #e0f0ff;
    --text-dim: #a0b0c0;
    --text-bright: #ffffff;
    
    /* BORDES Y SOMBRAS */
    --border-glow: 1px solid rgba(0, 255, 255, 0.4);
    --shadow-neon: 0 0 10px rgba(0, 255, 255, 0.3);
    --shadow-neon-green: 0 0 10px rgba(57, 255, 20, 0.3);
    --shadow-neon-pink: 0 0 10px rgba(255, 0, 255, 0.3);
    
    /* ESPACIADO */
    --space-xs: 4px;
    --space-sm: 8px;
    --space-md: 16px;
    --space-lg: 24px;
    --space-xl: 32px;
    
    /* TIPOGRAF칈A */
    --font-mono: 'Consolas', 'Monaco', 'Courier New', monospace;
    --font-sans: 'Segoe UI', 'Roboto', sans-serif;
}

/* RESET Y BASE */
.leccion-ingles-rutina * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

.leccion-ingles-rutina {
    background: var(--bg-dark);
    color: var(--text-light);
    font-family: var(--font-sans);
    line-height: 1.6;
    position: relative;
    min-height: 100vh;
    overflow-x: hidden;
}

/* FONDO CYBERPUNK */
.leccion-ingles-rutina::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        linear-gradient(45deg, rgba(0, 255, 255, 0.03) 0%, transparent 50%),
        linear-gradient(135deg, rgba(255, 0, 255, 0.03) 0%, transparent 50%),
        radial-gradient(circle at 20% 80%, rgba(57, 255, 20, 0.02) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(255, 255, 0, 0.02) 0%, transparent 50%);
    pointer-events: none;
    z-index: -1;
}

/* GRID LINES SUTILES */
.leccion-ingles-rutina::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
        linear-gradient(rgba(0, 255, 255, 0.02) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 255, 255, 0.02) 1px, transparent 1px);
    background-size: 40px 40px;
    pointer-events: none;
    z-index: -1;
}

/* ========================================
   CABECERA CYBERPUNK
   ======================================== */
.leccion-header.cyberpunk {
    background: linear-gradient(135deg, rgba(0, 10, 20, 0.9), rgba(10, 0, 20, 0.9));
    border-bottom: 2px solid var(--neon-cyan);
    padding: var(--space-lg);
    margin-bottom: var(--space-xl);
    position: relative;
    overflow: hidden;
}

.leccion-header.cyberpunk::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, 
        transparent, 
        var(--neon-cyan),
        var(--neon-pink),
        var(--neon-green),
        transparent);
    animation: scanline 3s linear infinite;
}

@keyframes scanline {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

.header-top {
    display: flex;
    gap: var(--space-sm);
    flex-wrap: wrap;
    margin-bottom: var(--space-md);
}

.materia-badge, .nivel-badge, .tiempo-badge, .xp-badge {
    padding: var(--space-xs) var(--space-sm);
    border-radius: 4px;
    font-size: 0.8rem;
    font-weight: bold;
    display: inline-flex;
    align-items: center;
    gap: 4px;
}

.materia-badge {
    background: rgba(0, 255, 255, 0.1);
    border: 1px solid var(--neon-cyan);
    color: var(--neon-cyan);
}

.nivel-badge {
    background: rgba(57, 255, 20, 0.1);
    border: 1px solid var(--neon-green);
    color: var(--neon-green);
}

.tiempo-badge {
    background: rgba(255, 255, 0, 0.1);
    border: 1px solid var(--neon-yellow);
    color: var(--neon-yellow);
}

.xp-badge {
    background: rgba(255, 0, 255, 0.1);
    border: 1px solid var(--neon-pink);
    color: var(--neon-pink);
}

.titulo-leccion-neon {
    font-size: 2.5rem;
    margin-bottom: var(--space-sm);
    color: var(--text-bright);
    text-align: center;
    text-shadow: 
        0 0 5px var(--neon-cyan),
        0 0 10px var(--neon-cyan);
    animation: glow 3s ease-in-out infinite alternate;
}

@keyframes glow {
    0% { text-shadow: 0 0 5px var(--neon-cyan), 0 0 10px var(--neon-cyan); }
    100% { text-shadow: 0 0 10px var(--neon-cyan), 0 0 20px var(--neon-cyan), 0 0 30px var(--neon-cyan); }
}

.neon-icon {
    color: var(--neon-pink);
    margin-right: var(--space-sm);
}

.leccion-subtitulo {
    text-align: center;
    color: var(--text-dim);
    font-size: 1.1rem;
    margin-bottom: var(--space-lg);
}

.header-stats {
    display: flex;
    justify-content: center;
    gap: var(--space-xl);
    margin-top: var(--space-lg);
}

.stat-item {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.stat-icon {
    font-size: 1.5rem;
    color: var(--neon-yellow);
}

.stat-info {
    display: flex;
    flex-direction: column;
}

.stat-value {
    font-size: 1.8rem;
    font-weight: bold;
    color: var(--text-bright);
    line-height: 1;
}

.stat-label {
    font-size: 0.8rem;
    color: var(--text-dim);
}

/* ========================================
   OBJETIVOS CYBERPUNK
   ======================================== */
.objetivos-cyberpunk {
    margin-bottom: var(--space-xl);
}

.seccion-titulo-neon {
    font-size: 1.8rem;
    margin-bottom: var(--space-lg);
    color: var(--text-bright);
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.neon-bullet {
    color: var(--neon-green);
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

.objetivos-grid-cyberpunk {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-lg);
}

.objetivo-card-neon {
    background: var(--bg-card);
    border: 1px solid rgba(0, 255, 255, 0.2);
    border-radius: 8px;
    padding: var(--space-lg);
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.objetivo-card-neon::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, var(--neon-cyan), var(--neon-green));
}

.objetivo-card-neon:hover {
    transform: translateY(-5px);
    border-color: var(--neon-cyan);
    box-shadow: var(--shadow-neon);
}

.objetivo-card-neon[data-completed="true"] {
    border-color: var(--neon-green);
}

.objetivo-card-neon[data-completed="true"]::before {
    background: var(--neon-green);
}

.obj-icon-neon {
    font-size: 2.5rem;
    margin-bottom: var(--space-md);
}

.obj-content h4 {
    font-size: 1.2rem;
    margin-bottom: var(--space-sm);
    color: var(--text-bright);
}

.obj-content p {
    color: var(--text-dim);
    font-size: 0.95rem;
    margin-bottom: var(--space-md);
}

.obj-progress {
    height: 6px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 3px;
    overflow: hidden;
}

.progress-bar {
    height: 100%;
    background: linear-gradient(90deg, var(--neon-cyan), var(--neon-green));
    border-radius: 3px;
    transition: width 1s ease;
}

/* ========================================
   SIMULADOR DE RUTINA
   ======================================== */
.simulador-rutina {
    background: var(--bg-card);
    border-radius: 12px;
    padding: var(--space-xl);
    margin-bottom: var(--space-xl);
    border: var(--border-glow);
}

.simulador-controls-cyberpunk {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    padding: var(--space-lg);
    margin-bottom: var(--space-lg);
    border: 1px solid rgba(255, 0, 255, 0.2);
}

.controls-header {
    margin-bottom: var(--space-lg);
    text-align: center;
}

.controls-header h3 {
    color: var(--neon-pink);
    margin-bottom: var(--space-sm);
    font-size: 1.3rem;
}

.controls-header p {
    color: var(--text-dim);
}

.controls-panel {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-lg);
    margin-bottom: var(--space-lg);
}

.control-group {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.control-label {
    color: var(--text-light);
    font-weight: 500;
    display: flex;
    align-items: center;
    gap: var(--space-xs);
}

.label-icon {
    color: var(--neon-yellow);
}

.cyber-select {
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid rgba(0, 255, 255, 0.3);
    color: var(--text-light);
    padding: var(--space-sm) var(--space-md);
    border-radius: 4px;
    font-family: var(--font-mono);
    font-size: 0.95rem;
    cursor: pointer;
    transition: all 0.2s;
}

.cyber-select:focus {
    outline: none;
    border-color: var(--neon-cyan);
    box-shadow: 0 0 10px rgba(0, 255, 255, 0.2);
}

.accent-buttons {
    display: flex;
    gap: var(--space-sm);
}

.accent-btn {
    flex: 1;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: var(--text-light);
    padding: var(--space-sm);
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s;
    font-family: var(--font-mono);
    font-size: 0.9rem;
}

.accent-btn:hover {
    background: rgba(0, 255, 255, 0.1);
    border-color: var(--neon-cyan);
}

.accent-btn.active {
    background: rgba(0, 255, 255, 0.2);
    border-color: var(--neon-cyan);
    color: var(--neon-cyan);
    font-weight: bold;
}

.speed-control {
    display: flex;
    align-items: center;
    gap: var(--space-md);
}

.speed-control input[type="range"] {
    flex: 1;
    height: 6px;
    -webkit-appearance: none;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 3px;
    outline: none;
}

.speed-control input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: var(--neon-cyan);
    cursor: pointer;
    border: 2px solid var(--bg-dark);
}

.speed-value {
    min-width: 40px;
    text-align: center;
    font-family: var(--font-mono);
    color: var(--neon-green);
}

.controls-actions {
    display: flex;
    gap: var(--space-md);
    justify-content: center;
    flex-wrap: wrap;
}

.btn-cyberpunk {
    padding: var(--space-md) var(--space-lg);
    border: none;
    border-radius: 6px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    font-size: 1rem;
    min-width: 180px;
    justify-content: center;
}

.btn-cyberpunk.primary {
    background: linear-gradient(45deg, var(--neon-cyan), #0077aa);
    color: white;
}

.btn-cyberpunk.secondary {
    background: linear-gradient(45deg, var(--neon-green), #2a7a2a);
    color: white;
}

.btn-cyberpunk.accent {
    background: linear-gradient(45deg, var(--neon-pink), #aa00aa);
    color: white;
}

.btn-cyberpunk:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.btn-icon {
    font-size: 1.2rem;
}

/* ACTIVIDADES */
.actividades-container {
    margin-bottom: var(--space-xl);
}

.subseccion-titulo {
    font-size: 1.3rem;
    margin-bottom: var(--space-lg);
    color: var(--text-bright);
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.actividades-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    gap: var(--space-md);
}

.activity-card {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(57, 255, 20, 0.2);
    border-radius: 8px;
    padding: var(--space-md);
    display: flex;
    align-items: center;
    gap: var(--space-md);
    cursor: move;
    transition: all 0.2s;
    position: relative;
}

.activity-card:hover {
    border-color: var(--neon-green);
    background: rgba(57, 255, 20, 0.05);
    transform: translateX(5px);
}

.activity-card.dragging {
    opacity: 0.5;
    border-color: var(--neon-cyan);
}

.activity-icon {
    font-size: 2rem;
    flex-shrink: 0;
}

.activity-info {
    flex: 1;
}

.activity-name {
    font-weight: bold;
    color: var(--text-light);
    margin-bottom: 2px;
}

.activity-time {
    font-size: 0.85rem;
    color: var(--neon-yellow);
    font-family: var(--font-mono);
}

.activity-speak {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(0, 255, 255, 0.3);
    color: var(--neon-cyan);
    width: 32px;
    height: 32px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s;
    flex-shrink: 0;
}

.activity-speak:hover {
    background: rgba(0, 255, 255, 0.2);
    transform: scale(1.1);
}

.activity-delete {
    position: absolute;
    top: -8px;
    right: -8px;
    background: rgba(255, 0, 0, 0.8);
    color: white;
    border: none;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    font-size: 12px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.2s;
}

.activity-card:hover .activity-delete {
    opacity: 1;
}

/* TIMELINE */
.timeline-container {
    margin-bottom: var(--space-xl);
}

.timeline-cyberpunk {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    padding: var(--space-md);
    border: 1px solid rgba(255, 0, 255, 0.2);
    margin-bottom: var(--space-lg);
    min-height: 200px;
}

.timeline-slot {
    display: flex;
    align-items: center;
    margin-bottom: var(--space-sm);
    padding: var(--space-sm);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.timeline-slot:last-child {
    border-bottom: none;
}

.slot-time {
    width: 80px;
    font-family: var(--font-mono);
    color: var(--neon-yellow);
    font-size: 0.95rem;
    flex-shrink: 0;
}

.slot-content {
    flex: 1;
    min-height: 60px;
    display: flex;
    gap: var(--space-sm);
    flex-wrap: wrap;
    padding: var(--space-sm);
    background: rgba(0, 0, 0, 0.2);
    border-radius: 4px;
    border: 1px dashed rgba(255, 255, 255, 0.1);
    transition: all 0.2s;
}

.slot-content.drag-over {
    background: rgba(0, 255, 255, 0.1);
    border-color: var(--neon-cyan);
    border-style: solid;
}

.timeline-stats {
    display: flex;
    justify-content: space-around;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    padding: var(--space-lg);
    border: 1px solid rgba(0, 255, 255, 0.2);
}

.timeline-stats .stat {
    text-align: center;
}

.timeline-stats .stat-value {
    font-size: 2rem;
    font-weight: bold;
    color: var(--neon-green);
    line-height: 1;
}

.timeline-stats .stat-label {
    font-size: 0.9rem;
    color: var(--text-dim);
    margin-top: 4px;
}

/* RESUMEN DE RUTINA */
.resumen-rutina {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    padding: var(--space-lg);
    border: 1px solid rgba(57, 255, 20, 0.2);
}

.resumen-empty {
    text-align: center;
    color: var(--text-dim);
    padding: var(--space-xl);
}

.resumen-activities {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
    margin-bottom: var(--space-lg);
}

.resumen-item {
    display: flex;
    align-items: center;
    gap: var(--space-md);
    padding: var(--space-sm);
    background: rgba(0, 0, 0, 0.2);
    border-radius: 4px;
    border-left: 3px solid var(--neon-cyan);
}

.resumen-time {
    font-family: var(--font-mono);
    color: var(--neon-yellow);
    min-width: 100px;
}

.resumen-activity {
    flex: 1;
    color: var(--text-light);
}

.resumen-speak {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(0, 255, 255, 0.3);
    color: var(--neon-cyan);
    width: 32px;
    height: 32px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s;
    flex-shrink: 0;
}

.resumen-speak:hover {
    background: rgba(0, 255, 255, 0.2);
    transform: scale(1.1);
}

.resumen-analysis {
    background: rgba(0, 0, 0, 0.4);
    border-radius: 8px;
    padding: var(--space-lg);
    border: 1px solid rgba(255, 255, 0, 0.2);
}

.resumen-analysis h4 {
    color: var(--neon-yellow);
    margin-bottom: var(--space-sm);
}

.resumen-analysis p {
    color: var(--text-light);
    margin-bottom: var(--space-md);
}

.analysis-stats {
    display: flex;
    gap: var(--space-md);
    flex-wrap: wrap;
}

.stat-tag {
    background: rgba(255, 255, 0, 0.1);
    border: 1px solid rgba(255, 255, 0, 0.3);
    color: var(--neon-yellow);
    padding: var(--space-xs) var(--space-sm);
    border-radius: 20px;
    font-size: 0.85rem;
}

/* ========================================
   RELOJ INTERACTIVO CYBERPUNK
   ======================================== */
.reloj-cyberpunk-section {
    background: var(--bg-card);
    border-radius: 12px;
    padding: var(--space-xl);
    margin-bottom: var(--space-xl);
    border: var(--border-glow);
}

.reloj-container-completo {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-xl);
    margin-bottom: var(--space-xl);
}

@media (max-width: 1024px) {
    .reloj-container-completo {
        grid-template-columns: 1fr;
    }
}

.reloj-controls-panel {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    padding: var(--space-lg);
    border: 1px solid rgba(255, 0, 255, 0.2);
}

.controls-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--space-lg);
    margin-bottom: var(--space-lg);
}

.control-item {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.control-item label {
    color: var(--text-light);
    font-weight: 500;
}

.mode-buttons, .difficulty-buttons {
    display: flex;
    gap: var(--space-sm);
}

.mode-btn, .difficulty-btn {
    flex: 1;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: var(--text-light);
    padding: var(--space-sm);
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s;
    text-align: center;
    font-size: 0.9rem;
}

.mode-btn:hover, .difficulty-btn:hover {
    background: rgba(0, 255, 255, 0.1);
    border-color: var(--neon-cyan);
}

.mode-btn.active, .difficulty-btn.active {
    background: rgba(0, 255, 255, 0.2);
    border-color: var(--neon-cyan);
    color: var(--neon-cyan);
    font-weight: bold;
}

.speech-controls {
    display: flex;
    gap: var(--space-sm);
}

.speech-btn {
    flex: 1;
    background: linear-gradient(45deg, rgba(0, 255, 255, 0.1), rgba(57, 255, 20, 0.1));
    border: 1px solid rgba(0, 255, 255, 0.3);
    color: var(--text-light);
    padding: var(--space-sm);
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-xs);
}

.speech-btn:hover {
    background: linear-gradient(45deg, rgba(0, 255, 255, 0.2), rgba(57, 255, 20, 0.2));
    transform: translateY(-2px);
}

.current-time-display {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 8px;
    padding: var(--space-lg);
    text-align: center;
    border: 2px solid var(--neon-cyan);
    margin-top: var(--space-lg);
}

.current-digital {
    font-family: var(--font-mono);
    font-size: 3rem;
    color: var(--neon-cyan);
    margin-bottom: var(--space-sm);
    font-weight: bold;
    text-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
}

.current-verbal {
    font-size: 1.5rem;
    color: var(--text-light);
    margin-bottom: var(--space-xs);
}

.current-phonetic {
    font-family: var(--font-mono);
    color: var(--neon-yellow);
    font-size: 0.9rem;
}

/* RELOJ ANAL칍GICO */
.reloj-analogico-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-lg);
}

.reloj-analogico-cyberpunk {
    width: 300px;
    height: 300px;
    background: rgba(0, 0, 0, 0.5);
    border-radius: 50%;
    border: 3px solid var(--neon-cyan);
    box-shadow: 
        inset 0 0 20px rgba(0, 255, 255, 0.2),
        0 0 30px rgba(0, 255, 255, 0.3);
    position: relative;
    padding: 20px;
}

@media (max-width: 768px) {
    .reloj-analogico-cyberpunk {
        width: 250px;
        height: 250px;
    }
}

.analog-clock-svg {
    width: 100%;
    height: 100%;
}

.reloj-analogico-controls {
    display: flex;
    gap: var(--space-md);
    flex-wrap: wrap;
    justify-content: center;
}

.btn-reloj {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 0, 0.3);
    color: var(--neon-yellow);
    padding: var(--space-sm) var(--space-md);
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    gap: var(--space-xs);
}

.btn-reloj:hover {
    background: rgba(255, 255, 0, 0.1);
    transform: translateY(-2px);
}

/* GRID DE TIEMPOS */
.reloj-digital-container {
    grid-column: 1 / -1;
}

.time-filter-buttons {
    display: flex;
    gap: var(--space-sm);
    margin-bottom: var(--space-lg);
    flex-wrap: wrap;
}

.filter-btn {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: var(--text-light);
    padding: var(--space-sm) var(--space-md);
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s;
}

.filter-btn:hover {
    background: rgba(0, 255, 255, 0.1);
    border-color: var(--neon-cyan);
}

.filter-btn.active {
    background: rgba(0, 255, 255, 0.2);
    border-color: var(--neon-cyan);
    color: var(--neon-cyan);
    font-weight: bold;
}

.time-grid-cyberpunk {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    gap: var(--space-md);
    margin-bottom: var(--space-lg);
}

.time-btn-neon {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(57, 255, 20, 0.2);
    color: var(--text-light);
    padding: var(--space-md);
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-xs);
    text-align: center;
    position: relative;
    overflow: hidden;
}

.time-btn-neon::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(45deg, transparent, rgba(57, 255, 20, 0.1), transparent);
    transform: translateX(-100%);
    transition: transform 0.6s;
}

.time-btn-neon:hover::before {
    transform: translateX(100%);
}

.time-btn-neon:hover {
    border-color: var(--neon-green);
    transform: translateY(-3px);
    box-shadow: var(--shadow-neon-green);
}

.time-btn-neon.playing {
    border-color: var(--neon-cyan);
    background: rgba(0, 255, 255, 0.1);
    animation: pulse-border 0.5s;
}

.time-btn-neon.active {
    border-color: var(--neon-pink);
    background: rgba(255, 0, 255, 0.1);
}

.time-btn-neon.highlighted {
    border-color: var(--neon-yellow);
    background: rgba(255, 255, 0, 0.1);
    animation: highlight 1s infinite alternate;
}

@keyframes pulse-border {
    0%, 100% { border-width: 1px; }
    50% { border-width: 3px; }
}

@keyframes highlight {
    0% { box-shadow: 0 0 5px var(--neon-yellow); }
    100% { box-shadow: 0 0 20px var(--neon-yellow); }
}

.time-digital {
    font-family: var(--font-mono);
    font-size: 1.2rem;
    font-weight: bold;
    color: var(--neon-cyan);
}

.time-phrase {
    font-size: 0.9rem;
    color: var(--text-light);
    line-height: 1.2;
}

.time-difficulty {
    font-size: 0.7rem;
    padding: 2px 6px;
    border-radius: 10px;
    margin-top: 4px;
}

.time-btn-neon[data-difficulty="easy"] .time-difficulty {
    background: rgba(57, 255, 20, 0.2);
    color: var(--neon-green);
    border: 1px solid rgba(57, 255, 20, 0.3);
}

.time-btn-neon[data-difficulty="medium"] .time-difficulty {
    background: rgba(255, 255, 0, 0.2);
    color: var(--neon-yellow);
    border: 1px solid rgba(255, 255, 0, 0.3);
}

.time-btn-neon[data-difficulty="hard"] .time-difficulty {
    background: rgba(255, 107, 107, 0.2);
    color: #ff6b6b;
    border: 1px solid rgba(255, 107, 107, 0.3);
}

.time-stats {
    display: flex;
    justify-content: space-around;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    padding: var(--space-lg);
    border: 1px solid rgba(0, 255, 255, 0.2);
}

/* PANEL DE PRONUNCIACI칍N */
.pronunciation-panel {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 12px;
    padding: var(--space-xl);
    border: 1px solid rgba(255, 0, 255, 0.2);
    margin-top: var(--space-xl);
}

.pronunciation-container {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: var(--space-xl);
}

@media (max-width: 1024px) {
    .pronunciation-container {
        grid-template-columns: 1fr;
    }
}

.pronunciation-visualizer {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 8px;
    padding: var(--space-lg);
    border: 1px solid rgba(0, 255, 255, 0.2);
}

.waveform {
    display: flex;
    align-items: flex-end;
    justify-content: space-around;
    height: 100px;
    margin-bottom: var(--space-lg);
    gap: 2px;
}

.wave-bar {
    flex: 1;
    background: linear-gradient(to top, var(--neon-cyan), var(--neon-green));
    border-radius: 2px;
    animation: wave 1.5s ease-in-out infinite;
    animation-delay: var(--delay);
}

@keyframes wave {
    0%, 100% { transform: scaleY(0.5); }
    50% { transform: scaleY(1); }
}

.phonetic-display {
    font-family: var(--font-mono);
    color: var(--neon-yellow);
    text-align: center;
    padding: var(--space-md);
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
    border: 1px solid rgba(255, 255, 0, 0.2);
}

.pronunciation-controls {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
}

.control-row {
    display: flex;
    align-items: center;
    gap: var(--space-md);
}

.control-row label {
    min-width: 60px;
    color: var(--text-light);
    font-weight: 500;
}

.control-row input[type="range"] {
    flex: 1;
    height: 6px;
    -webkit-appearance: none;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 3px;
    outline: none;
}

.control-row input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: var(--neon-pink);
    cursor: pointer;
    border: 2px solid var(--bg-dark);
}

.value-display {
    min-width: 40px;
    text-align: center;
    font-family: var(--font-mono);
    color: var(--neon-green);
}

.pronunciation-buttons {
    display: flex;
    gap: var(--space-md);
}

.btn-pronunciation {
    flex: 1;
    padding: var(--space-md);
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
    font-weight: bold;
}

.btn-pronunciation.primary {
    background: linear-gradient(45deg, var(--neon-pink), #aa00aa);
    color: white;
}

.btn-pronunciation {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(0, 255, 255, 0.3);
    color: var(--text-light);
}

.btn-pronunciation:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.pronunciation-feedback {
    grid-column: 1 / -1;
    background: rgba(255, 255, 0, 0.05);
    border-radius: 8px;
    padding: var(--space-lg);
    border: 1px solid rgba(255, 255, 0, 0.2);
    margin-top: var(--space-lg);
}

.feedback-success, .feedback-initial {
    display: flex;
    align-items: flex-start;
    gap: var(--space-md);
}

.feedback-icon {
    font-size: 1.5rem;
    flex-shrink: 0;
}

.feedback-text {
    flex: 1;
    color: var(--text-light);
}

.feedback-text h4 {
    color: var(--neon-yellow);
    margin-bottom: var(--space-sm);
}

.feedback-tips {
    margin-top: var(--space-md);
    padding-top: var(--space-md);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.feedback-tips p {
    font-weight: bold;
    color: var(--neon-yellow);
    margin-bottom: var(--space-sm);
}

.feedback-tips ul {
    margin-left: var(--space-lg);
    color: var(--text-dim);
}

.feedback-tips li {
    margin-bottom: var(--space-xs);
}

/* ========================================
   GRAM츼TICA - PREPOSICIONES
   ======================================== */
.grammar-cyberpunk-section {
    background: var(--bg-card);
    border-radius: 12px;
    padding: var(--space-xl);
    margin-bottom: var(--space-xl);
    border: var(--border-glow);
}

.grammar-container {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: var(--space-xl);
}

@media (max-width: 1024px) {
    .grammar-container {
        grid-template-columns: 1fr;
    }
}

.grammar-explanations {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
}

.grammar-card {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid;
    transition: all 0.3s;
}

.grammar-card[data-preposition="at"] {
    border-color: rgba(0, 255, 255, 0.3);
}

.grammar-card[data-preposition="in"] {
    border-color: rgba(57, 255, 20, 0.3);
}

.grammar-card[data-preposition="on"] {
    border-color: rgba(255, 0, 255, 0.3);
}

.grammar-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
}

.grammar-header {
    display: flex;
    align-items: center;
    gap: var(--space-md);
    padding: var(--space-lg);
    background: rgba(0, 0, 0, 0.5);
}

.preposition-neon {
    font-size: 2.5rem;
    font-weight: bold;
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
}

.grammar-card[data-preposition="at"] .preposition-neon {
    background: rgba(0, 255, 255, 0.2);
    color: var(--neon-cyan);
    border: 2px solid var(--neon-cyan);
}

.grammar-card[data-preposition="in"] .preposition-neon {
    background: rgba(57, 255, 20, 0.2);
    color: var(--neon-green);
    border: 2px solid var(--neon-green);
}

.grammar-card[data-preposition="on"] .preposition-neon {
    background: rgba(255, 0, 255, 0.2);
    color: var(--neon-pink);
    border: 2px solid var(--neon-pink);
}

.preposition-desc {
    font-size: 1.2rem;
    font-weight: bold;
    color: var(--text-light);
}

.grammar-content {
    padding: var(--space-lg);
}

.grammar-content h4 {
    color: var(--neon-yellow);
    margin-bottom: var(--space-md);
    font-size: 1.1rem;
}

.grammar-content p {
    color: var(--text-light);
    margin-bottom: var(--space-lg);
}

.examples-grid {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
}

.example-item {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 6px;
    padding: var(--space-md);
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: var(--space-md);
    border-left: 3px solid;
}

.grammar-card[data-preposition="at"] .example-item {
    border-left-color: var(--neon-cyan);
}

.grammar-card[data-preposition="in"] .example-item {
    border-left-color: var(--neon-green);
}

.grammar-card[data-preposition="on"] .example-item {
    border-left-color: var(--neon-pink);
}

.example-english {
    flex: 1;
    color: var(--text-light);
}

.example-english strong {
    color: var(--neon-yellow);
}

.example-translation {
    font-size: 0.9rem;
    color: var(--text-dim);
    font-style: italic;
    min-width: 150px;
}

.example-speak {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(0, 255, 255, 0.3);
    color: var(--neon-cyan);
    width: 32px;
    height: 32px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s;
    flex-shrink: 0;
}

.example-speak:hover {
    background: rgba(0, 255, 255, 0.2);
    transform: scale(1.1);
}

/* PR츼CTICA DE GRAM츼TICA */
.grammar-practice {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    padding: var(--space-lg);
    border: 1px solid rgba(255, 255, 0, 0.2);
}

.practice-exercises {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
    margin-bottom: var(--space-lg);
}

.grammar-exercise {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    padding: var(--space-lg);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.exercise-header {
    display: flex;
    align-items: baseline;
    gap: var(--space-sm);
    margin-bottom: var(--space-md);
}

.exercise-number {
    color: var(--neon-cyan);
    font-weight: bold;
    font-family: var(--font-mono);
}

.exercise-sentence {
    color: var(--text-light);
    font-size: 1.1rem;
}

.exercise-options {
    display: flex;
    gap: var(--space-md);
    margin-bottom: var(--space-md);
}

.option-btn {
    flex: 1;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(0, 255, 255, 0.3);
    color: var(--text-light);
    padding: var(--space-sm) var(--space-md);
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s;
    font-size: 1rem;
}

.option-btn:hover:not(:disabled) {
    background: rgba(0, 255, 255, 0.2);
    transform: translateY(-2px);
}

.option-btn.correct {
    background: rgba(57, 255, 20, 0.2);
    border-color: var(--neon-green);
    color: var(--neon-green);
}

.option-btn.incorrect {
    background: rgba(255, 0, 0, 0.2);
    border-color: #ff0000;
    color: #ff6b6b;
}

.option-btn:disabled {
    opacity: 0.7;
    cursor: not-allowed;
}

.exercise-feedback {
    min-height: 40px;
}

.feedback-correct, .feedback-incorrect {
    display: flex;
    align-items: flex-start;
    gap: var(--space-sm);
    padding: var(--space-sm);
    border-radius: 4px;
}

.feedback-correct {
    background: rgba(57, 255, 20, 0.1);
    border: 1px solid rgba(57, 255, 20, 0.2);
}

.feedback-incorrect {
    background: rgba(255, 0, 0, 0.1);
    border: 1px solid rgba(255, 0, 0, 0.2);
}

.feedback-icon {
    font-size: 1.2rem;
    flex-shrink: 0;
}

.feedback-text {
    color: var(--text-light);
    font-size: 0.95rem;
}

.practice-results {
    background: rgba(0, 0, 0, 0.4);
    border-radius: 8px;
    padding: var(--space-lg);
    border: 1px solid rgba(0, 255, 255, 0.2);
}

.results-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-lg);
}

.results-header h4 {
    color: var(--neon-yellow);
    margin: 0;
}

.btn-results {
    background: linear-gradient(45deg, var(--neon-cyan), #0077aa);
    color: white;
    border: none;
    padding: var(--space-sm) var(--space-md);
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.2s;
}

.btn-results:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.results-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-md);
}

.result-item {
    text-align: center;
}

.result-label {
    display: block;
    color: var(--text-dim);
    font-size: 0.9rem;
    margin-bottom: 4px;
}

.result-value {
    font-size: 1.8rem;
    font-weight: bold;
    color: var(--neon-green);
    line-height: 1;
}

/* ========================================
   ERRORES COMUNES - INGL칄S
   ======================================== */
.errores-ingles-section {
    background: var(--bg-card);
    border-radius: 12px;
    padding: var(--space-xl);
    margin-bottom: var(--space-xl);
    border: 1px solid rgba(255, 0, 0, 0.3);
}

.errores-columna-ingles {
    display: flex;
    flex-direction: column;
    gap: var(--space-xl);
}

.error-completo-ingles {
    background: rgba(255, 0, 0, 0.05);
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid rgba(255, 0, 0, 0.2);
}

.error-header-completo {
    display: flex;
    align-items: center;
    gap: var(--space-md);
    padding: var(--space-lg);
    background: rgba(255, 0, 0, 0.1);
    border-bottom: 1px solid rgba(255, 0, 0, 0.2);
}

.error-icon {
    font-size: 2rem;
    color: #ff0000;
    flex-shrink: 0;
}

.error-titulo h3 {
    color: #ff6b6b;
    margin-bottom: 4px;
    font-size: 1.3rem;
}

.error-subtitulo {
    color: var(--text-dim);
    font-size: 0.95rem;
}

.error-contenido-completo {
    padding: var(--space-lg);
}

.error-explicacion {
    margin-bottom: var(--space-lg);
}

.error-explicacion h4 {
    color: var(--neon-yellow);
    margin-bottom: var(--space-sm);
    font-size: 1.1rem;
}

.error-explicacion p {
    color: var(--text-light);
    line-height: 1.6;
}

.error-comparacion {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-lg);
    margin-bottom: var(--space-lg);
}

@media (max-width: 768px) {
    .error-comparacion {
        grid-template-columns: 1fr;
    }
}

.comparacion-item {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid;
}

.comparacion-item.incorrecto {
    border-color: rgba(255, 0, 0, 0.3);
}

.comparacion-item.correcto {
    border-color: rgba(57, 255, 20, 0.3);
}

.comparacion-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-md);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.comparacion-badge {
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: bold;
}

.incorrecto-badge {
    background: rgba(255, 0, 0, 0.2);
    color: #ff6b6b;
    border: 1px solid rgba(255, 0, 0, 0.3);
}

.correcto-badge {
    background: rgba(57, 255, 20, 0.2);
    color: var(--neon-green);
    border: 1px solid rgba(57, 255, 20, 0.3);
}

.comparacion-desc {
    color: var(--text-dim);
    font-size: 0.9rem;
}

.comparacion-codigo {
    padding: var(--space-md);
    background: #0a0a1a;
    font-family: var(--font-mono);
    font-size: 0.9rem;
    overflow-x: auto;
}

.comparacion-codigo pre {
    margin: 0;
    white-space: pre-wrap;
    word-wrap: break-word;
}

.comparacion-codigo code {
    color: var(--text-light);
    line-height: 1.4;
}

.comparacion-codigo strong {
    color: var(--neon-yellow);
}

.comparacion-problema, .comparacion-solucion {
    padding: var(--space-md);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.comparacion-problema p, .comparacion-solucion p {
    color: var(--text-light);
    font-size: 0.95rem;
    margin: 0;
}

.comparacion-problema strong {
    color: #ff6b6b;
}

.comparacion-solucion strong {
    color: var(--neon-green);
}

.error-consejo {
    background: rgba(255, 255, 0, 0.05);
    border-radius: 6px;
    padding: var(--space-lg);
    border: 1px solid rgba(255, 255, 0, 0.2);
}

.error-consejo p {
    color: var(--text-light);
    margin: 0;
}

.error-consejo strong {
    color: var(--neon-yellow);
}

/* ========================================
   DESAF칈O: CREA TU PROPIA RUTINA
   ======================================== */
.desafio-rutina-section {
    background: var(--bg-card);
    border-radius: 12px;
    padding: var(--space-xl);
    margin-bottom: var(--space-xl);
    border: 1px solid rgba(157, 0, 255, 0.3);
}

.desafio-container-completo {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-xl);
}

@media (max-width: 1024px) {
    .desafio-container-completo {
        grid-template-columns: 1fr;
    }
}

.desafio-instructions {
    grid-column: 1 / -1;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    padding: var(--space-lg);
    border: 1px solid rgba(0, 255, 255, 0.2);
    margin-bottom: var(--space-lg);
}

.desafio-instructions h4 {
    color: var(--neon-cyan);
    margin-bottom: var(--space-md);
    font-size: 1.2rem;
}

.desafio-instructions ol {
    color: var(--text-light);
    margin-left: var(--space-lg);
    margin-bottom: var(--space-lg);
}

.desafio-instructions li {
    margin-bottom: var(--space-sm);
    line-height: 1.5;
}

.challenge-rubric {
    background: rgba(0, 0, 0, 0.4);
    border-radius: 8px;
    padding: var(--space-lg);
    border: 1px solid rgba(255, 0, 255, 0.2);
}

.challenge-rubric h5 {
    color: var(--neon-pink);
    margin-bottom: var(--space-md);
    font-size: 1.1rem;
}

.rubric-grid {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.rubric-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-sm);
    background: rgba(255, 255, 255, 0.05);
    border-radius: 4px;
}

.rubric-item.total {
    background: rgba(0, 255, 255, 0.1);
    border: 1px solid rgba(0, 255, 255, 0.3);
    margin-top: var(--space-sm);
}

.rubric-criteria {
    color: var(--text-light);
    font-weight: 500;
}

.rubric-score {
    font-family: var(--font-mono);
    font-weight: bold;
    color: var(--neon-yellow);
}

.desafio-editor {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
}

.cyber-textarea {
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid rgba(0, 255, 255, 0.3);
    color: var(--text-light);
    padding: var(--space-md);
    border-radius: 6px;
    font-family: var(--font-sans);
    font-size: 1rem;
    line-height: 1.5;
    resize: vertical;
    min-height: 200px;
}

.cyber-textarea:focus {
    outline: none;
    border-color: var(--neon-cyan);
    box-shadow: 0 0 15px rgba(0, 255, 255, 0.2);
}

.editor-tools {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: var(--space-md);
}

.word-count {
    font-family: var(--font-mono);
    color: var(--neon-green);
    font-size: 0.9rem;
}

.editor-buttons {
    display: flex;
    gap: var(--space-sm);
    flex-wrap: wrap;
}

.btn-editor {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(0, 255, 255, 0.3);
    color: var(--text-light);
    padding: var(--space-sm) var(--space-md);
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    font-size: 0.9rem;
}

.btn-editor:hover {
    background: rgba(0, 255, 255, 0.2);
    transform: translateY(-2px);
}

.btn-editor.primary {
    background: linear-gradient(45deg, var(--neon-purple), #6a00ff);
    color: white;
    font-weight: bold;
}

.editor-feedback {
    background: rgba(255, 255, 0, 0.05);
    border-radius: 8px;
    padding: var(--space-lg);
    border: 1px solid rgba(255, 255, 0, 0.2);
}

.feedback-detailed {
    color: var(--text-light);
}

.feedback-detailed h4 {
    color: var(--neon-yellow);
    margin-bottom: var(--space-md);
    font-size: 1.1rem;
}

.feedback-detailed pre {
    white-space: pre-wrap;
    font-family: var(--font-mono);
    background: rgba(0, 0, 0, 0.3);
    padding: var(--space-md);
    border-radius: 4px;
    margin-bottom: var(--space-md);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.suggestions {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 6px;
    padding: var(--space-md);
    border-left: 3px solid var(--neon-cyan);
}

.suggestions p {
    font-weight: bold;
    color: var(--neon-cyan);
    margin-bottom: var(--space-sm);
}

.suggestions ul {
    margin-left: var(--space-lg);
    color: var(--text-dim);
}

.suggestions li {
    margin-bottom: var(--space-xs);
}

.desafio-recording {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
}

.recording-container {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    padding: var(--space-lg);
    border: 1px solid rgba(255, 0, 255, 0.2);
}

.recording-visualizer {
    height: 100px;
    background: rgba(0, 0, 0, 0.5);
    border-radius: 4px;
    margin-bottom: var(--space-lg);
    border: 1px solid rgba(0, 255, 255, 0.2);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-dim);
}

.recording-visualizer canvas {
    width: 100%;
    height: 100%;
    border-radius: 4px;
}

.recording-controls {
    display: flex;
    justify-content: center;
    gap: var(--space-md);
    margin-bottom: var(--space-lg);
}

.btn-record, .btn-stop, .btn-play {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    border: none;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
}

.btn-record {
    background: linear-gradient(45deg, #ff0000, #cc0000);
    color: white;
}

.btn-stop {
    background: linear-gradient(45deg, #666666, #333333);
    color: white;
}

.btn-play {
    background: linear-gradient(45deg, #00aa00, #008800);
    color: white;
}

.btn-record:hover:not(:disabled), .btn-stop:hover:not(:disabled), .btn-play:hover:not(:disabled) {
    transform: scale(1.1);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.btn-record:disabled, .btn-stop:disabled, .btn-play:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.recording-stats {
    display: flex;
    justify-content: space-around;
}

.recording-stats .stat {
    text-align: center;
}

.recording-stats .stat-value {
    font-family: var(--font-mono);
    font-size: 1.5rem;
    color: var(--neon-green);
    line-height: 1;
}

.recording-stats .stat-label {
    font-size: 0.9rem;
    color: var(--text-dim);
    margin-top: 4px;
}

.recording-feedback {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 6px;
    padding: var(--space-md);
    border-left: 3px solid var(--neon-pink);
    color: var(--text-light);
    font-size: 0.95rem;
}

/* ========================================
   SIMULADOR DE CONVERSACI칍N
   ======================================== */
.conversacion-simulator {
    background: var(--bg-card);
    border-radius: 12px;
    padding: var(--space-xl);
    margin-bottom: var(--space-xl);
    border: 1px solid rgba(57, 255, 20, 0.3);
}

.simulator-conversacion-container {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: var(--space-xl);
}

@media (max-width: 1024px) {
    .simulator-conversacion-container {
        grid-template-columns: 1fr;
    }
}

.chat-interface {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid rgba(0, 255, 255, 0.2);
    display: flex;
    flex-direction: column;
    height: 600px;
}

.chat-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-md) var(--space-lg);
    background: rgba(0, 0, 0, 0.5);
    border-bottom: 1px solid rgba(0, 255, 255, 0.2);
}

.chat-partner {
    display: flex;
    align-items: center;
    gap: var(--space-md);
}

.partner-avatar {
    font-size: 2rem;
}

.partner-info h4 {
    color: var(--neon-green);
    margin-bottom: 2px;
    font-size: 1.2rem;
}

.partner-info p {
    color: var(--text-dim);
    font-size: 0.85rem;
}

.chat-stats {
    display: flex;
    gap: var(--space-lg);
}

.stat-small {
    text-align: center;
}

.stat-small .stat-value {
    display: block;
    font-family: var(--font-mono);
    color: var(--neon-yellow);
    font-weight: bold;
    font-size: 1.1rem;
}

.stat-small .stat-label {
    font-size: 0.8rem;
    color: var(--text-dim);
}

.chat-messages {
    flex: 1;
    padding: var(--space-lg);
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
}

.message {
    display: flex;
    align-items: flex-start;
    gap: var(--space-md);
    max-width: 80%;
}

.message.bot {
    align-self: flex-start;
}

.message.user {
    align-self: flex-end;
    flex-direction: row-reverse;
}

.message-content {
    background: rgba(0, 0, 0, 0.4);
    border-radius: 12px;
    padding: var(--space-md) var(--space-lg);
    position: relative;
}

.message.bot .message-content {
    background: rgba(0, 255, 255, 0.1);
    border: 1px solid rgba(0, 255, 255, 0.2);
}

.message.user .message-content {
    background: rgba(57, 255, 20, 0.1);
    border: 1px solid rgba(57, 255, 20, 0.2);
}

.message-text {
    color: var(--text-light);
    margin-bottom: 4px;
}

.message-time {
    font-size: 0.75rem;
    color: var(--text-dim);
    text-align: right;
}

.message-speak {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 0, 0.3);
    color: var(--neon-yellow);
    width: 32px;
    height: 32px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s;
    flex-shrink: 0;
    align-self: center;
}

.message-speak:hover {
    background: rgba(255, 255, 0, 0.2);
    transform: scale(1.1);
}

.chat-input-area {
    border-top: 1px solid rgba(0, 255, 255, 0.2);
    padding: var(--space-lg);
    background: rgba(0, 0, 0, 0.5);
}

.quick-responses {
    display: flex;
    gap: var(--space-sm);
    margin-bottom: var(--space-md);
    flex-wrap: wrap;
}

.quick-response {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: var(--text-light);
    padding: var(--space-xs) var(--space-sm);
    border-radius: 20px;
    cursor: pointer;
    font-size: 0.85rem;
    transition: all 0.2s;
}

.quick-response:hover {
    background: rgba(0, 255, 255, 0.1);
    border-color: var(--neon-cyan);
    transform: translateY(-2px);
}

.input-container {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
}

.input-container textarea {
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid rgba(0, 255, 255, 0.3);
    color: var(--text-light);
    padding: var(--space-md);
    border-radius: 6px;
    font-family: var(--font-sans);
    font-size: 1rem;
    resize: none;
    min-height: 60px;
}

.input-container textarea:focus {
    outline: none;
    border-color: var(--neon-cyan);
    box-shadow: 0 0 10px rgba(0, 255, 255, 0.2);
}

.input-actions {
    display: flex;
    gap: var(--space-sm);
    justify-content: flex-end;
}

.btn-send, .btn-speak-input, .btn-hint {
    padding: var(--space-sm) var(--space-md);
    border: none;
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    font-weight: bold;
}

.btn-send {
    background: linear-gradient(45deg, var(--neon-green), #2a7a2a);
    color: white;
}

.btn-speak-input {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(0, 255, 255, 0.3);
    color: var(--text-light);
}

.btn-hint {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 0, 0.3);
    color: var(--neon-yellow);
}

.btn-send:hover, .btn-speak-input:hover, .btn-hint:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.conversation-tips {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
}

.tips-grid {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
}

.tip-card {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    padding: var(--space-md);
    border: 1px solid rgba(255, 0, 255, 0.2);
    display: flex;
    align-items: center;
    gap: var(--space-md);
}

.tip-icon {
    font-size: 1.5rem;
    color: var(--neon-pink);
    flex-shrink: 0;
}

.tip-content h5 {
    color: var(--text-light);
    margin-bottom: 4px;
    font-size: 1rem;
}

.tip-content p {
    color: var(--text-dim);
    font-size: 0.9rem;
}

.conversation-stats {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    padding: var(--space-lg);
    border: 1px solid rgba(0, 255, 255, 0.2);
}

.conversation-stats h5 {
    color: var(--neon-cyan);
    margin-bottom: var(--space-md);
    font-size: 1.1rem;
}

.stats-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-lg);
    width: 100%;
}

/* ========================================
   AUTOEVALUACI칍N Y RECURSOS
   ======================================== */
.evaluacion-recursos-ingles {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: var(--space-xl);
    margin-bottom: var(--space-xl);
}

@media (max-width: 1024px) {
    .evaluacion-recursos-ingles {
        grid-template-columns: 1fr;
    }
}

.autoevaluacion-ingles {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 12px;
    padding: var(--space-xl);
    border: 1px solid rgba(255, 255, 0, 0.3);
}

.eval-grid-ingles {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-lg);
    margin-bottom: var(--space-lg);
}

@media (max-width: 768px) {
    .eval-grid-ingles {
        grid-template-columns: 1fr;
    }
}

.eval-item-ingles {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    padding: var(--space-lg);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.eval-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-md);
}

.eval-label {
    color: var(--text-light);
    font-weight: 500;
}

.eval-value {
    font-family: var(--font-mono);
    color: var(--neon-yellow);
    font-weight: bold;
    font-size: 1.1rem;
}

.eval-slider-ingles {
    width: 100%;
    height: 8px;
    -webkit-appearance: none;
    background: linear-gradient(90deg, #ff0000, #ffff00, #00ff00);
    border-radius: 4px;
    outline: none;
    margin-bottom: var(--space-sm);
}

.eval-slider-ingles::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: var(--neon-cyan);
    cursor: pointer;
    border: 3px solid var(--bg-dark);
    box-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
}

.eval-labels {
    display: flex;
    justify-content: space-between;
    color: var(--text-dim);
    font-size: 0.85rem;
}

.eval-comments {
    margin-bottom: var(--space-lg);
}

.eval-comments h4 {
    color: var(--neon-cyan);
    margin-bottom: var(--space-md);
    font-size: 1.1rem;
}

.reflection-textarea {
    width: 100%;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(0, 255, 255, 0.3);
    color: var(--text-light);
    padding: var(--space-md);
    border-radius: 6px;
    font-family: var(--font-sans);
    font-size: 1rem;
    resize: vertical;
    min-height: 80px;
}

.reflection-textarea:focus {
    outline: none;
    border-color: var(--neon-cyan);
    box-shadow: 0 0 10px rgba(0, 255, 255, 0.2);
}

.eval-actions {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: var(--space-md);
}

.btn-guardar-eval-ingles {
    background: linear-gradient(45deg, var(--neon-purple), #6a00ff);
    color: white;
    border: none;
    padding: var(--space-md) var(--space-lg);
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    transition: all 0.3s;
}

.btn-guardar-eval-ingles:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.eval-promedio-ingles {
    font-family: var(--font-mono);
    font-size: 1.2rem;
    color: var(--text-light);
}

.eval-promedio-ingles strong {
    color: var(--neon-yellow);
}

.eval-promedio-ingles span {
    color: var(--neon-green);
    font-weight: bold;
    font-size: 1.3rem;
}

.recursos-ingles {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 12px;
    padding: var(--space-xl);
    border: 1px solid rgba(57, 255, 20, 0.3);
}

.recursos-grid-ingles {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
    margin-bottom: var(--space-lg);
}

.recurso-card-ingles {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    padding: var(--space-md);
    display: flex;
    align-items: center;
    gap: var(--space-md);
    text-decoration: none;
    border: 1px solid rgba(0, 255, 255, 0.1);
    transition: all 0.3s;
}

.recurso-card-ingles:hover {
    border-color: var(--neon-cyan);
    transform: translateX(5px);
    background: rgba(0, 255, 255, 0.05);
}

.recurso-icon {
    font-size: 1.8rem;
    color: var(--neon-green);
    flex-shrink: 0;
}

.recurso-content h4 {
    color: var(--text-light);
    margin-bottom: 4px;
    font-size: 1rem;
}

.recurso-content p {
    color: var(--text-dim);
    font-size: 0.9rem;
}

.recursos-offline {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    padding: var(--space-lg);
    border: 1px solid rgba(255, 255, 0, 0.2);
}

.recursos-offline h4 {
    color: var(--neon-yellow);
    margin-bottom: var(--space-md);
    font-size: 1.1rem;
}

.offline-tips {
    color: var(--text-light);
}

.offline-tips p {
    margin-bottom: var(--space-sm);
    line-height: 1.5;
}

.offline-tips strong {
    color: var(--neon-cyan);
}

/* ========================================
   NOTIFICACIONES CYBERPUNK
   ======================================== */
.cyber-notification {
    position: fixed;
    top: 20px;
    right: 20px;
    min-width: 300px;
    max-width: 400px;
    background: var(--bg-card);
    border-radius: 8px;
    padding: var(--space-md) var(--space-lg);
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--space-md);
    z-index: 10000;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
    animation: slideInRight 0.3s ease;
    border-left: 4px solid;
}

@keyframes slideInRight {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

.notification-success {
    border-left-color: var(--neon-green);
    background: rgba(57, 255, 20, 0.1);
}

.notification-warning {
    border-left-color: var(--neon-yellow);
    background: rgba(255, 255, 0, 0.1);
}

.notification-error {
    border-left-color: #ff0000;
    background: rgba(255, 0, 0, 0.1);
}

.notification-info {
    border-left-color: var(--neon-cyan);
    background: rgba(0, 255, 255, 0.1);
}

.notification-content {
    display: flex;
    align-items: center;
    gap: var(--space-md);
    flex: 1;
}

.notification-icon {
    font-size: 1.2rem;
    flex-shrink: 0;
}

.notification-text {
    color: var(--text-light);
    font-size: 0.95rem;
    line-height: 1.4;
}

.notification-close {
    background: none;
    border: none;
    color: var(--text-dim);
    font-size: 1.5rem;
    cursor: pointer;
    padding: 0;
    line-height: 1;
    transition: color 0.2s;
    flex-shrink: 0;
}

.notification-close:hover {
    color: var(--text-light);
}

/* ========================================
   SCROLLBAR PERSONALIZADA
   ======================================== */
::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 5px;
}

::-webkit-scrollbar-thumb {
    background: rgba(0, 255, 255, 0.3);
    border-radius: 5px;
    border: 2px solid transparent;
    background-clip: padding-box;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 255, 255, 0.5);
    border: 0;
}

/* ========================================
   RESPONSIVE
   ======================================== */
@media (max-width: 768px) {
    .leccion-header.cyberpunk {
        padding: var(--space-md);
    }
    
    .titulo-leccion-neon {
        font-size: 1.8rem;
    }
    
    .header-stats {
        flex-direction: column;
        gap: var(--space-md);
        align-items: center;
    }
    
    .seccion-titulo-neon {
        font-size: 1.5rem;
    }
    
    .controls-actions {
        flex-direction: column;
    }
    
    .btn-cyberpunk {
        width: 100%;
    }
    
    .reloj-container-completo,
    .grammar-container,
    .desafio-container-completo,
    .simulator-conversacion-container,
    .evaluacion-recursos-ingles {
        grid-template-columns: 1fr;
    }
    
    .error-comparacion {
        grid-template-columns: 1fr;
    }
    
    .time-grid-cyberpunk {
        grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
    }
    
    .actividades-grid {
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    }
}

@media (max-width: 480px) {
    .time-grid-cyberpunk {
        grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
    }
    
    .actividades-grid {
        grid-template-columns: 1fr;
    }
    
    .time-filter-buttons,
    .mode-buttons,
    .difficulty-buttons {
        flex-direction: column;
    }
}

/* ========================================
   ANIMACIONES ADICIONALES
   ======================================== */
@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

.fade-in {
    animation: fadeIn 0.5s ease;
}

@keyframes slideUp {
    from { transform: translateY(20px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

.slide-up {
    animation: slideUp 0.5s ease;
}

/* ========================================
   ESTADOS ESPECIALES
   ======================================== */
.speaking {
    animation: speaking-pulse 0.5s infinite alternate;
}

@keyframes speaking-pulse {
    from { box-shadow: 0 0 5px var(--neon-cyan); }
    to { box-shadow: 0 0 20px var(--neon-cyan); }
}

.playing {
    position: relative;
    z-index: 1;
}

.playing::after {
    content: '';
    position: absolute;
    top: -5px;
    left: -5px;
    right: -5px;
    bottom: -5px;
    border: 2px solid var(--neon-cyan);
    border-radius: inherit;
    animation: playing-ring 1s ease-in-out infinite;
    pointer-events: none;
}

@keyframes playing-ring {
    0% { opacity: 1; transform: scale(1); }
    100% { opacity: 0; transform: scale(1.1); }
}

/* ========================================
   UTILIDADES
   ======================================== */
.text-center { text-align: center; }
.text-right { text-align: right; }
.text-left { text-align: left; }

.mt-1 { margin-top: var(--space-xs); }
.mt-2 { margin-top: var(--space-sm); }
.mt-3 { margin-top: var(--space-md); }
.mt-4 { margin-top: var(--space-lg); }
.mt-5 { margin-top: var(--space-xl); }

.mb-1 { margin-bottom: var(--space-xs); }
.mb-2 { margin-bottom: var(--space-sm); }
.mb-3 { margin-bottom: var(--space-md); }
.mb-4 { margin-bottom: var(--space-lg); }
.mb-5 { margin-bottom: var(--space-xl); }

.hidden { display: none; }
.visible { display: block; }

/* ========================================
   IMPRESI칍N
   ======================================== */
@media print {
    .leccion-ingles-rutina {
        background: white;
        color: black;
    }
    
    .btn-cyberpunk, .btn-editor, .btn-reloj, .btn-pronunciation,
    .activity-speak, .example-speak, .resumen-speak, .message-speak,
        .notification-close, .notification {
        display: none !important;
    }
    
    .time-btn-neon, .activity-card, .grammar-card, .error-completo-ingles {
        break-inside: avoid;
        border: 1px solid #ccc !important;
        box-shadow: none !important;
    }
}

/* Clases espec칤ficas adicionales si se necesitan */
.food-type-main { border-left: 3px solid var(--neon-green); }
.food-type-drinks { border-left: 3px solid var(--neon-cyan); }
.food-type-side { border-left: 3px solid var(--neon-yellow); }
.food-type-dessert { border-left: 3px solid var(--neon-pink); }

/* Override espec칤fico para dashboard: dos columnas 50/50 sin espacio */
.profile-summary .stats-grid {
    grid-template-columns: 50% 50% !important;
    gap: 0 !important;
    padding: 0 !important;
    width: 100% !important;
}
.profile-summary .stat-card {
    width: 100% !important;
    margin: 0 !important;
}

/* ========================================
   RESPONSIVE GLOBAL BASELINE
   ======================================== */
img, video, canvas, svg { max-width: 100%; height: auto; }
.container, .dashboard-container, .ranking-container, .login-container, .register-container, .lesson-container { width: 100%; }
.header nav { flex-wrap: wrap; }
.header nav .btn { flex: 1 1 auto; }

/* Floating ranking panel: desktop fijo, m칩vil en flujo */
.ranking-floating {
    position: fixed;
    top: calc(var(--header-height, 64px) + 16px);
    right: 16px;
    width: 340px;
    max-height: calc(100vh - var(--header-height, 64px) - 32px);
    overflow: hidden;
    z-index: 1100;
}
.ranking-floating .ranking-scroll-area { max-height: 60vh; overflow: auto; }

@media (max-width: 1024px) {
    .ranking-floating {
        position: static;
        width: 100%;
        max-height: none;
        margin: 12px 0;
    }
    .ranking-floating .ranking-scroll-area { max-height: none; }
}

/* Tables: horizontal scroll en pantallas estrechas */
.ranking-container, .dashboard-container, .profile-summary { overflow-x: auto; }
.ranking-table, .table { width: 100%; border-collapse: collapse; }

/* Header/nav apilado en pantallas peque침as */
@media (max-width: 768px) {
    .header nav { gap: 8px; width: 100%; }
    .header nav .btn { flex: 1 1 48%; }
    .header .hamburger {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 40px;
        height: 40px;
        border: 2px solid var(--neon-cyan);
        color: var(--neon-cyan);
        background: rgba(0,0,0,0.4);
        border-radius: 8px;
        margin-right: 8px;
    }
    .header nav { display: none; flex-direction: column; }
    .header.nav-open nav { display: flex; }
}
/* Extender hamburguesa y toggle a tablets */
@media (max-width: 1024px) {
    .header .hamburger {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 40px;
        height: 40px;
        border: 2px solid var(--neon-cyan);
        color: var(--neon-cyan);
        background: rgba(0,0,0,0.4);
        border-radius: 8px;
        margin-right: 8px;
    }
    .header nav { display: none; flex-direction: column; gap: 8px; width: 100%; }
    .header.nav-open nav { display: flex; }
}
@media (max-width: 480px) {
    .header nav .btn { flex: 1 1 100%; }
    .profile-name { font-size: 26px; }
    .progress-info { font-size: 16px; }
    .btn { padding: 8px 10px; font-size: 11px; }
}

/* Reducir tipograf칤as en la p치gina de inicio */
.home .header h1 { font-size: clamp(18px, 3.8vw, 26px); }
.home .intro h2 { font-size: clamp(18px, 4.2vw, 22px); }
.home .intro p { font-size: clamp(12px, 3.2vw, 15px); line-height: 1.45; }
.home .features h3 { font-size: clamp(16px, 3.5vw, 20px); }
.home .features li { font-size: clamp(12px, 3.2vw, 15px); }
.home .btn { font-size: 11px; padding: 6px 10px; }
.dashboard .auth-title { font-size: clamp(20px, 4.5vw, 28px); }
.dashboard .profile-name { font-size: clamp(18px, 4vw, 24px); }
.dashboard .stat-card { padding: 14px; }
.dashboard .big-stat { font-size: clamp(22px, 6vw, 34px); }
.dashboard .leccion-name { font-size: 13px; }
@media (max-width: 480px) {
    .dashboard .leccion-name { font-size: 8px; }
}
.dashboard .leccion-item { padding: 14px; gap: 12px; }
.dashboard .ranking-table th, .dashboard .ranking-table td { font-size: 12px; padding: 6px; }
.dashboard .btn { font-size: 11px; padding: 6px 10px; }
.dashboard .badges-section h3 { font-size: clamp(14px, 3.6vw, 18px); }
.dashboard .leccion-actions a,
.dashboard .leccion-actions .btn {
    font-size: 9px !important;
    line-height: 1 !important;
    padding: 5px 8px !important;
    letter-spacing: 0.5px;
}
@media (max-width: 480px) {
    .dashboard .leccion-actions a,
    .dashboard .leccion-actions .btn {
        font-size: 8px !important;
        padding: 4px 7px !important;
    }
}

/* Botones de formularios a ancho completo en m칩vil */
@media (max-width: 480px) {
    .auth-form .btn, .auth-form .btn-full-width { width: 100% !important; }
}

/* Scroll-to-top ajustes en m칩vil */
@media (max-width: 480px) {
    .scroll-to-top-btn { bottom: 18px !important; right: 18px !important; width: 44px; height: 44px; }
}

@media (max-width: 600px) {
    :root { --base-font-size: 17px; --padding-base: 18px; }
    h1 { font-size: clamp(22px, 7vw, 30px); }
    h2 { font-size: clamp(18px, 6.5vw, 26px); }
    h3 { font-size: clamp(16px, 5.5vw, 22px); }
    h4 { font-size: clamp(14px, 5vw, 18px); }
    .auth-title { font-size: clamp(22px, 8vw, 34px); letter-spacing: 1px; }
    .header h1 { font-size: clamp(16px, 5vw, 20px); }
    .profile-name { font-size: clamp(20px, 6vw, 28px); }
    .intro h2 { font-size: clamp(20px, 7vw, 28px); }
    .dashboard-container, .login-container, .register-container, .ranking-container { padding: 14px; border-width: 3px; }
    .stats-grid { grid-template-columns: 1fr; gap: 14px; padding: 10px; }
    .stat-card { min-height: 220px; padding: 26px; }
    .ranking-table th, .ranking-table td { padding: 10px; }
}

@media (max-width: 480px) {
    :root { --base-font-size: 15px; --padding-base: 14px; }
    .auth-form-wrapper { width: 96%; padding: 20px; }
    .lessons-modal .modal-content { width: 96%; padding: 12px; }
    .header nav .btn { font-size: 12px; }
}

/* VARIABLES PRINCIPALES */
:root {
    --neon-cyan: #00FFFF;
    --neon-green: #39FF14;
    --neon-pink: #FF00FF;
    --neon-yellow: #FFFF00;
    --neon-orange: #FF6B00;
    --neon-blue: #00BFFF;
    --bg-dark: #0a0a1a;
    --bg-darker: #050510;
    --bg-card: rgba(10, 10, 26, 0.85);
    --text-light: #e0f0ff;
    --text-dim: #a0b0c0;
    --border-glow: 1px solid rgba(0, 255, 255, 0.4);
    --shadow-neon: 0 0 10px rgba(0, 255, 255, 0.3);
}

/* RESET Y BASE */
.leccion-ingles-food * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

.leccion-ingles-food {
    background: var(--bg-dark);
    color: var(--text-light);
    font-family: 'Segoe UI', 'Roboto', 'Consolas', monospace;
    padding: 1.5rem;
    max-width: 1400px;
    margin: 0 auto;
    line-height: 1.6;
    position: relative;
    min-height: 100vh;
}

/* FONDO CYBERPUNK SUTIL */
.leccion-ingles-food::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        radial-gradient(circle at 20% 30%, rgba(0, 255, 255, 0.05) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(57, 255, 20, 0.03) 0%, transparent 50%),
        linear-gradient(45deg, rgba(255, 0, 255, 0.02) 25%, transparent 25%),
        linear-gradient(-45deg, rgba(0, 255, 255, 0.02) 25%, transparent 25%);
    background-size: 100px 100px;
    pointer-events: none;
    z-index: 0;
}

/* CABECERA */
.leccion-header.compact {
    background: rgba(0, 0, 0, 0.6);
    padding: 1.5rem;
    border-radius: 12px;
    border: var(--border-glow);
    margin-bottom: 2rem;
    position: relative;
    overflow: hidden;
}

.leccion-header.compact::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, var(--neon-green), var(--neon-cyan), var(--neon-pink));
}

.header-top {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-bottom: 1rem;
    flex-wrap: wrap;
}

.materia-badge, .nivel-badge, .tiempo-badge {
    padding: 0.5rem 1rem;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: bold;
}

.materia-badge {
    background: rgba(255, 0, 255, 0.2);
    border: 1px solid var(--neon-pink);
    color: var(--neon-pink);
}

.nivel-badge {
    background: rgba(57, 255, 20, 0.2);
    border: 1px solid var(--neon-green);
    color: var(--neon-green);
}

.tiempo-badge {
    background: rgba(0, 255, 255, 0.2);
    border: 1px solid var(--neon-cyan);
    color: var(--neon-cyan);
}

.titulo-leccion {
    text-align: center;
    font-size: 2.2rem;
    color: var(--neon-green);
    margin-bottom: 0.5rem;
    text-shadow: 0 0 10px rgba(57, 255, 20, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 1rem;
}

.neon-icon {
    font-size: 2.5rem;
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

.leccion-subtitulo {
    text-align: center;
    color: var(--text-dim);
    font-size: 1.1rem;
    margin-bottom: 1rem;
}

/* PANEL OBJETIVOS */
.objetivos-rapidos {
    margin-bottom: 2rem;
}

.objetivos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
}

.objetivo-card {
    background: var(--bg-card);
    padding: 1.5rem;
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    display: flex;
    align-items: center;
    gap: 1rem;
    transition: all 0.3s;
}

.objetivo-card:hover {
    transform: translateY(-5px);
    border-color: var(--neon-cyan);
    box-shadow: 0 5px 15px rgba(0, 255, 255, 0.2);
}

.obj-icon {
    font-size: 2rem;
    flex-shrink: 0;
}

.obj-text h4 {
    color: var(--neon-green);
    margin-bottom: 0.5rem;
    font-size: 1.1rem;
}

.obj-text p {
    color: var(--text-dim);
    font-size: 0.9rem;
}

/* SECCIONES */
.seccion-titulo {
    color: var(--neon-cyan);
    font-size: 1.5rem;
    margin: 2rem 0 1.5rem 0;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding-bottom: 0.5rem;
    border-bottom: 2px solid rgba(0, 255, 255, 0.3);
}

.neon-bullet {
    color: var(--neon-pink);
    font-size: 1.2rem;
    animation: glow 2s infinite;
}

@keyframes glow {
    0%, 100% { text-shadow: 0 0 5px currentColor; }
    50% { text-shadow: 0 0 10px currentColor, 0 0 15px currentColor; }
}

/* VOCABULARIO */
.categorias-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.categoria-card {
    background: rgba(0, 0, 0, 0.4);
    border-radius: 10px;
    overflow: hidden;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.categoria-header {
    background: rgba(0, 0, 0, 0.6);
    padding: 1rem 1.5rem;
    display: flex;
    align-items: center;
    gap: 1rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.categoria-icon {
    font-size: 1.5rem;
}

.categoria-header h3 {
    color: var(--text-light);
    font-size: 1.2rem;
    flex: 1;
}

.count-badge {
    background: rgba(57, 255, 20, 0.2);
    color: var(--neon-green);
    padding: 0.25rem 0.75rem;
    border-radius: 12px;
    font-size: 0.85rem;
    font-weight: bold;
}

.vocabulario-lista {
    padding: 1rem;
}

.palabra-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 0.75rem;
    margin-bottom: 0.5rem;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 8px;
    transition: all 0.2s;
}

.palabra-item:hover {
    background: rgba(255, 255, 255, 0.1);
    transform: translateX(5px);
}

.palabra-item .emoji {
    font-size: 1.5rem;
    flex-shrink: 0;
}

.palabra-info {
    flex: 1;
}

.palabra-info .en {
    color: var(--text-light);
    font-weight: bold;
    display: block;
}

.palabra-info .es {
    color: var(--text-dim);
    font-size: 0.9rem;
    display: block;
}

.palabra-info .precio {
    color: var(--neon-green);
    font-weight: bold;
    font-size: 0.9rem;
}

.btn-speak {
    background: rgba(0, 255, 255, 0.1);
    border: 1px solid rgba(0, 255, 255, 0.3);
    color: var(--neon-cyan);
    width: 40px;
    height: 40px;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
    flex-shrink: 0;
}

.btn-speak:hover {
    background: rgba(0, 255, 255, 0.2);
    transform: scale(1.1);
}

/* SIMULADOR DE RESTAURANTE */
.simulador-container-completo {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 12px;
    border: var(--border-glow);
    overflow: hidden;
    margin-bottom: 2rem;
}

.simulador-controls {
    background: rgba(0, 0, 0, 0.7);
    padding: 1.5rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.controls-header {
    text-align: center;
    margin-bottom: 1.5rem;
}

.controls-header h3 {
    color: var(--neon-pink);
    font-size: 1.3rem;
    margin-bottom: 0.5rem;
}

.controls-header p {
    color: var(--text-dim);
}

.controls-buttons {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
}

.btn-control {
    padding: 1rem 1.5rem;
    border: none;
    border-radius: 8px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 1rem;
    min-width: 200px;
    justify-content: center;
}

.btn-order {
    background: linear-gradient(45deg, var(--neon-green), #2E7D32);
    color: white;
}

.btn-clear {
    background: linear-gradient(45deg, #FF6B6B, #C62828);
    color: white;
}

.btn-calculate {
    background: linear-gradient(45deg, var(--neon-yellow), #F57C00);
    color: white;
}

.btn-control:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.simulador-interfaz {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 1.5rem;
    padding: 1.5rem;
}

@media (max-width: 1024px) {
    .simulador-interfaz {
        grid-template-columns: 1fr;
    }
}

.menu-interactivo {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 10px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.menu-header {
    margin-bottom: 1.5rem;
}

.menu-header h3 {
    color: var(--neon-cyan);
    margin-bottom: 1rem;
}

.menu-filters {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
}

.filter-btn {
    padding: 0.5rem 1rem;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: var(--text-light);
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s;
    font-size: 0.9rem;
}

.filter-btn:hover, .filter-btn.active {
    background: rgba(0, 255, 255, 0.2);
    border-color: var(--neon-cyan);
    color: var(--neon-cyan);
}

.menu-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 1rem;
}

.menu-item-card {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 8px;
    padding: 1rem;
    display: flex;
    align-items: center;
    gap: 1rem;
    transition: all 0.3s;
    border: 1px solid transparent;
}

.menu-item-card:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: var(--neon-green);
    transform: translateY(-3px);
}

.menu-item-emoji {
    font-size: 2rem;
    flex-shrink: 0;
}

.menu-item-info {
    flex: 1;
}

.menu-item-info strong {
    color: var(--text-light);
    display: block;
    margin-bottom: 0.25rem;
}

.menu-item-es {
    color: var(--text-dim);
    font-size: 0.85rem;
    display: block;
    margin-bottom: 0.25rem;
}

.menu-item-price {
    color: var(--neon-green);
    font-weight: bold;
    font-size: 1.1rem;
}

.btn-add-order {
    background: rgba(57, 255, 20, 0.1);
    border: 1px solid var(--neon-green);
    color: var(--neon-green);
    padding: 0.5rem 1rem;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.2s;
    flex-shrink: 0;
}

.btn-add-order:hover {
    background: rgba(57, 255, 20, 0.2);
    transform: scale(1.05);
}

/* PEDIDO ACTUAL */
.pedido-actual {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 10px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
    display: flex;
    flex-direction: column;
}

.pedido-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.pedido-header h3 {
    color: var(--neon-pink);
}

.pedido-stats {
    background: rgba(255, 0, 255, 0.1);
    color: var(--neon-pink);
    padding: 0.5rem 1rem;
    border-radius: 20px;
    font-weight: bold;
}

.pedido-items {
    flex: 1;
    margin-bottom: 1.5rem;
    max-height: 300px;
    overflow-y: auto;
}

.empty-order {
    text-align: center;
    padding: 2rem;
    color: var(--text-dim);
}

.empty-order p:first-child {
    font-size: 1.1rem;
    margin-bottom: 0.5rem;
}

.order-item {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 8px;
    padding: 1rem;
    margin-bottom: 0.75rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.order-item-header {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 0.5rem;
}

.order-item-emoji {
    font-size: 1.2rem;
}

.order-item-name {
    color: var(--text-light);
    font-weight: bold;
    flex: 1;
}

.btn-remove {
    background: rgba(255, 107, 107, 0.1);
    border: 1px solid rgba(255, 107, 107, 0.3);
    color: #FF6B6B;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    line-height: 1;
}

.order-item-details {
    display: flex;
    justify-content: space-between;
    font-size: 0.9rem;
    color: var(--text-dim);
}

.pedido-total {
    background: rgba(0, 0, 0, 0.5);
    padding: 1rem;
    border-radius: 8px;
    border: 1px solid rgba(57, 255, 20, 0.2);
}

.total-line {
    display: flex;
    justify-content: space-between;
    margin-bottom: 0.5rem;
    color: var(--text-light);
}

.total-line.total {
    font-size: 1.2rem;
    font-weight: bold;
    color: var(--neon-green);
    margin-top: 0.5rem;
    padding-top: 0.5rem;
    border-top: 1px solid rgba(57, 255, 20, 0.3);
}

/* DI츼LOGO INTERACTIVO */
.dialogo-interactivo {
    grid-column: 1 / -1;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 10px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
    margin-top: 1rem;
}

.dialogo-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
}

.dialogo-header h3 {
    color: var(--neon-blue);
}

.btn-voice {
    background: rgba(0, 255, 255, 0.1);
    border: 1px solid rgba(0, 255, 255, 0.3);
    color: var(--neon-cyan);
    padding: 0.5rem 1rem;
    border-radius: 6px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.2s;
}

.btn-voice:hover {
    background: rgba(0, 255, 255, 0.2);
}

.dialogo-mensajes {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 8px;
    padding: 1rem;
    height: 200px;
    overflow-y: auto;
    margin-bottom: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.mensaje {
    margin-bottom: 1rem;
    padding: 0.75rem 1rem;
    border-radius: 8px;
    max-width: 80%;
}

.mensaje.system {
    background: rgba(255, 193, 7, 0.1);
    border-left: 3px solid var(--neon-yellow);
    margin-left: auto;
    margin-right: auto;
    text-align: center;
    max-width: 90%;
}

.mensaje.waiter {
    background: rgba(0, 255, 255, 0.1);
    border-left: 3px solid var(--neon-cyan);
    margin-right: auto;
}

.mensaje.you {
    background: rgba(57, 255, 20, 0.1);
    border-left: 3px solid var(--neon-green);
    margin-left: auto;
}

.mensaje .sender {
    font-weight: bold;
    display: block;
    margin-bottom: 0.25rem;
    font-size: 0.9rem;
}

.mensaje.system .sender {
    color: var(--neon-yellow);
}

.mensaje.waiter .sender {
    color: var(--neon-cyan);
}

.mensaje.you .sender {
    color: var(--neon-green);
}

.dialogo-input {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 1.5rem;
}

@media (max-width: 768px) {
    .dialogo-input {
        grid-template-columns: 1fr;
    }
}

.phrases-quick h4 {
    color: var(--text-light);
    margin-bottom: 1rem;
}

.phrase-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
}

.phrase-btn {
    background: rgba(255, 0, 255, 0.1);
    border: 1px solid rgba(255, 0, 255, 0.3);
    color: var(--text-light);
    padding: 0.5rem 1rem;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s;
    font-size: 0.9rem;
}

.phrase-btn:hover {
    background: rgba(255, 0, 255, 0.2);
    transform: translateY(-2px);
}


.custom-input {
    display: flex;
    gap: 0.5rem;
}

.custom-input input {
    flex: 1;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: var(--text-light);
    padding: 0.75rem 1rem;
    border-radius: 6px;
    font-size: 1rem;
}

.custom-input input:focus {
    outline: none;
    border-color: var(--neon-cyan);
}

.custom-input button {
    background: rgba(57, 255, 20, 0.1);
    border: 1px solid var(--neon-green);
    color: var(--neon-green);
    padding: 0.75rem 1.5rem;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.2s;
    white-space: nowrap;
}

.custom-input button:hover {
    background: rgba(57, 255, 20, 0.2);
    transform: scale(1.05);
}

/* FRASES CLAVE */
.frases-container {
    margin-bottom: 2rem;
}

.frases-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.frase-card {
    background: rgba(0, 0, 0, 0.4);
    border-radius: 10px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.3s;
}

.frase-card:hover {
    border-color: var(--neon-cyan);
    transform: translateY(-5px);
}

.frase-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.frase-icon {
    font-size: 1.5rem;
}

.frase-header h4 {
    color: var(--neon-pink);
    font-size: 1.2rem;
}

.frase-en {
    color: var(--text-light);
    font-size: 1.1rem;
    margin-bottom: 0.5rem;
    font-style: italic;
}

.frase-es {
    color: var(--text-dim);
    margin-bottom: 1rem;
    font-size: 0.9rem;
}

.frase-grammar {
    background: rgba(255, 193, 7, 0.1);
    border-left: 3px solid var(--neon-yellow);
    padding: 0.75rem;
    margin-bottom: 1rem;
    border-radius: 0 4px 4px 0;
    font-size: 0.9rem;
}

.btn-practice {
    width: 100%;
    background: rgba(0, 255, 255, 0.1);
    border: 1px solid rgba(0, 255, 255, 0.3);
    color: var(--neon-cyan);
    padding: 0.75rem;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.2s;
}

.btn-practice:hover {
    background: rgba(0, 255, 255, 0.2);
    transform: translateY(-2px);
}

.dialogo-completo {
    background: rgba(0, 0, 0, 0.4);
    border-radius: 10px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.dialogo-completo h4 {
    color: var(--neon-green);
    margin-bottom: 1.5rem;
    font-size: 1.2rem;
}

.dialogo-lines {
    margin-bottom: 1.5rem;
}

.dialogo-line {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1rem;
    padding: 0.75rem;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 6px;
}

.dialogo-line.waiter {
    border-left: 3px solid var(--neon-cyan);
}

.dialogo-line.customer {
    border-left: 3px solid var(--neon-green);
}

.dialogo-line .speaker {
    font-weight: bold;
    min-width: 70px;
}

.dialogo-line.waiter .speaker {
    color: var(--neon-cyan);
}

.dialogo-line.customer .speaker {
    color: var(--neon-green);
}

.dialogo-line .text {
    flex: 1;
    color: var(--text-light);
}

.btn-play {
    background: rgba(57, 255, 20, 0.1);
    border: 1px solid var(--neon-green);
    color: var(--neon-green);
    width: 32px;
    height: 32px;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
    flex-shrink: 0;
}

.btn-play:hover {
    background: rgba(57, 255, 20, 0.2);
    transform: scale(1.1);
}

.btn-play-all {
    width: 100%;
    background: rgba(255, 0, 255, 0.1);
    border: 1px solid var(--neon-pink);
    color: var(--neon-pink);
    padding: 1rem;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    font-size: 1.1rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    transition: all 0.2s;
}

.btn-play-all:hover {
    background: rgba(255, 0, 255, 0.2);
    transform: translateY(-3px);
}

/* QUIZ */
.quiz-container-completo {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 12px;
    border: var(--border-glow);
    overflow: hidden;
    margin-bottom: 2rem;
}

.quiz-controls {
    background: rgba(0, 0, 0, 0.7);
    padding: 1.5rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 1.5rem;
}

.quiz-stats {
    display: flex;
    gap: 2rem;
}

.stat {
    text-align: center;
}

.stat-label {
    display: block;
    color: var(--text-dim);
    font-size: 0.85rem;
    margin-bottom: 0.25rem;
}

.stat-value {
    display: block;
    color: var(--neon-cyan);
    font-size: 1.5rem;
    font-weight: bold;
}

.quiz-actions {
    display: flex;
    gap: 1rem;
}

.btn-quiz-start, .btn-quiz-reset {
    padding: 0.75rem 1.5rem;
    border: none;
    border-radius: 8px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 1rem;
}

.btn-quiz-start {
    background: linear-gradient(45deg, var(--neon-green), #2E7D32);
    color: white;
}

.btn-quiz-reset {
    background: linear-gradient(45deg, var(--neon-orange), #F57C00);
    color: white;
}

.btn-quiz-start:hover:not(:disabled), .btn-quiz-reset:hover:not(:disabled) {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.btn-quiz-start:disabled, .btn-quiz-reset:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.quiz-question-area, .quiz-options-area, .quiz-feedback-area {
    padding: 1.5rem;
}

.quiz-welcome {
    text-align: center;
    padding: 2rem;
}

.quiz-welcome h3 {
    color: var(--neon-pink);
    font-size: 1.8rem;
    margin-bottom: 1rem;
}

.quiz-welcome p {
    color: var(--text-light);
    margin-bottom: 1rem;
    font-size: 1.1rem;
}

.quiz-welcome ul {
    text-align: left;
    display: inline-block;
    margin: 1rem 0;
    color: var(--text-dim);
}

.quiz-question-current {
    background: rgba(0, 0, 0, 0.3);
    padding: 1.5rem;
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.question-header {
    display: flex;
    justify-content: space-between;
    margin-bottom: 1rem;
    padding-bottom: 0.75rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.question-number {
    color: var(--neon-cyan);
    font-weight: bold;
}

.question-type {
    background: rgba(255, 193, 7, 0.1);
    color: var(--neon-yellow);
    padding: 0.25rem 0.75rem;
    border-radius: 12px;
    font-size: 0.85rem;
    font-weight: bold;
}

.quiz-question-current h3 {
    color: var(--text-light);
    font-size: 1.3rem;
    line-height: 1.5;
}

.quiz-options-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1rem;
}

.quiz-option-btn {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: var(--text-light);
    padding: 1rem 1.5rem;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s;
    text-align: left;
    font-size: 1rem;
}

.quiz-option-btn:hover:not(:disabled) {
    background: rgba(255, 255, 255, 0.1);
    border-color: var(--neon-cyan);
    transform: translateY(-3px);
}

.quiz-option-btn:disabled {
    cursor: not-allowed;
}

.quiz-option-btn.correct-option {
    background: rgba(57, 255, 20, 0.2);
    border-color: var(--neon-green);
    color: var(--neon-green);
}

.quiz-option-btn.incorrect-option {
    background: rgba(255, 107, 107, 0.2);
    border-color: #FF6B6B;
    color: #FF6B6B;
}

.feedback-correct, .feedback-incorrect {
    padding: 1.5rem;
    border-radius: 10px;
    margin-top: 1rem;
}

.feedback-correct {
    background: rgba(57, 255, 20, 0.1);
    border-left: 4px solid var(--neon-green);
}

.feedback-incorrect {
    background: rgba(255, 107, 107, 0.1);
    border-left: 4px solid #FF6B6B;
}

.feedback-icon {
    font-size: 1.5rem;
    margin-right: 0.75rem;
    vertical-align: middle;
}

.quiz-results {
    text-align: center;
    padding: 2rem;
    border-radius: 10px;
    margin: 1rem 0;
}

.quiz-results.excellent {
    background: linear-gradient(135deg, rgba(57, 255, 20, 0.1), rgba(0, 255, 255, 0.1));
    border: 2px solid var(--neon-green);
}

.quiz-results.good {
    background: linear-gradient(135deg, rgba(255, 193, 7, 0.1), rgba(57, 255, 20, 0.1));
    border: 2px solid var(--neon-yellow);
}

.quiz-results.average {
    background: linear-gradient(135deg, rgba(255, 107, 107, 0.1), rgba(255, 193, 7, 0.1));
    border: 2px solid var(--neon-orange);
}

.quiz-results.needs-work {
    background: linear-gradient(135deg, rgba(255, 107, 107, 0.1), rgba(255, 0, 255, 0.1));
    border: 2px solid #FF6B6B;
}

.results-emoji {
    font-size: 3rem;
    margin-bottom: 1rem;
}

.quiz-results h2 {
    color: var(--text-light);
    margin-bottom: 1.5rem;
}

.results-score {
    display: flex;
    justify-content: center;
    align-items: baseline;
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.score-number {
    font-size: 3rem;
    font-weight: bold;
    color: var(--neon-cyan);
}

.score-percentage {
    font-size: 1.5rem;
    color: var(--text-dim);
}

.results-message {
    font-size: 1.2rem;
    color: var(--text-light);
    margin-bottom: 1.5rem;
}

.results-breakdown {
    background: rgba(0, 0, 0, 0.3);
    padding: 1.5rem;
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.results-breakdown h4 {
    color: var(--neon-pink);
    margin-bottom: 1.5rem;
}

.category-scores {
    margin-bottom: 1.5rem;
}

.category-score {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1rem;
}

.category-name {
    color: var(--text-light);
    min-width: 100px;
    text-transform: capitalize;
}

.category-bar {
    flex: 1;
    height: 10px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 5px;
    overflow: hidden;
}

.bar-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--neon-green), var(--neon-cyan));
    border-radius: 5px;
    transition: width 1s ease;
}

.category-percentage {
    color: var(--neon-cyan);
    font-weight: bold;
    min-width: 50px;
    text-align: right;
}

.btn-quiz-restart {
    width: 100%;
    background: rgba(0, 255, 255, 0.1);
    border: 1px solid var(--neon-cyan);
    color: var(--neon-cyan);
    padding: 1rem;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
    font-size: 1.1rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    transition: all 0.2s;
}

.btn-quiz-restart:hover {
    background: rgba(0, 255, 255, 0.2);
    transform: translateY(-3px);
}

/* ERRORES COMUNES */
.errores-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.error-card {
    background: rgba(0, 0, 0, 0.4);
    border-radius: 10px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 107, 107, 0.3);
    transition: all 0.3s;
}

.error-card:hover {
    border-color: #FF6B6B;
    transform: translateY(-5px);
}

.error-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.error-icon {
    font-size: 1.5rem;
    color: #FF6B6B;
}

.error-header h4 {
    color: #FF6B6B;
    font-size: 1.1rem;
}

.error-content p {
    color: var(--text-light);
    margin-bottom: 1rem;
}

.correction {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 1rem;
    padding: 1rem;
    background: rgba(57, 255, 20, 0.1);
    border-radius: 6px;
    border-left: 3px solid var(--neon-green);
}

.correction-icon {
    font-size: 1.2rem;
    color: var(--neon-green);
}

.correction-text {
    color: var(--text-light);
    flex: 1;
}

.explanation {
    color: var(--text-dim);
    font-size: 0.9rem;
    font-style: italic;
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

/* EJERCICIOS PR츼CTICOS */
.ejercicios-tabs {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 12px;
    border: var(--border-glow);
    overflow: hidden;
    margin-bottom: 2rem;
}

.tabs-header {
    display: flex;
    background: rgba(0, 0, 0, 0.7);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    flex-wrap: wrap;
}

.tab-btn {
    background: none;
    border: none;
    color: var(--text-light);
    padding: 1rem 1.5rem;
    cursor: pointer;
    transition: all 0.2s;
    font-size: 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    border-bottom: 3px solid transparent;
}

.tab-btn:hover, .tab-btn.active {
    background: rgba(0, 255, 255, 0.1);
    border-bottom: 3px solid var(--neon-cyan);
    color: var(--neon-cyan);
}

.tabs-content {
    padding: 1.5rem;
}

.tab-pane {
    display: none;
}

.tab-pane.active {
    display: block;
}

.ejercicio-matching, .ejercicio-fill {
    max-width: 800px;
    margin: 0 auto;
}

.ejercicio-matching h4, .ejercicio-fill h4 {
    color: var(--neon-green);
    margin-bottom: 1.5rem;
    text-align: center;
    font-size: 1.2rem;
}

.matching-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    margin-bottom: 1.5rem;
}

@media (max-width: 768px) {
    .matching-container {
        grid-template-columns: 1fr;
    }
}

.matching-column {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.matching-item, .matching-price {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.2);
    padding: 1rem;
    border-radius: 8px;
    cursor: move;
    transition: all 0.2s;
    text-align: center;
}

.matching-item:hover, .matching-price:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: var(--neon-cyan);
}

.dialogue-fill {
    background: rgba(0, 0, 0, 0.3);
    padding: 1.5rem;
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    margin-bottom: 1.5rem;
}

.dialogue-fill p {
    margin-bottom: 1rem;
    color: var(--text-light);
}

.dialogue-fill strong {
    color: var(--neon-cyan);
}

.dialogue-fill input {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: var(--text-light);
    padding: 0.5rem;
    border-radius: 4px;
    width: 150px;
    text-align: center;
}

.dialogue-fill input:focus {
    outline: none;
    border-color: var(--neon-cyan);
}

.btn-check {
    display: block;
    margin: 0 auto 1.5rem auto;
    background: linear-gradient(45deg, var(--neon-green), #2E7D32);
    color: white;
    border: none;
    padding: 1rem 2rem;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
    font-size: 1.1rem;
    transition: all 0.2s;
}

.btn-check:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(57, 255, 20, 0.3);
}

.resultado-matching, .resultado-fill {
    padding: 1.5rem;
    border-radius: 10px;
    text-align: center;
    font-size: 1.1rem;
    font-weight: bold;
}

.result-success {
    background: rgba(57, 255, 20, 0.1);
    border: 2px solid var(--neon-green);
    color: var(--neon-green);
}

.result-good {
    background: rgba(255, 193, 7, 0.1);
    border: 2px solid var(--neon-yellow);
    color: var(--neon-yellow);
}

.result-needs-work {
    background: rgba(255, 107, 107, 0.1);
    border: 2px solid #FF6B6B;
    color: #FF6B6B;
}

/* AUTOEVALUACI칍N */
.evaluacion-recursos {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 2rem;
    margin-bottom: 2rem;
}

@media (max-width: 1024px) {
    .evaluacion-recursos {
        grid-template-columns: 1fr;
    }
}

.autoevaluacion-compact, .recursos-compact {
    background: rgba(0, 0, 0, 0.4);
    border-radius: 12px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.eval-grid {
    margin-bottom: 1.5rem;
}

.eval-item {
    margin-bottom: 1.5rem;
}

.eval-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.75rem;
}

.eval-label {
    color: var(--text-light);
    font-weight: bold;
}

.eval-value {
    color: var(--neon-cyan);
    font-weight: bold;
    font-size: 1.1rem;
}

.eval-slider {
    width: 100%;
    height: 8px;
    -webkit-appearance: none;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    outline: none;
}

.eval-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: var(--neon-cyan);
    cursor: pointer;
    border: 2px solid white;
}

.eval-labels {
    display: flex;
    justify-content: space-between;
    margin-top: 0.5rem;
    color: var(--text-dim);
    font-size: 0.85rem;
}

.eval-actions {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 1rem;
}

.btn-guardar-eval {
    background: rgba(57, 255, 20, 0.1);
    border: 1px solid var(--neon-green);
    color: var(--neon-green);
    padding: 0.75rem 1.5rem;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.2s;
}

.btn-guardar-eval:hover {
    background: rgba(57, 255, 20, 0.2);
    transform: translateY(-2px);
}

.eval-promedio {
    color: var(--text-light);
    background: rgba(0, 0, 0, 0.3);
    padding: 0.75rem 1.5rem;
    border-radius: 6px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.eval-promedio strong {
    color: var(--neon-pink);
}

/* RECURSOS */
.recursos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
}

.recurso-card {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    padding: 1rem;
    display: flex;
    align-items: center;
    gap: 1rem;
    text-decoration: none;
    transition: all 0.3s;
    border: 1px solid transparent;
}

.recurso-card:hover {
    background: rgba(0, 0, 0, 0.5);
    border-color: var(--neon-cyan);
    transform: translateY(-5px);
}

.recurso-icon {
    font-size: 1.5rem;
    flex-shrink: 0;
}

.recurso-content h4 {
    color: var(--neon-green);
    margin-bottom: 0.25rem;
    font-size: 0.95rem;
}

.recurso-content p {
    color: var(--text-dim);
    font-size: 0.85rem;
}

/* NOTIFICACIONES */
.notification {
    position: fixed;
    top: 20px;
    right: 20px;
    background: var(--bg-card);
    border-radius: 8px;
    padding: 1rem 1.5rem;
    display: flex;
    align-items: center;
    gap: 1rem;
    min-width: 300px;
    max-width: 400px;
    z-index: 10000;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    animation: slideIn 0.3s ease;
    border-left: 4px solid;
}

@keyframes slideIn {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

.notification-success {
    border-left-color: var(--neon-green);
    background: rgba(57, 255, 20, 0.1);
}

.notification-error {
    border-left-color: #FF6B6B;
    background: rgba(255, 107, 107, 0.1);
}

.notification-warning {
    border-left-color: var(--neon-yellow);
    background: rgba(255, 193, 7, 0.1);
}

.notification-info {
    border-left-color: var(--neon-cyan);
    background: rgba(0, 255, 255, 0.1);
}

.notification-icon {
    font-size: 1.2rem;
}

.notification-text {
    color: var(--text-light);
    font-size: 0.95rem;
    line-height: 1.4;
    flex: 1;
}

.notification-close {
    background: none;
    border: none;
    color: var(--text-dim);
    font-size: 1.5rem;
    cursor: pointer;
    padding: 0;
    line-height: 1;
    transition: color 0.2s;
}

.notification-close:hover {
    color: var(--text-light);
}

/* SCROLLBAR PERSONALIZADA */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb {
    background: rgba(0, 255, 255, 0.3);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 255, 255, 0.5);
}

/* RESPONSIVE */
@media (max-width: 768px) {
    .leccion-ingles-food {
        padding: 1rem;
    }
    
    .titulo-leccion {
        font-size: 1.8rem;
        flex-direction: column;
        gap: 0.5rem;
    }
    
    .objetivos-grid, .frases-grid, .errores-grid {
        grid-template-columns: 1fr;
    }
    
    .simulador-interfaz, .dialogo-input {
        grid-template-columns: 1fr;
    }
    
    .quiz-stats {
        flex-direction: column;
        gap: 1rem;
    }
    
    .quiz-actions {
        width: 100%;
        justify-content: center;
    }
    
    .controls-buttons {
        flex-direction: column;
    }
    
    .btn-control {
        width: 100%;
    }
    
    .notification {
        min-width: 250px;
        max-width: 300px;
        right: 10px;
        left: 10px;
    }
}
/* ESTILOS ESPEC칈FICOS PARA LECCI칍N INGL칄S (A칌ADIR AL ARCHIVO CSS PRINCIPAL) */

/* ======================================== */
/* CLASES 칔NICAS PARA LECCI칍N INGL칄S */
/* ======================================== */

/* Clases principales */
.leccion-ingles-past-simple {
    background: linear-gradient(135deg, #0a0a1a 0%, #1a1a2e 100%);
    font-family: 'Segoe UI', 'Roboto', 'Arial', sans-serif;
}

/* Animaci칩n de t칤tulo espec칤fica para ingl칠s */
.titulo-leccion-ingles {
    background: linear-gradient(45deg, #00FFFF, #FF00FF, #39FF14);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: titleGlow 4s ease-in-out infinite;
}

@keyframes titleGlow {
    0%, 100% { 
        background-position: 0% 50%;
        filter: drop-shadow(0 0 5px rgba(0, 255, 255, 0.5));
    }
    50% { 
        background-position: 100% 50%;
        filter: drop-shadow(0 0 15px rgba(255, 0, 255, 0.5));
    }
}

/* Badges espec칤ficos para ingl칠s */
.materia-badge {
    background: linear-gradient(45deg, #00FFFF, #0088FF);
    border: 2px solid #00FFFF;
    animation: badgePulse 2s infinite;
}

.nivel-badge {
    background: linear-gradient(45deg, #FF00FF, #FF0088);
    border: 2px solid #FF00FF;
}

.tiempo-badge {
    background: linear-gradient(45deg, #39FF14, #00FF88);
    border: 2px solid #39FF14;
}

.puntuacion-badge {
    background: linear-gradient(45deg, #FF6B00, #FFAA00);
    border: 2px solid #FF6B00;
}

@keyframes badgePulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
}

/* Grid de verbos con efecto ne칩n mejorado */
.verbos-grid-master {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 20px;
    perspective: 1000px;
}

.verbo-card {
    transform-style: preserve-3d;
    transition: transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.verbo-card:hover {
    transform: translateY(-10px) rotateX(5deg);
}

/* Simulador de conjugaci칩n con efecto terminal */
.conjugador-container {
    background: rgba(0, 20, 40, 0.9);
    border: 1px solid #00FFFF;
    box-shadow: 
        0 0 20px rgba(0, 255, 255, 0.3),
        inset 0 0 20px rgba(0, 255, 255, 0.1);
}

.conj-input {
    background: rgba(0, 0, 0, 0.7);
    border: 1px solid #39FF14;
    color: #39FF14;
    font-family: 'Consolas', 'Monaco', monospace;
    transition: all 0.3s;
}

.conj-input:focus {
    box-shadow: 0 0 10px #39FF14;
    border-color: #39FF14;
}

/* Story Builder con efecto futurista */
.storybuilder-container {
    background: rgba(20, 0, 40, 0.9);
    border: 1px solid #FF00FF;
    box-shadow: 
        0 0 30px rgba(255, 0, 255, 0.3),
        inset 0 0 30px rgba(255, 0, 255, 0.1);
}

.story-textarea {
    background: rgba(0, 0, 0, 0.8);
    border: 1px solid #00FFFF;
    color: #e0f0ff;
    font-family: 'Courier New', monospace;
    letter-spacing: 0.5px;
}

/* Pronunciation Trainer con efecto de onda */
.pronunciation-container {
    background: rgba(0, 40, 40, 0.9);
    border: 1px solid #00FFFF;
    position: relative;
    overflow: hidden;
}

.pronunciation-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 200%;
    height: 100%;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(0, 255, 255, 0.1),
        transparent
    );
    animation: wave 3s linear infinite;
}

@keyframes wave {
    0% { transform: translateX(0); }
    100% { transform: translateX(50%); }
}

/* Quiz Master con efecto de escaneo */
.quiz-master-container {
    background: rgba(0, 40, 20, 0.9);
    border: 1px solid #39FF14;
    position: relative;
}

.quiz-master-container::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent, #39FF14, transparent);
    animation: scan 2s linear infinite;
}

@keyframes scan {
    0% { top: 0; }
    100% { top: 100%; }
}

/* Errores comunes con efecto de alerta */
.errores-section-ingles {
    position: relative;
}

.errores-section-ingles::before {
    content: '丘멆잺';
    position: absolute;
    top: -20px;
    right: -20px;
    font-size: 2rem;
    animation: alertPulse 1.5s infinite;
    z-index: 1;
}

@keyframes alertPulse {
    0%, 100% { 
        transform: scale(1) rotate(0deg);
        opacity: 0.7;
    }
    50% { 
        transform: scale(1.2) rotate(10deg);
        opacity: 1;
    }
}

/* Mastery System con efecto de nivel */
.mastery-container {
    background: rgba(40, 0, 80, 0.9);
    border: 2px solid #9D00FF;
    position: relative;
    overflow: hidden;
}

.mastery-container::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: conic-gradient(
        from 0deg,
        transparent,
        #9D00FF,
        #FF00FF,
        #00FFFF,
        #39FF14,
        transparent
    );
    animation: rotate 10s linear infinite;
    z-index: 0;
}

.mastery-container > * {
    position: relative;
    z-index: 1;
}

@keyframes rotate {
    100% { transform: rotate(360deg); }
}

/* Responsive espec칤fico para lecci칩n de ingl칠s */
@media (max-width: 768px) {
    .leccion-ingles-past-simple {
        padding: 10px;
    }
    
    .verbos-grid-master {
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    }
    
    .storybuilder-container,
    .conjugador-container,
    .quiz-master-container,
    .pronunciation-container,
    .mastery-container {
        padding: 15px !important;
    }
}

/* Optimizaciones de performance para animaciones */
@media (prefers-reduced-motion: reduce) {
    .leccion-ingles-past-simple * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* Modo oscuro forzado (ya que es tema cyberpunk) */
@media (prefers-color-scheme: light) {
    .leccion-ingles-past-simple {
        filter: invert(1) hue-rotate(180deg);
    }
    
    .leccion-ingles-past-simple img,
    .leccion-ingles-past-simple video,
    .leccion-ingles-past-simple iframe {
        filter: invert(1) hue-rotate(180deg);
    }
}

/* Accesibilidad - Mejora de contraste */
.leccion-ingles-past-simple {
    color-scheme: dark;
}

/* Asegurar contraste m칤nimo */
.leccion-ingles-past-simple :not(.neon-text) {
    color: #e0f0ff !important;
}

.leccion-ingles-past-simple a:focus,
.leccion-ingles-past-simple button:focus,
.leccion-ingles-past-simple input:focus {
    outline: 3px solid #00FFFF;
    outline-offset: 2px;
}
/* ESTILOS ESPEC칈FICOS PARA LECCI칍N INGL칄S PAST SIMPLE */

/* Configurar tipograf칤a para ingl칠s */
.leccion-ingles-past-simple {
    font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
}

/* Mejoras de accesibilidad para textos en ingl칠s */
.leccion-ingles-past-simple code,
.leccion-ingles-past-simple .verb-text,
.leccion-ingles-past-simple .story-text {
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
}

/* Ajustes para textos largos en ingl칠s */
.leccion-ingles-past-simple p,
.leccion-ingles-past-simple li {
    line-height: 1.7;
}

/* Mejora de contraste para lectura */
.leccion-ingles-past-simple .text-light {
    color: #f0f8ff !important;
}

/* Ajustes espec칤ficos para elementos interactivos */
.leccion-ingles-past-simple .btn-irregular:focus,
.leccion-ingles-past-simple .btn-story:focus,
.leccion-ingles-past-simple .eval-input:focus {
    outline: 2px solid var(--neon-yellow);
    outline-offset: 2px;
}

/* Ajustes para modo de alto contraste */
@media (prefers-contrast: high) {
    .leccion-ingles-past-simple {
        --neon-cyan: #00ffff;
        --neon-green: #00ff00;
        --neon-pink: #ff00ff;
        --text-light: #ffffff;
        --bg-dark: #000000;
    }
}

/* Optimizaciones de impresi칩n */
@media print {
    .leccion-ingles-past-simple {
        background: white !important;
        color: black !important;
    }
    
    .leccion-ingles-past-simple .btn-irregular,
    .leccion-ingles-past-simple .btn-story,
    .leccion-ingles-past-simple .conversation-input,
    .leccion-ingles-past-simple .notification {
        display: none !important;
    }
    
    .leccion-ingles-past-simple .verb-text,
    .leccion-ingles-past-simple .story-text {
        color: black !important;
        border: 1px solid #ccc !important;
    }
}
/* VARIABLES PRINCIPALES */
:root {
    --neon-cyan: #00FFFF;
    --neon-green: #39FF14;
    --neon-pink: #FF00FF;
    --neon-yellow: #FFFF00;
    --neon-orange: #FF6B00;
    --neon-purple: #9D00FF;
    --bg-dark: #0a0a1a;
    --bg-darker: #050510;
    --bg-card: rgba(10, 10, 26, 0.85);
    --text-light: #e0f0ff;
    --text-dim: #a0b0c0;
    --border-glow: 1px solid rgba(0, 255, 255, 0.4);
    --shadow-neon: 0 0 10px rgba(0, 255, 255, 0.3);
    --shadow-pink: 0 0 10px rgba(255, 0, 255, 0.3);
}

/* RESET Y BASE */
.leccion-ingles-past-simple * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

.leccion-ingles-past-simple {
    background: var(--bg-dark);
    color: var(--text-light);
    font-family: 'Segoe UI', 'Roboto', 'Consolas', monospace;
    padding: 1.5rem;
    max-width: 1200px;
    margin: 0 auto;
    line-height: 1.6;
    position: relative;
    min-height: 100vh;
}

/* FONDO CYBERPUNK SUTIL */
.leccion-ingles-past-simple::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        radial-gradient(circle at 20% 30%, rgba(0, 255, 255, 0.05) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(255, 0, 255, 0.03) 0%, transparent 50%),
        linear-gradient(45deg, rgba(10, 10, 26, 0.9), rgba(5, 5, 16, 0.95));
    pointer-events: none;
    z-index: -1;
}

/* CABECERA */
.leccion-header.compact {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 12px;
    border: var(--border-glow);
    padding: 1.5rem;
    margin-bottom: 2rem;
    text-align: center;
    position: relative;
    overflow: hidden;
}

.leccion-header.compact::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, var(--neon-cyan), var(--neon-pink), var(--neon-green));
}

.header-top {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-bottom: 1rem;
    flex-wrap: wrap;
}

.materia-badge, .nivel-badge, .tiempo-badge {
    padding: 0.4rem 0.8rem;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: 600;
}

.materia-badge {
    background: rgba(0, 255, 255, 0.1);
    color: var(--neon-cyan);
    border: 1px solid var(--neon-cyan);
}

.nivel-badge {
    background: rgba(57, 255, 20, 0.1);
    color: var(--neon-green);
    border: 1px solid var(--neon-green);
}

.tiempo-badge {
    background: rgba(255, 0, 255, 0.1);
    color: var(--neon-pink);
    border: 1px solid var(--neon-pink);
}

.titulo-leccion {
    font-size: 2.2rem;
    color: var(--text-light);
    margin-bottom: 0.5rem;
    text-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
}

.neon-icon {
    color: var(--neon-pink);
    font-size: 2.5rem;
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

.leccion-subtitulo {
    color: var(--text-dim);
    font-size: 1.1rem;
    margin-bottom: 0;
}

/* PANEL OBJETIVOS */
.objetivos-rapidos {
    margin-bottom: 2.5rem;
}

.objetivos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
}

.objetivo-card {
    background: var(--bg-card);
    border-radius: 10px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    transition: all 0.3s;
}

.objetivo-card:hover {
    transform: translateY(-5px);
    border-color: var(--neon-cyan);
    box-shadow: var(--shadow-neon);
}

.obj-icon {
    font-size: 2rem;
    flex-shrink: 0;
}

.obj-text h4 {
    color: var(--neon-green);
    margin-bottom: 0.5rem;
    font-size: 1.1rem;
}

.obj-text p {
    color: var(--text-dim);
    font-size: 0.95rem;
    margin: 0;
}

/* SECCIONES PRINCIPALES */
.seccion-titulo {
    color: var(--neon-cyan);
    font-size: 1.5rem;
    margin-bottom: 1.5rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding-bottom: 0.5rem;
    border-bottom: 2px solid rgba(0, 255, 255, 0.2);
}

.neon-bullet {
    color: var(--neon-pink);
    font-size: 1.2rem;
    animation: pulse 2s infinite;
}

/* CONCEPTOS B츼SICOS */
.concepto-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    margin-bottom: 3rem;
}

.concepto-card {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 10px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.3s;
}

.concepto-card:hover {
    border-color: var(--neon-green);
    transform: translateY(-3px);
}

.concepto-icon {
    font-size: 2.5rem;
    margin-bottom: 1rem;
}

.concepto-content h3 {
    color: var(--neon-yellow);
    margin-bottom: 0.75rem;
    font-size: 1.2rem;
}

.concepto-content p {
    color: var(--text-light);
    margin-bottom: 1rem;
    font-size: 0.95rem;
    line-height: 1.5;
}

.ejemplo-codigo {
    display: block;
    background: rgba(0, 0, 0, 0.5);
    padding: 0.75rem;
    border-radius: 6px;
    border-left: 3px solid var(--neon-green);
    font-family: 'Consolas', monospace;
    font-size: 0.9rem;
    color: var(--neon-green);
    margin-top: 1rem;
}

/* VERBOS IRREGULARES */
.verbos-header {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 10px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 1rem;
}

.verbos-info p {
    margin-bottom: 0.5rem;
    color: var(--text-light);
}

.verbos-info p:last-child {
    margin-bottom: 0;
    color: var(--neon-yellow);
}

.verbos-controls {
    display: flex;
    gap: 0.75rem;
    flex-wrap: wrap;
}

.btn-verb-filter, .btn-verb-shuffle {
    background: rgba(0, 255, 255, 0.1);
    color: var(--text-light);
    border: 1px solid var(--neon-cyan);
    padding: 0.5rem 1rem;
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.9rem;
    transition: all 0.2s;
}

.btn-verb-filter:hover, .btn-verb-shuffle:hover {
    background: rgba(0, 255, 255, 0.2);
    transform: translateY(-2px);
}

.btn-verb-filter.active {
    background: rgba(0, 255, 255, 0.3);
    font-weight: bold;
}

.verbos-display-container {
    background: rgba(0, 0, 0, 0.4);
    border-radius: 12px;
    border: 2px solid var(--neon-pink);
    padding: 2rem;
    margin-bottom: 2rem;
    text-align: center;
}

.verb-display-inner {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 2rem;
    margin-bottom: 2rem;
    flex-wrap: wrap;
}

.verb-form {
    display: flex;
    flex-direction: column;
    align-items: center;
    min-width: 120px;
}

.verb-label {
    font-size: 0.8rem;
    color: var(--text-dim);
    margin-bottom: 0.5rem;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.verb-text {
    font-size: 2rem;
    font-weight: bold;
    padding: 0.75rem 1.5rem;
    border-radius: 8px;
    min-width: 120px;
    text-align: center;
}

.infinitive .verb-text {
    background: rgba(57, 255, 20, 0.1);
    color: var(--neon-green);
    border: 2px solid var(--neon-green);
}

.past .verb-text {
    background: rgba(0, 255, 255, 0.1);
    color: var(--neon-cyan);
    border: 2px solid var(--neon-cyan);
}

.participle .verb-text {
    background: rgba(255, 107, 0, 0.1);
    color: var(--neon-orange);
    border: 2px solid var(--neon-orange);
}

.verb-arrow {
    font-size: 2rem;
    color: var(--neon-pink);
    font-weight: bold;
}

.verb-audio-controls {
    display: flex;
    justify-content: center;
    gap: 1rem;
    flex-wrap: wrap;
}

.btn-audio, .btn-example {
    padding: 0.75rem 1.5rem;
    border: none;
    border-radius: 6px;
    font-weight: bold;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 1rem;
    transition: all 0.2s;
}

.btn-audio {
    background: linear-gradient(45deg, var(--neon-cyan), #0097A7);
    color: white;
}

.btn-example {
    background: linear-gradient(45deg, var(--neon-purple), #7B1FA2);
    color: white;
}

.btn-audio:hover, .btn-example:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.verb-example {
    margin-top: 1.5rem;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 6px;
    border-left: 3px solid var(--neon-yellow);
    color: var(--text-light);
}

.verb-example strong {
    color: var(--neon-yellow);
}

/* GRID DE VERBOS IRREGULARES */
.irregular-verbs-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    gap: 0.75rem;
    margin-bottom: 2rem;
}

.btn-irregular {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 0, 255, 0.3);
    border-radius: 8px;
    padding: 1rem;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    flex-direction: column;
    align-items: center;
    color: var(--text-light);
    min-height: 80px;
    justify-content: center;
    position: relative;
    overflow: hidden;
}

.btn-irregular::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
    transition: left 0.5s;
}

.btn-irregular:hover::before {
    left: 100%;
}

.btn-irregular:hover {
    background: rgba(255, 0, 255, 0.2);
    border-color: var(--neon-pink);
    transform: translateY(-5px);
    box-shadow: var(--shadow-pink);
}

.btn-irregular.active {
    background: rgba(255, 0, 255, 0.3);
    border-color: var(--neon-pink);
    box-shadow: 0 0 20px rgba(255, 0, 255, 0.5);
}

.btn-irregular .inf {
    font-size: 1.2rem;
    font-weight: bold;
    color: var(--neon-green);
    margin-bottom: 0.25rem;
}

.btn-irregular .hidden-text {
    font-size: 0.85rem;
    color: var(--text-dim);
    opacity: 0;
    transition: opacity 0.3s;
}

.btn-irregular:hover .hidden-text,
.btn-irregular.active .hidden-text {
    opacity: 1;
}

.verbos-stats {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: rgba(0, 0, 0, 0.3);
    padding: 1rem 1.5rem;
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    flex-wrap: wrap;
    gap: 1rem;
}

.stat-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.stat-label {
    color: var(--text-dim);
    font-size: 0.9rem;
}

.stat-value {
    color: var(--neon-cyan);
    font-weight: bold;
    font-size: 1.2rem;
}

.btn-reset-practice {
    background: rgba(255, 107, 0, 0.1);
    color: var(--neon-orange);
    border: 1px solid var(--neon-orange);
    padding: 0.5rem 1rem;
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.9rem;
    transition: all 0.2s;
}

.btn-reset-practice:hover {
    background: rgba(255, 107, 0, 0.2);
    transform: translateY(-2px);
}

/* STORY BUILDER */
.story-builder-container {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 12px;
    border: 2px solid var(--neon-green);
    padding: 2rem;
    margin-bottom: 3rem;
}

.story-controls-advanced {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin-bottom: 2rem;
}

.story-presets h4, .story-options h4 {
    color: var(--neon-yellow);
    margin-bottom: 1rem;
    font-size: 1.1rem;
}

.preset-buttons {
    display: flex;
    gap: 0.75rem;
    flex-wrap: wrap;
}

.btn-preset {
    background: rgba(157, 0, 255, 0.1);
    color: var(--neon-purple);
    border: 1px solid var(--neon-purple);
    padding: 0.5rem 1rem;
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.9rem;
    transition: all 0.2s;
}

.btn-preset:hover {
    background: rgba(157, 0, 255, 0.2);
    transform: translateY(-2px);
}

.options-grid {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.options-grid label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--text-light);
    cursor: pointer;
    font-size: 0.95rem;
}

.options-grid input[type="checkbox"] {
    accent-color: var(--neon-green);
    width: 18px;
    height: 18px;
}

.story-buttons-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.story-category {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 10px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.story-category h5 {
    color: var(--neon-pink);
    margin-bottom: 1rem;
    font-size: 1rem;
    text-align: center;
}

.btn-story {
    display: block;
    width: 100%;
    background: rgba(0, 255, 255, 0.1);
    color: var(--text-light);
    border: 1px solid rgba(0, 255, 255, 0.3);
    padding: 0.75rem;
    border-radius: 6px;
    cursor: pointer;
    margin-bottom: 0.75rem;
    font-size: 0.95rem;
    transition: all 0.2s;
    text-align: center;
}

.btn-story:hover {
    background: rgba(0, 255, 255, 0.2);
    transform: translateX(5px);
    border-color: var(--neon-cyan);
}

.btn-story:last-child {
    margin-bottom: 0;
}

.story-controls-main {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-bottom: 2rem;
    flex-wrap: wrap;
}

.btn-clear-story, .btn-read-story, .btn-analyze-story, .btn-save-story {
    padding: 0.75rem 1.5rem;
    border: none;
    border-radius: 8px;
    font-weight: bold;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 1rem;
    min-width: 200px;
    justify-content: center;
    transition: all 0.3s;
}

.btn-clear-story {
    background: linear-gradient(45deg, #FF6B6B, #C62828);
    color: white;
}

.btn-read-story {
    background: linear-gradient(45deg, var(--neon-cyan), #006064);
    color: white;
}

.btn-analyze-story {
    background: linear-gradient(45deg, var(--neon-yellow), #F57F17);
    color: #333;
}

.btn-save-story {
    background: linear-gradient(45deg, var(--neon-green), #1B5E20);
    color: white;
}

.btn-clear-story:hover, .btn-read-story:hover, .btn-analyze-story:hover, .btn-save-story:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.story-output-container {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 10px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
    margin-bottom: 2rem;
    min-height: 200px;
}

.story-output-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
    flex-wrap: wrap;
    gap: 1rem;
}

.story-output-header h4 {
    color: var(--neon-yellow);
    margin: 0;
    font-size: 1.1rem;
}

.story-stats {
    display: flex;
    gap: 1rem;
    font-size: 0.9rem;
    color: var(--text-dim);
}

.story-output {
    min-height: 100px;
}

.empty-story-message {
    text-align: center;
    padding: 2rem;
    color: var(--text-dim);
}

.empty-story-message p {
    margin-bottom: 0.75rem;
}

.empty-story-message p:last-child {
    margin-bottom: 0;
}

.empty-story-message strong {
    color: var(--neon-yellow);
}

.story-item {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 6px;
    margin-bottom: 0.75rem;
    border-left: 3px solid var(--neon-green);
    transition: all 0.2s;
}

.story-item:hover {
    background: rgba(0, 0, 0, 0.4);
    transform: translateX(5px);
}

.story-number {
    color: var(--neon-pink);
    font-weight: bold;
    min-width: 25px;
}

.story-text {
    flex: 1;
    color: var(--text-light);
    line-height: 1.5;
}

.highlighted-verb {
    color: var(--neon-green);
    font-weight: bold;
    text-decoration: underline;
}

.btn-remove-story {
    background: none;
    border: none;
    color: #FF6B6B;
    cursor: pointer;
    font-size: 1.2rem;
    padding: 0 0.25rem;
    transition: all 0.2s;
}

.btn-remove-story:hover {
    color: #ff3333;
    transform: scale(1.2);
}

.full-story-display {
    padding: 1.5rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    border: 1px solid var(--neon-cyan);
}

.full-story-display h5 {
    color: var(--neon-pink);
    margin-bottom: 1rem;
    font-size: 1.1rem;
}

.full-story-text {
    color: var(--text-light);
    line-height: 1.6;
    font-size: 1.05rem;
}

.story-analysis {
    background: rgba(255, 193, 7, 0.05);
    border-radius: 10px;
    border: 1px solid rgba(255, 193, 7, 0.2);
    padding: 1.5rem;
    margin-top: 1.5rem;
}

.story-analysis h4 {
    color: var(--neon-yellow);
    margin-bottom: 1.5rem;
    font-size: 1.1rem;
}

.analysis-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
}

.analysis-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 6px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.analysis-label {
    color: var(--text-light);
    font-size: 0.9rem;
}

.analysis-value {
    color: var(--neon-green);
    font-weight: bold;
    font-size: 1.2rem;
}

/* SIMULADOR DE CONVERSACI칍N */
.conversation-container {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 12px;
    border: 2px solid var(--neon-purple);
    padding: 2rem;
    margin-bottom: 3rem;
}

.conversation-scenario {
    background: rgba(157, 0, 255, 0.1);
    border-radius: 10px;
    padding: 1.5rem;
    margin-bottom: 2rem;
    border: 1px solid var(--neon-purple);
}

.conversation-scenario h4 {
    color: var(--neon-purple);
    margin-bottom: 0.75rem;
    font-size: 1.1rem;
}

.conversation-scenario p {
    color: var(--text-light);
    margin-bottom: 1.5rem;
}

.scenario-controls {
    display: flex;
    gap: 1rem;
    align-items: center;
    flex-wrap: wrap;
}

.btn-start-convo, .btn-reset-convo {
    padding: 0.75rem 1.5rem;
    border: none;
    border-radius: 8px;
    font-weight: bold;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 1rem;
    transition: all 0.3s;
}

.btn-start-convo {
    background: linear-gradient(45deg, var(--neon-purple), #7B1FA2);
    color: white;
}

.btn-reset-convo {
    background: linear-gradient(45deg, #FF6B6B, #C62828);
    color: white;
}

.btn-start-convo:hover, .btn-reset-convo:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.convo-difficulty {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-left: auto;
}

.convo-difficulty label {
    color: var(--text-light);
    font-size: 0.9rem;
}

.convo-difficulty select {
    background: rgba(0, 0, 0, 0.3);
    color: var(--text-light);
    border: 1px solid var(--neon-cyan);
    padding: 0.5rem 1rem;
    border-radius: 6px;
    font-size: 0.9rem;
    cursor: pointer;
    min-width: 120px;
}

.conversation-interface {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.conversation-history {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 10px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
    height: 300px;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.convo-message {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    max-width: 80%;
    padding: 1rem;
    border-radius: 10px;
    animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

.convo-message.bot {
    background: rgba(0, 255, 255, 0.1);
    border-left: 3px solid var(--neon-cyan);
    align-self: flex-start;
}

.convo-message.user {
    background: rgba(57, 255, 20, 0.1);
    border-left: 3px solid var(--neon-green);
    align-self: flex-end;
    margin-left: auto;
}

.convo-speaker {
    font-weight: bold;
    min-width: 60px;
}

.convo-message.bot .convo-speaker {
    color: var(--neon-cyan);
}

.convo-message.user .convo-speaker {
    color: var(--neon-green);
}

.convo-text {
    color: var(--text-light);
    line-height: 1.5;
    flex: 1;
}

.conversation-input {
    display: flex;
    gap: 1rem;
}

.conversation-input input {
    flex: 1;
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid var(--neon-green);
    border-radius: 8px;
    padding: 0.75rem 1rem;
    color: var(--text-light);
    font-size: 1rem;
    outline: none;
    transition: all 0.2s;
}

.conversation-input input:focus {
    border-color: var(--neon-cyan);
    box-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
}

.conversation-input input::placeholder {
    color: var(--text-dim);
}

.btn-send-response {
    background: linear-gradient(45deg, var(--neon-green), #2E7D32);
    color: white;
    border: none;
    border-radius: 8px;
    padding: 0.75rem 1.5rem;
    font-weight: bold;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 1rem;
    transition: all 0.3s;
}

.btn-send-response:hover {
    background: linear-gradient(45deg, #2E7D32, var(--neon-green));
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.conversation-hints {
    background: rgba(255, 193, 7, 0.05);
    border-radius: 10px;
    border: 1px solid rgba(255, 193, 7, 0.2);
    padding: 1.5rem;
}

.conversation-hints h5 {
    color: var(--neon-yellow);
    margin-bottom: 1rem;
    font-size: 1rem;
}

.conversation-hints ul {
    color: var(--text-light);
    padding-left: 1.5rem;
    margin: 0;
}

.conversation-hints li {
    margin-bottom: 0.5rem;
    font-size: 0.95rem;
}

.conversation-hints em {
    color: var(--neon-green);
    font-style: italic;
}

.conversation-feedback {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 10px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.feedback-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
    flex-wrap: wrap;
    gap: 1rem;
}

.feedback-header h5 {
    color: var(--neon-yellow);
    margin: 0;
    font-size: 1rem;
}

.feedback-score {
    color: var(--neon-cyan);
    font-weight: bold;
    font-size: 0.9rem;
}

.feedback-content {
    color: var(--text-light);
    line-height: 1.5;
    font-size: 0.95rem;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 6px;
}

/* ERRORES COMUNES */
.errores-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.error-card {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 10px;
    border: 1px solid rgba(255, 107, 107, 0.3);
    overflow: hidden;
    transition: all 0.3s;
}

.error-card:hover {
    border-color: #FF6B6B;
    transform: translateY(-5px);
    box-shadow: 0 5px 15px rgba(255, 107, 107, 0.2);
}

.error-header {
    background: rgba(255, 107, 107, 0.1);
    padding: 1.25rem 1.5rem;
    display: flex;
    align-items: center;
    gap: 1rem;
    border-bottom: 1px solid rgba(255, 107, 107, 0.2);
}

.error-icon {
    font-size: 1.5rem;
    color: #FF6B6B;
}

.error-header h4 {
    color: #FF6B6B;
    margin: 0;
    font-size: 1.1rem;
}

.error-content {
    padding: 1.5rem;
}

.error-incorrecto, .error-correcto {
    padding: 1rem;
    border-radius: 6px;
    margin-bottom: 1rem;
    font-size: 0.95rem;
    line-height: 1.5;
}

.error-incorrecto {
    background: rgba(255, 107, 107, 0.1);
    border-left: 3px solid #FF6B6B;
    color: #FF6B6B;
}

.error-correcto {
    background: rgba(57, 255, 20, 0.1);
    border-left: 3px solid var(--neon-green);
    color: var(--neon-green);
}

.error-explicacion {
    color: var(--text-light);
    margin-bottom: 1.5rem;
    font-size: 0.9rem;
    line-height: 1.5;
}

.btn-practice-error {
    display: block;
    width: 100%;
    background: rgba(255, 193, 7, 0.1);
    color: var(--neon-yellow);
    border: 1px solid var(--neon-yellow);
    padding: 0.75rem;
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.9rem;
    font-weight: 600;
    transition: all 0.2s;
    text-align: center;
}

.btn-practice-error:hover {
    background: rgba(255, 193, 7, 0.2);
    transform: translateY(-2px);
}

.error-practice-area {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 12px;
    border: 2px solid var(--neon-yellow);
    padding: 2rem;
    margin-top: 2rem;
}

.error-practice-area h4 {
    color: var(--neon-yellow);
    margin-bottom: 1.5rem;
    font-size: 1.1rem;
}

.practice-container {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 10px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.practice-question {
    margin-bottom: 1.5rem;
}

.practice-question p {
    margin-bottom: 0.75rem;
    color: var(--text-light);
}

.practice-question strong {
    color: var(--neon-cyan);
}

.incorrect-sentence {
    font-family: 'Consolas', monospace;
    background: rgba(255, 107, 107, 0.1);
    padding: 1rem;
    border-radius: 6px;
    border-left: 3px solid #FF6B6B;
    color: #FF6B6B;
    font-size: 1.05rem;
    margin-top: 0.5rem;
}

.practice-options {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.practice-option {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 6px;
    padding: 1rem;
    color: var(--text-light);
    cursor: pointer;
    font-size: 0.95rem;
    transition: all 0.2s;
    text-align: center;
}

.practice-option:hover {
    background: rgba(0, 255, 255, 0.1);
    border-color: var(--neon-cyan);
    transform: translateY(-2px);
}

.practice-option.correct-option {
    background: rgba(57, 255, 20, 0.2);
    border-color: var(--neon-green);
    color: var(--neon-green);
}

.practice-option.incorrect-option {
    background: rgba(255, 107, 107, 0.2);
    border-color: #FF6B6B;
    color: #FF6B6B;
}

.practice-option:disabled {
    opacity: 0.7;
    cursor: not-allowed;
    transform: none;
}

.practice-feedback {
    padding: 1.5rem;
    border-radius: 8px;
    animation: fadeIn 0.5s ease;
}

.feedback-correct {
    background: rgba(57, 255, 20, 0.1);
    border-left: 3px solid var(--neon-green);
    color: var(--text-light);
}

.feedback-incorrect {
    background: rgba(255, 107, 107, 0.1);
    border-left: 3px solid #FF6B6B;
    color: var(--text-light);
}

.feedback-correct p, .feedback-incorrect p {
    margin-bottom: 0.75rem;
    line-height: 1.5;
}

.feedback-correct p:last-child, .feedback-incorrect p:last-child {
    margin-bottom: 0;
}

.feedback-correct strong, .feedback-incorrect strong {
    color: var(--neon-yellow);
}

/* EVALUACI칍N B1 */
.evaluacion-container {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 12px;
    border: 2px solid var(--neon-cyan);
    padding: 2rem;
    margin-bottom: 3rem;
}

.evaluacion-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
    flex-wrap: wrap;
    gap: 1rem;
}

.eval-info h4 {
    color: var(--neon-cyan);
    margin-bottom: 0.5rem;
    font-size: 1.2rem;
}

.eval-info p {
    color: var(--text-dim);
    font-size: 0.95rem;
    margin: 0;
}

.eval-timer {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    background: rgba(0, 0, 0, 0.5);
    padding: 0.5rem 1rem;
    border-radius: 20px;
    border: 1px solid var(--neon-cyan);
}

.timer-icon {
    font-size: 1.2rem;
    color: var(--neon-cyan);
}

.timer-text {
    color: var(--text-light);
    font-weight: bold;
    font-size: 1.1rem;
    font-family: 'Consolas', monospace;
}

.evaluacion-tabs {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 10px;
    overflow: hidden;
}

.eval-tab-buttons {
    display: flex;
    background: rgba(0, 0, 0, 0.7);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.eval-tab-btn {
    flex: 1;
    background: none;
    border: none;
    color: var(--text-dim);
    padding: 1rem 1.5rem;
    font-size: 0.95rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
    text-align: center;
    border-bottom: 3px solid transparent;
}

.eval-tab-btn:hover {
    color: var(--text-light);
    background: rgba(0, 255, 255, 0.05);
}

.eval-tab-btn.active {
    color: var(--neon-cyan);
    border-bottom-color: var(--neon-cyan);
    background: rgba(0, 255, 255, 0.1);
}

.eval-tab-content {
    padding: 2rem;
    min-height: 400px;
}

.eval-tab-pane {
    display: none;
    animation: fadeIn 0.5s ease;
}

.eval-tab-pane.active {
    display: block;
}

.eval-question {
    margin-bottom: 2.5rem;
}

.eval-question:last-child {
    margin-bottom: 0;
}

.eval-question p strong {
    color: var(--neon-yellow);
    font-size: 1.05rem;
    display: block;
    margin-bottom: 1rem;
}

.verb-table-eval {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
    overflow-x: auto;
}

.verb-table-eval table {
    width: 100%;
    border-collapse: collapse;
}

.verb-table-eval th {
    color: var(--neon-green);
    padding: 1rem;
    text-align: left;
    border-bottom: 2px solid rgba(57, 255, 20, 0.3);
    font-weight: 600;
}

.verb-table-eval td {
    color: var(--text-light);
    padding: 1rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.verb-table-eval tr:last-child td {
    border-bottom: none;
}

.eval-input {
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid var(--neon-cyan);
    border-radius: 6px;
    padding: 0.5rem 0.75rem;
    color: var(--text-light);
    font-size: 0.95rem;
    width: 120px;
    outline: none;
    transition: all 0.2s;
}

.eval-input:focus {
    border-color: var(--neon-green);
    box-shadow: 0 0 10px rgba(57, 255, 20, 0.3);
}

.eval-multiple-choice {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.choice-item {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.choice-item p {
    color: var(--text-light);
    margin-bottom: 1rem;
    font-size: 1rem;
}

.choice-options {
    display: flex;
    gap: 1.5rem;
    flex-wrap: wrap;
}

.choice-options label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--text-light);
    cursor: pointer;
    font-size: 0.95rem;
    padding: 0.5rem 1rem;
    background: rgba(0, 0, 0, 0.5);
    border-radius: 6px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.2s;
}

.choice-options label:hover {
    background: rgba(0, 255, 255, 0.1);
    border-color: var(--neon-cyan);
}

.choice-options input[type="radio"] {
    accent-color: var(--neon-green);
    width: 18px;
    height: 18px;
}

.eval-story-completion {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.eval-story-completion p {
    color: var(--text-light);
    line-height: 1.6;
    margin-bottom: 1.5rem;
}

.story-inputs {
    display: flex;
    gap: 0.75rem;
    flex-wrap: wrap;
    justify-content: center;
    margin-top: 1.5rem;
}

.story-input {
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid var(--neon-pink);
    border-radius: 6px;
    padding: 0.5rem 0.75rem;
    color: var(--text-light);
    font-size: 0.95rem;
    width: 100px;
    outline: none;
    transition: all 0.2s;
    text-align: center;
}

.story-input:focus {
    border-color: var(--neon-green);
    box-shadow: 0 0 10px rgba(57, 255, 20, 0.3);
}

.eval-dialogue-conversion {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.eval-dialogue-conversion p {
    color: var(--text-light);
    line-height: 1.6;
    margin-bottom: 1.5rem;
}

.eval-dialogue-conversion strong {
    color: var(--neon-yellow);
}

.dialogue-inputs p {
    margin-bottom: 1rem;
}

.dialogue-input {
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid var(--neon-purple);
    border-radius: 6px;
    padding: 0.5rem 0.75rem;
    color: var(--text-light);
    font-size: 0.95rem;
    width: 150px;
    outline: none;
    transition: all 0.2s;
}

.dialogue-input:focus {
    border-color: var(--neon-green);
    box-shadow: 0 0 10px rgba(57, 255, 20, 0.3);
}

.eval-controls {
    display: flex;
    justify-content: space-between;
    padding: 1.5rem 2rem;
    background: rgba(0, 0, 0, 0.7);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.btn-eval-prev, .btn-eval-next, .btn-eval-submit {
    padding: 0.75rem 1.5rem;
    border: none;
    border-radius: 8px;
    font-weight: bold;
    cursor: pointer;
    font-size: 1rem;
    transition: all 0.3s;
    min-width: 150px;
}

.btn-eval-prev, .btn-eval-next {
    background: rgba(0, 255, 255, 0.1);
    color: var(--neon-cyan);
    border: 1px solid var(--neon-cyan);
}

.btn-eval-prev:hover, .btn-eval-next:hover {
    background: rgba(0, 255, 255, 0.2);
    transform: translateY(-3px);
}

.btn-eval-submit {
    background: linear-gradient(45deg, var(--neon-green), #2E7D32);
    color: white;
}

.btn-eval-submit:hover {
    background: linear-gradient(45deg, #2E7D32, var(--neon-green));
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.eval-results {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 12px;
    border: 2px solid var(--neon-green);
    padding: 2rem;
    animation: fadeIn 0.5s ease;
}

.eval-results h4 {
    color: var(--neon-green);
    margin-bottom: 2rem;
    font-size: 1.3rem;
    text-align: center;
}

.results-container {
    display: grid;
    grid-template-columns: 300px 1fr;
    gap: 2rem;
}

@media (max-width: 768px) {
    .results-container {
        grid-template-columns: 1fr;
    }
}

.result-score {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 1rem;
}

.score-circle {
    width: 150px;
    height: 150px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--neon-green), #2E7D32);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    border: 5px solid var(--neon-green);
    box-shadow: 0 0 30px rgba(57, 255, 20, 0.3);
}

.score-number {
    font-size: 3rem;
    font-weight: bold;
    color: white;
    line-height: 1;
}

.score-label {
    font-size: 1rem;
    color: rgba(255, 255, 255, 0.8);
}

.score-grade {
    font-size: 1.5rem;
    font-weight: bold;
    color: var(--neon-yellow);
    text-align: center;
}

.result-details {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.result-details h5 {
    color: var(--neon-cyan);
    font-size: 1.1rem;
    margin-bottom: 1rem;
}

.result-breakdown {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.breakdown-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.breakdown-label {
    color: var(--text-light);
    font-size: 0.95rem;
}

.breakdown-value {
    color: var(--neon-green);
    font-weight: bold;
    font-size: 1.1rem;
}

.result-feedback {
    background: rgba(255, 193, 7, 0.05);
    border-radius: 8px;
    border: 1px solid rgba(255, 193, 7, 0.2);
    padding: 1.5rem;
    color: var(--text-light);
    line-height: 1.6;
    margin-bottom: 1.5rem;
}

.result-feedback p {
    margin-bottom: 0.75rem;
}

.result-feedback p:last-child {
    margin-bottom: 0;
}

.result-feedback strong {
    color: var(--neon-yellow);
}

.btn-retry-eval {
    display: block;
    width: 100%;
    background: linear-gradient(45deg, var(--neon-pink), #AD1457);
    color: white;
    border: none;
    border-radius: 8px;
    padding: 1rem;
    font-weight: bold;
    cursor: pointer;
    font-size: 1rem;
    transition: all 0.3s;
    text-align: center;
}

.btn-retry-eval:hover {
    background: linear-gradient(45deg, #AD1457, var(--neon-pink));
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

/* CIERRE METACOGNITIVO */
.cierre-container {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 12px;
    border: 2px solid var(--neon-yellow);
    padding: 2rem;
    margin-bottom: 3rem;
}

.autoevaluacion-panel, .plan-estudio-panel, .recursos-finales {
    margin-bottom: 3rem;
}

.autoevaluacion-panel:last-child, .plan-estudio-panel:last-child, .recursos-finales:last-child {
    margin-bottom: 0;
}

.autoevaluacion-panel h4, .plan-estudio-panel h4, .recursos-finales h4 {
    color: var(--neon-yellow);
    margin-bottom: 1.5rem;
    font-size: 1.2rem;
    padding-bottom: 0.5rem;
    border-bottom: 2px solid rgba(255, 255, 255, 0.1);
}

.autoeval-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.autoeval-item {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 10px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.autoeval-item label {
    display: block;
    color: var(--text-light);
    margin-bottom: 1rem;
    font-size: 0.95rem;
    font-weight: 500;
}

.autoeval-slider-container {
    margin-bottom: 1rem;
}

.autoeval-slider {
    width: 100%;
    height: 10px;
    -webkit-appearance: none;
    appearance: none;
    background: linear-gradient(90deg, #FF6B6B, var(--neon-yellow), var(--neon-green));
    border-radius: 5px;
    outline: none;
    margin-bottom: 0.5rem;
}

.autoeval-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: var(--neon-cyan);
    cursor: pointer;
    border: 2px solid white;
    box-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
}

.autoeval-slider::-moz-range-thumb {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: var(--neon-cyan);
    cursor: pointer;
    border: 2px solid white;
    box-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
}

.autoeval-labels {
    display: flex;
    justify-content: space-between;
    color: var(--text-dim);
    font-size: 0.8rem;
}

.autoeval-value {
    color: var(--neon-green);
    font-weight: bold;
    font-size: 1.1rem;
    text-align: center;
}

.autoeval-summary {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: rgba(0, 0, 0, 0.5);
    padding: 1.5rem;
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    flex-wrap: wrap;
    gap: 1rem;
}

.summary-score {
    color: var(--text-light);
    font-size: 1.1rem;
}

.summary-score strong {
    color: var(--neon-yellow);
}

.summary-score span {
    color: var(--neon-green);
    font-weight: bold;
    font-size: 1.3rem;
}

.btn-save-autoeval {
    background: linear-gradient(45deg, var(--neon-green), #2E7D32);
    color: white;
    border: none;
    border-radius: 8px;
    padding: 0.75rem 1.5rem;
    font-weight: bold;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 1rem;
    transition: all 0.3s;
}

.btn-save-autoeval:hover {
    background: linear-gradient(45deg, #2E7D32, var(--neon-green));
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.plan-estudio-panel {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 10px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.plan-content {
    margin-bottom: 2rem;
}

.plan-content p {
    color: var(--text-light);
    margin-bottom: 1rem;
    font-size: 0.95rem;
}

#studyPlanList {
    color: var(--text-light);
    padding-left: 1.5rem;
    margin: 0;
}

#studyPlanList li {
    margin-bottom: 0.75rem;
    font-size: 0.95rem;
    line-height: 1.5;
}

#studyPlanList li:last-child {
    margin-bottom: 0;
}

.plan-actions {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
}

.btn-generate-plan, .btn-download-plan {
    padding: 0.75rem 1.5rem;
    border: none;
    border-radius: 8px;
    font-weight: bold;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 1rem;
    transition: all 0.3s;
    flex: 1;
    min-width: 200px;
    justify-content: center;
}

.btn-generate-plan {
    background: linear-gradient(45deg, var(--neon-cyan), #006064);
    color: white;
}

.btn-download-plan {
    background: linear-gradient(45deg, var(--neon-pink), #AD1457);
    color: white;
}

.btn-generate-plan:hover, .btn-download-plan:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.recursos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
}

.recurso-card {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 10px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
    text-decoration: none;
    color: var(--text-light);
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    transition: all 0.3s;
}

.recurso-card:hover {
    background: rgba(0, 0, 0, 0.5);
    border-color: var(--neon-cyan);
    transform: translateY(-5px);
    box-shadow: var(--shadow-neon);
}

.recurso-icon {
    font-size: 2rem;
    flex-shrink: 0;
}

.recurso-content h5 {
    color: var(--neon-green);
    margin-bottom: 0.5rem;
    font-size: 1rem;
}

.recurso-content p {
    color: var(--text-dim);
    font-size: 0.9rem;
    margin: 0;
    line-height: 1.4;
}

/* NOTIFICACIONES */
.notification {
    position: fixed;
    top: 20px;
    right: 20px;
    background: var(--bg-card);
    border-radius: 8px;
    padding: 1rem 1.5rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
    min-width: 300px;
    max-width: 400px;
    z-index: 10000;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    animation: slideIn 0.3s ease;
    border-left: 4px solid;
}

@keyframes slideIn {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

.notification-success {
    border-left-color: var(--neon-green);
    background: rgba(57, 255, 20, 0.1);
}

.notification-warning {
    border-left-color: var(--neon-yellow);
    background: rgba(255, 193, 7, 0.1);
}

.notification-info {
    border-left-color: var(--neon-cyan);
    background: rgba(0, 255, 255, 0.1);
}

.notification-content {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    flex: 1;
}

.notification-icon {
    font-size: 1.2rem;
}

.notification-message {
    color: var(--text-light);
    font-size: 0.95rem;
    line-height: 1.4;
    flex: 1;
}

.notification-close {
    background: none;
    border: none;
    color: var(--text-dim);
    font-size: 1.5rem;
    cursor: pointer;
    padding: 0;
    line-height: 1;
    transition: color 0.2s;
}

.notification-close:hover {
    color: var(--text-light);
}

/* SCROLLBAR PERSONALIZADA */
::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 5px;
}

::-webkit-scrollbar-thumb {
    background: rgba(0, 255, 255, 0.3);
    border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 255, 255, 0.5);
}

/* RESPONSIVE */
@media (max-width: 768px) {
    .leccion-ingles-past-simple {
        padding: 1rem;
    }
    
    .titulo-leccion {
        font-size: 1.8rem;
        flex-direction: column;
        gap: 0.5rem;
    }
    
    .objetivos-grid, .concepto-grid, .verbos-grid {
        grid-template-columns: 1fr;
    }
    
    .verb-display-inner {
        flex-direction: column;
        gap: 1rem;
    }
    
    .verb-arrow {
        transform: rotate(90deg);
    }
    
    .story-buttons-grid {
        grid-template-columns: 1fr;
    }
    
    .story-controls-main {
        flex-direction: column;
    }
    
    .btn-clear-story, .btn-read-story, .btn-analyze-story, .btn-save-story {
        min-width: 100%;
    }
    
    .conversation-scenario {
        text-align: center;
    }
    
    .scenario-controls {
        justify-content: center;
    }
    
    .convo-difficulty {
        margin-left: 0;
        justify-content: center;
    }
    
    .conversation-input {
        flex-direction: column;
    }
    
    .conversation-input input {
        width: 100%;
    }
    
    .btn-send-response {
        width: 100%;
        justify-content: center;
    }
    
    .eval-tab-buttons {
        flex-direction: column;
    }
    
    .eval-controls {
        flex-direction: column;
        gap: 1rem;
    }
    
    .btn-eval-prev, .btn-eval-next, .btn-eval-submit {
        min-width: 100%;
    }
    
    .plan-actions {
        flex-direction: column;
    }
    
    .btn-generate-plan, .btn-download-plan {
        min-width: 100%;
    }
    
    .notification {
        min-width: 250px;
        max-width: 300px;
    }
}

@media (max-width: 480px) {
    .verbos-controls {
        justify-content: center;
    }
    
    .verbos-stats {
        justify-content: center;
        text-align: center;
    }
    
    .stat-item {
        flex-direction: column;
        gap: 0.25rem;
    }
    
    .eval-timer {
        margin: 0 auto;
    }
}/* VARIABLES PRINCIPALES CYBERPUNK */
:root {
    --neon-cyan: #00FFFF;
    --neon-green: #39FF14;
    --neon-pink: #FF00FF;
    --neon-yellow: #FFFF00;
    --neon-orange: #FF6B00;
    --bg-dark: #0a0a1a;
    --bg-darker: #050510;
    --bg-card: rgba(10, 10, 26, 0.85);
    --text-light: #e0f0ff;
    --text-dim: #a0b0c0;
    --border-glow: 1px solid rgba(0, 255, 255, 0.4);
    --shadow-neon: 0 0 10px rgba(0, 255, 255, 0.3);
}

/* RESET Y BASE */
.leccion-ingles-future * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

.leccion-ingles-future {
    background: var(--bg-dark);
    color: var(--text-light);
    font-family: 'Segoe UI', 'Roboto', 'Consolas', monospace;
    padding: 1.5rem;
    max-width: 1200px;
    margin: 0 auto;
    line-height: 1.6;
    position: relative;
    min-height: 100vh;
}

/* FONDO CYBERPUNK SUTIL */
.leccion-ingles-future::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        radial-gradient(circle at 20% 30%, rgba(0, 255, 255, 0.05) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(57, 255, 20, 0.03) 0%, transparent 50%),
        linear-gradient(45deg, rgba(255, 0, 255, 0.02) 0%, transparent 50%);
    pointer-events: none;
    z-index: 0;
}

/* CABECERA */
.leccion-header.compact {
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
    border-bottom: var(--border-glow);
    position: relative;
}

.header-top {
    display: flex;
    gap: 1rem;
    margin-bottom: 1rem;
    flex-wrap: wrap;
}

.materia-badge, .nivel-badge, .tiempo-badge {
    background: rgba(0, 255, 255, 0.1);
    border: 1px solid var(--neon-cyan);
    padding: 0.5rem 1rem;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: 600;
}

.titulo-leccion {
    font-size: 2.5rem;
    margin-bottom: 0.5rem;
    color: var(--neon-pink);
    text-shadow: 0 0 10px rgba(255, 0, 255, 0.5);
    display: flex;
    align-items: center;
    gap: 1rem;
}

.neon-icon {
    font-size: 3rem;
    animation: glow 2s infinite alternate;
}

.leccion-subtitulo {
    color: var(--text-dim);
    font-size: 1.1rem;
    margin-bottom: 1.5rem;
}

/* PANEL OBJETIVOS */
.objetivos-rapidos {
    margin-bottom: 2.5rem;
}

.objetivos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
}

.objetivo-card {
    background: var(--bg-card);
    border: var(--border-glow);
    border-radius: 12px;
    padding: 1.5rem;
    display: flex;
    align-items: center;
    gap: 1.5rem;
    transition: transform 0.3s, box-shadow 0.3s;
}

.objetivo-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-neon);
}

.obj-icon {
    font-size: 2.5rem;
    flex-shrink: 0;
}

.obj-text h4 {
    color: var(--neon-green);
    margin-bottom: 0.5rem;
}

.obj-text p {
    color: var(--text-dim);
    font-size: 0.95rem;
}

/* SECCIONES */
.seccion-principal {
    display: flex;
    flex-direction: column;
    gap: 3rem;
}

.seccion-titulo {
    color: var(--neon-cyan);
    font-size: 1.8rem;
    margin-bottom: 1.5rem;
    display: flex;
    align-items: center;
    gap: 1rem;
}

.neon-bullet {
    color: var(--neon-pink);
    font-size: 1.5rem;
    animation: pulse 2s infinite;
}

/* TEOR칈A INTERACTIVA */
.teoria-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 2rem;
    margin-bottom: 2rem;
}

.teoria-card {
    background: var(--bg-card);
    border-radius: 12px;
    overflow: hidden;
    transition: transform 0.3s;
}

.teoria-card:hover {
    transform: translateY(-5px);
}

.teoria-card[data-tipo="going-to"] {
    border: 2px solid var(--neon-green);
}

.teoria-card[data-tipo="will"] {
    border: 2px solid var(--neon-pink);
}

.teoria-header {
    background: rgba(0, 0, 0, 0.5);
    padding: 1.5rem;
    display: flex;
    align-items: center;
    gap: 1rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.teoria-icon {
    font-size: 2rem;
}

.teoria-header h3 {
    font-size: 1.5rem;
    color: var(--text-light);
    flex: 1;
}

.teoria-badge {
    background: rgba(0, 0, 0, 0.5);
    padding: 0.5rem 1rem;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 600;
}

.teoria-card[data-tipo="going-to"] .teoria-badge {
    background: rgba(57, 255, 20, 0.2);
    color: var(--neon-green);
    border: 1px solid var(--neon-green);
}

.teoria-card[data-tipo="will"] .teoria-badge {
    background: rgba(255, 0, 255, 0.2);
    color: var(--neon-pink);
    border: 1px solid var(--neon-pink);
}

.teoria-body {
    padding: 1.5rem;
}

.teoria-body p {
    margin-bottom: 1rem;
}

.ejemplos {
    background: rgba(0, 0, 0, 0.3);
    padding: 1rem;
    border-radius: 8px;
    margin: 1.5rem 0;
}

.ejemplos ul {
    list-style: none;
    padding-left: 0;
}

.ejemplos li {
    margin-bottom: 0.5rem;
    padding-left: 1.5rem;
    position: relative;
}

.ejemplos li:before {
    content: '';
    position: absolute;
    left: 0;
    color: var(--neon-cyan);
}

.audio-controls {
    margin-top: 1.5rem;
}

.btn-audio {
    background: rgba(0, 255, 255, 0.1);
    border: 1px solid var(--neon-cyan);
    color: var(--text-light);
    padding: 0.75rem 1.5rem;
    border-radius: 8px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-weight: 600;
    transition: all 0.3s;
}

.btn-audio:hover {
    background: rgba(0, 255, 255, 0.2);
    transform: translateY(-2px);
}

/* DIFERENCIA CLAVE */
.diferencia-clave {
    background: rgba(255, 255, 0, 0.05);
    border: 1px solid rgba(255, 255, 0, 0.2);
    border-radius: 12px;
    padding: 1.5rem;
}

.diferencia-clave h4 {
    color: var(--neon-yellow);
    margin-bottom: 1rem;
}

.diferencia-content {
    display: flex;
    gap: 2rem;
    flex-wrap: wrap;
}

.diferencia-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    flex: 1;
    min-width: 250px;
}

.dif-icon {
    font-size: 2rem;
    flex-shrink: 0;
}

.dif-text {
    font-size: 1.1rem;
}

/* SIMULADOR DE ORACIONES */
.simulador-container {
    display: grid;
    grid-template-columns: 1fr 2fr 1fr;
    gap: 1.5rem;
}

@media (max-width: 1024px) {
    .simulador-container {
        grid-template-columns: 1fr;
    }
}

.simulador-controls {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 12px;
    padding: 1.5rem;
    border: var(--border-glow);
}

.controls-header {
    margin-bottom: 1.5rem;
}

.controls-header h4 {
    color: var(--neon-pink);
    margin-bottom: 0.5rem;
}

.palabras-disponibles {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
    margin-bottom: 1.5rem;
    min-height: 100px;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    border: 1px dashed rgba(255, 255, 255, 0.2);
}

.palabra {
    background: rgba(0, 255, 255, 0.1);
    border: 1px solid var(--neon-cyan);
    color: var(--text-light);
    padding: 0.75rem 1rem;
    border-radius: 6px;
    cursor: move;
    user-select: none;
    transition: all 0.2s;
}

.palabra:hover {
    background: rgba(0, 255, 255, 0.2);
    transform: translateY(-2px);
}

.palabra.dragging {
    opacity: 0.5;
}

.controls-buttons {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.btn-simulador {
    background: linear-gradient(45deg, var(--neon-pink), #FF00AA);
    border: none;
    color: white;
    padding: 1rem;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    transition: all 0.3s;
}

.btn-simulador:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(255, 0, 255, 0.3);
}

.simulador-area {
    background: var(--bg-card);
    border-radius: 12px;
    padding: 1.5rem;
    border: 1px solid rgba(57, 255, 20, 0.2);
}

.area-titulo {
    margin-bottom: 1.5rem;
}

.area-titulo h4 {
    color: var(--neon-green);
    margin-bottom: 0.5rem;
}

.area-construccion {
    min-height: 150px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    border: 2px dashed rgba(57, 255, 20, 0.3);
    padding: 1.5rem;
    margin-bottom: 1.5rem;
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
    align-content: flex-start;
}

.area-construccion.drag-over {
    border-color: var(--neon-green);
    background: rgba(57, 255, 20, 0.05);
}

.mensaje-vacio {
    color: var(--text-dim);
    font-style: italic;
    width: 100%;
    text-align: center;
    padding: 2rem;
}

.area-feedback {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    padding: 1rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
    min-height: 80px;
}

.simulador-info {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 12px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 255, 0, 0.2);
}

.simulador-info h4 {
    color: var(--neon-yellow);
    margin-bottom: 1.5rem;
}

.info-content {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.info-item {
    display: flex;
    justify-content: space-between;
    padding: 0.75rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 6px;
}

.info-label {
    color: var(--text-dim);
}

.info-value {
    color: var(--text-light);
    font-weight: 600;
}

/* CRYSTAL BALL GAME */
.crystal-container {
    display: grid;
    grid-template-columns: 1fr 2fr;
    gap: 2rem;
}

@media (max-width: 1024px) {
    .crystal-container {
        grid-template-columns: 1fr;
    }
}

.crystal-wrapper {
    display: flex;
    justify-content: center;
    align-items: center;
}

.crystal-ball {
    width: 250px;
    height: 250px;
    border-radius: 50%;
    background: radial-gradient(circle at 30% 30%, rgba(255, 0, 255, 0.8), rgba(0, 255, 255, 0.8));
    position: relative;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    box-shadow: 0 0 50px rgba(255, 0, 255, 0.5),
                inset 0 0 50px rgba(0, 255, 255, 0.3);
}

.crystal-glow {
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: radial-gradient(circle at 40% 40%, rgba(255, 255, 255, 0.8), transparent 70%);
    animation: rotate 20s linear infinite;
}

@keyframes rotate {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

.crystal-text {
    position: relative;
    z-index: 2;
    color: var(--bg-darker);
    font-weight: bold;
    font-size: 1.2rem;
    text-align: center;
    padding: 1rem;
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
}

.crystal-particles {
    position: absolute;
    width: 100%;
    height: 100%;
    background-image: 
        radial-gradient(circle at 20% 80%, rgba(255, 255, 255, 0.3) 2px, transparent 3px),
        radial-gradient(circle at 60% 10%, rgba(255, 255, 255, 0.3) 2px, transparent 3px),
        radial-gradient(circle at 80% 50%, rgba(255, 255, 255, 0.3) 2px, transparent 3px);
    background-size: 100% 100%;
    animation: float 15s infinite linear;
}

@keyframes float {
    0%, 100% { transform: translate(0, 0); }
    50% { transform: translate(10px, 10px); }
}

.crystal-controls {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 12px;
    padding: 1.5rem;
    border: var(--border-glow);
}

.predictions-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 1rem;
    margin: 1.5rem 0;
}

.btn-prediction {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(0, 255, 255, 0.3);
    color: var(--text-light);
    padding: 1rem;
    border-radius: 8px;
    cursor: pointer;
    text-align: left;
    transition: all 0.3s;
}

.btn-prediction:hover {
    background: rgba(0, 255, 255, 0.1);
    transform: translateY(-2px);
}

.btn-prediction.going-to {
    border-color: var(--neon-green);
}

.btn-prediction.will {
    border-color: var(--neon-pink);
}

.crystal-stats {
    display: flex;
    gap: 2rem;
    margin-top: 1.5rem;
    padding-top: 1.5rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.stat-item {
    flex: 1;
    background: rgba(0, 0, 0, 0.3);
    padding: 1rem;
    border-radius: 8px;
    text-align: center;
}

.stat-label {
    display: block;
    color: var(--text-dim);
    font-size: 0.9rem;
    margin-bottom: 0.5rem;
}

.stat-value {
    display: block;
    color: var(--neon-cyan);
    font-size: 1.5rem;
    font-weight: bold;
}

.prediction-output {
    grid-column: 1 / -1;
    background: var(--bg-card);
    border-radius: 12px;
    border: 1px solid rgba(255, 0, 255, 0.2);
    overflow: hidden;
}

.output-header {
    background: rgba(255, 0, 255, 0.1);
    padding: 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid rgba(255, 0, 255, 0.2);
}

.output-header h4 {
    color: var(--neon-pink);
    margin: 0;
}

.btn-clear {
    background: rgba(255, 0, 0, 0.1);
    border: 1px solid rgba(255, 0, 0, 0.3);
    color: #FF6B6B;
    padding: 0.5rem 1rem;
    border-radius: 6px;
    cursor: pointer;
}

.output-content {
    padding: 1.5rem;
}

.prediction-final {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
}

@media (max-width: 768px) {
    .prediction-final {
        grid-template-columns: 1fr;
    }
}

.prediction-en, .prediction-es, .prediction-analysis {
    background: rgba(0, 0, 0, 0.3);
    padding: 1.5rem;
    border-radius: 8px;
}

.prediction-en h5 {
    color: var(--neon-cyan);
    margin-bottom: 1rem;
}

.prediction-es h5 {
    color: var(--neon-green);
    margin-bottom: 1rem;
}

.prediction-analysis h5 {
    color: var(--neon-yellow);
    margin-bottom: 1rem;
}

.prediction-text, .translation-text {
    font-size: 1.1rem;
    line-height: 1.6;
}

/* INTERVIEW SIMULATOR */
.interview-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
}

@media (max-width: 1024px) {
    .interview-container {
        grid-template-columns: 1fr;
    }
}

.interview-scenario {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 12px;
    padding: 1.5rem;
    border: 1px solid rgba(0, 255, 255, 0.2);
}

.scenario-header {
    margin-bottom: 1.5rem;
}



.scenario-header h4 {
    color: var(--neon-cyan);
    margin-bottom: 0.5rem;
}

.interviewer {
    display: flex;
    gap: 1rem;
    margin-bottom: 1.5rem;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
}

.interviewer-avatar {
    font-size: 2rem;
    flex-shrink: 0;
}

.interviewer-text p {
    margin: 0;
    line-height: 1.6;
}

.interview-questions {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    padding: 1.5rem;
}

.questions-header {
    margin-bottom: 1rem;
}

.questions-header h5 {
    color: var(--neon-yellow);
    margin-bottom: 0.5rem;
}

.questions-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 1rem;
}

.btn-question {
    background: rgba(0, 255, 255, 0.1);
    border: 1px solid var(--neon-cyan);
    color: var(--text-light);
    padding: 1rem;
    border-radius: 8px;
    cursor: pointer;
    text-align: left;
    transition: all 0.3s;
}

.btn-question:hover {
    background: rgba(0, 255, 255, 0.2);
    transform: translateY(-2px);
}

.interview-answers {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 12px;
    padding: 1.5rem;
    border: 1px solid rgba(57, 255, 20, 0.2);
}

.answers-header {
    margin-bottom: 1.5rem;
}

.answers-header h4 {
    color: var(--neon-green);
    margin-bottom: 0.5rem;
}

.answers-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 1rem;
    margin-bottom: 2rem;
}

.btn-answer {
    background: rgba(57, 255, 20, 0.1);
    border: 1px solid var(--neon-green);
    color: var(--text-light);
    padding: 1rem;
    border-radius: 8px;
    cursor: pointer;
    text-align: left;
    transition: all 0.3s;
}

.btn-answer:hover {
    background: rgba(57, 255, 20, 0.2);
    transform: translateY(-2px);
}

.answers-recorder {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    padding: 1.5rem;
}

.answers-recorder h5 {
    color: var(--neon-pink);
    margin-bottom: 1rem;
}

.recorder-controls {
    display: flex;
    gap: 1rem;
    align-items: center;
    flex-wrap: wrap;
}

.btn-record, .btn-play {
    padding: 1rem 1.5rem;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.3s;
}

.btn-record {
    background: linear-gradient(45deg, #FF6B6B, #FF0000);
    color: white;
}

.btn-play {
    background: linear-gradient(45deg, #4CAF50, #2E7D32);
    color: white;
}

.btn-record:hover, .btn-play:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.recorder-status {
    flex: 1;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    min-width: 200px;
}

/* ERRORES COMUNES */
.errores-column {
    display: flex;
    flex-direction: column;
    gap: 2rem;
}

.error-completo {
    background: var(--bg-card);
    border-radius: 12px;
    overflow: hidden;
    border: 1px solid rgba(255, 107, 107, 0.3);
}

.error-header-completo {
    background: rgba(255, 107, 107, 0.1);
    padding: 1.5rem;
    display: flex;
    align-items: center;
    gap: 1.5rem;
    border-bottom: 1px solid rgba(255, 107, 107, 0.2);
}

.error-icon {
    font-size: 2.5rem;
    flex-shrink: 0;
}

.error-titulo h3 {
    color: #FF6B6B;
    margin-bottom: 0.5rem;
}

.error-subtitulo {
    color: var(--text-dim);
    font-size: 0.95rem;
}

.error-contenido-completo {
    padding: 1.5rem;
}

.error-explicacion {
    margin-bottom: 1.5rem;
}

.error-explicacion h4 {
    color: var(--neon-yellow);
    margin-bottom: 0.75rem;
}

.error-explicacion p {
    line-height: 1.6;
}

.error-comparacion {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.5rem;
    margin: 1.5rem 0;
}

@media (max-width: 768px) {
    .error-comparacion {
        grid-template-columns: 1fr;
    }
}

.comparacion-item {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    overflow: hidden;
}

.comparacion-header {
    padding: 1rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.comparacion-badge {
    padding: 0.5rem 1rem;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: bold;
}

.incorrecto-badge {
    background: rgba(255, 107, 107, 0.2);
    color: #FF6B6B;
    border: 1px solid #FF6B6B;
}

.correcto-badge {
    background: rgba(57, 255, 20, 0.2);
    color: var(--neon-green);
    border: 1px solid var(--neon-green);
}

.comparacion-desc {
    color: var(--text-dim);
    font-size: 0.85rem;
}

.comparacion-codigo {
    padding: 1rem;
    font-family: 'Consolas', monospace;
}

.comparacion-codigo pre {
    margin: 0;
    white-space: pre-wrap;
    word-wrap: break-word;
}

.comparacion-codigo code {
    color: var(--text-light);
    font-size: 0.9rem;
    line-height: 1.5;
}

.comparacion-problema, .comparacion-solucion {
    padding: 1rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    font-size: 0.95rem;
}

.comparacion-problema p, .comparacion-solucion p {
    margin: 0;
}

.error-consejo {
    background: rgba(255, 255, 0, 0.05);
    border: 1px solid rgba(255, 255, 0, 0.2);
    border-radius: 8px;
    padding: 1.5rem;
    margin-top: 1.5rem;
}

.error-consejo p {
    margin: 0;
    color: var(--neon-yellow);
}

.error-ejercicio {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    padding: 1.5rem;
    margin-top: 1.5rem;
}

.error-ejercicio h5 {
    color: var(--neon-cyan);
    margin-bottom: 1rem;
}

.ejercicio-input {
    width: 100%;
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid var(--neon-cyan);
    color: var(--text-light);
    padding: 1rem;
    border-radius: 8px;
    font-family: inherit;
    margin: 1rem 0;
    min-height: 100px;
    resize: vertical;
}

.btn-corregir {
    background: linear-gradient(45deg, var(--neon-cyan), #0097A7);
    border: none;
    color: white;
    padding: 0.75rem 1.5rem;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
}

.ejercicio-feedback {
    margin-top: 1rem;
    padding: 1rem;
    border-radius: 6px;
}

.feedback-correct {
    color: var(--neon-green);
}

.feedback-incorrect {
    color: #FF6B6B;
}

/* QUIZ */
.quiz-container {
    background: var(--bg-card);
    border-radius: 12px;
    border: 1px solid rgba(255, 0, 255, 0.2);
    overflow: hidden;
}

.quiz-progress {
    background: rgba(0, 0, 0, 0.5);
    padding: 1.5rem;
    border-bottom: 1px solid rgba(255, 0, 255, 0.2);
}

.progress-bar {
    height: 10px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 5px;
    overflow: hidden;
    margin-bottom: 1rem;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--neon-pink), #FF00AA);
    border-radius: 5px;
    transition: width 0.5s ease;
}

.progress-text {
    color: var(--text-dim);
    text-align: center;
    font-size: 0.9rem;
}

.quiz-content {
    padding: 1.5rem;
}

.quiz-question {
    background: rgba(0, 0, 0, 0.3);
    padding: 1.5rem;
    border-radius: 8px;
    margin-bottom: 1.5rem;
}

.quiz-question h4 {
    color: var(--neon-cyan);
    margin-bottom: 0.5rem;
}

.quiz-question p {
    font-size: 1.1rem;
    margin: 0;
}

.quiz-options {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.quiz-option {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: var(--text-light);
    padding: 1.5rem;
    border-radius: 8px;
    cursor: pointer;
    text-align: left;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    gap: 1rem;
}

.quiz-option:hover {
    background: rgba(0, 255, 255, 0.1);
    transform: translateY(-2px);
}

.quiz-option.selected {
    background: rgba(0, 255, 255, 0.2);
    border-color: var(--neon-cyan);
}

.quiz-option.correct {
    background: rgba(57, 255, 20, 0.2);
    border-color: var(--neon-green);
}

.quiz-option.incorrect {
    background: rgba(255, 107, 107, 0.2);
    border-color: #FF6B6B;
}

.option-letter {
    background: rgba(0, 0, 0, 0.5);
    width: 30px;
    height: 30px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    flex-shrink: 0;
}

.quiz-feedback {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
    min-height: 100px;
}

.feedback-correct, .feedback-incorrect {
    padding: 1rem;
    border-radius: 6px;
}

.feedback-correct {
    background: rgba(57, 255, 20, 0.1);
    border: 1px solid var(--neon-green);
}

.feedback-incorrect {
    background: rgba(255, 107, 107, 0.1);
    border: 1px solid #FF6B6B;
}

.quiz-navigation {
    display: flex;
    justify-content: space-between;
    gap: 1rem;
}

.btn-quiz {
    background: linear-gradient(45deg, var(--neon-pink), #FF00AA);
    border: none;
    color: white;
    padding: 1rem 2rem;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    transition: all 0.3s;
}

.btn-quiz:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(255, 0, 255, 0.3);
}

.btn-quiz:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.quiz-results {
    padding: 1.5rem;
}

.results-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
}

.results-header h4 {
    color: var(--neon-pink);
    margin: 0;
}

.results-score {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
}

.score-circle {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--neon-pink), #FF00AA);
    display: flex;
    align-items: center;
    justify-content: center;
    border: 3px solid var(--neon-pink);
    box-shadow: 0 0 20px rgba(255, 0, 255, 0.3);
}

.score-number {
    font-size: 2rem;
    font-weight: bold;
    color: white;
}

.score-label {
    color: var(--text-dim);
    font-size: 0.9rem;
}

.results-details {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
}

.results-details h5 {
    color: var(--neon-yellow);
    margin-bottom: 1rem;
}

.details-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 1rem;
}

.detail-item {
    background: rgba(0, 0, 0, 0.5);
    padding: 1rem;
    border-radius: 6px;
    display: flex;
    justify-content: space-between;
}

.detail-label {
    color: var(--text-dim);
}

.detail-value {
    color: var(--text-light);
    font-weight: bold;
}

.results-actions {
    display: flex;
    gap: 1rem;
}

.btn-results {
    flex: 1;
    background: linear-gradient(45deg, var(--neon-cyan), #0097A7);
    border: none;
    color: white;
    padding: 1rem;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    transition: all 0.3s;
}

.btn-results:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 255, 255, 0.3);
}

/* TIMELINE */
.timeline-container {
    background: var(--bg-card);
    border-radius: 12px;
    border: 1px solid rgba(0, 255, 255, 0.2);
    padding: 1.5rem;
}

.timeline-track {
    height: 10px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 5px;
    margin: 3rem 0;
    position: relative;
}

.timeline-progress {
    position: absolute;
    height: 100%;
    background: linear-gradient(90deg, var(--neon-pink), var(--neon-cyan));
    border-radius: 5px;
    transition: width 0.5s ease;
    width: 0%;
}

.timeline-events {
    position: relative;
    height: 200px;
}

.timeline-event {
    position: absolute;
    top: 0;
    transform: translateX(-50%);
    text-align: center;
    width: 200px;
}

.event-marker {
    width: 20px;
    height: 20px;
    background: var(--neon-cyan);
    border-radius: 50%;
    margin: 0 auto 1rem;
    box-shadow: 0 0 10px var(--neon-cyan);
    transition: all 0.3s;
}

.timeline-event.active .event-marker {
    width: 30px;
    height: 30px;
    background: var(--neon-pink);
    box-shadow: 0 0 20px var(--neon-pink);
}

.event-content {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 8px;
    padding: 1rem;
    border: 1px solid rgba(0, 255, 255, 0.2);
    transition: all 0.3s;
}

.timeline-event.active .event-content {
    border-color: var(--neon-pink);
    transform: scale(1.05);
}

.event-content h5 {
    color: var(--neon-cyan);
    margin-bottom: 0.5rem;
}

.event-content p {
    color: var(--text-dim);
    font-size: 0.9rem;
    margin-bottom: 0.5rem;
}

.btn-event {
    background: rgba(0, 255, 255, 0.1);
    border: 1px solid var(--neon-cyan);
    color: var(--text-light);
    width: 40px;
    height: 40px;
    border-radius: 50%;
    cursor: pointer;
    font-size: 1.2rem;
    transition: all 0.3s;
}


.btn-event:hover {
    background: rgba(0, 255, 255, 0.2);
    transform: scale(1.1);
}

.timeline-controls {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 2rem;
    margin: 2rem 0;
}

.btn-timeline {
    background: linear-gradient(45deg, var(--neon-cyan), #0097A7);
    border: none;
    color: white;
    padding: 1rem 2rem;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    transition: all 0.3s;
}

.btn-timeline:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 255, 255, 0.3);
}

.timeline-year {
    font-size: 3rem;
    font-weight: bold;
    color: var(--neon-pink);
    text-shadow: 0 0 10px rgba(255, 0, 255, 0.5);
    min-width: 150px;
    text-align: center;
}

.timeline-prediction {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    padding: 1.5rem;
    margin-top: 2rem;
}

.timeline-prediction h5 {
    color: var(--neon-yellow);
    margin-bottom: 1rem;
}

.timeline-prediction h5 span {
    color: var(--neon-pink);
}

#timelinePrediction {
    width: 100%;
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid var(--neon-yellow);
    color: var(--text-light);
    padding: 1rem;
    border-radius: 8px;
    font-family: inherit;
    margin: 1rem 0;
    min-height: 100px;
    resize: vertical;
}

.btn-predict {
    background: linear-gradient(45deg, var(--neon-yellow), #FFD600);
    border: none;
    color: var(--bg-dark);
    padding: 1rem 2rem;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.3s;
}

.btn-predict:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(255, 255, 0, 0.3);
}

.prediction-saved {
    margin-top: 1.5rem;
    display: flex;
    flex-direction: column;
    gap: 1rem;
    max-height: 200px;
    overflow-y: auto;
}

.prediction-item {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 8px;
    padding: 1rem;
    border: 1px solid rgba(0, 255, 255, 0.1);
}

.prediction-header {
    display: flex;
    justify-content: space-between;
    margin-bottom: 0.5rem;
}

.prediction-year {
    color: var(--neon-pink);
    font-weight: bold;
}

.prediction-time {
    color: var(--text-dim);
    font-size: 0.85rem;
}

.prediction-text {
    color: var(--text-light);
    font-size: 0.95rem;
}

/* CIERRE METACOGNITIVO */
.cierre-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
}

@media (max-width: 1024px) {
    .cierre-container {
        grid-template-columns: 1fr;
    }
}

.autoevaluacion-compact, .recursos-compact {
    background: var(--bg-card);
    border-radius: 12px;
    padding: 1.5rem;
}

.autoevaluacion-compact h4, .recursos-compact h4 {
    color: var(--neon-cyan);
    margin-bottom: 1.5rem;
}

.eval-grid {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    margin-bottom: 1.5rem;
}

.eval-item {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    padding: 1rem;
}

.eval-header {
    display: flex;
    justify-content: space-between;
    margin-bottom: 0.75rem;
}

.eval-label {
    color: var(--text-light);
    font-weight: 600;
}

.eval-value {
    color: var(--neon-pink);
    font-weight: bold;
}

.eval-slider {
    width: 100%;
    height: 10px;
    background: rgba(0, 0, 0, 0.5);
    border-radius: 5px;
    outline: none;
    -webkit-appearance: none;
}

.eval-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 20px;
    height: 20px;
    background: var(--neon-cyan);
    border-radius: 50%;
    cursor: pointer;
}

.eval-labels {
    display: flex;
    justify-content: space-between;
    margin-top: 0.5rem;
    color: var(--text-dim);
    font-size: 0.85rem;
}

.eval-actions {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-top: 1.5rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.btn-guardar-eval {
    background: linear-gradient(45deg, var(--neon-green), #2E7D32);
    border: none;
    color: white;
    padding: 1rem 2rem;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.3s;
}

.btn-guardar-eval:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(57, 255, 20, 0.3);
}

.eval-promedio {
    color: var(--text-light);
    font-size: 1.1rem;
}

.eval-promedio strong {
    color: var(--neon-yellow);
}

.recursos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 1rem;
}

.recurso-card {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(0, 255, 255, 0.2);
    border-radius: 8px;
    padding: 1.5rem;
    text-decoration: none;
    color: inherit;
    display: flex;
    align-items: center;
    gap: 1rem;
    transition: all 0.3s;
}

.recurso-card:hover {
    background: rgba(0, 255, 255, 0.1);
    transform: translateY(-5px);
    border-color: var(--neon-cyan);
}

.recurso-icon {
    font-size: 2rem;
    flex-shrink: 0;
}

.recurso-content h5 {
    color: var(--neon-green);
    margin-bottom: 0.5rem;
}

.recurso-content p {
    color: var(--text-dim);
    font-size: 0.9rem;
    margin: 0;
}

/* NOTIFICACIONES */
.notificacion {
    position: fixed;
    top: 20px;
    right: 20px;
    background: var(--bg-card);
    border-radius: 8px;
    padding: 1rem 1.5rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
    min-width: 300px;
    max-width: 400px;
    z-index: 10000;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    animation: slideIn 0.3s ease;
    border-left: 4px solid;
}

@keyframes slideIn {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

.notificacion-success {
    border-left-color: var(--neon-green);
    background: rgba(57, 255, 20, 0.1);
}

.notificacion-warning {
    border-left-color: var(--neon-yellow);
    background: rgba(255, 193, 7, 0.1);
}

.notificacion-info {
    border-left-color: var(--neon-cyan);
    background: rgba(0, 255, 255, 0.1);
}

.notificacion-contenido {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    flex: 1;
}

.notificacion-icon {
    font-size: 1.2rem;
}

.notificacion-mensaje {
    color: var(--text-light);
    font-size: 0.95rem;
    line-height: 1.4;
}

.notificacion-cerrar {
    background: none;
    border: none;
    color: var(--text-dim);
    font-size: 1.5rem;
    cursor: pointer;
    padding: 0;
    line-height: 1;
    transition: color 0.2s;
}

.notificacion-cerrar:hover {
    color: var(--text-light);
}

/* ANIMACIONES */
@keyframes glow {
    0%, 100% { 
        text-shadow: 0 0 5px currentColor,
                     0 0 10px currentColor;
    }
    50% { 
        text-shadow: 0 0 10px currentColor,
                     0 0 20px currentColor,
                     0 0 30px currentColor;
    }
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

/* SCROLLBAR */
::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 5px;
}

::-webkit-scrollbar-thumb {
    background: rgba(0, 255, 255, 0.3);
    border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 255, 255, 0.5);
}

/* RESPONSIVE */
@media (max-width: 768px) {
    .leccion-ingles-future {
        padding: 1rem;
    }
    
    .titulo-leccion {
        font-size: 1.8rem;
    }
    
    .objetivos-grid {
        grid-template-columns: 1fr;
    }
    
    .teoria-grid {
        grid-template-columns: 1fr;
    }
    
    .crystal-ball {
        width: 200px;
        height: 200px;
    }
    
    .predictions-grid, .questions-grid, .answers-grid, .quiz-options {
        grid-template-columns: 1fr;
    }
    
    .quiz-navigation, .results-actions {
        flex-direction: column;
    }
    
    .btn-quiz, .btn-results {
        width: 100%;
    }
}

/* IMPRESI칍N */
@media print {
    .leccion-ingles-future {
        background: white;
        color: black;
        padding: 0;
    }
    
    .btn-simulador, .btn-audio, .btn-prediction,
    .btn-question, .btn-answer, .btn-record,
    .btn-play, .btn-corregir, .btn-quiz,
    .btn-results, .btn-guardar-eval,
    .btn-timeline, .btn-predict {
        display: none;
    }
    
    .teoria-card, .error-completo, .quiz-container,
    .timeline-container, .autoevaluacion-compact,
    .recursos-compact {
        break-inside: avoid;
        border: 1px solid #ccc;
        box-shadow: none;
    }
}
/* ESTILOS ESPEC칈FICOS PARA LECCI칍N DE INGL칄S CYBERPUNK */
.leccion-ingles-b1 {
    /* Variables espec칤ficas ya definidas en el estilo interno */
}

/* Asegurar que los elementos de audio sean visibles */
.audio-player {
    width: 100%;
    margin-top: 1rem;
    background: rgba(0, 0, 0, 0.5);
    border-radius: 8px;
    padding: 0.5rem;
}

/* Mejoras para elementos de voz */
.btn-record.recording {
    animation: pulse 1s infinite;
}

@keyframes pulse {
    0%, 100% { 
        box-shadow: 0 0 5px rgba(255, 0, 0, 0.5);
    }
    50% { 
        box-shadow: 0 0 20px rgba(255, 0, 0, 0.8);
    }
}

/* Estilos para el gr치fico de conversaci칩n */
.visual-diagram {
    background: rgba(10, 10, 26, 0.8);
    border-radius: 12px;
    padding: 2rem;
    margin: 2rem 0;
    border: 2px solid var(--neon-blue);
}

.visual-diagram svg {
    width: 100%;
    height: auto;
    border-radius: 8px;
    background: rgba(0, 0, 0, 0.3);
    padding: 1rem;
}

/* Mejoras de accesibilidad */
@media (prefers-reduced-motion: reduce) {
    .leccion-ingles-b1 * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* Mejoras para modo oscuro del sistema */
@media (prefers-color-scheme: dark) {
    .leccion-ingles-b1 {
        background: #050510;
    }
}

/* Contraste mejorado para accesibilidad */
.leccion-ingles-b1 {
    color: #f0f8ff; /* Texto m치s claro para mejor contraste */
}

.btn-recorder, .btn-quiz-action, .btn-conv {
    min-height: 44px; /* Tama침o t치ctil m칤nimo */
}

/* Estados de foco para accesibilidad */
.btn-recorder:focus, 
.btn-quiz-action:focus, 
.btn-conv:focus,
.chat-input-cyberpunk:focus,
.practice-input:focus {
    outline: 2px solid var(--neon-yellow);
    outline-offset: 2px;
}
