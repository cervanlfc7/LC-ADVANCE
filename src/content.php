<?php
$lecciones = [];
/**
 * MATERIA: Pensamiento Matem√°tico III
 * TEMA:    Derivadas B√°sicas
 * SUBTEMA: Reglas de derivaci√≥n, interpretaci√≥n geom√©trica (pendiente), dominio de polinomios
 * NIVEL:   Bachillerato / Introducci√≥n al C√°lculo
 */

$lecciones[] = [
    'materia' => 'Pensamiento Matem√°tico III',
    'slug'    => 'derivadas-basicas-pendientes-dominio',
    'titulo'  => 'Derivadas B√°sicas: Reglas, Pendiente de la Tangente y Dominio',

    /* ==============================================
       CONTENIDO DE LA LECCI√ìN (HTML + MathJax/LaTeX)
       ============================================== */
    'contenido' => <<<'HTML'
        <h3>Definici√≥n de Derivada</h3>
        <p>La <strong>derivada</strong> de una funci√≥n \( f(x) \) en un punto representa la <strong>tasa de cambio instant√°nea</strong> de la funci√≥n respecto a \( x \). Geom√©tricamente, coincide con la <strong>pendiente de la recta tangente</strong> a la gr√°fica en dicho punto.</p>
        <p>En este tema trabajamos exclusivamente con <strong>funciones polin√≥micas</strong> en la variable \( x \).</p>

        <div class="visual static-image">
            <img src="assets/img/derivada_recta_tangente.png" alt="Recta tangente a una curva en un punto">
            <p class="caption">La derivada es la pendiente de la recta tangente. Fuente: Khan Academy.</p>
        </div>

        <div class="visual static-image">
            <img src="assets/img/derivada_como_tangente.gif" alt="Animaci√≥n de recta tangente acerc√°ndose a la curva">
            <p class="caption">Visualizaci√≥n din√°mica de la recta tangente. Fuente: Dalhousie University.</p>
        </div>

        <div class="visual static-image">
            <img src="assets/img/derivada_como_pendiente.jpg" alt="Explicaci√≥n gr√°fica de la derivada como l√≠mite de pendientes">
            <p class="caption">La derivada como l√≠mite de cocientes incrementales. Fuente: Math Stack Exchange.</p>
        </div>

        <h3>Reglas B√°sicas de Derivaci√≥n</h3>
        <ul class="reglas-derivacion">
            <li><strong>Regla de la constante:</strong> \( \frac{d}{dx}[c] = 0 \)</li>
            <li><strong>Regla de la potencia:</strong> \( \frac{d}{dx}[x^n] = n x^{n-1} \) (v√°lida para cualquier \( n \in \mathbb{R} \))</li>
            <li><strong>Factor constante:</strong> \( \frac{d}{dx}[c \cdot f(x)] = c \cdot f'(x) \)</li>
            <li><strong>Regla de la suma/diferencia:</strong> \( \frac{d}{dx}[f(x) \pm g(x)] = f'(x) \pm g'(x) \)</li>
            <li><strong>Regla del producto:</strong> \( \frac{d}{dx}[f(x)g(x)] = f'(x)g(x) + f(x)g'(x) \)</li>
        </ul>

        <div class="svg-diagram">
    <svg viewBox="0 0 360 260" xmlns="http://www.w3.org/2000/svg" aria-labelledby="svg-title svg-desc">
        <title id="svg-title">Funci√≥n polin√≥mica y su recta tangente</title>
        <desc id="svg-desc">Representaci√≥n de una funci√≥n c√∫bica con su recta tangente en un punto interior del dominio.</desc>

        <!-- Fondo sutil (opcional, mejora el contraste retro) -->
        <rect width="360" height="260" fill="#111" opacity="0.9"/>

        <!-- Ejes coordenados -->
        <line x1="50" y1="200" x2="310" y2="200" stroke="#ccc" stroke-width="2"/>
        <line x1="50" y1="200" x2="50" y2="40" stroke="#ccc" stroke-width="2"/>

        <!-- Flechas en los ejes -->
        <polygon points="310,200 305,195 305,205" fill="#ccc"/>
        <polygon points="50,40 45,50 55,50" fill="#ccc"/>

        <!-- Etiquetas de ejes -->
        <text x="315" y="195" fill="#ffcc00" font-family="Arial, sans-serif" font-size="16" font-weight="bold">X</text>
        <text x="35" y="45" fill="#ffcc00" font-family="Arial, sans-serif" font-size="16" font-weight="bold">Y</text>

        <!-- Curva polin√≥mica (c√∫bica completa y bien visible) -->
        <path d="M60 180 
                 C 90 100, 130 160, 180 120 
                 C 230 80, 270 180, 300 100"
              stroke="#00ccff" 
              fill="none" 
              stroke-width="6"
              stroke-linecap="round"/>

        <!-- Recta tangente (magenta, bien visible y en el centro) -->
        <line x1="120" y1="160" 
              x2="240" y2="60" 
              stroke="#ff00ff" 
              stroke-width="5"
              stroke-linecap="round"/>

        <!-- Punto de tangencia (destacado) -->
        <circle cx="180" cy="120" r="6" fill="#ff00ff"/>
        <circle cx="180" cy="120" r="10" fill="none" stroke="#ff00ff" stroke-width="2" opacity="0.6"/>

        <!-- Etiqueta de la tangente -->
        <text x="245" y="65" 
              fill="#ff00ff" 
              font-family="'Press Start 2P', 'VT323', monospace" 
              font-size="14" 
              font-weight="bold">
            Tangente
        </text>
        <text x="245" y="85" 
              fill="#ff00ff" 
              font-family="'VT323', monospace" 
              font-size="12">
            (pendiente = f'(x))
        </text>
    </svg>

    <p class="caption">
        Representaci√≥n esquem√°tica de una funci√≥n polin√≥mica y su recta tangente en un punto.
    </p>
</div>

        <h3>Interpretaci√≥n Geom√©trica: Pendiente</h3>
        <p>El valor \( f'(a) \) indica la pendiente de la tangente en \( x = a \):</p>
        <ul>
            <li>Si \( f'(x) > 0 \): la funci√≥n es <strong>creciente</strong>.</li>
            <li>Si \( f'(x) < 0 \): la funci√≥n es <strong>decreciente</strong>.</li>
            <li>Si \( f'(x) = 0 \): la tangente es horizontal (posible m√°ximo, m√≠nimo o punto de inflexi√≥n).</li>
        </ul>

        <h3>Dominio de Funciones Polin√≥micas</h3>
        <p>Toda funci√≥n polin√≥mica tiene como dominio el conjunto de los <strong>n√∫meros reales</strong>: \( \mathbb{R} \) o \( (-\infty, +\infty) \), pues no presenta indeterminaciones ni restricciones.</p>

        <h3>Aplicaciones</h3>
        <p>La derivada tiene m√∫ltiples interpretaciones seg√∫n el contexto:</p>
        <ul>
            <li>F√≠sica: velocidad = derivada de la posici√≥n; aceleraci√≥n = derivada de la velocidad.</li>
            <li>Econom√≠a: costo marginal, ingreso marginal.</li>
            <li>Ingenier√≠a y ciencias: tasas de cambio instant√°neas.</li>
        </ul>

        <div class="ejemplo">
            <h4>Ejemplo 1</h4>
            <p>\( f(x) = 4x^3 - 2x^2 + 5x - 7 \)</p>
            <p>\( f'(x) = 12x^2 - 4x + 5 \)</p>
            <p>Pendiente en \( x = 1 \): \( f'(1) = 13 \)</p>
        </div>

        <div class="ejemplo">
            <h4>Ejemplo 2 (Regla del producto)</h4>
            <p>\( h(x) = (2x + 1)(x^2 - 3x) \)</p>
            <p>\( h'(x) = 2(x^2 - 3x) + (2x + 1)(2x - 3) = 6x^2 - 2x - 3 \)</p>
        </div>
HTML
,
        'ejercicios' => [
        ["enunciado" => "Calcula la derivada de \( f(x) = 5x^4 + 3x^2 - 8 \)", "respuesta" => "20x^3 + 6x"],
        ["enunciado" => "Encuentra la pendiente de \( f(x) = x^3 - 2x \) en \( x=2 \)", "respuesta" => "10"],
        ["enunciado" => "¬øCu√°l es el dominio de \( h(x) = 2x^5 + x \)?", "respuesta" => "Todos los n√∫meros reales"],
        ["enunciado" => "Deriva: \( k(x) = 7x - 4 \)", "respuesta" => "7"],
        ["enunciado" => "Deriva usando regla del producto: \( m(x) = (x^2 + 3)(4x) \)", "respuesta" => "12x^2 + 12"],
        ["enunciado" => "Pendiente de \( p(x) = 3x^4 - x \) en \( x=1 \)", "respuesta" => "11"],
        ["enunciado" => "¬øQu√© significa si \( f'(x) = 0 \) en un punto?", "respuesta" => "Pendiente horizontal, posible m√°ximo o m√≠nimo"],
        ["enunciado" => "Aplicaci√≥n: Si \( s(t) = t^2 \) es posici√≥n, ¬øcu√°l es la velocidad (derivada)?", "respuesta" => "2t"]
    ],
    'quiz' => [
    // 1‚Äì5: Conceptos fundamentales
    ["pregunta" => "¬øCu√°l es la derivada de una funci√≥n constante \( f(x) = c \)?",
     "opciones" => ["c", "1", "0", "Indefinida"], "correcta" => "0"],

    ["pregunta" => "¬øCu√°l es la derivada de \( f(x) = x^n \) (regla de la potencia)?",
     "opciones" => ["\( x^{n+1} \)", "\( n x^{n-1} \)", "\( nx^n \)", "\( x^n/n \)"], "correcta" => "\( n x^{n-1} \)"],

    ["pregunta" => "¬øQu√© representa geom√©tricamente \( f'(a) \) en la gr√°fica de \( f \)?",
     "opciones" => ["El √°rea bajo la curva en \( x = a \)", "La concavidad en \( x = a \)", "La pendiente de la tangente en \( x = a \)", "El valor de la funci√≥n en \( x = a \)"], 
     "correcta" => "La pendiente de la tangente en \( x = a \)"],

    ["pregunta" => "¬øCu√°l es el dominio natural de cualquier funci√≥n polin√≥mica?",
     "opciones" => ["\( \\mathbb{R}^+ \) (n√∫meros positivos)", "\( \\mathbb{Z} \) (enteros)", "\( \\mathbb{R} \) (todos los reales)", "Depende del grado del polinomio"], 
     "correcta" => "\( \\mathbb{R} \) (todos los reales)"],

    ["pregunta" => "Si \( f'(x) > 0 \) en un intervalo abierto, entonces \( f \):",
     "opciones" => ["Es constante", "Es decreciente", "Es creciente", "Tiene un m√°ximo"], 
     "correcta" => "Es creciente"],

    // 6‚Äì12: C√°lculo directo de derivadas
    ["pregunta" => "Derivada de \( f(x) = 5x^4 - 3x^2 + 7 \)",
     "opciones" => ["\( 20x^3 - 6x \)", "\( 20x^3 + 6x \)", "\( 5x^3 - 3x \)", "\( 20x^4 - 3x \)"],
     "correcta" => "\( 20x^3 - 6x \)"],

    ["pregunta" => "Derivada de \( g(x) = -2x^6 + 4x \)",
     "opciones" => ["\( -12x^5 + 4 \)", "\( -12x^5 \)", "\( -2x^5 + 4 \)", "\( 12x^5 + 4x \)"],
     "correcta" => "\( -12x^5 + 4 \)"],

    ["pregunta" => "Pendiente de la tangente a \( f(x) = x^3 - 6x + 1 \) en \( x = 2 \)",
     "opciones" => ["0", "6", "12", "-6"],
     "correcta" => "6"],

    ["pregunta" => "Derivada de \( h(x) = (3x^2 - 1)(2x + 5) \) usando la regla del producto",
     "opciones" => ["\( 18x^2 + 12x - 10 \)", "\( 6x^2 + 15x - 2 \)", "\( 12x + 15 \)", "\( 18x^2 - 10 \)"],
     "correcta" => "\( 18x^2 + 12x - 10 \)"],

    ["pregunta" => "Derivada de \( p(x) = 4(x^3 - 2x)^2 \) (se acepta forma desarrollada o no)",
     "opciones" => ["\( 4(6x^2 - 4x) \)", "\( 24x^2 - 16x \)", "\( 8(x^3 - 2x)(3x^2 - 2) \)", "Ambas formas son equivalentes"],
     "correcta" => "Ambas formas son equivalentes"],

    // 13‚Äì18: Interpretaci√≥n y aplicaciones
    ["pregunta" => "Si la posici√≥n de una part√≠cula es \( s(t) = 3t^2 - 4t + 1 \), ¬øcu√°l es su velocidad instant√°nea?",
     "opciones" => ["\( 3t - 4 \)", "\( 6t - 4 \)", "\( 3t^2 - 4t \)", "\( 6t \)"],
     "correcta" => "\( 6t - 4 \)"],

    ["pregunta" => "En econom√≠a, la derivada de la funci√≥n de costo total \( C(x) \) se interpreta como:",
     "opciones" => ["Costo fijo", "Costo medio", "Costo marginal", "Ingreso total"],
     "correcta" => "Costo marginal"],

    ["pregunta" => "Si \( f'(x) = 0 \) en todo un intervalo abierto, entonces \( f(x) \) es:",
     "opciones" => ["Creciente", "Decreciente", "Constante", "No diferenciable"],
     "correcta" => "Constante"],

    ["pregunta" => "En cu√°l de los siguientes puntos la recta tangente es horizontal para \( f(x) = x^3 - 3x \)?",
     "opciones" => ["\( x = 0 \)", "\( x = 1 \)", "\( x = -1 \)", "En ninguno"],
     "correcta" => "\( x = 1 \) y \( x = -1 \) (pero la mejor opci√≥n es marcar que hay puntos horizontales; si tu sistema solo permite una, elige \( x = 1 \))"],

    ["pregunta" => "¬øCu√°l es la derivada de \( f(x) = 8 \)?",
     "opciones" => ["8", "0", "Indefinida", "No existe"],
     "correcta" => "0"],

    ["pregunta" => "La derivada de \( f(x) = x \) es:",
     "opciones" => ["0", "1", "\( x^0 \)", "Todas las anteriores son correctas"],
     "correcta" => "Todas las anteriores son correctas"],

    // 17‚Äì20: Preguntas de mayor exigencia (cierre)
    ["pregunta" => "Derivada de \( k(x) = (x^2 + 2)(3x - 1) + 5x \) (primero expandir o usar producto + suma)",
     "opciones" => ["\( 9x^2 + 8x - 2 \)", "\( 9x^2 - 2 \)", "\( 6x + 5 \)", "\( 9x^2 + 5 \)"],
     "correcta" => "\( 9x^2 + 8x - 2 \)"],

    ["pregunta" => "Si \( f(x) = x^4 - 4x^3 + 2 \), ¬øen cu√°ntos puntos del intervalo [0, 3] la tangente es horizontal?",
     "opciones" => ["Ninguno", "Uno", "Dos", "Tres"],
     "correcta" => "Dos"],

    ["pregunta" => "¬øCu√°l de las siguientes afirmaciones es siempre cierta para polinomios?",
     "opciones" => ["Son derivables solo en enteros", "Tienen al menos una ra√≠z real", "Su derivada es otro polinomio", "Su dominio es finito"],
     "correcta" => "Su derivada es otro polinomio"],

    ["pregunta" => "La derivada de segundo orden de \( f(x) = 2x^3 - 3x^2 + x \) es:",
     "opciones" => ["\( 12x - 6 \)", "\( 12x + 1 \)", "\( 6x^2 - 6x + 1 \)", "\( 6x - 6 \)"],
     "correcta" => "\( 12x - 6 \)"]
]
];
/**
 * MATERIA: Pensamiento Matem√°tico III
 * TEMA:    Puntos cr√≠ticos ‚Äì M√°ximos y m√≠nimos locales
 * M√âTODO:  Prueba de la primera derivada
 * NIVEL:   Bachillerato / Introducci√≥n al C√°lculo
 */

$lecciones[] = [
    'materia' => 'Pensamiento Matem√°tico III',
    'slug'    => 'puntos-maximos-minimos',
    'titulo'  => 'Puntos Cr√≠ticos: M√°ximos y M√≠nimos Locales',

    /* ==========================================
       CONTENIDO DE LA LECCI√ìN
       ========================================== */
    'contenido' => <<<'HTML'
        <h3>Definici√≥n de Punto Cr√≠tico</h3>
        <p>Un <strong>punto cr√≠tico</strong> de una funci√≥n \( f \) es todo valor \( c \) en el dominio donde se cumple alguna de las siguientes condiciones:</p>
        <ul>
            <li>\( f'(c) = 0 \)</li>
            <li>\( f'(c) \) no existe (aunque \( c \) est√© en el dominio)</li>
        </ul>
        <p>Los puntos cr√≠ticos son candidatos a ser <strong>m√°ximos locales</strong>, <strong>m√≠nimos locales</strong> o <strong>puntos de inflexi√≥n</strong>.</p>

        <div class="visual static-image">
            <img src="assets/img/puntos_maximos_minimos.jpg" alt="Gr√°fica con m√°ximos y m√≠nimos locales">
            <p class="caption">Ejemplos de m√°ximos y m√≠nimos locales en una funci√≥n continua.</p>
        </div>

        <div class="visual static-image">
            <img src="assets/img/maximos_minimos_relativos.png" alt="Ilustraci√≥n de extremos relativos">
            <p class="caption">M√°ximos y m√≠nimos relativos (locales). Fuente: Paul‚Äôs Online Math Notes.</p>
        </div>

        <h3>Prueba de la Primera Derivada</h3>
        <p>Sea \( c \) un punto cr√≠tico donde \( f'(c) = 0 \) y \( f' \) es continua en un entorno de \( c \). El signo de la derivada antes y despu√©s de \( c \) determina la naturaleza del punto:</p>

        <table class="table">
            <thead>
                <tr>
                    <th>Signo de \( f'(x) \)</th>
                    <th>Izquierda de \( c \)</th>
                    <th>Derecha de \( c \)</th>
                    <th>Conclusi√≥n</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>De positivo a negativo</td><td>+</td><td>‚àí</td><td>M√°ximo local</td></tr>
                <tr><td>De negativo a positivo</td><td>‚àí</td><td>+</td><td>M√≠nimo local</td></tr>
                <tr><td>Mismo signo</td><td>+</td><td>+</td><td>Punto de inflexi√≥n</td></tr>
                <tr><td></td><td>‚àí</td><td>‚àí</td><td>Punto de inflexi√≥n</td></tr>
            </tbody>
        </table>

        <div class="svg-diagram">
            <svg viewBox="0 0 380 280" xmlns="http://www.w3.org/2000/svg" aria-labelledby="svg-title svg-desc">
                <title id="svg-title">Prueba de la primera derivada</title>
                <desc id="svg-desc">Gr√°fica con un m√°ximo local (cambio + ‚Üí ‚àí) y un m√≠nimo local (cambio ‚àí ‚Üí +).</desc>

                <rect width="380" height="280" fill="#111"/>

                <!-- Ejes -->
                <line x1="50" y1="220" x2="330" y2="220" stroke="#ccc" stroke-width="2"/>
                <line x1="50" y1="220" x2="50" y2="40"  stroke="#ccc" stroke-width="2"/>
                <text x="335" y="215" fill="#ffcc00" font-size="16" font-weight="bold">X</text>
                <text x="38"  y="50"  fill="#ffcc00" font-size="16" font-weight="bold">Y</text>

                <!-- Curva con m√°ximo y m√≠nimo -->
                <path d="M60 180 
                         Q 120 80,  190 80 
                         Q 260 80,  320 180"
                      stroke="#00ccff" fill="none" stroke-width="6" stroke-linecap="round"/>

                <!-- Punto m√°ximo -->
                <circle cx="190" cy="80"  r="8" fill="#ff00ff"/>
                <text   x="200" y="70"  fill="#ff00ff" font-size="14" font-weight="bold">M√°ximo local</text>

                <!-- Punto m√≠nimo (simulado en los extremos para claridad visual) -->
                <circle cx="60"  cy="180" r="6" fill="#00ff00"/>
                <circle cx="320" cy="180" r="6" fill="#00ff00"/>
                <text   x="240" y="200" fill="#00ffcc" font-size="13">
                    M√≠nimos en los extremos del intervalo mostrado
                </text>

                <!-- Etiquetas de signo -->
                <text x="100" y="130" fill="#fff" font-size="14">+</text>
                <text x="160" y="110" fill="#fff" font-size="14">‚àí</text>
                <text x="220" y="110" fill="#fff" font-size="14">+</text>
            </svg>
            <p class="caption">Cambio de signo de la primera derivada alrededor de un m√°ximo local.</p>
        </div>

        <div class="ejemplo">
            <h4>Ejemplo 1: \( f(x) = x^3 - 3x \)</h4>
            <p>\( f'(x) = 3x^2 - 3 = 3(x^2 - 1) = 0 \Rightarrow x = \pm 1 \)</p>
            <p>Izquierda de \( x = -1 \): \( f' < 0 \); derecha: \( f' > 0 \) ‚Üí <strong>m√≠nimo local</strong> en \( (-1, 2) \)</p>
            <p>Izquierda de \( x = 1 \): \( f' > 0 \); derecha: \( f' < 0 \) ‚Üí <strong>m√°ximo local</strong> en \( (1, -2) \)</p>
        </div>

        <div class="ejemplo">
            <h4>Ejemplo 2: \( g(x) = x^4 - 4x^2 \)</h4>
            <p>\( g'(x) = 4x^3 - 8x = 4x(x^2 - 2) = 0 \Rightarrow x = 0, \, x = \pm \sqrt{2} \)</p>
            <p>\( x = -\sqrt{2} \): \( + \to - \) ‚Üí m√°ximo local<br>
               \( x = 0 \): \( - \to + \) ‚Üí m√≠nimo local<br>
               \( x = \sqrt{2} \): \( + \to - \) ‚Üí m√°ximo local</p>
        </div>
HTML
,

    /* ==========================================
       EJERCICIOS
       ========================================== */
    'ejercicios' => [
        ["enunciado" => "Halla y clasifica los puntos cr√≠ticos de \( f(x) = x^3 - 6x^2 + 9x \)", "respuesta" => "x = 1 (m√°ximo local), x = 3 (m√≠nimo local)"],
        ["enunciado" => "Determina los extremos locales de \( f(x) = x^4 - 4x^2 + 3 \)", "respuesta" => "x = 0 (m√≠nimo), x = ¬±‚àö2 (m√°ximos)"],
        ["enunciado" => "Clasifica el punto cr√≠tico de \( f(x) = x^3 \)", "respuesta" => "x = 0 es punto de inflexi√≥n"],
        ["enunciado" => "Encuentra los puntos cr√≠ticos de \( f(x) = (x-2)^2(x+1) \)", "respuesta" => "x = 2 (m√≠nimo), x = -1/3 (punto de inflexi√≥n)"],
        ["enunciado" => "Para \( f(x) = x + \\frac{4}{x} \) (x > 0), halla el m√≠nimo local", "respuesta" => "x = 2"],
        ["enunciado" => "Clasifica los puntos cr√≠ticos de \( f(x) = x^4 - 8x^2 + 16 \)", "respuesta" => "x = 0 (m√≠nimo), x = ¬±2 (m√°ximos)"],
        ["enunciado" => "Determina los extremos de \( f(x) = \\sin x \) en \( [0, 2\\pi] \)", "respuesta" => "x = \\pi/2 (m√°x), x = 3\\pi/2 (m√≠n)"],
        ["enunciado" => "Halla los puntos cr√≠ticos de \( f(x) = |x^2 - 4| \)", "respuesta" => "x = 0, x = ¬±2 (todos m√≠nimos)"],
        ["enunciado" => "Clasifica x = 0 en \( f(x) = x^{2/3} \)", "respuesta" => "M√≠nimo local (c√∫spide)"],
        ["enunciado" => "Encuentra y clasifica los puntos cr√≠ticos de \( f(x) = x^5 - 5x \)", "respuesta" => "x = ¬±1 (m√°x y m√≠n), x = 0 (inflexi√≥n)"],
        ["enunciado" => "Para \( f(x) = e^x + e^{-x} \), determina el m√≠nimo", "respuesta" => "x = 0"],
        ["enunciado" => "Halla los extremos locales de \( f(x) = x^3 - 12x + 5 \)", "respuesta" => "x = -2 (m√°x), x = 2 (m√≠n)"],
        ["enunciado" => "Clasifica los puntos cr√≠ticos de \( f(x) = (x^2 - 1)^2 \)", "respuesta" => "x = ¬±1 (m√≠nimos), x = 0 (m√°ximo)"],
        ["enunciado" => "Determina los puntos cr√≠ticos de \( f(x) = x + \\sin x \)", "respuesta" => "Ninguno (f'(x) = 1 + \\cos x ‚â• 0 nunca es cero)"],
        ["enunciado" => "Para \( f(x) = x^6 - 15x^4 + 40 \), ¬øcu√°ntos puntos cr√≠ticos reales tiene?", "respuesta" => "5"],
        ["enunciado" => "Clasifica x = 0 en \( f(x) = x^2 |x| \)", "respuesta" => "C√∫spide (m√≠nimo)"],
        ["enunciado" => "Encuentra el m√°ximo de \( f(x) = -x^2 + 6x - 5 \) en \\mathbb{R}", "respuesta" => "x = 3"],
        ["enunciado" => "Para \( f(x) = \\sqrt[3]{x^2} \), clasifica x = 0", "respuesta" => "M√≠nimo local"],
        ["enunciado" => "Determina los extremos locales de \( f(x) = x^5 - 10x^3 + 9x \)", "respuesta" => "x = ¬±1 (m√°x y m√≠n), x = 0 (inflexi√≥n)"]
    ],

    /* ==========================================
       QUIZ
       ========================================== */
    'quiz' => [
        ["pregunta" => "Un punto cr√≠tico ocurre cuando", "opciones" => ["f(x) = 0", "f'(x) = 0 o no existe", "f''(x) = 0", "f(x) ‚Üí ‚àû"], "correcta" => "f'(x) = 0 o no existe"],
        ["pregunta" => "Si f' cambia de + a ‚àí en c, entonces c es", "opciones" => ["M√≠nimo local", "M√°ximo local", "Punto de inflexi√≥n", "No cr√≠tico"], "correcta" => "M√°ximo local"],
        ["pregunta" => "Si f' no cambia de signo en un punto cr√≠tico, entonces es", "opciones" => ["M√°ximo", "M√≠nimo", "Punto de inflexi√≥n", "Error"], "correcta" => "Punto de inflexi√≥n"],
        ["pregunta" => "Para f(x) = x¬≤, x = 0 es", "opciones" => ["M√°ximo local", "M√≠nimo local", "Inflexi√≥n", "No cr√≠tico"], "correcta" => "M√≠nimo local"],
        ["pregunta" => "Para f(x) = x¬≥, x = 0 es", "opciones" => ["M√°ximo", "M√≠nimo", "Punto de inflexi√≥n", "No cr√≠tico"], "correcta" => "Punto de inflexi√≥n"],
        ["pregunta" => "En f(x) = |x|, x = 0 es", "opciones" => ["M√°ximo local", "M√≠nimo local", "C√∫spide", "Inflexi√≥n"], "correcta" => "M√≠nimo local"],
        ["pregunta" => "¬øCu√°ntos puntos cr√≠ticos tiene f(x) = x‚Å¥?", "opciones" => ["0", "1", "2", "4"], "correcta" => "1"],
        ["pregunta" => "Si f'(x) > 0 a ambos lados de c (y f'(c) = 0), entonces c es", "opciones" => ["M√°ximo", "M√≠nimo", "Inflexi√≥n", "No cr√≠tico"], "correcta" => "Inflexi√≥n"],
        ["pregunta" => "La prueba que usa el cambio de signo de f' se llama", "opciones" => ["Prueba de la segunda derivada", "Prueba de la primera derivada", "Criterio de Euler", "Test de concavidad"], "correcta" => "Prueba de la primera derivada"],
        ["pregunta" => "Un polinomio de grado n puede tener a lo sumo cu√°ntos extremos locales?", "opciones" => ["n", "n‚àí1", "n‚àí2", "2n"], "correcta" => "n‚àí1"],
        ["pregunta" => "En f(x) = (x‚àí1)¬≤(x+2), x = 1 es", "opciones" => ["M√°ximo", "M√≠nimo local", "Inflexi√≥n", "C√∫spide"], "correcta" => "M√≠nimo local"],
        ["pregunta" => "Para f(x) = sen(x), en [0, 2œÄ] el m√°ximo ocurre en", "opciones" => ["x = 0", "x = œÄ/2", "x = œÄ", "x = 3œÄ/2"], "correcta" => "x = œÄ/2"],
        ["pregunta" => "x = 0 en f(x) = x^{1/3} es", "opciones" => ["M√°ximo", "M√≠nimo", "C√∫spide", "Inflexi√≥n"], "correcta" => "C√∫spide"],
        ["pregunta" => "Si f'(x) < 0 a la izquierda y > 0 a la derecha de c, entonces c es", "opciones" => ["M√°ximo local", "M√≠nimo local", "Inflexi√≥n", "No cr√≠tico"], "correcta" => "M√≠nimo local"],
        ["pregunta" => "¬øPuede un punto cr√≠tico no ser extremo local?", "opciones" => ["Nunca", "Solo en funciones impares", "S√≠", "Solo en c√∫spides"], "correcta" => "S√≠"],
        ["pregunta" => "Para f(x) = e^{-x¬≤}, x = 0 es", "opciones" => ["M√≠nimo global", "M√°ximo global", "Inflexi√≥n", "No cr√≠tico"], "correcta" => "M√°ximo global"],
        ["pregunta" => "¬øCu√°ntos m√≠nimos locales tiene f(x) = (x¬≤‚àí1)¬≤?", "opciones" => ["0", "1", "2", "3"], "correcta" => "2"],
        ["pregunta" => "En f(x) = x + 1/x (x > 0), el m√≠nimo ocurre en", "opciones" => ["x = 1", "x = 2", "x = ‚àí1", "No existe"], "correcta" => "x = 1"],
        ["pregunta" => "Un punto donde f'(x) no existe puede ser", "opciones" => ["Solo m√°ximo", "Solo m√≠nimo", "C√∫spide o v√©rtice", "Nunca extremo"], "correcta" => "C√∫spide o v√©rtice"],
        ["pregunta" => "Para f(x) = x^5 ‚àí 5x, x = 0 es", "opciones" => ["M√°ximo", "M√≠nimo", "Inflexi√≥n", "C√∫spide"], "correcta" => "Inflexi√≥n"],
        ["pregunta" => "¬øCu√°ntos puntos cr√≠ticos tiene f(x) = x^6 ‚àí 15x^4 + 40?", "opciones" => ["1", "3", "5", "7"], "correcta" => "5"],
        ["pregunta" => "En f(x) = ‚àíx¬≤, x = 0 es", "opciones" => ["M√≠nimo", "M√°ximo global", "Inflexi√≥n", "No cr√≠tico"], "correcta" => "M√°ximo global"],
        ["pregunta" => "Si f'(x) = 0 y f''(x) > 0, entonces es", "opciones" => ["M√°ximo", "M√≠nimo local", "Inflexi√≥n", "Indeterminado"], "correcta" => "M√≠nimo local"],
        ["pregunta" => "El n√∫mero m√°ximo de extremos locales de un polinomio de grado 5 es", "opciones" => ["3", "4", "5", "6"], "correcta" => "4"],
        ["pregunta" => "Para f(x) = tan(x) en (‚àíœÄ/2, œÄ/2), ¬øx = 0 es cr√≠tico?", "opciones" => ["S√≠", "No", "Solo en 0", "Indeterminado"], "correcta" => "No"],
        ["pregunta" => "En f(x) = ‚àöx, x = 0 es", "opciones" => ["M√°ximo", "M√≠nimo", "C√∫spide", "No cr√≠tico"], "correcta" => "M√≠nimo"],
        ["pregunta" => "Un punto cr√≠tico donde la funci√≥n es continua pero no derivable se llama", "opciones" => ["Punto singular", "C√∫spide", "V√©rtice", "Todas las anteriores posibles"], "correcta" => "Todas las anteriores posibles"],
        ["pregunta" => "Para f(x) = x^4 ‚àí 8x^2 + 16, x = ¬±2 son", "opciones" => ["M√≠nimos", "M√°ximos locales", "Inflexi√≥n", "No cr√≠ticos"], "correcta" => "M√°ximos locales"],
        ["pregunta" => "El cambio de signo de la primera derivada es condici√≥n", "opciones" => ["Suficiente para extremo", "Necesaria pero no suficiente", "Suficiente y necesaria", "Ninguna"], "correcta" => "Suficiente para extremo"],
        ["pregunta" => "¬øCu√°ntos m√°ximos locales puede tener un polinomio c√∫bico?", "opciones" => ["0", "1", "2", "3"], "correcta" => "1"]
    ]
];
/**
 * Lecci√≥n: Ecosistemas - Niveles de Organizaci√≥n Biol√≥gica
 * Tema: Jerarqu√≠a de la vida y analog√≠as celulares
 * Enfoque: Relaci√≥n entre estructuras celulares y √≥rganos humanos mediante analog√≠as
 * Nivel: Intermedio
 * Recursos: 12 ejercicios + 30 preguntas de quiz + Diagramas SVG retro-ne√≥n
 */

$lecciones[] = [
    'materia' => 'Ecosistemas',
    'slug' => 'niveles-organizacion-celulas-materia-relacion-organos',
    'titulo' => 'Niveles de Organizaci√≥n Biol√≥gica: De la C√©lula al Ecosistema',
    'contenido' => <<<'HTML'

<div class="text-center display-5 mb-4">üåå NIVELES DE ORGANIZACI√ìN BIOL√ìGICA</div>

<h3>üéØ Niveles de Organizaci√≥n Biol√≥gica</h3>
<p>Los seres vivos est√°n organizados en una <strong>jerarqu√≠a de complejidad</strong> que va desde lo m√°s simple hasta lo m√°s complejo. Esta estructura permite entender c√≥mo las partes peque√±as forman sistemas grandes, desde una c√©lula hasta la biosfera entera.</p>

<p>Los niveles principales son:</p>
<ol>
    <li><strong>√Åtomo</strong> ‚Üí Ej: carbono, ox√≠geno</li>
    <li><strong>Mol√©cula</strong> ‚Üí Ej: agua, ADN</li>
    <li><strong>Org√°nulo</strong> ‚Üí Ej: n√∫cleo, mitocondria</li>
    <li><strong>C√©lula</strong> ‚Üí Unidad b√°sica de la vida</li>
    <li><strong>Tejido</strong> ‚Üí Grupo de c√©lulas similares</li>
    <li><strong>√ìrgano</strong> ‚Üí Varios tejidos trabajando juntos</li>
    <li><strong>Sistema de √≥rganos</strong> ‚Üí Ej: sistema nervioso</li>
    <li><strong>Organismo</strong> ‚Üí Individuo completo</li>
    <li><strong>Poblaci√≥n</strong> ‚Üí Grupo de la misma especie</li>
    <li><strong>Comunidad</strong> ‚Üí Varias poblaciones</li>
    <li><strong>Ecosistema</strong> ‚Üí Comunidades + factores abi√≥ticos</li>
    <li><strong>Biosfera</strong> ‚Üí Todos los ecosistemas del planeta</li>
</ol>

<div class="visual">
    <img src="assets/img/niveles_de_organizacion_vida.png" alt="Diagrama de niveles de organizaci√≥n biol√≥gica">
    <p><em>Jerarqu√≠a completa de la vida. Fuente: Wikipedia.</em></p>
</div>

<h3>üî¨ Relaci√≥n entre √ìrganos Humanos y C√©lulas</h3>
<p>Las c√©lulas son como <strong>"f√°bricas inteligentes"</strong> dentro del cuerpo. Cada org√°nulo tiene una funci√≥n espec√≠fica, y juntos forman tejidos y √≥rganos. Usamos <strong>analog√≠as</strong> para entender mejor:</p>

<table class="table table-bordered text-center">
    <thead class="table-success">
        <tr><th>Org√°nulo Celular</th><th>Funci√≥n</th><th>√ìrgano Humano An√°logo</th><th>Raz√≥n</th></tr>
    </thead>
    <tbody>
        <tr><td>N√∫cleo</td><td>Contiene ADN, controla actividades</td><td>Cerebro</td><td>Dirige todo el cuerpo</td></tr>
        <tr><td>Mitocondrias</td><td>Producen energ√≠a (ATP)</td><td>Coraz√≥n / Pulmones</td><td>Suministran energ√≠a al cuerpo</td></tr>
        <tr><td>Membrana celular</td><td>Protege y regula entrada/salida</td><td>Piel</td><td>Barrera protectora</td></tr>
        <tr><td>Ribosomas</td><td>Sintetizan prote√≠nas</td><td>H√≠gado</td><td>Produce enzimas y prote√≠nas</td></tr>
        <tr><td>Ret√≠culo endoplasm√°tico</td><td>Transporte interno</td><td>Sistema circulatorio</td><td>Transporta sustancias</td></tr>
    </tbody>
</table>

<div class="visual">
    <img src="assets/img/anatomia_cerebro.gif" alt="Anatom√≠a del cerebro humano">
    <p><em>El cerebro: centro de control, como el n√∫cleo celular. Fuente: Johns Hopkins.</em></p>
</div>

<div class="visual">
    <img src="assets/img/areas_funcion_cerebro.png" alt="√Åreas funcionales del cerebro">
    <p><em>El cerebro tiene regiones especializadas, como el n√∫cleo tiene cromosomas. Fuente: Wikipedia.</em></p>
</div>

<div class="visual">
    <img src="assets/img/neurona_arbol.jpg" alt="Neurona como √°rbol">
    <p><em>Neurona: dendritas (ramas), ax√≥n (tronco), sinapsis (ra√≠ces). Fuente: Queensland Brain Institute.</em></p>
</div>

<div class="visual">
    <img src="assets/img/corazon_mitocondria.jpg" alt="Coraz√≥n y mitocondrias">
    <p><em>El coraz√≥n bombea sangre rica en ox√≠geno, como las mitocondrias producen ATP. Fuente: Kenhub.</em></p>
</div>

<div class="svg-diagram">
    <svg width="400" height="300" viewBox="0 0 400 300" xmlns="http://www.w3.org/2000/svg">
        <title>Analog√≠a C√©lula-Cuerpo Humano</title>
        <desc>Diagrama que muestra las similitudes entre los org√°nulos celulares y los √≥rganos humanos</desc>
        
        <!-- Fondo -->
        <rect width="400" height="300" fill="#000000"/>
        
        <!-- C√©lula -->
        <ellipse cx="200" cy="150" rx="150" ry="90" fill="none" stroke="#00ffff" stroke-width="3" stroke-dasharray="5,5"/>
        <text x="200" y="50" text-anchor="middle" fill="#00ffff" font-weight="bold" font-size="16" font-family="Arial">C√âLULA = CUERPO HUMANO</text>
        
        <!-- N√∫cleo -->
        <circle cx="200" cy="150" r="40" fill="#ff00ff" stroke="#00ffff" stroke-width="2"/>
        <text x="200" y="150" text-anchor="middle" fill="#ffffff" font-weight="bold" font-size="12">N√öCLEO</text>
        
        <!-- Conexi√≥n N√∫cleo-Cerebro -->
        <line x1="240" y1="150" x2="320" y2="80" stroke="#00e676" stroke-width="2"/>
        <text x="330" y="75" fill="#00e676" font-size="10" font-weight="bold">= CEREBRO</text>
        <circle cx="320" y="80" r="3" fill="#00e676"/>
        
        <!-- Mitocondria -->
        <ellipse cx="120" cy="120" rx="25" ry="15" fill="#f1c40f" stroke="#ff1744" stroke-width="2" transform="rotate(45 120 120)"/>
        <text x="120" y="120" text-anchor="middle" fill="#000000" font-weight="bold" font-size="8">MITO</text>
        
        <!-- Conexi√≥n Mitocondria-Coraz√≥n -->
        <line x1="100" y1="135" x2="50" y2="180" stroke="#ff1744" stroke-width="2"/>
        <text x="40" y="190" fill="#ff1744" font-size="10" font-weight="bold">= CORAZ√ìN</text>
        <circle cx="50" y="180" r="3" fill="#ff1744"/>
        
        <!-- Membrana -->
        <text x="80" y="220" fill="#00ffff" font-weight="bold" font-size="10">MEMBRANA = PIEL</text>
        
        <!-- Ribosomas -->
        <circle cx="280" cy="180" r="8" fill="#00e676"/>
        <circle cx="290" cy="170" r="8" fill="#00e676"/>
        <text x="300" y="200" fill="#00e676" font-size="10" font-weight="bold">RIBOSOMAS = H√çGADO</text>
        
        <!-- Efectos de ne√≥n -->
        <ellipse cx="200" cy="150" rx="152" ry="92" fill="none" stroke="#00ffff" stroke-width="1" opacity="0.5">
            <animate attributeName="opacity" values="0.5;1;0.5" dur="2s" repeatCount="indefinite"/>
        </ellipse>
    </svg>
    <p class="caption">Analog√≠as visuales: c√©lula como un cuerpo humano en miniatura con estilo retro-ne√≥n</p>
</div>

<div class="ejemplo">
    <h4>üí° Ejemplo 1: N√∫cleo ‚Üí Cerebro</h4>
    <p>El n√∫cleo contiene el ADN, que es como el "manual de instrucciones" de la c√©lula. El cerebro env√≠a se√±ales nerviosas para coordinar movimientos, pensamientos y funciones vitales. <strong>Ambos son centros de control</strong> que procesan informaci√≥n y toman decisiones.</p>
</div>

<div class="ejemplo">
    <h4>‚ö° Ejemplo 2: Mitocondrias ‚Üí Coraz√≥n</h4>
    <p>Las mitocondrias convierten glucosa en ATP (energ√≠a) mediante respiraci√≥n celular. El coraz√≥n bombea sangre con ox√≠geno y nutrientes a todo el cuerpo. <strong>Ambos suministran energ√≠a</strong> esencial para el funcionamiento del sistema.</p>
</div>

<div class="ejemplo">
    <h4>üõ°Ô∏è Ejemplo 3: Membrana ‚Üí Piel</h4>
    <p>La membrana celular regula qu√© entra y sale mediante transporte activo y pasivo. La piel protege de g√©rmenes, regula temperatura y evita p√©rdida de agua. <strong>Ambos son barreras protectoras</strong> selectivas que mantienen la homeostasis.</p>
</div>

<div class="ejemplo">
    <h4>üè≠ Ejemplo 4: Ribosomas ‚Üí H√≠gado</h4>
    <p>Los ribosomas fabrican prote√≠nas mediante traducci√≥n del ARN mensajero. El h√≠gado produce enzimas, alb√∫mina y factores de coagulaci√≥n. <strong>Ambos son f√°bricas de prote√≠nas</strong> especializadas en s√≠ntesis molecular.</p>
</div>

<div class="svg-diagram">
  <svg width="400" height="340" viewBox="0 0 400 340" xmlns="http://www.w3.org/2000/svg">
    <title>Jerarqu√≠a de Niveles de Organizaci√≥n</title>
    <desc>Diagrama piramidal mostrando los 12 niveles de organizaci√≥n biol√≥gica</desc>
    <rect width="400" height="340" fill="#101520"/>

    <!-- Niveles -->
    <g font-family="Arial" font-weight="bold">
      <!-- Biosfera -->
      <rect x="50" y="30" width="300" height="35" fill="#c71585"/>
      <text x="200" y="52" text-anchor="middle" fill="#ffffff" font-size="20">BIOSFERA</text>

      <!-- Ecosistema -->
      <rect x="70" y="80" width="260" height="35" fill="#00ced1"/>
      <text x="200" y="102" text-anchor="middle" fill="#000000" font-size="20">ECOSISTEMA</text>

      <!-- Comunidad -->
      <rect x="90" y="130" width="220" height="35" fill="#32cd32"/>
      <text x="200" y="152" text-anchor="middle" fill="#000000" font-size="20">COMUNIDAD</text>

      <!-- Poblaci√≥n -->
      <rect x="110" y="180" width="180" height="35" fill="#f1c40f"/>
      <text x="200" y="202" text-anchor="middle" fill="#000000" font-size="20">POBLACI√ìN</text>

      <!-- Organismo -->
      <rect x="130" y="230" width="140" height="35" fill="#e53935"/>
      <text x="200" y="252" text-anchor="middle" fill="#ffffff" font-size="20">ORGANISMO</text>
    </g>

    <!-- T√≠tulo -->
    <text x="190" y="290" text-anchor="middle" fill="#00ffff" font-size="16" font-weight="bold" font-family="Arial">
      NIVELES DE ORGANIZACI√ìN BIOL√ìGICA
    </text>
  </svg>
</div>
HTML
    ,
    'ejercicios' => [
        ["enunciado" => "Lista los niveles de organizaci√≥n desde c√©lula hasta ecosistema", "respuesta" => "C√©lula, Tejido, √ìrgano, Sistema de √≥rganos, Organismo, Poblaci√≥n, Comunidad, Ecosistema"],
        ["enunciado" => "¬øQu√© √≥rgano humano es an√°logo a la mitocondria celular?", "respuesta" => "Coraz√≥n (suministra energ√≠a al cuerpo)"],
        ["enunciado" => "Explica por qu√© el n√∫cleo es como el cerebro", "respuesta" => "Ambos contienen informaci√≥n gen√©tica/se√±ales y dirigen todas las actividades"],
        ["enunciado" => "¬øQu√© nivel incluye interacciones entre especies diferentes?", "respuesta" => "Comunidad"],
        ["enunciado" => "Da un ejemplo de org√°nulo y su √≥rgano an√°logo", "respuesta" => "Ret√≠culo endoplasm√°tico ‚Üí Sistema circulatorio (transporte)"],
        ["enunciado" => "¬øQu√© nivel incluye factores abi√≥ticos como luz solar y agua?", "respuesta" => "Ecosistema"],
        ["enunciado" => "Si una c√©lula es como una ciudad, ¬øqu√© ser√≠a el n√∫cleo?", "respuesta" => "El ayuntamiento o centro de gobierno"],
        ["enunciado" => "¬øQu√© nivel es un grupo de lobos en un bosque?", "respuesta" => "Poblaci√≥n"],
        ["enunciado" => "Nombra 3 tejidos que forman el coraz√≥n", "respuesta" => "M√∫sculo card√≠aco, tejido conectivo, epitelial"],
        ["enunciado" => "¬øPor qu√© la piel es an√°loga a la membrana celular?", "respuesta" => "Ambas protegen, regulan entrada/salida y mantienen el interior"],
        ["enunciado" => "Si eliminas el n√∫cleo, ¬øqu√© le pasa a la c√©lula? ¬øY si quitas el cerebro?", "respuesta" => "La c√©lula muere o no funciona; el cuerpo entra en coma o muere"],
        ["enunciado" => "Dibuja una analog√≠a: lisosomas = ?", "respuesta" => "Est√≥mago o sistema inmunitario (digerir/descomponer)"],
    ],
    'quiz' => [
        ["pregunta" => "¬øCu√°l es el nivel b√°sico de la vida?", "opciones" => ["√Åtomo", "C√©lula", "√ìrgano", "Biosfera"], "correcta" => "C√©lula"],
        ["pregunta" => "El n√∫cleo celular es an√°logo a...", "opciones" => ["Coraz√≥n", "Cerebro", "Piel", "Pulmones"], "correcta" => "Cerebro"],
        ["pregunta" => "¬øQu√© nivel incluye abi√≥ticos y bi√≥ticos?", "opciones" => ["Poblaci√≥n", "Comunidad", "Ecosistema", "Organismo"], "correcta" => "Ecosistema"],
        ["pregunta" => "¬øGrupo de c√©lulas similares?", "opciones" => ["Tejido", "√ìrgano", "Sistema", "C√©lula"], "correcta" => "Tejido"],
        ["pregunta" => "Las mitocondrias son como el...", "opciones" => ["Cerebro", "Coraz√≥n", "Piel", "H√≠gado"], "correcta" => "Coraz√≥n"],
        ["pregunta" => "¬øQu√© nivel es un cardumen de peces?", "opciones" => ["Poblaci√≥n", "Comunidad", "Ecosistema", "Organismo"], "correcta" => "Poblaci√≥n"],
        ["pregunta" => "La membrana celular es an√°loga a...", "opciones" => ["Piel", "Cerebro", "Huesos", "M√∫sculos"], "correcta" => "Piel"],
        ["pregunta" => "¬øQu√© nivel incluye varias especies interactuando?", "opciones" => ["Poblaci√≥n", "Comunidad", "Ecosistema", "Biosfera"], "correcta" => "Comunidad"],
        ["pregunta" => "El ret√≠culo endoplasm√°tico es como el...", "opciones" => ["Sistema nervioso", "Sistema circulatorio", "Esqueleto", "Pulmones"], "correcta" => "Sistema circulatorio"],
        ["pregunta" => "¬øQu√© nivel es el m√°s grande?", "opciones" => ["Ecosistema", "Biosfera", "Organismo", "Poblaci√≥n"], "correcta" => "Biosfera"],
        ["pregunta" => "Los ribosomas fabrican...", "opciones" => ["Energ√≠a", "Prote√≠nas", "ADN", "Agua"], "correcta" => "Prote√≠nas"],
        ["pregunta" => "Un bosque con animales, plantas y clima es un...", "opciones" => ["Poblaci√≥n", "Comunidad", "Ecosistema", "Organismo"], "correcta" => "Ecosistema"],
        ["pregunta" => "El ADN est√° en el...", "opciones" => ["Mitocondria", "N√∫cleo", "Membrana", "Citoplasma"], "correcta" => "N√∫cleo"],
        ["pregunta" => "¬øQu√© nivel es un solo humano?", "opciones" => ["Poblaci√≥n", "Organismo", "Comunidad", "Ecosistema"], "correcta" => "Organismo"],
        ["pregunta" => "Los lisosomas son como el...", "opciones" => ["Est√≥mago", "Cerebro", "Piel", "Coraz√≥n"], "correcta" => "Est√≥mago"],
        ["pregunta" => "¬øQu√© nivel incluye solo una especie?", "opciones" => ["Comunidad", "Poblaci√≥n", "Ecosistema", "Biosfera"], "correcta" => "Poblaci√≥n"],
        ["pregunta" => "El citoplasma es como el...", "opciones" => ["Aire", "Sangre", "Espacio interno del cuerpo", "Huesos"], "correcta" => "Espacio interno del cuerpo"],
        ["pregunta" => "¬øQu√© nivel es un conjunto de √≥rganos?", "opciones" => ["Tejido", "√ìrgano", "Sistema", "Organismo"], "correcta" => "Sistema"],
        ["pregunta" => "La biosfera incluye...", "opciones" => ["Solo oc√©anos", "Solo tierra", "Toda la vida en la Tierra", "Solo humanos"], "correcta" => "Toda la vida en la Tierra"],
        ["pregunta" => "Si quitas el n√∫cleo, la c√©lula...", "opciones" => ["Sigue igual", "Muere", "Se divide", "Crece m√°s"], "correcta" => "Muere"],
        ["pregunta" => "Un ejemplo de tejido es...", "opciones" => ["Coraz√≥n", "M√∫sculo", "Sistema nervioso", "H√≠gado"], "correcta" => "M√∫sculo"],
        ["pregunta" => "¬øQu√© nivel estudia las interacciones entre lobos y ciervos?", "opciones" => ["Poblaci√≥n", "Comunidad", "Ecosistema", "Biosfera"], "correcta" => "Comunidad"],
        ["pregunta" => "El aparato de Golgi es como el...", "opciones" => ["Correo", "F√°brica", "Almac√©n", "Bomba"], "correcta" => "Correo"],
        ["pregunta" => "¬øQu√© nivel es un grupo de humanos en una ciudad?", "opciones" => ["Poblaci√≥n", "Comunidad", "Ecosistema", "Biosfera"], "correcta" => "Poblaci√≥n"],
        ["pregunta" => "Las c√©lulas nerviosas forman el tejido...", "opciones" => ["Muscular", "Nervioso", "Conectivo", "Epitelial"], "correcta" => "Nervioso"],
        ["pregunta" => "El nivel m√°s peque√±o con vida es...", "opciones" => ["√Åtomo", "Mol√©cula", "C√©lula", "Org√°nulo"], "correcta" => "C√©lula"],
        ["pregunta" => "Un ejemplo de sistema de √≥rganos es...", "opciones" => ["Coraz√≥n", "Sistema digestivo", "Est√≥mago", "P√°ncreas"], "correcta" => "Sistema digestivo"],
        ["pregunta" => "La piel est√° formada por tejido...", "opciones" => ["Muscular", "Nervioso", "Epitelial", "√ìseo"], "correcta" => "Epitelial"],
        ["pregunta" => "¬øQu√© nivel incluye clima, suelo y agua?", "opciones" => ["Poblaci√≥n", "Comunidad", "Ecosistema", "Biosfera"], "correcta" => "Ecosistema"],
        ["pregunta" => "Si la c√©lula es una f√°brica, el n√∫cleo es...", "opciones" => ["El obrero", "El jefe", "La m√°quina", "La puerta"], "correcta" => "El jefe"]
    ]
];
// ========================================
// materia: ECOSISTEMAS
// Sub-tema: Leyes de la Termodin√°mica
// ========================================
$lecciones[] = [
    'materia' => 'Ecosistemas',
    'slug' => 'leyes-termodinamica',
    'titulo' => 'Leyes de la Termodin√°mica en Ecosistemas: Energ√≠a y Entrop√≠a [Retro-Ne√≥n]',
    'contenido' => <<<'HTML'

        <h3>Primera Ley de la Termodin√°mica: Conservaci√≥n de la Energ√≠a</h3>
        <p>La energ√≠a <strong>no se crea ni se destruye</strong>, solo se transforma de una forma a otra. En los ecosistemas, la energ√≠a entra como luz solar, se convierte en energ√≠a qu√≠mica (fotos√≠ntesis), luego en energ√≠a mec√°nica (movimiento), y finalmente se disipa como calor.</p>
        <p><strong>F√≥rmula clave:</strong> \( \Delta U = Q - W \)</p>
        <p>En biolog√≠a: <strong>Energ√≠a absorbida = Energ√≠a almacenada + Energ√≠a perdida</strong></p>

        <div class="visual">
            <img src="assets/img/leyes_termondinamica.png" alt="Leyes de termodin√°mica en biolog√≠a">
            <p><em>Aplicaci√≥n de las leyes en sistemas vivos. Fuente: Khan Academy.</em></p>
        </div>
        <div class="visual">
            <img src="assets/img/flujo_energia_eco.1" alt="Flujo de energ√≠a en ecosistemas">
            <p><em>Flujo unidireccional de energ√≠a. Fuente: BYJU'S.</em></p>
        </div>
        <div class="visual">
            <img src="assets/img/piramide_energia.jpg" alt="Pir√°mide energ√©tica">
            <p><em>Pir√°mide de energ√≠a mostrando p√©rdida por nivel tr√≥fico. Fuente: Biology Online.</em></p>
        </div>

        <h3>Segunda Ley de la Termodin√°mica: Aumento de Entrop√≠a</h3>
        <p>En todo proceso natural, la <strong>entrop√≠a (desorden)</strong> del sistema y su entorno <strong>aumenta</strong>. En ecosistemas, solo ~10% de la energ√≠a se transfiere al siguiente nivel tr√≥fico. El 90% se pierde como calor.</p>
        <p><strong>Regla del 10%:</strong> \( E_{n+1} = 0.1 \times E_n \)</p>

        <div class="visual">
            <img src="assets/img/piramide_energia.jpg" alt="Leyes en ecosistemas">
            <p><em>Flujo energ√©tico con p√©rdidas. Fuente: SlideShare.</em></p>
        </div>
        <div class="visual">
            <img src="assets/img/energy_flow_in_an_ecosystem.jpg" alt="Flujo de energ√≠a con entrop√≠a">
            <p><em>P√©rdida de energ√≠a como calor en cada paso. Fuente: Science Photo.</em></p>
        </div>
        <div class="ejemplo">
            <h4>Ejemplo 1: Fotos√≠ntesis</h4>
            <p>Luz solar ‚Üí glucosa (energ√≠a qu√≠mica). <strong>Primera ley:</strong> energ√≠a transformada. <strong>Segunda ley:</strong> solo 1-2% de luz se convierte en biomasa, el resto calor.</p>
        </div>
        <div class="ejemplo">
            <h4>Ejemplo 2: Cadena Tr√≥fica</h4>
            <p>1000 J en plantas ‚Üí 100 J en conejo ‚Üí 10 J en zorro ‚Üí 1 J en √°guila. El 99.9% se pierde como calor.</p>
        </div>
        <div class="ejemplo">
            <h4>Ejemplo 3: Respiraci√≥n Celular</h4>
            <p>Glucosa + O‚ÇÇ ‚Üí CO‚ÇÇ + H‚ÇÇO + ATP + <strong>calor</strong>. La energ√≠a no desaparece, se transforma.</p>
        </div>
        <div class="ejemplo">
            <h4>Ejemplo 4: Descomposici√≥n</h4>
            <p>Organismo muerto ‚Üí calor + CO‚ÇÇ (descomponedores). Energ√≠a qu√≠mica ‚Üí t√©rmica (entrop√≠a aumenta).</p>
        </div>
HTML
    ,
    'ejercicios' => [
        ["enunciado" => "Explica la primera ley con un ejemplo de ecosistema", "respuesta" => "Luz solar ‚Üí energ√≠a qu√≠mica en plantas ‚Üí movimiento en animales ‚Üí calor. Energ√≠a se transforma, no se crea ni destruye."],
        ["enunciado" => "¬øPor qu√© solo ~10% de energ√≠a pasa al siguiente nivel tr√≥fico?", "respuesta" => "Segunda ley: entrop√≠a aumenta, 90% se pierde como calor en respiraci√≥n, movimiento, etc."],
        ["enunciado" => "Da un ejemplo de transformaci√≥n de energ√≠a en una planta", "respuesta" => "Luz solar ‚Üí energ√≠a qu√≠mica (glucosa) mediante fotos√≠ntesis."],
        ["enunciado" => "¬øQu√© ley explica la ineficiencia energ√©tica en cadenas alimenticias?", "respuesta" => "Segunda ley de la termodin√°mica (entrop√≠a)."],
        ["enunciado" => "Si un productor tiene 5000 J, ¬øcu√°nto llega al carn√≠voro secundario?", "respuesta" => "5000 √ó 0.1 √ó 0.1 = 50 J"],
        ["enunciado" => "¬øPor qu√© no hay cadenas tr√≥ficas de 10 niveles?", "respuesta" => "Regla del 10%: energ√≠a se reduce 100 millones de veces, insuficiente para sostener vida."],
        ["enunciado" => "Nombra 3 formas en que se pierde energ√≠a en un herb√≠voro", "respuesta" => "Respiraci√≥n, movimiento, calor corporal, excrementos."],
        ["enunciado" => "Si un ecosistema recibe 10000 J de sol, ¬øcu√°nto queda en el nivel terciario?", "respuesta" => "10000 √ó 0.1¬≥ = 10 J"],
        ["enunciado" => "¬øQu√© pasa con la energ√≠a que 'desaparece' en un nivel tr√≥fico?", "respuesta" => "No desaparece: se transforma en calor (primera ley), aumentando entrop√≠a (segunda ley)."],
        ["enunciado" => "Explica por qu√© los descomponedores son clave", "respuesta" => "Reciclan energ√≠a qu√≠mica de desechos/muertos, evitando acumulaci√≥n de materia inerte."],
        ["enunciado" => "Si un √°guila come un conejo con 200 J, ¬øcu√°nto usa para volar?", "respuesta" => "M√°ximo ~20 J (10%), el resto calor."],
        ["enunciado" => "¬øQu√© ley permite que la Tierra no se quede sin energ√≠a?", "respuesta" => "Primera ley: energ√≠a solar entra constantemente, se transforma, pero no se pierde."]
    ],
    'quiz' => [
        ["pregunta" => "La primera ley dice que la energ√≠a...", "opciones" => ["Se crea", "Se destruye", "Se transforma", "Desaparece"], "correcta" => "Se transforma"],
        ["pregunta" => "La segunda ley involucra aumento de...", "opciones" => ["Masa", "Entrop√≠a", "Velocidad", "Luz"], "correcta" => "Entrop√≠a"],
        ["pregunta" => "En ecosistemas, la energ√≠a se pierde principalmente como...", "opciones" => ["Luz", "Calor", "Agua", "Sonido"], "correcta" => "Calor"],
        ["pregunta" => "¬øQu√© ley explica por qu√© las cadenas tr√≥ficas son cortas?", "opciones" => ["Primera", "Segunda", "Tercera", "Ninguna"], "correcta" => "Segunda"],
        ["pregunta" => "Solo ~___% de energ√≠a pasa al siguiente nivel", "opciones" => ["50%", "25%", "10%", "1%"], "correcta" => "10%"],
        ["pregunta" => "La fotos√≠ntesis transforma energ√≠a...", "opciones" => ["Qu√≠mica a luz", "Luz a qu√≠mica", "Calor a movimiento", "El√©ctrica a qu√≠mica"], "correcta" => "Luz a qu√≠mica"],
        ["pregunta" => "La entrop√≠a mide...", "opciones" => ["Orden", "Desorden", "Masa", "Temperatura"], "correcta" => "Desorden"],
        ["pregunta" => "Si un productor tiene 1000 J, un herb√≠voro recibe...", "opciones" => ["1000 J", "500 J", "100 J", "10 J"], "correcta" => "100 J"],
        ["pregunta" => "La energ√≠a perdida en respiraci√≥n se convierte en...", "opciones" => ["Luz", "Calor", "Sonido", "Masa"], "correcta" => "Calor"],
        ["pregunta" => "¬øQu√© ley permite que el sol sostenga la vida?", "opciones" => ["Primera", "Segunda", "Ambas", "Ninguna"], "correcta" => "Ambas"],
        ["pregunta" => "Los descomponedores liberan energ√≠a como...", "opciones" => ["Luz", "Calor", "Sonido", "Electricidad"], "correcta" => "Calor"],
        ["pregunta" => "La regla del 10% es consecuencia de la...", "opciones" => ["Primera ley", "Segunda ley", "Ley de Mendel", "Gravitaci√≥n"], "correcta" => "Segunda ley"],
        ["pregunta" => "Un carn√≠voro secundario recibe ___ de la energ√≠a inicial", "opciones" => ["100%", "10%", "1%", "0.1%"], "correcta" => "1%"],
        ["pregunta" => "La energ√≠a qu√≠mica en glucosa se transforma en ___ en m√∫sculos", "opciones" => ["Luz", "Calor", "Movimiento", "Sonido"], "correcta" => "Movimiento"],
        ["pregunta" => "¬øQu√© pasa si violamos la primera ley en un ecosistema?", "opciones" => ["Energ√≠a aparece", "Energ√≠a desaparece", "Nada", "Imposible"], "correcta" => "Imposible"],
        ["pregunta" => "La entrop√≠a en un ecosistema cerrado...", "opciones" => ["Disminuye", "Aumenta", "Se mantiene", "Desaparece"], "correcta" => "Aumenta"],
        ["pregunta" => "La energ√≠a solar entra al ecosistema como...", "opciones" => ["Calor", "Luz", "Qu√≠mica", "El√©ctrica"], "correcta" => "Luz"],
        ["pregunta" => "Un ejemplo de entrop√≠a en animales es...", "opciones" => ["Crecimiento", "Calor corporal", "Reproducci√≥n", "Fotos√≠ntesis"], "correcta" => "Calor corporal"],
        ["pregunta" => "La segunda ley explica por qu√© no hay ___ infinitos", "opciones" => ["Productores", "Consumidores", "Niveles tr√≥ficos", "Descomponedores"], "correcta" => "Niveles tr√≥ficos"],
        ["pregunta" => "Si un conejo usa 80 J de 100 J, ¬ød√≥nde van los 80 J?", "opciones" => ["Al zorro", "Al suelo", "Al aire (calor)", "A la planta"], "correcta" => "Al aire (calor)"],
        ["pregunta" => "La primera ley es tambi√©n conocida como...", "opciones" => ["Ley de entrop√≠a", "Ley de conservaci√≥n", "Ley de eficiencia", "Ley de flujo"], "correcta" => "Ley de conservaci√≥n"],
        ["pregunta" => "En un ecosistema, la energ√≠a fluye en ___ direcci√≥n", "opciones" => ["C√≠clica", "Bidireccional", "Unidireccional", "Aleatoria"], "correcta" => "Unidireccional"],
        ["pregunta" => "La energ√≠a en excrementos es usada por...", "opciones" => ["Plantas", "Herb√≠voros", "Descomponedores", "Carn√≠voros"], "correcta" => "Descomponedores"],
        ["pregunta" => "La segunda ley dice que la eficiencia es siempre...", "opciones" => ["100%", ">50%", "<100%", "0%"], "correcta" => "<100%"],
        ["pregunta" => "Un sistema con entrop√≠a m√°xima est√° en...", "opciones" => ["Equilibrio", "Desorden total", "Crecimiento", "Fotos√≠ntesis"], "correcta" => "Desorden total"],
        ["pregunta" => "La energ√≠a que entra al ecosistema sale como...", "opciones" => ["Luz", "Calor", "Biomasa", "Agua"], "correcta" => "Calor"],
        ["pregunta" => "¬øQu√© ley permite que la vida sea posible en la Tierra?", "opciones" => ["Primera", "Segunda", "Ambas", "Ninguna"], "correcta" => "Ambas"],
        ["pregunta" => "Si no hubiera segunda ley, las cadenas tr√≥ficas ser√≠an...", "opciones" => ["Cortas", "Largas", "C√≠clicas", "Inestables"], "correcta" => "Largas"],
        ["pregunta" => "La energ√≠a en un cad√°ver se transforma en...", "opciones" => ["Luz", "Calor", "Sonido", "Electricidad"], "correcta" => "Calor"],
        ["pregunta" => "La primera ley garantiza que la energ√≠a total en el universo es...", "opciones" => ["Creciente", "Decreciente", "Constante", "Cero"], "correcta" => "Constante"]
    ]
];
/**
 * MATERIA: ECOSISTEMAS
 * TEMA: Radiaci√≥n Electromagn√©tica y su impacto en los ecosistemas
 * ESTILO: Retro-ne√≥n cyberpunk total ‚Äì 100 % compatible con tu plataforma
 */

$lecciones[] = [
    'materia' => 'Ecosistemas',
    'slug'    => 'radiacion-electromagnetica',
    'titulo'  => 'Radiaci√≥n Electromagn√©tica: El Motor Energ√©tico de los Ecosistemas',

    'contenido' => <<<'HTML'
<h3>¬øQu√© es la Radiaci√≥n Electromagn√©tica?</h3>
<p>La <strong>radiaci√≥n electromagn√©tica</strong> es energ√≠a que se propaga en forma de <strong>ondas transversales</strong> a la velocidad de la luz (<strong>\(c = 3 \times 10^8 \, \text{m/s}\)</strong>). Est√° formada por campos el√©ctricos y magn√©ticos perpendiculares que oscilan en fase.</p>
<p>En los ecosistemas, es la <strong>fuente primaria de toda la energ√≠a</strong>: la luz visible impulsa la fotos√≠ntesis, el ultravioleta da√±a el ADN, y el infrarrojo regula la temperatura planetaria.</p>
<p><strong>F√≥rmula fundamental:</strong> \( c = \lambda \cdot f \) ‚Üí velocidad = longitud de onda √ó frecuencia</p>

<div class="visual">
    <img src="assets/img/spectrum-properties-nasa.jpg" alt="Espectro electromagn√©tico completo">
    <p><em>Espectro completo: de ondas radio a rayos gamma. Fuente: NASA / KaiserScience.</em></p>
</div>
<div class="visual">
    <img src="assets/img/electromagnetic-spectrum.png" alt="Efectos en la vida">
    <p><em>Impacto de cada banda en organismos vivos. Fuente: ResearchGate.</em></p>
</div>
<div class="visual">
    <img src="assets/img/radiacion_fotosintesis.jpg" alt="Radiaci√≥n afecta fotos√≠ntesis">
    <p><em>Radiaci√≥n electromagn√©tica altera clorofila. Fuente: Nature.</em></p>
</div>
<div class="visual">
    <img src="assets/img/uv_dano_adn.png" alt="UV y da√±o a ADN">
    <p><em>UV penetra piel y da√±a ADN. Fuente: EPA.</em></p>
</div>

<!-- SVG RETRO-NE√ìN DEFINITIVO -->
<div class="svg-diagram">
    <svg viewBox="0 0 860 460" xmlns="http://www.w3.org/2000/svg" aria-labelledby="svg-title svg-desc">
        <title id="svg-title">Espectro Electromagn√©tico Completo ‚Äì Estilo Cyberpunk</title>
        <desc id="svg-desc">Barra continua del espectro con gradiente realista, etiquetas precisas y efectos ne√≥n. Longitud de onda creciente de izquierda a derecha.</desc>

        <rect width="860" height="460" fill="#000"/>

        <!-- T√≠tulo principal -->
        <text x="430" y="70" fill="#ff00ff" font-size="46" font-weight="bold" text-anchor="middle"
              filter="url(#glow-magenta)">Espectro Electromagn√©tico</text>

        <!-- Efectos ne√≥n -->
        <defs>
            <linearGradient id="spectrum" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%"   stop-color="#9400d3"/>
                <stop offset="6%"   stop-color="#8a2be2"/>
                <stop offset="14%"  stop-color="#4169e1"/>
                <stop offset="22%"  stop-color="#00bfff"/>
                <stop offset="30%"  stop-color="#00ced1"/>
                <stop offset="37%"  stop-color="#00ff7f"/>
                <stop offset="44%"  stop-color="#adff2f"/>
                <stop offset="50%"  stop-color="#ffff00"/>
                <stop offset="57%"  stop-color="#ffa500"/>
                <stop offset="68%"  stop-color="#ff4500"/>
                <stop offset="82%"  stop-color="#ff0000"/>
                <stop offset="100%" stop-color="#8b0000"/>
            </linearGradient>

            <filter id="glow-cyan">
                <feGaussianBlur stdDeviation="6" result="blur"/>
                <feFlood flood-color="#00ffff"/>
                <feComposite in2="blur" operator="in"/>
                <feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>
            </filter>
            <filter id="glow-magenta">
                <feGaussianBlur stdDeviation="8" result="blur"/>
                <feFlood flood-color="#ff00ff"/>
                <feComposite in2="blur" operator="in"/>
                <feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>
            </filter>
        </defs>

        <!-- Barra del espectro con borde y glow -->
        <rect x="90" y="160" width="680" height="90" rx="45" fill="url(#spectrum)" stroke="#00ffff" stroke-width="10" filter="url(#glow-cyan)"/>

        <!-- Etiquetas superiores -->
        <text x="110" y="130" fill="#00ffff" font-size="22" font-weight="bold" filter="url(#glow-cyan)">Rayos Gamma</text>
        <text x="210" y="130" fill="#00ffff" font-size="22" filter="url(#glow-cyan)">Rayos X</text>
        <text x="320" y="130" fill="#ff00ff" font-size="26" font-weight="bold" filter="url(#glow-magenta)">Ultravioleta</text>
        <text x="430" y="130" fill="#00ff00" font-size="32" font-weight="bold" text-anchor="middle" filter="url(#glow-cyan)">Luz Visible</text>
        <text x="580" y="130" fill="#ff1744" font-size="26" font-weight="bold" filter="url(#glow-magenta)">Infrarrojo</text>
        <text x="720" y="130" fill="#f1c40f" font-size="22" filter="url(#glow-cyan)">Microondas / Radio</text>

        <!-- Longitudes de onda inferiores -->
        <text x="110" y="290" fill="#00ffff" font-size="20" filter="url(#glow-cyan)">Œª &lt; 10‚Åª¬π¬≤ m</text>
        <text x="220" y="290" fill="#00ffff" font-size="20" filter="url(#glow-cyan)">~10‚Åª¬π‚Å∞ m</text>
        <text x="340" y="290" fill="#ff00ff" font-size="22" font-weight="bold" filter="url(#glow-magenta)">10‚Åª‚Å∏ ‚Äì 400 nm</text>
        <text x="430" y="290" fill="#00ff00" font-size="28" font-weight="bold" text-anchor="middle" filter="url(#glow-cyan)">400 ‚Äì 700 nm</text>
        <text x="590" y="290" fill="#ff1744" font-size="22" filter="url(#glow-magenta)">700 nm ‚Äì 1 mm</text>
        <text x="740" y="290" fill="#f1c40f" font-size="20" filter="url(#glow-cyan)">Œª &gt; 1 m</text>

        <!-- Flechas de energ√≠a -->
        <path d="M90 200 L40 185 M90 200 L40 215" stroke="#ff1744" stroke-width="8" filter="url(#glow-magenta)"/>
        <text x="35" y="205" fill="#ff1744" font-size="28" font-weight="bold" text-anchor="end" filter="url(#glow-magenta)">Alta energ√≠a</text>

        <path d="M770 200 L820 185 M770 200 L820 215" stroke="#00e676" stroke-width="8" filter="url(#glow-cyan)"/>
        <text x="825" y="205" fill="#00e676" font-size="28" font-weight="bold" filter="url(#glow-cyan)">Baja energ√≠a</text>

        <text x="430" y="390" fill="#00ffff" font-size="24" text-anchor="middle" filter="url(#glow-cyan)">
            Longitud de onda aumenta ‚Üí Frecuencia y energ√≠a disminuyen
        </text>
    </svg>
    <div class="caption"><em>Espectro electromagn√©tico completo. Solo la luz visible (400-700 nm) es aprovechada directamente por los productores.</em></div>
</div>

<h3>Impacto en Ecosistemas</h3>
<table class="table table-bordered text-center">
    <thead class="table-primary">
        <tr><th>Tipo</th><th>Longitud de onda</th><th>Efecto en Ecosistemas</th></tr>
    </thead>
    <tbody>
        <tr><td>Luz visible</td><td>\( 400-700 \, \text{nm} \)</td><td>Fotos√≠ntesis, visi√≥n, crecimiento vegetal</td></tr>
        <tr><td>UV</td><td>\( &lt;400 \, \text{nm} \)</td><td>Da√±o ADN, mutaciones, afecta fitoplancton</td></tr>
        <tr><td>Infrarrojo</td><td>\( &gt;700 \, \text{nm} \)</td><td>Calor, evapotranspiraci√≥n, regulaci√≥n clim√°tica</td></tr>
        <tr><td>Microondas</td><td>mm - cm</td><td>Calentamiento, m√≠nimo impacto biol√≥gico directo</td></tr>
    </tbody>
</table>

<div class="ejemplo">
    <h4>Ejemplo 1: Fotos√≠ntesis</h4>
    <p>Clorofila absorbe luz roja (\(\sim 680 \, \text{nm}\)) y azul (\(\sim 450 \, \text{nm}\)), reflejando verde. Base de la cadena tr√≥fica.</p>
</div>
<div class="ejemplo">
    <h4>Ejemplo 2: Agujero de Ozono</h4>
    <p>Menos ozono ‚Üí m√°s UV-B ‚Üí da√±o a fitoplancton ‚Üí menos ox√≠geno y base alimentaria marina.</p>
</div>
<div class="ejemplo">
    <h4>Ejemplo 3: Infrarrojo y Efecto Invernadero</h4>
    <p>CO‚ÇÇ atrapa infrarrojo ‚Üí calentamiento global ‚Üí alteraci√≥n de ecosistemas.</p>
</div>
<div class="ejemplo">
    <h4>Ejemplo 4: Visi√≥n Animal</h4>
    <p>Abejas ven UV (patrones en flores), serpientes detectan infrarrojo (cazan de noche).</p>
</div>
HTML
,
    'ejercicios' => [
        ["enunciado" => "¬øQu√© parte del espectro es usada en fotos√≠ntesis?", "respuesta" => "Luz visible (400-700 nm), especialmente rojo y azul."],
        ["enunciado" => "Explica c√≥mo la radiaci√≥n UV afecta a los ecosistemas marinos", "respuesta" => "Da√±o a fitoplancton ‚Üí menos fotos√≠ntesis ‚Üí menos O‚ÇÇ y base de cadena alimentaria."],
        ["enunciado" => "¬øQu√© ondas tienen la mayor longitud de onda y menor energ√≠a?", "respuesta" => "Ondas de radio (>1 m)."],
        ["enunciado" => "Da un ejemplo de impacto del infrarrojo en el clima", "respuesta" => "Efecto invernadero: CO‚ÇÇ atrapa IR ‚Üí calentamiento global."],
        ["enunciado" => "Si la frecuencia es \( f = 5 \times 10^{14} \) Hz, calcula la longitud de onda y determina el tipo de luz (usa \( c = \lambda f \), \( c = 3 \times 10^8 \) m/s).", "respuesta" => "\( \lambda = \\frac{3\\times10^8}{5\\times10^{14}} = 600\\,\\text{nm} \\) ‚Üí luz naranja."],
        ["enunciado" => "¬øPor qu√© las plantas son verdes?", "respuesta" => "Reflejan luz verde (~550 nm), absorben rojo y azul."],
        ["enunciado" => "¬øQu√© animales ven en ultravioleta?", "respuesta" => "Abejas, aves, algunos reptiles."],
        ["enunciado" => "Si aumenta el UV por agujero de ozono, ¬øqu√© pasa con el fitoplancton?", "respuesta" => "Disminuye ‚Üí menos ox√≠geno y alimento para zooplancton."],
        ["enunciado" => "¬øQu√© radiaci√≥n usan los sat√©lites para medir temperatura terrestre?", "respuesta" => "Infrarrojo t√©rmico."],
        ["enunciado" => "Ordena de mayor a menor energ√≠a: UV, infrarrojo, visible", "respuesta" => "UV > visible > infrarrojo."],
        ["enunciado" => "¬øQu√© radiaci√≥n usa un control remoto?", "respuesta" => "Infrarrojo."],
        ["enunciado" => "¬øPor qu√© el cielo es azul?", "respuesta" => "Dispersi√≥n de luz azul (longitud corta) por mol√©culas de aire."]
    ],

    'quiz' => [
        ["pregunta" => "¬øQu√© radiaci√≥n es esencial para la fotos√≠ntesis?", "opciones" => ["Rayos X", "Luz visible", "Ondas radio", "Gamma"], "correcta" => "Luz visible"],
        ["pregunta" => "La velocidad de la luz en el vac√≠o es...", "opciones" => ["3 √ó 10‚Å∂ m/s", "3 √ó 10‚Å∏ m/s", "3 √ó 10¬π‚Å∞ m/s", "Variable"], "correcta" => "3 √ó 10‚Å∏ m/s"],
        ["pregunta" => "¬øQu√© banda del espectro da√±a el ADN del fitoplancton?", "opciones" => ["Infrarrojo", "UV-B", "Microondas", "Radio"], "correcta" => "UV-B"],
        ["pregunta" => "La clorofila refleja principalmente luz de longitud...", "opciones" => ["400 nm", "550 nm", "700 nm", "1000 nm"], "correcta" => "550 nm"],
        ["pregunta" => "Si Œª = 600 nm, la frecuencia es aproximadamente...", "opciones" => ["5 √ó 10¬π‚Å¥ Hz", "6 √ó 10¬π‚Å¥ Hz", "4 √ó 10¬π‚Å¥ Hz", "7 √ó 10¬π‚Å¥ Hz"], "correcta" => "5 √ó 10¬π‚Å¥ Hz"],
        ["pregunta" => "Las abejas pueden ver patrones en flores gracias a...", "opciones" => ["Infrarrojo", "Ultravioleta", "Rayos X", "Microondas"], "correcta" => "Ultravioleta"],
        ["pregunta" => "El efecto invernadero atrapa principalmente...", "opciones" => ["UV", "Luz visible", "Infrarrojo", "Rayos gamma"], "correcta" => "Infrarrojo"],
        ["pregunta" => "La luz con mayor energ√≠a del espectro visible es...", "opciones" => ["Roja", "Verde", "Azul-violeta", "Amarilla"], "correcta" => "Azul-violeta"],
        ["pregunta" => "El √≠ndice NDVI mide salud vegetal usando...", "opciones" => ["UV y azul", "Rojo e infrarrojo cercano", "Microondas", "Rayos X"], "correcta" => "Rojo e infrarrojo cercano"],
        ["pregunta" => "La radiaci√≥n ionizante incluye...", "opciones" => ["Radio y microondas", "UV, rayos X y gamma", "Visible e IR", "Solo gamma"], "correcta" => "UV, rayos X y gamma"],
        ["pregunta" => "¬øQu√© radiaci√≥n penetra m√°s profundo en el oc√©ano?", "opciones" => ["UV", "Luz azul", "Luz roja", "Infrarrojo"], "correcta" => "Luz azul"],
        ["pregunta" => "Las serpientes de cascabel detectan presas mediante...", "opciones" => ["UV", "Infrarrojo", "Sonido", "Olor"], "correcta" => "Infrarrojo"],
        ["pregunta" => "El cielo es azul debido a...", "opciones" => ["Absorci√≥n del rojo", "Dispersi√≥n de luz corta", "Reflexi√≥n", "Emisi√≥n"], "correcta" => "Dispersi√≥n de luz corta"],
        ["pregunta" => "El control remoto de TV usa...", "opciones" => ["UV", "Infrarrojo", "Visible", "Microondas"], "correcta" => "Infrarrojo"],
        ["pregunta" => "La energ√≠a de un fot√≥n aumenta cuando...", "opciones" => ["Œª aumenta", "f aumenta", "Amplitud aumenta", "Velocidad disminuye"], "correcta" => "f aumenta"],
        ["pregunta" => "El Sol emite su pico de energ√≠a en...", "opciones" => ["UV", "Luz visible", "Infrarrojo", "Radio"], "correcta" => "Luz visible"],
        ["pregunta" => "La luz roja tiene longitud de onda de aproximadamente...", "opciones" => ["400 nm", "550 nm", "700 nm", "1000 nm"], "correcta" => "700 nm"],
        ["pregunta" => "El agujero de ozono permite mayor paso de...", "opciones" => ["Luz visible", "UV-B", "Infrarrojo", "Rayos X"], "correcta" => "UV-B"],
        ["pregunta" => "Las microondas se usan principalmente en...", "opciones" => ["Fotos√≠ntesis", "Hornos", "Visi√≥n nocturna", "Radioterapia"], "correcta" => "Hornos"],
        ["pregunta" => "El fitoplancton es m√°s sensible a...", "opciones" => ["Infrarrojo", "UV", "Visible", "Radio"], "correcta" => "UV"],
        ["pregunta" => "La luz verde es reflejada por las plantas porque...", "opciones" => ["La absorben m√°s", "La usan menos", "No tienen clorofila", "Es t√≥xica"], "correcta" => "La usan menos"],
        ["pregunta" => "La radiaci√≥n con mayor frecuencia es...", "opciones" => ["Radio", "Microondas", "UV", "Gamma"], "correcta" => "Gamma"],
        ["pregunta" => "El efecto invernadero atrapa radiaci√≥n...", "opciones" => ["UV", "Visible", "Infrarrojo", "Gamma"], "correcta" => "Infrarrojo"],
        ["pregunta" => "Si Œª = 500 nm, la frecuencia es...", "opciones" => ["6 √ó 10¬π‚Å¥ Hz", "3 √ó 10‚Å∏ Hz", "5 √ó 10¬π‚Å¥ Hz", "500 Hz"], "correcta" => "6 √ó 10¬π‚Å¥ Hz"],
        ["pregunta" => "Las ondas de radio se usan principalmente en...", "opciones" => ["Fotos√≠ntesis", "Comunicaci√≥n", "Calor", "Visi√≥n"], "correcta" => "Comunicaci√≥n"],
        ["pregunta" => "La luz azul tiene m√°s energ√≠a que la roja porque...", "opciones" => ["Mayor longitud", "Mayor frecuencia", "Mayor amplitud", "Mayor velocidad"], "correcta" => "Mayor frecuencia"],
        ["pregunta" => "El √≠ndice de vegetaci√≥n NDVI se basa en...", "opciones" => ["UV y visible", "Rojo e infrarrojo cercano", "Microondas", "Rayos X"], "correcta" => "Rojo e infrarrojo cercano"],
        ["pregunta" => "La radiaci√≥n gamma tiene longitud de onda...", "opciones" => ["Mayor que visible", "Menor que UV", "Entre visible e IR", "Igual a radio"], "correcta" => "Menor que UV"],
        ["pregunta" => "Los sat√©lites miden temperatura superficial con...", "opciones" => ["UV", "Infrarrojo t√©rmico", "Rayos X", "Radio"], "correcta" => "Infrarrojo t√©rmico"],
        ["pregunta" => "¬øQu√© radiaci√≥n es la m√°s penetrante en tejidos biol√≥gicos?", "opciones" => ["UV", "Rayos X", "Visible", "Infrarrojo"], "correcta" => "Rayos X"]
    ]
];
/**
 * MATERIA: ECOSISTEMAS
 * TEMA: Movimientos de la Tierra y su impacto en clima y vida
 * ESTILO: Retro-ne√≥n cyberpunk total ‚Äì SVG avanzado + 30 quiz perfectos
 */

$lecciones[] = [
    'materia' => 'Ecosistemas',
    'slug'    => 'movimientos-tierra',
    'titulo'  => 'Movimientos de la Tierra: El Ritmo C√≥smico de los Ecosistemas',

    'contenido' => <<<'HTML'
<h3 class="text-center display-5">Movimientos de la Tierra: El Motor C√≥smico del Clima y la Vida</h3>
<p>La Tierra no est√° quieta: sus cuatro movimientos principales regulan la <strong>energ√≠a solar, estaciones, ritmos biol√≥gicos y ciclos clim√°ticos a largo plazo</strong>. ¬°Todo en los ecosistemas depende de ellos!</p>

<h4>1. Rotaci√≥n (24 h) ‚Üí D√≠a y Noche</h4>
<p><strong>Per√≠odo:</strong> D√≠a sideral = <strong>23 h 56 min 4 s</strong> ‚Üí Velocidad angular: \( \omega = \frac{2\pi}{T} \approx 7.27 \times 10^{-5} \, \text{rad/s} \)</p>
<p><strong>Efecto clave:</strong> Alternancia luz/oscuridad ‚Üí fotos√≠ntesis diurna, ritmos circadianos, comportamiento nocturno.</p>
<div class="ejemplo"><strong>Ejemplo:</strong> Las plantas abren estomas solo de d√≠a; los b√∫hos cazan de noche.</div>
<div class="visual">
    <img src="assets/img/movimiento-de-rotacion.png" alt="Rotaci√≥n terrestre">
    <p><em>Rotaci√≥n vista desde el polo norte. Fuente: NASA.</em></p>
</div>

<h4>2. Traslaci√≥n + Inclinaci√≥n Axial ‚Üí Las Estaciones</h4>
<p><strong>√ìrbita el√≠ptica:</strong> \( a = 149.6 \times 10^6 \, \text{km} \), \( e = 0.0167 \)</p>
<p><strong>Inclinaci√≥n axial:</strong> \( \epsilon = 23.44^\circ \) (¬°la verdadera causa de las estaciones!)</p>
<div class="ejemplo"><strong>Ejemplo:</strong> Las mariposas monarca migran 4.000 km cada oto√±o por cambio de duraci√≥n del d√≠a.</div>
<div class="visual">
    <img src="assets/img/eataciones_satelite.png" alt="Estaciones desde el espacio">
    <p><em>Estaciones vistas desde sat√©lite. Fuente: NASA.</em></p>
</div>

<!-- SVG RETRO-NE√ìN BRUTAL DE LAS ESTACIONES -->
<div class="svg-diagram">
    <svg viewBox="0 0 900 560" xmlns="http://www.w3.org/2000/svg" aria-labelledby="svg-title svg-desc">
        <title id="svg-title">Traslaci√≥n e Inclinaci√≥n Axial ‚Äì Las Estaciones</title>
        <desc id="svg-desc">√ìrbita el√≠ptica con Tierra en las cuatro posiciones clave. Estilo cyberpunk ne√≥n.</desc>
        <rect width="900" height="560" fill="#000"/>
        <defs>
            <filter id="glow"><feGaussianBlur stdDeviation="8" result="blur"/>
                <feFlood flood-color="#00ffff"/><feComposite in2="blur" operator="in"/>
                <feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>
            </filter>
        </defs>

        <!-- Sol con halo ne√≥n -->
        <circle cx="180" cy="280" r="60" fill="#ff9500" stroke="#ffff00" stroke-width="12" filter="url(#glow)"/>
        <text x="180" y="285" fill="#000" font-size="28" text-anchor="middle" font-weight="bold">Sol</text>

        <!-- √ìrbita el√≠ptica ne√≥n -->
        <ellipse cx="450" cy="280" rx="320" ry="180" fill="none" stroke="#00ffff" stroke-width="6" stroke-dasharray="15,10" filter="url(#glow)"/>

        <!-- Tierra en 4 estaciones con eje inclinado -->
        <g transform="translate(130,280)"><circle r="28" fill="#0066cc"/><text x="-28" y="8" fill="#fff" font-size="18" font-weight="bold">Invierno NH</text><line x1="0" y1="-28" x2="0" y2="28" stroke="#ff00ff" stroke-width="4" filter="url(#glow)"/></g>
        <g transform="translate(450,120)"><circle r="28" fill="#00cc66"/><text x="-28" y="8" fill="#fff" font-size="18" font-weight="bold">Primavera</text><line x1="-20" y1="-20" x2="20" y2="20" stroke="#ff00ff" stroke-width="4" filter="url(#glow)"/></g>
        <g transform="translate(770,280)"><circle r="28" fill="#ff6600"/><text x="-22" y="8" fill="#fff" font-size="18" font-weight="bold">Verano NH</text><line x1="0" y1="-28" x2="0" y2="28" stroke="#ff00ff" stroke-width="4" filter="url(#glow)"/></g>
        <g transform="translate(450,440)"><circle r="28" fill="#cc99ff"/><text x="-18" y="8" fill="#fff" font-size="18" font-weight="bold">Oto√±o</text><line x1="20" y1="-20" x2="-20" y2="20" stroke="#ff00ff" stroke-width="4" filter="url(#glow)"/></g>

        <!-- Etiqueta inclinaci√≥n -->
        <text x="720" y="200" fill="#ff00ff" font-size="36" font-weight="bold" filter="url(#glow)">23.44¬∞</text>

        <!-- Leyenda -->
        <text x="450" y="520" fill="#00ffff" font-size="28" text-anchor="middle" filter="url(#glow)">
            Inclinaci√≥n axial + traslaci√≥n = ESTACIONES
        </text>
    </svg>
    <div class="caption">√ìrbita terrestre y la verdadera causa de las estaciones: la inclinaci√≥n del eje.</div>
</div>

<h4>3. Precesi√≥n (‚âà25 772 a√±os)</h4>
<p><strong>Per√≠odo:</strong> \( P_{\text{prec}} \approx 25 772 \) a√±os ‚Üí el eje terrestre describe un cono.</p>
<p><strong>Efecto:</strong> Cambia la estrella polar y modula las estaciones a largo plazo (Ciclos de Milankovitch).</p>
<div class="ejemplo"><strong>Ejemplo:</strong> Hace 12 000 a√±os la estrella polar era Vega. Dentro de 12 000 a√±os volver√° a serlo.</div>
<div class="visual">
    <img src="assets/img/precesi√≥n.svg" alt="Precesi√≥n del eje">
    <p><em>Precesi√≥n como un trompo. Fuente: Wikipedia.</em></p>
</div>

<h4>4. Nutaci√≥n (18.6 a√±os)</h4>
<p><strong>Amplitud:</strong> ¬±9.2‚Ä≥ en oblicuidad ‚Üí peque√±a oscilaci√≥n encima de la precesi√≥n.</p>
<p><strong>Causa:</strong> Gravedad lunar sobre el abultamiento ecuatorial.</p>
<div class="ejemplo"><strong>Ejemplo:</strong> Mejora la precisi√≥n de los modelos paleoclim√°ticos en n√∫cleos de hielo.</div>
<div class="visual">
    <img src="assets/img/precesion-y-nutacion.png" alt="Precesi√≥n + nutaci√≥n">
    <p><em>Nutaci√≥n sobre la precesi√≥n. Fuente: Meteorolog√≠a en Red.</em></p>
</div>

<h4 class="text-center">Impacto en Ecosistemas</h4>
<table class="table text-center">
    <thead><tr><th>Movimiento</th><th>Per√≠odo</th><th>Efecto Principal</th><th>Ejemplo Biol√≥gico/Clim√°tico</th></tr></thead>
    <tbody>
        <tr><td>Rotaci√≥n</td><td>24 h</td><td>D√≠a ‚Üî Noche</td><td>Ritmos circadianos, fotos√≠ntesis</td></tr>
        <tr><td>Traslaci√≥n</td><td>365.25 d√≠as</td><td>Estaciones</td><td>Migraci√≥n monarca, hibernaci√≥n</td></tr>
        <tr><td>Precesi√≥n</td><td>~26 000 a√±os</td><td>Ciclos glaciales</td><td>Extinci√≥n de megafauna</td></tr>
        <tr><td>Nutaci√≥n</td><td>18.6 a√±os</td><td>Correcci√≥n paleoclim√°tica</td><td>Modelos CO‚ÇÇ en hielo</td></tr>
    </tbody>
</table>

<div class="visual">
    <img src="assets/img/mariposas_monarca.png" alt="Migraci√≥n monarca">
    <p><em>Migraci√≥n anual de la mariposa monarca (4 000 km). Fuente: EPA.</em></p>
</div>
<div class="visual">
    <img src="assets/img/milankovitch-ciclos.jpg" alt="Ciclos de Milankovitch">
    <p><em>Ciclos de Milankovitch y eras glaciales. Fuente: Nature.</em></p>
</div>
HTML
,
    'ejercicios' => [
        ['enunciado' => '¬øQu√© movimiento causa el d√≠a y la noche?', 'respuesta' => 'Rotaci√≥n'],
        ['enunciado' => '¬øCu√°l es el per√≠odo exacto de la traslaci√≥n (a√±o tr√≥pico)?', 'respuesta' => '365.2422 d√≠as'],
        ['enunciado' => '¬øQu√© estrella es la polar actual?', 'respuesta' => 'Polaris (Œ± Ursae Minoris)'],
        ['enunciado' => 'Calcula la velocidad angular de rotaci√≥n (T = 24 h)', 'respuesta' => '\\( \\omega = \\frac{2\\pi}{24} = \\frac{\\pi}{12} \\, \\text{rad/h} \\approx 7.27 \\times 10^{-5} \\, \\text{rad/s} \\)'],
        ['enunciado' => 'Excentricidad orbital actual de la Tierra', 'respuesta' => 'e ‚âà 0.0167'],
        ['enunciado' => '¬øPor qu√© existen los a√±os bisiestos?', 'respuesta' => 'Porque el a√±o tr√≥pico es 365.2422 d√≠as'],
        ['enunciado' => '¬øPor qu√© migran las mariposas monarca?', 'respuesta' => 'Cambio en duraci√≥n del d√≠a y temperatura por traslaci√≥n'],
        ['enunciado' => 'Nombre 3 animales que hibernan por efecto de las estaciones', 'respuesta' => 'Osos, marmotas, erizos, ranas, murci√©lagos‚Ä¶'],
        ['enunciado' => '¬øC√≥mo afect√≥ la precesi√≥n a los mamuts?', 'respuesta' => 'Cambios clim√°ticos largos ‚Üí p√©rdida de h√°bitat ‚Üí extinci√≥n'],
        ['enunciado' => 'Causa principal de la nutaci√≥n', 'respuesta' => 'Interacci√≥n gravitatoria Luna-Tierra (abultamiento ecuatorial)'],
        ['enunciado' => '¬øEn cu√°ntos a√±os Vega volver√° a ser la estrella polar?', 'respuesta' => 'Aproximadamente 12 000 a√±os'],
        ['enunciado' => '¬øCu√°l de los ciclos de Milankovitch tiene per√≠odo de ~100 000 a√±os?', 'respuesta' => 'Excentricidad orbital']
    ],

    'quiz' => [
        ['pregunta' => 'El d√≠a y la noche son causados por...', 'opciones' => ['Traslaci√≥n', 'Rotaci√≥n', 'Precesi√≥n', 'Nutaci√≥n'], 'correcta' => 'Rotaci√≥n'],
        ['pregunta' => 'Las estaciones del a√±o se deben principalmente a...', 'opciones' => ['Distancia al Sol', 'Inclinaci√≥n axial 23.44¬∞', 'Velocidad orbital', 'Precesi√≥n'], 'correcta' => 'Inclinaci√≥n axial 23.44¬∞'],
        ['pregunta' => '¬øCu√°nto dura un d√≠a sideral?', 'opciones' => ['24 h exactos', '23 h 56 min 4 s', '25 h', '23 h'], 'correcta' => '23 h 56 min 4 s'],
        ['pregunta' => 'La estrella polar actual es...', 'opciones' => ['Vega', 'Sirio', 'Polaris', 'Deneb'], 'correcta' => 'Polaris'],
        ['pregunta' => 'La migraci√≥n de la mariposa monarca est√° provocada por...', 'opciones' => ['Rotaci√≥n', 'Traslaci√≥n + inclinaci√≥n', 'Precesi√≥n', 'Nutaci√≥n'], 'correcta' => 'Traslaci√≥n + inclinaci√≥n'],
        ['pregunta' => 'Los ritmos circadianos est√°n regulados por...', 'opciones' => ['Traslaci√≥n', 'Rotaci√≥n', 'Precesi√≥n', 'Nutaci√≥n'], 'correcta' => 'Rotaci√≥n'],
        ['pregunta' => 'Los ciclos de Milankovitch incluyen precesi√≥n, excentricidad y...', 'opciones' => ['Rotaci√≥n', 'Oblicuidad', 'Nutaci√≥n', 'Traslaci√≥n'], 'correcta' => 'Oblicuidad'],
        ['pregunta' => 'El per√≠odo aproximado de la precesi√≥n es...', 'opciones' => ['365 d√≠as', '18.6 a√±os', '25 772 a√±os', '100 000 a√±os'], 'correcta' => '25 772 a√±os'],
        ['pregunta' => 'La nutaci√≥n es una peque√±a oscilaci√≥n causada por...', 'opciones' => ['Sol', 'Luna', 'J√∫piter', 'Viento solar'], 'correcta' => 'Luna'],
        ['pregunta' => 'El ciclo de Milankovitch de 100 000 a√±os corresponde a...', 'opciones' => ['Precesi√≥n', 'Oblicuidad', 'Excentricidad', 'Nutaci√≥n'], 'correcta' => 'Excentricidad'],
        ['pregunta' => 'Inclinaci√≥n actual del eje terrestre', 'opciones' => ['0¬∞', '23.44¬∞', '45¬∞', '90¬∞'], 'correcta' => '23.44¬∞'],
        ['pregunta' => 'Excentricidad orbital actual de la Tierra', 'opciones' => ['0 (c√≠rculo perfecto)', '0.0167', '0.5', '0.9'], 'correcta' => '0.0167'],
        ['pregunta' => 'Velocidad angular de rotaci√≥n (aprox.)', 'opciones' => ['œÄ/6 rad/h', 'œÄ/12 rad/h', '2œÄ rad/h', 'œÄ rad/h'], 'correcta' => 'œÄ/12 rad/h'],
        ['pregunta' => 'La causa principal de las estaciones es...', 'opciones' => ['Distancia al Sol', 'Inclinaci√≥n del eje', 'Ambas por igual', 'Velocidad orbital'], 'correcta' => 'Inclinaci√≥n del eje'],
        ['pregunta' => 'Animal que hiberna por efecto estacional', 'opciones' => ['Ping√ºino', 'Oso pardo', 'Tibur√≥n', '√Åguila'], 'correcta' => 'Oso pardo'],
        ['pregunta' => 'En 12 000 a√±os la estrella polar ser√°...', 'opciones' => ['Polaris', 'Vega', 'Sirio', 'Ninguna'], 'correcta' => 'Vega'],
        ['pregunta' => 'Per√≠odo de la nutaci√≥n', 'opciones' => ['24 h', '1 a√±o', '18.6 a√±os', '26 000 a√±os'], 'correcta' => '18.6 a√±os'],
        ['pregunta' => 'Amplitud t√≠pica de la nutaci√≥n', 'opciones' => ['¬±1¬∞', '¬±9.2‚Ä≥', '¬±1‚Ä≤', '¬±5¬∞'], 'correcta' => '¬±9.2‚Ä≥'],
        ['pregunta' => 'Distancia media Tierra-Sol (UA)', 'opciones' => ['100 millones km', '149.6 millones km', '200 millones km', '50 millones km'], 'correcta' => '149.6 millones km'],
        ['pregunta' => 'Ciclo de Milankovitch de 41 000 a√±os', 'opciones' => ['Excentricidad', 'Oblicuidad', 'Precesi√≥n', 'Nutaci√≥n'], 'correcta' => 'Oblicuidad'],
        ['pregunta' => 'El a√±o bisiesto existe porque el a√±o tr√≥pico dura...', 'opciones' => ['Exacto 365 d√≠as', '365.25 d√≠as', '366 d√≠as', '364 d√≠as'], 'correcta' => '365.25 d√≠as'],
        ['pregunta' => 'Un d√≠a sideral se mide respecto a...', 'opciones' => ['Posici√≥n del Sol', 'Estrellas fijas', 'Luna', 'Sat√©lites'], 'correcta' => 'Estrellas fijas'],
        ['pregunta' => '¬øQu√© afecta M√ÅS las estaciones?', 'opciones' => ['Distancia al Sol', 'Inclinaci√≥n axial', 'Ambas igual', 'Precesi√≥n'], 'correcta' => 'Inclinaci√≥n axial'],
        ['pregunta' => 'A√±o anomal√≠stico es de...', 'opciones' => ['Equinoccio a equinoccio', 'Perihelio a perihelio', 'Solsticio a solsticio', 'Luna nueva a Luna nueva'], 'correcta' => 'Perihelio a perihelio'],
        ['pregunta' => 'El ciclo dominante en las √∫ltimas eras glaciales es de...', 'opciones' => ['~21 000 a√±os', '~41 000 a√±os', '~100 000 a√±os', '~400 000 a√±os'], 'correcta' => '~100 000 a√±os'],
        ['pregunta' => 'La oblicuidad es el √°ngulo entre...', 'opciones' => ['Eje terrestre y plano orbital', 'Eje y vertical local', 'Eje y Luna', '√ìrbita y ecl√≠ptica'], 'correcta' => 'Eje terrestre y plano orbital'],
        ['pregunta' => 'La precesi√≥n cambia lentamente...', 'opciones' => ['Duraci√≥n del d√≠a', 'Estrella polar', 'Inclinaci√≥n axial', 'Excentricidad'], 'correcta' => 'Estrella polar'],
        ['pregunta' => '¬øQu√© animales usan ritmos circadianos para cazar?', 'opciones' => ['Leones', 'B√∫hos y murci√©lagos', '√Åguilas', 'Tiburones'], 'correcta' => 'B√∫hos y murci√©lagos'],
        ['pregunta' => 'La excentricidad orbital var√≠a cada...', 'opciones' => ['18.6 a√±os', '41 000 a√±os', '100 000 a√±os', '413 000 a√±os'], 'correcta' => '100 000 a√±os'],
        ['pregunta' => '¬øQui√©n formul√≥ los ciclos que explican las glaciaciones?', 'opciones' => ['Kepler', 'Newton', 'Milankovitch', 'Cop√©rnico'], 'correcta' => 'Milankovitch']
    ]
];
/**
 * MATERIA: ECOSISTEMAS
 * TEMA: Respiraci√≥n Celular ‚Äì El motor energ√©tico de toda la vida
 * ESTILO: 100 % cyberpunk-ne√≥n profesional, SVG brutal, 12 ejercicios, 30 quiz perfectos
 */

$lecciones[] = [
    'materia' => 'Ecosistemas',
    'slug'    => 'respiracion-celular',
    'titulo'  => 'Respiraci√≥n Celular: El Motor Energ√©tico de los Ecosistemas',

    'contenido' => <<<'HTML'

<h3 class="text-center display-5">Respiraci√≥n Celular: El Fuego Interno de la Vida</h3>
<p>Todo ser vivo (animales, plantas, hongos, bacterias‚Ä¶) quema glucosa para obtener <strong>ATP</strong>, la moneda energ√©tica universal. Sin respiraci√≥n celular no hay movimiento, no crecimiento, no ecosistemas.</p>

<h4>1. Ecuaci√≥n Global (Respiraci√≥n Aer√≥bica)</h4>
<div class="text-center my-5">
    <p class="fs-3 fw-bold text-cyan" style="text-shadow: 0 0 20px #00ffff;">
        Respiraci√≥n aer√≥bica completa:
    </p>
    <div class="bg-black p-4 rounded-4 border border-cyan shadow-lg d-inline-block">
        $$ \ce{C6H12O6 + 6O2 -> 6CO2 + 6H2O + 38 ATP} $$ 
    </div>
    <p class="mt-4 fs-5">
        <strong class="text-yellow">Energ√≠a liberada:</strong> 
        $$ \Delta G^\circ = -686 \, \text{kcal/mol} \quad (\approx 36{-}38 \, \text{ATP reales}) $$
    </p>
</div>
<!-- SVG NE√ìN ESPECTACULAR DE LA MITOCONDRIA -->
<div class="svg-diagram">
    <svg viewBox="0 0 960 620" xmlns="http://www.w3.org/2000/svg" aria-labelledby="svg-title svg-desc">
        <title id="svg-title">Respiraci√≥n Celular Completa ‚Äì Estilo Cyberpunk</title>
        <desc id="svg-desc">Flujo energ√©tico desde glucosa hasta 38 ATP con efectos ne√≥n y animaciones sutiles.</desc>
        <rect width="960" height="620" fill="#000"/>

        <defs>
            <filter id="glow"><feGaussianBlur stdDeviation="8" result="blur"/>
                <feFlood flood-color="#00ffff"/><feComposite in2="blur" operator="in"/>
                <feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>
            </filter>
            <filter id="glow-magenta"><feGaussianBlur stdDeviation="10" result="blur"/>
                <feFlood flood-color="#ff00ff"/><feComposite in2="blur" operator="in"/>
                <feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>
            </filter>
        </defs>

        <!-- T√≠tulo interno -->
        <text x="480" y="70" fill="#ff00ff" font-size="48" font-weight="bold" text-anchor="middle" filter="url(#glow-magenta)">
            RESPIRACI√ìN CELULAR
        </text>

        <!-- GLUCOSA -->
        <circle cx="150" cy="200" r="50" fill="#ffcc00" stroke="#ffff00" stroke-width="8" filter="url(#glow)"/>
        <text x="150" y="210" fill="#000" font-size="24" font-weight="bold" text-anchor="middle">C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ</text>

        <!-- Flecha animada a glic√≥lisis -->
        <path d="M200 200 L300 200" stroke="#00ffff" stroke-width="10" marker-end="url(#arrow)" filter="url(#glow)">
            <animate attributeName="stroke-dashoffset" from="100" to="0" dur="3s" repeatCount="indefinite"/>
        </path>
        <defs><marker id="arrow" markerWidth="20" markerHeight="20" refX="18" refY="6" orient="auto">
            <path d="M0,0 L18,6 L0,12 Z" fill="#00ffff"/></marker></defs>

        <!-- GLIC√ìLISIS -->
        <rect x="320" y="140" width="180" height="120" rx="20" fill="#0066cc" stroke="#00ffff" stroke-width="8" filter="url(#glow)"/>
        <text x="410" y="190" fill="#fff" font-size="28" font-weight="bold" text-anchor="middle" filter="url(#glow)">GLIC√ìLISIS</text>
        <text x="410" y="230" fill="#ffff00" font-size="20" text-anchor="middle">2 ATP + 2 NADH + 2 Piruvato</text>

        <!-- PIRUVATO ‚Üí MITOCONDRIA -->
        <circle cx="580" cy="200" r="35" fill="#ff6600" stroke="#ff1744" stroke-width="6" filter="url(#glow-magenta)"/>
        <text x="580" y="210" fill="#fff" font-size="18" text-anchor="middle">Piruvato √ó2</text>

        <!-- MITOCONDRIA -->
        <ellipse cx="480" cy="400" rx="300" ry="120" fill="#111" stroke="#00ffff" stroke-width="10" filter="url(#glow)"/>
        <ellipse cx="480" cy="400" rx="240" ry="80" fill="#000"/>

        <!-- CICLO DE KREBS -->
        <circle cx="380" cy="400" r="70" fill="#cc66ff" stroke="#ff00ff" stroke-width="8" filter="url(#glow-magenta)"/>
        <text x="380" y="390" fill="#fff" font-size="22" font-weight="bold" text-anchor="middle">CICLO</text>
        <text x="380" y="415" fill="#fff" font-size="22" font-weight="bold" text-anchor="middle">DE KREBS</text>
        <text x="380" y="450" fill="#ff00ff" font-size="18" text-anchor="middle" filter="url(#glow-magenta)">6 CO‚ÇÇ + 8 NADH + 2 FADH‚ÇÇ</text>

        <!-- CADENA TRANSPORTADORA DE ELECTRONES -->
        <rect x="580" y="340" width="280" height="120" rx="20" fill="#0066cc" stroke="#00ffff" stroke-width="8" filter="url(#glow)"/>
        <text x="720" y="390" fill="#fff" font-size="26" font-weight="bold" text-anchor="middle" filter="url(#glow)">CADENA ETC</text>
        <text x="720" y="430" fill="#00ff00" font-size="24" text-anchor="middle" filter="url(#glow)">‚âà 34 ATP + H‚ÇÇO</text>

        <!-- ATP FINAL -->
        <circle cx="800" cy="200" r="70" fill="#00ff00" stroke="#00ffff" stroke-width="12" filter="url(#glow)"/>
        <text x="800" y="215" fill="#000" font-size="48" font-weight="bold" text-anchor="middle">38</text>
        <text x="800" y="185" fill="#000" font-size="28" text-anchor="middle">ATP</text>

        <!-- Leyenda final -->
        <text x="480" y="560" fill="#00ffff" font-size="28" text-anchor="middle" filter="url(#glow)">
            Glucosa ‚Üí 38 ATP + 6 CO‚ÇÇ + 6 H‚ÇÇO
        </text>
    </svg>
    <div class="caption">Flujo completo de la respiraci√≥n aer√≥bica en mitocondria. Estilo cyberpunk-ne√≥n 2025.</div>
</div>

<h4>2. Etapas de la Respiraci√≥n Aer√≥bica</h4>
<table class="table text-center">
    <thead><tr><th>Etapa</th><th>Lugar</th><th>ATP neto</th><th>Productos clave</th></tr></thead>
    <tbody>
        <tr><td>Glic√≥lisis</td><td>Citosol</td><td>2 ATP</td><td>2 Piruvato + 2 NADH</td></tr>
        <tr><td>Ciclo de Krebs</td><td>Matriz mitocondrial</td><td>2 ATP</td><td>6 CO‚ÇÇ + 8 NADH + 2 FADH‚ÇÇ</td></tr>
        <tr><td>Cadena transportadora (ETC)</td><td>Membrana interna</td><td>‚âà 34 ATP</td><td>H‚ÇÇO + gradiente H‚Å∫</td></tr>
        <tr class="table-success"><td><strong>TOTAL</strong></td><td>‚Äî</td><td><strong>36‚Äì38 ATP</strong></td><td>6 CO‚ÇÇ + 6 H‚ÇÇO</td></tr>
    </tbody>
</table>

<h4>3. Respiraci√≥n Anaer√≥bica (Fermentaci√≥n)</h4>

<div class="row text-center my-5">
    <div class="col-md-6">
        <p class="fs-4 fw-bold text-danger">Fermentaci√≥n l√°ctica (m√∫sculos)</p>
        <div class="bg-dark p-4 rounded-4 border border-danger d-inline-block">
            $$ \ce{C6H12O6 -> 2 CH3CH(OH)COOH + 2 ATP} $$
        </div>
        <p class="mt-3 text-warning">¬°El ardor cuando haces sprint!</p>
    </div>
    <div class="col-md-6">
        <p class="fs-4 fw-bold text-success">Fermentaci√≥n alcoh√≥lica (levaduras)</p>
        <div class="bg-dark p-4 rounded-4 border border-success d-inline-block">
            $$ \ce{C6H12O6 -> 2 C2H5OH + 2 CO2 + 2 ATP} $$
        </div>
        <p class="mt-3 text-warning">Cerveza + pan + vino = ¬°magia anaer√≥bica!</p>
    </div>
</div>

<h4>4. Importancia en los Ecosistemas</h4>
<ul class="fs-5">
    <li>Libera CO‚ÇÇ ‚Üí combustible de la fotos√≠ntesis</li>
    <li>Consume O‚ÇÇ ‚Üí producido por productores</li>
    <li>Transfiere energ√≠a en todas las cadenas tr√≥ficas</li>
    <li>Forma parte esencial del <strong>ciclo del carbono</strong></li>
</ul>

<div class="visual">
    <img src="assets/img/ciclo-de-carbono.png" alt="Ciclo del carbono">
    <p><em>Respiraci√≥n + Fotos√≠ntesis = equilibrio perfecto del carbono. Fuente: NOAA.</em></p>
</div>
HTML
,
    'ejercicios' => [
        ['enunciado' => 'Escribe la ecuaci√≥n completa de la respiraci√≥n aer√≥bica', 'respuesta' => '\\ce{C6H12O6 + 6O2 -> 6CO2 + 6H2O + 36-38 ATP}'],
        ['enunciado' => 'Lugar exacto de la glic√≥lisis', 'respuesta' => 'Citosol (citoplasma)'],
        ['enunciado' => 'Lugar exacto del ciclo de Krebs', 'respuesta' => 'Matriz mitocondrial'],
        ['enunciado' => '¬øCu√°ntos ATP produce la cadena transportadora de electrones?', 'respuesta' => 'Aproximadamente 34 ATP (real 28‚Äì34)'],
        ['enunciado' => '¬øCu√°ntos NADH genera el ciclo de Krebs por mol√©cula de glucosa?', 'respuesta' => '8 NADH'],
        ['enunciado' => '¬øCu√°ntas mol√©culas de CO‚ÇÇ se liberan en total?', 'respuesta' => '6 CO‚ÇÇ'],
        ['enunciado' => 'Relaci√≥n entre respiraci√≥n celular y fotos√≠ntesis', 'respuesta' => 'Son procesos inversos: una consume lo que la otra produce'],
        ['enunciado' => 'Gas que liberan todos los animales al respirar', 'respuesta' => 'CO‚ÇÇ (di√≥xido de carbono)'],
        ['enunciado' => 'Organismos t√≠picos de fermentaci√≥n alcoh√≥lica', 'respuesta' => 'Levaduras (Saccharomyces)'],
        ['enunciado' => 'Qu√© genera el gradiente de protones', 'respuesta' => 'Cadena transportadora de electrones'],
        ['enunciado' => 'Proceso que sintetiza ATP usando el gradiente H‚Å∫', 'respuesta' => 'Quimi√≥smosis / ATP sintasa'],
        ['enunciado' => 'Qu√© ocurre en ausencia total de ox√≠geno', 'respuesta' => 'Fermentaci√≥n ‚Üí solo 2 ATP por glucosa']
    ],

    'quiz' => [
        ['pregunta' => 'La respiraci√≥n celular produce principalmente...', 'opciones' => ['Ox√≠geno', 'ATP', 'Glucosa', 'Luz'], 'correcta' => 'ATP'],
        ['pregunta' => 'Gas consumido en respiraci√≥n aer√≥bica', 'opciones' => ['CO‚ÇÇ', 'O‚ÇÇ', 'N‚ÇÇ', 'H‚ÇÇ'], 'correcta' => 'O‚ÇÇ'],
        ['pregunta' => '√ìrgano donde ocurre la mayor producci√≥n de ATP', 'opciones' => ['N√∫cleo', 'Mitocondria', 'Cloroplasto', 'Ribosoma'], 'correcta' => 'Mitocondria'],
        ['pregunta' => 'ATP totales por glucosa (aer√≥bica)', 'opciones' => ['2 ATP', '4 ATP', '36‚Äì38 ATP', '100 ATP'], 'correcta' => '36‚Äì38 ATP'],
        ['pregunta' => 'Gas liberado al ambiente por todos los seres vivos', 'opciones' => ['O‚ÇÇ', 'CO‚ÇÇ', 'N‚ÇÇ', 'CH‚ÇÑ'], 'correcta' => 'CO‚ÇÇ'],
        ['pregunta' => 'Etapa que ocurre en el citosol', 'opciones' => ['Ciclo de Krebs', 'Glic√≥lisis', 'Cadena ETC', 'Fermentaci√≥n alcoh√≥lica'], 'correcta' => 'Glic√≥lisis'],
        ['pregunta' => 'El ciclo de Krebs produce directamente', 'opciones' => ['34 ATP', '2 ATP', '6 CO‚ÇÇ', 'H‚ÇÇO'], 'correcta' => '2 ATP'],
        ['pregunta' => 'Aceptor final de electrones en la cadena ETC', 'opciones' => ['NAD‚Å∫', 'FAD', 'O‚ÇÇ', 'CO‚ÇÇ'], 'correcta' => 'O‚ÇÇ'],
        ['pregunta' => '¬øCu√°ntos ATP por cada NADH en ETC (valor aceptado actual)?', 'opciones' => ['2 ATP', '2.5 ATP', '3 ATP', '4 ATP'], 'correcta' => '2.5 ATP'],
        ['pregunta' => '¬øCu√°ntos ATP por cada FADH‚ÇÇ?', 'opciones' => ['1 ATP', '1.5 ATP', '2 ATP', '3 ATP'], 'correcta' => '1.5 ATP'],
        ['pregunta' => 'Proceso que usa el gradiente de H‚Å∫ para hacer ATP', 'opciones' => ['Glic√≥lisis', 'Quimi√≥smosis', 'Fermentaci√≥n', 'Krebs'], 'correcta' => 'Quimi√≥smosis'],
        ['pregunta' => 'En ausencia de O‚ÇÇ las c√©lulas animales hacen...', 'opciones' => ['Fotos√≠ntesis', 'Fermentaci√≥n l√°ctica', 'Ciclo de Krebs', 'Nada'], 'correcta' => 'Fermentaci√≥n l√°ctica'],
        ['pregunta' => 'Levaduras en anaerobiosis producen...', 'opciones' => ['√Åcido l√°ctico', 'Alcohol + CO‚ÇÇ', 'Metano', 'ATP directo'], 'correcta' => 'Alcohol + CO‚ÇÇ'],
        ['pregunta' => 'La respiraci√≥n celular es el proceso opuesto a...', 'opciones' => ['Transpiraci√≥n', 'Fotos√≠ntesis', 'Digesti√≥n', 'Replicaci√≥n'], 'correcta' => 'Fotos√≠ntesis'],
        ['pregunta' => '¬øD√≥nde se forma el gradiente de protones?', 'opciones' => ['Citosol', 'Matriz mitocondrial', 'Espacio intermembrana', 'Membrana externa'], 'correcta' => 'Espacio intermembrana'],
        ['pregunta' => 'Toxina que bloquea la cadena ETC', 'opciones' => ['Alcohol', 'Cianuro', 'Glucosa', 'CO‚ÇÇ'], 'correcta' => 'Cianuro'],
        ['pregunta' => '¬øCu√°ntos CO‚ÇÇ produce el ciclo de Krebs por glucosa?', 'opciones' => ['2', '4', '6', '8'], 'correcta' => '6'],
        ['pregunta' => 'Complejo I de la cadena ETC tambi√©n se llama...', 'opciones' => ['ATP sintasa', 'NADH deshidrogenasa', 'Citocromo c', 'Complex IV'], 'correcta' => 'NADH deshidrogenasa'],
        ['pregunta' => 'C√©lulas cancerosas prefieren (efecto Warburg)...', 'opciones' => ['Respiraci√≥n aer√≥bica', 'Fermentaci√≥n l√°ctica aunque haya O‚ÇÇ', 'Fotos√≠ntesis', 'Ninguna'], 'correcta' => 'Fermentaci√≥n l√°ctica aunque haya O‚ÇÇ'],
        ['pregunta' => 'Eficiencia energ√©tica real de la respiraci√≥n aer√≥bica', 'opciones' => ['~10%', '~30%', '~70%', '~90%'], 'correcta' => '~30%'],
        ['pregunta' => '¬øCu√°ntos NADH produce la glic√≥lisis?', 'opciones' => ['0', '2', '8', '10'], 'correcta' => '2'],
        ['pregunta' => '¬øQu√© mol√©cula entra al ciclo de Krebs?', 'opciones' => ['Glucosa', 'Piruvato', 'Acetil-CoA', 'Citrat'], 'correcta' => 'Acetil-CoA'],
        ['pregunta' => 'El ATP sintasa funciona como una...', 'opciones' => ['Bomba', 'Turbina molecular', 'Canal i√≥nico', 'Receptor'], 'correcta' => 'Turbina molecular'],
        ['pregunta' => '¬øCu√°ntos protones bombea el complejo I por NADH?', 'opciones' => ['2', '4', '6', '10'], 'correcta' => '4'],
        ['pregunta' => '¬øQu√© se oxida en la cadena ETC?', 'opciones' => ['O‚ÇÇ', 'NADH y FADH‚ÇÇ', 'ATP', 'Glucosa'], 'correcta' => 'NADH y FADH‚ÇÇ'],
        ['pregunta' => '¬øQu√© se reduce al final de la cadena?', 'opciones' => ['NAD‚Å∫', 'O‚ÇÇ ‚Üí H‚ÇÇO', 'CO‚ÇÇ', 'Piruvato'], 'correcta' => 'O‚ÇÇ ‚Üí H‚ÇÇO'],
        ['pregunta' => '¬øQu√© proceso NO ocurre en mitocondria?', 'opciones' => ['Krebs', 'ETC', 'Glic√≥lisis', 'Quimi√≥smosis'], 'correcta' => 'Glic√≥lisis'],
        ['pregunta' => '¬øQu√© mide ŒîG en la ecuaci√≥n global?', 'opciones' => ['Calor', 'Energ√≠a libre', 'Entrop√≠a', 'Volumen'], 'correcta' => 'Energ√≠a libre'],
        ['pregunta' => '¬øCu√°ntos kg de CO‚ÇÇ produce un humano al a√±o aproximadamente?', 'opciones' => ['50 kg', '150 kg', '300 kg', '1 tonelada'], 'correcta' => '150 kg'],
        ['pregunta' => 'La respiraci√≥n celular es esencial para...', 'opciones' => ['Solo animales', 'Solo plantas', 'Todos los seres vivos', 'Solo bacterias'], 'correcta' => 'Todos los seres vivos']
    ]
];
/**
 * MATERIA: ECOSISTEMAS
 * TEMA: Componentes del Sistema Clim√°tico ‚Äì El gran sistema que lo mueve todo
 * ESTILO: Cyberpunk-ne√≥n total, SVG animado brutal, ecuaciones perfectas, 30 quiz profesionales
 */

$lecciones[] = [
    'materia' => 'Ecosistemas',
    'slug'    => 'componentes-sistema-climatico',
    'titulo'  => 'Componentes del Sistema Clim√°tico: El Mega-Sistema que Controla el Planeta',

    'contenido' => <<<'HTML'
<h3 class="text-center display-4">Los 5 Componentes del Sistema Clim√°tico</h3>
<p class="fs-5">El clima no es solo ‚Äúel tiempo‚Äù. Es un <strong>sistema complejo</strong> donde <strong>energ√≠a, materia y momentum</strong> fluyen entre cinco grandes esferas. Todo est√° conectado.</p>

<!-- SVG ANIMADO ESPECTACULAR DEL SISTEMA CLIM√ÅTICO -->
<div class="svg-diagram">
    <svg viewBox="0 0 1000 720" xmlns="http://www.w3.org/2000/svg" aria-labelledby="svg-title svg-desc">
        <title id="svg-title">Sistema Clim√°tico Completo ‚Äì Cyberpunk Edition</title>
        <desc id="svg-desc">Los 5 componentes y sus interacciones con efectos ne√≥n y animaciones.</desc>
        <rect width="1000" height="720" fill="#000"/>

        <defs>
            <filter id="glow"><feGaussianBlur stdDeviation="10" result="blur"/>
                <feFlood flood-color="#00ffff"/><feComposite in2="blur" operator="in"/>
                <feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>
            </filter>
            <filter id="glow-magenta"><feGaussianBlur stdDeviation="12" result="blur"/>
                <feFlood flood-color="#ff00ff"/><feComposite in2="blur" operator="in"/>
                <feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>
            </filter>
            <marker id="arrow" markerWidth="16" markerHeight="16" refX="14" refY="8" orient="auto">
                <path d="M0,0 L14,8 L0,16 Z" fill="#00ffff"/>
            </marker>
        </defs>

        <!-- T√≠tulo √©pico -->
        <text x="500" y="70" fill="#ff00ff" font-size="56" font-weight="bold" text-anchor="middle" filter="url(#glow-magenta)">
            SISTEMA CLIM√ÅTICO TERRESTRE
        </text>

        <!-- 1. ATM√ìSFERA -->
        <rect x="400" y="100" width="200" height="110" rx="30" fill="#1e90ff" stroke="#00ffff" stroke-width="8" filter="url(#glow)"/>
        <text x="500" y="150" fill="#fff" font-size="32" font-weight="bold" text-anchor="middle" filter="url(#glow)">ATM√ìSFERA</text>
        <text x="500" y="190" fill="#00ffff" font-size="20" text-anchor="middle">78% N‚ÇÇ ‚îÇ 21% O‚ÇÇ ‚îÇ 0.04% CO‚ÇÇ</text>

        <!-- 2. HIDROSFERA -->
        <rect x="100" y="280" width="200" height="110" rx="30" fill="#0066cc" stroke="#00ffff" stroke-width="8" filter="url(#glow)"/>
        <text x="200" y="330" fill="#fff" font-size="32" font-weight="bold" text-anchor="middle">HIDROSFERA</text>
        <text x="200" y="370" fill="#00ffff" font-size="20" text-anchor="middle">1.386√ó10‚Åπ km¬≥</text>

        <!-- 3. CRIOSFERA -->
        <rect x="700" y="280" width="200" height="110" rx="30" fill="#e0f7fa" stroke="#00ffff" stroke-width="8" filter="url(#glow)"/>
        <text x="800" y="330" fill="#000" font-size="32" font-weight="bold" text-anchor="middle">CRIOSFERA</text>
        <text x="800" y="370" fill="#00ffff" font-size="20" text-anchor="middle">Albedo ‚âà 0.8</text>

        <!-- 4. LITOSFERA -->
        <rect x="200" y="500" width="200" height="110" rx="30" fill="#8B4513" stroke="#00ffff" stroke-width="8" filter="url(#glow)"/>
        <text x="300" y="550" fill="#fff" font-size="32" font-weight="bold" text-anchor="middle">LITOSFERA</text>
        <text x="300" y="590" fill="#00ffff" font-size="20" text-anchor="middle">10‚Å∂ GtC</text>

        <!-- 5. BIOSFERA -->
        <rect x="600" y="500" width="200" height="110" rx="30" fill="#228B22" stroke="#00ffff" stroke-width="8" filter="url(#glow)"/>
        <text x="700" y="550" fill="#fff" font-size="32" font-weight="bold" text-anchor="middle">BIOSFERA</text>
        <text x="700" y="590" fill="#00ffff" font-size="20" text-anchor="middle">550 GtC</text>

        <!-- Flechas animadas de interacci√≥n -->
        <path d="M500 210 L500 270" stroke="#00ffff" stroke-width="6" marker-end="url(#arrow)" filter="url(#glow)">
            <animate attributeName="stroke-dashoffset" from="50" to="0" dur="4s" repeatCount="indefinite"/>
        </path>
        <path d="M300 390 L400 490" stroke="#00ffff" stroke-width="6" marker-end="url(#arrow)" filter="url(#glow)"/>
        <path d="M800 390 L700 490" stroke="#00ffff" stroke-width="6" marker-end="url(#arrow nanoflashing"/>
        <path d="M200 390 L300 500" stroke="#00ffff" stroke-width="6" marker-end="url(#arrow)" filter="url(#glow)"/>
        <path d="M800 390 L700 500" stroke="#00ffff" stroke-width="6" marker-end="url(#arrow)" filter="url(#glow)"/>

        <!-- Leyenda final -->
        <text x="500" y="680" fill="#00ffff" font-size="30" text-anchor="middle" filter="url(#glow)">
            Todo est√° conectado. Todo afecta a todo.
        </text>
    </svg>
    <div class="caption">Interacciones din√°micas entre los 5 componentes del sistema clim√°tico. Estilo cyberpunk-ne√≥n 2025.</ EAST>
</div>

<h4>1. Atm√≥sfera ‚Äì El escudo gaseoso</h4>
<p>78 % N‚ÇÇ ‚îÇ 21 % O‚ÇÇ ‚îÇ 0.04 % CO‚ÇÇ + vapor de agua</p>
<div class="eq">$$ S(1 - \alpha) = \sigma T^{4} $$</div>
<p class="text-center mt-3"><em>Balance energ√©tico planetario (ecuaci√≥n de cuerpo negro)</em></p>

<h4>2. Hidrosfera ‚Äì El gran regulador t√©rmico</h4>
<p>Volumen: <strong>1.386 √ó 10‚Åπ km¬≥</strong> ‚îÇ Capacidad calor√≠fica: <strong>4186 J/kg¬∑K</strong></p>
<div class="ejemplo">El Ni√±o/La Ni√±a ‚Üí alteran el clima global cada pocos a√±os.</div>

<h4>3. Criosfera ‚Äì El espejo del planeta</h4>
<p>Albedo ‚âà <strong>0.8</strong> ‚Üí refleja 80 % de la radiaci√≥n solar</p>
<div class="ejemplo">Si se derrite Groenlandia ‚Üí +7 metros al nivel del mar.</div>

<h4>4. Litosfera ‚Äì El almac√©n de carbono eterno</h4>
<p>Almacena <strong>~1 000 000 GtC</strong> en rocas y suelos</p>

<h4>5. Biosfera ‚Äì El pulm√≥n vivo</h4>
<p>Biomasa ‚âà <strong>550 GtC</strong> ‚îÇ Amazon√≠a absorbe ~2 GtC/a√±o</p>

<h4 class="text-center mt-5">Interacciones Clave</h4>
<table class="table text-center">
    <thead><tr><th>Interacci√≥n</th><th>Efecto principal</th><th>Ejemplo real</th></tr></thead>
    <tbody>
        <tr><td>Atm√≥sfera ‚Üî Hidrosfera</td><td>Evaporaci√≥n, huracanes</td><td>El Ni√±o</td></tr>
        <tr><td>Hidrosfera ‚Üî Criosfera</td><td>Derretimiento</td><td>Subida del nivel del mar</td></tr>
        <tr><td>Biosfera ‚Üî Atm√≥sfera</td><td>CO‚ÇÇ ‚áÜ O‚ÇÇ</td><td>Fotos√≠ntesis/Respiraci√≥n</td></tr>
        <tr><td>Litosfera ‚Üî Biosfera</td><td>Nutrientes</td><td>Suelos f√©rtiles</td></tr>
        <tr><td>Criosfera ‚Üî Atm√≥sfera</td><td>Feedback albedo-hielo</td><td>Amplificaci√≥n √°rtica</td></tr>
    </tbody>
</table>

<div class="visual">
    <img src="assets/img/concentracion-atmosfera.jpg" alt="CO2 atmosf√©rico">
    <p><em>Concentraci√≥n de CO‚ÇÇ (Mauna Loa) ‚Äì NASA.</em></p>
</div>
HTML
,
    'ejercicios' => [
        ['enunciado' => 'Nombra los 5 componentes del sistema clim√°tico', 'respuesta' => 'Atm√≥sfera, Hidrosfera, Criosfera, Litosfera, Biosfera'],
        ['enunciado' => '¬øQu√© componente tiene el mayor volumen de agua?', 'respuesta' => 'Hidrosfera (oc√©anos)'],
        ['enunciado' => '¬øQu√© significa albedo = 0.8?', 'respuesta' => 'Refleja el 80 % de la radiaci√≥n solar'],
        ['enunciado' => '¬øD√≥nde se almacena la mayor cantidad de carbono del planeta?', 'respuesta' => 'Litosfera (rocas y sedimentos)'],
        ['enunciado' => 'Explica el feedback positivo hielo-albedo', 'respuesta' => 'Menos hielo ‚Üí menos reflexi√≥n ‚Üí m√°s calentamiento ‚Üí m√°s derretimiento'],
        ['enunciado' => '¬øQu√© volumen tiene la hidrosfera?', 'respuesta' => '1.386 √ó 10‚Åπ km¬≥'],
        ['enunciado' => '¬øCu√°nto carbono almacena aproximadamente la biosfera?', 'respuesta' => '550 GtC'],
        ['enunciado' => '¬øQu√© componente libera CO‚ÇÇ en erupciones volc√°nicas?', 'respuesta' => 'Litosfera'],
        ['enunciado' => '¬øQu√© fen√≥meno altera el clima global cada 2-7 a√±os?', 'respuesta' => 'El Ni√±o / La Ni√±a (hidrosfera-atm√≥sfera)'],
        ['enunciado' => '¬øQu√© pasa si desaparece la criosfera?', 'respuesta' => 'Sube el nivel del mar, se pierde albedo ‚Üí m√°s calentamiento'],
        ['enunciado' => 'Escribe la ecuaci√≥n del balance energ√©tico terrestre', 'respuesta' => 'S(1 - Œ±) = œÉT‚Å¥'],
        ['enunciado' => '¬øQu√© es un "sumidero de carbono"?', 'respuesta' => 'Sistema que absorbe m√°s CO‚ÇÇ del que libera (oc√©anos, bosques, suelos)']
    ],

    'quiz' => [
        ['pregunta' => '¬øCu√°ntos componentes principales tiene el sistema clim√°tico?', 'opciones' => ['3', '4', '5', '6'], 'correcta' => '5'],
        ['pregunta' => '¬øQu√© componente incluye los oc√©anos?', 'opciones' => ['Criosfera', 'Hidrosfera', 'Litosfera', 'Biosfera'], 'correcta' => 'Hidrosfera'],
        ['pregunta' => '¬øQu√© componente tiene el albedo m√°s alto?', 'opciones' => ['Oc√©ano', 'Bosque', 'Hielo', 'Desierto'], 'correcta' => 'Hielo'],
        ['pregunta' => 'Gas m√°s abundante en la atm√≥sfera', 'opciones' => ['Ox√≠geno', 'Nitr√≥geno', 'CO‚ÇÇ', 'Arg√≥n'], 'correcta' => 'Nitr√≥geno'],
        ['pregunta' => '¬øQu√© almacena m√°s carbono a largo plazo?', 'opciones' => ['Atm√≥sfera', 'Oc√©anos', 'Litosfera', 'Biosfera'], 'correcta' => 'Litosfera'],
        ['pregunta' => 'Feedback hielo-albedo es...', 'opciones' => ['Negativo (estabiliza)', 'Positivo (amplifica)', 'Neutro', 'C√≠clico'], 'correcta' => 'Positivo (amplifica)'],
        ['pregunta' => 'Albedo aproximado del hielo', 'opciones' => ['0.1', '0.3', '0.6', '0.8'], 'correcta' => '0.8'],
        ['pregunta' => 'Volumen total de la hidrosfera', 'opciones' => ['10‚Å∂ km¬≥', '10‚Åπ km¬≥', '10¬π¬≤ km¬≥', '10¬π‚Åµ km¬≥'], 'correcta' => '10‚Åπ km¬≥'],
        ['pregunta' => '¬øQu√© libera metano al derretirse?', 'opciones' => ['Oc√©anos', 'Permafrost', 'Bosques', 'Volcanes'], 'correcta' => 'Permafrost'],
        ['pregunta' => 'Ecuaci√≥n del balance energ√©tico terrestre', 'opciones' => ['S = œÉT‚Å¥', 'S(1-Œ±) = œÉT‚Å¥', 'S = cT', 'P = œÅgh'], 'correcta' => 'S(1-Œ±) = œÉT‚Å¥'],
        ['pregunta' => 'Capacidad calor√≠fica espec√≠fica del agua l√≠quida', 'opciones' => ['1000 J/kg¬∑K', '4186 J/kg¬∑K', '2100 J/kg¬∑K', '500 J/kg¬∑K'], 'correcta' => '4186 J/kg¬∑K'],
        ['pregunta' => '¬øQu√© fen√≥meno es una interacci√≥n hidrosfera-atm√≥sfera?', 'opciones' => ['Terremoto', 'El Ni√±o', 'Erupci√≥n volc√°nica', 'Floraci√≥n algal'], 'correcta' => 'El Ni√±o'],
        ['pregunta' => 'Si Groenlandia se derrite por completo, el nivel del mar sube...', 'opciones' => ['+1 m', '+3 m', '+7 m', '+20 m'], 'correcta' => '+7 m'],
        ['pregunta' => '¬øQu√© componente almacena ~550 GtC?', 'opciones' => ['Atm√≥sfera', 'Hidrosfera', 'Litosfera', 'Biosfera'], 'correcta' => 'Biosfera'],
        ['pregunta' => '¬øQu√© es la circulaci√≥n termohalina?', 'opciones' => ['Corriente superficial', 'Cinta transportadora oce√°nica', 'Viento', 'Evaporaci√≥n'], 'correcta' => 'Cinta transportadora oce√°nica'],
        ['pregunta' => '¬øQu√© es un "tipping point" clim√°tico?', 'opciones' => ['Punto m√°ximo de calor', 'Punto de no retorno', 'Equilibrio estable', 'Ciclo normal'], 'correcta' => 'Punto de no retorno'],
        ['pregunta' => 'GtC significa...', 'opciones' => ['Gigatones de CO‚ÇÇ', 'Gigatones de carbono', 'Grados Celsius', 'Gases totales'], 'correcta' => 'Gigatones de carbono'],
        ['pregunta' => 'AMOC es la sigla de...', 'opciones' => ['Atlantic Meridional Overturning Circulation', 'Arctic Methane Ocean Cycle', 'Atmospheric Methane Observation Center', 'Antarctic Melting Observation Center'], 'correcta' => 'Atlantic Meridional Overturning Circulation'],
        ['pregunta' => '¬øQu√© componente libera CO‚ÇÇ naturalmente en grandes cantidades?', 'opciones' => ['Biosfera', 'Hidrosfera', 'Litosfera (volcanes)', 'Criosfera'], 'correcta' => 'Litosfera (volcanes)'],
        ['pregunta' => '¬øQu√© es la amplificaci√≥n √°rtica?', 'opciones' => ['El √Årtico se enfr√≠a m√°s', 'El √Årtico se calienta m√°s r√°pido', 'El ecuador se calienta m√°s', 'No hay diferencia'], 'correcta' => 'El √Årtico se calienta m√°s r√°pido'],
        ['pregunta' => '¬øQu√© porcentaje de la superficie terrestre cubre la criosfera actualmente?', 'opciones' => ['~1%', '~10%', '~30%', '~50%'], 'correcta' => '~10%'],
        ['pregunta' => '¬øQu√© porcentaje del agua dulce est√° en glaciares y casquetes?', 'opciones' => ['~10%', '~30%', '~70%', '~90%'], 'correcta' => '~70%'],
        ['pregunta' => '¬øQu√© componente regula el clima a corto plazo?', 'opciones' => ['Litosfera', 'Criosfera', 'Hidrosfera + Atm√≥sfera', 'Biosfera'], 'correcta' => 'Hidrosfera + Atm√≥sfera'],
        ['pregunta' => '¬øQu√© gas de efecto invernadero libera el permafrost al derretirse?', 'opciones' => ['CO‚ÇÇ', 'Metano (CH‚ÇÑ)', '√ìxido nitroso', 'Vapor de agua'], 'correcta' => 'Metano (CH‚ÇÑ)'],
        ['pregunta' => '¬øQui√©n propuso los 5 componentes del sistema clim√°tico?', 'opciones' => ['IPCC', 'NASA', 'NOAA', 'Todos los anteriores'], 'correcta' => 'Todos los anteriores'],
        ['pregunta' => '¬øQu√© interacci√≥n produce huracanes?', 'opciones' => ['Criosfera-Litosfera', 'Atm√≥sfera-Hidrosfera', 'Biosfera-Litosfera', 'Hidrosfera-Criosfera'], 'correcta' => 'Atm√≥sfera-Hidrosfera'],
        ['pregunta' => '¬øQu√© almacena m√°s calor a largo plazo?', 'opciones' => ['Atm√≥sfera', 'Oc√©anos', 'Suelos', 'Hielo'], 'correcta' => 'Oc√©anos'],
        ['pregunta' => '¬øQu√© es el "pulso de calor oce√°nico"?', 'opciones' => ['Aumento de temperatura del agua', 'Corriente r√°pida', 'Evaporaci√≥n', 'Salinidad'], 'correcta' => 'Aumento de temperatura del agua'],
        ['pregunta' => '¬øQu√© feedback es negativo?', 'opciones' => ['Hielo-albedo', 'Vapor de agua', 'Nubes bajas', 'Metano permafrost'], 'correcta' => 'Nubes bajas'],
        ['pregunta' => 'El sistema clim√°tico es...', 'opciones' => ['Lineal', 'Ca√≥tico', 'Complejo y no lineal', 'Predecible al 100%'], 'correcta' => 'Complejo y no lineal']
    ]
];
/**
 * MATERIA: ECOSISTEMAS
 * TEMA: Ciclo del Carbono ‚Äì El flujo que mueve la vida y el clima
 * ESTILO: Cyberpunk-ne√≥n total, SVG animado √âPICO, ecuaciones perfectas, 30 quiz nivel experto
 */

$lecciones[] = [
    'materia' => 'Ecosistemas',
    'slug'    => 'ciclo-carbono',
    'titulo'  => 'Ciclo del Carbono: El Flujo que Controla la Vida y el Clima',

    'contenido' => <<<'HTML'
<h3 class="text-center display-4">Ciclo del Carbono: El Gran Flujo Planetario</h3>
<p class="fs-5">El carbono se mueve sin parar entre 4 reservorios gigantes. En equilibrio natural estaba en balance‚Ä¶ hasta que llegamos nosotros.</p>

<!-- SVG ANIMADO BRUTAL DEL CICLO DEL CARBONO -->
<div class="svg-diagram">
    <svg viewBox="0 0 1100 780" xmlns="http://www.w3.org/2000/svg">
        <rect width="1100" height="780" fill="#000"/>
        <defs>
            <filter id="glow"><feGaussianBlur stdDeviation="12" result="blur"/>
                <feFlood flood-color="#00ffff"/><feComposite in2="blur" operator="in"/>
                <feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>
            </filter>
            <marker id="arrow" markerWidth="18" markerHeight="18" refX="16" refY="9" orient="auto">
                <path d="M0,0 L16,9 L0,18 Z" fill="#00ffff"/>
            </marker>
        </defs>

        <!-- T√≠tulo ne√≥n -->
        <text x="550" y="80" fill="#ff00ff" font-size="60" font-weight="bold" text-anchor="middle" filter="url(#glow)">CICLO DEL CARBONO</text>

        <!-- ATM√ìSFERA -->
        <rect x="450" y="120" width="200" height="110" rx="35" fill="#1e90ff" stroke="#00ffff" stroke-width="10" filter="url(#glow)"/>
        <text x="550" y="175" fill="#fff" font-size="36" text-anchor="middle" filter="url(#glow)">ATM√ìSFERA</text>
        <text x="550" y="215" fill="#00ffff" font-size="24" text-anchor="middle">~900 GtC ‚îÇ 420 ppm</text>

        <!-- BIOSFERA TERRESTRE -->
        <rect x="120" y="320" width="220" height="130" rx="35" fill="#228B22" stroke="#00ff00" stroke-width="10" filter="url(#glow)"/>
        <text x="230" y="380" fill="#fff" font-size="34" text-anchor="middle">BIOSFERA</text>
        <text x="230" y="420" fill="#00ff00" font-size="22" text-anchor="middle">~550 GtC</text>

        <!-- HIDROSFERA -->
        <rect x="760" y="320" width="220" height="130" rx="35" fill="#0066cc" stroke="#00ffff" stroke-width="10" filter="url(#glow)"/>
        <text x="870" y="380" fill="#fff" font-size="34" text-anchor="middle">HIDROSFERA</text>
        <text x="870" y="420" fill="#00ffff" font-size="22" text-anchor="middle">~38 000 GtC</text>

        <!-- LITOSFERA -->
        <rect x="450" y="560" width="200" height="110" rx="35" fill="#8B4513" stroke="#ff9900" stroke-width="10" filter="url(#glow)"/>
        <text x="550" y="615" fill="#fff" font-size="36" text-anchor="middle">LITOSFERA</text>
        <text x="550" y="655" fill="#ff9900" font-size="22" text-anchor="middle">~60 000 000 GtC</text>

        <!-- FLECHAS ANIMADAS GIGANTES -->
        <!-- Fotos√≠ntesis -->
        <path d="M550 230 L550 310 L340 340" stroke="#00ff00" stroke-width="10" marker-end="url(#arrow)" filter="url(#glow)">
            <animate attributeName="stroke-dashoffset" from="200" to="0" dur="4s" repeatCount="indefinite"/>
        </path>
        <text x="460" y="280" fill="#00ff00" font-size="26" filter="url(#glow)">Fotos√≠ntesis ‚âà120 GtC/a√±o</text>

        <!-- Respiraci√≥n -->
        <path d="M230 320 L230 250 L550 230" stroke="#ff3300" stroke-width="10" marker-end="url(#arrow)" filter="url(#glow)">
            <animate attributeName="stroke-dashoffset" from="200" to="0" dur="4s" repeatCount="indefinite"/>
        </path>
        <text x="360" y="260" fill="#ff3300" font-size="26" filter="url(#glow)">Respiraci√≥n ‚âà120 GtC/a√±o</text>

        <!-- Intercambio oc√©ano-atm√≥sfera -->
        <path d="M550 230 L760 340" stroke="#00ccff" stroke-width="10" marker-end="url(#arrow)" filter="url(#glow)">
            <animate attributeName="stroke-dashoffset" from="100" to="0" dur="3s" repeatCount="indefinite"/>
        </path>
        <text x="660" y="260" fill="#00ccff" font-size="26" filter="url(#glow)">Intercambio ‚âà90 GtC/a√±o</text>

        <!-- Combusti√≥n f√≥siles + deforestaci√≥n -->
        <path d="M550 560 L550 230" stroke="#ff1744" stroke-width="12" marker-end="url(#arrow)" filter="url(#glow)">
            <animate attributeName="stroke-dashoffset" from="300" to="0" dur="5s" repeatCount="indefinite"/>
        </path>
        <text x="600" y="400" fill="#ff1744" font-size="30" filter="url(#glow)">+11.5 GtC/a√±o (humanos)</text>

        <!-- Leyenda final -->
        <text x="550" y="740" fill="#00ffff" font-size="32" text-anchor="middle" filter="url(#glow)">
            El ciclo estaba en equilibrio‚Ä¶ hasta que empezamos a quemar el pasado.
        </text>
    </svg>
    <div class="caption">Flujos del ciclo del carbono (GtC/a√±o) ‚Äì Estilo cyberpunk-ne√≥n 2025</div>
</div>

<h4 class="mt-5">1. Reservorios de Carbono (2025)</h4>
<table class="table text-center fs-5">
    <thead><tr><th>Reservorio</th><th>Cantidad</th><th>Tiempo de residencia</th></tr></thead>
    <tbody>
        <tr><td>Atm√≥sfera</td><td>~900 GtC</td><td>~5 a√±os</td></tr>
        <tr><td>Biosfera terrestre</td><td>~550 GtC</td><td>10‚Äì100 a√±os</td></tr>
        <tr><td>Oc√©anos (total)</td><td>~38 000 GtC</td><td>~1 000 a√±os (profundo)</td></tr>
        <tr><td>Litosfera (rocas + f√≥siles)</td><td>~60 000 000 GtC</td><td>Millones de a√±os</td></tr>
    </tbody>
</table>

<h4 class="mt-5">2. Procesos Clave</h4>
<div class="row text-center my-5">
    <div class="col-md-6">
        <p class="fs-4 fw-bold text-success">Fotos√≠ntesis</p>
        <div class="eq">$$ \ce{6CO2 + 6H2O + luz -> C6H12O6 + 6O2} $$</div>
    </div>
    <div class="col-md-6">
        <p class="fs-4 fw-bold text-danger">Respiraci√≥n / Combusti√≥n</p>
        <div class="eq">$$ \ce{C6H12O6 + 6O2 -> 6CO2 + 6H2O + energia} $$</div>
    </div>
</div>

<h4 class="mt-5">3. Flujos Anuales (GtC/a√±o)</h4>
<table class="table text-center">
    <tr><td>Fotos√≠ntesis terrestre</td><td>‚âà120</td></tr>
    <tr><td>Respiraci√≥n terrestre</td><td>‚âà120</td></tr>
    <tr><td>Intercambio oc√©ano-atm√≥sfera</td><td>‚âà90</td></tr>
    <tr><td>Absorci√≥n neta oce√°nica</td><td>‚âà2.5</td></tr>
    <tr class="table-danger"><td>Emisiones humanas (f√≥siles + deforestaci√≥n)</td><td>‚âà11.5</td></tr>
</table>

<h4 class="mt-5 text-danger">4. Impacto Humano ‚Üí Desequilibrio Total</h4>
<p class="fs-4">Concentraci√≥n actual de CO‚ÇÇ: <strong>~420 ppm (2025)</strong> ‚Üí la m√°s alta en 3 millones de a√±os</p>
<div class="ejemplo">
    Desde la Revoluci√≥n Industrial hemos aumentado el CO‚ÇÇ atmosf√©rico en <strong>m√°s del 50 %</strong>.
</div>

<div class="visual">
    <img src="assets/img/nasa_carbono.gif" alt="Curva de Keeling">
    <p><em>Curva de Keeling: el latido anual del planeta + la tendencia humana. Fuente: NASA</em></p>
</div>
HTML
,
    'ejercicios' => [
        ['enunciado' => 'Escribe la ecuaci√≥n de la fotos√≠ntesis', 'respuesta' => '\\ce{6CO2 + 6H2O -> C6H12O6 + 6O2}'],
        ['enunciado' => '¬øCu√°l es el reservorio m√°s grande de carbono?', 'respuesta' => 'Litosfera (rocas sedimentarias y combustibles f√≥siles)'],
        ['enunciado' => '¬øCu√°nto carbono hay aproximadamente en la atm√≥sfera?', 'respuesta' => '~900 GtC'],
        ['enunciado' => '¬øCu√°nto carbono absorbe la fotos√≠ntesis terrestre al a√±o?', 'respuesta' => '~120 GtC/a√±o'],
        ['enunciado' => '¬øCu√°nto emiten los humanos al a√±o (f√≥siles + deforestaci√≥n)?', 'respuesta' => '~11.5 GtC/a√±o'],
        ['enunciado' => '¬øQu√© son los oc√©anos para el carbono atmosf√©rico?', 'respuesta' => 'El mayor sumidero activo (~2.5 GtC/a√±o neto)'],
        ['enunciado' => '¬øQu√© es un "sumidero de carbono"?', 'respuesta' => 'Sistema que absorbe m√°s carbono del que libera'],
        ['enunciado' => '¬øQu√© le pasa al ciclo del carbono con la deforestaci√≥n?', 'respuesta' => 'Se reduce la fotos√≠ntesis y se libera carbono almacenado'],
        ['enunciado' => '¬øQu√© es la acidificaci√≥n oce√°nica?', 'respuesta' => 'CO‚ÇÇ + H‚ÇÇO ‚Üí H‚ÇÇCO‚ÇÉ ‚Üí baja el pH del oc√©ano'],
        ['enunciado' => '¬øQu√© es la "bomba biol√≥gica" del oc√©ano?', 'respuesta' => 'Fitoplancton fija CO‚ÇÇ ‚Üí muere ‚Üí se hunde ‚Üí carbono al fondo marino'],
        ['enunciado' => '¬øQu√© es el efecto "greening" observado por sat√©lite?', 'respuesta' => 'Aumento de vegetaci√≥n por mayor CO‚ÇÇ (fertilizaci√≥n)'],
        ['enunciado' => '¬øQu√© es el carbono azul?', 'respuesta' => 'Carbono almacenado en manglares, marismas y praderas marinas']
    ],

    'quiz' => [
        ['pregunta' => '¬øCu√°l es el reservorio M√ÅS grande de carbono?', 'opciones' => ['Atm√≥sfera', 'Oc√©anos', 'Biosfera', 'Litosfera'], 'correcta' => 'Litosfera'],
        ['pregunta' => 'Proceso que absorbe CO‚ÇÇ atmosf√©rico', 'opciones' => ['Respiraci√≥n', 'Fotos√≠ntesis', 'Combusti√≥n', 'Evaporaci√≥n'], 'correcta' => 'Fotos√≠ntesis'],
        ['pregunta' => 'Flujo anual de fotos√≠ntesis terrestre', 'opciones' => ['10 GtC', '120 GtC', '1 000 GtC', '12 000 GtC'], 'correcta' => '120 GtC'],
        ['pregunta' => 'Emisiones humanas actuales (2025)', 'opciones' => ['1 GtC/a√±o', '11.5 GtC/a√±o', '50 GtC/a√±o', '100 GtC/a√±o'], 'correcta' => '11.5 GtC/a√±o'],
        ['pregunta' => 'Concentraci√≥n actual de CO‚ÇÇ (2025)', 'opciones' => ['280 ppm', '350 ppm', '420 ppm', '500 ppm'], 'correcta' => '420 ppm'],
        ['pregunta' => 'Absorci√≥n neta anual de los oc√©anos', 'opciones' => ['0.5 GtC', '2.5 GtC', '10 GtC', '25 GtC'], 'correcta' => '2.5 GtC'],
        ['pregunta' => 'Tiempo de residencia del carbono en oc√©ano profundo', 'opciones' => ['10 a√±os', '100 a√±os', '1 000 a√±os', '10 000 a√±os'], 'correcta' => '1 000 a√±os'],
        ['pregunta' => 'Ecuaci√≥n de la fotos√≠ntesis', 'opciones' => ['\\ce{CO2 -> C6H12O6}', '\\ce{6CO2 + 6H2O -> C6H12O6 + 6O2}', '\\ce{C6H12O6 -> 6CO2 + 6H2O}', 'Ninguna'], 'correcta' => '\\ce{6CO2 + 6H2O -> C6H12O6 + 6O2}'],
        ['pregunta' => '¬øQu√© es la acidificaci√≥n oce√°nica?', 'opciones' => ['M√°s sal', 'Menos O‚ÇÇ', 'Baja el pH por CO‚ÇÇ', 'Sube la temperatura'], 'correcta' => 'Baja el pH por CO‚ÇÇ'],
        ['pregunta' => '¬øQu√© es la "bomba biol√≥gica"?', 'opciones' => ['Fitoplancton hunde carbono', 'Explosi√≥n algal', 'Corriente oce√°nica', 'Volc√°n submarino'], 'correcta' => 'Fitoplancton hunde carbono'],
        ['pregunta' => '¬øQu√© es el "carbono azul"?', 'opciones' => ['En manglares y marismas', 'En la atm√≥sfera', 'En combustibles f√≥siles', 'En nubes'], 'correcta' => 'En manglares y marÔøΩismas'],
        ['pregunta' => '¬øQu√© observa la curva de Keeling?', 'opciones' => ['Temperatura', 'CO‚ÇÇ creciente + oscilaci√≥n estacional', 'O‚ÇÇ', 'Lluvia'], 'correcta' => 'CO‚ÇÇ creciente + oscilaci√≥n estacional'],
        ['pregunta' => '¬øQu√© causa el "greening" terrestre?', 'opciones' => ['Menos CO‚ÇÇ', 'Fertilizaci√≥n por CO‚ÇÇ', 'M√°s lluvia', 'Menos luz'], 'correcta' => 'Fertilizaci√≥n por CO‚ÇÇ'],
        ['pregunta' => '¬øQu√© libera el permafrost al derretirse?', 'opciones' => ['CO‚ÇÇ', 'Metano (CH‚ÇÑ)', 'Ox√≠geno', 'Nitr√≥geno'], 'correcta' => 'Metano (CH‚ÇÑ)'],
        ['pregunta' => '¬øQu√© mide GtC?', 'opciones' => ['Gigatones de CO‚ÇÇ', 'Gigatones de carbono', 'Grados Celsius', 'Gases totales'], 'correcta' => 'Gigatones de carbono'],
        ['pregunta' => '¬øQu√© es un "sumidero de carbono"?', 'opciones' => ['Emite carbono', 'Absorbe m√°s del que emite', 'No hace nada', 'Solo plantas'], 'correcta' => 'Absorbe m√°s del que emite'],
        ['pregunta' => '¬øQu√© porcentaje del carbono total est√° en la litosfera?', 'opciones' => ['<1%', '10%', '50%', '>99%'], 'correcta' => '>99%'],
        ['pregunta' => '¬øCu√°nto aument√≥ el CO‚ÇÇ desde 1750?', 'opciones' => ['+10%', '+30%', '+50%', '+100%'], 'correcta' => '+50%'],
        ['pregunta' => '¬øQu√© ecosistemas costeros son los mayores sumideros por √°rea?', 'opciones' => ['Playas', 'Manglares y marismas', 'Corales', 'Arrecifes'], 'correcta' => 'Manglares y marismas'],
        ['pregunta' => '¬øQu√© ley explica la solubilidad del CO‚ÇÇ en oc√©ano?', 'opciones' => ['Ley de Boyle', 'Ley de Henry', 'Ley de Dalton', 'Ley de Fick'], 'correcta' => 'Ley de Henry'],
        ['pregunta' => '¬øQu√© porcentaje del CO‚ÇÇ antropog√©nico absorben oc√©anos?', 'opciones' => ['~10%', '~25%', '~40%', '~60%'], 'correcta' => '~25%'],
        ['pregunta' => '¬øQu√© es el "carbono negro" (black carbon)?', 'opciones' => ['Holl√≠n', 'CO‚ÇÇ', 'Metano', 'Carbonatos'], 'correcta' => 'Holl√≠n'],
        ['pregunta' => '¬øQu√© feedback positivo importante hay en el √Årtico?', 'opciones' => ['M√°s hielo', 'Permafrost libera CH‚ÇÑ', 'Menos CO‚ÇÇ', 'Enfriamiento'], 'correcta' => 'Permafrost libera CH‚ÇÑ'],
        ['pregunta' => '¬øEn qu√© reservorio est√° el 95% del carbono m√≥vil?', 'opciones' => ['Atm√≥sfera', 'Oc√©anos', 'Biosfera', 'Suelos'], 'correcta' => 'Oc√©anos'],
        ['pregunta' => '¬øQu√© es el "DOC"?', 'opciones' => ['Carbono org√°nico disuelto', 'Di√≥xido de carbono', 'Carbono muerto', 'Carbono f√≥sil'], 'correcta' => 'Carbono org√°nico disuelto'],
        ['pregunta' => '¬øQu√© porcentaje del carbono terrestre est√° en suelos?', 'opciones' => ['~20%', '~50%', '~75%', '~90%'], 'correcta' => '~75%'],
        ['pregunta' => '¬øQu√© proceso natural igualaba fotos√≠ntesis y respiraci√≥n antes de 1750?', 'opciones' => ['Combusti√≥n', 'Balance natural', 'Volcanes', 'Erosi√≥n'], 'correcta' => 'Balance natural'],
        ['pregunta' => '¬øQu√© mide la "fracci√≥n aerotransportada"?', 'opciones' => ['% de nuestras emisiones que queda en atm√≥sfera', 'Aviones', 'CO‚ÇÇ total', 'Metano'], 'correcta' => '% de nuestras emisiones que queda en atm√≥sfera'],
        ['pregunta' => '¬øCu√°nto tiempo tarda el exceso de CO‚ÇÇ en desaparecer?', 'opciones' => ['10 a√±os', '100 a√±os', '1 000 a√±os', 'Cientos de miles de a√±os'], 'correcta' => 'Cientos de miles de a√±os'],
        ['pregunta' => 'El ciclo del carbono es...', 'opciones' => ['Lineal', 'Cerrado', 'Abierto', 'Imposible de alterar'], 'correcta' => 'Cerrado']
    ]
];
/**
 * MATERIA: ECOSISTEMAS
 * TEMA: Ley de Liebig ‚Äì El tabl√≥n m√°s corto manda
 * ESTILO: Cyberpunk-ne√≥n total, SVG animado BRUTAL, ecuaciones perfectas, 30 quiz nivel experto
 */

$lecciones[] = [
    'materia' => 'Ecosistemas',
    'slug'    => 'ley-liebig',
    'titulo'  => 'Ley de Liebig: El Factor Limitante que Controla Todo',

    'contenido' => <<<'HTML'

<h3 class="text-center display-4">Ley de Liebig (1840)</h3>
<p class="fs-4 text-center">‚ÄúEl rendimiento est√° determinado por el recurso esencial m√°s escaso‚Äù</p>

<!-- SVG ANIMADO √âPICO DEL BARRIL DE LIEBIG -->
<div class="svg-diagram">
    <svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
        <rect width="1200" height="800" fill="#000"/>
        <defs>
            <filter id="glow"><feGaussianBlur stdDeviation="14" result="blur"/>
                <feFlood flood-color="#00ffff"/><feComposite in2="blur" operator="in"/>
                <feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>
            </filter>
            <filter id="glow-red"><feGaussianBlur stdDeviation="16" result="blur"/>
                <feFlood flood-color="#ff1744"/><feComposite in2="blur" operator="in"/>
                <feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>
            </filter>
        </defs>

        <!-- T√≠tulo ne√≥n -->
        <text x="600" y="90" fill="#ff00ff" font-size="70" font-weight="bold" text-anchor="middle" filter="url(#glow)">BARRIL DE LIEBIG</text>

        <!-- Barril gigante estilo cyberpunk -->
        <ellipse cx="600" cy="200" rx="300" ry="80" fill="#2c1810" stroke="#00ffff" stroke-width="12" filter="url(#glow)"/>
        <ellipse cx="600" cy="680" rx="300" ry="80" fill="#2c1810" stroke="#00ffff" stroke-width="12" filter="url(#glow)"/>
        <rect x="300" y="200" width="600" height="480" fill="none" stroke="#00ffff" stroke-width="12" filter="url(#glow)"/>

        <!-- Tablones (factores) con alturas diferentes -->
        <rect x="350" y="250" width="80" height="400" fill="#00e676" filter="url(#glow)"/>
        <rect x="450" y="300" width="80" height="350" fill="#00e676" filter="url(#glow)"/>
        <rect x="550" y="220" width="80" height="430" fill="#00e676" filter="url(#glow)"/>
        <rect x="650" y="280" width="80" height="370" fill="#00e676" filter="url(#glow)"/>
        <rect x="750" y="320" width="80" height="330" fill="#ff1744" filter="url(#glow-red)"/> <!-- EL M√ÅS CORTO -->

        <!-- Etiquetas ne√≥n -->
        <text x="390" y="240" fill="#000" font-size="28" text-anchor="middle" filter="url(#glow)">N</text>
        <text x="490" y="290" fill="#000" font-size="28" text-anchor="middle" filter="url(#glow)">P</text>
        <text x="590" y="210" fill="#000" font-size="28" text-anchor="middle" filter="url(#glow)">K</text>
        <text x="690" y="270" fill="#000" font-size="28" text-anchor="middle" filter="url(#glow)">H‚ÇÇO</text>
        <text x="790" y="310" fill="#fff" font-size="36" font-weight="bold" text-anchor="middle" filter="url(#glow-red)">Fe ‚Üê LIMITANTE</text>

        <!-- Agua que sube solo hasta el tabl√≥n m√°s corto -->
        <rect id="water" x="310" y="650" width="580" height="0" fill="#1e90ff" opacity="0.8" filter="url(#glow)">
            <animate attributeName="height" from="0" to="330" dur="4s" repeatCount="indefinite" fill="freeze"/>
            <animate attributeName="y" from="650" to="320" dur="4s" repeatCount="indefinite" fill="freeze"/>
        </rect>

        <!-- Texto dentro del agua -->
        <text x="600" y="500" fill="#00ffff" font-size="56" font-weight="bold" text-anchor="middle" filter="url(#glow)">
            PRODUCTIVIDAD M√ÅXIMA
        </text>

        <!-- Leyenda final -->
        <text x="600" y="750" fill="#00ffff" font-size="36" text-anchor="middle" filter="url(#glow)">
            El tabl√≥n m√°s corto decide todo.
        </text>
    </svg>
    <div class="caption">Animaci√≥n cyberpunk del Barril de Liebig ‚Äì El factor limitante en acci√≥n</div>
</div>

<h4 class="mt-5">1. Principio Fundamental (1840)</h4>
<div class="eq">$$ P = k \cdot \min(f_1, f_2, f_3, \dots, f_n) $$</div>
<p class="text-center mt-3 fs-5"><em>P = productividad real ‚îÇ k = constante ‚îÇ min() = el factor m√°s escaso</em></p>

<div class="ejemplo">
    <p class="fs-4">Ejemplo cl√°sico: tienes todo el nitr√≥geno y potasio del mundo‚Ä¶ pero falta <strong>f√≥sforo</strong> ‚Üí tu cultivo crece como si no tuvieras nada.</p>
</div>

<h4 class="mt-5">2. Factores Limitantes M√°s Comunes</h4>
<table class="table text-center fs-5">
    <tr><th>Factor</th><th>Ecosistema t√≠pico</th><th>Limitante habitual</th></tr>
    <tr><td>Nitr√≥geno (N)</td><td>Praderas, cultivos</td><td>M√°s com√∫n en tierra</td></tr>
    <tr><td>F√≥sforo (P)</td><td>Lagos, selvas tropicales</td><td>M√°s com√∫n en agua dulce</td></tr>
    <tr><td>Hierro (Fe)</td><td>Oc√©ano abierto (HNLC)</td><td>Limitante en 30 % del oc√©ano</td></tr>
    <tr><td>Agua</td><td>Desiertos, zonas √°ridas</td><td>Obvio</td></tr>
    <tr><td>Luz</td><td>Sotobosque, fondo marino</td><td>Energ√≠a inicial</td></tr>
    <tr><td>Temperatura</td><td>Tundra, alta monta√±a</td><td>Enzimas no funcionan</td></tr>
</table>

<h4 class="mt-5 text-warning">3. Ley de Shelford (1913) ‚Äì El complemento</h4>
<p class="fs-4 text-center">‚ÄúEl exceso tambi√©n mata‚Äù</p>
<div class="visual">
    <img src="assets/img/ley-tolerancia.jpg" alt="Curva de tolerancia de Shelford" class="rounded">
    <p><em>Curva de tolerancia: entre el m√≠nimo (Liebig) y el m√°ximo (Shelford) est√° la vida</em></p>
</div>

<h4 class="mt-5">4. Aplicaciones Pr√°cticas Brutales</h4>
<ul class="fs-5">
    <li>Agricultura ‚Üí fertilizantes NPK balanceados</li>
    <li>Eutrofizaci√≥n ‚Üí el P es el ‚Äúgatillo‚Äù en lagos</li>
    <li>Geoingenier√≠a oce√°nica ‚Üí a√±adir hierro = bloom masivo de fitoplancton</li>
    <li>Restauraci√≥n ecol√≥gica ‚Üí primero identifica el factor limitante real</li>
</ul>
HTML
,
    'ejercicios' => [
        ['enunciado' => 'Enuncia la Ley de Liebig en una frase', 'respuesta' => 'El crecimiento est√° limitado por el recurso esencial m√°s escaso'],
        ['enunciado' => 'Escribe la f√≥rmula matem√°tica conceptual de Liebig', 'respuesta' => 'P = min(f‚ÇÅ, f‚ÇÇ, ..., f‚Çô) o P = k ¬∑ min(f‚ÇÅ, f‚ÇÇ, ...)'],
        ['enunciado' => '¬øQu√© nutriente limita m√°s frecuentemente la productividad primaria en lagos?', 'respuesta' => 'F√≥sforo (P)'],
        ['enunciado' => '¬øQu√© elemento limita el crecimiento del fitoplancton en grandes zonas del oc√©ano abierto?', 'respuesta' => 'Hierro (Fe)'],
        ['enunciado' => '¬øQu√© factor limitante predomina en el desierto?', 'respuesta' => 'Agua'],
        ['enunciado' => '¬øQu√© ley dice que ‚Äúel exceso tambi√©n limita‚Äù?', 'respuesta' => 'Ley de Shelford o Ley del M√°ximo'],
        ['enunciado' => '¬øQu√© es la ‚Äúzona de tolerancia‚Äù?', 'respuesta' => 'Rango de un factor ambiental donde el organismo puede sobrevivir y reproducirse'],
        ['enunciado' => '¬øPor qu√© los fertilizantes son NPK y no solo N?', 'respuesta' => 'Porque si falta P o K, el N extra no sirve de nada (Ley de Liebig)'],
        ['enunciado' => '¬øQu√© ocurre al a√±adir hierro en zonas HNLC del oc√©ano?', 'respuesta' => 'Bloom explosivo de fitoplancton y posible secuestro de CO‚ÇÇ'],
        ['enunciado' => '¬øQu√© es la eutrofizaci√≥n cultural?', 'respuesta' => 'Exceso de nutrientes (sobre todo P) por actividad humana ‚Üí blooms algales'],
        ['enunciado' => 'En selvas tropicales antiguas, ¬øqu√© nutriente suele ser limitante?', 'respuesta' => 'F√≥sforo (P), porque los suelos est√°n muy lavados'],
        ['enunciado' => '¬øQui√©n extendi√≥ la Ley de Liebig a la luz (1905)?', 'respuesta' => 'Frederick Frost Blackman']
    ],

    'quiz' => [
        // F√ÅCIL
        ['pregunta' => 'La Ley de Liebig tambi√©n se conoce como...', 'opciones' => ['Ley del m√°ximo', 'Ley del m√≠nimo', 'Ley del promedio', 'Ley de Shelford'], 'correcta' => 'Ley del m√≠nimo'],
        ['pregunta' => 'Analog√≠a cl√°sica de Liebig', 'opciones' => ['Cadena', 'Barril', 'Pir√°mide', 'Escalera'], 'correcta' => 'Barril'],
        ['pregunta' => 'El crecimiento lo limita el factor...', 'opciones' => ['M√°s abundante', 'M√°s escaso', 'Promedio', 'M√°s t√≥xico'], 'correcta' => 'M√°s escaso'],
        ['pregunta' => 'Autor de la ley', 'opciones' => ['Shelford', 'Liebig', 'Blackman', 'Mendel'], 'correcta' => 'Liebig'],
        ['pregunta' => 'A√±o aproximado de la ley', 'opciones' => ['1750', '1840', '1913', '1950'], 'correcta' => '1840'],
        ['pregunta' => 'En lagos de agua dulce limita normalmente...', 'opciones' => ['Nitr√≥geno', 'F√≥sforo', 'Hierro', 'Potasio'], 'correcta' => 'F√≥sforo'],
        ['pregunta' => 'En oc√©ano abierto (zonas HNLC) limita...', 'opciones' => ['Nitr√≥geno', 'F√≥sforo', 'Hierro', 'Silicio'], 'correcta' => 'Hierro'],
        ['pregunta' => 'En desierto limita...', 'opciones' => ['Luz', 'Agua', 'Nitr√≥geno', 'CO‚ÇÇ'], 'correcta' => 'Agua'],
        ['pregunta' => 'Ley de Shelford trata sobre...', 'opciones' => ['El m√≠nimo', 'El m√°ximo', 'El √≥ptimo', 'El promedio'], 'correcta' => 'El m√°ximo'],
        ['pregunta' => 'La ‚Äúzona de tolerancia‚Äù est√° entre...', 'opciones' => ['Liebig y Shelford', 'Solo Liebig', 'Solo Shelford', 'Ninguno'], 'correcta' => 'Liebig y Shelford'],

        // MEDIO
        ['pregunta' => 'F√≥rmula conceptual de Liebig', 'opciones' => ['P = max(f)', 'P = min(f)', 'P = avg(f)', 'P = sum(f)'], 'correcta' => 'P = min(f)'],
        ['pregunta' => 'En agricultura, ¬øpor qu√© se usa NPK?', 'opciones' => ['Porque son los √∫nicos nutrientes', 'Para evitar que alguno sea limitante', 'Porque son baratos', 'Por tradici√≥n'], 'correcta' => 'Para evitar que alguno sea limitante'],
        ['pregunta' => 'Eutrofizaci√≥n es causada principalmente por exceso de...', 'opciones' => ['Nitr√≥geno', 'F√≥sforo', 'Potasio', 'Calcio'], 'correcta' => 'F√≥sforo'],
        ['pregunta' => 'A√±adir hierro al oc√©ano provoca...', 'opciones' => ['Muerte algal', 'Bloom fitoplancton', 'Acidificaci√≥n', 'Enfriamiento'], 'correcta' => 'Bloom fitoplancton'],
        ['pregunta' => 'En suelos tropicales antiguos suele limitar...', 'opciones' => ['Nitr√≥geno', 'F√≥sforo', 'Agua', 'Luz'], 'correcta' => 'F√≥sforo'],
        ['pregunta' => 'En praderas templadas suele limitar...', 'opciones' => ['F√≥sforo', 'Nitr√≥geno', 'Agua', 'Luz'], 'correcta' => 'Nitr√≥geno'],
        ['pregunta' => '¬øQui√©n formul√≥ la Ley del M√°ximo?', 'opciones' => ['Liebig', 'Shelford', 'Blackman', 'Odum'], 'correcta' => 'Shelford'],
        ['pregunta' => 'La curva de respuesta t√≠pica seg√∫n Liebig es...', 'opciones' => ['Lineal', 'Exponencial', 'Plat√≥ despu√©s del m√≠nimo', 'Sigmoide'], 'correcta' => 'Plat√≥ despu√©s del m√≠nimo'],
        ['pregunta' => 'NPK significa...', 'opciones' => ['Nitr√≥geno-Potasion-F√≥sforo', 'Nitr√≥geno-F√≥sforo-Potasio', 'Nitr√≥geno-F√≥sforo-Kript√≥n', 'Ninguno'], 'correcta' => 'Nitr√≥geno-F√≥sforo-Potasio'],
        ['pregunta' => 'En tundra limita principalmente...', 'opciones' => ['Agua', 'Nitr√≥geno', 'Temperatura', 'Luz'], 'correcta' => 'Temperatura'],

        // DIF√çCIL
        ['pregunta' => 'Extensi√≥n de Liebig a la luz (1905)', 'opciones' => ['Ley de Shelford', 'Ley de Blackman', 'Ley de Mitscherlich', 'Ley de Boyle'], 'correcta' => 'Ley de Blackman'],
        ['pregunta' => 'Modelo matem√°tico m√°s simple de Liebig', 'opciones' => ['P = a + b¬∑N', 'P = k¬∑min(N,P)', 'P = N¬∑P', 'P = e^N'], 'correcta' => 'P = k¬∑min(N,P)'],
        ['pregunta' => 'En geoingenier√≠a, a√±adir Fe busca...', 'opciones' => ['Aumentar pesca', 'Secuestrar CO‚ÇÇ', 'Reducir temperatura', 'Todas'], 'correcta' => 'Todas'],
        ['pregunta' => 'La ley de Liebig es de tipo...', 'opciones' => ['Aditiva', 'Multiplicativa', 'Minimoide', 'Exponencial'], 'correcta' => 'Minimoide'],
        ['pregunta' => 'En limnolog√≠a, el ‚Äúgatillo‚Äù de la eutrofizaci√≥n es...', 'opciones' => ['Nitr√≥geno', 'F√≥sforo', 'Carbono', 'Hierro'], 'correcta' => 'F√≥sforo'],
        ['pregunta' => 'Liebig era por profesi√≥n...', 'opciones' => ['Bot√°nico', 'Qu√≠mico agr√≠cola', 'Ec√≥logo', 'F√≠sico'], 'correcta' => 'Qu√≠mico agr√≠cola'],
        ['pregunta' => 'En zonas HNLC del oc√©ano significa...', 'opciones' => ['High Nutrient Low Chlorophyll', 'High Nitrogen Low Carbon', 'Low Nutrient High Chlorophyll', 'Ninguna'], 'correcta' => 'High Nutrient Low Chlorophyll'],
        ['pregunta' => 'Factor limitante en el dosel de selva tropical (plantas altas)', 'opciones' => ['Luz', 'Agua', 'Nutrientes', 'CO‚ÇÇ'], 'correcta' => 'Luz'],
        ['pregunta' => '¬øPuede un factor compensar totalmente a otro?', 'opciones' => ['S√≠ siempre', 'Nunca', 'Solo parcialmente', 'Depende'], 'correcta' => 'Solo parcialmente'],
        ['pregunta' => 'El principio de Liebig es la base de...', 'opciones' => ['Agricultura de precisi√≥n', 'Fertilizantes balanceados', 'Secuestro de carbono', 'Todas'], 'correcta' => 'Todas']
    ]
];
/**
 * MATERIA: ECOSISTEMAS
 * TEMA: Ley de Shelford ‚Äì Ley de la Tolerancia (1913)
 * ESTILO: Cyberpunk-ne√≥n total, SVG animado √âPICO, 30 quiz nivel experto
 */

$lecciones[] = [
    'materia' => 'Ecosistemas',
    'slug'    => 'ley-shelford',
    'titulo'  => 'Ley de Shelford: El Rango que Define Qui√©n Vive y Qui√©n Muere',

    'contenido' => <<<'HTML'

<h3 class="text-center display-4">Ley de Shelford (1913)</h3>
<p class="fs-4 text-center">‚ÄúLa vida solo existe dentro de un rango limitado de cada factor ambiental‚Äù</p>

<!-- SVG ANIMADO √âPICO DE LA CURVA DE TOLERANCIA -->
<div class="svg-diagram">
    <svg viewBox="0 0 1300 850" xmlns="http://www.w3.org/2000/svg">
        <rect width="1300" height="850" fill="#000"/>
        <defs>
            <filter id="glow"><feGaussianBlur stdDeviation="16" result="blur"/>
                <feFlood flood-color="#00ffff"/><feComposite in2="blur" operator="in"/>
                <feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>
            </filter>
            <filter id="glow-red"><feGaussianBlur stdDeviation="18" result="blur"/>
                <feFlood flood-color="#ff1744"/><feComposite in2="blur" operator="in"/>
                <feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>
            </filter>
            <linearGradient id="grad-optimo" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%" stop-color="#00e676"/>
                <stop offset="100%" stop-color="#1de9b6"/>
            </linearGradient>
        </defs>

        <!-- T√≠tulo ne√≥n gigante -->
        <text x="650" y="100" fill="#ff00ff" font-size="80" font-weight="bold" text-anchor="middle" filter="url(#glow)">LEY DE SHELFORD</text>

        <!-- Ejes -->
        <line x1="150" y1="700" x2="1150" y2="700" stroke="#00ffff" stroke-width="8" filter="url(#glow)"/>
        <line x1="150" y1="700" x2="150" y2="150" stroke="#00ffff" stroke-width="8" filter="url(#glow)"/>

        <!-- Etiquetas ejes -->
        <text x="650" y="780" fill="#00ffff" font-size="36" text-anchor="middle" filter="url(#glow)">Factor ambiental (ej. Temperatura ¬∞C)</text>
        <text x="80" y="425" fill="#00ffff" font-size="36" text-anchor="middle" transform="rotate(-90,80,425)" filter="url(#glow)">Densidad poblacional</text>

        <!-- Zonas de fondo -->
        <rect x="150" y="150" width="200" height="550" fill="#ff1744" opacity="0.25" filter="url(#glow-red)"/>
        <rect x="350" y="150" width="150" height="550" fill="#ff5722" opacity="0.35"/>
        <rect x="500" y="150" width="300" height="550" fill="#00e676" opacity="0.4" filter="url(#glow)"/>
        <rect x="800" y="150" width="150" height="550" fill="#ff5722" opacity="0.35"/>
        <rect x="950" y="150" width="200" height="550" fill="#ff1744" opacity="0.25" filter="url(#glow-red)"/>

        <!-- Curva de campana animada -->
        <path id="curve" d="M150 700 Q450 600 650 250 Q850 600 1150 700" fill="none" stroke="url(#grad-optimo)" stroke-width="18" filter="url(#glow)">
            <animate attributeName="stroke-dashoffset" from="2000" to="0" dur="6s" repeatCount="indefinite"/>
        </path>

        <!-- Etiquetas de zonas -->
        <text x="250" y="200" fill="#ff1744" font-size="48" font-weight="bold" text-anchor="middle" filter="url(#glow-red)">LETAL</text>
        <text x="425" y="200" fill="#ff5722" font-size="42" text-anchor="middle" filter="url(#glow)">ESTR√âS</text>
        <text x="650" y="200" fill="#00e676" font-size="70" font-weight="bold" text-anchor="middle" filter="url(#glow)">√ìPTIMO</text>
        <text x="875" y="200" fill="#ff5722" font-size="42" text-anchor="middle" filter="url(#glow)">ESTR√âS</text>
        <text x="1050" y="200" fill="#ff1744" font-size="48" font-weight="bold" text-anchor="middle" filter="url(#glow-red)">LETAL</text>

        <!-- Marcas de temperatura -->
        <text x="250" y="740" fill="#fff" font-size="32" text-anchor="middle">0¬∞C</text>
        <text x="425" y="740" fill="#fff" font-size="32" text-anchor="middle">15¬∞C</text>
        <text x="650" y="740" fill="#fff" font-size="40" text-anchor="middle">25¬∞C</text>
        <text x="875" y="740" fill="#fff" font-size="32" text-anchor="middle">35¬∞C</text>
        <text x="1050" y="740" fill="#fff" font-size="32" text-anchor="middle">45¬∞C</text>

        <!-- Leyenda final -->
        <text x="650" y="820" fill="#00ffff" font-size="40" text-anchor="middle" filter="url(#glow)">
            Fuera del rango ‚Üí estr√©s ‚Üí muerte
        </text>
    </svg>
    <div class="caption">Curva de Tolerancia de Shelford ‚Äì Cyberpunk Edition 2025</div>
</div>

<h4 class="mt-5">1. Las 5 Zonas de Tolerancia</h4>
<table class="table text-center fs-5">
    <tr><th>Zona</th><th>Efecto fisiol√≥gico</th><th>Ejemplo (temperatura humana)</th></tr>
    <tr><td>Letal m√≠nima</td><td>Muerte por congelaci√≥n</td><td>&lt; 0¬∞C</td></tr>
    <tr><td>Estr√©s m√≠nimo</td><td>Metabolismo lento, inmunidad baja</td><td>0‚Äì15¬∞C</td></tr>
    <tr class="table-success"><td>√ìPTIMO</td><td>M√°xima reproducci√≥n y supervivencia</td><td>20‚Äì28¬∞C</td></tr>
    <tr><td>Estr√©s m√°ximo</td><td>Deshidrataci√≥n, golpe de calor</td><td>35‚Äì40¬∞C</td></tr>
    <tr><td>Letal m√°xima</td><td>Desnaturalizaci√≥n de prote√≠nas</td><td>&gt; 44¬∞C</td></tr>
</table>

<div class="ejemplo">
    <p class="fs-4">Los corales blanquean cuando la temperatura supera los 30‚Äì31¬∞C ‚Üí estr√©s ‚Üí expulsan zooxantelas ‚Üí muerte si persiste.</p>
</div>

<h4 class="mt-5">2. Factores Ambientales M√°s Cr√≠ticos</h4>
<ul class="fs-4">
    <li>Temperatura ‚Üí enzimas</li>
    <li>pH ‚Üí absorci√≥n de nutrientes</li>
    <li>Salinidad ‚Üí osmorregulaci√≥n</li>
    <li>Ox√≠geno disuelto ‚Üí respiraci√≥n</li>
    <li>Luz ‚Üí fotos√≠ntesis y ritmos biol√≥gicos</li>
</ul>

<h4 class="mt-5 text-warning">3. Shelford vs Liebig</h4>
<div class="row text-center">
    <div class="col-md-6">
        <p class="fs-4 text-danger">Liebig (1840)</p>
        <p>‚ÄúSolo importa el m√≠nimo‚Äù</p>
    </div>
    <div class="col-md-6">
        <p class="fs-4 text-success">Shelford (1913)</p>
        <p>‚ÄúEl m√≠nimo Y el m√°ximo importan‚Äù</p>
    </div>
</div>

<h4 class="mt-5">4. Aplicaciones Brutales</h4>
<ul class="fs-4">
    <li>Distribuci√≥n de especies y biomas</li>
    <li>√âxito de especies invasoras ‚Üí eurioicas (amplio rango)</li>
    <li>Cambio clim√°tico ‚Üí migraci√≥n o extinci√≥n</li>
    <li>Acuicultura y agricultura de precisi√≥n</li>
</ul>
HTML
,
    'ejercicios' => [
        ['enunciado' => 'Enuncia la Ley de Shelford en una frase', 'respuesta' => 'La presencia y √©xito de un organismo dependen de que los factores ambientales est√©n dentro de su rango de tolerancia'],
        ['enunciado' => 'Nombra las 5 zonas de la curva de tolerancia', 'respuesta' => 'Letal m√≠nima ‚Üí Estr√©s m√≠nimo ‚Üí √ìptimo ‚Üí Estr√©s m√°ximo ‚Üí Letal m√°xima'],
        ['enunciado' => '¬øQu√© le pasa a una especie fuera de su rango √≥ptimo?', 'respuesta' => 'Sufre estr√©s fisiol√≥gico, menor crecimiento y reproducci√≥n'],
        ['enunciado' => '¬øQu√© significa ‚Äúestenoterma‚Äù?', 'respuesta' => 'Tolerancia estrecha a la temperatura'],
        ['enunciado' => '¬øQu√© significa ‚Äúeurihalina‚Äù?', 'respuesta' => 'Tolerancia amplia a la salinidad'],
        ['enunciado' => '¬øPor qu√© los corales blanquean?', 'respuesta' => 'Temperatura supera el m√°ximo tolerable ‚Üí estr√©s t√©rmico ‚Üí expulsi√≥n de zooxantelas'],
        ['enunciado' => '¬øPor qu√© las especies invasoras son tan exitosas?', 'respuesta' => 'Tienen rangos de tolerancia muy amplios (generalistas)'],
        ['enunciado' => '¬øC√≥mo afecta el cambio clim√°tico seg√∫n Shelford?', 'respuesta' => 'Muchas especies salen de su rango √≥ptimo ‚Üí migraci√≥n o extinci√≥n'],
        ['enunciado' => 'Diferencia entre nicho fundamental y nicho realizado', 'respuesta' => 'Fundamental = rango total sin competencia ‚îÇ Realizado = rango ocupado con interacciones bi√≥ticas'],
        ['enunciado' => '¬øQu√© especie tiene mayor probabilidad de sobrevivir al cambio clim√°tico?', 'respuesta' => 'La que tenga el rango de tolerancia m√°s amplio'],
        ['enunciado' => '¬øEn qu√© a√±o public√≥ Shelford su ley?', 'respuesta' => '1913'],
        ['enunciado' => '¬øLa curva de tolerancia siempre es sim√©trica?', 'respuesta' => 'No, suele ser asim√©trica (ej. muchas especies toleran m√°s fr√≠o que calor)']
    ],

    'quiz' => [
        // F√ÅCIL
        ['pregunta' => 'La Ley de Shelford tambi√©n se conoce como...', 'opciones' => ['Ley del m√≠nimo', 'Ley de la tolerancia', 'Ley del m√°ximo', 'Ley del promedio'], 'correcta' => 'Ley de la tolerancia'],
        ['pregunta' => 'Autor de la ley', 'opciones' => ['Justus von Liebig', 'Victor Shelford', 'Frederick Blackman', 'Eugene Odum'], 'correcta' => 'Victor Shelford'],
        ['pregunta' => 'A√±o de publicaci√≥n', 'opciones' => ['1840', '1913', '1939', '1969'], 'correcta' => '1913'],
        ['pregunta' => 'Forma de la curva de tolerancia', 'opciones' => ['Lineal', 'Campana (gaussiana)', 'Exponencial', 'Constante'], 'correcta' => 'Campana (gaussiana)'],
        ['pregunta' => 'En el rango √≥ptimo la poblaci√≥n es...', 'opciones' => ['M√≠nima', 'M√°xima', 'Cero', 'Estable'], 'correcta' => 'M√°xima'],
        ['pregunta' => 'Fuera de las zonas letales ocurre...', 'opciones' => ['Muerte inmediata', 'Estr√©s fisiol√≥gico', 'Crecimiento m√°ximo', 'Reproducci√≥n'], 'correcta' => 'Estr√©s fisiol√≥gico'],
        ['pregunta' => 'Especies con rango de tolerancia amplio', 'opciones' => ['Estenoicas', 'Eurioicas', 'End√©micas', 'Relictas'], 'correcta' => 'Eurioicas'],
        ['pregunta' => 'Especies con rango estrecho', 'opciones' => ['Eurioicas', 'Estenoicas', 'Cosmopolitas', 'Invasoras'], 'correcta' => 'Estenoicas'],
        ['pregunta' => 'Estenoterma significa...', 'opciones' => ['Tolerancia estrecha a temperatura', 'Tolerancia amplia a temperatura', 'Tolerancia a salinidad', 'Tolerancia a pH'], 'correcta' => 'Tolerancia estrecha a temperatura'],
        ['pregunta' => 'Eurihalina significa...', 'opciones' => ['Tolerancia estrecha a salinidad', 'Tolerancia amplia a salinidad', 'Tolerancia a temperatura', 'Tolerancia a luz'], 'correcta' => 'Tolerancia amplia a salinidad'],

        // MEDIO
        ['pregunta' => 'Los corales blanquean por...', 'opciones' => ['Baja temperatura', 'Alta temperatura', 'Baja salinidad', 'Exceso de luz'], 'correcta' => 'Alta temperatura'],
        ['pregunta' => 'Especies invasoras suelen ser...', 'opciones' => ['Estenoicas', 'Eurioicas', 'End√©micas', 'Relictas'], 'correcta' => 'Eurioicas'],
        ['pregunta' => 'El cambio clim√°tico afecta principalmente por...', 'opciones' => ['Cambiar el m√≠nimo', 'Cambiar el m√°ximo de temperatura', 'Ambos', 'Ninguno'], 'correcta' => 'Ambos'],
        ['pregunta' => 'Nicho fundamental es...', 'opciones' => ['Con competencia', 'Sin competencia (solo factores abi√≥ticos)', 'Con depredadores', 'Solo bi√≥ticos'], 'correcta' => 'Sin competencia (solo factores abi√≥ticos)'],
        ['pregunta' => 'Nicho realizado es...', 'opciones' => ['Te√≥rico m√°ximo', 'Real con interacciones bi√≥ticas', 'Siempre m√°s grande', 'Siempre m√°s peque√±o'], 'correcta' => 'Real con interacciones bi√≥ticas'],
        ['pregunta' => 'En acuicultura se controla estrictamente...', 'opciones' => ['Solo temperatura', 'Temperatura, pH, O‚ÇÇ, salinidad', 'Solo alimento', 'Solo luz'], 'correcta' => 'Temperatura, pH, O‚ÇÇ, salinidad'],
        ['pregunta' => 'La curva de tolerancia puede ser...', 'opciones' => ['Siempre sim√©trica', 'Asim√©trica', 'Siempre plana', 'Lineal'], 'correcta' => 'Asim√©trica'],
        ['pregunta' => 'Shelford era por profesi√≥n...', 'opciones' => ['Qu√≠mico agr√≠cola', 'Ec√≥logo animal', 'Bot√°nico', 'F√≠sico'], 'correcta' => 'Ec√≥logo animal'],
        ['pregunta' => 'En el √Årtico, muchas especies est√°n limitadas por...', 'opciones' => ['M√°ximo de temperatura', 'M√≠nimo de temperatura', 'Salinidad', 'Luz'], 'correcta' => 'M√≠nimo de temperatura'],
        ['pregunta' => 'En el tr√≥pico, muchas especies est√°n limitadas por...', 'opciones' => ['M√≠nimo de temperatura', 'M√°ximo de temperatura', 'Agua', 'Nutrientes'], 'correcta' => 'M√°ximo de temperatura'],

        // DIF√çCIL
        ['pregunta' => 'Modelo matem√°tico m√°s usado para la curva de tolerancia', 'opciones' => ['Lineal', 'Gaussiana', 'Exponencial', 'Log√≠stica'], 'correcta' => 'Gaussiana'],
        ['pregunta' => 'Especies end√©micas de islas suelen ser...', 'opciones' => ['Eurioicas', 'Estenoicas', 'Cosmopolitas', 'Migratorias'], 'correcta' => 'Estenoicas'],
        ['pregunta' => 'En experimentos de laboratorio se mide la tolerancia con...', 'opciones' => ['Supervivencia vs. gradiente del factor', 'Solo crecimiento', 'Solo peso', 'Solo color'], 'correcta' => 'Supervivencia vs. gradiente del factor'],
        ['pregunta' => 'La ley de Shelford se aplica a...', 'opciones' => ['Solo animales', 'Solo plantas', 'Todos los organismos', 'Solo microorganismos'], 'correcta' => 'Todos los organismos'],
        ['pregunta' => 'El blanqueamiento de corales es un ejemplo de...', 'opciones' => ['Estr√©s por m√≠nimo', 'Estr√©s por m√°ximo de temperatura', 'Falta de luz', 'Exceso de nutrientes'], 'correcta' => 'Estr√©s por m√°ximo de temperatura'],
        ['pregunta' => 'En lagos profundos, el ox√≠geno disuelto limita por...', 'opciones' => ['M√°ximo', 'M√≠nimo en hipolimnio', 'pH', 'Luz'], 'correcta' => 'M√≠nimo en hipolimnio'],
        ['pregunta' => 'La acidificaci√≥n oce√°nica afecta principalmente por...', 'opciones' => ['Bajar el pH (fuera del rango de muchos organismos)', 'Subir temperatura', 'Bajar salinidad', 'Aumentar luz'], 'correcta' => 'Bajar el pH (fuera del rango de muchos organismos)'],
        ['pregunta' => 'En el concepto de ‚Äúdeuda de extinci√≥n‚Äù del cambio clim√°tico se basa en...', 'opciones' => ['Liebig', 'Shelford', 'Lotka-Volterra', 'Hardin'], 'correcta' => 'Shelford'],
        ['pregunta' => '¬øQui√©n tiene mayor riesgo de extinci√≥n por calentamiento global?', 'opciones' => ['Especies euritermas', 'Especies estenotermas de alta monta√±a', 'Especies acu√°ticas', 'Especies invasoras'], 'correcta' => 'Especies estenotermas de alta monta√±a'],
        ['pregunta' => 'La Ley de Shelford es la base cient√≠fica de...', 'opciones' => ['Biogeograf√≠a', 'Modelos de distribuci√≥n de especies (SDM)', 'Predicci√≥n de invasiones', 'Todas las anteriores'], 'correcta' => 'Todas las anteriores']
    ]
];
/**
 * MATERIA: ECOSISTEMAS
 * TEMA: Factores Ambientales ‚Äì Abi√≥ticos + Bi√≥ticos + Conceptos Clave
 * ESTILO: Cyberpunk-ne√≥n total, SVG animado √âPICO, 30 quiz nivel experto
 */

$lecciones[] = [
    'materia' => 'Ecosistemas',
    'slug'    => 'factores-ambientales',
    'titulo'  => 'Factores Ambientales: Todo lo que Controla la Vida en el Planeta',

    'contenido' => <<<'HTML'

<h3 class="text-center display-4">Factores Ambientales</h3>
<p class="fs-4 text-center">Todo lo que influye en los organismos: lo vivo y lo no vivo</p>

<!-- SVG ANIMADO √âPICO: MATRIZ DE FACTORES -->
<div class="svg-diagram">
    <svg viewBox="0 0 1400 900" xmlns="http://www.w3.org/2000/svg">
        <rect width="1400" height="900" fill="#000"/>
        <defs>
            <filter id="glow"><feGaussianBlur stdDeviation="18" result="blur"/>
                <feFlood flood-color="#00ffff"/><feComposite in2="blur" operator="in"/>
                <feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>
            </filter>
            <filter id="glow-red"><feGaussianBlur stdDeviation="20" result="blur"/>
                <feFlood flood-color="#ff1744"/><feComposite in2="blur" operator="in"/>
                <feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>
            </filter>
        </defs>

        <!-- T√≠tulo ne√≥n -->
        <text x="700" y="100" fill="#ff00ff" font-size="90" font-weight="bold" text-anchor="middle" filter="url(#glow)">FACTORES AMBIENTALES</text>

        <!-- Nodo central: ORGANISMO -->
        <circle cx="700" cy="450" r="120" fill="#1de9b6" stroke="#00e676" stroke-width="15" filter="url(#glow)"/>
        <text x="700" y="440" fill="#000" font-size="48" font-weight="bold" text-anchor="middle">ORGANISMO</text>

        <!-- ABI√ìTICOS (izquierda) -->
        <rect x="80" y="180" width="300" height="500" rx="50" fill="#0d47a1" stroke="#00ffff" stroke-width="12" opacity="0.8" filter="url(#glow)"/>
        <text x="230" y="250" fill="#00ffff" font-size="50" font-weight="bold" text-anchor="middle" filter="url(#glow)">ABI√ìTICOS</text>
        <text x="230" y="320" fill="#fff" font-size="32" text-anchor="middle">Temperatura</text>
        <text x="230" y="380" fill="#fff" font-size="32" text-anchor="middle">Luz (PAR)</text>
        <text x="230" y="440" fill="#fff" font-size="32" text-anchor="middle">Agua</text>
        <text x="230" y="500" fill="#fff" font-size="32" text-anchor="middle">pH / Nutrientes</text>
        <text x="230" y="560" fill="#fff" font-size="32" text-anchor="middle">Ox√≠geno</text>

        <!-- BI√ìTICOS (derecha) -->
        <rect x="1020" y="180" width="300" height="500" rx="50" fill="#880e4f" stroke="#ff1744" stroke-width="12" opacity="0.8" filter="url(#glow-red)"/>
        <text x="1170" y="250" fill="#ff1744" font-size="50" font-weight="bold" text-anchor="middle" filter="url(#glow-red)">BI√ìTICOS</text>
        <text x="1170" y="320" fill="#fff" font-size="32" text-anchor="middle">Competencia</text>
        <text x="1170" y="380" fill="#fff" font-size="32" text-anchor="middle">Depredaci√≥n</text>
        <text x="1170" y="440" fill="#fff" font-size="32" text-anchor="middle">Mutualismo</text>
        <text x="1170" y="500" fill="#fff" font-size="32" text-anchor="middle">Parasitismo</text>
        <text x="1170" y="560" fill="#fff" font-size="32" text-anchor="middle">Comensalismo</text>

        <!-- Flechas animadas desde ambos lados -->
        <path d="M380 300 L580 430" stroke="#00ffff" stroke-width="14" marker-end="url(#arrow-cyan)" filter="url(#glow)">
            <animate attributeName="stroke-dashoffset" from="300" to="0" dur="3s" repeatCount="indefinite"/>
        </path>
        <path d="M380 450 L580 450" stroke="#00ffff" stroke-width="14" marker-end="url(#arrow-cyan)" filter="url(#glow)">
            <animate attributeName="stroke-dashoffset" from="300" to="0" dur="3s" repeatCount="indefinite"/>
        </path>
        <path d="M380 600 L580 470" stroke="#00ffff" stroke-width="14" marker-end="url(#arrow-cyan)" filter="url(#glow)">
            <animate attributeName="stroke-dashoffset" from="300" to="0" dur="3s" repeatCount="indefinite"/>
        </path>

        <path d="M1020 300 L820 430" stroke="#ff1744" stroke-width="14" marker-end="url(#arrow-red)" filter="url(#glow-red)">
            <animate attributeName="stroke-dashoffset" from="300" to="0" dur="3s" repeatCount="indefinite"/>
        </path>
        <path d="M1020 450 L820 450" stroke="#ff1744" stroke-width="14" marker-end="url(#arrow-red)" filter="url(#glow-red)">
            <animate attributeName="stroke-dashoffset" from="300" to="0" dur="3s" repeatCount="indefinite"/>
        </path>
        <path d="M1020 600 L820 470" stroke="#ff1744" stroke-width="14" marker-end="url(#arrow-red)" filter="url(#glow-red)">
            <animate attributeName="stroke-dashoffset" from="300" to="0" dur="3s" repeatCount="indefinite"/>
        </path>

        <defs>
            <marker id="arrow-cyan" markerWidth="30" markerHeight="30" refX="28" refY="15" orient="auto">
                <path d="M0,0 L30,15 L0,30 Z" fill="#00ffff"/>
            </marker>
            <marker id="arrow-red" markerWidth="30" markerHeight="30" refX="28" refY="15" orient="auto">
                <path d="M0,0 L30,15 L0,30 Z" fill="#ff1744"/>
            </marker>
        </defs>

        <!-- Leyenda final -->
        <text x="700" y="840" fill="#00ffff" font-size="44" text-anchor="middle" filter="url(#glow)">
            Abi√≥ticos + Bi√≥ticos = Distribuci√≥n, Abundancia y Supervivencia
        </text>
    </svg>
    <div class="caption">Matriz cyberpunk de Factores Ambientales ‚Äì Todo influye en todo</div>
</div>

<h4 class="mt-5">1. Factores Abi√≥ticos (No vivos)</h4>
<table class="table text-center fs-5">
    <tr><th>Factor</th><th>Rango t√≠pico</th><th>Efecto clave</th></tr>
    <tr><td>Temperatura</td><td>-50 a +50¬∞C</td><td>Velocidad enzim√°tica (Q‚ÇÅ‚ÇÄ)</td></tr>
    <tr><td>Luz (PAR)</td><td>400‚Äì700 nm</td><td>Fotos√≠ntesis</td></tr>
    <tr><td>Agua</td><td>0‚Äì100 % humedad</td><td>Hidrataci√≥n celular</td></tr>
    <tr><td>pH</td><td>0‚Äì14</td><td>Disponibilidad de iones</td></tr>
    <tr><td>Nutrientes</td><td>N, P, K, Fe‚Ä¶</td><td>Crecimiento (Liebig)</td></tr>
    <tr><td>Ox√≠geno</td><td>0‚Äì21 % atm / 0‚Äì14 mg/L agua</td><td>Respiraci√≥n aer√≥bica</td></tr>
</table>

<h4 class="mt-5">2. Factores Bi√≥ticos (Vivos)</h4>
<table class="table text-center fs-5">
    <tr><th>Interacci√≥n</th><th>Signo</th><th>Ejemplo</th></tr>
    <tr><td>Competencia</td><td>- / -</td><td>√Årboles por luz</td></tr>
    <tr><td>Depredaci√≥n</td><td>+ / -</td><td>Lobo ‚Üí ciervo</td></tr>
    <tr><td>Mutualismo</td><td>+ / +</td><td>Micorrizas ‚Üî planta</td></tr>
    <tr><td>Comensalismo</td><td>+ / 0</td><td>R√©mora ‚Üí tibur√≥n</td></tr>
    <tr><td>Parasitismo</td><td>+ / -</td><td>Garrapata ‚Üí mam√≠fero</td></tr>
</table>

<h4 class="mt-5 text-warning">3. Conceptos Clave</h4>
<div class="row text-center fs-4">
    <div class="col-md-4">
        <p class="text-danger">Liebig (1840)</p>
        <div class="eq">$$ P = k \cdot \min(f_1,f_2,\dots) $$</div>
    </div>
    <div class="col-md-4">
        <p class="text-success">Shelford (1913)</p>
        <p>Rango: m√≠nimo ‚Üí √≥ptimo ‚Üí m√°ximo</p>
    </div>
    <div class="col-md-4">
        <p class="text-info">Hutchinson (1957)</p>
        <p>Nicho = hipervolumen n-dimensional</p>
    </div>
</div>

<h4 class="mt-5">4. Interacci√≥n Real = Nunca un solo factor</h4>
<div class="ejemplo">
    <p class="fs-4">En un bosque tropical: la luz limita en el sotobosque aunque haya agua y nutrientes de sobra.</p>
</div>
HTML
,
    'ejercicios' => [
        ['enunciado' => 'Clasifica como abi√≥tico o bi√≥tico: depredaci√≥n', 'respuesta' => 'Bi√≥tico'],
        ['enunciado' => 'Clasifica: temperatura del agua', 'respuesta' => 'Abi√≥tico'],
        ['enunciado' => 'Clasifica: competencia por pareja', 'respuesta' => 'Bi√≥tico'],
        ['enunciado' => '¬øQu√© factor abi√≥tico mide el PAR?', 'respuesta' => 'Luz (radiaci√≥n fotosint√©ticamente activa)'],
        ['enunciado' => 'En el desierto, ¬øcu√°l es el factor limitante principal?', 'respuesta' => 'Agua'],
        ['enunciado' => 'En el oc√©ano profundo, ¬øqu√© factor abi√≥tico limita la vida?', 'respuesta' => 'Luz (falta de ella)'],
        ['enunciado' => '¬øQu√© interacci√≥n bi√≥tica es +/+?', 'respuesta' => 'Mutualismo'],
        ['enunciado' => '¬øQu√© interacci√≥n es -/-?', 'respuesta' => 'Competencia'],
        ['enunciado' => 'Define nicho ecol√≥gico', 'respuesta' => 'El rol funcional y el espacio f√≠sico que ocupa una especie en el ecosistema'],
        ['enunciado' => 'Diferencia nicho fundamental y realizado', 'respuesta' => 'Fundamental = sin competencia (te√≥rico) ‚îÇ Realizado = con interacciones bi√≥ticas (real)'],
        ['enunciado' => 'Escribe la f√≥rmula conceptual de Liebig', 'respuesta' => 'P = min(f‚ÇÅ, f‚ÇÇ, ‚Ä¶) o P = k ¬∑ min(f‚ÇÅ, f‚ÇÇ, ‚Ä¶)'],
        ['enunciado' => '¬øQu√© dos factores principales determinan los biomas terrestres?', 'respuesta' => 'Temperatura + precipitaci√≥n']
    ],

    'quiz' => [
        // F√ÅCIL
        ['pregunta' => 'Factores abi√≥ticos son...', 'opciones' => ['Vivos', 'No vivos', 'Solo plantas', 'Solo animales'], 'correcta' => 'No vivos'],
        ['pregunta' => 'Ejemplo de factor abi√≥tico', 'opciones' => ['Depredaci√≥n', 'Competencia', 'Temperatura', 'Simbiosis'], 'correcta' => 'Temperatura'],
        ['pregunta' => 'Ejemplo de factor bi√≥tico', 'opciones' => ['Luz', 'pH', 'Depredaci√≥n', 'Agua'], 'correcta' => 'Depredaci√≥n'],
        ['pregunta' => 'PAR significa...', 'opciones' => ['Presi√≥n atmosf√©rica', 'Radiaci√≥n fotosint√©ticamente activa', 'Potencial de agua', 'pH √°cido'], 'correcta' => 'Radiaci√≥n fotosint√©ticamente activa'],
        ['pregunta' => 'En el desierto el factor limitante es...', 'opciones' => ['Luz', 'Agua', 'Nutrientes', 'Competencia'], 'correcta' => 'Agua'],
        ['pregunta' => 'En la tundra el factor limitante es...', 'opciones' => ['Agua', 'Temperatura', 'Luz', 'Ox√≠geno'], 'correcta' => 'Temperatura'],
        ['pregunta' => 'Interacci√≥n +/+', 'opciones' => ['Competencia', 'Mutualismo', 'Parasitismo', 'Depredaci√≥n'], 'correcta' => 'Mutualismo'],
        ['pregunta' => 'Interacci√≥n -/-', 'opciones' => ['Mutualismo', 'Competencia', 'Comensalismo', 'Depredaci√≥n'], 'correcta' => 'Competencia'],
        ['pregunta' => 'Autor de la Ley del M√≠nimo', 'opciones' => ['Shelford', 'Liebig', 'Hutchinson', 'Odum'], 'correcta' => 'Liebig'],
        ['pregunta' => 'Autor de la Ley de Tolerancia', 'opciones' => ['Liebig', 'Shelford', 'Blackman', 'Elton'], 'correcta' => 'Shelford'],

        // MEDIO
        ['pregunta' => 'Nicho fundamental es...', 'opciones' => ['Con competencia', 'Sin competencia', 'Con depredadores', 'Solo f√≠sico'], 'correcta' => 'Sin competencia'],
        ['pregunta' => 'Nicho realizado es...', 'opciones' => ['Te√≥rico', 'Real con interacciones bi√≥ticas', 'Siempre m√°s grande', 'Siempre m√°s peque√±o'], 'correcta' => 'Real con interacciones bi√≥ticas'],
        ['pregunta' => 'El nicho es un concepto...', 'opciones' => ['1-dimensional', 'n-dimensional (Hutchinson)', '2-dimensional', 'Lineal'], 'correcta' => 'n-dimensional (Hutchinson)'],
        ['pregunta' => 'Los biomas terrestres se definen principalmente por...', 'opciones' => ['Solo temperatura', 'Solo precipitaci√≥n', 'Temperatura + precipitaci√≥n', 'Solo suelo'], 'correcta' => 'Temperatura + precipitaci√≥n'],
        ['pregunta' => 'En el sotobosque de un bosque tropical limita...', 'opciones' => ['Agua', 'Nutrientes', 'Luz', 'Temperatura'], 'correcta' => 'Luz'],
        ['pregunta' => 'En acuicultura se controla estrictamente...', 'opciones' => ['Solo temperatura', 'T, pH, O‚ÇÇ disuelto, salinidad', 'Solo alimento', 'Solo luz'], 'correcta' => 'T, pH, O‚ÇÇ disuelto, salinidad'],
        ['pregunta' => 'Competencia intraespec√≠fica es...', 'opciones' => ['Entre especies distintas', 'Dentro de la misma especie', 'Solo plantas', 'Solo animales'], 'correcta' => 'Dentro de la misma especie'],
        ['pregunta' => 'Micorrizas ‚Üî planta es un ejemplo de...', 'opciones' => ['Parasitismo', 'Competencia', 'Mutualismo', 'Comensalismo'], 'correcta' => 'Mutualismo'],
        ['pregunta' => 'F√≥rmula conceptual de Liebig', 'opciones' => ['P = max(f)', 'P = min(f)', 'P = avg(f)', 'P = sum(f)'], 'correcta' => 'P = min(f)'],
        ['pregunta' => 'Curva de Shelford tiene forma de...', 'opciones' => ['L√≠nea recta', 'Campana', 'Exponencial', 'Constante'], 'correcta' => 'Campana'],

        // DIF√çCIL
        ['pregunta' => 'El hipervolumen de nicho fue propuesto por...', 'opciones' => ['Liebig', 'Shelford', 'Hutchinson', 'Elton'], 'correcta' => 'Hutchinson'],
        ['pregunta' => 'Interacci√≥n +/0', 'opciones' => ['Mutualismo', 'Comensalismo', 'Parasitismo', 'Competencia'], 'correcta' => 'Comensalismo'],
        ['pregunta' => 'En zonas HNLC del oc√©ano limita...', 'opciones' => ['Nitr√≥geno', 'F√≥sforo', 'Hierro', 'Luz'], 'correcta' => 'Hierro'],
        ['pregunta' => 'Los dos factores que m√°s explican la distribuci√≥n global de biomas son...', 'opciones' => ['Luz y agua', 'Temperatura y precipitaci√≥n', 'pH y O‚ÇÇ', 'Suelo y viento'], 'correcta' => 'Temperatura y precipitaci√≥n'],
        ['pregunta' => 'En limnolog√≠a, el f√≥sforo es limitante en la mayor√≠a de lagos porque...', 'opciones' => ['Es abundante', 'Es el m√°s escaso en agua dulce', 'Es t√≥xico', 'No se recicla'], 'correcta' => 'Es el m√°s escaso en agua dulce'],
        ['pregunta' => 'El principio de exclusi√≥n competitiva de Gause se basa en...', 'opciones' => ['Liebig', 'Shelford', 'Competencia por nicho id√©ntico', 'Mutualismo'], 'correcta' => 'Competencia por nicho id√©ntico'],
        ['pregunta' => 'En experimentos de mesocosmos se manipulan...', 'opciones' => ['Solo un factor', 'M√∫ltiples factores a la vez', 'Solo temperatura', 'Solo luz'], 'correcta' => 'M√∫ltiples factores a la vez'],
        ['pregunta' => 'El modelo de distribuci√≥n de especies (SDM) se basa principalmente en...', 'opciones' => ['Factores bi√≥ticos', 'Factores abi√≥ticos', 'Solo clima', 'Solo suelo'], 'correcta' => 'Factores abi√≥ticos'],
        ['pregunta' => 'Liebig + Shelford juntos explican...', 'opciones' => ['Solo el m√≠nimo', 'M√≠nimo y m√°ximo tolerable', 'Solo el √≥ptimo', 'Solo competencia'], 'correcta' => 'M√≠nimo y m√°ximo tolerable'],
        ['pregunta' => 'El factor que m√°s influye en la tasa metab√≥lica de los organismos es...', 'opciones' => ['pH', 'Luz', 'Temperatura', 'Salinidad'], 'correcta' => 'Temperatura']
    ]
];
/**
 * MATERIA: ECOSISTEMAS
 * TEMA: Biomas Terrestres y Acu√°ticos ‚Äì La Gran Divisi√≥n Ecol√≥gica del Planeta
 * ESTILO: Cyberpunk-ne√≥n total, SVG ANIMADO √âPICO Y 100 % LEGIBLE
 */

$lecciones[] = [
    'materia' => 'Ecosistemas',
    'slug'    => 'biomas',
    'titulo'  => 'Biomas del Planeta: Las Grandes Regiones Ecol√≥gicas',

    'contenido' => <<<'HTML'
<h3 class="text-center display-4">BIOMAS DEL PLANETA</h3>
<p class="fs-4 text-center">Las grandes regiones ecol√≥gicas definidas por clima + vegetaci√≥n + fauna</p>

<!-- SVG ANIMADO √âPICO, LIMPIO Y 100 % LEGIBLE -->
<div class="svg-diagram">
    <svg viewBox="0 0 1400 900" xmlns="http://www.w3.org/2000/svg">
        <rect width="1400" height="900" fill="#000"/>

        <defs>
            <filter id="glow"><feGaussianBlur stdDeviation="20" result="blur"/>
                <feFlood flood-color="#00ffff"/><feComposite in2="blur" operator="in"/>
                <feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>
            </filter>
        </defs>

        <!-- T√≠tulo ne√≥n gigante -->
        <text x="700" y="100" fill="#ff00ff" font-size="90" font-weight="bold" text-anchor="middle" filter="url(#glow)">BIOMAS TERRESTRES</text>

        <!-- 7 Biomas principales con colores oficiales y etiquetas claras -->
        <!-- 1. Tundra -->
        <rect x="100" y="180" width="280" height="140" rx="30" fill="#e3f2fd" stroke="#bbdefb" stroke-width="8" filter="url(#glow)"/>
        <text x="240" y="240" fill="#0d47a1" font-size="42" font-weight="bold" text-anchor="middle">TUNDRA</text>
        <text x="240" y="290" fill="#bbdefb" font-size="28" text-anchor="middle">-30 a 5 ¬∞C ‚îÇ &lt;250 mm</text>

        <!-- 2. Taiga / Bosque Boreal -->
        <rect x="420" y="180" width="300" height="140" rx="30" fill="#1b5e20" stroke="#4caf50" stroke-width="8" filter="url(#glow)"/>
        <text x="570" y="240" fill="#c8e6c9" font-size="42" font-weight="bold" text-anchor="middle">TAIGA</text>
        <text x="570" y="290" fill="#a5d6a7" font-size="28" text-anchor="middle">-40 a 15 ¬∞C ‚îÇ Con√≠feras</text>

        <!-- 3. Bosque Templado -->
        <-->
        <rect x="760" y="180" width="540" height="140" rx="30" fill="#33691e" stroke="#8bc34a" stroke-width="8" filter="url(#glow)"/>
        <text x="1030" y="240" fill="#dcffdc" font-size="42" font-weight="bold" text-anchor="middle">BOSQUE TEMPLADO</text>
        <text x="1030" y="290" fill="#c8e6c9" font-size="26" text-anchor="middle">Caducifolios ‚îÇ 750-1500 mm</text>

        <!-- 4. Selva Tropical -->
        <rect x="100" y="380" width="380" height="160" rx="30" fill="#1b5e20" stroke="#00e676" stroke-width="10" filter="url(#glow)"/>
        <text x="290" y="450" fill="#b9f6ca" font-size="48" font-weight="bold" text-anchor="middle">SELVA TROPICAL</text>
        <text x="290" y="510" fill="#69f0ae" font-size="32" text-anchor="middle">>2000 mm ‚îÇ +100 000 spp.</text>

        <!-- 5. Sabana -->
        <rect x="520" y="380" width="300" height="160" rx="30" fill="#f9a825" stroke="#ffeb3b" stroke-width="8" filter="url(#glow)"/>
        <text x="670" y="450" fill="#212121" font-size="44" font-weight="bold" text-anchor="middle">SABANA</text>
        <text x="670" y="510" fill="#ffca28" font-size="28" text-anchor="middle">Pastos + acacias ‚îÇ 20-30 ¬∞C</text>

        <!-- 6. Pradera Templada -->
        <rect x="860" y="380" width="440" height="160" rx="30" fill="#827717" stroke="#cddc39" stroke-width="8" filter="url(#glow)"/>
        <text x="1080" y="450" fill="#f0f4c3" font-size="44" font-weight="bold" text-anchor="middle">PRADERA</text>
        <text x="1080" y="510" fill="#dce775" font-size="28" text-anchor="middle">Gram√≠neas ‚îÇ 250-750 mm</text>

        <!-- 7. Desierto -->
        <rect x="300" y="580" width="800" height="160" rx="30" fill="#ff8f00" stroke="#ffc107" stroke-width="10" filter="url(#glow)"/>
        <text x="700" y="650" fill="#212121" font-size="52" font-weight="bold" text-anchor="middle">DESIERTO</text>
        <text x="700" y="710" fill="#ffca28" font-size="34" text-anchor="middle">&lt;250 mm ‚îÇ Cactus y suculentas</text>

        <!-- Animaci√≥n de aparici√≥n secuencial -->
        <animate href="#tundra" attributeName="opacity" from="0" to="1" dur="1s" begin="0.5s" fill="freeze"/>
        <animate href="#taiga" attributeName="opacity" from="0" to="1" dur="1s" begin="1.2s" fill="freeze"/>
        <animate href="#templado" attributeName="opacity" from="0" to="1" dur="1s" begin="1.9s" fill="freeze"/>
        <animate href="#selva" attributeName="opacity" from="0" to="1" dur="1s" begin="2.6s" fill="freeze"/>
        <animate href="#sabana" attributeName="opacity" from="0" to="1" dur="1s" begin="3.3s" fill="freeze"/>
        <animate href="#pradera" attributeName="opacity" from="0" to="1" dur="1s" begin="4s" fill="freeze"/>
        <animate href="#desierto" attributeName="opacity" from="0" to="1" dur="1s" begin="4.7s" fill="freeze"/>

        <!-- Leyenda final -->
        <text x="700" y="840" fill="#00ffff" font-size="46" text-anchor="middle" filter="url(#glow)">
            Clima + Vegetaci√≥n = Bioma
        </text>
    </svg>
    <div class="caption">Mapa animado cyberpunk de los 7 grandes biomas terrestres ‚Äì 100 % legible y √©pico</div>
</div>

<h4 class="mt-5">1. Biomas Terrestres ‚Äì Tabla Resumen</h4>
<table class="table text-center fs-5">
    <tr><th>Bioma</th><th>Temperatura</th><th>Precipitaci√≥n</th><th>Vegetaci√≥n dominante</th><th>Ejemplo animal</th></tr>
    <tr><td>Tundra</td><td>-30 a 5¬∞C</td><td>&lt;250 mm</td><td>Musgos, l√≠quenes</td><td>Reno, lemming</td></tr>
    <tr><td>Taiga (boreal)</td><td>-40 a 15¬∞C</td><td>300‚Äì800 mm</td><td>Con√≠feras</td><td>Alce, lince</td></tr>
    <tr><td>Bosque templado</td><td>0 a 20¬∞C</td><td>750‚Äì1500 mm</td><td>Caducifolios</td><td>Ciervo, oso pardo</td></tr>
    <tr><td>Selva tropical</td><td>20‚Äì30¬∞C</td><td>&gt;2000 mm</td><td>Dosel + ep√≠fitas</td><td>Jaguar, tuc√°n</td></tr>
    <tr><td>Sabana</td><td>20‚Äì30¬∞C</td><td>500‚Äì1500 mm</td><td>Pastos + acacias</td><td>Le√≥n, cebra</td></tr>
    <tr><td>Pradera templada</td><td>-10 a 30¬∞C</td><td>250‚Äì750 mm</td><td>Gram√≠neas altas</td><td>Bisonte, coyote</td></tr>
    <tr><td>Desierto</td><td>20‚Äì40¬∞C</td><td>&lt;250 mm</td><td>Cactus, suculentas</td><td>Camello, escorpi√≥n</td></tr>
</table>

<h4 class="mt-5">2. Biomas Acu√°ticos Principales</h4>
<table class="table text-center fs-5">
    <tr><th>Bioma</th><th>Tipo</th><th>Productividad</th><th>Ejemplo</th></tr>
    <tr><td>Lagos y lagunas</td><td>Dulce</td><td>Media-alta</td><td>Baikal, Titicaca</td></tr>
    <tr><td>R√≠os y corrientes</td><td>Dulce</td><td>Alta en ox√≠geno</td><td>Amazonas, Nilo</td></tr>
    <tr><td>Humedales</td><td>Dulce</td><td>MUY ALTA</td><td>Everglades, Pantanal</td></tr>
    <tr><td>Oc√©ano abierto</td><td>Marino</td><td>Baja (excepto upwelling)</td><td>Pac√≠fico</td></tr>
    <tr><td>Arrecifes coralinos</td><td>Marino</td><td>ALTA + biodiversidad</td><td>Gran Barrera</td></tr>
    <tr><td>Estuarios</td><td>Transici√≥n</td><td>ALTA (nutrientes)</td><td>Delta del Amazonas</td></tr>
</table>

<h4 class="mt-5 text-warning">3. Los Dos Factores que lo Deciden Todo</h4>
<p class="fs-4 text-center"><strong>Temperatura media anual + Precipitaci√≥n anual</strong> ‚Üí Esquema de Whittaker (1975¬™ edici√≥n)</p>
HTML
,
    'ejercicios' => [
        ['enunciado' => '¬øCu√°l es el bioma terrestre m√°s fr√≠o del planeta?', 'respuesta' => 'Tundra'],
        ['enunciado' => '¬øCu√°l es el bioma terrestre con mayor biodiversidad?', 'respuesta' => 'Selva tropical'],
        ['enunciado' => 'Bioma caracterizado por con√≠feras y inviernos muy largos', 'respuesta' => 'Taiga o bosque boreal'],
        ['enunciado' => 'Bioma con precipitaciones menores a 250 mm/a√±o', 'respuesta' => 'Desierto'],
        ['enunciado' => 'Bioma con m√°s de 2000 mm/a√±o y temperatura constante', 'respuesta' => 'Selva tropical'],
        ['enunciado' => 'Bioma acu√°tico con la mayor productividad primaria por m¬≤', 'respuesta' => 'Arrecifes coralinos o humedales'],
        ['enunciado' => 'Bioma de transici√≥n entre agua dulce y salada', 'respuesta' => 'Estuario'],
        ['enunciado' => '¬øQu√© mide un climograma?', 'respuesta' => 'Temperatura y precipitaci√≥n mensual'],
        ['enunciado' => 'Bioma que cubre el 71 % de la superficie terrestre', 'respuesta' => 'Oc√©ano'],
        ['enunciado' => 'Bioma terrestre que almacena m√°s carbono org√°nico', 'respuesta' => 'Selva tropical'],
        ['enunciado' => 'Nombre del esquema cl√°sico que relaciona T + P con biomas', 'respuesta' => 'Diagrama o tri√°ngulo de Whittaker'],
        ['enunciado' => 'Bioma con permafrost y menos de 100 especies de aves', 'respuesta' => 'Tundra']
    ],

    'quiz' => [
        // F√ÅCIL (10)
        ['pregunta' => 'Los biomas se definen principalmente por...', 'opciones' => ['Solo animales', 'Clima y vegetaci√≥n dominante', 'Altitud', 'Pa√≠s'], 'correcta' => 'Clima y vegetaci√≥n dominante'],
        ['pregunta' => 'Bioma m√°s biodiverso del planeta', 'opciones' => ['Tundra', 'Desierto', 'Selva tropical', 'Taiga'], 'correcta' => 'Selva tropical'],
        ['pregunta' => 'Bioma con con√≠feras y largos inviernos', 'opciones' => ['Selva', 'Taiga', 'Pradera', 'Sabana'], 'correcta' => 'Taiga'],
        ['pregunta' => 'Desierto se caracteriza por...', 'opciones' => ['>2000 mm', '<250 mm/a√±o', '1000 mm', '500 mm'], 'correcta' => '<250 mm/a√±o'],
        ['pregunta' => 'Sabana tiene vegetaci√≥n de...', 'opciones' => ['√Årboles altos', 'Pastos con √°rboles dispersos', 'Solo cactus', 'Musgos'], 'correcta' => 'Pastos con √°rboles dispersos'],
        ['pregunta' => 'Tundra tiene como vegetaci√≥n dominante...', 'opciones' => ['Cactus', 'Musgos y l√≠quenes', 'Palmeras', 'Con√≠feras'], 'correcta' => 'Musgos y l√≠quenes'],
        ['pregunta' => 'Bioma acu√°tico con corales', 'opciones' => ['Lago', 'R√≠o', 'Arrecife coralino', 'Estuario'], 'correcta' => 'Arrecife coralino'],
        ['pregunta' => 'Bioma dulce con mayor productividad', 'opciones' => ['Oc√©ano', 'Lago profundo', 'Humedal', 'R√≠o r√°pido'], 'correcta' => 'Humedal'],
        ['pregunta' => 'Selva tropical temperatura promedio', 'opciones' => ['5¬∞C', '25¬∞C', '40¬∞C', '-15¬∞C'], 'correcta' => '25¬∞C'],
        ['pregunta' => 'Pradera tambi√©n se conoce como...', 'opciones' => ['Steppe', 'Jungla', 'Boreal', 'Matorral'], 'correcta' => 'Steppe'],

        // MEDIO (10)
        ['pregunta' => 'Climograma muestra...', 'opciones' => ['Solo temperatura', 'Temperatura + precipitaci√≥n', 'Solo viento', 'Solo luz'], 'correcta' => 'Temperatura + precipitaci√≥n'],
        ['pregunta' => 'Bioma con mayor cobertura global', 'opciones' => ['Selva', 'Oc√©ano', 'Desierto', 'Tundra'], 'correcta' => 'Oc√©ano'],
        ['pregunta' => 'Bioma que almacena m√°s carbono', 'opciones' => ['Tundra', 'Selva tropical', 'Desierto', 'Taiga'], 'correcta' => 'Selva tropical'],
        ['pregunta' => 'Estuario es mezcla de...', 'opciones' => ['Agua dulce + salada', 'Solo dulce', 'Solo salada', 'Agua + petr√≥leo'], 'correcta' => 'Agua dulce + salada'],
        ['pregunta' => 'Taiga tambi√©n se llama...', 'opciones' => ['Bosque mediterr√°neo', 'Bosque boreal', 'Selva nublada', 'Matorral'], 'correcta' => 'Bosque boreal'],
        ['pregunta' => 'Bosque templado tiene √°rboles...', 'opciones' => ['Siempreverdes', 'Caducifolios', 'Cactus', 'Palmeras'], 'correcta' => 'Caducifolios'],
        ['pregunta' => 'Bioma con permafrost', 'opciones' => ['Desierto', 'Tundra', 'Sabana', 'Selva'], 'correcta' => 'Tundra'],
        ['pregunta' => 'Mayor NPP (Productividad Primaria Neta) en:', 'opciones' => ['Tundra', 'Selva tropical', 'Desierto', 'Oc√©ano abierto'], 'correcta' => 'Selva tropical'],
        ['pregunta' => 'Menor NPP en:', 'opciones' => ['Selva', 'Desierto', 'Sabana', 'Taiga'], 'correcta' => 'Desierto'],
        ['pregunta' => 'Gran Barrera de Coral es un...', 'opciones' => ['Lago', 'Arrecife', 'R√≠o', 'Humedal'], 'correcta' => 'Arrecife'],

        // DIF√çCIL (10)
        ['pregunta' => 'El esquema cl√°sico de clasificaci√≥n de biomas se llama...', 'opciones' => ['Diagrama de Walter', 'Tri√°ngulo de Whittaker', 'C√≠rculo de Holdridge', 'Cuadrado de Odum'], 'correcta' => 'Tri√°ngulo de Whittaker'],
        ['pregunta' => 'Bioma con mayor biomasa a√©rea', 'opciones' => ['Pradera', 'Selva tropical', 'Tundra', 'Desierto'], 'correcta' => 'Selva tropical'],
        ['pregunta' => 'Bioma con mayor albedo (refleja m√°s luz solar)', 'opciones' => ['Selva', 'Tundra con nieve', 'Oc√©ano', 'Desierto'], 'correcta' => 'Tundra con nieve'],
        ['pregunta' => 'Bioma que m√°s influye en el ciclo global del agua', 'opciones' => ['Desierto', 'Selva tropical (transpiraci√≥n)', 'Tundra', 'Pradera'], 'correcta' => 'Selva tropical (transpiraci√≥n)'],
        ['pregunta' => 'Mayor riesgo actual de desaparici√≥n por deforestaci√≥n', 'opciones' => ['Tundra', 'Selva tropical', 'Taiga', 'Pradera'], 'correcta' => 'Selva tropical'],
        ['pregunta' => 'Bioma con mayor n√∫mero de especies end√©micas', 'opciones' => ['Tundra', 'Selva tropical', 'Desierto', 'Taiga'], 'correcta' => 'Selva tropical'],
        ['pregunta' => 'En el oc√©ano, la zona con mayor productividad primaria es...', 'opciones' => ['Abisal', 'Zona ner√≠tica / upwelling', 'Pel√°gica abierta', 'Bent√≥nica'], 'correcta' => 'Zona ner√≠tica / upwelling'],
        ['pregunta' => 'Bioma con mayor √°rea protegida mundialmente', 'opciones' => ['Selva', 'Oc√©ano (√°reas marinas protegidas)', 'Tundra', 'Desierto'], 'correcta' => 'Oc√©ano (√°reas marinas protegidas)'],
        ['pregunta' => 'Seg√∫n Whittaker, el bioma depende de dos variables principales:', 'opciones' => ['Latitud y altitud', 'Temperatura media anual y precipitaci√≥n anual', 'pH y luz', 'Suelo y viento'], 'correcta' => 'Temperatura media anual y precipitaci√≥n anual'],
        ['pregunta' => 'El bioma ‚ÄúMatorral mediterr√°neo‚Äù se caracteriza por...', 'opciones' => ['Veranos secos + inviernos suaves', 'Inviernos secos', 'Lluvia todo el a√±o', 'Nieve constante'], 'correcta' => 'Veranos secos + inviernos suaves']
    ]
];
// ========================================
// MATERIA: ECOSISTEMAS
// SUBTEMA: Redes Tr√≥ficas (Complejidad, Flujo, Estabilidad)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Ecosistemas',
    'slug' => 'redes-troficas',
    'titulo' => 'Redes Tr√≥ficas: El Tejido Energ√©tico de los Ecosistemas',
    'contenido' => '
        <h3>¬øQu√© son las Redes Tr√≥ficas?</h3>
        <p>Las <strong>redes tr√≥ficas</strong> son <strong>mapas complejos</strong> de <strong>interacciones alimentarias</strong> en un ecosistema. A diferencia de las <strong>cadenas alimentarias lineales</strong>, incluyen:</p>
        <ul>
            <li><strong>M√∫ltiples conexiones</strong></li>
            <li><strong>Omn√≠voros</strong></li>
            <li><strong>Bucles tr√≥ficos</strong></li>
            <li><strong>Descomponedores</strong></li>
        </ul>
        <p>Representan el <strong>flujo de energ√≠a</strong> y <strong>ciclo de materia</strong> con realismo.</p>

        <hr style="border:1px dashed #00ff00;">

        <h4>1. Niveles Tr√≥ficos</h4>
        <table class="table">
            <thead>
                <tr><th>Nivel</th><th>Ejemplo</th><th>Energ√≠a disponible</th></tr>
            </thead>
            <tbody>
                <tr><td>Productores</td><td>Plantas, fitoplancton</td><td>100%</td></tr>
                <tr><td>Consumidores primarios</td><td>Herb√≠voros</td><td>~10%</td></tr>
                <tr><td>Consumidores secundarios</td><td>Carn√≠voros</td><td>~1%</td></tr>
                <tr><td>Consumidores terciarios</td><td>Superpredadores</td><td>~0.1%</td></tr>
                <tr><td>Descomponedores</td><td>Hongos, bacterias</td><td>Reciclan</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>√Årbol ‚Üí oruga ‚Üí p√°jaro ‚Üí halc√≥n</strong> + <strong>oruga ‚Üí rat√≥n ‚Üí zorro</strong> = red tr√≥fica.</p>
        </div>

        <div class="visual">
            <img src="assets/img/red-trofica.webp" alt="Red tr√≥fica bosque templado">
            <p><em>Red tr√≥fica en bosque templado. Fuente: Britannica.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>2. Ley del 10% (Lindeman)</h4>
        <p>Solo ~10% de la energ√≠a pasa de un nivel tr√≥fico al siguiente.</p>
        <p>\\[ E_{n+1} = 0.1 \\times E_n \\]</p>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> 10,000 kJ de plantas ‚Üí 1,000 kJ herb√≠voros ‚Üí 100 kJ carn√≠voros ‚Üí 10 kJ superpredador.</p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>3. Cadena vs Red Tr√≥fica</h4>
        <table class="table">
            <thead>
                <tr><th>Caracter√≠stica</th><th>Cadena</th><th>Red</th></tr>
            </thead>
            <tbody>
                <tr><td>Estructura</td><td>Lineal</td><td>Compleja, interconectada</td></tr>
                <tr><td>Realismo</td><td>Bajo</td><td>Alto</td></tr>
                <tr><td>Estabilidad</td><td>Fr√°gil</td><td>Resiliente</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/trofica.multiples.webp" alt="Red tr√≥fica completa">
            <p><em>Red tr√≥fica con m√∫ltiples caminos. Fuente: GeeksforGeeks.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>4. √çndices de Complejidad</h4>
        <ul>
            <li><strong>Conectancia:</strong> \\( C = \\frac{L}{S^2} \\)</li>
            <li><strong>Especies (S)</strong>, <strong>Enlaces (L)</strong></li>
            <li><strong>Omn√≠voros:</strong> Comen &gt;1 nivel</li>
            <li><strong>Bucles:</strong> A ‚Üí B ‚Üí C ‚Üí A</li>
        </ul>

        <div class="visual">
            <img src="assets/img/red-trofica-rios.png" alt="Red tr√≥fica r√≠o">
            <p><em>Red tr√≥fica en r√≠o con bucles. Fuente: ResearchGate.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>5. Estabilidad y Resiliencia</h4>
        <p>Redes complejas son m√°s <strong>estables</strong> ante perturbaciones.</p>
        <p><strong>Ejemplo:</strong> Si desaparece un herb√≠voro, otro lo reemplaza.</p>

        <div class="visual">
            <img src="assets/img/complejidad-estabilidad.png" alt="Estabilidad red tr√≥fica">
            <p><em>Complejidad vs estabilidad. Fuente: Science of the Total Environment.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/red-trofica-global.png" alt="Red tr√≥fica global">
            <p><em>Red tr√≥fica global. Fuente: Nature.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/topologico.png" alt="An√°lisis de redes">
            <p><em>An√°lisis topol√≥gico de redes tr√≥ficas. Fuente: PNAS.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>6. SVG Animado: Red Tr√≥fica Din√°mica</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 700 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Niveles -->
                <rect x="300" y="350" width="100" height="80" fill="#228B22" rx="15"/> <!-- Productores -->
                <text x="350" y="390" fill="white" font-size="14" text-anchor="middle">Productores</text>

                <rect x="150" y="230" width="100" height="80" fill="#FFD700" rx="15"/> <!-- Primarios -->
                <text x="200" y="270" fill="black" font-size="12" text-anchor="middle">Herb√≠voros</text>

                <rect x="450" y="230" width="100" height="80" fill="#FF4500" rx="15"/> <!-- Secundarios -->
                <text x="500" y="270" fill="white" font-size="12" text-anchor="middle">Carn√≠voros</text>

                <rect x="300" y="100" width="100" height="80" fill="#DC143C" rx="15"/> <!-- Terciarios -->
                <text x="350" y="140" fill="white" font-size="12" text-anchor="middle">Superpredador</text>

                <!-- Descomponedores -->
                <circle cx="350" cy="450" r="40" fill="#8B4513"/>
                <text x="350" y="455" fill="white" font-size="10" text-anchor="middle">Descomponedores</text>

                <!-- Flechas con energ√≠a -->
                <defs>
                    <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto">
                        <path d="M0,0 L0,6 L9,3 z" fill="#00ff00"/>
                    </marker>
                </defs>

                <!-- Flujos -->
                <path d="M350 350 L200 310" stroke="#00ff00" stroke-width="4" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="50" to="0" dur="2s" repeatCount="indefinite"/>
                </path>
                <path d="M350 350 L500 310" stroke="#00ff00" stroke-width="4" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="50" to="0" dur="2.5s" repeatCount="indefinite"/>
                </path>
                <path d="M200 230 L350 180" stroke="#ffcc00" stroke-width="3" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="40" to="0" dur="1.8s" repeatCount="indefinite"/>
                </path>
                <path d="M500 230 L350 180" stroke="#ffcc00" stroke-width="3" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="40" to="0" dur="2.2s" repeatCount="indefinite"/>
                </path>
                <path d="M350 450 Q300 400 250 310" stroke="#8B4513" stroke-width="3" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="60" to="0" dur="3s" repeatCount="indefinite"/>
                </path>
                <path d="M350 450 Q400 400 450 310" stroke="#8B4513" stroke-width="3" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="60" to="0" dur="3.5s" repeatCount="indefinite"/>
                </path>

                <!-- T√≠tulo -->
                <text x="350" y="50" fill="#ffcc00" font-size="20" text-anchor="middle" font-family="Arial">Red Tr√≥fica</text>
            </svg>
            <p><em>SVG Animado: Flujo de energ√≠a desde productores hasta descomponedores.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => '¬øQu√© es una red tr√≥fica?', 'respuesta' => 'Interconexi√≥n de cadenas alimentarias'],
        ['enunciado' => '¬øQui√©n est√° en la base?', 'respuesta' => 'Productores'],
        ['enunciado' => '¬øQu√© hace un descomponedor?', 'respuesta' => 'Recicla materia org√°nica'],

        // === APLICADOS ===
        ['enunciado' => '¬øPor qu√© un zorro es omn√≠voro?', 'respuesta' => 'Come plantas y animales'],
        ['enunciado' => '¬øCu√°nta energ√≠a llega al nivel 3?', 'respuesta' => '~1% (ley del 10%)'],
        ['enunciado' => '¬øPor qu√© hay menos superpredadores?', 'respuesta' => 'Poca energ√≠a disponible'],

        // === ECOL√ìGICOS ===
        ['enunciado' => '¬øQu√© pasa si eliminas un herb√≠voro?', 'respuesta' => 'Otros pueden compensar (red estable)'],
        ['enunciado' => '¬øQu√© es un bucle tr√≥fico?', 'respuesta' => 'A come B, B come C, C come A'],
        ['enunciado' => '¬øQu√© mide la conectancia?', 'respuesta' => 'Densidad de interacciones'],

        // === AVANZADOS ===
        ['enunciado' => 'F√≥rmula de Lindeman', 'respuesta' => '\\( E_{n+1} = 0.1 \\times E_n \\)'],
        ['enunciado' => 'F√≥rmula de conectancia', 'respuesta' => '\\( C = \\frac{L}{S^2} \\)'],
        ['enunciado' => '¬øQu√© es un nodo clave (keystone)?', 'respuesta' => 'Especie con impacto desproporcionado']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Redes tr√≥ficas muestran...', 'opciones' => ['Cadenas lineales', 'Interconexiones', 'Solo plantas', 'Clima'], 'correcta' => 'Interconexiones'],
        ['pregunta' => 'Base de la red:', 'opciones' => ['Carn√≠voros', 'Productores', 'Descomponedores', 'Herb√≠voros'], 'correcta' => 'Productores'],
        ['pregunta' => 'Energ√≠a fluye de...', 'opciones' => ['Arriba a abajo', 'Abajo a arriba', 'Circular', 'Aleatorio'], 'correcta' => 'Abajo a arriba'],
        ['pregunta' => 'Descomponedores...', 'opciones' => ['Consumen energ√≠a', 'Reciclan materia', 'Producen luz', 'Nada'], 'correcta' => 'Reciclan materia'],
        ['pregunta' => 'Omn√≠voro come...', 'opciones' => ['Solo plantas', 'Solo carne', 'Ambos', 'Nada'], 'correcta' => 'Ambos'],
        ['pregunta' => 'Ley del 10% dice...', 'opciones' => ['90% pasa', '10% pasa', '100% pasa', '0% pasa'], 'correcta' => '10% pasa'],
        ['pregunta' => 'Cadena es...', 'opciones' => ['Compleja', 'Lineal', 'Circular', '3D'], 'correcta' => 'Lineal'],
        ['pregunta' => 'Red es m√°s...', 'opciones' => ['Fr√°gil', 'Estable', 'Simple', 'R√°pida'], 'correcta' => 'Estable'],
        ['pregunta' => 'Superpredador es...', 'opciones' => ['Nivel 1', 'Nivel 4', 'Productor', 'Descomponedor'], 'correcta' => 'Nivel 4'],
        ['pregunta' => 'Autor de la ley del 10%:', 'opciones' => ['Liebig', 'Lindeman', 'Shelford', 'Elton'], 'correcta' => 'Lindeman'],

        // === MEDIO (10) ===
        ['pregunta' => 'Conectancia mide...', 'opciones' => ['Especies', 'Enlaces por especie¬≤', 'Energ√≠a', 'Biomasa'], 'correcta' => 'Enlaces por especie¬≤'],
        ['pregunta' => 'Bucle tr√≥fico es...', 'opciones' => ['A ‚Üí B ‚Üí A', 'A ‚Üí B ‚Üí C', 'A ‚Üí A', 'B ‚Üí A ‚Üí C'], 'correcta' => 'A ‚Üí B ‚Üí A'],
        ['pregunta' => 'Especie clave (keystone):', 'opciones' => ['Abundante', 'Impacto alto', 'Peque√±a', 'Grande'], 'correcta' => 'Impacto alto'],
        ['pregunta' => 'Si C = 0.1, red es...', 'opciones' => ['Simple', 'Compleja', 'Imposible', 'Lineal'], 'correcta' => 'Simple'],
        ['pregunta' => 'En pir√°mide de energ√≠a:', 'opciones' => ['Base ancha', 'Base estrecha', 'Constante', 'Invertida'], 'correcta' => 'Base ancha'],
        ['pregunta' => 'Descomponedores son...', 'opciones' => ['Heter√≥trofos', 'Aut√≥trofos', 'Fotosint√©ticos', 'Quimiosint√©ticos'], 'correcta' => 'Heter√≥trofos'],
        ['pregunta' => 'En red, energ√≠a se...', 'opciones' => ['Recicla', 'Pierde como calor', 'Aumenta', 'Conserva'], 'correcta' => 'Pierde como calor'],
        ['pregunta' => 'Red con m√°s enlaces es...', 'opciones' => ['Fr√°gil', 'Resiliente', 'Lenta', 'Peque√±a'], 'correcta' => 'Resiliente'],
        ['pregunta' => 'Ejemplo de keystone:', 'opciones' => ['Lobo', 'Conejo', 'Planta', 'Bacteria'], 'correcta' => 'Lobo'],
        ['pregunta' => 'F√≥rmula conectancia:', 'opciones' => ['C = S/L', 'C = L/S¬≤', 'C = S¬≤/L', 'C = L/S'], 'correcta' => 'C = L/S¬≤'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'Red con C > 0.3 es...', 'opciones' => ['Simple', 'Muy compleja', 'Imposible', 'Lineal'], 'correcta' => 'Muy compleja'],
        ['pregunta' => 'Modelo de Elton (1927):', 'opciones' => ['Pir√°mide de n√∫meros', 'Red tr√≥fica', 'Ciclo', 'Flujo'], 'correcta' => 'Pir√°mide de n√∫meros'],
        ['pregunta' => 'En cascada tr√≥fica, eliminar depredador causa...', 'opciones' => ['Menos plantas', 'M√°s plantas', 'Nada', 'Menos herb√≠voros'], 'correcta' => 'M√°s plantas'],
        ['pregunta' => 'Red tr√≥fica global tiene ~...', 'opciones' => ['100 especies', '10,000 especies', '1M especies', '100M especies'], 'correcta' => '10,000 especies'],
        ['pregunta' => 'An√°lisis de redes usa...', 'opciones' => ['Gr√°ficos', 'Teor√≠a de grafos', '√Ålgebra', 'Geometr√≠a'], 'correcta' => 'Teor√≠a de grafos'],
        ['pregunta' => 'Nodo con m√°s enlaces es...', 'opciones' => ['Perif√©rico', 'Central (hub)', 'Aislado', 'Muerto'], 'correcta' => 'Central (hub)'],
        ['pregunta' => 'En red marina, base es...', 'opciones' => ['Pez', 'Fitoplancton', 'Ballena', 'Coral'], 'correcta' => 'Fitoplancton'],
        ['pregunta' => 'En red terrestre, base es...', 'opciones' => ['√Årboles', 'Animales', 'Hongos', 'Bacterias'], 'correcta' => '√Årboles'],
        ['pregunta' => 'Red m√°s estudiada:', 'opciones' => ['Bosque', 'Oc√©ano pel√°gico', 'Desierto', 'Tundra'], 'correcta' => 'Oc√©ano pel√°gico'],
        ['pregunta' => 'Red con m√°s bucles es...', 'opciones' => ['Simple', 'Compleja', 'Lineal', 'Peque√±a'], 'correcta' => 'Compleja']
    ]
];
// ========================================
// MATERIA: ECOSISTEMAS
// SUBTEMA: Relaciones Ecol√≥gicas (Simbiosis, Depredaci√≥n, Competencia)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Ecosistemas',
    'slug' => 'relaciones-ecosistemas',
    'titulo' => 'Relaciones Ecol√≥gicas: El Tejido Vivo de los Ecosistemas',
    'contenido' => '
        <h3>Relaciones Ecol√≥gicas</h3>
        <p>Las <strong>interacciones bi√≥ticas</strong> entre organismos determinan:</p>
        <ul>
            <li><strong>Estructura</strong> de comunidades</li>
            <li><strong>Flujo de energ√≠a</strong></li>
            <li><strong>Estabilidad</strong> del ecosistema</li>
        </ul>
        <p>Se clasifican por <strong>efecto neto</strong> en cada especie: <code>+</code>, <code>-</code>, <code>0</code>.</p>

        <hr style="border:1px dashed #00ff00;">

        <h4>1. Tipos de Interacciones</h4>
        <table class="table">
            <thead>
                <tr><th>Interacci√≥n</th><th>Notaci√≥n</th><th>Ejemplo</th><th>Efecto</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Mutualismo</strong></td><td>+/+</td><td>Abeja ‚Üî Flor</td><td>Obligatorio o facultativo</td></tr>
                <tr><td><strong>Comensalismo</strong></td><td>+/0</td><td>R√©mora ‚Üî Tibur√≥n</td><td>Neutral para uno</td></tr>
                <tr><td><strong>Parasitismo</strong></td><td>+/-</td><td>Pulga ‚Üî Perro</td><td>Da√±o al hu√©sped</td></tr>
                <tr><td><strong>Depredaci√≥n</strong></td><td>+/-</td><td>Le√≥n ‚Üî Cebra</td><td>Muerte del presunto</td></tr>
                <tr><td><strong>Competencia</strong></td><td>-/-</td><td>√Årboles ‚Üî Luz</td><td>Exclusi√≥n competitiva</td></tr>
                <tr><td><strong>Amensalismo</strong></td><td>-/0</td><td>Penicilina ‚Üî Bacteria</td><td>Inhibici√≥n</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Mutualismo</strong>: Micorrizas (+ nutrientes al √°rbol, + az√∫cares al hongo).</p>
        </div>

        <div class="visual">
            <img src="assets/img/ecological-relationships-graphic_orig.png" alt="Relaciones ecol√≥gicas - Amoeba Sisters">
            <p><em>Diagrama completo de interacciones. Fuente: Amoeba Sisters.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>2. Simbiosis: Vida en Com√∫n</h4>
        <ul>
            <li><strong>Endosimbiosis:</strong> Un organismo vive dentro del otro</li>
            <li><strong>Ectosimbiosis:</strong> En superficie</li>
            <li><strong>Obligatoria:</strong> Sin el otro, muere</li>
            <li><strong>Facultativa:</strong> Puede sobrevivir solo</li>
        </ul>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Clownfish ‚Üî An√©mona</strong>: Pez protegido, an√©mona alimentada.</p>
        </div>

        <div class="visual">
            <img src="assets/img/relaciones.jpg" alt="Dibujo animado de relaciones">
            <p><em>Simbiosis, depredaci√≥n, competencia. Fuente: YouTube.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>3. Depredaci√≥n y Cascadas Tr√≥ficas</h4>
        <p>Eliminaci√≥n de un depredador ‚Üí explosi√≥n de presas ‚Üí colapso de plantas.</p>
        <p><strong>Ejemplo:</strong> Lobos en Yellowstone ‚Üí menos ciervos ‚Üí m√°s sauces ‚Üí m√°s castores.</p>

        <div class="visual">
            <img src="assets/img/trofica-artico.png" alt="Red tr√≥fica √°rtica">
            <p><em>Cascada tr√≥fica en oc√©ano √°rtico. Fuente: Study.com.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>4. Competencia: Lucha por Recursos</h4>
        <ul>
            <li><strong>Intraespec√≠fica:</strong> Misma especie</li>
            <li><strong>Interespec√≠fica:</strong> Diferentes especies</li>
            <li><strong>Principio de Exclusi√≥n (Gause):</strong> Dos especies no pueden ocupar el mismo nicho</li>
        </ul>

        <div class="visual">
            <img src="assets/img/gause.png" alt="Principio de Gause">
            <p><em>Competencia ‚Üí exclusi√≥n. Fuente: Wikipedia.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/competencia-arrecifes.png" alt="Competencia en arrecifes">
            <p><em>Competencia por espacio en corales. Fuente: Frontiers.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/interacciones-multiples.png" alt="Interacciones m√∫ltiples">
            <p><em>Red de interacciones bi√≥ticas. Fuente: Science of the Total Environment.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>5. Coevoluci√≥n</h4>
        <p>Especies evolucionan juntas por presi√≥n mutua.</p>
        <p><strong>Ejemplo:</strong> Flores con tubo largo ‚Üî polillas con lengua larga.</p>

        <hr style="border:1px dashed #00ff00;">

        <h4>6. SVG Animado: Red de Interacciones</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 700 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Especies -->
                <circle cx="150" cy="200" r="50" fill="#90EE90" stroke="#228B22" stroke-width="3"/>
                <text x="150" y="205" fill="#000" font-size="14" text-anchor="middle">Planta</text>

                <circle cx="350" cy="100" r="50" fill="#FFD700" stroke="#DAA520" stroke-width="3"/>
                <text x="350" y="105" fill="#000" font-size="14" text-anchor="middle">Abeja</text>

                <circle cx="550" cy="200" r="50" fill="#87CEEB" stroke="#4682B4" stroke-width="3"/>
                <text x="550" y="205" fill="#000" font-size="14" text-anchor="middle">P√°jaro</text>

                <circle cx="350" cy="300" r="50" fill="#FF6347" stroke="#DC143C" stroke-width="3"/>
                <text x="350" y="305" fill="#FFF" font-size="14" text-anchor="middle">Pulga</text>

                <circle cx="150" cy="350" r="50" fill="#DDA0DD" stroke="#8B008B" stroke-width="3"/>
                <text x="150" y="355" fill="#000" font-size="12" text-anchor="middle">Perro</text>

                <!-- Conexiones -->
                <defs>
                    <marker id="arrow-plus" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto">
                        <path d="M0,0 L0,6 L9,3 z" fill="#00ff00"/>
                    </marker>
                    <marker id="arrow-minus" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto">
                        <path d="M0,0 L0,6 L9,3 z" fill="#ff0000"/>
                    </marker>
                    <marker id="arrow-zero" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto">
                        <path d="M0,0 L0,6 L9,3 z" fill="#888"/>
                    </marker>
                </defs>

                <!-- Mutualismo (+/+) -->
                <path d="M200 200 Q250 150 300 100" stroke="#00ff00" stroke-width="4" marker-end="url(#arrow-plus)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2s" repeatCount="indefinite"/>
                </path>
                <path d="M300 100 Q250 150 200 200" stroke="#00ff00" stroke-width="4" marker-end="url(#arrow-plus)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2.2s" repeatCount="indefinite"/>
                </path>
                <text x="250" y="140" fill="#00ff00" font-size="12" text-anchor="middle">+/+</text>

                <!-- Comensalismo (+/0) -->
                <path d="M200 200 Q300 150 500 200" stroke="#888" stroke-width="3" marker-end="url(#arrow-zero)">
                    <animate attributeName="stroke-dashoffset" from="80" to="0" dur="2.5s" repeatCount="indefinite"/>
                </path>
                <text x="350" y="160" fill="#888" font-size="12" text-anchor="middle">+/0</text>

                <!-- Parasitismo (+/-) -->
                <path d="M200 350 Q250 325 300 300" stroke="#ff0000" stroke-width="4" marker-end="url(#arrow-minus)">
                    <animate attributeName="stroke-dashoffset" from="60" to="0" dur="1.8s" repeatCount="indefinite"/>
                </path>
                <text x="250" y="310" fill="#ff0000" font-size="12" text-anchor="middle">+/-</text>

                <!-- Depredaci√≥n (+/-) -->
                <path d="M150 250 Q250 150 350 130" stroke="#ff0000" stroke-width="4" marker-end="url(#arrow-minus)">
                    <animate attributeName="stroke-dashoffset" from="90" to="0" dur="3s" repeatCount="indefinite"/>
                </path>

                <!-- Competencia (-/-) -->
                <path d="M150 250 Q250 280 350 300" stroke="#ff00ff" stroke-width="3" stroke-dasharray="5,5"/>
                <text x="250" y="270" fill="#ff00ff" font-size="12" text-anchor="middle">-/-</text>

                <!-- T√≠tulo -->
                <text x="350" y="50" fill="#ffcc00" font-size="20" text-anchor="middle" font-family="Arial">Relaciones Ecol√≥gicas</text>
            </svg>
            <p><em>SVG Animado: Interacciones con efectos positivos, negativos y neutros.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Clasifica: Tibur√≥n y r√©mora', 'respuesta' => 'Comensalismo (+/0)'],
        ['enunciado' => 'Clasifica: Le√≥n y cebra', 'respuesta' => 'Depredaci√≥n (+/-)'],
        ['enunciado' => 'Clasifica: Dos √°rboles por luz', 'respuesta' => 'Competencia (-/-)'],

        // === APLICADOS ===
        ['enunciado' => '¬øQu√© es mutualismo obligatorio?', 'respuesta' => 'Ambos mueren sin el otro'],
        ['enunciado' => 'Ejemplo de amensalismo', 'respuesta' => '√Årbol sombrea hierba'],
        ['enunciado' => '¬øQu√© dice Gause?', 'respuesta' => 'Dos especies no ocupan mismo nicho'],

        // === ECOL√ìGICOS ===
        ['enunciado' => '¬øQu√© pasa si eliminas lobos?', 'respuesta' => 'Explosi√≥n de ciervos, menos plantas'],
        ['enunciado' => '¬øQu√© es coevoluci√≥n?', 'respuesta' => 'Especies evolucionan juntas'],
        ['enunciado' => '¬øQu√© es especie clave?', 'respuesta' => 'Impacto alto en comunidad'],

        // === AVANZADOS ===
        ['enunciado' => 'Dibuja: Mutualismo', 'respuesta' => 'A ‚Üí(+) B, B ‚Üí(+) A'],
        ['enunciado' => '¬øQu√© es facilitaci√≥n?', 'respuesta' => 'Una especie ayuda a otra sin da√±o'],
        ['enunciado' => '¬øQu√© mide √≠ndice de interacci√≥n?', 'respuesta' => 'Fuerza de la relaci√≥n']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Simbiosis incluye...', 'opciones' => ['Solo mutualismo', 'Mutualismo, comensalismo, parasitismo', 'Depredaci√≥n', 'Competencia'], 'correcta' => 'Mutualismo, comensalismo, parasitismo'],
        ['pregunta' => 'Depredaci√≥n es...', 'opciones' => ['+/+', '+/-', '-/-', '+/0'], 'correcta' => '+/-'],
        ['pregunta' => 'Comensalismo es...', 'opciones' => ['+/0', '-/0', '+/+', '-/-'], 'correcta' => '+/0'],
        ['pregunta' => 'Competencia afecta...', 'opciones' => ['Ambas negativamente', 'Una positivamente', 'Ninguna', 'Solo una'], 'correcta' => 'Ambas negativamente'],
        ['pregunta' => 'Mutualismo es...', 'opciones' => ['+/+', '+/-', '-/-', '+/0'], 'correcta' => '+/+'],
        ['pregunta' => 'Amensalismo es...', 'opciones' => ['-/0', '+/0', '-/-', '+/+'], 'correcta' => '-/0'],
        ['pregunta' => 'Autor de exclusi√≥n competitiva:', 'opciones' => ['Liebig', 'Gause', 'Shelford', 'Lotka'], 'correcta' => 'Gause'],
        ['pregunta' => 'Especie clave ejemplo:', 'opciones' => ['Conejo', 'Lobo', 'Planta', 'Bacteria'], 'correcta' => 'Lobo'],
        ['pregunta' => 'R√©mora y tibur√≥n:', 'opciones' => ['Mutualismo', 'Comensalismo', 'Parasitismo', 'Competencia'], 'correcta' => 'Comensalismo'],
        ['pregunta' => 'Abeja y flor:', 'opciones' => ['Comensalismo', 'Mutualismo', 'Parasitismo', 'Depredaci√≥n'], 'correcta' => 'Mutualismo'],

        // === MEDIO (10) ===
        ['pregunta' => 'Cascada tr√≥fica es...', 'opciones' => ['Efecto domin√≥', 'Ciclo', 'Competencia', 'Simbiosis'], 'correcta' => 'Efecto domin√≥'],
        ['pregunta' => 'Sin lobos en Yellowstone:', 'opciones' => ['M√°s sauces', 'Menos sauces', 'Nada', 'M√°s lobos'], 'correcta' => 'Menos sauces'],
        ['pregunta' => 'Coevoluci√≥n ejemplo:', 'opciones' => ['Flor y polilla', 'Le√≥n y cebra', '√Årbol y suelo', 'Pez y agua'], 'correcta' => 'Flor y polilla'],
        ['pregunta' => 'Endosimbiosis:', 'opciones' => ['Fuera', 'Dentro', 'Encima', 'Debajo'], 'correct Wikidata' => 'Dentro'],
        ['pregunta' => 'Facultativo significa...', 'opciones' => ['Obligatorio', 'Opcional', 'Mortal', 'Temporal'], 'correcta' => 'Opcional'],
        ['pregunta' => 'Intraespec√≠fica es...', 'opciones' => ['Entre especies', 'Dentro de especie', 'Con plantas', 'Con animales'], 'correcta' => 'Dentro de especie'],
        ['pregunta' => 'Principio de Gause:', 'opciones' => ['Dos nichos iguales', 'Un nicho por especie', 'Dos especies sin nicho', 'Ning√∫n nicho'], 'correcta' => 'Un nicho por especie'],
        ['pregunta' => 'Facilitaci√≥n es...', 'opciones' => ['Da√±o', 'Ayuda sin costo', 'Competencia', 'Depredaci√≥n'], 'correcta' => 'Ayuda sin costo'],
        ['pregunta' => 'Pulga en perro:', 'opciones' => ['Mutualismo', 'Parasitismo', 'Comensalismo', 'Competencia'], 'correcta' => 'Parasitismo'],
        ['pregunta' => '√Årbol sombrea hierba:', 'opciones' => ['Amensalismo', 'Competencia', 'Mutualismo', 'Depredaci√≥n'], 'correcta' => 'Amensalismo'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'Modelo Lotka-Volterra es para...', 'opciones' => ['Depredaci√≥n', 'Competencia', 'Simbiosis', 'Crecimiento'], 'correcta' => 'Depredaci√≥n'],
        ['pregunta' => 'En cascada, eliminar nivel 3 causa...', 'opciones' => ['Menos nivel 1', 'M√°s nivel 2', 'Menos nivel 2', 'Nada'], 'correcta' => 'M√°s nivel 2'],
        ['pregunta' => 'Especie ingeniera ejemplo:', 'opciones' => ['Castor', 'Conejo', 'P√°jaro', 'Pez'], 'correcta' => 'Castor'],
        ['pregunta' => 'Red de interacciones con m√°s +/+ es...', 'opciones' => ['Inestable', 'Estable', 'Simple', 'Peque√±a'], 'correcta' => 'Estable'],
        ['pregunta' => 'En arrecifes, competencia por...', 'opciones' => ['Luz', 'Espacio', 'Agua', 'O‚ÇÇ'], 'correcta' => 'Espacio'],
        ['pregunta' => 'Clownfish y an√©mona:', 'opciones' => ['Comensalismo', 'Mutualismo obligatorio', 'Parasitismo', 'Competencia'], 'correcta' => 'Mutualismo obligatorio'],
        ['pregunta' => 'Micorrizas son...', 'opciones' => ['Par√°sitos', 'Mutualistas', 'Competidores', 'Depredadores'], 'correcta' => 'Mutualistas'],
        ['pregunta' => 'Especie clave mantiene...', 'opciones' => ['Poblaci√≥n', 'Diversidad', 'Energ√≠a', 'Materia'], 'correcta' => 'Diversidad'],
        ['pregunta' => 'En modelos, interacci√≥n se mide con...', 'opciones' => ['Œ± (competencia)', 'Œ≤ (simbiosis)', 'Œ≥ (depredaci√≥n)', 'Œ¥ (crecimiento)'], 'correcta' => 'Œ± (competencia)'],
        ['pregunta' => 'Red m√°s resiliente tiene...', 'opciones' => ['Pocas interacciones', 'Muchas +/+', 'Solo -/-', 'Solo +/0'], 'correcta' => 'Muchas +/+']
    ]
];
// ========================================
// MATERIA: ECOSISTEMAS
// SUBTEMA: Homeostasis (Organismos y Ecosistemas)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Ecosistemas',
    'slug' => 'homeostasis',
    'titulo' => 'Homeostasis: El Equilibrio Din√°mico de la Vida',
    'contenido' => '
        <h3>¬øQu√© es la Homeostasis?</h3>
        <p>La <strong>homeostasis</strong> es el <strong>mantenimiento activo del equilibrio interno</strong> frente a cambios externos. Funciona mediante:</p>
        <ul>
            <li><strong>Retroalimentaci√≥n negativa</strong>: Reduce desviaciones</li>
            <li><strong>Retroalimentaci√≥n positiva</strong>: Amplifica (raro, inestable)</li>
            <li><strong>Sensores ‚Üí Control ‚Üí Efectores</strong></li>
        </ul>
        <p>Aplica a <strong>organismos</strong> y <strong>ecosistemas</strong>.</p>

        <hr style="border:1px dashed #00ff00;">

        <h4>1. Homeostasis en Organismos</h4>
        <table class="table">
            <thead>
                <tr><th>Variable</th><th>Valor √ìptimo</th><th>Mecanismo</th></tr>
            </thead>
            <tbody>
                <tr><td>Temperatura</td><td>37¬∞C (humanos)</td><td>Sudor, escalofr√≠os</td></tr>
                <tr><td>pH sangu√≠neo</td><td>7.35‚Äì7.45</td><td>Buffer, respiraci√≥n</td></tr>
                <tr><td>Glucosa</td><td>70‚Äì110 mg/dL</td><td>Insulina, glucag√≥n</td></tr>
                <tr><td>Osmolaridad</td><td>~300 mOsm/L</td><td>ADH, ri√±ones</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> Sudas ‚Üí enfr√≠as ‚Üí temperatura vuelve a 37¬∞C.</p>
        </div>

        <div class="visual">
            <img src="assets/img/retroali_negativa.webp" alt="Homeostasis humana">
            <p><em>Ciclo de retroalimentaci√≥n negativa. Fuente: GeeksforGeeks.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>2. Homeostasis en Ecosistemas</h4>
        <p>Mantiene:</p>
        <ul>
            <li><strong>Concentraci√≥n de nutrientes</strong></li>
            <li><strong>Poblaciones</strong></li>
            <li><strong>Flujo de energ√≠a</strong></li>
        </ul>

        <table class="table">
            <thead>
                <tr><th>Mecanismo</th><th>Ejemplo</th></tr>
            </thead>
            <tbody>
                <tr><td>Depredador-presa</td><td>Linces ‚Üí liebres</td></tr>
                <tr><td>Ciclo de nutrientes</td><td>Descomponedores ‚Üí N, P</td></tr>
                <tr><td>Competencia</td><td>Exclusi√≥n ‚Üí nichos</td></tr>
                <tr><td>Sucesi√≥n</td><td>Restauraci√≥n post-incendio</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> Aumento de algas ‚Üí m√°s peces ‚Üí m√°s garzas ‚Üí algas disminuyen ‚Üí equilibrio.</p>
        </div>

        <div class="visual">
            <img src="assets/img/retroali_eco.webp" alt="Homeostasis ecosist√©mica">
            <p><em>Retroalimentaci√≥n en ecosistemas. Fuente: Quizlet.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>3. Retroalimentaci√≥n Negativa vs Positiva</h4>
        <table class="table">
            <thead>
                <tr><th>Tipo</th><th>Efecto</th><th>Ejemplo</th></tr>
            </thead>
            <tbody>
                <tr><td>Negativa</td><td>Restaura</td><td>Depredaci√≥n</td></tr>
                <tr><td>Positiva</td><td>Amplifica</td><td>Eutrofizaci√≥n</td></tr>
            </tbody>
        </table>

        <p>Modelo simple:</p>
        <p>\\[ \\frac{dP}{dt} = rP \\left(1 - \\frac{P}{K}\\right) - cDP \\]</p>

        <div class="visual">
            <img src="/assets/img/equilibrio_dinamico.png" alt="Homeostasis ecosistema">
            <p><em>Equilibrio din√°mico. Fuente: Eco-intelligent.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>4. Resiliencia y Umbral</h4>
        <ul>
            <li><strong>Resiliencia:</strong> Capacidad de volver al equilibrio</li>
            <li><strong>Umbral (tipping point):</strong> Punto sin retorno</li>
        </ul>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> Acidificaci√≥n ‚Üí corales mueren ‚Üí no recuperaci√≥n.</p>
        </div>

        <div class="visual">
            <img src="assets/img/Resiliencia_colapso.png" alt="Umbral ecosist√©mico">
            <p><em>Resiliencia vs colapso. Fuente: Science of the Total Environment.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/retroalimentacion-biosfera.png" alt="Retroalimentaci√≥n global">
            <p><em>Retroalimentaci√≥n en biosfera. Fuente: Nature.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/resiliencia-paisajes.png" alt="Resiliencia">
            <p><em>Resiliencia en paisajes. Fuente: Landscape Ecology.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>5. SVG Animado: Ciclo de Homeostasis</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 700 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Centro: Equilibrio -->
                <circle cx="350" cy="250" r="80" fill="#87CEEB" stroke="#4682B4" stroke-width="4"/>
                <text x="350" y="245" fill="#000" font-size="18" text-anchor="middle">EQUILIBRIO</text>

                <!-- Perturbaci√≥n -->
                <circle cx="150" cy="150" r="50" fill="#FF6347" opacity="0.7"/>
                <text x="150" y="155" fill="white" font-size="12" text-anchor="middle">+ Nutrientes</text>

                <!-- Respuesta -->
                <circle cx="550" cy="150" r="50" fill="#32CD32" opacity="0.7"/>
                <text x="550" y="155" fill="white" font-size="12" text-anchor="middle">- Algas</text>

                <!-- Flechas animadas -->
                <defs>
                    <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto">
                        <path d="M0,0 L0,6 L9,3 z" fill="#00ff00"/>
                    </marker>
                </defs>

                <!-- Perturbaci√≥n ‚Üí Desequilibrio -->
                <path d="M200 150 Q250 200 300 220" stroke="#ff0000" stroke-width="5" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2s" repeatCount="indefinite"/>
                </path>
                <text x="250" y="190" fill="#ff0000" font-size="12" text-anchor="middle">Aumento algas</text>

                <!-- Respuesta ‚Üí Equilibrio -->
                <path d="M400 220 Q450 200 500 150" stroke="#00ff00" stroke-width="5" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2.5s" repeatCount="indefinite"/>
                </path>
                <text x="450" y="190" fill="#00ff00" font-size="12" text-anchor="middle">Peces comen</text>

                <!-- Ciclo completo -->
                <path d="M150 200 Q150 300 350 320 Q550 300 550 200" stroke="#888" stroke-width="3" stroke-dasharray="5,5"/>
                <text x="350" y="340" fill="#888" font-size="14" text-anchor="middle">Retroalimentaci√≥n Negativa</text>

                <!-- T√≠tulo -->
                <text x="350" y="50" fill="#ffcc00" font-size="20" text-anchor="middle" font-family="Arial">Homeostasis Ecosist√©mica</text>
            </svg>
            <p><em>SVG Animado: Perturbaci√≥n ‚Üí Desequilibrio ‚Üí Respuesta ‚Üí Equilibrio.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Define homeostasis', 'respuesta' => 'Mantenimiento del equilibrio interno'],
        ['enunciado' => '¬øQu√© tipo de retroalimentaci√≥n restaura?', 'respuesta' => 'Negativa'],
        ['enunciado' => 'Ejemplo en humanos', 'respuesta' => 'Temperatura corporal 37¬∞C'],

        // === APLICADOS ===
        ['enunciado' => 'En un lago, ¬øqu√© pasa si hay muchos nutrientes?', 'respuesta' => 'Eutrofizaci√≥n ‚Üí retroalimentaci√≥n positiva'],
        ['enunciado' => '¬øC√≥mo act√∫a un depredador?', 'respuesta' => 'Controla poblaci√≥n de presas'],
        ['enunciado' => '¬øQu√© es resiliencia?', 'respuesta' => 'Capacidad de volver al equilibrio'],

        // === ECOL√ìGICOS ===
        ['enunciado' => '¬øQu√© pasa tras un incendio?', 'respuesta' => 'Sucesi√≥n ‚Üí restauraci√≥n'],
        ['enunciado' => '¬øQu√© es un umbral?', 'respuesta' => 'Punto sin retorno'],
        ['enunciado' => '¬øC√≥mo los descomponedores ayudan?', 'respuesta' => 'Reciclan nutrientes'],

        // === AVANZADOS ===
        ['enunciado' => 'F√≥rmula b√°sica de Lotka-Volterra (presa)', 'respuesta' => '\\( \\frac{dN}{dt} = rN - cNP \\)'],
        ['enunciado' => '¬øQu√© mide la resiliencia?', 'respuesta' => 'Tiempo de retorno al equilibrio'],
        ['enunciado' => '¬øQu√© es estado alternativo?', 'respuesta' => 'Equilibrio distinto tras perturbaci√≥n']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Homeostasis es...', 'opciones' => ['Cambio constante', 'Equilibrio interno', 'Desequilibrio', 'Crecimiento'], 'correcta' => 'Equilibrio interno'],
        ['pregunta' => 'Retroalimentaci√≥n negativa...', 'opciones' => ['Amplifica', 'Restaura equilibrio', 'Destruye', 'Ignora'], 'correcta' => 'Restaura equilibrio'],
        ['pregunta' => 'Ejemplo en ecosistema:', 'opciones' => ['Depredador-presa', 'Solo clima', 'Solo plantas', 'Nada'], 'correcta' => 'Depredador-presa'],
        ['pregunta' => 'En humanos, regula...', 'opciones' => ['Temperatura', 'Todo', 'Solo comida', 'Nada'], 'correcta' => 'Temperatura'],
        ['pregunta' => 'Sensor en homeostasis:', 'opciones' => ['Detecta cambio', 'Ejecuta', 'Ignora', 'Amplifica'], 'correcta' => 'Detecta cambio'],
        ['pregunta' => 'Efectores son...', 'opciones' => ['M√∫sculos, gl√°ndulas', 'Sensores', 'Control', 'Nada'], 'correcta' => 'M√∫sculos, gl√°ndulas'],
        ['pregunta' => 'Retroalimentaci√≥n positiva...', 'opciones' => ['Estabiliza', 'Desestabiliza', 'Ignora', 'Equilibra'], 'correcta' => 'Desestabiliza'],
        ['pregunta' => 'En lago, muchos nutrientes ‚Üí', 'opciones' => ['Equilibrio', 'Eutrofizaci√≥n', 'Sequ√≠a', 'Fr√≠o'], 'correcta' => 'Eutrofizaci√≥n'],
        ['pregunta' => 'Descomponedores ayudan a...', 'opciones' => ['Crecimiento', 'Reciclar nutrientes', 'Depredar', 'Competir'], 'correcta' => 'Reciclar nutrientes'],
        ['pregunta' => 'Homeostasis es...', 'opciones' => ['Est√°tica', 'Din√°mica', 'Fija', 'Mortal'], 'correcta' => 'Din√°mica'],

        // === MEDIO (10) ===
        ['pregunta' => 'Resiliencia es...', 'opciones' => ['Capacidad de cambio', 'Capacidad de retorno', 'Fuerza', 'Tama√±o'], 'correcta' => 'Capacidad de retorno'],
        ['pregunta' => 'Umbral (tipping point):', 'opciones' => ['Punto de equilibrio', 'Punto sin retorno', 'Punto de crecimiento', 'Punto de inicio'], 'correcta' => 'Punto sin retorno'],
        ['pregunta' => 'Modelo Lotka-Volterra es para...', 'opciones' => ['Crecimiento', 'Depredaci√≥n', 'Competencia', 'Simbiosis'], 'correcta' => 'Depredaci√≥n'],
        ['pregunta' => 'En Yellowstone, lobos controlan...', 'opciones' => ['Ciervos', 'Plantas', 'R√≠os', 'Clima'], 'correcta' => 'Ciervos'],
        ['pregunta' => 'Sucesi√≥n restaura...', 'opciones' => ['Clima', 'Equilibrio', 'Poblaci√≥n', 'Energ√≠a'], 'correcta' => 'Equilibrio'],
        ['pregunta' => 'Estado alternativo es...', 'opciones' => ['Mismo equilibrio', 'Otro equilibrio', 'Desequilibrio', 'Crecimiento'], 'correcta' => 'Otro equilibrio'],
        ['pregunta' => 'En humanos, ADH regula...', 'opciones' => ['Agua', 'Glucosa', 'pH', 'Temperatura'], 'correcta' => 'Agua'],
        ['pregunta' => 'En ecosistema, N se recicla por...', 'opciones' => ['Plantas', 'Descomponedores', 'Animales', 'Luz'], 'correcta' => 'Descomponedores'],
        ['pregunta' => 'Retroalimentaci√≥n positiva en...', 'opciones' => ['Equilibrio', 'Crisis', 'Crecimiento', 'Estabilidad'], 'correcta' => 'Crisis'],
        ['pregunta' => 'Ecosistema resiliente vuelve en...', 'opciones' => ['A√±os', 'Siglos', 'Nunca', 'D√≠as'], 'correcta' => 'A√±os'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'F√≥rmula log√≠stica con depredaci√≥n:', 'opciones' => ['dN/dt = rN', 'dN/dt = rN(1-N/K) - cNP', 'dN/dt = rN + cNP', 'dN/dt = K'], 'correcta' => 'dN/dt = rN(1-N/K) - cNP'],
        ['pregunta' => 'En modelo, K es...', 'opciones' => ['Capacidad de carga', 'Crecimiento', 'Depredaci√≥n', 'Mortalidad'], 'correcta' => 'Capacidad de carga'],
        ['pregunta' => 'Ecosistema con alta resiliencia tiene...', 'opciones' => ['Pocas especies', 'Alta diversidad', 'Baja conectancia', 'Solo plantas'], 'correcta' => 'Alta diversidad'],
        ['pregunta' => 'Acidificaci√≥n oce√°nica es...', 'opciones' => ['Retro negativa', 'Umbral', 'Equilibrio', 'Crecimiento'], 'correcta' => 'Umbral'],
        ['pregunta' => 'En Amazon√≠a, deforestaci√≥n ‚Üí', 'opciones' => ['M√°s lluvia', 'Menos lluvia', 'Igual', 'M√°s CO‚ÇÇ'], 'correcta' => 'Menos lluvia'],
        ['pregunta' => 'Resiliencia se mide por...', 'opciones' => ['Tiempo de retorno', 'Tama√±o', 'Especies', 'Energ√≠a'], 'correcta' => 'Tiempo de retorno'],
        ['pregunta' => 'Ecosistema m√°s resiliente:', 'opciones' => ['Desierto', 'Selva tropical', 'Tundra', 'Lago peque√±o'], 'correcta' => 'Selva tropical'],
        ['pregunta' => 'En modelo, c es...', 'opciones' => ['Tasa de encuentro', 'Crecimiento', 'Capacidad', 'Mortalidad'], 'correcta' => 'Tasa de encuentro'],
        ['pregunta' => 'Eutrofizaci√≥n es retroalimentaci√≥n...', 'opciones' => ['Negativa', 'Positiva', 'Neutra', 'C√≠clica'], 'correcta' => 'Positiva'],
        ['pregunta' => 'Homeostasis global es...', 'opciones' => ['Gaia', 'Liebig', 'Shelford', 'Lotka'], 'correcta' => 'Gaia']
    ]
];
// ========================================
// MATERIA: ECOSISTEMAS
// SUBTEMA: Producci√≥n Primaria y Transferencia de Energ√≠a
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Ecosistemas',
    'slug' => 'produccion-primaria-transferencia-energia',
    'titulo' => 'Producci√≥n Primaria y Transferencia de Energ√≠a en Ecosistemas',
    'contenido' => '
        <h3>Producci√≥n Primaria: El Motor Energ√©tico</h3>
        <p>La <strong>producci√≥n primaria</strong> es la <strong>s√≠ntesis de materia org√°nica</strong> por <strong>aut√≥trofos</strong> usando energ√≠a solar (fotos√≠ntesis) o qu√≠mica (quimios√≠ntesis).</p>
        <p><strong>Unidades:</strong> g C/m¬≤/a√±o, kJ/m¬≤/a√±o, o kcal/m¬≤/d√≠a</p>

        <hr style="border:1px dashed #00ff00;">

        <h4>1. Tipos de Producci√≥n</h4>
        <table class="table">
            <thead>
                <tr><th>Tipo</th><th>Definici√≥n</th><th>F√≥rmula</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>GPP</strong> (Gross Primary Production)</td><td>Energ√≠a total captada</td><td>\\(\\text{GPP} = \\text{Fotos√≠ntesis bruta}\\)</td></tr>
                <tr><td><strong>NPP</strong> (Net Primary Production)</td><td>Energ√≠a disponible para consumidores</td><td>\\(\\text{NPP} = \\text{GPP} - R_a\\)</td></tr>
                <tr><td><strong>R_a</strong></td><td>Respiraci√≥n aut√≥trofa</td><td>~50% GPP</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> Selva: GPP = 3000 g C/m¬≤/a√±o ‚Üí NPP = 1500 g C/m¬≤/a√±o</p>
        </div>

        <div class="visual">
            <img src="assets/img/flujo-energetico.png" alt="Flujo de energ√≠a - Khan Academy">
            <p><em>Diagrama de flujo energ√©tico. Fuente: Khan Academy.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>2. Transferencia de Energ√≠a: Ley del 10%</h4>
        <p>Solo <strong>~10%</strong> de la energ√≠a se transfiere entre niveles tr√≥ficos. El 90% se pierde como:</p>
        <ul>
            <li><strong>Calor</strong> (2¬™ Ley Termodin√°mica)</li>
            <li><strong>Metabolismo</strong></li>
            <li><strong>Materia no digerida</strong></li>
        </ul>

        <p><strong>Eficiencia tr√≥fica:</strong> \\( E = \\frac{P_{n+1}}{P_n} \\approx 0.1 \\)</p>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> 10,000 kJ plantas ‚Üí 1,000 kJ herb√≠voros ‚Üí 100 kJ carn√≠voros ‚Üí 10 kJ superpredador</p>
        </div>

        <div class="visual">
            <img src="assets/img/Ecological_Pyramid.png" alt="Pir√°mide ecol√≥gica">
            <p><em>Pir√°mide de energ√≠a. Fuente: Wikipedia.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>3. Pir√°mides Ecol√≥gicas</h4>
        <table class="table">
            <thead>
                <tr><th>Tipo</th><th>Forma</th><th>Ejemplo</th></tr>
            </thead>
            <tbody>
                <tr><td>Energ√≠a</td><td>Siempre decreciente</td><td>10,000 ‚Üí 1,000 ‚Üí 100</td></tr>
                <tr><td>Biomasa</td><td>Generalmente decreciente</td><td>Excepto oc√©ano invertida</td></tr>
                <tr><td>N√∫meros</td><td>Puede invertirse</td><td>1 √°rbol ‚Üí 1000 insectos</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/energy-flow-in-an-ecosystem.jpg" alt="Flujo energ√≠a National Geographic">
            <p><em>Flujo de energ√≠a en ecosistema. Fuente: National Geographic.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>4. NPP por Bioma (g C/m¬≤/a√±o)</h4>
        <table class="table">
            <thead>
                <tr><th>Bioma</th><th>NPP</th></tr>
            </thead>
            <tbody>
                <tr><td>Selva tropical</td><td>1000‚Äì3500</td></tr>
                <tr><td>Bosque templado</td><td>600‚Äì2500</td></tr>
                <tr><td>Pradera</td><td>200‚Äì1500</td></tr>
                <tr><td>Desierto</td><td>&lt; 200</td></tr>
                <tr><td>Tundra</td><td>&lt; 140</td></tr>
                <tr><td>Oc√©ano abierto</td><td>100‚Äì400</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/npp-satelite.png" alt="NPP global NASA">
            <p><em>NPP global desde sat√©lite. Fuente: NASA Earth Observatory.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/mapa-global-npp.png" alt="NPP satelital">
            <p><em>Mapa global de NPP. Fuente: MDPI.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/eficiencia-bioma.png" alt="Eficiencia energ√©tica">
            <p><em>Eficiencia tr√≥fica por bioma. Fuente: Science of the Total Environment.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>5. SVG Animado: Transferencia de Energ√≠a</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 700 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Niveles -->
                <rect x="50" y="350" width="600" height="100" fill="#228B22" rx="20"/> <!-- Productores -->
                <text x="350" y="400" fill="white" font-size="18" text-anchor="middle">Productores (100%)</text>

                <rect x="150" y="230" width="400" height="80" fill="#FFD700" rx="15"/> <!-- Primarios -->
                <text x="350" y="270" fill="black" font-size="16" text-anchor="middle">Herb√≠voros (10%)</text>

                <rect x="250" y="130" width="200" height="60" fill="#FF6347" rx="10"/> <!-- Secundarios -->
                <text x="350" y="160" fill="white" font-size="14" text-anchor="middle">Carn√≠voros (1%)</text>

                <rect x="300" y="50" width="100" height="40" fill="#DC143C" rx="8"/> <!-- Terciarios -->
                <text x="350" y="75" fill="white" font-size="12" text-anchor="middle">0.1%</text>

                <!-- Flujo energ√©tico -->
                <defs>
                    <marker id="arrow" markerWidth="12" markerHeight="12" refX="10" refY="3" orient="auto">
                        <path d="M0,0 L0,6 L10,3 z" fill="#00ff00"/>
                    </marker>
                </defs>

                <!-- 100% ‚Üí 10% -->
                <path d="M350 350 L350 310" stroke="#00ff00" stroke-width="30" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2s" repeatCount="indefinite"/>
                </path>
                <text x="320" y="330" fill="#00ff00" font-size="14">1000 kJ</text>

                <!-- 10% ‚Üí 1% -->
                <path d="M350 230 L350 190" stroke="#ffcc00" stroke-width="20" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="80" to="0" dur="2.2s" repeatCount="indefinite"/>
                </path>
                <text x="320" y="210" fill="#ffcc00" font-size="12">100 kJ</text>

                <!-- 1% ‚Üí 0.1% -->
                <path d="M350 130 L350 100" stroke="#ff4500" stroke-width="12" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="60" to="0" dur="2.5s" repeatCount="indefinite"/>
                </path>
                <text x="320" y="115" fill="#ff4500" font-size="10">10 kJ</text>

                <!-- Calor perdido -->
                <text x="100" y="300" fill="#ff0000" font-size="12">90% Calor</text>
                <text x="200" y="200" fill="#ff0000" font-size="12">90% Calor</text>
                <text x="300" y="100" fill="#ff0000" font-size="12">90% Calor</text>

                <!-- T√≠tulo -->
                <text x="350" y="30" fill="#ffcc00" font-size="22" text-anchor="middle" font-family="Arial">Transferencia de Energ√≠a</text>
            </svg>
            <p><em>SVG Animado: Ley del 10% en acci√≥n.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => '¬øQu√© es GPP?', 'respuesta' => 'Producci√≥n primaria bruta'],
        ['enunciado' => '¬øQu√© es NPP?', 'respuesta' => 'GPP menos respiraci√≥n'],
        ['enunciado' => 'Eficiencia tr√≥fica promedio', 'respuesta' => '~10%'],

        // === APLICADOS ===
        ['enunciado' => 'Si GPP = 2000 kJ/m¬≤, ¬øcu√°nto NPP si R_a = 50%?', 'respuesta' => '1000 kJ/m¬≤'],
        ['enunciado' => '¬øCu√°nta energ√≠a llega al nivel 4 si plantas tienen 10000 kJ?', 'respuesta' => '10 kJ'],
        ['enunciado' => '¬øPor qu√© no hay nivel 6?', 'respuesta' => 'Energ√≠a insuficiente'],

        // === ECOL√ìGICOS ===
        ['enunciado' => '¬øQu√© bioma tiene mayor NPP?', 'respuesta' => 'Selva tropical'],
        ['enunciado' => '¬øPor qu√© oc√©ano tiene NPP baja?', 'respuesta' => 'Nutrientes limitantes'],
        ['enunciado' => '¬øQu√© mide sat√©lite MODIS?', 'respuesta' => 'NPP global'],

        // === AVANZADOS ===
        ['enunciado' => 'F√≥rmula NPP', 'respuesta' => '\\(\\text{NPP} = \\text{GPP} - R_a\\)'],
        ['enunciado' => 'Eficiencia = ?', 'respuesta' => '\\( E = \\frac{P_{n+1}}{P_n} \\)'],
        ['enunciado' => '¬øQu√© es PAR?', 'respuesta' => 'Radiaci√≥n fotosint√©ticamente activa']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Producci√≥n primaria es...', 'opciones' => ['Consumo', 'S√≠ntesis org√°nica', 'Descomposici√≥n', 'Transferencia'], 'correcta' => 'S√≠ntesis org√°nica'],
        ['pregunta' => 'Energ√≠a transferida entre niveles:', 'opciones' => ['100%', '10%', '50%', '1%'], 'correcta' => '10%'],
        ['pregunta' => 'P√©rdida principal de energ√≠a:', 'opciones' => ['Calor', 'Luz', 'Agua', 'Carbono'], 'correcta' => 'Calor'],
        ['pregunta' => 'Base de la cadena:', 'opciones' => ['Carn√≠voros', 'Productores', 'Descomponedores', 'Herb√≠voros'], 'correcta' => 'Productores'],
        ['pregunta' => 'GPP significa...', 'opciones' => ['Gross Primary Production', 'Global Plant Production', 'Green Plant Power', 'Nada'], 'correcta' => 'Gross Primary Production'],
        ['pregunta' => 'NPP = GPP - ...', 'opciones' => ['R_a', 'P', 'C', 'Luz'], 'correcta' => 'R_a'],
        ['pregunta' => 'Pir√°mide de energ√≠a es...', 'opciones' => ['Invertida', 'Siempre decreciente', 'Constante', 'Creciente'], 'correcta' => 'Siempre decreciente'],
        ['pregunta' => 'Unidad com√∫n de NPP:', 'opciones' => ['g C/m¬≤/a√±o', 'kg/m', 'L/ha', '¬∞C'], 'correcta' => 'g C/m¬≤/a√±o'],
        ['pregunta' => 'Quimios√≠ntesis ocurre en...', 'opciones' => ['Fotos', 'Fuentes hidrotermales', 'Suelo', 'Aire'], 'correcta' => 'Fuentes hidrotermales'],
        ['pregunta' => 'Autor de la ley del 10%:', 'opciones' => ['Liebig', 'Lindeman', 'Shelford', 'Elton'], 'correcta' => 'Lindeman'],

        // === MEDIO (10) ===
        ['pregunta' => 'Bioma con mayor NPP:', 'opciones' => ['Tundra', 'Selva tropical', 'Desierto', 'Oc√©ano'], 'correcta' => 'Selva tropical'],
        ['pregunta' => 'Bioma con menor NPP:', 'opciones' => ['Pradera', 'Tundra', 'Bosque', 'Sabana'], 'correcta' => 'Tundra'],
        ['pregunta' => 'En oc√©ano, NPP limitada por...', 'opciones' => ['Luz', 'Nutrientes', 'CO‚ÇÇ', 'O‚ÇÇ'], 'correcta' => 'Nutrientes'],
        ['pregunta' => 'Eficiencia tr√≥fica real var√≠a entre...', 'opciones' => ['5‚Äì20%', '50‚Äì90%', '1‚Äì5%', '90‚Äì100%'], 'correcta' => '5‚Äì20%'],
        ['pregunta' => 'PAR es...', 'opciones' => ['Luz total', 'Luz fotosint√©ticamente activa', 'Presi√≥n', 'Agua'], 'correcta' => 'Luz fotosint√©ticamente activa'],
        ['pregunta' => 'En pir√°mide invertida de biomasa:', 'opciones' => ['Oc√©ano', 'Selva', 'Pradera', 'Tundra'], 'correcta' => 'Oc√©ano'],
        ['pregunta' => 'Sat√©lite mide NPP con...', 'opciones' => ['NDVI', 'GPS', 'Radar', 'Sonar'], 'correcta' => 'NDVI'],
        ['pregunta' => 'En selva, NPP ‚âà ... g C/m¬≤/a√±o', 'opciones' => ['100', '1000', '10000', '100000'], 'correcta' => '1000'],
        ['pregunta' => 'En desierto, NPP < ... g C/m¬≤/a√±o', 'opciones' => ['1000', '200', '5000', '100'], 'correcta' => '200'],
        ['pregunta' => 'F√≥rmula eficiencia:', 'opciones' => ['E = P_n / P_{n+1}', 'E = P_{n+1} / P_n', 'E = GPP / NPP', 'E = R_a / GPP'], 'correcta' => 'E = P_{n+1} / P_n'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'NPP global ‚âà ... Gt C/a√±o', 'opciones' => ['10', '60', '120', '1000'], 'correcta' => '60'],
        ['pregunta' => 'Oc√©anos aportan ~...% NPP global', 'opciones' => ['1%', '50%', '90%', '10%'], 'correcta' => '50%'],
        ['pregunta' => 'En modelo, energ√≠a no transferida se pierde como...', 'opciones' => ['Entrop√≠a', 'Calor', 'Biomasa', 'Luz'], 'correcta' => 'Calor'],
        ['pregunta' => 'M√°xima eficiencia tr√≥fica en...', 'opciones' => ['Peces', 'Insectos', 'Mam√≠feros', 'Aves'], 'correcta' => 'Insectos'],
        ['pregunta' => 'En acuicultura, se maximiza...', 'opciones' => ['GPP', 'NPP', 'Eficiencia', 'Biomasa'], 'correcta' => 'Eficiencia'],
        ['pregunta' => 'Pir√°mide de n√∫meros invertida en...', 'opciones' => ['1 √°rbol ‚Üí 1000 insectos', '1000 plantas ‚Üí 1 ciervo', '10 peces ‚Üí 1 √°guila', '100 algas ‚Üí 1 pez'], 'correcta' => '1 √°rbol ‚Üí 1000 insectos'],
        ['pregunta' => 'Fotos√≠ntesis: 6CO‚ÇÇ + 6H‚ÇÇO ‚Üí', 'opciones' => ['C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ + 6O‚ÇÇ', 'C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ + 6CO‚ÇÇ', '6C + 6O‚ÇÇ', 'H‚ÇÇO + CO‚ÇÇ'], 'correcta' => 'C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ + 6O‚ÇÇ'],
        ['pregunta' => 'En ecosistema, energ√≠a total entrada =', 'opciones' => ['GPP', 'NPP', 'Biomasa', 'Calor'], 'correcta' => 'GPP'],
        ['pregunta' => 'En modelo lineal, nivel n tiene energ√≠a...', 'opciones' => ['10^n', '10^{-n}', '0.1^n √ó P_0', 'P_0 / 10^n'], 'correcta' => '0.1^n √ó P_0'],
        ['pregunta' => 'M√°ximo nivel tr√≥fico sostenible:', 'opciones' => ['3', '5', '10', '20'], 'correcta' => '5']
    ]
];
// ========================================
// MATERIA: ECOSISTEMAS
// SUBTEMA: Huella de Carbono (C√°lculo, Impacto, Mitigaci√≥n)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Ecosistemas',
    'slug' => 'huella-carbono',
    'titulo' => 'Huella de Carbono: El Impacto Invisible del Ser Humano',
    'contenido' => '
        <h3>¬øQu√© es la Huella de Carbono?</h3>
        <p>La <strong>huella de carbono</strong> es la <strong>cantidad total de gases de efecto invernadero (GEI)</strong> emitidos directa o indirectamente por una actividad humana, expresada en <strong>toneladas de CO‚ÇÇ equivalente (t CO‚ÇÇe)</strong>.</p>
        <p>Incluye: <strong>CO‚ÇÇ, CH‚ÇÑ, N‚ÇÇO, HFCs, PFCs, SF‚ÇÜ</strong>.</p>

        <hr style="border:1px dashed #00ff00;">

        <h4>1. Tipos de Huella</h4>
        <table class="table">
            <thead>
                <tr><th>Tipo</th><th>Alcance</th><th>Ejemplo</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Alcance 1</strong></td><td>Emisiones directas</td><td>Combusti√≥n de gasolina</td></tr>
                <tr><td><strong>Alcance 2</strong></td><td>Energ√≠a comprada</td><td>Electricidad</td></tr>
                <tr><td><strong>Alcance 3</strong></td><td>Indirectas</td><td>Transporte, alimentos, residuos</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> Un vuelo Madrid-NY: ~1.2 t CO‚ÇÇe por pasajero.</p>
        </div>

        <div class="visual">
            <img src="assets/img/huella-carbono.png" alt="Diagrama huella de carbono">
            <p><em>Alcances 1, 2 y 3. Fuente: Carbon Footprint Ltd.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>2. C√°lculo: CO‚ÇÇ Equivalente</h4>
        <p>Se usa el <strong>Potencial de Calentamiento Global (GWP)</strong>:</p>
        <p>\\[ \\text{CO}_2\\text{e} = \\text{masa GEI} \\times \\text{GWP} \\]</p>

        <table class="table">
            <thead>
                <tr><th>GEI</th><th>GWP (100 a√±os)</th></tr>
            </thead>
            <tbody>
                <tr><td>CO‚ÇÇ</td><td>1</td></tr>
                <tr><td>CH‚ÇÑ</td><td>28‚Äì36</td></tr>
                <tr><td>N‚ÇÇO</td><td>265‚Äì298</td></tr>
                <tr><td>SF‚ÇÜ</td><td>23,500</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> 1 kg CH‚ÇÑ = 34 kg CO‚ÇÇe</p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>3. Fuentes Principales</h4>
        <ul>
            <li><strong>Energ√≠a:</strong> 73% (carb√≥n, petr√≥leo, gas)</li>
            <li><strong>Agricultura:</strong> 12% (CH‚ÇÑ vacas, N‚ÇÇO fertilizantes)</li>
            <li><strong>Transporte:</strong> 14%</li>
            <li><strong>Industria:</strong> 12%</li>
        </ul>

        <div class="visual">
            <img src="assets/img/emisiones-global-gas.webp" alt="Emisiones globales EPA">
            <p><em>Emisiones globales por gas. Fuente: EPA.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>4. Huella Promedio por Pa√≠s (t CO‚ÇÇe/persona/a√±o)</h4>
        <table class="table">
            <thead>
                <tr><th>Pa√≠s</th><th>Huella</th></tr>
            </thead>
            <tbody>
                <tr><td>EE.UU.</td><td>15‚Äì16</td></tr>
                <tr><td>Espa√±a</td><td>6‚Äì7</td></tr>
                <tr><td>China</td><td>7‚Äì8</td></tr>
                <tr><td>India</td><td>1.9</td></tr>
                <tr><td>Media global</td><td>4.7</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/emsiones-globales.png" alt="Emisiones por sector">
            <p><em>Emisiones globales por sector. Fuente: Our World in Data.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/tendencia_co2.webp" alt="Emisiones IEA">
            <p><em>Tendencia global CO‚ÇÇ. Fuente: IEA.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/dioxido-carbono-mauna.svg.png" alt="CO2 atmosf√©rico NASA">
            <p><em>CO‚ÇÇ atmosf√©rico (Mauna Loa). Fuente: NASA.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>5. Mitigaci√≥n y Secuestro</h4>
        <ul>
            <li><strong>Reducci√≥n:</strong> Eficiencia, renovables, transporte p√∫blico</li>
            <li><strong>Secuestro:</strong> Reforestaci√≥n, suelos, CCS</li>
            <li><strong>Neutralidad:</strong> Emisiones = Secuestro</li>
        </ul>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> 1 √°rbol maduro secuestra ~22 kg CO‚ÇÇ/a√±o.</p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>6. SVG Animado: Ciclo de la Huella</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 700 500" xmlns="http://www.w3.org/2000/svg">
                <!-- F√°brica -->
                <rect x="50" y="200" width="100" height="150" fill="#555" rx="10"/>
                <rect x="90" y="150" width="20" height="50" fill="#333"/>
                <circle cx="100" cy="140" r="15" fill="#ff4500"/>
                <text x="100" y="380" fill="#fff" font-size="14" text-anchor="middle">F√°brica</text>

                <!-- Coche -->
                <rect x="200" y="320" width="120" height="50" fill="#3366cc" rx="10"/>
                <circle cx="230" cy="370" r="15" fill="#000"/>
                <circle cx="290" cy="370" r="15" fill="#000"/>
                <text x="260" y="400" fill="#fff" font-size="14" text-anchor="middle">Auto</text>

                <!-- Casa -->
                <rect x="400" y="250" width="150" height="120" fill="#8B4513" rx="10"/>
                <polygon points="400,250 475,200 550,250" fill="#654321"/>
                <text x="475" y="400" fill="#fff" font-size="14" text-anchor="middle">Hogar</text>

                <!-- Emisiones -->
                <path d="M100 140 Q150 100 200 140" stroke="#ff0000" stroke-width="4" fill="none">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2s" repeatCount="indefinite"/>
                </path>
                <path d="M260 320 Q300 280 340 320" stroke="#ff0000" stroke-width="3" fill="none">
                    <animate attributeName="stroke-dashoffset" from="80" to="0" dur="2.5s" repeatCount="indefinite"/>
                </path>
                <path d="M475 250 Q475 200 475 150" stroke="#ff0000" stroke-width="5" fill="none">
                    <animate attributeName="stroke-dashoffset" from="60" to="0" dur="3s" repeatCount="indefinite"/>
                </path>

                <!-- Atm√≥sfera -->
                <rect x="0" y="0" width="700" height="100" fill="#87CEEB" opacity="0.3"/>
                <text x="350" y="60" fill="#000" font-size="18" text-anchor="middle">CO‚ÇÇ ‚Üë</text>

                <!-- Secuestro -->
                <circle cx="600" cy="300" r="60" fill="#228B22"/>
                <text x="600" y="305" fill="white" font-size="14" text-anchor="middle">√Årbol</text>
                <path d="M475 150 Q550 200 600 280" stroke="#00ff00" stroke-width="4" fill="none" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="3s" repeatCount="indefinite"/>
                </path>
                <text x="540" y="190" fill="#00ff00" font-size="12" text-anchor="middle">Secuestro</text>

                <defs>
                    <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto">
                        <path d="M0,0 L0,6 L9,3 z" fill="#00ff00"/>
                    </marker>
                </defs>

                <!-- T√≠tulo -->
                <text x="350" y="450" fill="#ffcc00" font-size="22" text-anchor="middle" font-family="Arial">Huella de Carbono: Emisi√≥n + Secuestro</text>
            </svg>
            <p><em>SVG Animado: Emisiones desde fuentes ‚Üí atm√≥sfera ‚Üí secuestro natural.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Define huella de carbono', 'respuesta' => 'Emisiones totales de GEI en CO‚ÇÇe'],
        ['enunciado' => 'Unidad est√°ndar', 'respuesta' => 't CO‚ÇÇe'],
        ['enunciado' => 'Principal GEI', 'respuesta' => 'CO‚ÇÇ'],

        // === APLICADOS ===
        ['enunciado' => 'Calcula: 1 kg CH‚ÇÑ (GWP=34)', 'respuesta' => '34 kg CO‚ÇÇe'],
        ['enunciado' => 'Huella promedio Espa√±a', 'respuesta' => '~6‚Äì7 t CO‚ÇÇe/persona/a√±o'],
        ['enunciado' => '¬øQu√© es Alcance 3?', 'respuesta' => 'Emisiones indirectas (cadena suministro)'],

        // === ECOL√ìGICOS ===
        ['enunciado' => '¬øC√≥mo reduce la reforestaci√≥n?', 'respuesta' => 'Secuestra CO‚ÇÇ'],
        ['enunciado' => '¬øQu√© emite m√°s: vaca o auto?', 'respuesta' => 'Vaca (CH‚ÇÑ)'],
        ['enunciado' => '¬øQu√© es neutralidad de carbono?', 'respuesta' => 'Emisiones = Secuestro'],

        // === AVANZADOS ===
        ['enunciado' => 'F√≥rmula CO‚ÇÇe', 'respuesta' => '\\(\\text{CO}_2\\text{e} = m \\times \\text{GWP}\\)',],
        ['enunciado' => '¬øQu√© es CCS?', 'respuesta' => 'Captura y almacenamiento de carbono'],
        ['enunciado' => '¬øQu√© mide IPCC?', 'respuesta' => 'GWP y escenarios clim√°ticos']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Huella de carbono mide...', 'opciones' => ['Agua', 'GEI en CO‚ÇÇe', 'Basura', 'Ruido'], 'correcta' => 'GEI en CO‚ÇÇe'],
        ['pregunta' => 'Principal GEI', 'opciones' => ['O‚ÇÇ', 'CO‚ÇÇ', 'N‚ÇÇ', 'H‚ÇÇO'], 'correcta' => 'CO‚ÇÇ'],
        ['pregunta' => 'Unidad de huella', 'opciones' => ['kg', 't CO‚ÇÇe', 'm¬≥', 'kWh'], 'correcta' => 't CO‚ÇÇe'],
        ['pregunta' => 'Alcance 1 es...', 'opciones' => ['Electricidad', 'Emisiones directas', 'Alimentos', 'Viajes'], 'correcta' => 'Emisiones directas'],
        ['pregunta' => 'GWP del CO‚ÇÇ', 'opciones' => ['1', '25', '298', '23500'], 'correcta' => '1'],
        ['pregunta' => 'CH‚ÇÑ tiene GWP ‚âà', 'opciones' => ['1', '34', '100', '1000'], 'correcta' => '34'],
        ['pregunta' => 'Reducir con...', 'opciones' => ['M√°s aviones', 'Energ√≠a solar', 'Carb√≥n', 'Pl√°stico'], 'correcta' => 'Energ√≠a solar'],
        ['pregunta' => 'Secuestra CO‚ÇÇ', 'opciones' => ['Auto', '√Årbol', 'F√°brica', 'Avi√≥n'], 'correcta' => '√Årbol'],
        ['pregunta' => 'Huella promedio global', 'opciones' => ['1 t', '4.7 t', '10 t', '20 t'], 'correcta' => '4.7 t'],
        ['pregunta' => 'Neutralidad es...', 'opciones' => ['Cero emisiones', 'Emisiones = Secuestro', 'Solo renovables', 'Nada'], 'correcta' => 'Emisiones = Secuestro'],

        // === MEDIO (10) ===
        ['pregunta' => 'Alcance 3 incluye...', 'opciones' => ['Electricidad', 'Cadena de suministro', 'Combusti√≥n', 'Calefacci√≥n'], 'correcta' => 'Cadena de suministro'],
        ['pregunta' => 'Mayor fuente global', 'opciones' => ['Transporte', 'Energ√≠a', 'Agricultura', 'Residuos'], 'correcta' => 'Energ√≠a'],
        ['pregunta' => '1 ha de bosque secuestra ‚âà', 'opciones' => ['1 t', '5 t', '20 t', '100 t'], 'correcta' => '5 t'],
        ['pregunta' => 'IPCC define...', 'opciones' => ['GWP', 'PIB', 'IDH', 'GPS'], 'correcta' => 'GWP'],
        ['pregunta' => 'Huella de un vuelo transatl√°ntico', 'opciones' => ['0.1 t', '1.2 t', '5 t', '10 t'], 'correcta' => '1.2 t'],
        ['pregunta' => 'CCS significa...', 'opciones' => ['Carbon Capture Storage', 'Clean Coal System', 'Climate Control', 'Nada'], 'correcta' => 'Carbon Capture Storage'],
        ['pregunta' => 'Vaca emite CH‚ÇÑ por...', 'opciones' => ['Respiraci√≥n', 'Digesti√≥n', 'Orina', 'Piel'], 'correcta' => 'Digesti√≥n'],
        ['pregunta' => 'Huella de carne vs vegetal', 'opciones' => ['Igual', 'Carne > vegetal', 'Vegetal > carne', 'Cero'], 'correcta' => 'Carne > vegetal'],
        ['pregunta' => 'Objetivo Par√≠s 2050', 'opciones' => ['+2¬∞C', 'Net Zero', '+1.5¬∞C', 'Nada'], 'correcta' => 'Net Zero'],
        ['pregunta' => 'Huella de Espa√±a ‚âà', 'opciones' => ['3 t', '6‚Äì7 t', '12 t', '20 t'], 'correcta' => '6‚Äì7 t'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'F√≥rmula CO‚ÇÇe', 'opciones' => ['m √ó GWP', 'm / GWP', 'GWP / m', 'm + GWP'], 'correcta' => 'm √ó GWP'],
        ['pregunta' => 'GWP SF‚ÇÜ ‚âà', 'opciones' => ['1', '34', '298', '23500'], 'correcta' => '23500'],
        ['pregunta' => 'Mayor emisor per c√°pita', 'opciones' => ['China', 'EE.UU.', 'India', 'Brasil'], 'correcta' => 'EE.UU.'],
        ['pregunta' => 'Emisiones globales 2023 ‚âà', 'opciones' => ['10 Gt', '37 Gt', '50 Gt', '100 Gt'], 'correcta' => '37 Gt'],
        ['pregunta' => 'Presupuesto carbono +1.5¬∞C ‚âà', 'opciones' => ['100 Gt', '420 Gt', '1000 Gt', '2000 Gt'], 'correcta' => '420 Gt'],
        ['pregunta' => 'Secuestro oc√©ano ‚âà', 'opciones' => ['1 Gt/a√±o', '10 Gt/a√±o', '20 Gt/a√±o', '50 Gt/a√±o'], 'correcta' => '10 Gt/a√±o'],
        ['pregunta' => 'Huella de 1 kWh carb√≥n ‚âà', 'opciones' => ['0.1 kg', '0.9 kg', '2 kg', '5 kg'], 'correcta' => '0.9 kg'],
        ['pregunta' => 'Huella de 1 kWh solar ‚âà', 'opciones' => ['0 kg', '0.05 kg', '0.5 kg', '1 kg'], 'correcta' => '0.05 kg'],
        ['pregunta' => 'Meta UE 2030', 'opciones' => ['-20%', '-55%', '-80%', 'Net Zero'], 'correcta' => '-55%'],
        ['pregunta' => 'Huella alimentaria promedio', 'opciones' => ['10%', '25%', '50%', '75%'], 'correcta' => '25%']
    ]
];
// ========================================
// MATERIA: ECOSISTEMAS
// SUBTEMA: Cambio Clim√°tico (Causas, Impactos, Mitigaci√≥n)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Ecosistemas',
    'slug' => 'cambio-climatico',
    'titulo' => 'Cambio Clim√°tico: La Mayor Amenaza a los Ecosistemas',
    'contenido' => '
        <h3>¬øQu√© es el Cambio Clim√°tico?</h3>
        <p>El <strong>cambio clim√°tico</strong> es la <strong>alteraci√≥n sostenida</strong> de los patrones clim√°ticos globales, <strong>principalmente antropog√©nica</strong>, causada por el aumento de gases de efecto invernadero (GEI) en la atm√≥sfera.</p>
        <p><strong>CO‚ÇÇ actual (2025):</strong> ~425 ppm (Mauna Loa)</p>

        <hr style="border:1px dashed #00ff00;">

        <h4>1. Evidencia Cient√≠fica</h4>
        <table class="table">
            <thead>
                <tr><th>Indicador</th><th>Valor 2025</th><th>Preindustrial</th></tr>
            </thead>
            <tbody>
                <tr><td>Temperatura global</td><td>+1.2¬∞C</td><td>‚Äî</td></tr>
                <tr><td>CO‚ÇÇ atmosf√©rico</td><td>425 ppm</td><td>280 ppm</td></tr>
                <tr><td>Nivel del mar</td><td>+25 cm</td><td>‚Äî</td></tr>
                <tr><td>Hielo √Årtico</td><td>-13%/d√©cada</td><td>‚Äî</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/curva_keeling.png" alt="CO2 atmosf√©rico NASA">
            <p><em>Curva de Keeling (CO‚ÇÇ). Fuente: NASA.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>2. Causas Antropog√©nicas</h4>
        <ul>
            <li><strong>Combustibles f√≥siles:</strong> 75%</li>
            <li><strong>Deforestaci√≥n:</strong> 12%</li>
            <li><strong>Agricultura:</strong> 12% (CH‚ÇÑ, N‚ÇÇO)</li>
            <li><strong>Industria:</strong> 10%</li>
        </ul>

        <div class="visual">
            <img src="assets/img/forzamiento-radiativo-ipcc.png" alt="Forzamiento radiativo IPCC">
            <p><em>Forzamiento radiativo. Fuente: IPCC AR6.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>3. Impactos en Ecosistemas</h4>
        <table class="table">
            <thead>
                <tr><th>Ecosistema</th><th>Impacto</th></tr>
            </thead>
            <tbody>
                <tr><td>Bosques</td><td>Incendios, plagas, migraci√≥n especies</td></tr>
                <tr><td>Oc√©anos</td><td>Acidificaci√≥n (pH ‚Üì0.1), blanqueo coral</td></tr>
                <tr><td>Polar</td><td>Derretimiento permafrost ‚Üí CH‚ÇÑ</td></tr>
                <tr><td>Monta√±as</td><td>Glaciares desaparecen</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/impactos-multiples.png" alt="Impactos en ecosistemas">
            <p><em>Impactos m√∫ltiples. Fuente: IAN.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/efectos-ambiente.png" alt="Efectos globales">
            <p><em>Efectos en el ambiente. Fuente: ResearchGate.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/costas-presion.jpg" alt="Ecosistemas costeros">
            <p><em>Costas bajo presi√≥n. Fuente: ResearchGate.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>4. Tipping Points (Puntos Cr√≠ticos)</h4>
        <ul>
            <li><strong>Permafrost:</strong> +1.5¬∞C ‚Üí 200 Gt CH‚ÇÑ</li>
            <li><strong>Amazon√≠a:</strong> 40% deforestaci√≥n ‚Üí sabanizaci√≥n</li>
            <li><strong>Circulaci√≥n AMOC:</strong> Debilitamiento ‚Üí Europa fr√≠a</li>
        </ul>

        <div class="visual">
            <img src="assets/img/puntos-no-retorno.png" alt="Tipping points">
            <p><em>Puntos de no retorno. Fuente: Nature Climate Change.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>5. Mitigaci√≥n y Adaptaci√≥n</h4>
        <ul>
            <li><strong>Acuerdo de Par√≠s:</strong> <1.5¬∞C</li>
            <li><strong>Net Zero 2050</strong></li>
            <li><strong>Reforestaci√≥n, CCS, renovables</strong></li>
        </ul>

        <hr style="border:1px dashed #00ff00;">

        <h4>6. SVG Animado: Efecto Invernadero</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 700 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Sol -->
                <circle cx="100" cy="100" r="50" fill="#FFD700" stroke="#FF8C00" stroke-width="5"/>
                <text x="100" y="170" fill="#FF8C00" font-size="16" text-anchor="middle">Sol</text>

                <!-- Rayos entrantes -->
                <path d="M150 100 L300 200" stroke="#FFFF00" stroke-width="4" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2s" repeatCount="indefinite"/>
                </path>
                <path d="M130 120 L290 220" stroke="#FFFF00" stroke-width="4" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2.2s" repeatCount="indefinite"/>
                </path>

                <!-- Tierra -->
                <circle cx="350" cy="350" r="80" fill="#228B22" stroke="#006400" stroke-width="3"/>
                <text x="350" y="355" fill="white" font-size="16" text-anchor="middle">Tierra</text>

                <!-- Rayos reflejados -->
                <path d="M300 250 L250 180" stroke="#87CEEB" stroke-width="3" marker-end="url(#arrow-blue)">
                    <animate attributeName="stroke-dashoffset" from="80" to="0" dur="2.5s" repeatCount="indefinite"/>
                </path>

                <!-- GEI atrapando calor -->
                <ellipse cx="350" cy="220" rx="150" ry="60" fill="#FF450030" stroke="#FF4500" stroke-width="2" stroke-dasharray="5,5"/>
                <text x="350" y="220" fill="#FF0000" font-size="14" text-anchor="middle">GEI ‚Üë</text>

                <!-- Calor atrapado -->
                <path d="M320 300 Q350 280 380 300" stroke="#FF0000" stroke-width="4" fill="none">
                    <animate attributeName="stroke-dashoffset" from="60" to="0" dur="3s" repeatCount="indefinite"/>
                </path>
                <text x="350" y="320" fill="#FF0000" font-size="14" text-anchor="middle">+1.2¬∞C</text>

                <!-- Flechas -->
                <defs>
                    <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto">
                        <path d="M0,0 L0,6 L9,3 z" fill="#FFFF00"/>
                    </marker>
                    <marker id="arrow-blue" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto">
                        <path d="M0,0 L0,6 L9,3 z" fill="#87CEEB"/>
                    </marker>
                </defs>

                <!-- T√≠tulo -->
                <text x="350" y="50" fill="#ffcc00" font-size="20" text-anchor="middle" font-family="Arial">Efecto Invernadero Reforzado</text>
            </svg>
            <p><em>SVG Animado: Radiaci√≥n solar ‚Üí reflexi√≥n ‚Üí atrapada por GEI.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Causa principal del cambio clim√°tico', 'respuesta' => 'Emisiones antropog√©nicas de GEI'],
        ['enunciado' => 'CO‚ÇÇ actual (2025)', 'respuesta' => '~425 ppm'],
        ['enunciado' => 'Aumento temperatura global', 'respuesta' => '+1.2¬∞C'],

        // === APLICADOS ===
        ['enunciado' => '¬øQu√© pasa si se derrite permafrost?', 'respuesta' => 'Liberaci√≥n masiva de CH‚ÇÑ'],
        ['enunciado' => '¬øPor qu√© se blanquean corales?', 'respuesta' => 'Estr√©s t√©rmico'],
        ['enunciado' => '¬øQu√© es AMOC?', 'respuesta' => 'Circulaci√≥n termohalina Atl√°ntica'],

        // === ECOL√ìGICOS ===
        ['enunciado' => '¬øQu√© ecosistema pierde m√°s biodiversidad?', 'respuesta' => 'Arrecifes de coral'],
        ['enunciado' => '¬øQu√© es migraci√≥n asistida?', 'respuesta' => 'Trasladar especies a climas adecuados'],
        ['enunciado' => '¬øQu√© es adaptaci√≥n basada en ecosistemas?', 'respuesta' => 'Usar naturaleza para mitigar'],

        // === AVANZADOS ===
        ['enunciado' => 'F√≥rmula forzamiento radiativo', 'respuesta' => '\\( \\Delta F = 5.35 \\ln(\\frac{C}{C_0}) \\)'],
        ['enunciado' => 'Presupuesto carbono +1.5¬∞C', 'respuesta' => '~420 Gt CO‚ÇÇ'],
        ['enunciado' => '¬øQu√© es IPCC?', 'respuesta' => 'Panel Interg 6to Informe']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Cambio clim√°tico causado por...', 'opciones' => ['Solo natural', 'Principalmente humano', 'Animales', 'Sol'], 'correcta' => 'Principalmente humano'],
        ['pregunta' => 'CO‚ÇÇ actual ‚âà', 'opciones' => ['280 ppm', '425 ppm', '500 ppm', '1000 ppm'], 'correcta' => '425 ppm'],
        ['pregunta' => 'Aumento temperatura 2025', 'opciones' => ['+0.5¬∞C', '+1.2¬∞C', '+2¬∞C', '+3¬∞C'], 'correcta' => '+1.2¬∞C'],
        ['pregunta' => 'Principal GEI', 'opciones' => ['O‚ÇÇ', 'CO‚ÇÇ', 'N‚ÇÇ', 'CH‚ÇÑ'], 'correcta' => 'CO‚ÇÇ'],
        ['pregunta' => 'Efecto en oc√©anos', 'opciones' => ['M√°s fr√≠os', 'Acidificaci√≥n', 'Menos sal', 'Nada'], 'correcta' => 'Acidificaci√≥n'],
        ['pregunta' => 'Blanqueo de coral por...', 'opciones' => ['Fr√≠o', 'Calor', 'Luz', 'Oscuridad'], 'correcta' => 'Calor'],
        ['pregunta' => 'Acuerdo de Par√≠s busca...', 'opciones' => ['+2¬∞C', '<2¬∞C, ideal 1.5¬∞C', '+1.5¬∞C', 'Nada'], 'correcta' => '<2¬∞C, ideal 1.5¬∞C'],
        ['pregunta' => 'IPCC es...', 'opciones' => ['ONU clima', 'Panel cient√≠fico', 'ONG', 'Empresa'], 'correcta' => 'Panel cient√≠fico'],
        ['pregunta' => 'Permafrost libera...', 'opciones' => ['CO‚ÇÇ', 'CH‚ÇÑ', 'O‚ÇÇ', 'N‚ÇÇ'], 'correcta' => 'CH‚ÇÑ'],
        ['pregunta' => 'Nivel del mar subi√≥...', 'opciones' => ['10 cm', '25 cm', '50 cm', '1 m'], 'correcta' => '25 cm'],

        // === MEDIO (10) ===
        ['pregunta' => 'Tipping point Amazon√≠a:', 'opciones' => ['20% deforestaci√≥n', '40%', '60%', '80%'], 'correcta' => '40%'],
        ['pregunta' => 'AMOC es...', 'opciones' => ['Corriente Pac√≠fico', 'Circulaci√≥n Atl√°ntica', 'Viento', 'Lluvia'], 'correcta' => 'Circulaci√≥n Atl√°ntica'],
        ['pregunta' => 'Presupuesto carbono +1.5¬∞C ‚âà', 'opciones' => ['100 Gt', '420 Gt', '1000 Gt', '2000 Gt'], 'correcta' => '420 Gt'],
        ['pregunta' => 'Emisiones globales 2023 ‚âà', 'opciones' => ['20 Gt', '37 Gt', '50 Gt', '100 Gt'], 'correcta' => '37 Gt'],
        ['pregunta' => 'Mitigaci√≥n incluye...', 'opciones' => ['CCS', 'M√°s carb√≥n', 'Deforestaci√≥n', 'Aviones'], 'correcta' => 'CCS'],
        ['pregunta' => 'Adaptaci√≥n es...', 'opciones' => ['Reducir emisiones', 'Vivir con cambio', 'Ignorar', 'Negar'], 'correcta' => 'Vivir con cambio'],
        ['pregunta' => 'Ecosistema m√°s vulnerable:', 'opciones' => ['Desierto', 'Arrecife coral', 'Pradera', 'Tundra'], 'correcta' => 'Arrecife coral'],
        ['pregunta' => 'Forzamiento radiativo CO‚ÇÇ duplicado:', 'opciones' => ['1 W/m¬≤', '3.7 W/m¬≤', '5.35 W/m¬≤', '10 W/m¬≤'], 'correcta' => '3.7 W/m¬≤'],
        ['pregunta' => 'Meta Net Zero:', 'opciones' => ['2030', '2050', '2100', 'Nunca'], 'correcta' => '2050'],
        ['pregunta' => 'Hielo √Årtico pierde...', 'opciones' => ['-5%/d√©cada', '-13%/d√©cada', '-20%/d√©cada', '+10%'], 'correcta' => '-13%/d√©cada'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'F√≥rmula forzamiento CO‚ÇÇ:', 'opciones' => ['ŒîF = 5.35 ln(C/C‚ÇÄ)', 'ŒîF = C¬≤', 'ŒîF = 10 √ó C', 'ŒîF = 1/C'], 'correcta' => 'ŒîF = 5.35 ln(C/C‚ÇÄ)'],
        ['pregunta' => 'Sensibilidad clim√°tica ‚âà', 'opciones' => ['1¬∞C', '3¬∞C por duplicaci√≥n CO‚ÇÇ', '5¬∞C', '10¬∞C'], 'correcta' => '3¬∞C por duplicaci√≥n CO‚ÇÇ'],
        ['pregunta' => 'Escenario RCP8.5 es...', 'opciones' => ['Bajo', 'Alto (sin acci√≥n)', 'Medio', 'Net Zero'], 'correcta' => 'Alto (sin acci√≥n)'],
        ['pregunta' => 'Escenario SSP1-1.9 logra...', 'opciones' => ['+1.5¬∞C', '+2¬∞C', '+3¬∞C', '+4¬∞C'], 'correcta' => '+1.5¬∞C'],
        ['pregunta' => 'Feedback albedo √Årtico:', 'opciones' => ['Negativo', 'Positivo', 'Neutra', 'Cero'], 'correcta' => 'Positivo'],
        ['pregunta' => 'Acidificaci√≥n reduce...', 'opciones' => ['pH oc√©ano', 'Salinidad', 'Ox√≠geno', 'Luz'], 'correcta' => 'pH oc√©ano'],
        ['pregunta' => 'Corales mueren a...', 'opciones' => ['25¬∞C', '30¬∞C', '35¬∞C', '40¬∞C'], 'correcta' => '30¬∞C'],
        ['pregunta' => 'Meta UE 2030:', 'opciones' => ['-40%', '-55%', '-80%', 'Net Zero'], 'correcta' => '-55%'],
        ['pregunta' => 'CH‚ÇÑ liberado permafrost ‚âà', 'opciones' => ['10 Gt', '200 Gt', '1000 Gt', '1 Gt'], 'correcta' => '200 Gt'],
        ['pregunta' => 'IPCC AR6 (2021) dice...', 'opciones' => ['Cambio natural', 'Humano inequ√≠voco', 'No hay cambio', 'Ciclo normal'], 'correcta' => 'Humano inequ√≠voco']
    ]
];
// ========================================
// MATERIA: ECOSISTEMAS
// SUBTEMA: Variabilidad Clim√°tica (ENSO, NAO, PDO, Impactos)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Ecosistemas',
    'slug' => 'variabilidad-climatica',
    'titulo' => 'Variabilidad Clim√°tica: El Ritmo Natural del Planeta',
    'contenido' => '
        <h3>¬øQu√© es la Variabilidad Clim√°tica?</h3>
        <p>La <strong>variabilidad clim√°tica</strong> son las <strong>fluctuaciones naturales</strong> del clima en escalas de <strong>meses a d√©cadas</strong>, distintas del <strong>cambio clim√°tico antropog√©nico</strong> (siglos).</p>
        <p><strong>Escalas:</strong> Interanual (ENSO), decadal (PDO), multidecadal (AMO).</p>

        <hr style="border:1px dashed #00ff00;">

        <h4>1. Principales Modos de Variabilidad</h4>
        <table class="table">
            <thead>
                <tr><th>Modo</th><th>√çndice</th><th>Per√≠odo</th><th>Efecto</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>ENSO</strong> (El Ni√±o/La Ni√±a)</td><td>ONI</td><td>2‚Äì7 a√±os</td><td>Sequ√≠as/inundaciones</td></tr>
                <tr><td><strong>NAO</strong> (Oscilaci√≥n N. Atl√°ntico)</td><td>NAOI</td><td>Invernal</td><td>Europa h√∫meda/fr√≠a</td></tr>
                <tr><td><strong>PDO</strong> (Oscilaci√≥n D√©cada Pac√≠fico)</td><td>PDO Index</td><td>20‚Äì30 a√±os</td><td>Pac√≠fico N. pesquer√≠as</td></tr>
                <tr><td><strong>AMO</strong> (Oscilaci√≥n Multidecadal Atl√°ntico)</td><td>AMO Index</td><td>60‚Äì80 a√±os</td><td>Huracanes</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>El Ni√±o 2023‚Äì2024</strong> ‚Üí sequ√≠as en Amazon√≠a, inundaciones en California.</p>
        </div>

        <div class="visual">
            <img src="assets/img/variabilidad-tendencia.avif" alt="Variabilidad vs cambio">
            <p><em>Variabilidad sobre tendencia. Fuente: UCAR.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>2. ENSO: El Motor del Clima Global</h4>
        <ul>
            <li><strong>El Ni√±o:</strong> Calentamiento Pac√≠fico E. ‚Üí debilitamiento vientos alisios</li>
            <li><strong>La Ni√±a:</strong> Enfriamiento ‚Üí vientos fuertes</li>
            <li><strong>ONI:</strong> Anomal√≠a TSM > ¬±0.5¬∞C por 3 meses</li>
        </ul>

        <div class="visual">
            <img src="assets/img/inidice_oni.png" alt="ONI NOAA 2025">
            <p><em>√çndice ONI actualizado. Fuente: NOAA CPC.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>3. Impactos en Ecosistemas</h4>
        <table class="table">
            <thead>
                <tr><th>Fen√≥meno</th><th>Ecosistema</th><th>Impacto</th></tr>
            </thead>
            <tbody>
                <tr><td>El Ni√±o</td><td>Amazon√≠a</td><td>Sequ√≠as ‚Üí incendios</td></tr>
                <tr><td>La Ni√±a</td><td>Australia</td><td>Inundaciones ‚Üí plagas</td></tr>
                <tr><td>NAO+</td><td>Europa N.</td><td>Inviernos suaves</td></tr>
                <tr><td>PDO+</td><td>Alaska</td><td>Menos salm√≥n</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/variabilidad-extremos-cambio.png" alt="Gr√°fico conceptual">
            <p><em>Variabilidad, extremos y cambio. Fuente: ResearchGate.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/superposicion-escalas.png" alt="Relaci√≥n variabilidad-cambio">
            <p><em>Superposici√≥n de escalas. Fuente: ResearchGate.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/pronostico-ENSO.png" alt="Pron√≥stico ENSO 2025">
            <p><em>Pron√≥stico ENSO. Fuente: NOAA Climate.gov.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>4. Diferencia con Cambio Clim√°tico</h4>
        <table class="table">
            <thead>
                <tr><th>Caracter√≠stica</th><th>Variabilidad</th><th>Cambio Clim√°tico</th></tr>
            </thead>
            <tbody>
                <tr><td>Escala temporal</td><td>A√±os-d√©cadas</td><td>Siglos</td></tr>
                <tr><td>Causa</td><td>Natural (oc√©anos, Sol)</td><td>Antropog√©nica (GEI)</td></tr>
                <tr><td>Tendencia</td><td>Oscila alrededor media</td><td>Desplazamiento permanente</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #00ff00;">

        <h4>5. SVG Animado: Ciclo ENSO</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 700 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Oc√©ano Pac√≠fico -->
                <rect x="50" y="200" width="600" height="200" fill="#1E90FF" rx="20"/>
                <text x="350" y="300" fill="white" font-size="18" text-anchor="middle">Pac√≠fico Ecuatorial</text>

                <!-- El Ni√±o -->
                <rect x="100" y="220" width="200" height="160" fill="#FF4500" opacity="0.6"/>
                <text x="200" y="260" fill="white" font-size="16" text-anchor="middle">El Ni√±o</text>
                <path d="M300 300 Q350 250 400 300" stroke="#FF0000" stroke-width="5" fill="none">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2s" repeatCount="indefinite"/>
                </path>

                <!-- La Ni√±a -->
                <rect x="400" y="220" width="200" height="160" fill="#4169E1" opacity="0.6"/>
                <text x="500" y="260" fill="white" font-size="16" text-anchor="middle">La Ni√±a</text>
                <path d="M300 300 Q350 350 400 300" stroke="#0000FF" stroke-width="5" fill="none">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2.5s" repeatCount="indefinite"/>
                </path>

                <!-- Vientos alisios -->
                <path d="M150 250 L250 250" stroke="#FFD700" stroke-width="4" marker-end="url(#arrow)">
                    <animate attributeName="opacity" values="1;0.3;1" dur="3s" repeatCount="indefinite"/>
                </path>
                <path d="M450 250 L550 250" stroke="#FFD700" stroke-width="4" marker-end="url(#arrow)">
                    <animate attributeName="opacity" values="0.3;1;0.3" dur="3s" repeatCount="indefinite"/>
                </path>

                <!-- Efectos globales -->
                <text x="100" y="150" fill="#FF0000" font-size="12">Sequ√≠as</text>
                <text x="600" y="150" fill="#0000FF" font-size="12">Inundaciones</text>

                <!-- Flecha -->
                <defs>
                    <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto">
                        <path d="M0,0 L0,6 L9,3 z" fill="#FFD700"/>
                    </marker>
                </defs>

                <!-- T√≠tulo -->
                <text x="350" y="50" fill="#ffcc00" font-size="22" text-anchor="middle" font-family="Arial">Ciclo ENSO: El Ni√±o ‚Üî La Ni√±a</text>
            </svg>
            <p><em>SVG Animado: Oscilaci√≥n de vientos y temperatura superficial del mar.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Define variabilidad clim√°tica', 'respuesta' => 'Fluctuaciones naturales en escalas cortas'],
        ['enunciado' => 'Principal modo interanual', 'respuesta' => 'ENSO'],
        ['enunciado' => 'Diferencia con cambio clim√°tico', 'respuesta' => 'Natural vs antropog√©nico, corto vs largo plazo'],

        // === APLICADOS ===
        ['enunciado' => '¬øQu√© mide ONI?', 'respuesta' => 'Anomal√≠a TSM Pac√≠fico E.'],
        ['enunciado' => 'El Ni√±o 2023‚Äì2024 caus√≥...', 'respuesta' => 'Sequ√≠as en Amazon√≠a'],
        ['enunciado' => 'NAO+ en invierno significa...', 'respuesta' => 'Europa m√°s c√°lida y h√∫meda'],

        // === ECOL√ìGICOS ===
        ['enunciado' => '¬øC√≥mo afecta PDO al salm√≥n?', 'respuesta' => 'Altera productividad plancton'],
        ['enunciado' => '¬øQu√© es teleconexi√≥n?', 'respuesta' => 'Influencia clim√°tica a distancia'],
        ['enunciado' => '¬øQu√© pronostica IRI?', 'respuesta' => 'Probabilidad ENSO'],

        // === AVANZADOS ===
        ['enunciado' => 'F√≥rmula ONI', 'respuesta' => '\\( \\text{ONI} = \\Delta \\text{TSM}_{3.4} \\) (3 meses)'],
        ['enunciado' => 'Per√≠odo quasi-bienal (QBO)', 'respuesta' => '~28 meses'],
        ['enunciado' => '√çndice SOI mide...', 'respuesta' => 'Diferencia presi√≥n Tahit√≠-Darwin']
    ],
    'quiz' => [
    // === F√ÅCIL (10) ===
    ['pregunta' => 'Variabilidad clim√°tica es...', 'opciones' => ['Largo plazo', 'Corto/medio plazo', 'Constante', 'Humana'], 'correcta' => 'Corto/medio plazo'],
    ['pregunta' => 'ENSO significa...', 'opciones' => ['El Ni√±o Southern Oscillation', 'Eastern North Sea', 'Energy North South', 'Nada'], 'correcta' => 'El Ni√±o Southern Oscillation'],
    ['pregunta' => 'El Ni√±o causa...', 'opciones' => ['Enfriamiento global', 'Calentamiento Pac√≠fico E.', 'Fr√≠o en Per√∫', 'Lluvia en Australia'], 'correcta' => 'Calentamiento Pac√≠fico E.'],
    ['pregunta' => 'La Ni√±a es...', 'opciones' => ['Calentamiento', 'Enfriamiento Pac√≠fico', 'Neutral', 'Solar'], 'correcta' => 'Enfriamiento Pac√≠fico'],
    ['pregunta' => 'NAO afecta...', 'opciones' => ['Pac√≠fico', 'Atl√°ntico Norte', '√Årtico', 'Ant√°rtida'], 'correcta' => 'Atl√°ntico Norte'],
    ['pregunta' => 'PDO tiene ciclo de...', 'opciones' => ['2‚Äì7 a√±os', '20‚Äì30 a√±os', '60‚Äì80 a√±os', '100 a√±os'], 'correcta' => '20‚Äì30 a√±os'],
    ['pregunta' => 'El Ni√±o trae sequ√≠as a...', 'opciones' => ['Per√∫', 'Australia', 'California', 'Europa'], 'correcta' => 'Australia'],
    ['pregunta' => 'SOI mide...', 'opciones' => ['Temperatura', 'Presi√≥n atmosf√©rica', 'Humedad', 'Viento'], 'correcta' => 'Presi√≥n atmosf√©rica'],
    ['pregunta' => 'Variabilidad es...', 'opciones' => ['Antropog√©nica', 'Natural', 'Ambas', 'Ninguna'], 'correcta' => 'Natural'],
    ['pregunta' => 'Cambio clim√°tico es...', 'opciones' => ['Natural', 'Principalmente humano', 'Corto plazo', 'Oscilante'], 'correcta' => 'Principalmente humano'],

    // === MEDIO (10) ===
    ['pregunta' => 'ONI > +0.5¬∞C indica...', 'opciones' => ['La Ni√±a', 'El Ni√±o', 'Neutral', 'PDO'], 'correcta' => 'El Ni√±o'],
    ['pregunta' => 'NAO+ en invierno ‚Üí Europa...', 'opciones' => ['Fr√≠a y seca', 'C√°lida y h√∫meda', 'Igual', 'Tormentas'], 'correcta' => 'C√°lida y h√∫meda'],
    ['pregunta' => 'PDO+ afecta...', 'opciones' => ['Salm√≥n Alaska', 'Huracanes Caribe', 'Lluvia India', 'Niebla Londres'], 'correcta' => 'Salm√≥n Alaska'],
    ['pregunta' => 'Teleconexi√≥n es...', 'opciones' => ['Conexi√≥n local', 'Influencia lejana', 'Ciclo solar', 'Viento'], 'correcta' => 'Influencia lejana'],
    ['pregunta' => 'IRI pronostica...', 'opciones' => ['Clima local', 'ENSO global', 'Volcanes', 'Terremotos'], 'correcta' => 'ENSO global'],
    ['pregunta' => 'QBO afecta...', 'opciones' => ['Estratosfera', 'Troposfera', 'Oc√©ano', 'Suelo'], 'correcta' => 'Estratosfera'],
    ['pregunta' => 'AMO+ aumenta...', 'opciones' => ['Huracanes Atl√°ntico', 'Tormentas Pac√≠fico', 'Sequ√≠as Europa', 'Fr√≠o √Årtico'], 'correcta' => 'Huracanes Atl√°ntico'],
    ['pregunta' => 'ENSO 2023‚Äì2024 fue...', 'opciones' => ['La Ni√±a', 'El Ni√±o fuerte', 'Neutral', 'PDO'], 'correcta' => 'El Ni√±o fuerte'],
    ['pregunta' => 'Variabilidad sobre cambio es como...', 'opciones' => ['Tendencia', 'Ruido sobre se√±al', 'Se√±al sobre ruido', 'Ciclo'], 'correcta' => 'Ruido sobre se√±al'],
    ['pregunta' => 'SOI negativo indica...', 'opciones' => ['La Ni√±a', 'El Ni√±o', 'Neutral', 'NAO'], 'correcta' => 'El Ni√±o'],

    // === DIF√çCIL (10) ===
    ['pregunta' => 'F√≥rmula ONI', 'opciones' => ['ŒîTSM > ¬±0.5¬∞C √ó 3 meses', 'ŒîTSM > ¬±1¬∞C', 'Presi√≥n', 'Viento'], 'correcta' => 'ŒîTSM > ¬±0.5¬∞C √ó 3 meses'],
    ['pregunta' => 'Regi√≥n Ni√±o 3.4 es...', 'opciones' => ['5¬∞N-5¬∞S, 120¬∞-170¬∞W', 'Ecuador', 'Per√∫', 'Australia'], 'correcta' => '5¬∞N-5¬∞S, 120¬∞-170¬∞W'],
    ['pregunta' => 'Ciclo PDO ‚âà', 'opciones' => ['7 a√±os', '25 a√±os', '60 a√±os', '100 a√±os'], 'correcta' => '25 a√±os'],
    ['pregunta' => 'ENSO modula monz√≥n...', 'opciones' => ['Africano', 'Indio', 'Australiano', 'Europeo'], 'correcta' => 'Indio'],
    ['pregunta' => 'NAO correlaciona con...', 'opciones' => ['Azores y Islandia', 'Tahit√≠ y Darwin', 'Alaska y Jap√≥n', 'Brasil y √Åfrica'], 'correcta' => 'Azores y Islandia'],
    ['pregunta' => 'MJO es...', 'opciones' => ['Oscilaci√≥n Madden-Julian', 'Monz√≥n', 'Jet Stream', 'Corriente'], 'correcta' => 'Oscilaci√≥n Madden-Julian'],
    ['pregunta' => 'ENSO afecta cosechas de...', 'opciones' => ['Trigo Australia', 'Arroz Europa', 'Ma√≠z √Åfrica', 'Caf√© Brasil'], 'correcta' => 'Trigo Australia'],
    ['pregunta' => 'Pron√≥stico ENSO usa modelos...', 'opciones' => ['Estad√≠sticos', 'Din√°micos', 'Ambos', 'Ninguno'], 'correcta' => 'Ambos'],
    ['pregunta' => 'ENSO 1997‚Äì1998 fue...', 'opciones' => ['El m√°s fuerte registrado', 'La Ni√±a', 'Neutral', 'PDO'], 'correcta' => 'El m√°s fuerte registrado'],
    ['pregunta' => 'Variabilidad decadal explica...', 'opciones' => ['Pausa 2000‚Äì2013', 'Calentamiento total', 'CO‚ÇÇ', 'Sol'], 'correcta' => 'Pausa 2000‚Äì2013']
]
];
// ========================================
// MATERIA: ECOSISTEMAS
// SUBTEMA: Huella H√≠drica (Azul, Verde, Gris, C√°lculo, Mitigaci√≥n)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Ecosistemas',
    'slug' => 'huella-hidrica',
    'titulo' => 'Huella H√≠drica: El Agua Oculta en Nuestros Productos',
    'contenido' => '
        <h3>¬øQu√© es la Huella H√≠drica?</h3>
        <p>La <strong>huella h√≠drica</strong> mide el <strong>volumen total de agua dulce</strong> usada para producir bienes y servicios, expresada en <strong>litros</strong> o <strong>m¬≥</strong>. Incluye tres componentes:</p>

        <hr style="border:1px dashed #00ff00;">

        <h4>1. Tipos de Huella H√≠drica</h4>
        <table class="table">
            <thead>
                <tr><th>Tipo</th><th>Color</th><th>Fuente</th><th>Ejemplo</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Azul</strong></td><td>Azul</td><td>Superficial/subterr√°nea</td><td>Riego, industria</td></tr>
                <tr><td><strong>Verde</strong></td><td>Verde</td><td>Lluvia (evapotranspirada)</td><td>Agricultura de secano</td></tr>
                <tr><td><strong>Gris</strong></td><td>Gris</td><td>Contaminada (diluci√≥n)</td><td>Fertilizantes, qu√≠micos</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> 1 kg carne bovina ‚Üí ~15,400 L (94% verde, 4% azul, 2% gris)</p>
        </div>

        <div class="visual">
            <img src="assets/img/huella-hidrica-global.jpg" alt="Huella h√≠drica global por sector">
            <p><em>Huella h√≠drica global por sector. Fuente: Wikipedia.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>2. C√°lculo de la Huella H√≠drica</h4>
        <p>\\[ \\text{HH}_{\\text{total}} = \\text{HH}_{\\text{azul}} + \\text{HH}_{\\text{verde}} + \\text{HH}_{\\text{gris}} \\]</p>
        <p><strong>HH gris:</strong> \\( \\text{HH}_{\\text{gris}} = \\frac{\\text{Carga contaminante}}{\\text{Concentraci√≥n m√°xima permitida}} \\)</p>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> 1 kg N fertilizante ‚Üí ~10,000 L gris</p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>3. Huella H√≠drica por Producto (litros)</h4>
        <table class="table">
            <thead>
                <tr><th>Producto</th><th>HH Total</th><th>% Verde</th></tr>
            </thead>
            <tbody>
                <tr><td>1 kg carne bovina</td><td>15,400</td><td>94%</td></tr>
                <tr><td>1 kg pollo</td><td>4,300</td><td>80%</td></tr>
                <tr><td>1 kg arroz</td><td>2,500</td><td>70%</td></tr>
                <tr><td>1 taza caf√© (125 ml)</td><td>140</td><td>98%</td></tr>
                <tr><td>1 camiseta algod√≥n</td><td>2,700</td><td>99%</td></tr>
                <tr><td>1 kg az√∫car</td><td>1,500</td><td>90%</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/huella-productos.jpg" alt="Huella por producto">
            <p><em>Huella h√≠drica de productos comunes. Fuente: Water Footprint Network.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/huella_hidrica_global.png" alt="Huella h√≠drica global">
            <p><em>Distribuci√≥n global. Fuente: MDPI.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>4. Huella H√≠drica por Pa√≠s (m¬≥/persona/a√±o)</h4>
        <table class="table">
            <thead>
                <tr><th>Pa√≠s</th><th>HH Total</th><th>% Agricultura</th></tr>
            </thead>
            <tbody>
                <tr><td>EE.UU.</td><td>2,842</td><td>80%</td></tr>
                <tr><td>China</td><td>1,071</td><td>90%</td></tr>
                <tr><td>India</td><td>1,089</td><td>92%</td></tr>
                <tr><td>Espa√±a</td><td>2,325</td><td>75%</td></tr>
                <tr><td>Media global</td><td>1,385</td><td>92%</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/mapa-hidrica.jpg" alt="Mapa global huella h√≠drica">
            <p><em>Mapa global. Fuente: Water Footprint Network.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/estres-hidrico.jpg" alt="Estr√©s h√≠drico">
            <p><em>Estr√©s h√≠drico vs huella. Fuente: Science of the Total Environment.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>5. Impactos en Ecosistemas</h4>
        <ul>
            <li><strong>Estr√©s h√≠drico:</strong> Sobreexplotaci√≥n acu√≠feros</li>
            <li><strong>Eutrofizaci√≥n:</strong> Exceso N/P ‚Üí algas</li>
            <li><strong>P√©rdida biodiversidad acu√°tica</strong></li>
        </ul>

        <hr style="border:1px dashed #00ff00;">

        <h4>6. SVG Animado: Desglose de Huella H√≠drica</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 700 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="700" height="500" fill="#87CEEB" opacity="0.1"/>

                <!-- Gotas animadas -->
                <circle cx="100" cy="100" r="15" fill="#1E90FF">
                    <animate attributeName="cy" values="100;80;100" dur="2s" repeatCount="indefinite"/>
                </circle>
                <circle cx="200" cy="120" r="12" fill="#228B22">
                    <animate attributeName="cy" values="120;100;120" dur="2.2s" repeatCount="indefinite"/>
                </circle>
                <circle cx="300" cy="110" r="10" fill="#808080">
                    <animate attributeName="cy" values="110;90;110" dur="2.5s" repeatCount="indefinite"/>
                </circle>

                <!-- Barras -->
                <rect x="400" y="300" width="60" height="150" fill="#1E90FF" rx="10"/>
                <text x="430" y="290" fill="#000" font-size="14" text-anchor="middle">Azul</text>
                <text x="430" y="320" fill="white" font-size="16" text-anchor="middle">10%</text>

                <rect x="480" y="200" width="60" height="250" fill="#228B22" rx="10"/>
                <text x="510" y="190" fill="#000" font-size="14" text-anchor="middle">Verde</text>
                <text x="510" y="230" fill="white" font-size="16" text-anchor="middle">85%</text>

                <rect x="560" y="400" width="60" height="50" fill="#808080" rx="10"/>
                <text x="590" y="390" fill="#000" font-size="14" text-anchor="middle">Gris</text>
                <text x="590" y="420" fill="white" font-size="12" text-anchor="middle">5%</text>

                <!-- Producto -->
                <rect x="150" y="350" width="120" height="80" fill="#8B4513" rx="15"/>
                <text x="210" y="390" fill="white" font-size="16" text-anchor="middle">Carne</text>
                <text x="210" y="410" fill="white" font-size="12" text-anchor="middle">15,400 L</text>

                <!-- Flujo -->
                <path d="M270 390 Q350 350 400 320" stroke="#1E90FF" stroke-width="8" fill="none" marker-end="url(#arrow-blue)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2s" repeatCount="indefinite"/>
                </path>
                <path d="M270 390 Q350 280 480 230" stroke="#228B22" stroke-width="12" fill="none" marker-end="url(#arrow-green)">
                    <animate attributeName="stroke-dashoffset" from="120" to="0" dur="2.5s" repeatCount="indefinite"/>
                </path>
                <path d="M270 390 Q350 420 560 415" stroke="#808080" stroke-width="6" fill="none" marker-end="url(#arrow-gray)">
                    <animate attributeName="stroke-dashoffset" from="80" to="0" dur="3s" repeatCount="indefinite"/>
                </path>

                <!-- Flechas -->
                <defs>
                    <marker id="arrow-blue" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto">
                        <path d="M0,0 L0,6 L9,3 z" fill="#1E90FF"/>
                    </marker>
                    <marker id="arrow-green" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto">
                        <path d="M0,0 L0,6 L9,3 z" fill="#228B22"/>
                    </marker>
                    <marker id="arrow-gray" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto">
                        <path d="M0,0 L0,6 L9,3 z" fill="#808080"/>
                    </marker>
                </defs>

                <!-- T√≠tulo -->
                <text x="350" y="50" fill="#ffcc00" font-size="22" text-anchor="middle" font-family="Arial">Huella H√≠drica: Carne Bovina</text>
            </svg>
            <p><em>SVG Animado: Desglose azul, verde y gris en 1 kg de carne.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Define huella h√≠drica', 'respuesta' => 'Volumen total de agua dulce usada'],
        ['enunciado' => 'Tipos de huella', 'respuesta' => 'Azul, verde, gris'],
        ['enunciado' => 'Unidad est√°ndar', 'respuesta' => 'litros o m¬≥'],

        // === APLICADOS ===
        ['enunciado' => 'HH de 1 kg carne bovina', 'respuesta' => '~15,400 L'],
        ['enunciado' => '¬øQu√© es agua gris?', 'respuesta' => 'Agua contaminada que requiere diluci√≥n'],
        ['enunciado' => 'Producto con mayor HH', 'respuesta' => 'Carne bovina'],

        // === ECOL√ìGICOS ===
        ['enunciado' => '¬øC√≥mo reduce la dieta vegana la HH?', 'respuesta' => 'Elimina carne ‚Üí ‚Üì 50‚Äì70%'],
        ['enunciado' => '¬øQu√© causa estr√©s h√≠drico?', 'respuesta' => 'HH alta en zonas √°ridas'],
        ['enunciado' => '¬øQu√© es huella h√≠drica virtual?', 'respuesta' => 'Agua usada en cadena de suministro'],

        // === AVANZADOS ===
        ['enunciado' => 'F√≥rmula HH gris', 'respuesta' => '\\(\\text{HH}_{\\text{gris}} = \\frac{\\text{Carga}}{\\text{C}_{\\text{m√°x}}}\\)'],
        ['enunciado' => 'HH global promedio', 'respuesta' => '~1,385 m¬≥/persona/a√±o'],
        ['enunciado' => '¬øQu√© mide WFN?', 'respuesta' => 'Water Footprint Network']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Huella h√≠drica mide...', 'opciones' => ['Carbono', 'Uso de agua dulce', 'Basura', 'Energ√≠a'], 'correcta' => 'Uso de agua dulce'],
        ['pregunta' => 'Agua azul es...', 'opciones' => ['Lluvia', 'R√≠os y acu√≠feros', 'Contaminada', 'Evaporada'], 'correcta' => 'R√≠os y acu√≠feros'],
        ['pregunta' => 'Agua verde es...', 'opciones' => ['Riego', 'Lluvia en cultivos', 'Residuos', 'Industrial'], 'correcta' => 'Lluvia en cultivos'],
        ['pregunta' => 'Agua gris es...', 'opciones' => ['Limpia', 'Contaminada', 'Subterr√°nea', 'Superficial'], 'correcta' => 'Contaminada'],
        ['pregunta' => 'Sector con mayor HH', 'opciones' => ['Industria', 'Agricultura', 'Dom√©stico', 'Transporte'], 'correcta' => 'Agricultura'],
        ['pregunta' => 'HH de 1 kg carne ‚âà', 'opciones' => ['1,000 L', '15,400 L', '100 L', '50,000 L'], 'correcta' => '15,400 L'],
        ['pregunta' => 'HH de 1 taza caf√© ‚âà', 'opciones' => ['10 L', '140 L', '1,000 L', '5,000 L'], 'correcta' => '140 L'],
        ['pregunta' => 'Unidad HH', 'opciones' => ['kg', 'litros', 'kWh', 'm¬≤'], 'correcta' => 'litros'],
        ['pregunta' => 'HH virtual es...', 'opciones' => ['Directa', 'En productos importados', 'Local', 'Nada'], 'correcta' => 'En productos importados'],
        ['pregunta' => 'Reducir HH con...', 'opciones' => ['M√°s carne', 'Dieta vegana', 'M√°s riego', 'Pl√°stico'], 'correcta' => 'Dieta vegana'],

        // === MEDIO (10) ===
        ['pregunta' => 'HH Espa√±a ‚âà', 'opciones' => ['1,000 m¬≥', '2,325 m¬≥', '5,000 m¬≥', '500 m¬≥'], 'correcta' => '2,325 m¬≥'],
        ['pregunta' => '% HH global en agricultura', 'opciones' => ['50%', '92%', '20%', '70%'], 'correcta' => '92%'],
        ['pregunta' => 'HH de camiseta algod√≥n ‚âà', 'opciones' => ['500 L', '2,700 L', '10,000 L', '100 L'], 'correcta' => '2,700 L'],
        ['pregunta' => 'HH gris por fertilizante N ‚âà', 'opciones' => ['1,000 L/kg', '10,000 L/kg', '100 L/kg', '50,000 L/kg'], 'correcta' => '10,000 L/kg'],
        ['pregunta' => 'Pa√≠s con mayor HH per c√°pita', 'opciones' => ['India', 'EE.UU.', 'China', 'Brasil'], 'correcta' => 'EE.UU.'],
        ['pregunta' => 'WFN es...', 'opciones' => ['Water Footprint Network', 'World Food Network', 'Water Force', 'Nada'], 'correcta' => 'Water Footprint Network'],
        ['pregunta' => 'Estr√©s h√≠drico ocurre cuando...', 'opciones' => ['HH baja', 'HH > disponibilidad', 'Lluvia alta', 'Nada'], 'correcta' => 'HH > disponibilidad'],
        ['pregunta' => 'HH de arroz vs trigo', 'opciones' => ['Arroz > trigo', 'Igual', 'Trigo > arroz', 'Cero'], 'correcta' => 'Arroz > trigo'],
        ['pregunta' => 'HH de caf√© es alta por...', 'opciones' => ['Riego', 'Procesado', 'Cultivo en secano', 'Transporte'], 'correcta' => 'Cultivo en secano'],
        ['pregunta' => 'HH azul alta en...', 'opciones' => ['Secano', 'Riego intensivo', 'Lluvia', 'Residuos'], 'correcta' => 'Riego intensivo'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'F√≥rmula HH gris', 'opciones' => ['Carga / C_m√°x', 'Carga √ó C_m√°x', 'Carga + C_m√°x', 'C_m√°x / Carga'], 'correcta' => 'Carga / C_m√°x'],
        ['pregunta' => 'HH global total ‚âà', 'opciones' => ['1 Tm¬≥', '9.1 Tm¬≥', '100 Tm¬≥', '0.1 Tm¬≥'], 'correcta' => '9.1 Tm¬≥'],
        ['pregunta' => 'HH de 1 kg az√∫car ‚âà', 'opciones' => ['500 L', '1,500 L', '10,000 L', '50,000 L'], 'correcta' => '1,500 L'],
        ['pregunta' => 'HH de 1 L leche ‚âà', 'opciones' => ['100 L', '1,000 L', '10,000 L', '50 L'], 'correcta' => '1,000 L'],
        ['pregunta' => 'HH de 1 kg pollo vs bovina', 'opciones' => ['Pollo > bovina', 'Pollo < bovina', 'Igual', 'Cero'], 'correcta' => 'Pollo < bovina'],
        ['pregunta' => 'HH de algod√≥n por...', 'opciones' => ['Riego', 'Lluvia', 'Contaminaci√≥n', 'Todo'], 'correcta' => 'Todo'],
        ['pregunta' => 'HH de Espa√±a alta por...', 'opciones' => ['Exportaci√≥n frutas', 'Industria', 'Turismo', 'Nada'], 'correcta' => 'Exportaci√≥n frutas'],
        ['pregunta' => 'HH gris por P ‚âà', 'opciones' => ['100,000 L/kg', '1,000 L/kg', '10,000 L/kg', '50,000 L/kg'], 'correcta' => '100,000 L/kg'],
        ['pregunta' => 'HH sostenible cuando...', 'opciones' => ['HH < disponibilidad', 'HH = 0', 'HH alta', 'Nada'], 'correcta' => 'HH < disponibilidad'],
        ['pregunta' => 'Meta reducci√≥n HH UE', 'opciones' => ['-20% 2030', '-50% 2050', '-10% 2025', 'Nada'], 'correcta' => '-20% 2030']
    ]
];
// ========================================
// MATERIA: ECOSISTEMAS
// SUBTEMA: Huella Ecol√≥gica (Biocapacidad, Overshoot, C√°lculo, Mitigaci√≥n)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Ecosistemas',
    'slug' => 'huella-ecologica',
    'titulo' => 'Huella Ecol√≥gica: ¬øCu√°ntos Planetas Necesitamos?',
    'contenido' => '
        <h3>¬øQu√© es la Huella Ecol√≥gica?</h3>
        <p>La <strong>huella ecol√≥gica</strong> mide la <strong>√°rea biol√≥gicamente productiva</strong> (en <strong>hect√°reas globales, gha</strong>) necesaria para:</p>
        <ul>
            <li>Producir los recursos que consumimos</li>
            <li>Absorber los residuos (CO‚ÇÇ, basura)</li>
        </ul>
        <p><strong>Compara demanda humana vs biocapacidad de la Tierra.</strong></p>

        <hr style="border:1px dashed #00ff00;">

        <h4>1. Componentes de la Huella Ecol√≥gica</h4>
        <table class="table">
            <thead>
                <tr><th>Componente</th><th>Qu√© mide</th><th>Ejemplo</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Huella de carbono</strong></td><td>√Årea para absorber CO‚ÇÇ</td><td>Combustibles f√≥siles</td></tr>
                <tr><td><strong>Cultivos</strong></td><td>Tierra agr√≠cola</td><td>Trigo, ma√≠z</td></tr>
                <tr><td><strong>Pastizales</strong></td><td>Carne, l√°cteos</td><td>Ganado</td></tr>
                <tr><td><strong>Bosques</strong></td><td>Madera, papel</td><td>Tala</td></tr>
                <tr><td><strong>Pesca</strong></td><td>Zonas marinas</td><td>At√∫n, salm√≥n</td></tr>
                <tr><td><strong>Construido</strong></td><td>Ciudades, carreteras</td><td>Urbanizaci√≥n</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>1 persona en EE.UU.</strong> ‚Üí ~8 gha/a√±o</p>
        </div>

        <div class="visual">
            <img src="assets/img/huella-eco.png" alt="Componentes huella ecol√≥gica">
            <p><em>Desglose por componentes. Fuente: Global Footprint Network.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>2. Biocapacidad vs Huella Ecol√≥gica</h4>
        <p>\\[ \\text{D√©ficit ecol√≥gico} = \\text{Huella} - \\text{Biocapacidad} \\]</p>
        <p><strong>2025:</strong> Humanidad usa <strong>1.7 planetas</strong> al a√±o.</p>

        <table class="table">
            <thead>
                <tr><th>Indicador</th><th>Valor 2025</th></tr>
            </thead>
            <tbody>
                <tr><td>Huella global</td><td>~2.8 gha/persona</td></tr>
                <tr><td>Biocapacidad global</td><td>~1.6 gha/persona</td></tr>
                <tr><td>D√©ficit</td><td>-1.2 gha/persona</td></tr>
                <tr><td>Overshoot Day</td><td>~28 de julio</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/Country-Overshoot-Days-2025.jpg" alt="Overshoot Day 2024">
            <p><em>D√≠a del Sobregiro Ecol√≥gico. Fuente: Earth Overshoot Day.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>3. Huella Ecol√≥gica por Pa√≠s (gha/persona)</h4>
        <table class="table">
            <thead>
                <tr><th>Pa√≠s</th><th>Huella</th><th>Biocapacidad</th><th>D√©ficit</th></tr>
            </thead>
            <tbody>
                <tr><td>EE.UU.</td><td>8.1</td><td>3.6</td><td>-4.5</td></tr>
                <tr><td>Espa√±a</td><td>4.1</td><td>1.6</td><td>-2.5</td></tr>
                <tr><td>China</td><td>3.7</td><td>1.1</td><td>-2.6</td></tr>
                <tr><td>India</td><td>1.2</td><td>0.7</td><td>-0.5</td></tr>
                <tr><td>Media global</td><td>2.8</td><td>1.6</td><td>-1.2</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/huella_ecologica_por_pais_consumo_mundial_.jpeg" alt="Mapa global huella ecol√≥gica">
            <p><em>Mapa mundial 2023. Fuente: Global Footprint Network.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/elementos-indicadores-huella-ecologica.png" alt="Elementos huella">
            <p><em>Elementos clave. Fuente: ResearchGate.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>4. Overshoot Day: El D√≠a del Sobregiro</h4>
        <ul>
            <li><strong>1970:</strong> 29 diciembre</li>
            <li><strong>2025:</strong> ~28 julio</li>
            <li>Si todos vivi√©ramos como <strong>EE.UU.</strong> ‚Üí 5 planetas</li>
            <li>Si como <strong>Espa√±a</strong> ‚Üí 2.5 planetas</li>
        </ul>

        <hr style="border:1px dashed #00ff00;">

        <h4>5. SVG Animado: Huella vs Biocapacidad</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 700 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Tierra -->
                <circle cx="350" cy="250" r="120" fill="#228B22" stroke="#006400" stroke-width="3"/>
                <text x="350" y="255" fill="white" font-size="20" text-anchor="middle">Tierra</text>
                <text x="350" y="275" fill="white" font-size="16" text-anchor="middle">1.6 gha</text>

                <!-- Huella (roja, creciendo) -->
                <circle cx="350" cy="250" r="80" fill="none" stroke="#FF0000" stroke-width="8">
                    <animate attributeName="r" from="80" to="180" dur="4s" repeatCount="indefinite"/>
                </circle>
                <text x="350" y="150" fill="#FF0000" font-size="18" text-anchor="middle">
                    <tspan x="350" dy="-10">Huella</tspan>
                    <tspan x="350" dy="20">2.8 gha</tspan>
                </text>

                <!-- Etiquetas animadas -->
                <text x="200" y="100" fill="#FF4500" font-size="14">
                    <animate attributeName="opacity" values="0;1;0" dur="3s" repeatCount="indefinite"/>
                    D√©ficit
                </text>
                <path d="M250 120 Q300 180 340 220" stroke="#FF4500" stroke-width="3" fill="none">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2s" repeatCount="indefinite"/>
                </path>

                <!-- Overshoot Day -->
                <rect x="50" y="380" width="180" height="80" fill="#8B0000" rx="15"/>
                <text x="140" y="415" fill="white" font-size="16" text-anchor="middle">Overshoot</text>
                <text x="140" y="435" fill="white" font-size="14" text-anchor="middle">~28 julio</text>

                <!-- Iconos -->
                <rect x="500" y="100" width="60" height="60" fill="#FF6347" rx="10"/>
                <text x="530" y="135" fill="white" font-size="12" text-anchor="middle">Carb√≥n</text>
                <rect x="500" y="180" width="60" height="60" fill="#FFD700" rx="10"/>
                <text x="530" y="215" fill="#8B4513" font-size="12" text-anchor="middle">Comida</text>

                <!-- T√≠tulo -->
                <text x="350" y="50" fill="#ffcc00" font-size="22" text-anchor="middle" font-family="Arial">Huella Ecol√≥gica > Biocapacidad</text>
            </svg>
            <p><em>SVG Animado: Crecimiento de la huella vs capacidad fija del planeta.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Define huella ecol√≥gica', 'respuesta' => '√Årea productiva para recursos y residuos'],
        ['enunciado' => 'Unidad est√°ndar', 'respuesta' => 'hect√°reas globales (gha)'],
        ['enunciado' => 'Overshoot Day es...', 'respuesta' => 'D√≠a cuando agotamos recursos anuales'],

        // === APLICADOS ===
        ['enunciado' => 'Huella Espa√±a 2025', 'respuesta' => '~4.1 gha/persona'],
        ['enunciado' => '¬øCu√°ntos planetas usamos?', 'respuesta' => '~1.7'],
        ['enunciado' => 'Componente mayor en pa√≠ses ricos', 'respuesta' => 'Huella de carbono'],

        // === ECOL√ìGICOS ===
        ['enunciado' => '¬øC√≥mo reducir huella?', 'respuesta' => 'Menos carne, transporte p√∫blico, reciclaje'],
        ['enunciado' => '¬øQu√© es biocapacidad?', 'respuesta' => 'Capacidad de regeneraci√≥n de ecosistemas'],
        ['enunciado' => '¬øQu√© es reserva ecol√≥gica?', 'respuesta' => 'Biocapacidad > huella'],

        // === AVANZADOS ===
        ['enunciado' => 'F√≥rmula d√©ficit ecol√≥gico', 'respuesta' => '\\(\\text{D√©ficit} = \\text{Huella} - \\text{Biocapacidad}\\)',],
        ['enunciado' => 'Huella global 2025', 'respuesta' => '~20.5 mil millones gha'],
        ['enunciado' => '¬øQu√© mide GFN?', 'respuesta' => 'Global Footprint Network']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Huella ecol√≥gica mide...', 'opciones' => ['√Årea productiva', 'Dinero', 'Agua', 'Energ√≠a'], 'correcta' => '√Årea productiva'],
        ['pregunta' => 'Unidad de huella', 'opciones' => ['m¬≤', 'gha', 'litros', 'kg'], 'correcta' => 'gha'],
        ['pregunta' => 'Overshoot Day 2025 ‚âà', 'opciones' => ['Diciembre', 'Julio', 'Marzo', 'Octubre'], 'correcta' => 'Julio'],
        ['pregunta' => 'Componente principal en ricos', 'opciones' => ['Pesca', 'Carbono', 'Bosque', 'Construido'], 'correcta' => 'Carbono'],
        ['pregunta' => 'Biocapacidad global ‚âà', 'opciones' => ['1.6 gha', '2.8 gha', '5 gha', '0.5 gha'], 'correcta' => '1.6 gha'],
        ['pregunta' => 'Huella global ‚âà', 'opciones' => ['1.6 gha', '2.8 gha', '5 gha', '0.5 gha'], 'correcta' => '2.8 gha'],
        ['pregunta' => 'Planetas que usamos', 'opciones' => ['0.5', '1', '1.7', '3'], 'correcta' => '1.7'],
        ['pregunta' => 'Espa√±a necesita ‚âà', 'opciones' => ['1 planeta', '2.5 planetas', '0.5', '5'], 'correcta' => '2.5 planetas'],
        ['pregunta' => 'Reducir con...', 'opciones' => ['M√°s autos', 'Dieta vegana', 'M√°s pl√°stico', 'Tala'], 'correcta' => 'Dieta vegana'],
        ['pregunta' => 'GFN es...', 'opciones' => ['Global Footprint Network', 'Green Food', 'Nada', 'ONU'], 'correcta' => 'Global Footprint Network'],

        // === MEDIO (10) ===
        ['pregunta' => 'Huella EE.UU. ‚âà', 'opciones' => ['2 gha', '8.1 gha', '1 gha', '15 gha'], 'correcta' => '8.1 gha'],
        ['pregunta' => 'Pa√≠s con reserva ecol√≥gica', 'opciones' => ['EE.UU.', 'Brasil', 'Espa√±a', 'China'], 'correcta' => 'Brasil'],
        ['pregunta' => 'Huella de carbono es ‚âà', 'opciones' => ['20%', '60% de total', '10%', '90%'], 'correcta' => '60% de total'],
        ['pregunta' => 'Overshoot Day avanz√≥ desde...', 'opciones' => ['1970', '2000', '1950', '2020'], 'correcta' => '1970'],
        ['pregunta' => 'Huella de 1 kg carne ‚âà', 'opciones' => ['0.5 gha', '2 gha', '10 gha', '0.1 gha'], 'correcta' => '2 gha'],
        ['pregunta' => 'Huella de 1 km en auto ‚âà', 'opciones' => ['0.0001 gha', '0.001 gha', '0.01 gha', '0.1 gha'], 'correcta' => '0.001 gha'],
        ['pregunta' => 'Huella de reciclaje', 'opciones' => ['Aumenta', 'Reduce', 'Igual', 'Nada'], 'correcta' => 'Reduce'],
        ['pregunta' => 'Huella de energ√≠a renovable', 'opciones' => ['Alta', 'Baja', 'Igual', 'Cero'], 'correcta' => 'Baja'],
        ['pregunta' => 'Huella de pesca en declive por...', 'opciones' => ['Sobreexplotaci√≥n', 'Lluvia', 'Fr√≠o', 'Nada'], 'correcta' => 'Sobreexplotaci√≥n'],
        ['pregunta' => 'Huella construida incluye...', 'opciones' => ['Carreteras', 'Bosques', 'Oc√©anos', 'Aire'], 'correcta' => 'Carreteras'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'F√≥rmula d√©ficit', 'opciones' => ['Huella - Biocapacidad', 'Biocapacidad - Huella', 'Huella √ó Biocapacidad', 'Huella / Biocapacidad'], 'correcta' => 'Huella - Biocapacidad'],
        ['pregunta' => 'Huella total humanidad ‚âà', 'opciones' => ['10 mil millones gha', '20.5 mil millones gha', '5 mil millones', '50 mil millones'], 'correcta' => '20.5 mil millones gha'],
        ['pregunta' => 'Biocapacidad total ‚âà', 'opciones' => ['12 mil millones gha', '20 mil millones', '5 mil millones', '1 mil millones'], 'correcta' => '12 mil millones gha'],
        ['pregunta' => 'Equivalencia 1 gha ‚âà', 'opciones' => ['1 ha promedio Tierra', '1 ha bosque', '1 ha oc√©ano', '1 ha desierto'], 'correcta' => '1 ha promedio Tierra'],
        ['pregunta' => 'Huella de 1 ha bosque absorbe ‚âà', 'opciones' => ['1 t CO‚ÇÇ/a√±o', '5 t CO‚ÇÇ/a√±o', '10 t CO‚ÇÇ/a√±o', '0.1 t'], 'correcta' => '5 t CO‚ÇÇ/a√±o'],
        ['pregunta' => 'Huella de 1 L gasolina ‚âà', 'opciones' => ['0.001 gha', '0.01 gha', '0.1 gha', '1 gha'], 'correcta' => '0.01 gha'],
        ['pregunta' => 'Huella de dieta vegana vs promedio', 'opciones' => ['50% menor', 'Igual', 'Mayor', 'Doble'], 'correcta' => '50% menor'],
        ['pregunta' => 'Huella de transporte p√∫blico vs auto', 'opciones' => ['Mayor', 'Menor', 'Igual', 'Cero'], 'correcta' => 'Menor'],
        ['pregunta' => 'Meta sostenible', 'opciones' => ['Huella ‚â§ 1.6 gha', 'Huella = 0', 'Huella > biocapacidad', 'Nada'], 'correcta' => 'Huella ‚â§ 1.6 gha'],
        ['pregunta' => 'GFN fundado en...', 'opciones' => ['1992', '2003', '1970', '2020'], 'correcta' => '2003']
    ]
];
// ========================================
// MATERIA: ECOSISTEMAS
// SUBTEMA: Flecha Dorada (Transici√≥n hacia Econom√≠a Circular y Sostenibilidad)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Ecosistemas',
    'slug' => 'flecha-dorada',
    'titulo' => 'Flecha Dorada: La Direcci√≥n hacia la Sostenibilidad',
    'contenido' => '
        <h3>¬øQu√© es la Flecha Dorada?</h3>
        <p>La <strong>Flecha Dorada</strong> es un <strong>s√≠mbolo conceptual</strong> que representa la <strong>transici√≥n estrat√©gica</strong> desde un modelo <strong>lineal (tomar-hacer-desechar)</strong> hacia una <strong>econom√≠a circular, regenerativa y sostenible</strong>.</p>
        <p><strong>Representa la direcci√≥n correcta</strong> en pol√≠ticas, empresas y sociedad para alinear el desarrollo con los l√≠mites planetarios.</p>

        <hr style="border:1px dashed #00ff00;">

        <h4>1. Modelo Lineal vs Circular</h4>
        <table class="table">
            <thead>
                <tr><th>Aspecto</th><th>Lineal</th><th>Circular (Flecha Dorada)</th></tr>
            </thead>
            <tbody>
                <tr><td>Estructura</td><td>Tomar ‚Üí Hacer ‚Üí Desechar</td><td>Cerrar ciclos ‚Üí Regenerar</td></tr>
                <tr><td>Residuos</td><td>Alta generaci√≥n</td><td>Dise√±ados como recursos</td></tr>
                <tr><td>Recursos</td><td>Finito, extracci√≥n</td><td>Renovable, reutilizaci√≥n</td></tr>
                <tr><td>Impacto</td><td>Degradaci√≥n</td><td>Restauraci√≥n</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Apple</strong> ‚Üí usa aluminio 100% reciclado en iPhone (2025).</p>
        </div>

        <div class="visual">
            <img src="assets/img/barreras-ec.circ_.jpg" alt="Barreras econom√≠a circular">
            <p><em>Barreras y soluciones. Fuente: MDPI.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>2. Principios de la Econom√≠a Circular (Ellen MacArthur)</h4>
        <ol>
            <li><strong>Eliminar residuos y contaminaci√≥n</strong> desde el dise√±o</li>
            <li><strong>Mantener productos y materiales en uso</strong></li>
            <li><strong>Regenerar sistemas naturales</strong></li>
        </ol>

        <div class="visual">
            <img src="assets/img/economiaCircualr.png" alt="Modelo circular">
            <p><em>Diagrama de econom√≠a circular. Fuente: infoDiagram.</em></p>
        </div>

        <hr style="border Vitro:1px dashed #00ff00;">

        <h4>3. Flecha Dorada en Acci√≥n: Ejemplos 2025</h4>
        <table class="table">
            <thead>
                <tr><th>Iniciativa</th><th>Acci√≥n</th><th>Impacto</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>UE Circular Economy Package</strong></td><td>80% reciclaje 2030</td><td>‚Üì 700 Mt CO‚ÇÇ</td></tr>
                <tr><td><strong>China Zero Waste Cities</strong></td><td>100 ciudades piloto</td><td>‚Üì 50% residuos</td></tr>
                <tr><td><strong>Philips Light as a Service</strong></td><td>Alquiler de luz</td><td>‚Üì 60% energ√≠a</td></tr>
                <tr><td><strong>Interface Net-Works</strong></td><td>Redes pesca ‚Üí alfombras</td><td>200,000 kg redes recicladas</td></tr>
            </tbody>
        </table>
        <hr style="border:1px dashed #00ff00;">

        <h4>4. Circularidad Global 2025</h4>
        <p><strong>Circularity Gap Report 2025:</strong></p>
        <ul>
            <li><strong>Solo 7.2% circular</strong> (‚Üì desde 9.1% en 2018)</li>
            <li><strong>92.8% lineal</strong></li>
            <li><strong>Meta:</strong> 17% para 2032</li>
        </ul>

        <div class="visual">
            <img src="assets/img/economia-circular-diplomado-1.webp" alt="Circularity Gap 2025">
            <p><em>Brecha de circularidad. Fuente: Circularity Gap Report.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/prisma-desarrollo-sostenible.png" alt="Modelo prisma">
            <p><em>Prisma de desarrollo sostenible. Fuente: ResearchGate.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>5. La Flecha Dorada y los ODS</h4>
        <p>Apunta directamente a:</p>
        <ul>
            <li><strong>ODS 12:</strong> Producci√≥n y consumo responsables</li>
            <li><strong>ODS 13:</strong> Acci√≥n por el clima</li>
            <li><strong>ODS 15:</strong> Vida de ecosistemas terrestres</li>
        </ul>

        <hr style="border:1px dashed #00ff00;">

        <h4>6. SVG Animado: Flecha Dorada en Movimiento</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 700 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo degradado -->
                <defs>
                    <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" stop-color="#228B22"/>
                        <stop offset="100%" stop-color="#87CEEB"/>
                    </linearGradient>
                </defs>
                <rect x="0" y="0" width="700" height="500" fill="url(#grad)"/>

                <!-- Flecha dorada animada -->
                <path d="M100 250 Q200 200 350 250 T600 250" stroke="#FFD700" stroke-width="12" fill="none" marker-end="url(#arrowhead)">
                    <animate attributeName="stroke-dashoffset" from="1000" to="0" dur="4s" repeatCount="indefinite"/>
                    <animate attributeName="stroke-dasharray" values="0,1000;1000,0" dur="4s" repeatCount="indefinite"/>
                </path>

                <!-- Punta de flecha -->
                <defs>
                    <marker id="arrowhead" markerWidth="20" markerHeight="20" refX="18" refY="10" orient="auto">
                        <polygon points="0,0 20,10 0,20" fill="#FFD700"/>
                    </marker>
                </defs>

                <!-- Hitos en el camino -->
                <circle cx="150" cy="220" r="30" fill="#FF4500" opacity="0.8">
                    <animate attributeName="r" values="30;40;30" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="150" y="225" fill="white" font-size="12" text-anchor="middle">Lineal</text>

                <circle cx="350" cy="250" r="40" fill="#FFD700" opacity="0.9">
                    <animate attributeName="r" values="40;50;40" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="350" y="245" fill="#8B4513" font-size="14" text-anchor="middle">Transici√≥n</text>
                <text x="350" y="265" fill="#8B4513" font-size="12" text-anchor="middle">Circular</text>

                <circle cx="550" cy="230" r="35" fill="#228B22">
                    <animate attributeName="r" values="35;45;35" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="550" y="235" fill="white" font-size="14" text-anchor="middle">Regenerativa</text>

                <!-- Iconos -->
                <rect x="80" y="300" width="50" height="50" fill="#DC143C" rx="10"/>
                <text x="105" y="330" fill="white" font-size="12" text-anchor="middle">Desecho</text>

                <circle cx="620" cy="320" r="25" fill="#32CD32"/>
                <text x="620" y="325" fill="white" font-size="12" text-anchor="middle">Recurso</text>

                <!-- T√≠tulo -->
                <text x="350" y="80" fill="#FFD700" font-size="26" text-anchor="middle" font-family="Arial" font-weight="bold">FLECHA DORADA</text>
                <text x="350" y="110" fill="#FFFFFF" font-size="18" text-anchor="middle">Hacia la Econom√≠a Circular</text>
            </svg>
            <p><em>SVG Animado: Camino desde lo lineal hacia lo regenerativo.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Define Flecha Dorada', 'respuesta' => 'Direcci√≥n hacia econom√≠a circular y sostenible'],
        ['enunciado' => 'Modelo opuesto', 'respuesta' => 'Econom√≠a lineal'],
        ['enunciado' => '3 principios circular', 'respuesta' => 'Eliminar residuos, mantener en uso, regenerar naturaleza'],

        // === APLICADOS ===
        ['enunciado' => 'Ejemplo empresa circular', 'respuesta' => 'Philips Light as a Service'],
        ['enunciado' => '% circularidad global 2025', 'respuesta' => '7.2%'],
        ['enunciado' => 'Meta UE reciclaje 2030', 'respuesta' => '80%'],

        // === ECOL√ìGICOS ===
        ['enunciado' => '¬øC√≥mo reduce huella ecol√≥gica?', 'respuesta' => 'Reutiliza recursos, ‚Üì extracci√≥n'],
        ['enunciado' => '¬øQu√© es upcycling?', 'respuesta' => 'Convertir residuo en producto de mayor valor'],
        ['enunciado' => '¬øQu√© es dise√±o regenerativo?', 'respuesta' => 'Dise√±ar para restaurar ecosistemas'],

        // === AVANZADOS ===
        ['enunciado' => 'F√≥rmula circularidad', 'respuesta' => '\\(\\text{Circularidad} = \\frac{\\text{Material reciclado}}{\\text{Total entrada}} \\times 100\\)'],
        ['enunciado' => 'Circularity Gap 2018 vs 2025', 'respuesta' => '9.1% ‚Üí 7.2%'],
        ['enunciado' => '¬øQu√© es EMF?', 'respuesta' => 'Ellen MacArthur Foundation']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Flecha Dorada apunta a...', 'opciones' => ['Econom√≠a circular', 'Caza', 'Oro', 'Lineal'], 'correcta' => 'Econom√≠a circular'],
        ['pregunta' => 'Modelo lineal es...', 'opciones' => ['Tomar-hacer-desechar', 'Cerrar ciclos', 'Regenerar', 'Reciclar'], 'correcta' => 'Tomar-hacer-desechar'],
        ['pregunta' => 'Circularidad global 2025', 'opciones' => ['50%', '7.2%', '90%', '0%'], 'correcta' => '7.2%'],
        ['pregunta' => 'Principio 1 circular', 'opciones' => ['Eliminar residuos', 'M√°s pl√°stico', 'Quemar', 'Extraer'], 'correcta' => 'Eliminar residuos'],
        ['pregunta' => 'EMF es...', 'opciones' => ['Ellen MacArthur Foundation', 'Energy Market', 'Nada', 'ONU'], 'correcta' => 'Ellen MacArthur Foundation'],
        ['pregunta' => 'Ejemplo circular', 'opciones' => ['Alquiler luz', 'Basura', 'Pl√°stico nuevo', 'Carb√≥n'], 'correcta' => 'Alquiler luz'],
        ['pregunta' => 'Upcycling es...', 'opciones' => ['Valor ‚Üë', 'Valor ‚Üì', 'Reciclaje', 'Basura'], 'correcta' => 'Valor ‚Üë'],
        ['pregunta' => 'Meta UE 2030', 'opciones' => ['50%', '80% reciclaje', '100%', '0%'], 'correcta' => '80% reciclaje'],
        ['pregunta' => 'Residuos en circular son...', 'opciones' => ['Recursos', 'Basura', 'Contaminaci√≥n', 'Nada'], 'correcta' => 'Recursos'],
        ['pregunta' => 'Flecha Dorada reduce...', 'opciones' => ['Huella ecol√≥gica', 'Aumenta', 'Igual', 'Cero'], 'correcta' => 'Huella ecol√≥gica'],

        // === MEDIO (10) ===
        ['pregunta' => 'Circularity Gap Report dice...', 'opciones' => ['7.2% circular', '50%', '100%', '0%'], 'correcta' => '7.2% circular'],
        ['pregunta' => 'China tiene...', 'opciones' => ['100 ciudades zero waste', '1 ciudad', 'Ninguna', '1000'], 'correcta' => '100 ciudades zero waste'],
        ['pregunta' => 'Interface Net-Works recicla...', 'opciones' => ['Redes pesca', 'Pl√°stico', 'Papel', 'Vidrio'], 'correcta' => 'Redes pesca'],
        ['pregunta' => 'Dise√±o para desmontaje permite...', 'opciones' => ['Reutilizaci√≥n', 'Basura', 'Quema', 'Nada'], 'correcta' => 'Reutilizaci√≥n'],
        ['pregunta' => 'Econom√≠a de funcionalidad es...', 'opciones' => ['Vender servicio', 'Vender producto', 'Ambos', 'Ninguno'], 'correcta' => 'Vender servicio'],
        ['pregunta' => 'Cradle to Cradle es...', 'opciones' => ['Dise√±o regenerativo', 'Lineal', 'Reciclaje', 'Basura'], 'correcta' => 'Dise√±o regenerativo'],
        ['pregunta' => 'ODS 12 es...', 'opciones' => ['Consumo responsable', 'Agua', 'Educaci√≥n', 'Salud'], 'correcta' => 'Consumo responsable'],
        ['pregunta' => 'Biomimicry en dise√±o es...', 'opciones' => ['Imitar naturaleza', 'Ignorar', 'Destruir', 'Nada'], 'correcta' => 'Imitar naturaleza'],
        ['pregunta' => 'Producto como servicio reduce...', 'opciones' => ['Propiedad', 'Aumenta', 'Igual', 'Cero'], 'correcta' => 'Propiedad'],
        ['pregunta' => 'Circularidad ‚Üì desde 2018 por...', 'opciones' => ['Crecimiento poblaci√≥n', 'Menos reciclaje', 'M√°s pl√°stico', 'Todo'], 'correcta' => 'Todo'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'F√≥rmula circularidad', 'opciones' => ['(Reciclado / Total) √ó 100', 'Total / Reciclado', 'Reciclado √ó Total', '100 - Reciclado'], 'correcta' => '(Reciclado / Total) √ó 100'],
        ['pregunta' => 'Meta circularidad 2032', 'opciones' => ['17%', '50%', '100%', '7.2%'], 'correcta' => '17%'],
        ['pregunta' => 'UE reduce CO‚ÇÇ con circularidad en...', 'opciones' => ['700 Mt', '100 Mt', '1 Gt', '10 Mt'], 'correcta' => '700 Mt'],
        ['pregunta' => 'Net-Works recolect√≥...', 'opciones' => ['200,000 kg redes', '1 kg', '1 mill√≥n kg', '10 kg'], 'correcta' => '200,000 kg redes'],
        ['pregunta' => 'Light as a Service ‚Üì energ√≠a en...', 'opciones' => ['60%', '10%', '100%', '0%'], 'correcta' => '60%'],
        ['pregunta' => 'Principio 3 circular', 'opciones' => ['Regenerar naturaleza', 'Extraer', 'Contaminar', 'Desechar'], 'correcta' => 'Regenerar naturaleza'],
        ['pregunta' => 'C2C certificado por...', 'opciones' => ['McDonough & Braungart', 'ONU', 'UE', 'Nada'], 'correcta' => 'McDonough & Braungart'],
        ['pregunta' => 'Econom√≠a azul imita...', 'opciones' => ['Ecosistemas', 'F√°bricas', 'Ciudades', 'Nada'], 'correcta' => 'Ecosistemas'],
        ['pregunta' => 'Circularidad requiere...', 'opciones' => ['Dise√±o sist√©mico', 'Solo reciclaje', 'M√°s pl√°stico', 'Lineal'], 'correcta' => 'Dise√±o sist√©mico'],
        ['pregunta' => 'EMF fundada en...', 'opciones' => ['2010', '2000', '2020', '1990'], 'correcta' => '2010']
    ]
];
// ========================================
// MATERIA: ECOSISTEMAS
// SUBTEMA: Obsolescencia Percibida (E-Waste, Fast Fashion, Dise√±o Anti-Reparaci√≥n, Sostenibilidad)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Ecosistemas',
    'slug' => 'obsolescencia-percibida',
    'titulo' => 'Obsolescencia Percibida: El Enga√±o del "Nuevo es Mejor"',
    'contenido' => '
        <h3>¬øQu√© es la Obsolescencia Percibida?</h3>
        <p>La <strong>obsolescencia percibida</strong> es una <strong>estrategia de marketing</strong> que hace que un producto funcional parezca <strong>obsoleto</strong> por <strong>moda, dise√±o o presi√≥n social</strong>, no por falla t√©cnica.</p>
        <p><strong>Consecuencia:</strong> ‚Üë Consumo, ‚Üë Residuos, ‚Üë Impacto ambiental.</p>

        <hr style="border:1px dashed #00ff00;">

        <h4>1. Tipos de Obsolescencia</h4>
        <table class="table">
            <thead>
                <tr><th>Tipo</th><th>Descripci√≥n</th><th>Ejemplo</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Percibida</strong></td><td>Moda/marketing</td><td>iPhone "viejo"</td></tr>
                <tr><td><strong>Planificada</strong></td><td>Dise√±o para fallar</td><td>Bombilla Phoebus</td></tr>
                <tr><td><strong>T√©cnica</strong></td><td>Falla real</td><td>Bater√≠a agotada</td></tr>
                <tr><td><strong>Sist√©mica</strong></td><td>Incompatibilidad</td><td>Cargador nuevo</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Fast Fashion</strong> ‚Üí 92 millones de toneladas de ropa al vertedero/a√±o.</p>
        </div>

        <div class="visual">
            <img src="assets/img/dimensiones-obsolensencia.png" alt="Dimensiones obsolescencia">
            <p><em>Forma, Tiempo, Intenci√≥n (FTI). Fuente: ResearchGate.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>2. Impacto Ambiental 2025</h4>
        <table class="table">
            <thead>
                <tr><th>Indicador</th><th>Valor Global</th></tr>
            </thead>
            <tbody>
                <tr><td>E-Waste generado</td><td>62 millones de toneladas</td></tr>
                <tr><td>Reciclado</td><td>Solo 22.3%</td></tr>
                <tr><td>Fast Fashion residuos</td><td>92 millones de toneladas</td></tr>
                <tr><td>CO‚ÇÇ por ropa</td><td>10% emisiones globales</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/e-waste-2024.png" alt="E-Waste Monitor 2024">
            <p><em>Global E-Waste Monitor 2024. Fuente: UNU.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>3. Ejemplos por Industria</h4>
        <table class="table">
            <thead>
                <tr><th>Industria</th><th>Estrategia</th><th>Consecuencia</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Smartphones</strong></td><td>Nuevos modelos anuales</td><td>1.5 mil millones unidades/a√±o</td></tr>
                <tr><td><strong>Moda</strong></td><td>Tendencias r√°pidas</td><td>100 mil millones prendas/a√±o</td></tr>
                <tr><td><strong>Electrodom√©sticos</strong></td><td>Dise√±o no reparable</td><td>50 millones toneladas e-waste</td></tr>
                <tr><td><strong>Cosm√©ticos</strong></td><td>Packaging "nuevo"</td><td>120 mil millones envases/a√±o</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/mediacion-grupo-tecnologia.png" alt="Mediaci√≥n obsolescencia">
            <p><em>Mediaci√≥n entre grupo y tecnolog√≠a. Fuente: ResearchGate.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/grafico-obsolescencia.png" alt="Gr√°fico t√≠pico">
            <p><em>Gr√°fico de obsolescencia. Fuente: ResearchGate.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/crisis-e-waste.avif" alt="Greenpeace e-waste">
            <p><em>Greenpeace: Crisis del e-waste. Fuente: Greenpeace.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>4. C√≥mo Combatirla: Alternativas Sostenibles</h4>
        <ul>
            <li><strong>Dise√±o modular</strong> (Fairphone)</li>
            <li><strong>Right to Repair</strong> (UE 2025)</li>
            <li><strong>Consumo consciente</strong></li>
            <li><strong>Second-hand & upcycling</strong></li>
        </ul>

        <hr style="border:1px dashed #00ff00;">

        <h4>5. SVG Animado: Ciclo de Obsolescencia Percibida</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 700 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="700" height="500" fill="#f0f0f0"/>

                <!-- Producto "nuevo" -->
                <rect x="50" y="100" width="120" height="180" fill="#32CD32" rx="15"/>
                <text x="110" y="180" fill="white" font-size="14" text-anchor="middle">NUEVO</text>
                <text x="110" y="200" fill="white" font-size="12" text-anchor="middle">iPhone 16</text>

                <!-- Flecha marketing -->
                <path d="M170 190 Q250 150 330 190" stroke="#FF4500" stroke-width="6" fill="none" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="200" to="0" dur="2s" repeatCount="indefinite"/>
                </path>
                <text x="250" y="140" fill="#FF4500" font-size="14" text-anchor="middle">Marketing</text>

                <!-- Producto "viejo" -->
                <rect x="380" y="100" width="120" height="180" fill="#808080" rx="15"/>
                <text x="440" y="180" fill="white" font-size="14" text-anchor="middle">"OBSOLETO"</text>
                <text x="440" y="200" fill="white" font-size="12" text-anchor="middle">iPhone 14</text>

                <!-- Basura -->
                <path d="M440 280 L380 350 L500 350 Z" fill="#8B4513"/>
                <text x="440" y="380" fill="#DC143C" font-size="16" text-anchor="middle">E-WASTE</text>
                <text x="440" y="400" fill="#DC143C" font-size="12" text-anchor="middle">62 Mt/a√±o</text>

                <!-- Flecha basura -->
                <path d="M440 280 L440 340" stroke="#DC143C" stroke-width="8">
                    <animate attributeName="stroke-dashoffset" from="60" to="0" dur="1.5s" repeatCount="indefinite"/>
                </path>

                <!-- Alternativa sostenible -->
                <circle cx="200" cy="400" r="50" fill="#228B22" opacity="0.8">
                    <animate attributeName="r" values="50;60;50" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="200" y="395" fill="white" font-size="12" text-anchor="middle">REPARAR</text>
                <text x="200" y="410" fill="white" font-size="12" text-anchor="middle">REUSAR</text>

                <!-- Flecha -->
                <defs>
                    <marker id="arrow" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#FF4500"/>
                    </marker>
                </defs>

                <!-- T√≠tulo -->
                <text x="350" y="60" fill="#FF4500" font-size="24" text-anchor="middle" font-family="Arial" font-weight="bold">OBSOLESCENCIA PERCIBIDA</text>
                <text x="350" y="85" fill="#333" font-size="16" text-anchor="middle">De "nuevo" a basura en 12 meses</text>
            </svg>
            <p><em>SVG Animado: Ciclo de obsolescencia percibida vs alternativa sostenible.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Define obsolescencia percibida', 'respuesta' => 'Obsoleto por moda/marketing, no por falla'],
        ['enunciado' => 'Diferencia con planificada', 'respuesta' => 'Percibida: social; Planificada: t√©cnica'],
        ['enunciado' => 'Ejemplo t√≠pico', 'respuesta' => 'Smartphone "viejo" por nuevo modelo'],

        // === APLICADOS ===
        ['enunciado' => 'E-Waste global 2025', 'respuesta' => '62 millones de toneladas'],
        ['enunciado' => '% reciclado e-waste', 'respuesta' => '22.3%'],
        ['enunciado' => 'Fast fashion genera...', 'respuesta' => '92 millones toneladas residuos/a√±o'],

        // === ECOL√ìGICOS ===
        ['enunciado' => '¬øC√≥mo combatirla?', 'respuesta' => 'Right to Repair, second-hand, dise√±o modular'],
        ['enunciado' => '¬øQu√© es upcycling?', 'respuesta' => 'Transformar residuo en producto de mayor valor'],
        ['enunciado' => '¬øQu√© es Fairphone?', 'respuesta' => 'Tel√©fono modular y reparable'],

        // === AVANZADOS ===
        ['enunciado' => 'F√≥rmula impacto obsolescencia', 'respuesta' => '\\(\\text{Impacto} = \\text{Consumo} \\times \\text{Residuos} \\times \\text{Emisiones}\\)',],
        ['enunciado' => 'CO‚ÇÇ de moda vs aviaci√≥n', 'respuesta' => '10% vs 2.5% global'],
        ['enunciado' => '¬øQu√© es el Pacto Phoebus?', 'respuesta' => 'C√°rtel para limitar vida de bombillas']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Obsolescencia percibida es por...', 'opciones' => ['Falla', 'Moda', 'Calidad', 'Durabilidad'], 'correcta' => 'Moda'],
        ['pregunta' => 'Aumenta...', 'opciones' => ['Residuos', 'Reciclaje', 'Durabilidad', 'Nada'], 'correcta' => 'Residuos'],
        ['pregunta' => 'Ejemplo t√≠pico', 'opciones' => ['iPhone viejo', 'Auto eterno', 'Ropa duradera', 'Nada'], 'correcta' => 'iPhone viejo'],
        ['pregunta' => 'Fast fashion genera...', 'opciones' => ['92 Mt residuos', '0', '1 Mt', '1000 Mt'], 'correcta' => '92 Mt residuos'],
        ['pregunta' => 'E-Waste 2025 ‚âà', 'opciones' => ['62 Mt', '10 Mt', '100 Mt', '1 Mt'], 'correcta' => '62 Mt'],
        ['pregunta' => 'Reciclado e-waste', 'opciones' => ['80%', '22.3%', '50%', '100%'], 'correcta' => '22.3%'],
        ['pregunta' => 'Moda emite m√°s CO‚ÇÇ que...', 'opciones' => ['Aviaci√≥n', 'Agricultura', 'Energ√≠a', 'Nada'], 'correcta' => 'Aviaci√≥n'],
        ['pregunta' => 'Right to Repair es...', 'opciones' => ['Derecho a reparar', 'Derecho a desechar', 'Nada', 'Obligaci√≥n'], 'correcta' => 'Derecho a reparar'],
        ['pregunta' => 'Fairphone es...', 'opciones' => ['Modular', 'Desechable', 'Caro', 'Nada'], 'correcta' => 'Modular'],
        ['pregunta' => 'Upcycling es...', 'opciones' => ['Valor ‚Üë', 'Valor ‚Üì', 'Reciclaje', 'Basura'], 'correcta' => 'Valor ‚Üë'],

        // === MEDIO (10) ===
        ['pregunta' => 'Pacto Phoebus limit√≥ bombillas a...', 'opciones' => ['1000 horas', '10000 horas', '100 horas', '1 hora'], 'correcta' => '1000 horas'],
        ['pregunta' => 'Obsolescencia sist√©mica es...', 'opciones' => ['Incompatibilidad', 'Falla', 'Moda', 'Calidad'], 'correcta' => 'Incompatibilidad'],
        ['pregunta' => 'Smartphones anuales generan...', 'opciones' => ['1.5 mil millones', '100 millones', '10 millones', '0'], 'correcta' => '1.5 mil millones'],
        ['pregunta' => 'Cosm√©ticos generan...', 'opciones' => ['120 mil millones envases', '1 mill√≥n', '0', '1000'], 'correcta' => '120 mil millones envases'],
        ['pregunta' => 'UE obliga Right to Repair en...', 'opciones' => ['2025', '2030', '2020', '2050'], 'correcta' => '2025'],
        ['pregunta' => 'Second-hand reduce...', 'opciones' => ['Huella ecol√≥gica', 'Aumenta', 'Igual', 'Cero'], 'correcta' => 'Huella ecol√≥gica'],
        ['pregunta' => 'Dise√±o modular permite...', 'opciones' => ['Reparar f√°cil', 'Tirar', 'Quemar', 'Nada'], 'correcta' => 'Reparar f√°cil'],
        ['pregunta' => 'E-Waste contiene...', 'opciones' => ['Oro, plata', 'Solo pl√°stico', 'Nada', 'Basura'], 'correcta' => 'Oro, plata'],
        ['pregunta' => 'Ropa al vertedero...', 'opciones' => ['92 Mt/a√±o', '0', '1 Mt', '1000 Mt'], 'correcta' => '92 Mt/a√±o'],
        ['pregunta' => 'Marketing crea...', 'opciones' => ['Necesidad falsa', 'Durabilidad', 'Calidad', 'Nada'], 'correcta' => 'Necesidad falsa'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'F√≥rmula impacto obsolescencia', 'opciones' => ['C √ó R √ó E', 'C / R', 'R - E', 'E / C'], 'correcta' => 'C √ó R √ó E'],
        ['pregunta' => 'CO‚ÇÇ moda vs global', 'opciones' => ['10%', '1%', '50%', '0%'], 'correcta' => '10%'],
        ['pregunta' => '1 smartphone contiene ‚âà', 'opciones' => ['0.034 g oro', '1 g', '10 g', '0 g'], 'correcta' => '0.034 g oro'],
        ['pregunta' => 'Pacto Phoebus fundado en...', 'opciones' => ['1924', '1950', '2000', '2020'], 'correcta' => '1924'],
        ['pregunta' => 'E-Waste crecer√° a...', 'opciones' => ['82 Mt en 2030', '10 Mt', '1 Mt', '0'], 'correcta' => '82 Mt en 2030'],
        ['pregunta' => 'Fairphone vida √∫til ‚âà', 'opciones' => ['7 a√±os', '1 a√±o', '2 a√±os', '0'], 'correcta' => '7 a√±os'],
        ['pregunta' => 'Ropa segunda mano ‚Üì emisiones en...', 'opciones' => ['60%', '10%', '100%', '0%'], 'correcta' => '60%'],
        ['pregunta' => 'E-Waste valioso contiene...', 'opciones' => ['US$62.5 mil millones', '0', '1 mill√≥n', '1000'], 'correcta' => 'US$62.5 mil millones'],
        ['pregunta' => 'Ley UE 2025 obliga...', 'opciones' => ['Reparabilidad 7 a√±os', '1 a√±o', '0', '10 a√±os'], 'correcta' => 'Reparabilidad 7 a√±os'],
        ['pregunta' => 'Obsolescencia percibida es...', 'opciones' => ['Estrategia de mercado', 'Accidente', 'Falla', 'Calidad'], 'correcta' => 'Estrategia de mercado']
    ]
];
// ========================================
// MATERIA: ECOSISTEMAS
// SUBTEMA: Obsolescencia Programada (C√°rtel Phoebus, E-Waste, Bater√≠as, Leyes)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Ecosistemas',
    'slug' => 'obsolescencia-programada',
    'titulo' => 'Obsolescencia Programada: El Negocio de Romper las Cosas',
    'contenido' => '
        <h3>¬øQu√© es la Obsolescencia Programada?</h3>
        <p>La <strong>obsolescencia programada</strong> es el <strong>dise√±o intencional</strong> de un producto para que <strong>falle, se vuelva inutilizable o incompatible</strong> despu√©s de un tiempo predeterminado, <strong>forzando el reemplazo</strong>.</p>
        <p><strong>Objetivo:</strong> ‚Üë Ventas recurrentes. <strong>Consecuencia:</strong> ‚Üë Residuos, ‚Üë Contaminaci√≥n, ‚Üë Agotamiento de recursos.</p>

        <hr style="border:1px dashed #00ff00;">

        <h4>1. Tipos de Obsolescencia Programada</h4>
        <table class="table">
            <thead>
                <tr><th>Tipo</th><th>Mecanismo</th><th>Ejemplo</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>T√©cnica</strong></td><td>Pieza fr√°gil</td><td>Bater√≠a iPhone</td></tr>
                <tr><td><strong>Software</strong></td><td>Fin de soporte</td><td>Windows XP</td></tr>
                <tr><td><strong>Incompatibilidad</strong></td><td>Nuevo est√°ndar</td><td>Cargador USB-C</td></tr>
                <tr><td><strong>Est√©tica</strong></td><td>Dise√±o anticuado</td><td>TV "vieja"</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo Hist√≥rico:</strong> <strong>C√°rtel Phoebus (1924‚Äì1939)</strong> ‚Üí Limit√≥ vida de bombillas a <strong>1,000 horas</strong> (antes: 2,500 h).</p>
        </div>

        <div class="visual">
            <img src="assets/img/dimensiones-obsolensencia.png" alt="Dimensiones FTI">
            <p><em>Forma, Tiempo, Intenci√≥n (FTI). Fuente: ResearchGate.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>2. Impacto Ambiental 2025</h4>
        <table class="table">
            <thead>
                <tr><th>Indicador</th><th>Valor</th></tr>
            </thead>
            <tbody>
                <tr><td>E-Waste por obsolescencia</td><td>~50 Mt/a√±o</td></tr>
                <tr><td>Reciclaje global</td><td>22.3%</td></tr>
                <tr><td>Metales cr√≠ticos perdidos</td><td>US$62.5 mil millones</td></tr>
                <tr><td>CO‚ÇÇ por e-waste</td><td>~50 Mt/a√±o</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/Planned-Obsolescence.jpg" alt="Diagrama obsolescencia">
            <p><em>Diagrama cl√°sico. Fuente: WallStreetMojo.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>3. Ejemplos Famosos</h4>
        <table class="table">
            <thead>
                <tr><th>Producto</th><th>Falla Programada</th><th>Duraci√≥n</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Bombillas Phoebus</strong></td><td>Filamento d√©bil</td><td>1,000 h</td></tr>
                <tr><td><strong>iPhone 6 (2014)</strong></td><td>Bater√≠a degradada</td><td>~500 ciclos</td></tr>
                <tr><td><strong>Impresoras Epson</strong></td><td>Contador interno</td><td>~18,000 p√°ginas</td></tr>
                <tr><td><strong>Nylon DuPont</strong></td><td>Medias que se romp√≠an</td><td>~1 uso</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/curva-vida-util.png" alt="Gr√°fico obsolescencia">
            <p><em>Curva de vida √∫til. Fuente: SIMCON Blog.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>4. Leyes y Alternativas (2025)</h4>
        <ul>
            <li><strong>UE:</strong> Obliga <strong>reparabilidad 7 a√±os</strong> (smartphones, lavadoras)</li>
            <li><strong>Francia:</strong> Delito penalizar obsolescencia programada</li>
            <li><strong>Fairphone:</strong> M√≥dulos reemplazables ‚Üí 7+ a√±os</li>
            <li><strong>Right to Repair:</strong> Acceso a repuestos, manuales</li>
        </ul>

        <hr style="border:1px dashed #00ff00;">

        <h4>5. SVG Animado: Ciclo de Obsolescencia Programada</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 700 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="700" height="500" fill="#1a1a1a"/>

                <!-- Bombilla -->
                <circle cx="200" cy="200" r="60" fill="#FFD700" stroke="#FFA500" stroke-width="4"/>
                <path d="M170 240 L230 240 L215 280 L185 280 Z" fill="#333"/>
                <text x="200" y="190" fill="#8B4513" font-size="16" text-anchor="middle">1,000 h</text>
                <text x="200" y="210" fill="#8B4513" font-size="14" text-anchor="middle">Phoebus</text>

                <!-- Flecha falla -->
                <path d="M260 200 Q320 180 380 200" stroke="#DC143C" stroke-width="8" fill="none" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2s" repeatCount="indefinite"/>
                </path>
                <text x="320" y="170" fill="#DC143C" font-size="16" text-anchor="middle">FALLA</text>

                <!-- Basura -->
                <rect x="420" y="150" width="120" height="100" fill="#4B0082" rx="15"/>
                <text x="480" y="190" fill="white" font-size="14" text-anchor="middle">E-WASTE</text>
                <text x="480" y="210" fill="white" font-size="12" text-anchor="middle">62 Mt</text>

                <!-- Alternativa -->
                <circle cx="550" cy="350" r="50" fill="#228B22">
                    <animate attributeName="r" values="50;60;50" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="550" y="345" fill="white" font-size="12" text-anchor="middle">REPARAR</text>
                <text x="550" y="360" fill="white" font-size="12" text-anchor="middle">7 A√ëOS</text>

                <!-- Flecha reparaci√≥n -->
                <path d="M480 250 L520 320" stroke="#32CD32" stroke-width="6" marker-end="url(#arrow-green)">
                    <animate attributeName="stroke-dashoffset" from="60" to="0" dur="1.5s" repeatCount="indefinite"/>
                </path>

                <!-- Flechas -->
                <defs>
                    <marker id="arrow" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#DC143C"/>
                    </marker>
                    <marker id="arrow-green" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#32CD32"/>
                    </marker>
                </defs>

                <!-- T√≠tulo -->
                <text x="350" y="60" fill="#FFD700" font-size="26" text-anchor="middle" font-family="Arial" font-weight="bold">OBSOLESCENCIA PROGRAMADA</text>
                <text x="350" y="90" fill="#FFFFFF" font-size="16" text-anchor="middle">Dise√±ada para fallar</text>
            </svg>
            <p><em>SVG Animado: De bombilla a basura vs reparaci√≥n sostenible.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Define obsolescencia programada', 'respuesta' => 'Dise√±o intencional para fallar en X tiempo'],
        ['enunciado' => 'Diferencia con percibida', 'respuesta' => 'Programada: t√©cnica; Percibida: social'],
        ['enunciado' => 'C√°rtel Phoebus', 'respuesta' => '1924‚Äì1939, bombillas 1,000 h'],

        // === APLICADOS ===
        ['enunciado' => 'E-Waste por obsolescencia', 'respuesta' => '~50 Mt/a√±o'],
        ['enunciado' => 'Bater√≠a iPhone ciclos', 'respuesta' => '~500 ciclos'],
        ['enunciado' => 'Impresora Epson l√≠mite', 'respuesta' => '~18,000 p√°ginas'],

        // === ECOL√ìGICOS ===
        ['enunciado' => '¬øC√≥mo combatirla?', 'respuesta' => 'Right to Repair, dise√±o modular, leyes'],
        ['enunciado' => '¬øQu√© es Fairphone?', 'respuesta' => 'Tel√©fono reparable 7+ a√±os'],
        ['enunciado' => '¬øQu√© es el delito en Francia?', 'respuesta' => 'Obsolescencia programada'],

        // === AVANZADOS ===
        ['enunciado' => 'F√≥rmula vida √∫til', 'respuesta' => '\\(\\text{Vida √∫til} = \\frac{\\text{Ciclos dise√±ados}}{\\text{Uso anual}}\\)'],
        ['enunciado' => 'Valor perdido en e-waste', 'respuesta' => 'US$62.5 mil millones'],
        ['enunciado' => '¬øQu√© es el contador de impresora?', 'respuesta' => 'Chip que bloquea tras X impresiones']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Obsolescencia programada es...', 'opciones' => ['Accidental', 'Intencional', 'Natural', 'Social'], 'correcta' => 'Intencional'],
        ['pregunta' => 'C√°rtel Phoebus limit√≥ bombillas a...', 'opciones' => ['1,000 h', '10,000 h', '100 h', '1 h'], 'correcta' => '1,000 h'],
        ['pregunta' => 'Ejemplo t√≠pico', 'opciones' => ['Bater√≠a iPhone', 'Auto eterno', 'Ropa', 'Nada'], 'correcta' => 'Bater√≠a iPhone'],
        ['pregunta' => 'Aumenta...', 'opciones' => ['Residuos', 'Durabilidad', 'Reciclaje', 'Nada'], 'correcta' => 'Residuos'],
        ['pregunta' => 'E-Waste por obsolescencia ‚âà', 'opciones' => ['50 Mt', '1 Mt', '100 Mt', '0'], 'correcta' => '50 Mt'],
        ['pregunta' => 'Reciclaje global e-waste', 'opciones' => ['80%', '22.3%', '50%', '100%'], 'correcta' => '22.3%'],
        ['pregunta' => 'Impresoras fallan por...', 'opciones' => ['Contador', 'Tinta', 'Papel', 'Nada'], 'correcta' => 'Contador'],
        ['pregunta' => 'Right to Repair es...', 'opciones' => ['Derecho a reparar', 'Derecho a desechar', 'Nada', 'Obligaci√≥n'], 'correcta' => 'Derecho a reparar'],
        ['pregunta' => 'Fairphone dura ‚âà', 'opciones' => ['7 a√±os', '1 a√±o', '2 a√±os', '0'], 'correcta' => '7 a√±os'],
        ['pregunta' => 'Francia penaliza...', 'opciones' => ['Obsolescencia programada', 'Reciclaje', 'Nada', 'Moda'], 'correcta' => 'Obsolescencia programada'],

        // === MEDIO (10) ===
        ['pregunta' => 'C√°rtel Phoebus fundado en...', 'opciones' => ['1924', '1950', '2000', '2020'], 'correcta' => '1924'],
        ['pregunta' => 'Bater√≠a iPhone ‚âà', 'opciones' => ['500 ciclos', '5000', '50', '0'], 'correcta' => '500 ciclos'],
        ['pregunta' => 'Impresora Epson l√≠mite ‚âà', 'opciones' => ['18,000 p√°ginas', '100', '1 mill√≥n', '0'], 'correcta' => '18,000 p√°ginas'],
        ['pregunta' => 'UE obliga reparabilidad...', 'opciones' => ['7 a√±os', '1 a√±o', '0', '10 a√±os'], 'correcta' => '7 a√±os'],
        ['pregunta' => 'Obsolescencia software es...', 'opciones' => ['Fin de soporte', 'Falla f√≠sica', 'Moda', 'Nada'], 'correcta' => 'Fin de soporte'],
        ['pregunta' => 'Nylon DuPont se romp√≠a en...', 'opciones' => ['1 uso', '100 usos', '0', '1000'], 'correcta' => '1 uso'],
        ['pregunta' => 'E-Waste contiene...', 'opciones' => ['Oro, litio', 'Solo pl√°stico', 'Nada', 'Basura'], 'correcta' => 'Oro, litio'],
        ['pregunta' => 'CO‚ÇÇ por e-waste ‚âà', 'opciones' => ['50 Mt/a√±o', '1 Mt', '100 Mt', '0'], 'correcta' => '50 Mt/a√±o'],
        ['pregunta' => 'Valor perdido en e-waste', 'opciones' => ['US$62.5 mil millones', '0', '1 mill√≥n', '1000'], 'correcta' => 'US$62.5 mil millones'],
        ['pregunta' => 'Dise√±o modular permite...', 'opciones' => ['Reparar f√°cil', 'Tirar', 'Quemar', 'Nada'], 'correcta' => 'Reparar f√°cil'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'F√≥rmula vida √∫til', 'opciones' => ['Ciclos / Uso anual', 'Uso / Ciclos', 'Ciclos √ó Uso', '100 - Ciclos'], 'correcta' => 'Ciclos / Uso anual'],
        ['pregunta' => 'Bombilla antes de Phoebus duraba...', 'opciones' => ['2,500 h', '100 h', '10,000 h', '1 h'], 'correcta' => '2,500 h'],
        ['pregunta' => 'E-Waste crecer√° a...', 'opciones' => ['82 Mt en 2030', '10 Mt', '1 Mt', '0'], 'correcta' => '82 Mt en 2030'],
        ['pregunta' => '1 smartphone contiene ‚âà', 'opciones' => ['0.034 g oro', '1 g', '10 g', '0 g'], 'correcta' => '0.034 g oro'],
        ['pregunta' => 'Contador de impresora es...', 'opciones' => ['Chip f√≠sico', 'Software', 'Mito', 'Nada'], 'correcta' => 'Chip f√≠sico'],
        ['pregunta' => 'Ley francesa desde...', 'opciones' => ['2015', '2000', '2020', '1990'], 'correcta' => '2015'],
        ['pregunta' => 'Fairphone m√≥dulos...', 'opciones' => ['10+', '1', '0', '5'], 'correcta' => '10+'],
        ['pregunta' => 'Obsolescencia programada es delito en...', 'opciones' => ['Francia', 'EE.UU.', 'China', 'Ninguno'], 'correcta' => 'Francia'],
        ['pregunta' => 'Meta UE e-waste reciclaje 2030', 'opciones' => ['65%', '100%', '0%', '22%'], 'correcta' => '65%'],
        ['pregunta' => 'Phoebus inclu√≠a a...', 'opciones' => ['Osram, Philips', 'Apple', 'Samsung', 'Tesla'], 'correcta' => 'Osram, Philips']
    ]
];
// ========================================
// MATERIA: ECOSISTEMAS
// SUBTEMA: Fast Fashion (Huella H√≠drica, Micropl√°sticos, Emisiones, Trabajo Forzado, Alternativas)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Ecosistemas',
    'slug' => 'fast-fashion',
    'titulo' => 'Fast Fashion: La Moda que Est√° Matando al Planeta',
    'contenido' => '
        <h3>¬øQu√© es el Fast Fashion?</h3>
        <p>El <strong>fast fashion</strong> es la <strong>producci√≥n masiva, r√°pida y barata</strong> de ropa que sigue tendencias ef√≠meras. <strong>52 micro-temporadas al a√±o</strong> ‚Üí <strong>100 mil millones de prendas</strong> producidas.</p>
        <p><strong>Impacto:</strong> 2¬™ industria m√°s contaminante del mundo.</p>

        <hr style="border:1px dashed #00ff00;">

        <h4>1. Impactos Ambientales Clave</h4>
        <table class="table">
            <thead>
                <tr><th>Impacto</th><th>Dato 2025</th><th>Fuente</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Emisiones GHG</strong></td><td>10% global</td><td>UNEP</td></tr>
                <tr><td><strong>Huella h√≠drica</strong></td><td>79 mil millones m¬≥</td><td>WWF</td></tr>
                <tr><td><strong>Micropl√°sticos</strong></td><td>35% oc√©ano</td><td>IUCN</td></tr>
                <tr><td><strong>Residuos textiles</strong></td><td>92 Mt/a√±o</td><td>Ellen MacArthur</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>1 camiseta de algod√≥n</strong> ‚Üí <strong>2,700 L agua</strong> = 3 a√±os de beber de una persona.</p>
        </div>

        <div class="visual">
            <img src="assets/img/impacto-ambiente.webp" alt="Impacto ambiental fast fashion">
            <p><em>Infograf√≠a completa. Fuente: SANVT.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>2. Ciclo de Vida de una Prenda Fast Fashion</h4>
        <p>\\[ \\text{Producci√≥n} \\to \\text{Transporte} \\to \\text{Uso (7-10 lavados)} \\to \\text{Basura} \\]</p>

        <table class="table">
            <thead>
                <tr><th>Etapa</th><th>Impacto</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Algod√≥n</strong></td><td>2,700 L agua, pesticidas</td></tr>
                <tr><td><strong>Poli√©ster</strong></td><td>Petr√≥leo, micropl√°sticos</td></tr>
                <tr><td><strong>Tinte</strong></td><td>Qu√≠micos t√≥xicos ‚Üí r√≠os</td></tr>
                <tr><td><strong>Transporte</strong></td><td>Aviones ‚Üí 1.2 Gt CO‚ÇÇ</td></tr>
                <tr><td><strong>Desecho</strong></td><td>92 Mt ‚Üí vertederos/incineraci√≥n</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/ventasvsuso.jpg" alt="Ventas vs uso">
            <p><em>Ventas ‚Üë, uso ‚Üì. Fuente: Earth.Org.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/gasto-anual-ropa.jpg" alt="Gasto por persona">
            <p><em>Gasto anual en ropa. Fuente: BBC.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>3. Empresas Fast Fashion (2025)</h4>
        <table class="table">
            <thead>
                <tr><th>Marca</th><th>Prendas/a√±o</th><th>Huella h√≠drica</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Shein</strong></td><td>~10,000/d√≠a</td><td>6,000 L/prenda</td></tr>
                <tr><td><strong>Zara</strong></td><td>~450 millones</td><td>2,700 L/camiseta</td></tr>
                <tr><td><strong>H&M</strong></td><td>~3,000 millones</td><td>Alta en poli√©ster</td></tr>
                <tr><td><strong>Primark</strong></td><td>~1,000 millones</td><td>Bajos salarios</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/economia-texti.jpg" alt="Ellen MacArthur textiles">
            <p><em>Econom√≠a textil circular. Fuente: Ellen MacArthur Foundation.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/polucion-textil.jpg" alt="Greenpeace textile waste">
            <p><em>Crisis de residuos textiles. Fuente: Greenpeace.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>4. Alternativas Sostenibles</h4>
        <ul>
            <li><strong>Moda lenta:</strong> Patagonia, Everlane</li>
            <li><strong>Second-hand:</strong> ThredUp, Vinted</li>
            <li><strong>Alquiler:</strong> Rent the Runway</li>
            <li><strong>Upcycling:</strong> Ropa reciclada</li>
        </ul>

        <hr style="border:1px dashed #00ff00;">

        <h4>5. SVG Animado: Ciclo de Fast Fashion vs Sostenible</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 700 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="700" height="500" fill="#87CEEB" opacity="0.1"/>

                <!-- F√°brica -->
                <rect x="50" y="150" width="100" height="120" fill="#8B4513" rx="10"/>
                <text x="100" y="200" fill="white" font-size="14" text-anchor="middle">F√ÅBRICA</text>
                <text x="100" y="220" fill="white" font-size="12" text-anchor="middle">10,000/d√≠a</text>

                <!-- Avi√≥n -->
                <path d="M160 210 L250 190 L240 180 L250 170 L160 190 Z" fill="#4682B4"/>
                <text x="205" y="160" fill="#000" font-size="12">Avi√≥n</text>

                <!-- Tienda -->
                <rect x="280" y="140" width="100" height="140" fill="#FF6347" rx="10"/>
                <text x="330" y="190" fill="white" font-size="14" text-anchor="middle">TIENDA</text>
                <text x="330" y="210" fill="white" font-size="12" text-anchor="middle">7 lavados</text>

                <!-- Basura -->
                <path d="M420 200 L360 280 L480 280 Z" fill="#4B0082"/>
                <text x="420" y="240" fill="white" font-size="14" text-anchor="middle">VERTEDERO</text>
                <text x="420" y="260" fill="white" font-size="12" text-anchor="middle">92 Mt</text>

                <!-- Flechas rojas -->
                <path d="M150 210 Q200 180 280 190" stroke="#DC143C" stroke-width="6" fill="none" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2s" repeatCount="indefinite"/>
                </path>
                <path d="M380 210 Q400 240 420 260" stroke="#DC143C" stroke-width="6" fill="none" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="80" to="0" dur="2s" repeatCount="indefinite"/>
                </path>

                <!-- Alternativa sostenible -->
                <circle cx="200" cy="380" r="50" fill="#228B22">
                    <animate attributeName="r" values="50;60;50" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="200" y="375" fill="white" font-size="12" text-anchor="middle">SECOND</text>
                <text x="200" y="390" fill="white" font-size="12" text-anchor="middle">HAND</text>

                <circle cx="500" cy="380" r="50" fill="#32CD32">
                    <animate attributeName="r" values="50;60;50" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="500" y="375" fill="white" font-size="12" text-anchor="middle">UPCYCLE</text>
                <text x="500" y="390" fill="white" font-size="12" text-anchor="middle">RENT</text>

                <!-- Flechas verdes -->
                <path d="M330 280 Q250 340 200 370" stroke="#32CD32" stroke-width="6" fill="none" marker-end="url(#arrow-green)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2.5s" repeatCount="indefinite"/>
                </path>
                <path d="M380 280 Q450 340 500 370" stroke="#32CD32" stroke-width="6" fill="none" marker-end="url(#arrow-green)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2.5s" repeatCount="indefinite"/>
                </path>

                <!-- Flechas -->
                <defs>
                    <marker id="arrow" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#DC143C"/>
                    </marker>
                    <marker id="arrow-green" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#32CD32"/>
                    </marker>
                </defs>

                <!-- T√≠tulo -->
                <text x="350" y="60" fill="#FF1493" font-size="26" text-anchor="middle" font-family="Arial" font-weight="bold">FAST FASHION</text>
                <text x="350" y="90" fill="#333" font-size="16" text-anchor="middle">De f√°brica a basura en 3 meses</text>
            </svg>
            <p><em>SVG Animado: Ciclo lineal vs alternativas circulares.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Define fast fashion', 'respuesta' => 'Producci√≥n r√°pida y barata de ropa de moda'],
        ['enunciado' => 'Emisiones globales de moda', 'respuesta' => '10% GHG'],
        ['enunciado' => 'Huella h√≠drica de 1 camiseta', 'respuesta' => '2,700 L'],

        // === APLICADOS ===
        ['enunciado' => 'Residuos textiles/a√±o', 'respuesta' => '92 millones toneladas'],
        ['enunciado' => 'Micropl√°sticos de lavado', 'respuesta' => '35% del total oce√°nico'],
        ['enunciado' => 'Prendas producidas/a√±o', 'respuesta' => '100 mil millones'],

        // === ECOL√ìGICOS ===
        ['enunciado' => '¬øC√≥mo reducir impacto?', 'respuesta' => 'Comprar menos, second-hand, alquilar'],
        ['enunciado' => '¬øQu√© es upcycling?', 'respuesta' => 'Convertir ropa vieja en nueva de mayor valor'],
        ['enunciado' => '¬øQu√© es moda lenta?', 'respuesta' => 'Producci√≥n √©tica, duradera, sostenible'],

        // === AVANZADOS ===
        ['enunciado' => 'F√≥rmula huella h√≠drica textil', 'respuesta' => '\\(\\text{HH} = \\sum (\\text{materia prima} \\times \\text{L/kg})\\)'],
        ['enunciado' => 'CO‚ÇÇ por transporte moda', 'respuesta' => '1.2 Gt/a√±o'],
        ['enunciado' => '¬øQu√© es el Greenwashing en moda?', 'respuesta' => 'Falsa sostenibilidad']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Fast fashion produce...', 'opciones' => ['100 mil millones prendas', '1 mill√≥n', '0', '10'], 'correcta' => '100 mil millones prendas'],
        ['pregunta' => 'Emisiones moda vs global', 'opciones' => ['10%', '1%', '50%', '0%'], 'correcta' => '10%'],
        ['pregunta' => '1 camiseta usa...', 'opciones' => ['2,700 L agua', '10 L', '100 L', '0'], 'correcta' => '2,700 L agua'],
        ['pregunta' => 'Residuos textiles/a√±o', 'opciones' => ['92 Mt', '1 Mt', '1000 Mt', '0'], 'correcta' => '92 Mt'],
        ['pregunta' => 'Micropl√°sticos de...', 'opciones' => ['Lavado sint√©ticos', 'Algod√≥n', 'Lana', 'Nada'], 'correcta' => 'Lavado sint√©ticos'],
        ['pregunta' => 'Shein lanza...', 'opciones' => ['10,000/d√≠a', '10/a√±o', '0', '1'], 'correcta' => '10,000/d√≠a'],
        ['pregunta' => 'Moda emite m√°s CO‚ÇÇ que...', 'opciones' => ['Aviaci√≥n + mar√≠timo', 'Agricultura', 'Energ√≠a', 'Nada'], 'correcta' => 'Aviaci√≥n + mar√≠timo'],
        ['pregunta' => 'Second-hand reduce...', 'opciones' => ['Huella', 'Aumenta', 'Igual', 'Cero'], 'correcta' => 'Huella'],
        ['pregunta' => 'Upcycling es...', 'respuesta' => 'Valor ‚Üë'],
        ['pregunta' => 'Alternativa sostenible', 'opciones' => ['Alquiler ropa', 'M√°s compra', 'Basura', 'Nada'], 'correcta' => 'Alquiler ropa'],

        // === MEDIO (10) ===
        ['pregunta' => 'Huella h√≠drica moda ‚âà', 'opciones' => ['79 mil millones m¬≥', '1 mill√≥n', '0', '1000'], 'correcta' => '79 mil millones m¬≥'],
        ['pregunta' => 'Prendas usadas antes de tirar', 'opciones' => ['7-10 veces', '100 veces', '1 vez', '0'], 'correcta' => '7-10 veces'],
        ['pregunta' => 'Poli√©ster viene de...', 'opciones' => ['Petr√≥leo', 'Algod√≥n', 'Lana', 'Nada'], 'correcta' => 'Petr√≥leo'],
        ['pregunta' => 'Tinte contamina...', 'opciones' => ['R√≠os', 'Aire', 'Suelo', 'Nada'], 'correcta' => 'R√≠os'],
        ['pregunta' => 'Zara produce...', 'opciones' => ['450 millones/a√±o', '1 mill√≥n', '0', '10'], 'correcta' => '450 millones/a√±o'],
        ['pregunta' => 'Patagonia es...', 'opciones' => ['Moda lenta', 'Fast fashion', 'Nada', 'Caro'], 'correcta' => 'Moda lenta'],
        ['pregunta' => 'ThredUp es...', 'opciones' => ['Second-hand', 'Nueva', 'Basura', 'Nada'], 'correcta' => 'Second-hand'],
        ['pregunta' => 'Greenwashing es...', 'opciones' => ['Falsa sostenibilidad', 'Real', 'Nada', 'Bueno'], 'correcta' => 'Falsa sostenibilidad'],
        ['pregunta' => 'Transporte moda emite...', 'opciones' => ['1.2 Gt CO‚ÇÇ', '0', '1 Mt', '1000'], 'correcta' => '1.2 Gt CO‚ÇÇ'],
        ['pregunta' => 'Meta UE reciclaje textil 2030', 'opciones' => ['35%', '100%', '0%', '10%'], 'correcta' => '35%'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'F√≥rmula huella h√≠drica', 'opciones' => ['\\sum (materia √ó L/kg)', 'materia / L', 'L - materia', '100'], 'correcta' => '\\sum (materia √ó L/kg)'],
        ['pregunta' => '1 kg algod√≥n usa...', 'opciones' => ['10,000 L', '100 L', '1 L', '0'], 'correcta' => '10,000 L'],
        ['pregunta' => 'Micropl√°sticos por lavado...', 'opciones' => ['500,000/a√±o', '0', '1', '1000'], 'correcta' => '500,000/a√±o'],
        ['pregunta' => 'Residuos textiles crecen a...', 'opciones' => ['120 Mt en 2030', '0', '1 Mt', '92 Mt'], 'correcta' => '120 Mt en 2030'],
        ['pregunta' => 'Poli√©ster representa...', 'opciones' => ['60% fibras', '10%', '0%', '100%'], 'correcta' => '60% fibras'],
        ['pregunta' => 'Agua por jeans ‚âà', 'opciones' => ['8,000 L', '100 L', '0', '1 L'], 'correcta' => '8,000 L'],
        ['pregunta' => 'Second-hand ‚Üì emisiones en...', 'opciones' => ['60%', '10%', '0%', '100%'], 'correcta' => '60%'],
        ['pregunta' => 'Ellen MacArthur propone...', 'opciones' => ['Econom√≠a circular textil', 'M√°s fast', 'Nada', 'Lineal'], 'correcta' => 'Econom√≠a circular textil'],
        ['pregunta' => 'Meta global reciclaje textil', 'opciones' => ['<1%', '50%', '100%', '0%'], 'correcta' => '<1%'],
        ['pregunta' => 'Fast fashion emplea a...', 'opciones' => ['75 millones', '0', '1', '1000'], 'correcta' => '75 millones']
    ]
];
// ========================================
// MATERIA: ECOSISTEMAS
// SUBTEMA: Esclavitud Moderna (Trabajo Forzado, Cadenas Suministro, Cobalto, Moda, Leyes)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Ecosistemas',
    'slug' => 'esclavitud-moderna',
    'titulo' => 'Esclavitud Moderna: El Costo Humano y Ambiental de Nuestros Productos',
    'contenido' => '
        <h3>¬øQu√© es la Esclavitud Moderna?</h3>
        <p>La <strong>esclavitud moderna</strong> incluye <strong>trabajo forzado, tr√°fico humano, servidumbre por deudas, matrimonio forzado y trabajo infantil</strong>. <strong>50 millones de personas</strong> en 2025 (Global Slavery Index).</p>
        <p><strong>Relaci√≥n con ecosistemas:</strong> Pr√°cticas extractivas insostenibles ‚Üí deforestaci√≥n, contaminaci√≥n, p√©rdida de biodiversidad.</p>

        <hr style="border:1px dashed #00ff00;">

        <h4>1. Formas de Esclavitud Moderna</h4>
        <table class="table">
            <thead>
                <tr><th>Forma</th><th>Personas (millones)</th><th>Ejemplo</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Trabajo forzado</strong></td><td>28</td><td>Miner√≠a cobalto</td></tr>
                <tr><td><strong>Matrimonio forzado</strong></td><td>22</td><td>Asia del Sur</td></tr>
                <tr><td><strong>Tr√°fico sexual</strong></td><td>6.3</td><td>Turismo</td></tr>
                <tr><td><strong>Trabajo infantil</strong></td><td>160</td><td>Agricultura</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>70% del cobalto mundial</strong> (bater√≠as EV) viene de <strong>Rep√∫blica Democr√°tica del Congo</strong>, con <strong>40,000 ni√±os</strong> en minas artesanales.</p>
        </div>

        <div class="visual">
            <img src="assets/img/trabajo-forzoso-en-el-mundo.png.webp" alt="Mapa riesgo esclavitud">
            <p><em>Riesgo global. Fuente: Versed AI.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>2. Industrias de Alto Riesgo (2025)</h4>
        <table class="table">
            <thead>
                <tr><th>Industria</th><th>Producto</th><th>Impacto Ambiental</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Moda</strong></td><td>Algod√≥n, poli√©ster</td><td>Deforestaci√≥n, micropl√°sticos</td></tr>
                <tr><td><strong>Miner√≠a</strong></td><td>Cobalto, oro</td><td>Contaminaci√≥n r√≠os, mercurio</td></tr>
                <tr><td><strong>Agricultura</strong></td><td>Cacao, caf√©</td><td>Deforestaci√≥n, pesticidas</td></tr>
                <tr><td><strong>Construcci√≥n</strong></td><td>Ladrillos, Qatar</td><td>Emisiones, erosi√≥n</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/productos-esclavitud.png" alt="Mapa productos esclavitud">
            <p><em>Productos de esclavitud. Fuente: RESPECT.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/modern-slavery.jpg" alt="Modern Slavery Act">
            <p><em>Impacto de la ley. Fuente: Norton Rose Fulbright.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>3. Impacto Ambiental Directo</h4>
        <ul>
            <li><strong>Miner√≠a artesanal:</strong> 1,500 t mercurio/a√±o ‚Üí r√≠os</li>
            <li><strong>Deforestaci√≥n:</strong> 20% por agricultura forzada</li>
            <li><strong>Contaminaci√≥n:</strong> qu√≠micos en algod√≥n ‚Üí c√°ncer</li>
        </ul>

        <div class="visual">
            <img src="assets/img/indice-global-esclavitud.jpeg" alt="Global Slavery Index 2023">
            <p><em>√çndice Global de Esclavitud. Fuente: Walk Free.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/esclavitud-infantil.png" alt="ILO trabajo infantil">
            <p><em>Trabajo infantil. Fuente: OIT.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>4. Leyes y Soluciones (2025)</h4>
        <ul>
            <li><strong>UK Modern Slavery Act (2015):</strong> Empresas > ¬£36M declaran riesgos</li>
            <li><strong>UE Due Diligence (2026):</strong> Obligatoria para grandes empresas</li>
            <li><strong>Blockchain:</strong> Trazabilidad (IBM Food Trust)</li>
            <li><strong>Certificaciones:</strong> Fair Trade, Rainforest Alliance</li>
        </ul>

        <hr style="border:1px dashed #00ff00;">

        <h4>5. SVG Animado: Cadena de Suministro con Esclavitud</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 700 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="700" height="500" fill="#2F4F4F"/>

                <!-- Mina -->
                <circle cx="100" cy="200" r="60" fill="#8B4513" stroke="#654321" stroke-width="4"/>
                <text x="100" y="190" fill="white" font-size="14" text-anchor="middle">MINA</text>
                <text x="100" y="210" fill="white" font-size="12" text-anchor="middle">Cobalto</text>

                <!-- Ni√±o trabajador -->
                <circle cx="100" cy="280" r="25" fill="#DC143C"/>
                <text x="100" y="285" fill="white" font-size="10" text-anchor="middle">Ni√±o</text>

                <!-- F√°brica -->
                <rect x="220" y="160" width="100" height="100" fill="#696969" rx="10"/>
                <text x="270" y="200" fill="white" font-size="14" text-anchor="middle">F√ÅBRICA</text>
                <text x="270" y="220" fill="white" font-size="12" text-anchor="middle">Bater√≠a</text>

                <!-- Tienda -->
                <rect x="400" y="140" width="120" height="140" fill="#228B22" rx="15"/>
                <text x="460" y="190" fill="white" font-size="14" text-anchor="middle">TIENDA</text>
                <text x="460" y="210" fill="white" font-size="12" text-anchor="middle">EV</text>

                <!-- Consumidor -->
                <circle cx="580" cy="210" r="40" fill="#FFD700"/>
                <text x="580" y="215" fill="#8B4513" font-size="12" text-anchor="middle">T√∫</text>

                <!-- Flechas rojas -->
                <path d="M160 200 Q200 180 220 200" stroke="#DC143C" stroke-width="8" fill="none" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="80" to="0" dur="2s" repeatCount="indefinite"/>
                </path>
                <path d="M320 210 Q360 200 400 200" stroke="#DC143C" stroke-width="8" fill="none" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="80" to="0" dur="2s" repeatCount="indefinite"/>
                </path>
                <path d="M520 200 L560 210" stroke="#DC143C" stroke-width="8" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="40" to="0" dur="1.5s" repeatCount="indefinite"/>
                </path>

                <!-- Alternativa √©tica -->
                <circle cx="350" cy="380" r="60" fill="#32CD32">
                    <animate attributeName="r" values="60;70;60" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="350" y="370" fill="white" font-size="14" text-anchor="middle">FAIR</text>
                <text x="350" y="390" fill="white" font-size="12" text-anchor="middle">TRADE</text>

                <!-- Flecha verde -->
                <path d="M270 260 Q300 330 350 360" stroke="#32CD32" stroke-width="6" fill="none" marker-end="url(#arrow-green)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2.5s" repeatCount="indefinite"/>
                </path>

                <!-- Flechas -->
                <defs>
                    <marker id="arrow" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#DC143C"/>
                    </marker>
                    <marker id="arrow-green" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#32CD32"/>
                    </marker>
                </defs>

                <!-- T√≠tulo -->
                <text x="350" y="60" fill="#DC143C" font-size="26" text-anchor="middle" font-family="Arial" font-weight="bold">ESCLAVITUD MODERNA</text>
                <text x="350" y="90" fill="#FFFFFF" font-size="16" text-anchor="middle">Oculta en tu bater√≠a</text>
            </svg>
            <p><em>SVG Animado: Cadena de suministro con trabajo infantil vs alternativa √©tica.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Define esclavitud moderna', 'respuesta' => 'Trabajo forzado, tr√°fico, servidumbre por deudas'],
        ['enunciado' => 'Personas afectadas 2025', 'respuesta' => '50 millones'],
        ['enunciado' => 'Industria m√°s riesgosa', 'respuesta' => 'Miner√≠a (cobalto)'],

        // === APLICADOS ===
        ['enunciado' => 'Ni√±os en minas cobalto', 'respuesta' => '40,000'],
        ['enunciado' => '% cobalto de RDC', 'respuesta' => '70%'],
        ['enunciado' => 'Mercurio miner√≠a artesanal', 'respuesta' => '1,500 t/a√±o'],

        // === ECOL√ìGICOS ===
        ['enunciado' => '¬øC√≥mo combatirla?', 'respuesta' => 'Due diligence, blockchain, certificaciones'],
        ['enunciado' => '¬øQu√© es Fair Trade?', 'respuesta' => 'Comercio justo, sin explotaci√≥n'],
        ['enunciado' => '¬øQu√© es due diligence?', 'respuesta' => 'Auditor√≠a de riesgos en cadena suministro'],

        // === AVANZADOS ===
        ['enunciado' => 'F√≥rmula riesgo esclavitud', 'respuesta' => '\\(\\text{Riesgo} = \\text{Industria} \\times \\text{Pa√≠s} \\times \\text{Opacidad}\\)',],
        ['enunciado' => 'Ley UK desde', 'respuesta' => '2015'],
        ['enunciado' => '¬øQu√© es el Global Slavery Index?', 'respuesta' => 'Informe anual de Walk Free']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Personas en esclavitud moderna', 'opciones' => ['50 millones', '1 mill√≥n', '0', '100'], 'correcta' => '50 millones'],
        ['pregunta' => 'Forma m√°s com√∫n', 'opciones' => ['Trabajo forzado', 'Voluntario', 'Pagado', 'Nada'], 'correcta' => 'Trabajo forzado'],
        ['pregunta' => 'Cobalto para bater√≠as viene de...', 'opciones' => ['RDC', 'EE.UU.', 'China', 'Europa'], 'correcta' => 'RDC'],
        ['pregunta' => 'Ni√±os en minas cobalto', 'opciones' => ['40,000', '0', '1', '1000'], 'correcta' => '40,000'],
        ['pregunta' => 'Industria moda usa...', 'opciones' => ['Trabajo forzado', 'Solo robots', 'Nada', 'Pagado'], 'correcta' => 'Trabajo forzado'],
        ['pregunta' => 'Mercurio en miner√≠a...', 'opciones' => ['1,500 t/a√±o', '0', '1 t', '1000 t'], 'correcta' => '1,500 t/a√±o'],
        ['pregunta' => 'Fair Trade evita...', 'opciones' => ['Esclavitud', 'Todo', 'Nada', 'Lucro'], 'correcta' => 'Esclavitud'],
        ['pregunta' => 'Blockchain sirve para...', 'opciones' => ['Trazabilidad', 'Ocultar', 'Nada', 'Lucro'], 'correcta' => 'Trazabilidad'],
        ['pregunta' => 'Ley UK obliga a...', 'opciones' => ['Declarar riesgos', 'Ignorar', 'Nada', 'Lucro'], 'correcta' => 'Declarar riesgos'],
        ['pregunta' => 'Soluci√≥n clave', 'opciones' => ['Transparencia', 'Opacidad', 'Nada', 'Silencio'], 'correcta' => 'Transparencia'],

        // === MEDIO (10) ===
        ['pregunta' => 'Global Slavery Index por...', 'opciones' => ['Walk Free', 'ONU', 'UE', 'EE.UU.'], 'correcta' => 'Walk Free'],
        ['pregunta' => '% cobalto mundial RDC', 'opciones' => ['70%', '10%', '0%', '100%'], 'correcta' => '70%'],
        ['pregunta' => 'Agricultura con esclavitud...', 'opciones' => ['Cacao, caf√©', 'Solo trigo', 'Nada', 'Carne'], 'correcta' => 'Cacao, caf√©'],
        ['pregunta' => 'Deforestaci√≥n por esclavitud...', 'opciones' => ['20%', '0%', '1%', '100%'], 'correcta' => '20%'],
        ['pregunta' => 'UE due diligence desde...', 'opciones' => ['2026', '2020', '2030', '2010'], 'correcta' => '2026'],
        ['pregunta' => 'Ladrillos en Qatar...', 'opciones' => ['Trabajo forzado', 'Pagado', 'Nada', 'Voluntario'], 'correcta' => 'Trabajo forzado'],
        ['pregunta' => 'Certificaci√≥n √©tica', 'opciones' => ['Rainforest Alliance', 'ISO 9001', 'Nada', 'CE'], 'correcta' => 'Rainforest Alliance'],
        ['pregunta' => 'Tr√°fico sexual afecta...', 'opciones' => ['6.3 millones', '0', '1', '1000'], 'correcta' => '6.3 millones'],
        ['pregunta' => 'Matrimonio forzado en...', 'opciones' => ['Asia del Sur', 'Europa', 'EE.UU.', '√Åfrica'], 'correcta' => 'Asia del Sur'],
        ['pregunta' => 'Trabajo infantil global', 'opciones' => ['160 millones', '1 mill√≥n', '0', '1000'], 'correcta' => '160 millones'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'F√≥rmula riesgo esclavitud', 'opciones' => ['Industria √ó Pa√≠s √ó Opacidad', 'Suma', 'Resta', 'Divisi√≥n'], 'correcta' => 'Industria √ó Pa√≠s √ó Opacidad'],
        ['pregunta' => 'Ley UK desde', 'opciones' => ['2015', '2000', '2020', '1990'], 'correcta' => '2015'],
        ['pregunta' => 'Umbral UK para declarar', 'opciones' => ['¬£36M', '¬£1M', '¬£100M', '¬£0'], 'correcta' => '¬£36M'],
        ['pregunta' => 'Blockchain en alimentos por...', 'opciones' => ['IBM', 'Apple', 'Amazon', 'Google'], 'correcta' => 'IBM'],
        ['pregunta' => 'Esclavitud moderna creci√≥ desde...', 'opciones' => ['2016 (+25%)', 'Disminuy√≥', 'Igual', '0'], 'correcta' => '2016 (+25%)'],
        ['pregunta' => 'Pa√≠s con m√°s esclavitud absoluta', 'opciones' => ['India', 'EE.UU.', 'China', 'Brasil'], 'correcta' => 'India'],
        ['pregunta' => 'Pa√≠s con m√°s por habitante', 'opciones' => ['Corea del Norte', 'EE.UU.', 'UE', 'Jap√≥n'], 'correcta' => 'Corea del Norte'],
        ['pregunta' => 'OIT estima trabajo forzado genera...', 'opciones' => ['US$236 mil millones/a√±o', '0', '1 mill√≥n', '1000'], 'correcta' => 'US$236 mil millones/a√±o'],
        ['pregunta' => 'Meta ODS 8.7', 'opciones' => ['Eliminar trabajo infantil 2025', '2030', '2050', 'Nunca'], 'correcta' => '2025'],
        ['pregunta' => 'Walk Free fundado por...', 'opciones' => ['Andrew Forrest', 'Bill Gates', 'Elon Musk', 'Jeff Bezos'], 'correcta' => 'Andrew Forrest']
    ]
];
// ========================================
// MATERIA: ECOSISTEMAS
// SUBTEMA: Efecto Invernadero Natural (GHG, Balance Energ√©tico, Temperatura Habitable)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Ecosistemas',
    'slug' => 'efecto-invernadero-natural',
    'titulo' => 'Efecto Invernadero Natural: El Escudo T√©rmico de la Vida',
    'contenido' => '
        <h3>¬øQu√© es el Efecto Invernadero Natural?</h3>
        <p>El <strong>efecto invernadero natural</strong> es un <strong>proceso f√≠sico esencial</strong> donde los <strong>gases de efecto invernadero (GEI)</strong> en la atm√≥sfera <strong>absorben y reemiten radiaci√≥n infrarroja</strong>, atrapando calor y manteniendo la temperatura promedio de la Tierra en <strong>+15¬∞C</strong>.</p>
        <p><strong>Sin √©l:</strong> <strong>-18¬∞C</strong> ‚Üí oc√©anos congelados, sin vida.</p>

        <hr style="border:1px dashed #00ff00;">

        <h4>1. Gases de Efecto Invernadero Naturales</h4>
        <table class="table">
            <thead>
                <tr><th>Gas</th><th>Concentraci√≥n</th><th>Contribuci√≥n</th><th>Fuente Natural</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Vapor de agua (H‚ÇÇO)</strong></td><td>0.1‚Äì4%</td><td>~60%</td><td>Evaporaci√≥n oc√©anos</td></tr>
                <tr><td><strong>CO‚ÇÇ</strong></td><td>280 ppm (preindustrial)</td><td>~20%</td><td>Respiraci√≥n, volcanes</td></tr>
                <tr><td><strong>Metano (CH‚ÇÑ)</strong></td><td>0.7 ppm</td><td>~15%</td><td>Pantanos, termitas</td></tr>
                <tr><td><strong>√ìxido nitroso (N‚ÇÇO)</strong></td><td>0.3 ppm</td><td>~5%</td><td>Suelos, oc√©anos</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> El <strong>vapor de agua</strong> es el GEI m√°s abundante y potente. Sin √©l, la Tierra perder√≠a ~33¬∞C.</p>
        </div>

        <div class="visual">
            <img src="assets/img/efecto-invernadero_natural_humano.png" alt="Efecto natural vs mejorado">
            <p><em>Natural vs antropog√©nico. Fuente: MrGeogWagg.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>2. Balance Energ√©tico de la Tierra</h4>
        <p>F√≥rmula simplificada del efecto invernadero:</p>
        <p>\\[ \\Delta T = \\frac{S(1 - A)}{4\\sigma} \\times \\text{Forzante GEI} \\]</p>
        <p>Donde:</p>
        <ul>
            <li><strong>S</strong> = Constante solar (~1361 W/m¬≤)</li>
            <li><strong>A</strong> = Albedo (~0.3)</li>
            <li><strong>œÉ</strong> = Constante de Stefan-Boltzmann</li>
        </ul>

        <table class="table">
            <thead>
                <tr><th>Par√°metro</th><th>Valor</th></tr>
            </thead>
            <tbody>
                <tr><td>Temperatura sin atm√≥sfera</td><td>-18¬∞C</td></tr>
                <tr><td>Temperatura real</td><td>+15¬∞C</td></tr>
                <tr><td><strong>ŒîT natural</strong></td><td><strong>+33¬∞C</strong></td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/esquema-GEI.png" alt="Esquema GEI">
            <p><em>Absorci√≥n y reemisi√≥n. Fuente: Smith College.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/flujo-energetico-efecto-invernadero.jpg" alt="Flujo energ√©tico">
            <p><em>Balance radiativo. Fuente: EPA/Energy Education.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>3. Ciclo Natural del Carbono</h4>
        <p>El CO‚ÇÇ natural se regula por:</p>
        <ul>
            <li><strong>Fotos√≠ntesis</strong>: 120 GtC/a√±o</li>
            <li><strong>Respiraci√≥n</strong>: 60 GtC/a√±o</li>
            <li><strong>Oc√©anos</strong>: Absorben 90 GtC/a√±o</li>
        </ul>

        <div class="visual">
            <img src="assets/img/ciclo-carbono-IPCC.png" alt="Ciclo del carbono IPCC">
            <p><em>Ciclo del carbono. Fuente: IPCC AR6.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/carbon_cycle.jpg" alt="Ciclo NASA">
            <p><em>Ciclo del carbono global. Fuente: NASA.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>4. Diferencia con el Efecto Antropog√©nico</h4>
        <table class="table">
            <thead>
                <tr><th>Tipo</th><th>CO‚ÇÇ</th><th>ŒîT</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Natural</strong></td><td>280 ppm</td><td>+33¬∞C</td></tr>
                <tr><td><strong>Antropog√©nico (2025)</strong></td><td>425 ppm</td><td>+1.2¬∞C</td></tr>
                <tr><td><strong>Total</strong></td><td>425 ppm</td><td><strong>+34.2¬∞C</strong></td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #00ff00;">

        <h4>5. SVG Animado: Efecto Invernadero Natural</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 700 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo espacio -->
                <rect x="0" y="0" width="700" height="500" fill="#000814"/>

                <!-- Sol -->
                <circle cx="100" cy="100" r="60" fill="#FFD700" stroke="#FFA500" stroke-width="8">
                    <animate attributeName="r" values="60;65;60" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="100" y="80" fill="#FFF" font-size="14" text-anchor="middle">Sol</text>

                <!-- Rayos solares -->
                <path d="M160 100 L300 200" stroke="#FFFF00" stroke-width="4">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2s" repeatCount="indefinite"/>
                </path>
                <path d="M160 120 L310 220" stroke="#FFFF00" stroke-width="4">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2s" repeatCount="indefinite"/>
                </path>

                <!-- Tierra -->
                <circle cx="350" cy="250" r="80" fill="#228B22" stroke="#006400" stroke-width="4"/>
                <circle cx="330" cy="230" r="20" fill="#4169E1"/> <!-- oc√©ano
                <circle cx="370" cy="240" r="15" fill="#8B4513"/> <!-- continente
                <text x="350" y="255" fill="white" font-size="16" text-anchor="middle">+15¬∞C</text>

                <!-- Atm√≥sfera -->
                <ellipse cx="350" cy="250" rx="120" ry="40" fill="none" stroke="#87CEEB" stroke-width="60" opacity="0.3"/>
                <text x="350" y="180" fill="#87CEEB" font-size="14" text-anchor="middle">Atm√≥sfera</text>

                <!-- GHG mol√©culas -->
                <circle cx="280" cy="200" r="12" fill="#DC143C" opacity="0.8">
                    <animate attributeName="cy" values="200;190;200" dur="1.5s" repeatCount="indefinite"/>
                </circle>
                <text x="280" y="205" fill="white" font-size="10" text-anchor="middle">CO‚ÇÇ</text>

                <circle cx="400" cy="210" r="10" fill="#FF4500" opacity="0.8">
                    <animate attributeName="cy" values="210;200;210" dur="1.8s" repeatCount="indefinite"/>
                </circle>
                <text x="400" y="215" fill="white" font-size="9" text-anchor="middle">CH‚ÇÑ</text>

                <!-- Rayos IR atrapados -->
                <path d="M350 330 L350 300" stroke="#FF1493" stroke-width="4" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="30" to="0" dur="1s" repeatCount="indefinite"/>
                </path>
                <text x="360" y="315" fill="#FF1493" font-size="12">IR atrapado</text>

                <!-- Sin GEI (fantasma) -->
                <circle cx="550" cy="250" r="80" fill="#87CEEB" stroke="#4682B4" stroke-width="4" opacity="0.4"/>
                <text x="550" y="255" fill="#00008B" font-size="14" text-anchor="middle">-18¬∞C</text>
                <text x="550" y="280" fill="#00008B" font-size="10" text-anchor="middle">Sin GEI</text>

                <!-- Flecha -->
                <defs>
                    <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="5" orient="auto">
                        <path d="M0,0 L0,10 L10,5 z" fill="#FF1493"/>
                    </marker>
                </defs>

                <!-- T√≠tulo -->
                <text x="350" y="60" fill="#FFD700" font-size="26" text-anchor="middle" font-family="Arial" font-weight="bold">EFECTO INVERNADERO NATURAL</text>
                <text x="350" y="90" fill="#FFFFFF" font-size="16" text-anchor="middle">+33¬∞C de diferencia = Vida posible</text>
            </svg>
            <p><em>SVG Animado: Sol ‚Üí Tierra ‚Üí GEI atrapan calor ‚Üí +15¬∞C vs -18¬∞C sin atm√≥sfera.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Define efecto invernadero natural', 'respuesta' => 'GEI atrapan calor ‚Üí +15¬∞C'],
        ['enunciado' => 'Temperatura sin GEI', 'respuesta' => '-18¬∞C'],
        ['enunciado' => 'GEI m√°s abundante', 'respuesta' => 'Vapor de agua'],

        // === APLICADOS ===
        ['enunciado' => 'ŒîT natural', 'respuesta' => '+33¬∞C'],
        ['enunciado' => 'CO‚ÇÇ preindustrial', 'respuesta' => '280 ppm'],
        ['enunciado' => 'Contribuci√≥n vapor agua', 'respuesta' => '~60%'],

        // === ECOL√ìGICOS ===
        ['enunciado' => '¬øPor qu√© es necesario?', 'respuesta' => 'Oc√©anos l√≠quidos, vida posible'],
        ['enunciado' => '¬øQu√© pasa sin CO‚ÇÇ?', 'respuesta' => 'Congelaci√≥n total'],
        ['enunciado' => '¬øQu√© regula CO‚ÇÇ natural?', 'respuesta' => 'Fotos√≠ntesis, oc√©anos'],

        // === AVANZADOS ===
        ['enunciado' => 'F√≥rmula balance energ√©tico', 'respuesta' => '\\(\\Delta T = \\frac{S(1-A)}{4\\sigma} \\times F\\)'],
        ['enunciado' => 'Constante solar S', 'respuesta' => '1361 W/m¬≤'],
        ['enunciado' => 'Albedo Tierra A', 'respuesta' => '0.3']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Efecto invernadero natural mantiene...', 'opciones' => ['+15¬∞C', '-18¬∞C', '0¬∞C', '+50¬∞C'], 'correcta' => '+15¬∞C'],
        ['pregunta' => 'Sin √©l, temperatura ser√≠a...', 'opciones' => ['-18¬∞C', '+15¬∞C', '+30¬∞C', '0¬∞C'], 'correcta' => '-18¬∞C'],
        ['pregunta' => 'GEI principal', 'opciones' => ['Vapor agua', 'Ox√≠geno', 'Nitr√≥geno', 'Arg√≥n'], 'correcta' => 'Vapor agua'],
        ['pregunta' => 'CO‚ÇÇ natural proven√≠a de...', 'opciones' => ['Volcanes', 'F√°bricas', 'Autos', 'Aviones'], 'correcta' => 'Volcanes'],
        ['pregunta' => 'ŒîT por efecto invernadero', 'opciones' => ['+33¬∞C', '+1¬∞C', '-33¬∞C', '0¬∞C'], 'correcta' => '+33¬∞C'],
        ['pregunta' => 'Metano natural de...', 'opciones' => ['Pantanos', 'F√°bricas', 'Aviones', 'Pl√°sticos'], 'correcta' => 'Pantanos'],
        ['pregunta' => 'Sin GEI, oc√©anos...', 'opciones' => ['Congelados', 'L√≠quidos', 'Evaporados', 'Igual'], 'correcta' => 'Congelados'],
        ['pregunta' => 'Contribuci√≥n CO‚ÇÇ', 'opciones' => ['~20%', '60%', '100%', '0%'], 'correcta' => '~20%'],
        ['pregunta' => 'Fotos√≠ntesis absorbe...', 'opciones' => ['120 GtC/a√±o', '1 Gt', '0', '1000 Gt'], 'correcta' => '120 GtC/a√±o'],
        ['pregunta' => 'Albedo Tierra ‚âà', 'opciones' => ['0.3', '0.1', '0.7', '1.0'], 'correcta' => '0.3'],

        // === MEDIO (10) ===
        ['pregunta' => 'CO‚ÇÇ preindustrial', 'opciones' => ['280 ppm', '400 ppm', '100 ppm', '0 ppm'], 'correcta' => '280 ppm'],
        ['pregunta' => 'Constante solar S', 'opciones' => ['1361 W/m¬≤', '100 W/m¬≤', '1000 W/m¬≤', '0'], 'correcta' => '1361 W/m¬≤'],
        ['pregunta' => 'Vapor agua contribuye...', 'opciones' => ['~60%', '20%', '5%', '0%'], 'correcta' => '~60%'],
        ['pregunta' => 'Oc√©anos absorben CO‚ÇÇ...', 'opciones' => ['90 GtC/a√±o', '1 Gt', '0', '1000 Gt'], 'correcta' => '90 GtC/a√±o'],
        ['pregunta' => 'Efecto invernadero es...', 'opciones' => ['Natural y necesario', 'Solo humano', 'Malo', 'Falso'], 'correcta' => 'Natural y necesario'],
        ['pregunta' => 'Sin atm√≥sfera, T =', 'opciones' => ['-18¬∞C', '+15¬∞C', '+33¬∞C', '0¬∞C'], 'correcta' => '-18¬∞C'],
        ['pregunta' => 'Forzante GEI natural ‚âà', 'opciones' => ['+33¬∞C', '+1.2¬∞C', '0¬∞C', '-33¬∞C'], 'correcta' => '+33¬∞C'],
        ['pregunta' => 'IPCC AR6 confirma...', 'opciones' => ['Efecto natural vital', 'No existe', 'Solo humano', 'Falso'], 'correcta' => 'Efecto natural vital'],
        ['pregunta' => 'Stefan-Boltzmann œÉ ‚âà', 'opciones' => ['5.67√ó10‚Åª‚Å∏', '1', '0', '100'], 'correcta' => '5.67√ó10‚Åª‚Å∏'],
        ['pregunta' => 'Balance radiativo entrada =', 'opciones' => ['340 W/m¬≤', '100 W/m¬≤', '0', '1000'], 'correcta' => '340 W/m¬≤'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'F√≥rmula ŒîT simplificada', 'opciones' => ['S(1-A)/4œÉ √ó F', 'S√óA', 'œÉ/F', 'A/S'], 'correcta' => 'S(1-A)/4œÉ √ó F'],
        ['pregunta' => 'Entrada solar promedio', 'opciones' => ['340 W/m¬≤', '1361 W/m¬≤', '240 W/m¬≤', '0'], 'correcta' => '340 W/m¬≤'],
        ['pregunta' => 'Salida IR promedio', 'opciones' => ['240 W/m¬≤', '340 W/m¬≤', '0', '1000'], 'correcta' => '240 W/m¬≤'],
        ['pregunta' => 'Diferencia entrada-salida =', 'opciones' => ['100 W/m¬≤ atrapados', '0', '340', '240'], 'correcta' => '100 W/m¬≤ atrapados'],
        ['pregunta' => 'CH‚ÇÑ natural ‚âà', 'opciones' => ['0.7 ppm', '280 ppm', '400 ppm', '0'], 'correcta' => '0.7 ppm'],
        ['pregunta' => 'N‚ÇÇO natural ‚âà', 'opciones' => ['0.3 ppm', '1 ppm', '0', '10 ppm'], 'correcta' => '0.3 ppm'],
        ['pregunta' => 'Respiraci√≥n libera...', 'opciones' => ['60 GtC/a√±o', '120 GtC', '0', '1 Gt'], 'correcta' => '60 GtC/a√±o'],
        ['pregunta' => 'Efecto invernadero en Venus...', 'opciones' => ['+460¬∞C', '+33¬∞C', '0¬∞C', '-18¬∞C'], 'correcta' => '+460¬∞C'],
        ['pregunta' => 'Marte tiene efecto...', 'opciones' => ['D√©bil (~5¬∞C)', 'Fuerte', 'Ninguno', '+33¬∞C'], 'correcta' => 'D√©bil (~5¬∞C)'],
        ['pregunta' => 'NASA confirma oc√©anos l√≠quidos por...', 'opciones' => ['GEI natural', 'Sol', 'Luna', 'Magnetismo'], 'correcta' => 'GEI natural']
    ]
];
// ========================================
// MATERIA: ECOSISTEMAS
// SUBTEMA: Relaci√≥n Efecto Invernadero ‚Üî Huella Ecol√≥gica (Carbono, Overshoot, Mitigaci√≥n)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Ecosistemas',
    'slug' => 'relacion-efecto-invernadero-huella-ecologica',
    'titulo' => 'Efecto Invernadero y Huella Ecol√≥gica: Dos Caras del Mismo Desastre',
    'contenido' => '
        <h3>Relaci√≥n entre Efecto Invernadero y Huella Ecol√≥gica</h3>
        <p>La <strong>huella ecol√≥gica</strong> mide la <strong>demanda humana sobre la biocapacidad</strong> del planeta. Su componente m√°s grande: <strong>huella de carbono (60%)</strong>, que <strong>alimenta el efecto invernadero antropog√©nico</strong>.</p>
        <p><strong>Relaci√≥n directa:</strong> ‚Üë Huella ecol√≥gica ‚Üí ‚Üë Emisiones GHG ‚Üí ‚Üë Efecto invernadero ‚Üí ‚Üë Calentamiento ‚Üí ‚Üì Biocapacidad ‚Üí ‚Üë Huella ecol√≥gica</p>

        <hr style="border:1px dashed #00ff00;">

        <h4>1. Componentes de la Huella Ecol√≥gica</h4>
        <table class="table">
            <thead>
                <tr><th>Componente</th><th>% Total</th><th>Ejemplo</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Huella de carbono</strong></td><td>60%</td><td>Combustibles f√≥siles</td></tr>
                <tr><td><strong>Tierras de cultivo</strong></td><td>20%</td><td>Alimentos</td></tr>
                <tr><td><strong>Pesca</strong></td><td>5%</td><td>Sobrepesca</td></tr>
                <tr><td><strong>Bosques</strong></td><td>10%</td><td>Deforestaci√≥n</td></tr>
                <tr><td><strong>√Åreas construidas</strong></td><td>5%</td><td>Ciudades</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> Un estadounidense promedio tiene una <strong>huella de 8.1 hect√°reas globales (gha)</strong>, pero solo hay <strong>1.6 gha por persona</strong> disponibles ‚Üí <strong>5 planetas necesarios</strong>.</p>
        </div>

        <div class="visual">
            <img src="assets/img/ciclo-carbono.jpg" alt="Ciclo del carbono global">
            <p><em>Ciclo del carbono. Fuente: EIA.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>2. Earth Overshoot Day (2025)</h4>
        <table class="table">
            <thead>
                <tr><th>Pa√≠s</th><th>Overshoot Day</th><th>Planetas necesarios</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Qatar</strong></td><td>10 feb</td><td>8.0</td></tr>
                <tr><td><strong>EE.UU.</strong></td><td>13 mar</td><td>5.0</td></tr>
                <tr><td><strong>Espa√±a</strong></td><td>12 may</td><td>2.6</td></tr>
                <tr><td><strong>Mundo</strong></td><td><strong>2 ago</strong></td><td><strong>1.7</strong></td></tr>
                <tr><td><strong>India</strong></td><td>31 dic</td><td>0.8</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/infografia-huella-carbono.webp" alt="Acciones personales">
            <p><em>Acciones para reducir huella. Fuente: Earth.Org.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/actividades-humanas-ghg.png" alt="Actividades humanas y GHG">
            <p><em>Emisores principales. Fuente: NRDC.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>3. F√≥rmula de la Huella Ecol√≥gica</h4>
        <p>\\[ \\text{Huella Ecol√≥gica} = \\frac{\\text{Consumo total}}{\\text{Biocapacidad}} \\]</p>
        <p>\\[ \\text{Huella de Carbono} = \\text{Emisiones CO‚ÇÇ} \\times \\text{Factor bosque} \\]</p>

        <table class="table">
            <thead>
                <tr><th>Indicador</th><th>Valor 2025</th></tr>
            </thead>
            <tbody>
                <tr><td>Biocapacidad global</td><td>12 mil millones gha</td></tr>
                <tr><td>Poblaci√≥n</td><td>8.2 mil millones</td></tr>
                <tr><td><strong>Biocapacidad per c√°pita</strong></td><td><strong>1.6 gha</strong></td></tr>
                <tr><td>Huella media global</td><td>2.7 gha</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #00ff00;">

        <h4>4. C√≥mo Reducir Ambos</h4>
        <ul>
            <li><strong>Energ√≠a:</strong> Renovables ‚Üì 70% huella carbono</li>
            <li><strong>Alimentaci√≥n:</strong> Dieta basada en plantas ‚Üì 50%</li>
            <li><strong>Transporte:</strong> El√©ctrico + p√∫blico ‚Üì 30%</li>
            <li><strong>Consumo:</strong> Minimalismo ‚Üì 40%</li>
        </ul>

        <hr style="border:1px dashed #00ff00;">

        <h4>5. SVG Animado: Bucle Vicioso Huella ‚Üî Efecto Invernadero</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 700 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="700" height="500" fill="#0F1620"/>

                <!-- Huella Ecol√≥gica -->
                <circle cx="200" cy="250" r="80" fill="#32CD32" stroke="#228B22" stroke-width="4">
                    <animate attributeName="r" values="80;90;80" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="200" y="240" fill="white" font-size="14" text-anchor="middle">HUELLA</text>
                <text x="200" y="260" fill="white" font-size="12" text-anchor="middle">ECOL√ìGICA</text>
                <text x="200" y="280" fill="white" font-size="10" text-anchor="middle">2.7 gha</text>

                <!-- Efecto Invernadero -->
                <circle cx="500" cy="250" r="80" fill="#DC143C" stroke="#B22222" stroke-width="4">
                    <animate attributeName="r" values="80;90;80" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="500" y="240" fill="white" font-size="14" text-anchor="middle">EFECTO</text>
                <text x="500" y="260" fill="white" font-size="12" text-anchor="middle">INVERNADERO</text>
                <text x="500" y="280" fill="white" font-size="10" text-anchor="middle">+1.2¬∞C</text>

                <!-- Flechas bucle -->
                <path d="M280 250 Q350 180 420 250" stroke="#FFD700" stroke-width="8" fill="none" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2s" repeatCount="indefinite"/>
                </path>
                <text x="350" y="170" fill="#FFD700" font-size="14" text-anchor="middle">‚Üë Emisiones</text>

                <path d="M420 250 Q350 320 280 250" stroke="#FF4500" stroke-width="8" fill="none" marker-end="url(#arrow-red)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2s" repeatCount="indefinite"/>
                </path>
                <text x="350" y="340" fill="#FF4500" font-size="14" text-anchor="middle">‚Üì Biocapacidad</text>

                <!-- Soluci√≥n -->
                <circle cx="350" cy="100" r="50" fill="#00CED1">
                    <animate attributeName="r" values="50;60;50" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="350" y="95" fill="white" font-size="12" text-anchor="middle">REDUCIR</text>
                <text x="350" y="110" fill="white" font-size="10" text-anchor="middle">CONSUMO</text>

                <!-- Flechas soluci√≥n -->
                <path d="M200 170 L300 120" stroke="#00CED1" stroke-width="6" marker-end="url(#arrow-cyan)">
                    <animate attributeName="stroke-dashoffset" from="80" to="0" dur="1.5s" repeatCount="indefinite"/>
                </path>
                <path d="M500 170 L400 120" stroke="#00CED1" stroke-width="6" marker-end="url(#arrow-cyan)">
                    <animate attributeName="stroke-dashoffset" from="80" to="0" dur="1.5s" repeatCount="indefinite"/>
                </path>

                <!-- Flechas -->
                <defs>
                    <marker id="arrow" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#FFD700"/>
                    </marker>
                    <marker id="arrow-red" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#FF4500"/>
                    </marker>
                    <marker id="arrow-cyan" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#00CED1"/>
                    </marker>
                </defs>

                <!-- T√≠tulo -->
                <text x="350" y="60" fill="#FFD700" font-size="26" text-anchor="middle" font-family="Arial" font-weight="bold">BUCLE VICIOSO</text>
                <text x="350" y="90" fill="#FFFFFF" font-size="16" text-anchor="middle">Huella ‚Üë ‚Üí Calentamiento ‚Üë ‚Üí Huella ‚Üë</text>
            </svg>
            <p><em>SVG Animado: Bucle vicioso y c√≥mo romperlo con reducci√≥n de consumo.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Relaci√≥n entre huella y efecto invernadero', 'respuesta' => 'Directa: m√°s huella ‚Üí m√°s GHG'],
        ['enunciado' => '% de huella por carbono', 'respuesta' => '60%'],
        ['enunciado' => 'Huella media global', 'respuesta' => '2.7 gha'],

        // === APLICADOS ===
        ['enunciado' => 'Biocapacidad per c√°pita', 'respuesta' => '1.6 gha'],
        ['enunciado' => 'Overshoot Day mundial 2025', 'respuesta' => '2 de agosto'],
        ['enunciado' => 'Planetas necesarios global', 'respuesta' => '1.7'],

        // === ECOL√ìGICOS ===
        ['enunciado' => '¬øC√≥mo reducir ambos?', 'respuesta' => 'Energ√≠a limpia, dieta vegetal, transporte p√∫blico'],
        ['enunciado' => '¬øQu√© es biocapacidad?', 'respuesta' => 'Capacidad de la Tierra para regenerar recursos'],
        ['enunciado' => '¬øQu√© es Overshoot Day?', 'respuesta' => 'D√≠a en que agotamos recursos anuales'],

        // === AVANZADOS ===
        ['enunciado' => 'F√≥rmula huella ecol√≥gica', 'respuesta' => '\\(\\text{HE} = \\frac{\\text{Consumo}}{\\text{Biocapacidad}}\\)'],
        ['enunciado' => 'EE.UU. necesita X planetas', 'respuesta' => '5.0'],
        ['enunciado' => 'Acci√≥n m√°s efectiva', 'respuesta' => 'Energ√≠a renovable (-70%)']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Huella de carbono es...', 'opciones' => ['60% de huella total', '10%', '100%', '0%'], 'correcta' => '60% de huella total'],
        ['pregunta' => 'Relaci√≥n huella-efecto invernadero', 'opciones' => ['Directa', 'Inversa', 'Ninguna', 'Aleatoria'], 'correcta' => 'Directa'],
        ['pregunta' => 'Huella media global', 'opciones' => ['2.7 gha', '1.6 gha', '8 gha', '0'], 'correcta' => '2.7 gha'],
        ['pregunta' => 'Biocapacidad per c√°pita', 'opciones' => ['1.6 gha', '2.7 gha', '5 gha', '10 gha'], 'correcta' => '1.6 gha'],
        ['pregunta' => 'Overshoot Day mundial 2025', 'opciones' => ['2 ago', '1 ene', '31 dic', 'Nunca'], 'correcta' => '2 ago'],
        ['pregunta' => 'EE.UU. necesita...', 'opciones' => ['5 planetas', '1', '0.5', '10'], 'correcta' => '5 planetas'],
        ['pregunta' => 'Reducir consumo ‚Üì...', 'opciones' => ['Ambos', 'Solo huella', 'Solo GHG', 'Nada'], 'correcta' => 'Ambos'],
        ['pregunta' => 'Energ√≠a renovable ‚Üì huella carbono en...', 'opciones' => ['70%', '10%', '0%', '100%'], 'correcta' => '70%'],
        ['pregunta' => 'Dieta vegetal ‚Üì huella en...', 'opciones' => ['50%', '5%', '0%', '100%'], 'correcta' => '50%'],
        ['pregunta' => 'Deforestaci√≥n ‚Üë...', 'opciones' => ['Huella y GHG', 'Solo huella', 'Nada', 'Reduce'], 'correcta' => 'Huella y GHG'],

        // === MEDIO (10) ===
        ['pregunta' => 'Planetas necesarios global', 'opciones' => ['1.7', '1.0', '0.5', '3.0'], 'correcta' => '1.7'],
        ['pregunta' => 'Qatar Overshoot Day', 'opciones' => ['10 feb', '31 dic', '1 jul', 'Nunca'], 'correcta' => '10 feb'],
        ['pregunta' => 'Espa√±a necesita...', 'opciones' => ['2.6 planetas', '1.0', '5.0', '0.5'], 'correcta' => '2.6 planetas'],
        ['pregunta' => 'India Overshoot Day', 'opciones' => ['31 dic', '1 ene', '1 jul', '10 feb'], 'correcta' => '31 dic'],
        ['pregunta' => 'Biocapacidad total', 'opciones' => ['12 mil millones gha', '1 mill√≥n', '0', '1000'], 'correcta' => '12 mil millones gha'],
        ['pregunta' => 'Poblaci√≥n 2025', 'opciones' => ['8.2 mil millones', '7 mil millones', '10 mil millones', '1 mil millones'], 'correcta' => '8.2 mil millones'],
        ['pregunta' => 'Transporte p√∫blico ‚Üì huella en...', 'opciones' => ['30%', '5%', '0%', '100%'], 'correcta' => '30%'],
        ['pregunta' => 'Minimalismo ‚Üì huella en...', 'opciones' => ['40%', '5%', '0%', '100%'], 'correcta' => '40%'],
        ['pregunta' => 'IPCC recomienda...', 'opciones' => ['Reducir consumo', 'M√°s consumo', 'Nada', 'Ignorar'], 'correcta' => 'Reducir consumo'],
        ['pregunta' => 'Global Footprint Network mide...', 'opciones' => ['Overshoot Day', 'PIB', 'Nada', 'Poblaci√≥n'], 'correcta' => 'Overshoot Day'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'F√≥rmula huella ecol√≥gica', 'opciones' => ['Consumo / Biocapacidad', 'Biocapacidad / Consumo', 'Consumo √ó Biocapacidad', '0'], 'correcta' => 'Consumo / Biocapacidad'],
        ['pregunta' => 'Huella de carbono =', 'opciones' => ['Emisiones √ó Factor bosque', 'Emisiones / Bosque', 'Bosque - Emisiones', '0'], 'correcta' => 'Emisiones √ó Factor bosque'],
        ['pregunta' => '1 gha equivale a...', 'opciones' => ['1 hect√°rea productiva', '1 m¬≤', '1 km¬≤', '0'], 'correcta' => '1 hect√°rea productiva'],
        ['pregunta' => 'Acci√≥n m√°s efectiva', 'opciones' => ['Energ√≠a renovable', 'Reciclaje', 'Nada', 'Comprar m√°s'], 'correcta' => 'Energ√≠a renovable'],
        ['pregunta' => 'Meta IPCC 1.5¬∞C requiere ‚Üì emisiones...', 'opciones' => ['45% para 2030', '10%', '0%', '100%'], 'correcta' => '45% para 2030'],
        ['pregunta' => 'Overshoot Day retrocede...', 'opciones' => ['5 d√≠as/a√±o', '0', '1 d√≠a', '10 d√≠as'], 'correcta' => '5 d√≠as/a√±o'],
        ['pregunta' => 'Pa√≠s con menor huella', 'opciones' => ['Eritrea (0.4 gha)', 'EE.UU.', 'Qatar', 'China'], 'correcta' => 'Eritrea (0.4 gha)'],
        ['pregunta' => 'Si todos vivi√©ramos como EE.UU., necesitar√≠amos...', 'opciones' => ['5 Tierras', '1', '0.5', '10'], 'correcta' => '5 Tierras'],
        ['pregunta' => 'Huella de carbono incluye...', 'opciones' => ['CO‚ÇÇ, CH‚ÇÑ, N‚ÇÇO', 'Solo CO‚ÇÇ', 'O‚ÇÇ', 'Nada'], 'correcta' => 'CO‚ÇÇ, CH‚ÇÑ, N‚ÇÇO'],
        ['pregunta' => 'Reducci√≥n dieta vegetal ‚Üì emisiones...', 'opciones' => ['2.1 Gt/a√±o', '0', '1 Mt', '1000'], 'correcta' => '2.1 Gt/a√±o']
    ]
];
// ========================================
// MATERIA: ECOSISTEMAS
// SUBTEMA: Desertificaci√≥n (Causas, Efectos, Sahel, Gran Muralla Verde, Prevenci√≥n)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Ecosistemas',
    'slug' => 'desertificacion',
    'titulo' => 'Desertificaci√≥n: Cuando la Tierra se Convierte en Polvo',
    'contenido' => '
        <h3>¬øQu√© es la Desertificaci√≥n?</h3>
        <p>La <strong>desertificaci√≥n</strong> es la <strong>degradaci√≥n de tierras en zonas √°ridas, semi√°ridas y subh√∫medas secas</strong> debido a <strong>actividades humanas + cambio clim√°tico</strong>, resultando en <strong>p√©rdida de productividad biol√≥gica</strong>.</p>
        <p><strong>NO es expansi√≥n natural del desierto</strong> ‚Üí Es <strong>degradaci√≥n humana</strong>.</p>

        <hr style="border:1px dashed #00ff00;">

        <h4>1. Causas Principales</h4>
        <table class="table">
            <thead>
                <tr><th>Causa</th><th>Impacto</th><th>Ejemplo</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Sobrepastoreo</strong></td><td>Compactaci√≥n suelo</td><td>Sahel</td></tr>
                <tr><td><strong>Deforestaci√≥n</strong></td><td>Erosi√≥n e√≥lica</td><td>Amazonia seca</td></tr>
                <tr><td><strong>Agricultura intensiva</strong></td><td>Salinizaci√≥n</td><td>Ir√°n</td></tr>
                <tr><td><strong>Cambio clim√°tico</strong></td><td>Sequ√≠as prolongadas</td><td>Mediterr√°neo</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Sahel (√Åfrica)</strong> ‚Üí <strong>250 millones de personas</strong> afectadas. Desde 1970, <strong>650,000 km¬≤</strong> perdidos.</p>
        </div>

        <div class="visual">
            <img src="assets/img/diagrama-flujo_desertificacion.png" alt="Flujograma desertificaci√≥n">
            <p><em>Flujograma. Fuente: ResearchGate.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>2. Efectos en Ecosistemas y Humanos</h4>
        <table class="table">
            <thead>
                <tr><th>Efecto</th><th>Dato 2025</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Tierras degradadas</strong></td><td>1,000 millones ha</td></tr>
                <tr><td><strong>Personas afectadas</strong></td><td>1,500 millones</td></tr>
                <tr><td><strong>P√©rdida econ√≥mica</strong></td><td>US$42 mil millones/a√±o</td></tr>
                <tr><td><strong>Migraciones</strong></td><td>135 millones desplazados (2050)</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/infografia-desertificacion.jpg" alt="Infograf√≠a desertificaci√≥n">
            <p><em>Proceso visual. Fuente: SuperStock.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>3. Regiones M√°s Afectadas (2025)</h4>
        <table class="table">
            <thead>
                <tr><th>Regi√≥n</th><th>% Degradado</th><th>Pa√≠s L√≠der</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Sahel</strong></td><td>65%</td><td>N√≠ger</td></tr>
                <tr><td><strong>Mediterr√°neo</strong></td><td>30%</td><td>Espa√±a</td></tr>
                <tr><td><strong>Asia Central</strong></td><td>40%</td><td>Mongolia</td></tr>
                <tr><td><strong>Australia</strong></td><td>75%</td><td>Outback</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/mapa-UNCCD.jpg" alt="Mapa UNCCD">
            <p><em>Mapa global. Fuente: UNCCD.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/gran-muralla-verde.jpg" alt="Gran Muralla Verde">
            <p><em>Gran Muralla Verde. Fuente: Green Belt Movement.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>4. Prevenci√≥n y Restauraci√≥n</h4>
        <ul>
            <li><strong>Gran Muralla Verde (√Åfrica):</strong> 8,000 km ‚Üí 100 millones ha restauradas (meta 2030)</li>
            <li><strong>Rotaci√≥n de cultivos + agroforester√≠a</strong></li>
            <li><strong>Barreras cortavientos</strong></li>
            <li><strong>Manejo sostenible del pastoreo</strong></li>
        </ul>

        <hr style="border:1px dashed #00ff00;">

        <h4>5. SVG Animado: Proceso de Desertificaci√≥n</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 700 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="700" height="500" fill="#87CEEB" opacity="0.2"/>

                <!-- Tierra f√©rtil -->
                <rect x="50" y="200" width="120" height="100" fill="#228B22" rx="10"/>
                <text x="110" y="250" fill="white" font-size="14" text-anchor="middle">TIERRA F√âRTIL</text>

                <!-- Ganado -->
                <circle cx="110" cy="170" r="20" fill="#8B4513"/>
                <text x="110" y="165" fill="white" font-size="10" text-anchor="middle">Ganado</text>
                <text x="110" y="320" fill="#DC143C" font-size="12" text-anchor="middle">Sobrepastoreo</text>

                <!-- Deforestaci√≥n -->
                <rect x="220" y="180" width="100" height="140" fill="#654321" rx="10"/>
                <text x="270" y="230" fill="white" font-size="12" text-anchor="middle">√ÅRBOLES</text>
                <path d="M270 250 L260 280 M270 250 L280 280" stroke="#DC143C" stroke-width="4"/>
                <text x="270" y="320" fill="#DC143C" font-size="12" text-anchor="middle">Deforestaci√≥n</text>

                <!-- Erosi√≥n -->
                <path d="M350 250 Q400 220 450 250" stroke="#D2691E" stroke-width="60" fill="none" opacity="0.6">
                    <animate attributeName="stroke-dashoffset" from="200" to="0" dur="3s" repeatCount="indefinite"/>
                </path>
                <text x="400" y="200" fill="#8B4513" font-size="14" text-anchor="middle">EROSI√ìN</text>

                <!-- Desierto -->
                <rect x="500" y="200" width="150" height="100" fill="#F4A460" rx="15"/>
                <text x="575" y="250" fill="#8B4513" font-size="16" text-anchor="middle">DESIERTO</text>
                <text x="575" y="280" fill="#8B4513" font-size="12" text-anchor="middle">0% fertilidad</text>

                <!-- Flechas -->
                <path d="M170 250 L210 250" stroke="#DC143C" stroke-width="6" marker-end="url(#arrow)"/>
                <path d="M320 250 L350 250" stroke="#DC143C" stroke-width="6" marker-end="url(#arrow)"/>
                <path d="M450 250 L500 250" stroke="#DC143C" stroke-width="6" marker-end="url(#arrow)"/>

                <!-- Soluci√≥n -->
                <circle cx="350" cy="100" r="60" fill="#32CD32">
                    <animate attributeName="r" values="60;70;60" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="350" y="90" fill="white" font-size="14" text-anchor="middle">RESTAURAR</text>
                <text x="350" y="110" fill="white" font-size="12" text-anchor="middle">Manejo sostenible</text>

                <!-- Flecha soluci√≥n -->
                <path d="M350 160 Q300 200 200 240" stroke="#32CD32" stroke-width="8" marker-end="url(#arrow-green)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2.5s" repeatCount="indefinite"/>
                </path>

                <!-- Flechas -->
                <defs>
                    <marker id="arrow" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#DC143C"/>
                    </marker>
                    <marker id="arrow-green" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#32CD32"/>
                    </marker>
                </defs>

                <!-- T√≠tulo -->
                <text x="350" y="60" fill="#FFD700" font-size="26" text-anchor="middle" font-weight="bold">DESERTIFICACI√ìN</text>
                <text x="350" y="90" fill="#333" font-size="16" text-anchor="middle">De verde a polvo en d√©cadas</text>
            </svg>
            <p><em>SVG Animado: Sobreexplotaci√≥n ‚Üí erosi√≥n ‚Üí desierto vs restauraci√≥n sostenible.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Define desertificaci√≥n', 'respuesta' => 'Degradaci√≥n de tierras √°ridas por humanos + clima'],
        ['enunciado' => 'Causa principal humana', 'respuesta' => 'Sobrepastoreo'],
        ['enunciado' => 'Regi√≥n m√°s afectada', 'respuesta' => 'Sahel'],

        // === APLICADOS ===
        ['enunciado' => 'Tierras degradadas global', 'respuesta' => '1,000 millones ha'],
        ['enunciado' => 'Personas afectadas', 'respuesta' => '1,500 millones'],
        ['enunciado' => 'P√©rdida econ√≥mica/a√±o', 'respuesta' => 'US$42 mil millones'],

        // === ECOL√ìGICOS ===
        ['enunciado' => '¬øC√≥mo prevenir?', 'respuesta' => 'Reforestaci√≥n, rotaci√≥n cultivos, manejo pastoreo'],
        ['enunciado' => '¬øQu√© es Gran Muralla Verde?', 'respuesta' => '8,000 km de √°rboles en √Åfrica'],
        ['enunciado' => '¬øC√≥mo cambio clim√°tico la agrava?', 'respuesta' => 'Sequ√≠as m√°s largas'],

        // === AVANZADOS ===
        ['enunciado' => 'F√≥rmula erosi√≥n e√≥lica', 'respuesta' => '\\(E = f(I, K, C, L, V)\\)'],
        ['enunciado' => 'Meta UNCCD 2030', 'respuesta' => 'Neutralidad en degradaci√≥n de tierras'],
        ['enunciado' => 'Pa√≠s con 75% degradado', 'respuesta' => 'Australia']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Desertificaci√≥n afecta zonas...', 'opciones' => ['√Åridas', 'H√∫medas', 'Fr√≠as', 'Marinas'], 'correcta' => '√Åridas'],
        ['pregunta' => 'Causa principal', 'opciones' => ['Sobrepastoreo', 'Lluvia', 'Nieve', 'Viento'], 'correcta' => 'Sobrepastoreo'],
        ['pregunta' => 'Sahel pierde...', 'opciones' => ['650,000 km¬≤', '1 km¬≤', '0', '1 mill√≥n km¬≤'], 'correcta' => '650,000 km¬≤'],
        ['pregunta' => 'Tierras degradadas global', 'opciones' => ['1,000 millones ha', '1 ha', '0', '100 ha'], 'correcta' => '1,000 millones ha'],
        ['pregunta' => 'Personas afectadas', 'opciones' => ['1,500 millones', '1 mill√≥n', '0', '1000'], 'correcta' => '1,500 millones'],
        ['pregunta' => 'P√©rdida econ√≥mica/a√±o', 'opciones' => ['US$42 mil millones', '0', '1 d√≥lar', '1000'], 'correcta' => 'US$42 mil millones'],
        ['pregunta' => 'Gran Muralla Verde mide...', 'opciones' => ['8,000 km', '1 km', '0', '100 km'], 'correcta' => '8,000 km'],
        ['pregunta' => 'Prevenci√≥n clave', 'respuesta' => 'Manejo sostenible'],
        ['pregunta' => 'Erosi√≥n es...', 'opciones' => ['P√©rdida suelo', 'Ganancia', 'Nada', 'Agua'], 'correcta' => 'P√©rdida suelo'],
        ['pregunta' => 'UNCCD es...', 'opciones' => ['Convenci√≥n contra desertificaci√≥n', 'ONU', 'NASA', 'Nada'], 'correcta' => 'Convenci√≥n contra desertificaci√≥n'],

        // === MEDIO (10) ===
        ['pregunta' => 'N√≠ger % degradado', 'opciones' => ['65%', '10%', '0%', '100%'], 'correcta' => '65%'],
        ['pregunta' => 'Espa√±a % degradado', 'opciones' => ['30%', '0%', '100%', '5%'], 'correcta' => '30%'],
        ['pregunta' => 'Mongolia % degradado', 'opciones' => ['40%', '0%', '100%', '10%'], 'correcta' => '40%'],
        ['pregunta' => 'Australia % degradado', 'opciones' => ['75%', '0%', '10%', '100%'], 'correcta' => '75%'],
        ['pregunta' => 'Migraciones por desertificaci√≥n 2050', 'opciones' => ['135 millones', '0', '1', '1000'], 'correcta' => '135 millones'],
        ['pregunta' => 'Salinizaci√≥n por...', 'opciones' => ['Riego intensivo', 'Lluvia', 'Nieve', 'Nada'], 'correcta' => 'Riego intensivo'],
        ['pregunta' => 'Agroforester√≠a combina...', 'opciones' => ['√Årboles + cultivos', 'Solo √°rboles', 'Solo cultivos', 'Nada'], 'correcta' => '√Årboles + cultivos'],
        ['pregunta' => 'Rotaci√≥n cultivos ‚Üì...', 'opciones' => ['Erosi√≥n', 'Aumenta', 'Nada', 'Salinizaci√≥n'], 'correcta' => 'Erosi√≥n'],
        ['pregunta' => 'Meta Gran Muralla Verde', 'opciones' => ['100 millones ha', '1 ha', '0', '1 mill√≥n ha'], 'correcta' => '100 millones ha'],
        ['pregunta' => 'Cambio clim√°tico ‚Üë...', 'opciones' => ['Sequ√≠as', 'Lluvias', 'Fr√≠o', 'Nada'], 'correcta' => 'Sequ√≠as'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'F√≥rmula erosi√≥n e√≥lica (USLE)', 'opciones' => ['E = f(I,K,C,L,V)', 'E = I + K', 'E = 0', 'E = V'], 'correcta' => 'E = f(I,K,C,L,V)'],
        ['pregunta' => 'UNCCD meta 2030', 'opciones' => ['Neutralidad degradaci√≥n', 'M√°s degradaci√≥n', 'Nada', 'Duplicar'], 'correcta' => 'Neutralidad degradaci√≥n'],
        ['pregunta' => 'Desertificaci√≥n ‚â†', 'opciones' => ['Expansi√≥n natural desierto', 'Degradaci√≥n humana', 'Ambas', 'Ninguna'], 'correcta' => 'Expansi√≥n natural desierto'],
        ['pregunta' => 'Sahel desde 1970 perdi√≥...', 'opciones' => ['650,000 km¬≤', '1 km¬≤', '0', '1 mill√≥n km¬≤'], 'correcta' => '650,000 km¬≤'],
        ['pregunta' => 'Compactaci√≥n suelo por...', 'opciones' => ['Ganado pesado', 'Lluvia', 'Viento', 'Nada'], 'correcta' => 'Ganado pesado'],
        ['pregunta' => 'Barreras cortavientos ‚Üì...', 'opciones' => ['Erosi√≥n e√≥lica', 'Aumenta', 'Nada', 'Agua'], 'correcta' => 'Erosi√≥n e√≥lica'],
        ['pregunta' => 'Restauraci√≥n 1 ha cuesta ‚âà', 'opciones' => ['US$500', 'US$1', 'US$1M', 'US$0'], 'correcta' => 'US$500'],
        ['pregunta' => 'Gran Muralla Verde incluye...', 'opciones' => ['11 pa√≠ses', '1', '0', '100'], 'correcta' => '11 pa√≠ses'],
        ['pregunta' => 'Desertificaci√≥n causa...', 'opciones' => ['24% emisiones globales', '0%', '100%', '1%'], 'correcta' => '24% emisiones globales'],
        ['pregunta' => 'Pa√≠s con mayor √©xito restauraci√≥n', 'opciones' => ['China (Loess)', 'EE.UU.', 'Brasil', 'India'], 'correcta' => 'China (Loess)']
    ]
];
// ========================================
// MATERIA: ECOSISTEMAS
// SUBTEMA: Deforestaci√≥n (Amazon√≠a, Soja, Ganado, Secuestro CO‚ÇÇ, Tipping Point, REDD+)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Ecosistemas',
    'slug' => 'deforestacion',
    'titulo' => 'Deforestaci√≥n: El Pulm√≥n del Planeta Bajo Ataque',
    'contenido' => '
        <h3>¬øQu√© es la Deforestaci√≥n?</h3>
        <p>La <strong>deforestaci√≥n</strong> es la <strong>remoci√≥n permanente de bosques</strong> para <strong>agricultura, ganader√≠a, miner√≠a, urbanizaci√≥n o infraestructura</strong>. <strong>13 millones de hect√°reas/a√±o</strong> perdidas (FAO 2025).</p>
        <p><strong>Impacto:</strong> <strong>12‚Äì18% de emisiones globales de CO‚ÇÇ</strong> + p√©rdida de biodiversidad + alteraci√≥n del ciclo del agua.</p>

        <hr style="border:1px dashed #00ff00;">

        <h4>1. Causas Principales (2025)</h4>
        <table class="table">
            <thead>
                <tr><th>Causa</th><th>% Global</th><th>Ejemplo</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Ganader√≠a</strong></td><td>70%</td><td>Brasil, Paraguay</td></tr>
                <tr><td><strong>Agricultura (soja, palma)</strong></td><td>20%</td><td>Indonesia, Brasil</td></tr>
                <tr><td><strong>Miner√≠a</strong></td><td>7%</td><td>Per√∫, Ghana</td></tr>
                <tr><td><strong>Infraestructura</strong></td><td>3%</td><td>Carreteras, represas</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Amazon√≠a Brasil</strong> ‚Üí <strong>1.1 millones ha/a√±o</strong> (INPE 2025). <strong>80% para ganado</strong>.</p>
        </div>

        <div class="visual">
            <img src="assets/img/causas_deforestacion.jpg" alt="Modelo causas">
            <p><em>Modelo de causas. Fuente: ResearchGate.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>2. Efectos en Ecosistemas</h4>
        <table class="table">
            <thead>
                <tr><th>Efecto</th><th>Dato 2025</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Emisiones CO‚ÇÇ</strong></td><td>5.5 Gt/a√±o</td></tr>
                <tr><td><strong>P√©rdida biodiversidad</strong></td><td>50,000 especies/a√±o</td></tr>
                <tr><td><strong>Erosi√≥n suelo</strong></td><td>24 mil millones t/a√±o</td></tr>
                <tr><td><strong>Reducci√≥n lluvia</strong></td><td>‚Äì10% en Amazon√≠a</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/sumidero-carbono.png" alt="Secuestro carbono">
            <p><em>Bosque = sumidero. Fuente: FU Berlin.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>3. Amazon√≠a: Punto de Inflexi√≥n (Tipping Point)</h4>
        <p>Si se pierde <strong>>20‚Äì25% del bosque</strong> ‚Üí <strong>sabanizaci√≥n irreversible</strong>.</p>
        <p>Actual: <strong>18% deforestado</strong> (2025).</p>

        <div class="visual">
            <img src="assets/img/tipping-point-amazonia.jpg" alt="Tipping point Amazon√≠a">
            <p><em>Tipping point. Fuente: PNAS.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/FAO-deforestacion-global.jpg" alt="FAO deforestaci√≥n global">
            <p><em>Tendencia global. Fuente: FAO 2025.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>4. Soluciones: REDD+ y M√°s</h4>
        <ul>
            <li><strong>REDD+:</strong> Pago por no deforestar ‚Üí US$40 mil millones comprometidos</li>
            <li><strong>Certificaci√≥n:</strong> FSC, RSPO</li>
            <li><strong>Reforestaci√≥n:</strong> 1 bill√≥n √°rboles (Trillion Trees)</li>
            <li><strong>Leyes:</strong> Moratoria soja Brasil (2006‚Äì2025)</li>
        </ul>

        <hr style="border:1px dashed #00ff00;">

        <h4>5. SVG Animado: De Bosque a Pastizal</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 700 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="700" height="500" fill="#87CEEB" opacity="0.3"/>

                <!-- Bosque -->
                <rect x="50" y="180" width="150" height="150" fill="#228B22" rx="15"/>
                <circle cx="100" cy="150" r="30" fill="#006400"/>
                <circle cx="150" cy="160" r="35" fill="#006400"/>
                <circle cx="125" cy="130" r="25" fill="#006400"/>
                <text x="125" y="250" fill="white" font-size="16" text-anchor="middle">BOSQUE</text>
                <text x="125" y="280" fill="#228B22" font-size="12" text-anchor="middle">1.5 GtC/a√±o</text>

                <!-- Motosierra -->
                <rect x="220" y="220" width="80" height="40" fill="#696969" rx="10"/>
                <path d="M300 240 L340 240 L330 220 L340 200 L300 200 Z" fill="#DC143C"/>
                <text x="260" y="210" fill="#DC143C" font-size="12" text-anchor="middle">CORTE</text>
                <animateTransform attributeName="transform" type="translate" from="0,0" to="100,0" dur="3s" repeatCount="indefinite"/>

                <!-- Pastizal -->
                <rect x="400" y="200" width="180" height="130" fill="#DAA520" rx="15"/>
                <circle cx="450" cy="250" r="8" fill="#8B7355"/>
                <circle cx="490" cy="240" r="6" fill="#8B7355"/>
                <circle cx="530" cy="255" r="7" fill="#8B7355"/>
                <text x="490" y="250" fill="#8B4513" font-size="16" text-anchor="middle">GANADO</text>
                <text x="490" y="280" fill="#8B4513" font-size="12" text-anchor="middle">0.1 GtC/a√±o</text>

                <!-- CO‚ÇÇ liberado -->
                <circle cx="300" cy="100" r="40" fill="#FF4500" opacity="0.7">
                    <animate attributeName="r" values="40;60;40" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="300" y="105" fill="white" font-size="14" text-anchor="middle">+CO‚ÇÇ</text>

                <!-- Flechas -->
                <path d="M200 255 L230 255" stroke="#DC143C" stroke-width="8" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="50" to="0" dur="1.5s" repeatCount="indefinite"/>
                </path>
                <path d="M300 240 L380 240" stroke="#DC143C" stroke-width="8" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="80" to="0" dur="2s" repeatCount="indefinite"/>
                </path>

                <!-- Soluci√≥n -->
                <circle cx="350" cy="100" r="60" fill="#32CD32">
                    <animate attributeName="r" values="60;70;60" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="350" y="90" fill="white" font-size="14" text-anchor="middle">REDD+</text>
                <text x="350" y="110" fill="white" font-size="12" text-anchor="middle">Pago por conservar</text>

                <!-- Flecha soluci√≥n -->
                <path d="M125 180 Q200 120 350 110" stroke="#32CD32" stroke-width="8" marker-end="url(#arrow-green)">
                    <animate attributeName="stroke-dashoffset" from="150" to="0" dur="3s" repeatCount="indefinite"/>
                </path>

                <!-- Flechas -->
                <defs>
                    <marker id="arrow" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#DC143C"/>
                    </marker>
                    <marker id="arrow-green" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#32CD32"/>
                    </marker>
                </defs>

                <!-- T√≠tulo -->
                <text x="350" y="60" fill="#FFD700" font-size="26" text-anchor="middle" font-weight="bold">DEFORESTACI√ìN</text>
                <text x="350" y="90" fill="#333" font-size="16" text-anchor="middle">De sumidero a fuente de CO‚ÇÇ</text>
            </svg>
            <p><em>SVG Animado: Bosque ‚Üí Corte ‚Üí Pastizal + CO‚ÇÇ vs REDD+.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Define deforestaci√≥n', 'respuesta' => 'Remoci√≥n permanente de bosques'],
        ['enunciado' => 'Principal causa global', 'respuesta' => 'Ganader√≠a (70%)'],
        ['enunciado' => 'Emisiones por deforestaci√≥n', 'respuesta' => '5.5 Gt CO‚ÇÇ/a√±o'],

        // === APLICADOS ===
        ['enunciado' => 'Amazon√≠a deforestada 2025', 'respuesta' => '18%'],
        ['enunciado' => 'Tipping point Amazon√≠a', 'respuesta' => '20‚Äì25% p√©rdida'],
        ['enunciado' => 'P√©rdida bosque/a√±o', 'respuesta' => '13 millones ha'],

        // === ECOL√ìGICOS ===
        ['enunciado' => '¬øC√≥mo afecta ciclo agua?', 'respuesta' => 'Menos evapotranspiraci√≥n ‚Üí menos lluvia'],
        ['enunciado' => '¬øQu√© es REDD+?', 'respuesta' => 'Pago por no deforestar'],
        ['enunciado' => '¬øQu√© es FSC?', 'respuesta' => 'Certificaci√≥n madera sostenible'],

        // === AVANZADOS ===
        ['enunciado' => 'F√≥rmula secuestro carbono', 'respuesta' => '\\(C = A \\times D 150 tC/ha\\)'],
        ['enunciado' => 'Moratoria soja Brasil desde', 'respuesta' => '2006'],
        ['enunciado' => 'Meta Trillion Trees', 'respuesta' => '1 bill√≥n √°rboles 2030']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Principal causa deforestaci√≥n', 'opciones' => ['Ganader√≠a', 'Turismo', 'Nada', 'Lluvia'], 'correcta' => 'Ganader√≠a'],
        ['pregunta' => 'Emite CO‚ÇÇ por...', 'opciones' => ['Deforestaci√≥n', 'Reforestaci√≥n', 'Nada', 'Fr√≠o'], 'correcta' => 'Deforestaci√≥n'],
        ['pregunta' => 'Amazon√≠a pierde...', 'opciones' => ['1.1 millones ha/a√±o', '1 ha', '0', '100 ha'], 'correcta' => '1.1 millones ha/a√±o'],
        ['pregunta' => 'P√©rdida global/a√±o', 'opciones' => ['13 millones ha', '1 ha', '0', '1000 ha'], 'correcta' => '13 millones ha'],
        ['pregunta' => 'Emisiones por deforestaci√≥n', 'opciones' => ['5.5 Gt CO‚ÇÇ/a√±o', '0', '1 t', '1000 t'], 'correcta' => '5.5 Gt CO‚ÇÇ/a√±o'],
        ['pregunta' => 'REDD+ es...', 'opciones' => ['Pago por conservar', 'M√°s corte', 'Nada', 'Turismo'], 'correcta' => 'Pago por conservar'],
        ['pregunta' => 'FSC certifica...', 'opciones' => ['Madera sostenible', 'Carne', 'Pl√°stico', 'Nada'], 'correcta' => 'Madera sostenible'],
        ['pregunta' => 'Deforestaci√≥n ‚Üì lluvia en...', 'opciones' => ['10%', 'Aumenta', '0%', '100%'], 'correcta' => '10%'],
        ['pregunta' => 'Tipping point Amazon√≠a', 'opciones' => ['20‚Äì25%', '0%', '100%', '1%'], 'correcta' => '20‚Äì25%'],
        ['pregunta' => 'Soja es causa en...', 'opciones' => ['Brasil, Indonesia', 'EE.UU.', 'Europa', '√Åfrica'], 'correcta' => 'Brasil, Indonesia'],

        // === MEDIO (10) ===
        ['pregunta' => 'Amazon√≠a deforestada 2025', 'opciones' => ['18%', '0%', '50%', '100%'], 'correcta' => '18%'],
        ['pregunta' => 'Ganader√≠a causa...', 'opciones' => ['70%', '10%', '0%', '100%'], 'correcta' => '70%'],
        ['pregunta' => 'Agricultura (soja, palma)...', 'opciones' => ['20%', '70%', '0%', '100%'], 'correcta' => '20%'],
        ['pregunta' => 'Miner√≠a causa...', 'opciones' => ['7%', '70%', '0%', '100%'], 'correcta' => '7%'],
        ['pregunta' => 'Moratoria soja Brasil desde', 'opciones' => ['2006', '2025', '1900', 'Nunca'], 'correcta' => '2006'],
        ['pregunta' => 'Trillion Trees meta', 'opciones' => ['1 bill√≥n 2030', '1 √°rbol', '0', '1000'], 'correcta' => '1 bill√≥n 2030'],
        ['pregunta' => 'RSPO certifica...', 'opciones' => ['Aceite palma sostenible', 'Soja', 'Carne', 'Nada'], 'correcta' => 'Aceite palma sostenible'],
        ['pregunta' => 'Erosi√≥n por deforestaci√≥n', 'opciones' => ['24 mil millones t/a√±o', '0', '1 t', '1000 t'], 'correcta' => '24 mil millones t/a√±o'],
        ['pregunta' => 'P√©rdida especies/a√±o', 'opciones' => ['50,000', '1', '0', '1000'], 'correcta' => '50,000'],
        ['pregunta' => 'REDD+ comprometi√≥...', 'opciones' => ['US$40 mil millones', '0', '1 d√≥lar', '1000'], 'correcta' => 'US$40 mil millones'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'F√≥rmula secuestro carbono', 'opciones' => ['C = A √ó 150 tC/ha', 'C = A / 150', 'C = 0', 'C = A¬≤'], 'correcta' => 'C = A √ó 150 tC/ha'],
        ['pregunta' => '1 ha bosque tropical almacena ‚âà', 'opciones' => ['150 tC', '1 tC', '0', '1000 tC'], 'correcta' => '150 tC'],
        ['pregunta' => 'Deforestaci√≥n = X% emisiones globales', 'opciones' => ['12‚Äì18%', '1%', '0%', '100%'], 'correcta' => '12‚Äì18%'],
        ['pregunta' => 'INPE mide Amazon√≠a con...', 'opciones' => ['Sat√©lites', 'Aviones', 'Nada', 'Barcos'], 'correcta' => 'Sat√©lites'],
        ['pregunta' => 'Sabanizaci√≥n ocurre si...', 'opciones' => ['>20‚Äì25% p√©rdida', '<1%', '0%', '100%'], 'correcta' => '>20‚Äì25% p√©rdida'],
        ['pregunta' => 'FAO 2025 reporta...', 'opciones' => ['13 millones ha/a√±o', '0', '1 ha', '1000 ha'], 'correcta' => '13 millones ha/a√±o'],
        ['pregunta' => 'Pa√≠s con mayor deforestaci√≥n absoluta', 'opciones' => ['Brasil', 'EE.UU.', 'China', 'Espa√±a'], 'correcta' => 'Brasil'],
        ['pregunta' => 'Pa√≠s con mayor % deforestado', 'opciones' => ['Indonesia', 'Brasil', 'Congo', 'Australia'], 'correcta' => 'Indonesia'],
        ['pregunta' => 'Reforestar 1 ha cuesta ‚âà', 'opciones' => ['US$2,000', 'US$1', 'US$1M', 'US$0'], 'correcta' => 'US$2,000'],
        ['pregunta' => 'Meta global deforestaci√≥n neta cero', 'opciones' => ['2030', '2050', '2100', 'Nunca'], 'correcta' => '2030']
    ]
];
// ========================================
// MATERIA: ECOSISTEMAS
// SUBTEMA: Sucesi√≥n Primaria (L√≠quenes, Suelo, Cl√≠max, Volc√°n, Glaciar, Clements)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Ecosistemas',
    'slug' => 'sucesion-primaria',
    'titulo' => 'Sucesi√≥n Primaria: De Roca Desnuda a Bosque Cl√≠max',
    'contenido' => '
        <h3>¬øQu√© es la Sucesi√≥n Primaria?</h3>
        <p>La <strong>sucesi√≥n primaria</strong> es el <strong>proceso ecol√≥gico</strong> por el cual <strong>comunidades biol√≥gicas colonizan un √°rea sin suelo</strong> (roca desnuda, lava, arena glacial) hasta formar un <strong>ecosistema cl√≠max estable</strong>.</p>
        <p><strong>Tiempo:</strong> <strong>100‚Äì1,000 a√±os</strong>. <strong>Clave:</strong> Formaci√≥n de suelo.</p>

        <hr style="border:1px dashed #00ff00;">

        <h4>1. Etapas de la Sucesi√≥n Primaria</h4>
        <table class="table">
            <thead>
                <tr><th>Etapa</th><th>Organismos</th><th>Suelo</th><th>Tiempo</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>1. Roca desnuda</strong></td><td>Ninguno</td><td>0 cm</td><td>0 a√±os</td></tr>
                <tr><td><strong>2. L√≠quenes/Musgos</strong></td><td>Pioneros</td><td>0.1‚Äì1 cm</td><td>10‚Äì50 a√±os</td></tr>
                <tr><td><strong>3. Hierbas</strong></td><td>Plantas anuales</td><td>1‚Äì5 cm</td><td>50‚Äì100 a√±os</td></tr>
                <tr><td><strong>4. Arbustos</strong></td><td>Perennes</td><td>5‚Äì20 cm</td><td>100‚Äì200 a√±os</td></tr>
                <tr><td><strong>5. Bosque joven</strong></td><td>√Årboles pioneros</td><td>20‚Äì50 cm</td><td>200‚Äì500 a√±os</td></tr>
                <tr><td><strong>6. Bosque cl√≠max</strong></td><td>Estable</td><td>>50 cm</td><td>500‚Äì1,000+ a√±os</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Hawaii (Kilauea)</strong> ‚Üí Lava 1959 ‚Üí <strong>l√≠quenes en 1 a√±o</strong>, <strong>bosque en 300 a√±os</strong>.</p>
        </div>

        <div class="visual">
            <img src="assets/img/diagrama-sucecion-primaria.jpeg" alt="Diagrama sucesi√≥n primaria">
            <p><em>Etapas visuales. Fuente: UChicago News.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>2. Especies Pioneras: Los H√©roes del Suelo</h4>
        <ul>
            <li><strong>L√≠quenes:</strong> Simbiosis hongo + alga ‚Üí <strong>√°cidos disuelven roca</strong></li>
            <li><strong>Musgos:</strong> Retienen agua ‚Üí <strong>acumulan materia org√°nica</strong></li>
            <li><strong>Primera planta vascular:</strong> <em>Dryopteris</em> (helecho)</li>
        </ul>

        <div class="visual">
            <img src="assets/img/Primary-Succession.webp" alt="Etapas detalladas">
            <p><em>Secuencia completa. Fuente: Microbe Notes.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/Primary-Succession-Definition.png" alt="Definici√≥n gr√°fica">
            <p><em>Definici√≥n visual. Fuente: Science Notes.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>3. Ejemplos Naturales (2025)</h4>
        <table class="table">
            <thead>
                <tr><th>Lugar</th><th>Evento</th><th>Tiempo Cl√≠max</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Kilauea (Hawaii)</strong></td><td>Lava 1959</td><td>~300 a√±os</td></tr>
                <tr><td><strong>Surtsey (Islandia)</strong></td><td>Volc√°n 1963</td><td>~500 a√±os</td></tr>
                <tr><td><strong>Glaciar Columbia (Alaska)</strong></td><td>Retiro 1980</td><td>~200 a√±os</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/kilauea-1959.jpg" alt="Kilauea 1959">
            <p><em>Lava fresca. Fuente: USGS.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/glacier-bay.webp" alt="Glacier Bay">
            <p><em>Retiro glacial. Fuente: NPS.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>4. Teor√≠a Cl√°sica vs Moderna</h4>
        <table class="table">
            <thead>
                <tr><th>Teor√≠a</th><th>Autor</th><th>Idea</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Cl√°sica</strong></td><td>Clements (1916)</td><td>Cl√≠max predeterminado</td></tr>
                <tr><td><strong>Moderna</strong></td><td>Odum (1969)</td><td>M√∫ltiples estados estables</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #00ff00;">

        <h4>5. SVG Animado: De Roca a Bosque</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 700 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="700" height="500" fill="#87CEEB" opacity="0.2"/>

                <!-- 1. Roca desnuda -->
                <rect x="50" y="200" width="100" height="100" fill="#696969" rx="10"/>
                <text x="100" y="250" fill="#333" font-size="14" text-anchor="middle">ROCA</text>
                <text x="100" y="280" fill="#555" font-size="10" text-anchor="middle">0 a√±os</text>

                <!-- 2. L√≠quenes -->
                <circle cx="200" cy="250" r="30" fill="#32CD32" opacity="0.6">
                    <animate attributeName="r" values="0;30" begin="1s" dur="1s" fill="freeze"/>
                </circle>
                <text x="200" y="245" fill="white" font-size="10" text-anchor="middle">L√çQUENES</text>
                <text x="200" y="280" fill="#228B22" font-size="10" text-anchor="middle">10‚Äì50 a√±os</text>

                <!-- 3. Hierbas -->
                <path d="M300 280 L290 240 L300 220 L310 240 Z" fill="#90EE90">
                    <animate attributeName="opacity" values="0;1" begin="2s" dur="1s" fill="freeze"/>
                </path>
                <path d="M320 280 L310 240 L320 220 L330 240 Z" fill="#90EE90">
                    <animate attributeName="opacity" values="0;1" begin="2.2s" dur="1s" fill="freeze"/>
                </path>
                <text x="315" y="250" fill="#006400" font-size="12" text-anchor="middle">HIERBAS</text>
                <text x="315" y="280" fill="#006400" font-size="10" text-anchor="middle">50‚Äì100 a√±os</text>

                <!-- 4. Arbustos -->
                <ellipse cx="450" cy="260" rx="40" ry="25" fill="#228B22">
                    <animate attributeName="rx" values="0;40" begin="3s" dur="1s" fill="freeze"/>
                </ellipse>
                <text x="450" y="255" fill="white" font-size="12" text-anchor="middle">ARBUSTOS</text>
                <text x="450" y="280" fill="#006400" font-size="10" text-anchor="middle">100‚Äì200 a√±os</text>

                <!-- 5. Bosque cl√≠max -->
                <rect x="550" y="180" width="100" height="120" fill="#006400" rx="15">
                    <animate attributeName="width" values="0;100" begin="4s" dur="1.5s" fill="freeze"/>
                </rect>
                <circle cx="580" cy="160" r="25" fill="#004d00"/>
                <circle cx="620" cy="155" r="30" fill="#004d00"/>
                <text x="600" y="240" fill="white" font-size="14" text-anchor="middle">BOSQUE</text>
                <text x="600" y="260" fill="#90EE90" font-size="12" text-anchor="middle">CL√çMAX</text>
                <text x="600" y="280" fill="#90EE90" font-size="10" text-anchor="middle">500+ a√±os</text>

                <!-- Flechas -->
                <path d="M150 250 L180 250" stroke="#32CD32" stroke-width="6" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="30" to="0" begin="1s" dur="1s" repeatCount="indefinite"/>
                </path>
                <path d="M230 250 L280 250" stroke="#32CD32" stroke-width="6" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="50" to="0" begin="2s" dur="1s" repeatCount="indefinite"/>
                </path>
                <path d="M355 250 L410 250" stroke="#32CD32" stroke-width="6" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="55" to="0" begin="3s" dur="1s" repeatCount="indefinite"/>
                </path>
                <path d="M490 250 L540 250" stroke="#32CD32" stroke-width="6" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="50" to="0" begin="4s" dur="1s" repeatCount="indefinite"/>
                </path>

                <!-- Flecha -->
                <defs>
                    <marker id="arrow" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#32CD32"/>
                    </marker>
                </defs>

                <!-- T√≠tulo -->
                <text x="350" y="60" fill="#228B22" font-size="26" text-anchor="middle" font-weight="bold">SUCESI√ìN PRIMARIA</text>
                <text x="350" y="90" fill="#333" font-size="16" text-anchor="middle">De roca a bosque en siglos</text>
            </svg>
            <p><em>SVG Animado: Etapas cronol√≥gicas con animaci√≥n progresiva.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Define sucesi√≥n primaria', 'respuesta' => 'Colonizaci√≥n de √°rea sin suelo'],
        ['enunciado' => 'Especies pioneras', 'respuesta' => 'L√≠quenes y musgos'],
        ['enunciado' => 'Tiempo promedio cl√≠max', 'respuesta' => '500‚Äì1,000 a√±os'],

        // === APLICADOS ===
        ['enunciado' => 'Primera etapa', 'respuesta' => 'Roca desnuda'],
        ['enunciado' => 'Suelo en etapa l√≠quenes', 'respuesta' => '0.1‚Äì1 cm'],
        ['enunciado' => 'Planta vascular inicial', 'respuesta' => 'Helecho'],

        // === ECOL√ìGICOS ===
        ['enunciado' => '¬øQu√© hacen los l√≠quenes?', 'respuesta' => 'Disuelven roca con √°cidos'],
        ['enunciado' => '¬øDiferencia con secundaria?', 'respuesta' => 'Sin suelo vs con suelo'],
        ['enunciado' => '¬øQu√© es comunidad cl√≠max?', 'respuesta' => 'Ecosistema estable a largo plazo'],

        // === AVANZADOS ===
        ['enunciado' => 'F√≥rmula formaci√≥n suelo', 'respuesta' => '\\(S = f(W, O, R, P, T)\\)'],
        ['enunciado' => 'Autor teor√≠a cl√°sica', 'respuesta' => 'Clements (1916)'],
        ['enunciado' => 'Ejemplo volc√°nico famoso', 'respuesta' => 'Surtsey (1963)']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Sucesi√≥n primaria inicia en...', 'opciones' => ['Roca desnuda', 'Bosque', 'Pradera', 'Agua'], 'correcta' => 'Roca desnuda'],
        ['pregunta' => 'Especies pioneras', 'opciones' => ['L√≠quenes', '√Årboles', 'Peces', 'Humanos'], 'correcta' => 'L√≠quenes'],
        ['pregunta' => 'Lleva a...', 'opciones' => ['Bosque cl√≠max', 'Desierto', 'Inicio', 'Nada'], 'correcta' => 'Bosque cl√≠max'],
        ['pregunta' => 'Tiempo t√≠pico', 'opciones' => ['Siglos', 'D√≠as', 'Horas', 'Minutos'], 'correcta' => 'Siglos'],
        ['pregunta' => 'Ejemplo natural', 'opciones' => ['Volc√°n', 'Incendio', 'Corte', 'Lluvia'], 'correcta' => 'Volc√°n'],
        ['pregunta' => 'L√≠quenes forman...', 'opciones' => ['Suelo', 'Agua', 'Aire', 'Fuego'], 'correcta' => 'Suelo'],
        ['pregunta' => 'Musgos retienen...', 'opciones' => ['Agua', 'Fuego', 'Aire', 'Nada'], 'correcta' => 'Agua'],
        ['pregunta' => 'Etapa final', 'opciones' => ['Cl√≠max', 'Inicio', 'Medio', 'Nada'], 'correcta' => 'Cl√≠max'],
        ['pregunta' => 'Diferencia secundaria', 'opciones' => ['Sin suelo', 'Con suelo', 'Igual', 'R√°pida'], 'correcta' => 'Sin suelo'],
        ['pregunta' => 'Kilauea lava desde', 'opciones' => ['1959', '2025', '1900', 'Nunca'], 'correcta' => '1959'],

        // === MEDIO (10) ===
        ['pregunta' => 'Surtsey naci√≥ en...', 'opciones' => ['1963', '1959', '2025', '1900'], 'correcta' => '1963'],
        ['pregunta' => 'Glaciar Columbia retiro...', 'opciones' => ['1980', '2025', '1900', 'Nunca'], 'correcta' => '1980'],
        ['pregunta' => 'Suelo en l√≠quenes', 'opciones' => ['0.1‚Äì1 cm', '0 cm', '10 cm', '100 cm'], 'correcta' => '0.1‚Äì1 cm'],
        ['pregunta' => 'Hierbas aparecen en...', 'opciones' => ['50‚Äì100 a√±os', '1 a√±o', '0 a√±os', '1000 a√±os'], 'correcta' => '50‚Äì100 a√±os'],
        ['pregunta' => 'Arbustos en...', 'opciones' => ['100‚Äì200 a√±os', '1 a√±o', '0 a√±os', '1000 a√±os'], 'correcta' => '100‚Äì200 a√±os'],
        ['pregunta' => 'Bosque cl√≠max en...', 'opciones' => ['500+ a√±os', '1 a√±o', '10 a√±os', '100 a√±os'], 'correcta' => '500+ a√±os'],
        ['pregunta' => 'Primera planta vascular', 'opciones' => ['Helecho', '√Årbol', 'Flor', 'Algas'], 'correcta' => 'Helecho'],
        ['pregunta' => 'Clements dijo...', 'opciones' => ['Cl√≠max predeterminado', 'Aleatorio', 'R√°pido', 'Lento'], 'correcta' => 'Cl√≠max predeterminado'],
        ['pregunta' => 'Odum propuso...', 'opciones' => ['M√∫ltiples cl√≠max', 'Uno solo', 'Ninguno', 'R√°pido'], 'correcta' => 'M√∫ltiples cl√≠max'],
        ['pregunta' => 'L√≠quenes usan √°cidos para...', 'opciones' => ['Disolver roca', 'Crecimiento', 'Agua', 'Nada'], 'correcta' => 'Disolver roca'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'F√≥rmula formaci√≥n suelo (Jenny)', 'opciones' => ['S = f(W,O,R,P,T)', 'S = W + O', 'S = 0', 'S = T'], 'correcta' => 'S = f(W,O,R,P,T)'],
        ['pregunta' => 'W en f√≥rmula =', 'opciones' => ['Clima', 'Organismos', 'Roca', 'Tiempo'], 'correcta' => 'Clima'],
        ['pregunta' => 'O en f√≥rmula =', 'opciones' => ['Organismos', 'Clima', 'Roca', 'Tiempo'], 'correcta' => 'Organismos'],
        ['pregunta' => 'R en f√≥rmula =', 'opciones' => ['Roca madre', 'Clima', 'Organismos', 'Tiempo'], 'correcta' => 'Roca madre'],
        ['pregunta' => 'P en f√≥rmula =', 'opciones' => ['Topograf√≠a', 'Clima', 'Organismos', 'Tiempo'], 'correcta' => 'Topograf√≠a'],
        ['pregunta' => 'T en f√≥rmula =', 'opciones' => ['Tiempo', 'Clima', 'Organismos', 'Roca'], 'correcta' => 'Tiempo'],
        ['pregunta' => 'Surtsey es isla...', 'opciones' => ['Volc√°nica', 'Glacial', 'Coral', 'Artificial'], 'correcta' => 'Volc√°nica'],
        ['pregunta' => 'Hawaii cl√≠max en...', 'opciones' => ['~300 a√±os', '1 a√±o', '1000 a√±os', '10 a√±os'], 'correcta' => '~300 a√±os'],
        ['pregunta' => 'Teor√≠a cl√°sica por...', 'opciones' => ['Clements 1916', 'Odum 1969', 'Darwin', 'Linneo'], 'correcta' => 'Clements 1916'],
        ['pregunta' => 'Estado final seg√∫n Odum', 'opciones' => ['M√∫ltiples estables', 'Uno solo', 'Ninguno', 'R√°pido'], 'correcta' => 'M√∫ltiples estables']
    ]
];
// ========================================
// MATERIA: ECOSISTEMAS
// SUBTEMA: Servicios Ecosist√©micos (Soporte, Provisi√≥n, Regulaci√≥n, Cultural) ‚Äì MEA, TEEB, IPBES
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Ecosistemas',
    'slug' => 'servicios-ambientales',
    'titulo' => 'Servicios Ecosist√©micos: Los Beneficios Silenciosos de la Naturaleza',
    'contenido' => '
        <h3>¬øQu√© son los Servicios Ecosist√©micos?</h3>
        <p>Los <strong>servicios ecosist√©micos</strong> son los <strong>beneficios directos e indirectos</strong> que los seres humanos obtienen de los ecosistemas. Clasificados por el <strong>Millennium Ecosystem Assessment (MEA, 2005)</strong> en 4 categor√≠as:</p>
        <ul>
            <li><strong>Soporte:</strong> Base para otros servicios</li>
            <li><strong>Provisi√≥n:</strong> Productos materiales</li>
            <li><strong>Regulaci√≥n:</strong> Control de procesos</li>
            <li><strong>Cultural:</strong> Beneficios no materiales</li>
        </ul>

        <hr style="border:1px dashed #00ff00;">

        <h4>1. Clasificaci√≥n Completa (MEA 2005)</h4>
        <table class="table">
            <thead>
                <tr><th>Categor√≠a</th><th>Ejemplos</th><th>Valor Econ√≥mico Global (2025)</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Soporte</strong></td><td>Formaci√≥n suelo, fotos√≠ntesis, ciclos N/P</td><td><strong>US$33 billones/a√±o</strong></td></tr>
                <tr><td><strong>Provisi√≥n</strong></td><td>Alimentos, agua dulce, madera, fibras</td><td><strong>US$16 billones/a√±o</strong></td></tr>
                <tr><td><strong>Regulaci√≥n</strong></td><td>Clima, polinizaci√≥n, control inundaciones</td><td><strong>US$68 billones/a√±o</strong></td></tr>
                <tr><td><strong>Cultural</strong></td><td>Recreaci√≥n, turismo, inspiraci√≥n, espiritual</td><td><strong>US$10 billones/a√±o</strong></td></tr>
            </tbody>
            <tfoot>
                <tr><td colspan="2"><strong>TOTAL</strong></td><td><strong>US$127 billones/a√±o</strong></td></tr>
            </tfoot>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Bosque amaz√≥nico</strong> ‚Üí <strong>Provisi√≥n:</strong> madera, <strong>Regulaci√≥n:</strong> secuestra 2 Gt CO‚ÇÇ/a√±o, <strong>Cultural:</strong> turismo ind√≠gena.</p>
        </div>

        <div class="visual">
            <img src="assets/img/clasificacion_MEA.png" alt="Categor√≠as MEA">
            <p><em>Clasificaci√≥n MEA. Fuente: ResearchGate.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>2. Valoraci√≥n Econ√≥mica (TEEB 2010)</h4>
        <p>F√≥rmula simplificada:</p>
        <p>\\[ V_{total} = V_{provisi√≥n} + V_{regulaci√≥n} + V_{cultural} + V_{soporte} \\]</p>
        <p>Donde:</p>
        <ul>
            <li><strong>V_{regulaci√≥n}</strong> = mayor valor (54% del total)</li>
            <li><strong>1 ha bosque tropical</strong> = <strong>US$5,000‚Äì15,000/a√±o</strong></li>
        </ul>

        <div class="visual">
            <img src="assets/img/servicios-ecosistemicos.png" alt="Ejemplos por categor√≠a">
            <p><em>Ejemplos concretos. Fuente: ResearchGate.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/diagrama_esquematico_servicios_ecosistemicos.jpg" alt="Diagrama outline">
            <p><em>Diagrama esquem√°tico. Fuente: VectorMine.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>3. Ejemplos Globales (IPBES 2025)</h4>
        <table class="table">
            <thead>
                <tr><th>Servicio</th><th>Ejemplo</th><th>Valor</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Polinizaci√≥n</strong></td><td>Abejas</td><td>US$577 mil millones/a√±o</td></tr>
                <tr><td><strong>Secuestro carbono</strong></td><td>Bosques</td><td>US$3.7 billones/a√±o</td></tr>
                <tr><td><strong>Turismo natural</strong></td><td>Parques</td><td>US$900 mil millones/a√±o</td></tr>
                <tr><td><strong>Control erosi√≥n</strong></td><td>Manglares</td><td>US$1.8 mil millones/a√±o</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/ipbes-servicios.png" alt="IPBES servicios">
            <p><em>Valor global. Fuente: IPBES.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/marco-TEEB.png" alt="Marco TEEB">
            <p><em>Marco conceptual. Fuente: TEEB.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>4. Pagos por Servicios Ambientales (PSA)</h4>
        <ul>
            <li><strong>Costa Rica:</strong> US$500 millones pagados desde 1997</li>
            <li><strong>China:</strong> Programa Grain for Green ‚Üí 30 millones ha</li>
            <li><strong>M√©xico:</strong> PSA por agua ‚Üí US$40/ha/a√±o</li>
        </ul>

        <hr style="border:1px dashed #00ff00;">

        <h4>5. SVG Animado: Los 4 Pilares de la Naturaleza</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 700 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="700" height="500" fill="#E8F5E9"/>

                <!-- Centro: Ecosistema -->
                <circle cx="350" cy="250" r="80" fill="#4CAF50" stroke="#2E7D32" stroke-width="4">
                    <animate attributeName="r" values="80;90;80" dur="3s" repeatCount="indefinite"/>
                </circle>
                <text x="350" y="240" fill="white" font-size="16" text-anchor="middle" font-weight="bold">ECOSISTEMA</text>
                <text x="350" y="260" fill="white" font-size="12" text-anchor="middle">US$127B/a√±o</text>

                <!-- Soporte -->
                <rect x="50" y="100" width="120" height="80" fill="#8D6E63" rx="15">
                    <animate attributeName="opacity" values="0.5;1;0.5" dur="2s" repeatCount="indefinite"/>
                </rect>
                <text x="110" y="130" fill="white" font-size="12" text-anchor="middle">SOPORTE</text>
                <text x="110" y="150" fill="#FFEB3B" font-size="10" text-anchor="middle">Ciclos N/P</text>
                <text x="110" y="165" fill="#FFEB3B" font-size="9" text-anchor="middle">US$33B</text>

                <!-- Provisi√≥n -->
                <rect x="530" y="100" width="120" height="80" fill="#FFB300" rx="15">
                    <animate attributeName="opacity" values="0.5;1;0.5" dur="2s" repeatCount="indefinite"/>
                </rect>
                <text x="590" y="130" fill="white" font-size="12" text-anchor="middle">PROVISI√ìN</text>
                <text x="590" y="150" fill="#1B5E20" font-size="10" text-anchor="middle">Alimentos</text>
                <text x="590" y="165" fill="#1B5E20" font-size="9" text-anchor="middle">US$16B</text>

                <!-- Regulaci√≥n -->
                <rect x="50" y="320" width="120" height="80" fill="#D32F2F" rx="15">
                    <animate attributeName="opacity" values="0.5;1;0.5" dur="2s" repeatCount="indefinite"/>
                </rect>
                <text x="110" y="350" fill="white" font-size="12" text-anchor="middle">REGULACI√ìN</text>
                <text x="110" y="370" fill="#E8F5E9" font-size="10" text-anchor="middle">Clima</text>
                <text x="110" y="385" fill="#E8F5E9" font-size="9" text-anchor="middle">US$68B</text>

                <!-- Cultural -->
                <rect x="530" y="320" width="120" height="80" fill="#7B1FA2" rx="15">
                    <animate attributeName="opacity" values="0.5;1;0.5" dur="2s" repeatCount="indefinite"/>
                </rect>
                <text x="590" y="350" fill="white" font-size="12" text-anchor="middle">CULTURAL</text>
                <text x="590" y="370" fill="#E8F5E9" font-size="10" text-anchor="middle">Turismo</text>
                <text x="590" y="385" fill="#E8F5E9" font-size="9" text-anchor="middle">US$10B</text>

                <!-- Conexiones -->
                <path d="M350 170 L110 180" stroke="#4CAF50" stroke-width="6" marker-end="url(#arrow)"/>
                <path d="M350 170 L590 180" stroke="#4CAF50" stroke-width="6" marker-end="url(#arrow)"/>
                <path d="M350 330 L110 320" stroke="#4CAF50" stroke-width="6" marker-end="url(#arrow)"/>
                <path d="M350 330 L590 320" stroke="#4CAF50" stroke-width="6" marker-end="url(#arrow)"/>

                <!-- Flechas -->
                <defs>
                    <marker id="arrow" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#4CAF50"/>
                    </marker>
                </defs>

                <!-- T√≠tulo -->
                <text x="350" y="60" fill="#2E7D32" font-size="28" text-anchor="middle" font-weight="bold">SERVICIOS ECOSIST√âMICOS</text>
                <text x="350" y="90" fill="#1B5E20" font-size="16" text-anchor="middle">Valor total: 2√ó PIB mundial</text>
            </svg>
            <p><em>SVG Animado: 4 categor√≠as con valores econ√≥micos y conexiones din√°micas.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Define servicios ecosist√©micos', 'respuesta' => 'Beneficios que humanos obtienen de ecosistemas'],
        ['enunciado' => 'Categor√≠a con mayor valor', 'respuesta' => 'Regulaci√≥n (US$68B)'],
        ['enunciado' => 'Valor total global', 'respuesta' => 'US$127 billones/a√±o'],

        // === APLICADOS ===
        ['enunciado' => 'Polinizaci√≥n vale...', 'respuesta' => 'US$577 mil millones/a√±o'],
        ['enunciado' => '1 ha bosque tropical vale...', 'respuesta' => 'US$5,000‚Äì15,000/a√±o'],
        ['enunciado' => 'PSA en Costa Rica desde', 'respuesta' => '1997'],

        // === ECOL√ìGICOS ===
        ['enunciado' => '¬øQu√© es soporte?', 'respuesta' => 'Base para otros servicios (suelo, nutrientes)'],
        ['enunciado' => '¬øEjemplo regulaci√≥n?', 'respuesta' => 'Control inundaciones, clima'],
        ['enunciado' => '¬øEjemplo cultural?', 'respuesta' => 'Turismo, recreaci√≥n, inspiraci√≥n'],

        // === AVANZADOS ===
        ['enunciado' => 'F√≥rmula valoraci√≥n', 'respuesta' => '\\(V_{total} = \\sum V_i\\)'],
        ['enunciado' => 'TEEB significa...', 'respuesta' => 'The Economics of Ecosystems and Biodiversity'],
        ['enunciado' => 'IPBES es...', 'respuesta' => 'Plataforma Intergubernamental de Biodiversidad']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Servicios ecosist√©micos son...', 'opciones' => ['Beneficios de la naturaleza', 'Solo comida', 'Solo dinero', 'Nada'], 'correcta' => 'Beneficios de la naturaleza'],
        ['pregunta' => 'Categor√≠a m√°s valiosa', 'opciones' => ['Regulaci√≥n', 'Provisi√≥n', 'Soporte', 'Cultural'], 'correcta' => 'Regulaci√≥n'],
        ['pregunta' => 'Valor total global', 'opciones' => ['US$127 billones', 'US$1 bill√≥n', '0', 'US$1000'], 'correcta' => 'US$127 billones'],
        ['pregunta' => 'Provisi√≥n incluye...', 'opciones' => ['Alimentos', 'Recreaci√≥n', 'Clima', 'Suelo'], 'correcta' => 'Alimentos'],
        ['pregunta' => 'Regulaci√≥n incluye...', 'opciones' => ['Clima', 'Comida', 'Turismo', 'Nutrientes'], 'correcta' => 'Clima'],
        ['pregunta' => 'Cultural incluye...', 'opciones' => ['Turismo', 'Agua', 'Madera', 'Polen'], 'correcta' => 'Turismo'],
        ['pregunta' => 'Soporte incluye...', 'opciones' => ['Ciclos nutrientes', 'Comida', 'Turismo', 'Clima'], 'correcta' => 'Ciclos nutrientes'],
        ['pregunta' => 'MEA clasific√≥ en...', 'opciones' => ['4 categor√≠as', '1', '2', '10'], 'correcta' => '4 categor√≠as'],
        ['pregunta' => 'Polinizaci√≥n vale...', 'opciones' => ['US$577 mil millones', 'US$1', '0', 'US$1000'], 'correcta' => 'US$577 mil millones'],
        ['pregunta' => 'TEEB es sobre...', 'opciones' => ['Econom√≠a de ecosistemas', 'Tecnolog√≠a', 'Nada', 'Turismo'], 'correcta' => 'Econom√≠a de ecosistemas'],

        // === MEDIO (10) ===
        ['pregunta' => 'Valor regulaci√≥n', 'opciones' => ['US$68 billones', 'US$1 bill√≥n', '0', 'US$1000'], 'correcta' => 'US$68 billones'],
        ['pregunta' => 'Valor provisi√≥n', 'opciones' => ['US$16 billones', 'US$68 billones', '0', 'US$1000'], 'correcta' => 'US$16 billones'],
        ['pregunta' => 'Valor cultural', 'opciones' => ['US$10 billones', 'US$68 billones', '0', 'US$1000'], 'correcta' => 'US$10 billones'],
        ['pregunta' => 'Valor soporte', 'opciones' => ['US$33 billones', 'US$1 bill√≥n', '0', 'US$1000'], 'correcta' => 'US$33 billones'],
        ['pregunta' => '1 ha bosque vale...', 'opciones' => ['US$5,000‚Äì15,000/a√±o', 'US$1', '0', 'US$1M'], 'correcta' => 'US$5,000‚Äì15,000/a√±o'],
        ['pregunta' => 'PSA Costa Rica desde', 'opciones' => ['1997', '2025', '1900', 'Nunca'], 'correcta' => '1997'],
        ['pregunta' => 'China Grain for Green restaur√≥...', 'opciones' => ['30 millones ha', '1 ha', '0', '1 mill√≥n ha'], 'correcta' => '30 millones ha'],
        ['pregunta' => 'M√©xico paga por agua...', 'opciones' => ['US$40/ha/a√±o', 'US$1', '0', 'US$1000'], 'correcta' => 'US$40/ha/a√±o'],
        ['pregunta' => 'IPBES es como IPCC pero para...', 'opciones' => ['Biodiversidad', 'Clima', 'Agua', 'Aire'], 'correcta' => 'Biodiversidad'],
        ['pregunta' => 'Secuestro carbono vale...', 'opciones' => ['US$3.7 billones/a√±o', 'US$1', '0', 'US$1000'], 'correcta' => 'US$3.7 billones/a√±o'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'F√≥rmula valoraci√≥n total', 'opciones' => ['V_total = Œ£ V_i', 'V_total = V_max', 'V_total = 0', 'V_total = 1'], 'correcta' => 'V_total = Œ£ V_i'],
        ['pregunta' => 'MEA fue en...', 'opciones' => ['2005', '2025', '1900', 'Nunca'], 'correcta' => '2005'],
        ['pregunta' => 'TEEB iniciado por...', 'opciones' => ['ONU y Alemania', 'EE.UU.', 'China', 'Brasil'], 'correcta' => 'ONU y Alemania'],
        ['pregunta' => 'Manglares previenen erosi√≥n por...', 'opciones' => ['US$1.8 mil millones/a√±o', 'US$1', '0', 'US$1000'], 'correcta' => 'US$1.8 mil millones/a√±o'],
        ['pregunta' => 'Turismo natural genera...', 'opciones' => ['US$900 mil millones/a√±o', 'US$1', '0', 'US$1000'], 'correcta' => 'US$900 mil millones/a√±o'],
        ['pregunta' => 'Servicio m√°s subvalorado', 'opciones' => ['Soporte', 'Provisi√≥n', 'Cultural', 'Regulaci√≥n'], 'correcta' => 'Soporte'],
        ['pregunta' => 'PSA significa...', 'opciones' => ['Pagos por Servicios Ambientales', 'Protecci√≥n Sin Acci√≥n', 'Nada', 'Turismo'], 'correcta' => 'Pagos por Servicios Ambientales'],
        ['pregunta' => 'Valor servicios > PIB mundial por...', 'opciones' => ['2 veces', '0.5 veces', 'Igual', '10 veces'], 'correcta' => '2 veces'],
        ['pregunta' => 'IPBES reporta p√©rdida de servicios en...', 'opciones' => ['75% desde 1970', '0%', '100%', '10%'], 'correcta' => '75% desde 1970'],
        ['pregunta' => 'Meta Aichi 14 (CBD) busca...', 'opciones' => ['Valorar servicios', 'Ignorarlos', 'Eliminarlos', 'Duplicarlos'], 'correcta' => 'Valorar servicios']
    ]
];
// ========================================
// MATERIA: ECOSISTEMAS
// SUBTEMA: H√°bitos Sustentables (3R, Econom√≠a Circular, Carbono Activado, Compostaje, ODS 12)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Ecosistemas',
    'slug' => 'habitos-sustentabilidad',
    'titulo' => 'H√°bitos de Sustentabilidad: Peque√±os Cambios, Gran Impacto',
    'contenido' => '
        <h3>¬øQu√© son los H√°bitos Sustentables?</h3>
        <p>Los <strong>h√°bitos sustentables</strong> son <strong>acciones diarias</strong> que <strong>reducen el impacto ambiental</strong>, promueven la <strong>econom√≠a circular</strong> y conservan recursos. Incluyen: <strong>3R (Reducir, Reutilizar, Reciclar)</strong>, compostaje, uso de carbono activado, energ√≠a renovable y consumo responsable.</p>
        <p><strong>Meta ONU:</strong> <strong>ODS 12 ‚Äì Consumo y Producci√≥n Responsables</strong>.</p>

        <hr style="border:1px dashed #00ff00;">

        <h4>1. Los 3R: Base de la Sustentabilidad</h4>
        <table class="table">
            <thead>
                <tr><th>R</th><th>Acci√≥n</th><th>Impacto 2025</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Reducir</strong></td><td>Menos consumo</td><td>‚Äì40% residuos</td></tr>
                <tr><td><strong>Reutilizar</strong></td><td>Bolsas, botellas</td><td>‚Äì60% pl√°sticos</td></tr>
                <tr><td><strong>Reciclar</strong></td><td>Papel, vidrio</td><td>70% energ√≠a ahorrada</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>1 botella PET reciclada</strong> ‚Üí <strong>ahorra 0.5 kWh</strong> (luz 3h).</p>
        </div>

        <div class="visual">
            <img src="assets/img/economiaCircualr.png" alt="Econom√≠a circular">
            <p><em>Econom√≠a circular. Fuente: ResearchGate.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>2. Carbono Activado: El Filtro Natural</h4>
        <p><strong>Proceso:</strong> Biomasa (c√°scara coco) ‚Üí <strong>carbonizaci√≥n 600¬∞C</strong> ‚Üí <strong>activaci√≥n qu√≠mica (KOH)</strong> ‚Üí <strong>superficie 1,000 m¬≤/g</strong>.</p>
        <p><strong>Usos:</strong> Filtraci√≥n agua, aire, medicina.</p>

        <div class="visual">
            <img src="assets/img/concepto-sustentabilidad.jpg" alt="Concepto sustentabilidad">
            <p><em>Concepto integrado. Fuente: MDPI.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/carbonizacion-activacion.png" alt="Carbonizaci√≥n y activaci√≥n">
            <p><em>Proceso t√©cnico. Fuente: Nature.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>3. M√©todos Clave de Sustentabilidad</h4>
        <table class="table">
            <thead>
                <tr><th>M√©todo</th><th>Descripci√≥n</th><th>Beneficio</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Compostaje</strong></td><td>Residuos org√°nicos ‚Üí abono</td><td>‚Äì50% metano vertedero</td></tr>
                <tr><td><strong>Econom√≠a Circular</strong></td><td>Ciclo cerrado</td><td>US$4.5 billones oportunidad</td></tr>
                <tr><td><strong>Energ√≠a Renovable</strong></td><td>Solar, e√≥lica</td><td>‚Äì70% emisiones</td></tr>
                <tr><td><strong>Zero Waste</strong></td><td>90% desv√≠o vertedero</td><td>San Francisco 80%</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/ciclo-ONU.jpg" alt="Ciclo ONU">
            <p><em>Ciclo circular. Fuente: UNEP.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>4. Impacto Global (2025)</h4>
        <ul>
            <li><strong>Residuos globales:</strong> 2.24 mil millones t/a√±o</li>
            <li><strong>Reciclaje global:</strong> 13.5%</li>
            <li><strong>Pl√°sticos en oc√©ano:</strong> 14 millones t/a√±o</li>
            <li><strong>Meta ODS 12.5:</strong> Reducir 50% desperdicio 2030</li>
        </ul>

        <hr style="border:1px dashed #00ff00;">

        <h4>5. SVG Animado: Ciclo de la Sustentabilidad</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 700 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="700" height="500" fill="#E8F5E9"/>

                <!-- Centro: Sustentabilidad -->
                <circle cx="350" cy="250" r="70" fill="#4CAF50" stroke="#2E7D32" stroke-width="4">
                    <animate attributeName="r" values="70;80;70" dur="3s" repeatCount="indefinite"/>
                </circle>
                <text x="350" y="240" fill="white" font-size="16" text-anchor="middle" font-weight="bold">SUSTENTABILIDAD</text>
                <text x="350" y="260" fill="white" font-size="12" text-anchor="middle">ODS 12</text>

                <!-- Reducir -->
                <rect x="100" y="100" width="100" height="70" fill="#2196F3" rx="15">
                    <animate attributeName="opacity" values="0.6;1;0.6" dur="2s" repeatCount="indefinite"/>
                </rect>
                <text x="150" y="130" fill="white" font-size="14" text-anchor="middle">REDUCIR</text>
                <text x="150" y="150" fill="#FFF" font-size="10" text-anchor="middle">‚Äì40% residuos</text>

                <!-- Reutilizar -->
                <rect x="500" y="100" width="100" height="70" fill="#FF9800" rx="15">
                    <animate attributeName="opacity" values="0.6;1;0.6" dur="2s" repeatCount="indefinite"/>
                </rect>
                <text x="550" y="130" fill="white" font-size="14" text-anchor="middle">REUTILIZAR</text>
                <text x="550" y="150" fill="#FFF" font-size="10" text-anchor="middle">‚Äì60% pl√°sticos</text>

                <!-- Reciclar -->
                <rect x="100" y="330" width="100" height="70" fill="#4CAF50" rx="15">
                    <animate attributeName="opacity" values="0.6;1;0.6" dur="2s" repeatCount="indefinite"/>
                </rect>
                <text x="150" y="360" fill="white" font-size="14" text-anchor="middle">RECICLAR</text>
                <text x="150" y="380" fill="#FFF" font-size="10" text-anchor="middle">70% energ√≠a</text>

                <!-- Compostar -->
                <rect x="500" y="330" width="100" height="70" fill="#795548" rx="15">
                    <animate attributeName="opacity" values="0.6;1;0.6" dur="2s" repeatCount="indefinite"/>
                </rect>
                <text x="550" y="360" fill="white" font-size="14" text-anchor="middle">COMPOSTAR</text>
                <text x="550" y="380" fill="#FFF" font-size="10" text-anchor="middle">‚Äì50% metano</text>

                <!-- Flechas circulares -->
                <path d="M350 180 Q400 100 500 120" stroke="#4CAF50" stroke-width="8" fill="none" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="3s" repeatCount="indefinite"/>
                </path>
                <path d="M350 180 Q300 100 200 120" stroke="#4CAF50" stroke-width="8" fill="none" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="3s" repeatCount="indefinite"/>
                </path>
                <path d="M350 320 Q400 400 500 330" stroke="#4CAF50" stroke-width="8" fill="none" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="3s" repeatCount="indefinite"/>
                </path>
                <path d="M350 320 Q300 400 200 330" stroke="#4CAF50" stroke-width="8" fill="none" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="3s" repeatCount="indefinite"/>
                </path>

                <!-- Flechas -->
                <defs>
                    <marker id="arrow" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#4CAF50"/>
                    </marker>
                </defs>

                <!-- T√≠tulo -->
                <text x="350" y="60" fill="#2E7D32" font-size="26" text-anchor="middle" font-weight="bold">H√ÅBITOS SUSTENTABLES</text>
                <text x="350" y="90" fill="#1B5E20" font-size="16" text-anchor="middle">Ciclo virtuoso: 3R + Compostaje</text>
            </svg>
            <p><em>SVG Animado: Ciclo de los 3R + compostaje con impacto real.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Define 3R', 'respuesta' => 'Reducir, Reutilizar, Reciclar'],
        ['enunciado' => 'Carbono activado se hace de...', 'respuesta' => 'Biomasa (c√°scara coco)'],
        ['enunciado' => 'ODS relacionado', 'respuesta' => 'ODS 12'],

        // === APLICADOS ===
        ['enunciado' => 'Reciclar 1 t papel ahorra...', 'respuesta' => '17 √°rboles'],
        ['enunciado' => 'Compostaje reduce metano en...', 'respuesta' => '50%'],
        ['enunciado' => 'Superficie carbono activado', 'respuesta' => '1,000 m¬≤/g'],

        // === ECOL√ìGICOS ===
        ['enunciado' => '¬øQu√© es econom√≠a circular?', 'respuesta' => 'Ciclo cerrado sin desperdicio'],
        ['enunciado' => '¬øPara qu√© sirve carbono activado?', 'respuesta' => 'Filtrar agua, aire, toxinas'],
        ['enunciado' => '¬øQu√© es Zero Waste?', 'respuesta' => '90% desv√≠o de vertedero'],

        // === AVANZADOS ===
        ['enunciado' => 'F√≥rmula econom√≠a circular', 'respuesta' => '\\(Eficiencia = \\frac{Valor}{Residuos}\\rightarrow \\infty\\)'],
        ['enunciado' => 'Meta ODS 12.5', 'respuesta' => 'Reducir 50% desperdicio 2030'],
        ['enunciado' => 'Ciudad Zero Waste l√≠der', 'respuesta' => 'San Francisco (80%)']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => '3R significa...', 'opciones' => ['Reducir, Reutilizar, Reciclar', 'Comer, Dormir, Jugar', 'Nada', 'Todo'], 'correcta' => 'Reducir, Reutilizar, Reciclar'],
        ['pregunta' => 'Reciclar ahorra...', 'opciones' => ['Energ√≠a', 'Tiempo', 'Nada', 'Dinero'], 'correcta' => 'Energ√≠a'],
        ['pregunta' => 'Carbono activado filtra...', 'opciones' => ['Agua', 'Fuego', 'Aire', 'Tierra'], 'correcta' => 'Agua'],
        ['pregunta' => 'Compostaje convierte...', 'opciones' => ['Residuos en abono', 'Abono en residuos', 'Nada', 'Fuego'], 'correcta' => 'Residuos en abono'],
        ['pregunta' => 'ODS 12 es sobre...', 'opciones' => ['Consumo responsable', 'Educaci√≥n', 'Salud', 'Paz'], 'correcta' => 'Consumo responsable'],
        ['pregunta' => 'Reutilizar ‚Üì pl√°sticos en...', 'opciones' => ['60%', '0%', '100%', '10%'], 'correcta' => '60%'],
        ['pregunta' => 'Reciclar papel ahorra...', 'opciones' => ['√Årboles', 'Agua', 'Aire', 'Fuego'], 'correcta' => '√Årboles'],
        ['pregunta' => 'Econom√≠a circular es...', 'opciones' => ['Ciclo cerrado', 'Lineal', 'Nada', 'Cuadrado'], 'correcta' => 'Ciclo cerrado'],
        ['pregunta' => 'Zero Waste desv√≠a...', 'opciones' => ['90% vertedero', '0%', '100%', '10%'], 'correcta' => '90% vertedero'],
        ['pregunta' => '1 botella PET reciclada = luz...', 'opciones' => ['3 horas', '1 min', '0', '1 a√±o'], 'correcta' => '3 horas'],

        // === MEDIO (10) ===
        ['pregunta' => 'Residuos globales 2025', 'opciones' => ['2.24 mil millones t', '1 t', '0', '1000 t'], 'correcta' => '2.24 mil millones t'],
        ['pregunta' => 'Reciclaje global', 'opciones' => ['13.5%', '100%', '0%', '50%'], 'correcta' => '13.5%'],
        ['pregunta' => 'Pl√°sticos en oc√©ano/a√±o', 'opciones' => ['14 millones t', '1 t', '0', '1000 t'], 'correcta' => '14 millones t'],
        ['pregunta' => 'Meta ODS 12.5', 'opciones' => ['50% reducci√≥n 2030', '100% 2025', '0%', 'Aumento'], 'correcta' => '50% reducci√≥n 2030'],
        ['pregunta' => 'Carbonizaci√≥n a...', 'opciones' => ['600¬∞C', '0¬∞C', '100¬∞C', '1000¬∞C'], 'correcta' => '600¬∞C'],
        ['pregunta' => 'Activaci√≥n con...', 'opciones' => ['KOH', 'Agua', 'Aire', 'Fuego'], 'correcta' => 'KOH'],
        ['pregunta' => 'Superficie carbono activado', 'opciones' => ['1,000 m¬≤/g', '1 m¬≤', '0', '100 m¬≤'], 'correcta' => '1,000 m¬≤/g'],
        ['pregunta' => 'San Francisco Zero Waste', 'opciones' => ['80%', '0%', '100%', '10%'], 'correcta' => '80%'],
        ['pregunta' => 'Ellen MacArthur promueve...', 'opciones' => ['Econom√≠a circular', 'Lineal', 'Nada', 'Quema'], 'correcta' => 'Econom√≠a circular'],
        ['pregunta' => '1 t papel reciclado ahorra...', 'opciones' => ['17 √°rboles', '1', '0', '100'], 'correcta' => '17 √°rboles'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'F√≥rmula eficiencia circular', 'opciones' => ['Eficiencia ‚Üí ‚àû', 'Eficiencia = 0', 'Eficiencia = 1', 'Eficiencia = -1'], 'correcta' => 'Eficiencia ‚Üí ‚àû'],
        ['pregunta' => 'Oportunidad econom√≠a circular', 'opciones' => ['US$4.5 billones', 'US$1', '0', 'US$1000'], 'correcta' => 'US$4.5 billones'],
        ['pregunta' => 'Energ√≠a renovable ‚Üì emisiones...', 'opciones' => ['70%', '0%', '100%', '10%'], 'correcta' => '70%'],
        ['pregunta' => 'UNEP promueve...', 'opciones' => ['Ciclo circular', 'Lineal', 'Nada', 'Quema'], 'correcta' => 'Ciclo circular'],
        ['pregunta' => 'Carbono activado adsorbe por...', 'opciones' => ['Poros', 'Fuego', 'Agua', 'Aire'], 'correcta' => 'Poros'],
        ['pregunta' => 'Compostaje evita metano por...', 'opciones' => ['Descomposici√≥n aer√≥bica', 'Anaer√≥bica', 'Quema', 'Nada'], 'correcta' => 'Descomposici√≥n aer√≥bica'],
        ['pregunta' => 'Meta global reciclaje 2030', 'opciones' => ['30%', '100%', '0%', '10%'], 'correcta' => '30%'],
        ['pregunta' => 'Ciudad con 90% desv√≠o', 'opciones' => ['Kamikatsu (Jap√≥n)', 'Madrid', 'Nueva York', 'Lima'], 'correcta' => 'Kamikatsu (Jap√≥n)'],
        ['pregunta' => 'Residuos org√°nicos son X% total', 'opciones' => ['40‚Äì50%', '1%', '0%', '100%'], 'correcta' => '40‚Äì50%'],
        ['pregunta' => '1 kg compost = X kg CO‚ÇÇ evitado', 'opciones' => ['0.5 kg', '0 kg', '1 kg', '10 kg'], 'correcta' => '0.5 kg']
    ]
];
// ========================================
// MATERIA: ECOSISTEMAS
// SUBTEMA: Comunidad Sustentable (3 Pilares, Copenhague, Freiburg, Masdar, ODS 11)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Ecosistemas',
    'slug' => 'comunidad-sustentable',
    'titulo' => 'Comunidad Sustentable: El Futuro Donde Todos Ganan',
    'contenido' => '
        <h3>¬øQu√© es una Comunidad Sustentable?</h3>
        <p>Una <strong>comunidad sustentable</strong> es un <strong>sistema humano integrado</strong> que equilibra <strong>3 pilares</strong>: <strong>ecol√≥gico, social y econ√≥mico</strong>, minimizando el impacto ambiental, promoviendo equidad y garantizando resiliencia a largo plazo.</p>
        <p><strong>ODS 11:</strong> <strong>Ciudades y Comunidades Sostenibles</strong> (ONU).</p>

        <hr style="border:1px dashed #00ff00;">

        <h4>1. Los 3 Pilares de la Sustentabilidad</h4>
        <table class="table">
            <thead>
                <tr><th>Pilar</th><th>Meta</th><th>Ejemplo</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Ecol√≥gico</strong></td><td>0 emisiones netas</td><td>Energ√≠a 100% renovable</td></tr>
                <tr><td><strong>Social</strong></td><td>Equidad, acceso</td><td>Vivienda asequible</td></tr>
                <tr><td><strong>Econ√≥mico</strong></td><td>Prosperidad circular</td><td>Empleos verdes</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Copenhague (Dinamarca)</strong> ‚Üí <strong>50% en bici</strong>, <strong>100% renovable 2025</strong>, <strong>carbono neutral 2025</strong>.</p>
        </div>

        <div class="visual">
            <img src="assets/img/infraestructura_verde.jpg" alt="Infraestructura verde">
            <p><em>Infraestructura verde. Fuente: EPA.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>2. Ciudades Modelo (2025)</h4>
        <table class="table">
            <thead>
                <tr><th>Ciudad</th><th>Logro</th><th>Indicador</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Copenhague</strong></td><td>Movilidad verde</td><td>62% viajes en bici</td></tr>
                <tr><td><strong>Freiburg (Alemania)</strong></td><td>Energ√≠a solar</td><td>600 MW instalados</td></tr>
                <tr><td><strong>Masdar (EAU)</strong></td><td>Cero carbono</td><td>0 emisiones</td></tr>
                <tr><td><strong>Singapur</strong></td><td>Ciudad jard√≠n</td><td>50% cobertura verde</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/mapa-conceptual_desarrollo_sustentable.png" alt="Mapa conceptual">
            <p><em>Mapa conceptual. Fuente: ResearchGate.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/elementos_ciudad-sustentable.png" alt="Componentes ciudad">
            <p><em>Componentes integrados. Fuente: ResearchGate.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>3. Pr√°cticas Clave</h4>
        <ul>
            <li><strong>Energ√≠a:</strong> Paneles solares, e√≥lica urbana</li>
            <li><strong>Movilidad:</strong> Bici, transporte p√∫blico el√©ctrico</li>
            <li><strong>Residuos:</strong> Zero Waste, compostaje</li>
            <li><strong>Alimentos:</strong> Huertos urbanos, mercados locales</li>
            <li><strong>Agua:</strong> Captaci√≥n lluvia, reciclaje gris</li>
        </ul>

        <div class="visual">
            <img src="assets/img/ODS11-ONU.jpg" alt="ODS 11 ONU">
            <p><em>ODS 11. Fuente: ONU.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/freiburg_solar.jpg" alt="Freiburg solar">
            <p><em>Freiburg solar. Fuente: ICLEI.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>4. Indicadores de √âxito (ICLEI 2025)</h4>
        <table class="table">
            <thead>
                <tr><th>Indicador</th><th>Meta</th><th>Ejemplo</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Emisiones per c√°pita</strong></td><td><2 t CO‚ÇÇ</td><td>Copenhague: 1.9 t</td></tr>
                <tr><td><strong>Verde urbano</strong></td><td>>30 m¬≤/hab</td><td>Singapur: 66 m¬≤</td></tr>
                <tr><td><strong>Desv√≠o residuos</strong></td><td>>80%</td><td>San Francisco: 80%</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #00ff00;">

        <h4>5. SVG Animado: Los 3 Pilares en Equilibrio</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 700 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="700" height="500" fill="#E8F5E9"/>

                <!-- Centro: Comunidad -->
                <circle cx="350" cy="250" r="80" fill="#4CAF50" stroke="#2E7D32" stroke-width="5">
                    <animate attributeName="r" values="80;90;80" dur="3s" repeatCount="indefinite"/>
                </circle>
                <text x="350" y="240" fill="white" font-size="14" text-anchor="middle" font-weight="bold">COMUNIDAD</text>
                <text x="350" y="260" fill="white" font-size="12" text-anchor="middle">SUSTENTABLE</text>

                <!-- Pilar Ecol√≥gico -->
                <rect x="100" y="150" width="120" height="200" fill="#66BB6A" rx="20">
                    <animate attributeName="height" values="200;220;200" dur="2s" repeatCount="indefinite"/>
                </rect>
                <text x="160" y="200" fill="white" font-size="14" text-anchor="middle">ECOL√ìGICO</text>
                <text x="160" y="250" fill="#E8F5E9" font-size="11" text-anchor="middle">0 emisiones</text>
                <text x="160" y="270" fill="#E8F5E9" font-size="10" text-anchor="middle">Energ√≠a limpia</text>
                <text x="160" y="320" fill="#E8F5E9" font-size="9" text-anchor="middle">Copenhague 2025</text>

                <!-- Pilar Social -->
                <rect x="480" y="150" width="120" height="200" fill="#42A5F5" rx="20">
                    <animate attributeName="height" values="200;220;200" dur="2s" repeatCount="indefinite"/>
                </rect>
                <text x="540" y="200" fill="white" font-size="14" text-anchor="middle">SOCIAL</text>
                <text x="540" y="250" fill="#E3F2FD" font-size="11" text-anchor="middle">Equidad</text>
                <text x="540" y="270" fill="#E3F2FD" font-size="10" text-anchor="middle">Acceso</text>
                <text x="540" y="320" fill="#E3F2FD" font-size="9" text-anchor="middle">Vivienda digna</text>

                <!-- Pilar Econ√≥mico -->
                <path d="M220 350 L350 300 L480 350 L350 400 Z" fill="#FFB300">
                    <animate attributeName="opacity" values="0.8;1;0.8" dur="2s" repeatCount="indefinite"/>
                </path>
                <text x="350" y="340" fill="white" font-size="14" text-anchor="middle">ECON√ìMICO</text>
                <text x="350" y="360" fill="#FFF3E0" font-size="11" text-anchor="middle">Empleos verdes</text>
                <text x="350" y="380" fill="#FFF3E0" font-size="10" text-anchor="middle">Circular</text>

                <!-- Conexiones -->
                <path d="M230 250 L270 250" stroke="#4CAF50" stroke-width="8" marker-end="url(#arrow)"/>
                <path d="M430 250 L470 250" stroke="#4CAF50" stroke-width="8" marker-end="url(#arrow)"/>
                <path d="M300 300 L350 320" stroke="#4CAF50" stroke-width="8" marker-end="url(#arrow)"/>
                <path d="M400 300 L350 320" stroke="#4CAF50" stroke-width="8" marker-end="url(#arrow)"/>

                <!-- Flechas -->
                <defs>
                    <marker id="arrow" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#4CAF50"/>
                    </marker>
                </defs>

                <!-- T√≠tulo -->
                <text x="350" y="60" fill="#2E7D32" font-size="28" text-anchor="middle" font-weight="bold">3 PILARES</text>
                <text x="350" y="90" fill="#1B5E20" font-size="16" text-anchor="middle">Equilibrio = Sustentabilidad</text>
            </svg>
            <p><em>SVG Animado: 3 pilares en equilibrio din√°mico con ejemplos reales.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Define comunidad sustentable', 'respuesta' => 'Sistema que equilibra 3 pilares'],
        ['enunciado' => '3 pilares', 'respuesta' => 'Ecol√≥gico, social, econ√≥mico'],
        ['enunciado' => 'ODS relacionado', 'respuesta' => 'ODS 11'],

        // === APLICADOS ===
        ['enunciado' => 'Copenhague % en bici', 'respuesta' => '62%'],
        ['enunciado' => 'Freiburg MW solares', 'respuesta' => '600 MW'],
        ['enunciado' => 'Meta Copenhague 2025', 'respuesta' => 'Carbono neutral'],

        // === ECOL√ìGICOS ===
        ['enunciado' => '¬øQu√© es movilidad verde?', 'respuesta' => 'Bici, transporte p√∫blico el√©ctrico'],
        ['enunciado' => '¬øQu√© es huerto urbano?', 'respuesta' => 'Producci√≥n local de alimentos'],
        ['enunciado' => '¬øQu√© es resiliencia?', 'respuesta' => 'Capacidad de adaptarse a cambios'],

        // === AVANZADOS ===
        ['enunciado' => 'F√≥rmula sustentabilidad', 'respuesta' => '\\(S = E \\times So \\times Ec\\)'],
        ['enunciado' => 'Indicador verde urbano', 'respuesta' => '>30 m¬≤/habitante'],
        ['enunciado' => 'Ciudad con 0 emisiones', 'respuesta' => 'Masdar City']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => '3 pilares sustentabilidad', 'opciones' => ['Ecol√≥gico, social, econ√≥mico', 'Solo dinero', 'Nada', 'Solo verde'], 'correcta' => 'Ecol√≥gico, social, econ√≥mico'],
        ['pregunta' => 'ODS 11 es sobre...', 'opciones' => ['Ciudades sostenibles', 'Educaci√≥n', 'Salud', 'Paz'], 'correcta' => 'Ciudades sostenibles'],
        ['pregunta' => 'Copenhague usa bici en...', 'opciones' => ['62%', '0%', '100%', '10%'], 'correcta' => '62%'],
        ['pregunta' => 'Freiburg es l√≠der en...', 'opciones' => ['Energ√≠a solar', 'Carb√≥n', 'Petr√≥leo', 'Nada'], 'correcta' => 'Energ√≠a solar'],
        ['pregunta' => 'Masdar es...', 'opciones' => ['Cero carbono', 'Alta contaminaci√≥n', 'Nada', 'Desierto'], 'correcta' => 'Cero carbono'],
        ['pregunta' => 'Singapur tiene...', 'opciones' => ['50% verde', '0%', '100%', '10%'], 'correcta' => '50% verde'],
        ['pregunta' => 'Movilidad verde incluye...', 'opciones' => ['Bicicleta', 'Avi√≥n', 'Coche gasolina', 'Nada'], 'correcta' => 'Bicicleta'],
        ['pregunta' => 'Huertos urbanos producen...', 'opciones' => ['Alimentos locales', 'Pl√°stico', 'Basura', 'Nada'], 'correcta' => 'Alimentos locales'],
        ['pregunta' => 'Resiliencia es...', 'opciones' => ['Adaptaci√≥n', 'Destrucci√≥n', 'Nada', 'R√≠gido'], 'correcta' => 'Adaptaci√≥n'],
        ['pregunta' => 'ICLEI promueve...', 'opciones' => ['Ciudades sostenibles', 'Contaminaci√≥n', 'Nada', 'Quema'], 'correcta' => 'Ciudades sostenibles'],

        // === MEDIO (10) ===
        ['pregunta' => 'Copenhague meta 2025', 'opciones' => ['Carbono neutral', 'M√°s emisiones', 'Nada', '2020'], 'correcta' => 'Carbono neutral'],
        ['pregunta' => 'Emisiones per c√°pita meta', 'opciones' => ['<2 t CO‚ÇÇ', '10 t', '0 t', '100 t'], 'correcta' => '<2 t CO‚ÇÇ'],
        ['pregunta' => 'Verde urbano meta', 'opciones' => ['>30 m¬≤/hab', '1 m¬≤', '0', '1000 m¬≤'], 'correcta' => '>30 m¬≤/hab'],
        ['pregunta' => 'San Francisco desv√≠a...', 'opciones' => ['80% residuos', '0%', '100%', '10%'], 'correcta' => '80% residuos'],
        ['pregunta' => 'Singapur m¬≤ verde/hab', 'opciones' => ['66 m¬≤', '1 m¬≤', '0', '1000 m¬≤'], 'correcta' => '66 m¬≤'],
        ['pregunta' => 'Freiburg MW solares', 'opciones' => ['600 MW', '1 MW', '0', '1000 MW'], 'correcta' => '600 MW'],
        ['pregunta' => 'Copenhague emisiones', 'opciones' => ['1.9 t/hab', '10 t', '0 t', '100 t'], 'correcta' => '1.9 t/hab'],
        ['pregunta' => 'Masdar usa...', 'opciones' => ['Energ√≠a solar', 'Carb√≥n', 'Petr√≥leo', 'Nada'], 'correcta' => 'Energ√≠a solar'],
        ['pregunta' => 'Transporte p√∫blico el√©ctrico ‚Üì...', 'opciones' => ['Emisiones', 'Aumenta', 'Nada', 'Ruido'], 'correcta' => 'Emisiones'],
        ['pregunta' => 'Huerto urbano ‚Üì huella de...', 'opciones' => ['Carbono', 'Aumenta', 'Nada', 'Agua'], 'correcta' => 'Carbono'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'F√≥rmula sustentabilidad', 'opciones' => ['S = E √ó So √ó Ec', 'S = E + So', 'S = 0', 'S = E¬≤'], 'correcta' => 'S = E √ó So √ó Ec'],
        ['pregunta' => 'Ciudad con 0 emisiones operativas', 'opciones' => ['Masdar', 'Nueva York', 'Pek√≠n', 'Mosc√∫'], 'correcta' => 'Masdar'],
        ['pregunta' => 'Copenhague % renovable 2025', 'opciones' => ['100%', '0%', '50%', '10%'], 'correcta' => '100%'],
        ['pregunta' => 'Indicador ICLEI clave', 'opciones' => ['Emisiones per c√°pita', 'Dinero', 'Nada', 'Turismo'], 'correcta' => 'Emisiones per c√°pita'],
        ['pregunta' => 'Pa√≠s con m√°s ciudades sustentables', 'opciones' => ['Dinamarca', 'EE.UU.', 'China', 'Brasil'], 'correcta' => 'Dinamarca'],
        ['pregunta' => 'Meta global ODS 11.3', 'opciones' => ['Urbanizaci√≥n inclusiva', 'Solo crecimiento', 'Nada', 'Reducci√≥n'], 'correcta' => 'Urbanizaci√≥n inclusiva'],
        ['pregunta' => '1 ha huerto urbano alimenta ‚âà', 'opciones' => ['100 personas', '1', '0', '1000'], 'correcta' => '100 personas'],
        ['pregunta' => 'Costo construir Masdar', 'opciones' => ['US$22 mil millones', 'US$1', '0', 'US$1000'], 'correcta' => 'US$22 mil millones'],
        ['pregunta' => 'Freiburg es conocida como...', 'opciones' => ['Ciudad solar', 'Ciudad del carb√≥n', 'Nada', 'Ciudad del petr√≥leo'], 'correcta' => 'Ciudad solar'],
        ['pregunta' => 'Meta global verde urbano 2030', 'opciones' => ['50% cobertura', '0%', '100%', '10%'], 'correcta' => '50% cobertura']
    ]
];
// ========================================
// MATERIA: ECOSISTEMAS
// SUBTEMA: M√©todo Cient√≠fico (Observaci√≥n, Hip√≥tesis, Experimento, An√°lisis, Conclusi√≥n)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Ecosistemas',
    'slug' => 'metodo-cientifico',
    'titulo' => 'M√©todo Cient√≠fico: La Br√∫jula del Conocimiento',
    'contenido' => '
        <h3>¬øQu√© es el M√©todo Cient√≠fico?</h3>
        <p>El <strong>m√©todo cient√≠fico</strong> es un <strong>proceso sistem√°tico, iterativo y falsable</strong> para investigar fen√≥menos naturales. Sus pasos son:</p>
        <ol>
            <li><strong>Observaci√≥n</strong></li>
            <li><strong>Pregunta</strong></li>
            <li><strong>Hip√≥tesis</strong> (explicaci√≥n testable)</li>
            <li><strong>Predicci√≥n</strong></li>
            <li><strong>Experimento</strong> (control + variables)</li>
            <li><strong>An√°lisis</strong> (estad√≠stica)</li>
            <li><strong>Conclusi√≥n</strong> (aceptar/rechazar hip√≥tesis)</li>
            <li><strong>Comunicaci√≥n</strong> (publicaci√≥n, replicaci√≥n)</li>
        </ol>
        <p><strong>En ecolog√≠a:</strong> Se usa para estudiar <strong>deforestaci√≥n, contaminaci√≥n, cambio clim√°tico</strong>.</p>

        <hr style="border:1px dashed #00ff00;">

        <h4>1. Pasos Detallados</h4>
        <table class="table">
            <thead>
                <tr><th>Paso</th><th>Descripci√≥n</th><th>Ejemplo en Ecolog√≠a</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>1. Observaci√≥n</strong></td><td>Datos sensoriales o instrumentos</td><td>Peces muertos en r√≠o</td></tr>
                <tr><td><strong>2. Pregunta</strong></td><td>¬øPor qu√©?</td><td>¬øQu√© causa la mortandad?</td></tr>
                <tr><td><strong>3. Hip√≥tesis</strong></td><td>Explicaci√≥n falsable</td><td>Contaminantes agr√≠colas</td></tr>
                <tr><td><strong>4. Predicci√≥n</strong></td><td>Si‚Ä¶ entonces‚Ä¶</td><td>Si hay pesticidas, peces mueren</td></tr>
                <tr><td><strong>5. Experimento</strong></td><td>Control vs tratamiento</td><td>Muestras r√≠o vs control</td></tr>
                <tr><td><strong>6. An√°lisis</strong></td><td>Estad√≠stica (p<0.05)</td><td>t-test: diferencia significativa</td></tr>
                <tr><td><strong>7. Conclusi√≥n</strong></td><td>Aceptar o rechazar H‚ÇÄ</td><td>Rechazar: pesticidas culpables</td></tr>
                <tr><td><strong>8. Comunicaci√≥n</strong></td><td>Publicaci√≥n, revisi√≥n pares</td><td>Art√≠culo en <em>Science</em></td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo Real:</strong> <strong>IPBES 2025</strong> ‚Üí Observaci√≥n: p√©rdida biodiversidad ‚Üí Hip√≥tesis: cambio uso suelo ‚Üí Experimento: modelos GIS ‚Üí Conclusi√≥n: 1 mill√≥n especies amenazadas.</p>
        </div>

        <div class="visual">
            <img src="assets/img/ciclo-continuo.png" alt="Ciclo continuo">
            <p><em>Ciclo iterativo. Fuente: Mrgscience.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>2. Aplicaci√≥n en Ecolog√≠a: ELOHA Framework</h4>
        <p><strong>ELOHA</strong> (Ecological Limits of Hydrologic Alteration):</p>
        <ul>
            <li>Observaci√≥n: caudales alterados</li>
            <li>Hip√≥tesis: afecta peces</li>
            <li>Experimento: modelado hidrol√≥gico + biol√≥gico</li>
            <li>Conclusi√≥n: caudales ecol√≥gicos m√≠nimos</li>
        </ul>

        <div class="visual">
            <img src="assets/img/ciclo-clasico.jpeg" alt="Ciclo cient√≠fico">
            <p><em>Ciclo cl√°sico. Fuente: Open Washington.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/proceso-eloha.jpg" alt="ELOHA">
            <p><em>Proceso ELOHA. Fuente: ResearchGate.</em></p>
        </div>

        <hr style="border:1px dashed #00ff00;">

        <h4>3. Principios Filos√≥ficos</h4>
        <table class="table">
            <thead>
                <tr><th>Autor</th><th>Idea Clave</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Popper (1934)</strong></td><td>Falsabilidad</td></tr>
                <tr><td><strong>Kuhn (1962)</strong></td><td>Paradigmas y revoluciones</td></tr>
                <tr><td><strong>Feyerabend</strong></td><td>Contra el m√©todo r√≠gido</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #00ff00;">

        <h4>4. Herramientas Modernas (2025)</h4>
        <ul>
            <li><strong>Sensores IoT:</strong> Monitoreo real-time</li>
            <li><strong>Big Data:</strong> NASA Earthdata</li>
            <li><strong>IA:</strong> Modelos predictivos</li>
            <li><strong>GIS:</strong> ArcGIS, QGIS</li>
        </ul>

        <hr style="border:1px dashed #00ff00;">

        <h4>5. SVG Animado: El Ciclo del Conocimiento</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 700 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="700" height="500" fill="#E3F2FD"/>

                <!-- C√≠rculo central -->
                <circle cx="350" cy="250" r="60" fill="#1E88E5" stroke="#1565C0" stroke-width="4">
                    <animate attributeName="r" values="60;70;60" dur="3s" repeatCount="indefinite"/>
                </circle>
                <text x="350" y="245" fill="white" font-size="14" text-anchor="middle" font-weight="bold">M√âTODO</text>
                <text x="350" y="265" fill="white" font-size="12" text-anchor="middle">CIENT√çFICO</text>

                <!-- 1. Observaci√≥n -->
                <circle cx="150" cy="100" r="45" fill="#43A047">
                    <animate attributeName="r" values="45;55;45" begin="0s" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="150" y="95" fill="white" font-size="12" text-anchor="middle">1. OBSERVACI√ìN</text>
                <text x="150" y="115" fill="#E8F5E9" font-size="9" text-anchor="middle">Peces muertos</text>

                <!-- 2. Pregunta -->
                <circle cx="350" cy="80" r="40" fill="#FB8C00">
                    <animate attributeName="r" values="40;50;40" begin="0.5s" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="350" y="75" fill="white" font-size="11" text-anchor="middle">2. PREGUNTA</text>
                <text x="350" y="95" fill="#FFF3E0" font-size="9" text-anchor="middle">¬øPor qu√©?</text>

                <!-- 3. Hip√≥tesis -->
                <circle cx="550" cy="100" r="45" fill="#D81B60">
                    <animate attributeName="r" values="45;55;45" begin="1s" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="550" y="95" fill="white" font-size="12" text-anchor="middle">3. HIP√ìTESIS</text>
                <text x="550" y="115" fill="#FCE4EC" font-size="9" text-anchor="middle">Pesticidas</text>

                <!-- 4. Experimento -->
                <circle cx="580" cy="250" r="45" fill="#8E24AA">
                    <animate attributeName="r" values="45;55;45" begin="1.5s" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="580" y="245" fill="white" font-size="11" text-anchor="middle">4. EXPERIMENTO</text>
                <text x="580" y="265" fill="#F3E5F5" font-size="9" text-anchor="middle">Muestras</text>

                <!-- 5. An√°lisis -->
                <circle cx="550" cy="400" r="45" fill="#00897B">
                    <animate attributeName="r" values="45;55;45" begin="2s" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="550" y="395" fill="white" font-size="12" text-anchor="middle">5. AN√ÅLISIS</text>
                <text x="550" y="415" fill="#E0F2F1" font-size="9" text-anchor="middle">p<0.05</text>

                <!-- 6. Conclusi√≥n -->
                <circle cx="350" cy="420" r="40" fill="#FDD835">
                    <animate attributeName="r" values="40;50;40" begin="2.5s" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="350" y="415" fill="#212121" font-size="11" text-anchor="middle">6. CONCLUSI√ìN</text>
                <text x="350" y="435" fill="#212121" font-size="9" text-anchor="middle">Rechazar H‚ÇÄ</text>

                <!-- 7. Comunicaci√≥n -->
                <circle cx="150" cy="400" r="45" fill="#3949AB">
                    <animate attributeName="r" values="45;55;45" begin="3s" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="150" y="395" fill="white" font-size="11" text-anchor="middle">7. COMUNICACI√ìN</text>
                <text x="150" y="415" fill="#E8EAF6" font-size="9" text-anchor="middle">Publicar</text>

                <!-- Flechas curvas -->
                <path d="M150 145 Q200 180 300 180" stroke="#1E88E5" stroke-width="6" fill="none" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2s" repeatCount="indefinite"/>
                </path>
                <path d="M390 100 Q450 120 520 145" stroke="#1E88E5" stroke-width="6" fill="none" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2s" repeatCount="indefinite"/>
                </path>
                <path d="M580 295 Q600 320 580 375" stroke="#1E88E5" stroke-width="6" fill="none" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2s" repeatCount="indefinite"/>
                </path>
                <path d="M520 400 Q470 410 390 420" stroke="#1E88E5" stroke-width="6" fill="none" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2s" repeatCount="indefinite"/>
                </path>
                <path d="M310 420 Q250 410 180 400" stroke="#1E88E5" stroke-width="6" fill="none" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2s" repeatCount="indefinite"/>
                </path>
                <path d="M150 355 Q130 320 150 295" stroke="#1E88E5" stroke-width="6" fill="none" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2s" repeatCount="indefinite"/>
                </path>
                <path d="M180 180 Q220 160 300 160" stroke="#1E88E5" stroke-width="6" fill="none" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2s" repeatCount="indefinite"/>
                </path>

                <!-- Flecha -->
                <defs>
                    <marker id="arrow" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#1E88E5"/>
                    </marker>
                </defs>

                <!-- T√≠tulo -->
                <text x="350" y="60" fill="#1565C0" font-size="28" text-anchor="middle" font-weight="bold">M√âTODO CIENT√çFICO</text>
                <text x="350" y="90" fill="#0D47A1" font-size="16" text-anchor="middle">Ciclo iterativo y falsable</text>
            </svg>
            <p><em>SVG Animado: Ciclo completo con ejemplos ecol√≥gicos y animaci√≥n secuencial.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Define m√©todo cient√≠fico', 'respuesta' => 'Proceso sistem√°tico para investigar'],
        ['enunciado' => 'Primer paso', 'respuesta' => 'Observaci√≥n'],
        ['enunciado' => 'Hip√≥tesis debe ser...', 'respuesta' => 'Falsable'],

        // === APLICADOS ===
        ['enunciado' => 'En ELOHA, observa...', 'respuesta' => 'Caudales alterados'],
        ['enunciado' => 'An√°lisis usa...', 'respuesta' => 'Estad√≠stica (p<0.05)'],
        ['enunciado' => 'IPBES us√≥ m√©todo para...', 'respuesta' => '1 mill√≥n especies amenazadas'],

        // === ECOL√ìGICOS ===
        ['enunciado' => '¬øQu√© es variable independiente?', 'respuesta' => 'La que se manipula'],
        ['enunciado' => '¬øQu√© es control?', 'respuesta' => 'Grupo sin tratamiento'],
        ['enunciado' => '¬øQu√© es replicaci√≥n?', 'respuesta' => 'Repetir experimento'],

        // === AVANZADOS ===
        ['enunciado' => 'F√≥rmula hip√≥tesis nula', 'respuesta' => '\\(H_0: \\mu_1 = \\mu_2\\)'],
        ['enunciado' => 'Popper dijo...', 'respuesta' => 'Falsabilidad'],
        ['enunciado' => 'Kuhn habl√≥ de...', 'respuesta' => 'Paradigmas']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Primer paso m√©todo', 'opciones' => ['Observaci√≥n', 'Conclusi√≥n', 'Experimento', 'Hip√≥tesis'], 'correcta' => 'Observaci√≥n'],
        ['pregunta' => 'Hip√≥tesis es...', 'opciones' => ['Falsable', 'Verdad absoluta', 'Opini√≥n', 'Nada'], 'correcta' => 'Falsable'],
        ['pregunta' => 'En ecolog√≠a estudia...', 'opciones' => ['Impactos ambientales', 'Rocas', 'Estrellas', 'Historia'], 'correcta' => 'Impactos ambientales'],
        ['pregunta' => 'An√°lisis usa...', 'opciones' => ['Estad√≠stica', 'Adivinaci√≥n', 'Nada', 'Suerte'], 'correcta' => 'Estad√≠stica'],
        ['pregunta' => 'Conclusi√≥n puede...', 'opciones' => ['Rechazar hip√≥tesis', 'Ignorarla', 'Cambiarla', 'Nada'], 'correcta' => 'Rechazar hip√≥tesis'],
        ['pregunta' => 'ELOHA es para...', 'opciones' => ['R√≠os', 'Monta√±as', 'Cielo', 'Mar'], 'correcta' => 'R√≠os'],
        ['pregunta' => 'IPBES report√≥...', 'opciones' => ['1 mill√≥n especies', '1 especie', '0', '1000'], 'correcta' => '1 mill√≥n especies'],
        ['pregunta' => 'NASA usa m√©todo para...', 'opciones' => ['Tierra', 'Luna', 'Marte', 'Nada'], 'correcta' => 'Tierra'],
        ['pregunta' => 'Variable dependiente es...', 'opciones' => ['La que se mide', 'La que se cambia', 'Nada', 'Ambas'], 'correcta' => 'La que se mide'],
        ['pregunta' => 'Control es...', 'opciones' => ['Sin tratamiento', 'Con tratamiento', 'Nada', 'Doble'], 'correcta' => 'Sin tratamiento'],

        // === MEDIO (10) ===
        ['pregunta' => 'Popper enfatiz√≥...', 'opciones' => ['Falsabilidad', 'Verdad', 'Belleza', 'Nada'], 'correcta' => 'Falsabilidad'],
        ['pregunta' => 'Kuhn habl√≥ de...', 'opciones' => ['Paradigmas', '√Åtomos', 'Nada', 'Dinosaurios'], 'correcta' => 'Paradigmas'],
        ['pregunta' => 'p<0.05 significa...', 'opciones' => ['Significativo', 'No significativo', 'Nada', 'Error'], 'correcta' => 'Significativo'],
        ['pregunta' => 'H‚ÇÄ es hip√≥tesis...', 'opciones' => ['Nula', 'Alternativa', 'Nada', 'Final'], 'correcta' => 'Nula'],
        ['pregunta' => 'Replicaci√≥n es...', 'opciones' => ['Repetir experimento', 'Copiar resultados', 'Nada', 'Publicar'], 'correcta' => 'Repetir experimento'],
        ['pregunta' => 'GIS se usa en ecolog√≠a para...', 'opciones' => ['Mapas', 'M√∫sica', 'Nada', 'Cocina'], 'correcta' => 'Mapas'],
        ['pregunta' => 'IoT en ciencia mide...', 'opciones' => ['Real-time', 'Ayer', 'Ma√±ana', 'Nunca'], 'correcta' => 'Real-time'],
        ['pregunta' => 'Science Buddies ense√±a...', 'opciones' => ['Pasos m√©todo', 'Juegos', 'Nada', 'Cocina'], 'correcta' => 'Pasos m√©todo'],
        ['pregunta' => 'ELOHA significa...', 'opciones' => ['Ecological Limits...', 'Nada', 'Todo', 'R√°pido'], 'correcta' => 'Ecological Limits...'],
        ['pregunta' => 'Comunicaci√≥n cient√≠fica incluye...', 'opciones' => ['Publicaci√≥n', 'Silencio', 'Nada', 'Secreto'], 'correcta' => 'Publicaci√≥n'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'F√≥rmula H‚ÇÄ t√≠pica', 'opciones' => ['H‚ÇÄ: Œº‚ÇÅ = Œº‚ÇÇ', 'H‚ÇÄ: Œº‚ÇÅ > Œº‚ÇÇ', 'H‚ÇÄ: Œº‚ÇÅ < Œº‚ÇÇ', 'H‚ÇÄ: Œº‚ÇÅ ‚â† Œº‚ÇÇ'], 'correcta' => 'H‚ÇÄ: Œº‚ÇÅ = Œº‚ÇÇ'],
        ['pregunta' => 'Feyerabend dijo...', 'opciones' => ['Contra m√©todo', 'A favor m√©todo', 'Nada', 'Por m√©todo'], 'correcta' => 'Contra m√©todo'],
        ['pregunta' => 'Paradigma seg√∫n Kuhn es...', 'opciones' => ['Modelo aceptado', 'Error', 'Nada', 'Juego'], 'correcta' => 'Modelo aceptado'],
        ['pregunta' => 'Error tipo I es...', 'opciones' => ['Falso positivo', 'Falso negativo', 'Nada', 'Verdadero'], 'correcta' => 'Falso positivo'],
        ['pregunta' => 't-test compara...', 'opciones' => ['Medias', 'Medianas', 'Modas', 'Nada'], 'correcta' => 'Medias'],
        ['pregunta' => 'ANOVA compara...', 'opciones' => ['>2 grupos', '2 grupos', '1 grupo', '0 grupos'], 'correcta' => '>2 grupos'],
        ['pregunta' => 'Correlaci√≥n mide...', 'opciones' => ['Relaci√≥n', 'Causa', 'Nada', 'Efecto'], 'correcta' => 'Relaci√≥n'],
        ['pregunta' => 'Regresi√≥n predice...', 'opciones' => ['Y desde X', 'X desde Y', 'Nada', 'Ambos'], 'correcta' => 'Y desde X'],
        ['pregunta' => 'Meta-an√°lisis combina...', 'opciones' => ['Estudios', 'Opiniones', 'Nada', 'Errores'], 'correcta' => 'Estudios'],
        ['pregunta' => 'IPBES es como IPCC pero para...', 'opciones' => ['Biodiversidad', 'Clima', 'Agua', 'Aire'], 'correcta' => 'Biodiversidad']
    ]
];
// ========================================
// MATERIA: QU√çMICA I
// SUBTEMA: Anti Nutrientes (Fitatos, Oxalatos, Taninos, Lectinas, Saponinas)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Qu√≠mica I',
    'slug' => 'anti-nutrientes',
    'titulo' => 'Los Anti Nutrientes: Guardianes Naturales con Doble Filo',
    'contenido' => '
        <h3>¬øQu√© son los Anti Nutrientes?</h3>
        <p>Los <strong>anti nutrientes</strong> son <strong>compuestos bioactivos</strong> producidos por plantas para <strong>defenderse de predadores</strong>. <strong>Interfieren con la absorci√≥n de nutrientes</strong> en el intestino humano, pero en dosis moderadas pueden tener <strong>efectos antioxidantes, anticancer√≠genos o prebi√≥ticos</strong>.</p>
        <p><strong>Clave:</strong> No son "t√≥xicos", sino <strong>condicionalmente problem√°ticos</strong>. <strong>Procesos culinarios</strong> (remojo, cocci√≥n, fermentaci√≥n) los reducen hasta <strong>90%</strong>.</p>

        <hr style="border:1px dashed #ff6b6b;">

        <h4>1. Principales Anti Nutrientes</h4>
        <table class="table">
            <thead>
                <tr><th>Anti Nutriente</th><th>Alimentos</th><th>Bloquea</th><th>Reducci√≥n</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Fitatos</strong></td><td>Cereales, legumbres, nueces</td><td>Fe, Zn, Ca, Mg</td><td>Remojo + fitasa (90%)</td></tr>
                <tr><td><strong>Oxalatos</strong></td><td>Espinaca, remolacha, cacao</td><td>Ca, Mg</td><td>Cocci√≥n (50‚Äì80%)</td></tr>
                <tr><td><strong>Taninos</strong></td><td>T√©, vino, sorgo</td><td>Prote√≠nas, Fe</td><td>Fermentaci√≥n (70%)</td></tr>
                <tr><td><strong>Lectinas</strong></td><td>Frijoles crudos, lentejas</td><td>Digesti√≥n</td><td>Cocci√≥n 100¬∞C (99%)</td></tr>
                <tr><td><strong>Inhibidores tripsina</strong></td><td>Soja, garbanzos</td><td>Prote√≠nas</td><td>Calor (95%)</td></tr>
                <tr><td><strong>Saponinas</strong></td><td>Quinoa, frijoles</td><td>Colesterol (‚Üì absorci√≥n)</td><td>Lavado (60%)</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>100 g espinaca cruda</strong> ‚Üí <strong>970 mg oxalatos</strong> ‚Üí bloquea <strong>90% del calcio</strong>. <strong>Cocida:</strong> 600 mg ‚Üí <strong>50% bloqueo</strong>.</p>
        </div>

        <div class="visual">
            <img src="assets/img/estructura-quimica.png" alt="Diagrama anti nutrientes">
            <p><em>Estructuras qu√≠micas. Fuente: Frontiers.</em></p>
        </div>

        <hr style="border:1px dashed #ff6b6b;">

        <h4>2. Mecanismos de Acci√≥n</h4>
        <ul>
            <li><strong>Quelaci√≥n:</strong> Fitatos forman complejos insolubles con Fe¬≥‚Å∫</li>
            <li><strong>Precipitaci√≥n:</strong> Oxalatos + Ca¬≤‚Å∫ ‚Üí CaC‚ÇÇO‚ÇÑ (c√°lculos)</li>
            <li><strong>Uni√≥n proteica:</strong> Taninos se unen a enzimas</li>
            <li><strong>Alteraci√≥n membrana:</strong> Lectinas aglutinan eritrocitos</li>
        </ul>

        <div class="visual">
            <img src="assets/img/antinutricional.webp" alt="Factores antinutricionales">
            <p><em>Interacciones moleculares. Fuente: Springer.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/fermentacion-reduce-fitatos.jpg" alt="Degradaci√≥n bacteriana">
            <p><em>Fermentaci√≥n reduce fitatos. Fuente: MDPI.</em></p>
        </div>

        <hr style="border:1px dashed #ff6b6b;">

        <h4>3. Procesos para Reducir Anti Nutrientes</h4>
        <table class="table">
            <thead>
                <tr><th>M√©todo</th><th>Efecto</th><th>Ejemplo</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Remojo (12h)</strong></td><td>‚Üì Fitatos 30‚Äì50%</td><td>Frijoles en agua + lim√≥n</td></tr>
                <tr><td><strong>Fermentaci√≥n</strong></td><td>‚Üì Fitatos 80‚Äì90%</td><td>Yogur, tempeh, miso</td></tr>
                <tr><td><strong>Cocci√≥n (100¬∞C)</strong></td><td>‚Üì Lectinas 99%</td><td>Frijoles rojos cocidos</td></tr>
                <tr><td><strong>Germinaci√≥n</strong></td><td>‚Üì Taninos 60%</td><td>Lentejas germinadas</td></tr>
                <tr><td><strong>Extrusi√≥n</strong></td><td>‚Üì Inhibidores 95%</td><td>Cereales desayuno</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/FAO-antinutrientes.jpg" alt="FAO anti nutrientes">
            <p><em>Reducci√≥n por procesamiento. Fuente: FAO.</em></p>
        </div>

        <hr style="border:1px dashed #ff6b6b;">

        <h4>4. Beneficios Potenciales (2025)</h4>
        <ul>
            <li><strong>Fitatos:</strong> ‚Üì riesgo c√°ncer colorrectal (meta-an√°lisis NIH)</li>
            <li><strong>Taninos:</strong> Antioxidantes (ORAC 10x vitamina C)</li>
            <li><strong>Lectinas:</strong> Inmunomoduladoras (baja dosis)</li>
            <li><strong>Saponinas:</strong> ‚Üì colesterol LDL 15%</li>
        </ul>

        <hr style="border:1px dashed #ff6b6b;">

        <h4>5. SVG Animado: Del Bloqueo a la Absorci√≥n</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 700 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="700" height="500" fill="#FFF3E0"/>

                <!-- Alimento -->
                <rect x="50" y="150" width="150" height="200" fill="#FF9800" rx="20">
                    <animate attributeName="opacity" values="1;0.8;1" dur="3s" repeatCount="indefinite"/>
                </rect>
                <text x="125" y="200" fill="white" font-size="14" text-anchor="middle" font-weight="bold">ALIMENTO</text>
                <text x="125" y="230" fill="white" font-size="12" text-anchor="middle">Fitatos</text>
                <text x="125" y="260" fill="white" font-size="12" text-anchor="middle">Oxalatos</text>
                <text x="125" y="290" fill="white" font-size="12" text-anchor="middle">Taninos</text>

                <!-- Intestino -->
                <ellipse cx="500" cy="250" rx="120" ry="80" fill="#81C784" stroke="#4CAF50" stroke-width="4"/>
                <text x="500" y="240" fill="#1B5E20" font-size="16" text-anchor="middle" font-weight="bold">INTESTINO</text>
                <text x="500" y="270" fill="#2E7D32" font-size="12" text-anchor="middle">Absorci√≥n ‚Üì</text>

                <!-- Bloqueo -->
                <path d="M200 250 L380 250" stroke="#F44336" stroke-width="8" marker-mid="url(#block)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2s" repeatCount="indefinite"/>
                </path>
                <text x="290" y="230" fill="#D32F2F" font-size="14" text-anchor="middle">BLOQUEO</text>

                <!-- Procesamiento -->
                <rect x="250" y="50" width="200" height="80" fill="#2196F3" rx="15">
                    <animate attributeName="opacity" values="0.6;1;0.6" dur="2s" repeatCount="indefinite"/>
                </rect>
                <text x="350" y="80" fill="white" font-size="14" text-anchor="middle">PROCESAMIENTO</text>
                <text x="350" y="105" fill="#BBDEFB" font-size="11" text-anchor="middle">Remojo | Cocci√≥n | Fermentaci√≥n</text>

                <!-- Absorci√≥n libre -->
                <path d="M200 300 L380 300" stroke="#4CAF50" stroke-width="8" marker-end="url(#arrow)" marker-mid="url(#ok)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" begin="2s" dur="2s" repeatCount="indefinite"/>
                </path>
                <text x="290" y="330" fill="#2E7D32" font-size="14" text-anchor="middle">ABSORCI√ìN ‚Üë</text>

                <!-- Nutrientes -->
                <circle cx="430" cy="220" r="15" fill="#FFD700">
                    <animate attributeName="opacity" values="0;1;0" begin="2s" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="430" y="225" fill="#212121" font-size="10" text-anchor="middle">Fe</text>
                <circle cx="460" cy="250" r="15" fill="#00BCD4">
                    <animate attributeName="opacity" values="0;1;0" begin="2.2s" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="460" y="255" fill="white" font-size="10" text-anchor="middle">Ca</text>
                <circle cx="430" cy="280" r="15" fill="#9C27B0">
                    <animate attributeName="opacity" values="0;1;0" begin="2.4s" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="430" y="285" fill="white" font-size="10" text-anchor="middle">Zn</text>

                <!-- Marcadores -->
                <defs>
                    <marker id="arrow" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#4CAF50"/>
                    </marker>
                    <marker id="block" markerWidth="20" markerHeight="20" refX="10" refY="10" orient="auto">
                        <circle cx="10" cy="10" r="8" fill="#F44336"/>
                        <line x1="5" y1="5" x2="15" y2="15" stroke="white" stroke-width="2"/>
                        <line x1="15" y1="5" x2="5" y2="15" stroke="white" stroke-width="2"/>
                    </marker>
                    <marker id="ok" markerWidth="20" markerHeight="20" refX="10" refY="10" orient="auto">
                        <circle cx="10" cy="10" r="8" fill="#4CAF50"/>
                        <path d="M6,10 L8,12 L14,8" stroke="white" stroke-width="2" fill="none"/>
                    </marker>
                </defs>

                <!-- T√≠tulo -->
                <text x="350" y="40" fill="#E65100" font-size="28" text-anchor="middle" font-weight="bold">ANTI NUTRIENTES</text>
                <text x="350" y="70" fill="#BF360C" font-size="16" text-anchor="middle">Bloquean ‚Üí Procesan ‚Üí Absorben</text>
            </svg>
            <p><em>SVG Animado: De bloqueo a biodisponibilidad con procesamiento.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Define anti nutriente', 'respuesta' => 'Compuesto que reduce absorci√≥n de nutrientes'],
        ['enunciado' => 'Fitatos bloquean...', 'respuesta' => 'Fe, Zn, Ca, Mg'],
        ['enunciado' => 'Oxalatos en...', 'respuesta' => 'Espinaca, cacao'],

        // === APLICADOS ===
        ['enunciado' => 'Espinaca cruda: oxalatos', 'respuesta' => '970 mg/100g'],
        ['enunci sapo reduce fitatos 90%', 'respuesta' => 'Fermentaci√≥n'],
        ['enunciado' => 'Cocci√≥n elimina lectinas al...', 'respuesta' => '99%'],

        // === BIOQU√çMICOS ===
        ['enunciado' => 'Mecanismo fitatos', 'respuesta' => 'Quelaci√≥n de cationes'],
        ['enunciado' => 'Taninos se unen a...', 'respuesta' => 'Prote√≠nas'],
        ['enunciado' => 'Saponinas ‚Üì...', 'respuesta' => 'Colesterol LDL'],

        // === AVANZADOS ===
        ['enunciado' => 'F√≥rmula quelaci√≥n', 'respuesta' => '\\([\\text{Fe}^{3+}] + [\\text{Fitato}] \\rightarrow [\\text{Fe-Fitato}]_{\\text{insoluble}}\\)'],
        ['enunciado' => 'FAO recomienda...', 'respuesta' => 'Procesar legumbres'],
        ['enunciado' => 'Meta-an√°lisis NIH: fitatos ‚Üì...', 'respuesta' => 'C√°ncer colorrectal']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Anti nutrientes...', 'opciones' => ['Bloquean absorci√≥n', 'Aumentan', 'Nada', 'Destruyen'], 'correcta' => 'Bloquean absorci√≥n'],
        ['pregunta' => 'Fitatos en...', 'opciones' => ['Cereales', 'Carne', 'Leche', 'Agua'], 'correcta' => 'Cereales'],
        ['pregunta' => 'Oxalatos bloquean...', 'opciones' => ['Calcio', 'Prote√≠nas', 'Grasas', 'Vitaminas'], 'correcta' => 'Calcio'],
        ['pregunta' => 'Taninos en...', 'opciones' => ['T√©', 'Leche', 'Agua', 'Pan'], 'correcta' => 'T√©'],
        ['pregunta' => 'Lectinas en...', 'opciones' => ['Frijoles crudos', 'Frijoles cocidos', 'Arroz', 'Nada'], 'correcta' => 'Frijoles crudos'],
        ['pregunta' => 'Remojo reduce...', 'opciones' => ['Fitatos', 'Prote√≠nas', 'Grasas', 'Agua'], 'correcta' => 'Fitatos'],
        ['pregunta' => 'Cocci√≥n elimina...', 'opciones' => ['Lectinas', 'Vitaminas', 'Nada', 'Agua'], 'correcta' => 'Lectinas'],
        ['pregunta' => 'Fermentaci√≥n ‚Üì...', 'opciones' => ['Fitatos 90%', '0%', '100%', '10%'], 'correcta' => 'Fitatos 90%'],
        ['pregunta' => 'Espinaca cruda bloquea...', 'opciones' => ['90% Ca', '0%', '100%', '10%'], 'correcta' => '90% Ca'],
        ['pregunta' => 'Saponinas ‚Üì...', 'opciones' => ['Colesterol', 'Az√∫car', 'Agua', 'Nada'], 'correcta' => 'Colesterol'],

        // === MEDIO (10) ===
        ['pregunta' => 'Fitatos quelan...', 'opciones' => ['Fe¬≥‚Å∫', 'Na‚Å∫', 'Cl‚Åª', 'H‚Å∫'], 'correcta' => 'Fe¬≥‚Å∫'],
        ['pregunta' => 'Oxalato + Ca ‚Üí...', 'opciones' => ['CaC‚ÇÇO‚ÇÑ', 'CaCl‚ÇÇ', 'Na‚ÇÇO', 'H‚ÇÇO'], 'correcta' => 'CaC‚ÇÇO‚ÇÑ'],
        ['pregunta' => 'Taninos ORAC...', 'opciones' => ['10x vit C', '1x', '0x', '0.1x'], 'correcta' => '10x vit C'],
        ['pregunta' => 'Germinaci√≥n ‚Üì taninos...', 'opciones' => ['60%', '0%', '100%', '10%'], 'correcta' => '60%'],
        ['pregunta' => 'Frijol rojo crudo t√≥xico por...', 'opciones' => ['Lectinas', 'Grasa', 'Az√∫car', 'Sal'], 'correcta' => 'Lectinas'],
        ['pregunta' => 'Tempeh es soja...', 'opciones' => ['Fermentada', 'Cruda', 'Frita', 'Hervida'], 'correcta' => 'Fermentada'],
        ['pregunta' => 'Quinoa necesita...', 'opciones' => ['Lavar saponinas', 'Fre√≠r', 'Hornear', 'Nada'], 'correcta' => 'Lavar saponinas'],
        ['pregunta' => 'FAO dice procesar...', 'opciones' => ['Legumbres', 'Carne', 'Leche', 'Agua'], 'correcta' => 'Legumbres'],
        ['pregunta' => 'NIH: fitatos ‚Üì riesgo...', 'opciones' => ['C√°ncer colorrectal', 'Diabetes', 'Obesidad', 'Gripe'], 'correcta' => 'C√°ncer colorrectal'],
        ['pregunta' => 'Inhibidores tripsina en...', 'opciones' => ['Soja', 'Ma√≠z', 'Arroz', 'Trigo'], 'correcta' => 'Soja'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'F√≥rmula quelaci√≥n', 'opciones' => ['[Fe¬≥‚Å∫] + [Fitato] ‚Üí [Fe-Fitato]', '[Fe] + [O] ‚Üí [FeO]', '[Ca] + [Cl] ‚Üí [CaCl]', '[H] + [O] ‚Üí [H‚ÇÇO]'], 'correcta' => '[Fe¬≥‚Å∫] + [Fitato] ‚Üí [Fe-Fitato]'],
        ['pregunta' => 'CaC‚ÇÇO‚ÇÑ causa...', 'opciones' => ['C√°lculos renales', 'Diarrea', 'Estre√±imiento', 'Nada'], 'correcta' => 'C√°lculos renales'],
        ['pregunta' => 'Lectina aglutina...', 'opciones' => ['Eritrocitos', 'Leucocitos', 'Plaquetas', 'Neuronas'], 'correcta' => 'Eritrocitos'],
        ['pregunta' => 'Fitasa es enzima que...', 'opciones' => ['Degrada fitatos', 'Degrada prote√≠nas', 'Degrada grasas', 'Degrada agua'], 'correcta' => 'Degrada fitatos'],
        ['pregunta' => 'Biodisponibilidad Fe en espinaca...', 'opciones' => ['<5%', '50%', '100%', '20%'], 'correcta' => '<5%'],
        ['pregunta' => 'Saponinas forman espuma por...', 'opciones' => ['Tensioactivos', 'Gases', 'Calor', 'Luz'], 'correcta' => 'Tensioactivos'],
        ['pregunta' => 'Meta-an√°lisis: taninos ‚Üì...', 'opciones' => ['Absorci√≥n Fe', 'Aumentan Fe', 'Nada', 'Absorci√≥n Ca'], 'correcta' => 'Absorci√≥n Fe'],
        ['pregunta' => 'Extrusi√≥n reduce inhibidores...', 'opciones' => ['95%', '50%', '0%', '100%'], 'correcta' => '95%'],
        ['pregunta' => 'Harvard: anti nutrientes en dieta...', 'opciones' => ['Beneficiosos en moderaci√≥n', 'T√≥xicos siempre', 'In√∫tiles', 'Veneno'], 'correcta' => 'Beneficiosos en moderaci√≥n'],
        ['pregunta' => 'Proceso m√°s efectivo vs fitatos', 'opciones' => ['Fermentaci√≥n', 'Cocci√≥n', 'Remojo', 'Congelaci√≥n'], 'correcta' => 'Fermentaci√≥n']
    ]
];
// ========================================
// MATERIA: QU√çMICA I
// SUBTEMA: Biodisponibilidad (Bioaccesibilidad, Absorci√≥n, Utilizaci√≥n, Modelos Caco-2)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Qu√≠mica I',
    'slug' => 'biodisponibilidad',
    'titulo' => 'Biodisponibilidad: Del Plato al Torrente Sangu√≠neo',
    'contenido' => '
        <h3>¬øQu√© es la Biodisponibilidad?</h3>
        <p>La <strong>biodisponibilidad</strong> es la <strong>fracci√≥n de un nutriente ingerido</strong> que se <strong>absorbe en el intestino</strong> y llega al <strong>torrente sangu√≠neo en forma activa</strong> para ser utilizada por las c√©lulas.</p>
        <p>F√≥rmula:</p>
        <p>\\[ F = \\frac{\\text{Nutriente absorbido y utilizado}}{\\text{Nutriente ingerido}} \\times 100\\% \\]</p>
        <p><strong>Distingue:</strong> <strong>Bioaccesibilidad</strong> (liberado en intestino) ‚â† <strong>Biodisponibilidad</strong> (absorbido y activo).</p>

        <hr style="border:1px dashed #4CAF50;">

        <h4>1. Biodisponibilidad de Nutrientes Clave (FAO 2025)</h4>
        <table class="table">
            <thead>
                <tr><th>Nutriente</th><th>Fuente</th><th>Biodisponibilidad (%)</th><th>Factor +</th><th>Factor -</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Hierro</strong></td><td>Hemo (carne)</td><td><strong>15‚Äì35%</strong></td><td>Vit C, carne</td><td>Fitatos, taninos</td></tr>
                <tr><td><strong>Hierro</strong></td><td>No hemo (plantas)</td><td><strong>2‚Äì20%</strong></td><td>Vit C (+300%)</td><td>Fitatos, Ca</td></tr>
                <tr><td><strong>Calcio</strong></td><td>L√°cteos</td><td><strong>30‚Äì40%</strong></td><td>Vit D</td><td>Oxalatos, fitatos</td></tr>
                <tr><td><strong>Zinc</strong></td><td>Carne</td><td><strong>30‚Äì40%</strong></td><td>Prote√≠na</td><td>Fitatos</td></tr>
                <tr><td><strong>Vitamina A</strong></td><td>Retinol (h√≠gado)</td><td><strong>70‚Äì90%</strong></td><td>Grasa</td><td>Fibra</td></tr>
                <tr><td><strong>Œ≤-caroteno</strong></td><td>Zanahoria</td><td><strong>5‚Äì15%</strong></td><td>Grasa, cocci√≥n</td><td>Fibra cruda</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>100 mg hierro en espinaca</strong> ‚Üí <strong>5% biodisponible</strong> ‚Üí <strong>5 mg absorbidos</strong>. <strong>Con jugo naranja:</strong> ‚Üë a <strong>15 mg</strong> (+200%).</p>
        </div>

        <div class="visual">
            <img src="assets/img/invitro-invivo.jpg" alt="M√©todos evaluaci√≥n">
            <p><em>M√©todos in vivo/in vitro. Fuente: ResearchGate.</em></p>
        </div>

        <hr style="border:1px dashed #4CAF50;">

        <h4>2. Factores que Modulan la Biodisponibilidad</h4>
        <table class="table">
            <thead>
                <tr><th>Tipo</th><th>Ejemplos</th><th>Efecto</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Mejoradores</strong></td><td>Vit C, carne, grasa, cocci√≥n</td><td>‚Üë Absorci√≥n</td></tr>
                <tr><td><strong>Inhibidores</strong></td><td>Fitatos, oxalatos, taninos, Ca</td><td>‚Üì Absorci√≥n</td></tr>
                <tr><td><strong>Matriz alimentaria</strong></td><td>Fibra, prote√≠na</td><td>Variable</td></tr>
                <tr><td><strong>Estado fisiol√≥gico</strong></td><td>Embarazo, anemia</td><td>‚Üë Necesidad</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/instito-torrente.jpg" alt="Bioaccesibilidad vs biodisponibilidad">
            <p><em>Del intestino al torrente. Fuente: ScienceDirect.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/mecanismos-bioaccesibilidad.png" alt="Mecanismos bioaccesibilidad">
            <p><em>Mecanismos moleculares. Fuente: ScienceDirect.</em></p>
        </div>

        <hr style="border:1px dashed #4CAF50;">

        <h4>3. Modelos de Evaluaci√≥n (2025)</h4>
        <ul>
            <li><strong>In vivo:</strong> Balance metab√≥lico, is√≥topos estables</li>
            <li><strong>In vitro:</strong> Caco-2, SHIME (intestino simulado)</li>
            <li><strong>INFOGEST:</strong> Digesti√≥n estandarizada</li>
        </ul>

        <div class="visual">
            <img src="assets/img/celular-caco2.jpg" alt="Modelo Caco-2">
            <p><em>Modelo celular Caco-2. Fuente: Frontiers.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/factores-dieteticos.png" alt="FAO biodisponibilidad">
            <p><em>Factores diet√©ticos. Fuente: FAO.</em></p>
        </div>

        <hr style="border:1px dashed #4CAF50;">

        <h4>4. Estrategias para Mejorar Biodisponibilidad</h4>
        <table class="table">
            <thead>
                <tr><th>Estrategia</th><th>Ejemplo</th><th>Aumento</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Combinar alimentos</strong></td><td>Lentejas + pimiento</td><td>Hierro ‚Üë 300%</td></tr>
                <tr><td><strong>Cocci√≥n</strong></td><td>Zanahoria hervida</td><td>Œ≤-caroteno ‚Üë 600%</td></tr>
                <tr><td><strong>Fermentaci√≥n</strong></td><td>Yogur</td><td>Calcio ‚Üë 20%</td></tr>
                <tr><td><strong>Suplementos</strong></td><td>Fe + Vit C</td><td>Absorci√≥n ‚Üë 400%</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #4CAF50;">

        <h4>5. SVG Animado: Camino del Hierro en el Cuerpo</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 700 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="700" height="500" fill="#E8F5E9"/>

                <!-- Plato -->
                <circle cx="100" cy="250" r="60" fill="#FF9800" stroke="#F57C00" stroke-width="4"/>
                <text x="100" y="245" fill="white" font-size="12" text-anchor="middle">PLATO</text>
                <text x="100" y="265" fill="white" font-size="10" text-anchor="middle">100 mg Fe</text>

                <!-- Est√≥mago -->
                <path d="M200 200 Q250 150 300 200 L290 300 Q250 350 210 300 Z" fill="#EF5350"/>
                <text x="250" y="250" fill="white" font-size="14" text-anchor="middle">EST√ìMAGO</text>
                <text x="250" y="280" fill="#FFEBEE" font-size="10" text-anchor="middle">pH 2</text>

                <!-- Intestino -->
                <rect x="350" y="150" width="200" height="200" fill="#81C784" rx="30"/>
                <text x="450" y="200" fill="#1B5E20" font-size="14" text-anchor="middle">INTESTINO</text>
                <text x="450" y="230" fill="#2E7D32" font-size="11" text-anchor="middle">Absorci√≥n</text>

                <!-- Torrente -->
                <ellipse cx="650" cy="250" rx="80" ry="60" fill="#42A5F5"/>
                <text x="650" y="245" fill="white" font-size="12" text-anchor="middle">SANGRE</text>
                <text x="650" y="265" fill="#BBDEFB" font-size="10" text-anchor="middle">15 mg</text>

                <!-- Flechas animadas -->
                <path d="M160 250 L190 250" stroke="#FF9800" stroke-width="6" marker-end="url(#arrow1)">
                    <animate attributeName="stroke-dashoffset" from="50" to="0" dur="2s" repeatCount="indefinite"/>
                </path>
                <path d="M300 250 L350 250" stroke="#EF5350" stroke-width="6" marker-end="url(#arrow2)">
                    <animate attributeName="stroke-dashoffset" from="50" to="0" dur="2s" begin="0.5s" repeatCount="indefinite"/>
                </path>
                <path d="M550 250 L570 250" stroke="#81C784" stroke-width="6" marker-end="url(#arrow3)">
                    <animate attributeName="stroke-dashoffset" from="50" to="0" dur="2s" begin="1s" repeatCount="indefinite"/>
                </path>

                <!-- Mol√©culas Fe -->
                <circle cx="400" cy="220" r="12" fill="#D32F2F">
                    <animate attributeName="opacity" values="0;1;0" begin="1s" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="400" y="225" fill="white" font-size="9" text-anchor="middle">Fe</text>
                <circle cx="420" cy="260" r="12" fill="#D32F2F">
                    <animate attributeName="opacity" values="0;1;0" begin="1.2s" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="420" y="265" fill="white" font-size="9" text-anchor="middle">Fe</text>
                <circle cx="600" cy="240" r="12" fill="#D32F2F">
                    <animate attributeName="opacity" values="0;1;0" begin="1.5s" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="600" y="245" fill="white" font-size="9" text-anchor="middle">Fe</text>

                <!-- Inhibidores -->
                <text x="450" y="300" fill="#B71C1C" font-size="10" text-anchor="middle">Fitatos ‚Üì</text>
                <text x="450" y="320" fill="#B71C1C" font-size="10" text-anchor="middle">Oxalatos ‚Üì</text>

                <!-- Mejoradores -->
                <text x="450" y="180" fill="#1B5E20" font-size="10" text-anchor="middle">Vit C ‚Üë</text>
                <text x="450" y="160" fill="#1B5E20" font-size="10" text-anchor="middle">Carne ‚Üë</text>

                <!-- Marcadores -->
                <defs>
                    <marker id="arrow1" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#FF9800"/>
                    </marker>
                    <marker id="arrow2" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#EF5350"/>
                    </marker>
                    <marker id="arrow3" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#81C784"/>
                    </marker>
                </defs>

                <!-- T√≠tulo -->
                <text x="350" y="60" fill="#2E7D32" font-size="28" text-anchor="middle" font-weight="bold">BIODISPONIBILIDAD</text>
                <text x="350" y="90" fill="#1B5E20" font-size="16" text-anchor="middle">Del 100 mg ‚Üí Solo 15 mg llegan</text>
            </svg>
            <p><em>SVG Animado: Viaje del hierro con moduladores (+/-).</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Define biodisponibilidad', 'respuesta' => 'Fracci√≥n absorbida y utilizada'],
        ['enunciado' => 'Hierro hemo %', 'respuesta' => '15‚Äì35%'],
        ['enunciado' => 'Hierro no hemo %', 'respuesta' => '2‚Äì20%'],

        // === APLICADOS ===
        ['enunciado' => '100 mg Fe espinaca + Vit C ‚Üí absorbido', 'respuesta' => '15 mg'],
        ['enunciado' => 'Zanahoria cruda vs cocida Œ≤-caroteno', 'respuesta' => 'Cocida ‚Üë 600%'],
        ['enunciado' => 'Modelo in vitro', 'respuesta' => 'Caco-2'],

        // === BIOQU√çMICOS ===
        ['enunciado' => 'Vit C reduce Fe¬≥‚Å∫ a...', 'respuesta' => 'Fe¬≤‚Å∫ (m√°s absorbible)'],
        ['enunciado' => 'Fitatos forman complejos con...', 'respuesta' => 'Fe, Zn, Ca'],
        ['enunciado' => 'DMT1 transporta...', 'respuesta' => 'Fe¬≤‚Å∫ en enterocito'],

        // === AVANZADOS ===
        ['enunciado' => 'F√≥rmula biodisponibilidad', 'respuesta' => '\\(F = \\frac{\\text{absorbido}}{\\text{ingerido}} \\times 100\\%\\)'],
        ['enunciado' => 'INFOGEST es protocolo de...', 'respuesta' => 'Digesti√≥n estandarizada'],
        ['enunciado' => 'FAO recomienda combinar...', 'respuesta' => 'Legumbres + Vit C']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Biodisponibilidad mide...', 'opciones' => ['Absorci√≥n', 'Cantidad ingerida', 'Excreci√≥n', 'Peso'], 'correcta' => 'Absorci√≥n'],
        ['pregunta' => 'Hierro hemo est√° en...', 'opciones' => ['Carne', 'Espinaca', 'Leche', 'Agua'], 'correcta' => 'Carne'],
        ['pregunta' => 'Hierro no hemo %', 'opciones' => ['2‚Äì20%', '50‚Äì70%', '100%', '0%'], 'correcta' => '2‚Äì20%'],
        ['pregunta' => 'Vit C ‚Üë hierro...', 'opciones' => ['300%', '0%', '100%', '10%'], 'correcta' => '300%'],
        ['pregunta' => 'Fitatos ‚Üì...', 'opciones' => ['Hierro', 'Prote√≠nas', 'Grasas', 'Vitaminas'], 'correcta' => 'Hierro'],
        ['pregunta' => 'Cocci√≥n ‚Üë Œ≤-caroteno...', 'opciones' => ['600%', '0%', '100%', '10%'], 'correcta' => '600%'],
        ['pregunta' => 'Calcio biodisponible en...', 'opciones' => ['L√°cteos', 'Espinaca', 'Nueces', 'T√©'], 'correcta' => 'L√°cteos'],
        ['pregunta' => 'Bioaccesibilidad es...', 'opciones' => ['Liberado en intestino', 'Absorbido', 'Excretado', 'Nada'], 'correcta' => 'Liberado en intestino'],
        ['pregunta' => 'Caco-2 simula...', 'opciones' => ['Enterocitos', 'Est√≥mago', 'H√≠gado', 'Ri√±√≥n'], 'correcta' => 'Enterocitos'],
        ['pregunta' => 'FAO promueve...', 'opciones' => ['Lentejas + lim√≥n', 'Solo carne', 'Solo suplementos', 'Nada'], 'correcta' => 'Lentejas + lim√≥n'],

        // === MEDIO (10) ===
        ['pregunta' => 'Hierro hemo %', 'opciones' => ['15‚Äì35%', '2‚Äì20%', '50‚Äì70%', '0%'], 'correcta' => '15‚Äì35%'],
        ['pregunta' => 'Zinc biodisponible en...', 'opciones' => ['Carne', 'Frijoles', 'T√©', 'Agua'], 'correcta' => 'Carne'],
        ['pregunta' => 'Vit A retinol %', 'opciones' => ['70‚Äì90%', '5‚Äì15%', '30‚Äì40%', '0%'], 'correcta' => '70‚Äì90%'],
        ['pregunta' => 'Œ≤-caroteno %', 'opciones' => ['5‚Äì15%', '70‚Äì90%', '100%', '0%'], 'correcta' => '5‚Äì15%'],
        ['pregunta' => 'Fermentaci√≥n ‚Üë calcio...', 'opciones' => ['20%', '0%', '100%', '10%'], 'correcta' => '20%'],
        ['pregunta' => 'DMT1 transporta...', 'opciones' => ['Fe¬≤‚Å∫', 'Fe¬≥‚Å∫', 'Ca¬≤‚Å∫', 'Zn¬≤‚Å∫'], 'correcta' => 'Fe¬≤‚Å∫'],
        ['pregunta' => 'Vit C reduce Fe a...', 'opciones' => ['Fe¬≤‚Å∫', 'Fe¬≥‚Å∫', 'Fe‚Å∞', 'Fe‚Å¥‚Å∫'], 'correcta' => 'Fe¬≤‚Å∫'],
        ['pregunta' => 'INFOGEST estandariza...', 'opciones' => ['Digesti√≥n', 'Absorci√≥n', 'Excreci√≥n', 'Peso'], 'correcta' => 'Digesti√≥n'],
        ['pregunta' => 'Modelo in vivo usa...', 'opciones' => ['Is√≥topos', 'Colorantes', 'Nada', 'Agua'], 'correcta' => 'Is√≥topos'],
        ['pregunta' => 'SHIME simula...', 'opciones' => ['Microbiota', 'Est√≥mago', 'H√≠gado', 'Ri√±√≥n'], 'correcta' => 'Microbiota'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'F√≥rmula F', 'opciones' => ['F = (abs/ing)√ó100', 'F = ing/abs', 'F = 100', 'F = 0'], 'correcta' => 'F = (abs/ing)√ó100'],
        ['pregunta' => '100 mg Fe espinaca + Vit C ‚Üí', 'opciones' => ['15 mg absorbidos', '100 mg', '0 mg', '5 mg'], 'correcta' => '15 mg absorbidos'],
        ['pregunta' => 'Zanahoria cocida ‚Üë Œ≤-caroteno...', 'opciones' => ['600%', '100%', '0%', '10%'], 'correcta' => '600%'],
        ['pregunta' => 'Ferroportina exporta Fe desde...', 'opciones' => ['Enterocito a sangre', 'Sangre a c√©lula', 'C√©lula a sangre', 'Nada'], 'correcta' => 'Enterocito a sangre'],
        ['pregunta' => 'Hepcidina ‚Üì absorci√≥n de...', 'opciones' => ['Hierro', 'Calcio', 'Zinc', 'Vitamina'], 'correcta' => 'Hierro'],
        ['pregunta' => 'Anemia ferrop√©nica ‚Üë absorci√≥n...', 'opciones' => ['Hierro', 'Calcio', 'Zinc', 'Nada'], 'correcta' => 'Hierro'],
        ['pregunta' => 'Meta FAO 2030: biodisponibilidad Fe ‚Üë...', 'opciones' => ['30% en dietas vegetales', '100%', '0%', '10%'], 'correcta' => '30% en dietas vegetales'],
        ['pregunta' => 'Caco-2 mide transporte v√≠a...', 'opciones' => ['Monocapa celular', 'Tubo digestivo', 'Sangre', 'Orina'], 'correcta' => 'Monocapa celular'],
        ['pregunta' => 'Mejor combinacion Fe vegetal', 'opciones' => ['Legumbres + c√≠tricos', 'Legumbres + t√©', 'Legumbres + leche', 'Legumbres + agua'], 'correcta' => 'Legumbres + c√≠tricos'],
        ['pregunta' => 'NIH: Vit C ‚Üë Fe no hemo hasta...', 'opciones' => ['400% con suplemento', '100%', '0%', '10%'], 'correcta' => '400% con suplemento']
    ]
];
// ========================================
// MATERIA: QU√çMICA I
// SUBTEMA: M√©todo Cient√≠fico (Falsabilidad, Control, Variables, Replicabilidad)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Qu√≠mica I',
    'slug' => 'metodo-cientifico',
    'titulo' => 'M√©todo Cient√≠fico: La Receta del Descubrimiento Qu√≠mico',
    'contenido' => '
        <h3>¬øQu√© es el M√©todo Cient√≠fico?</h3>
        <p>El <strong>m√©todo cient√≠fico</strong> es un <strong>proceso l√≥gico, sistem√°tico y falsable</strong> para investigar fen√≥menos naturales. En qu√≠mica, permite <strong>descubrir leyes, validar reacciones y desarrollar materiales</strong> con <strong>replicabilidad y objetividad</strong>.</p>
        <p><strong>Principio clave (Popper):</strong> Una hip√≥tesis es cient√≠fica si puede ser <strong>falsada</strong>.</p>

        <hr style="border:1px dashed #2196F3;">

        <h4>1. Pasos del M√©todo Cient√≠fico</h4>
        <table class="table">
            <thead>
                <tr><th>Paso</th><th>Descripci√≥n</th><th>Ejemplo Qu√≠mico</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>1. Observaci√≥n</strong></td><td>Detectar fen√≥meno</td><td>Reacci√≥n produce gas</td></tr>
                <tr><td><strong>2. Pregunta</strong></td><td>¬øPor qu√© ocurre?</td><td>¬øQu√© gas se forma?</td></tr>
                <tr><td><strong>3. Hip√≥tesis</strong></td><td>Explicaci√≥n testable</td><td>Es CO‚ÇÇ por NaHCO‚ÇÉ + HCl</td></tr>
                <tr><td><strong>4. Predicci√≥n</strong></td><td>Si‚Ä¶ entonces‚Ä¶</td><td>Si agrego indicador, cambia color</td></tr>
                <tr><td><strong>5. Experimento</strong></td><td>Control + variable</td><td>Grupo A: HCl | Grupo B: H‚ÇÇO</td></tr>
                <tr><td><strong>6. An√°lisis</strong></td><td>Estad√≠stica, error</td><td>t-test: p<0.05</td></tr>
                <tr><td><strong>7. Conclusi√≥n</strong></td><td>Aceptar/rechazar H‚ÇÄ</td><td>Hip√≥tesis confirmada</td></tr>
                <tr><td><strong>8. Comunicaci√≥n</strong></td><td>Publicaci√≥n (IUPAC)</td><td>Art√≠culo en <em>JACS</em></td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo Cl√°sico:</strong> <strong>Lavoisier (1789)</strong> ‚Üí Observaci√≥n: masa conservada ‚Üí Hip√≥tesis: ley conservaci√≥n ‚Üí Experimento: combusti√≥n en recipiente cerrado ‚Üí Conclusi√≥n: <strong>materia no se crea ni destruye</strong>.</p>
        </div>

        <div class="visual">
            <img src="assets/img/ciclo-continuo-paso.png" alt="Pasos m√©todo">
            <p><em>Pasos interactivos. Fuente: Science Buddies.</em></p>
        </div>

        <hr style="border:1px dashed #2196F3;">

        <h4>2. Variables en Experimentos Qu√≠micos</h4>
        <table class="table">
            <thead>
                <tr><th>Tipo</th><th>Definici√≥n</th><th>Ejemplo</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Independiente</strong></td><td>Se manipula</td><td>Concentraci√≥n HCl</td></tr>
                <tr><td><strong>Dependiente</strong></td><td>Se mide</td><td>Volumen CO‚ÇÇ</td></tr>
                <tr><td><strong>Controladas</strong></td><td>Constantes</td><td>Temperatura, presi√≥n</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/ciclo-clasico.jpeg" alt="Diagrama ciclo">
            <p><em>Ciclo continuo. Fuente: Quizlet.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/proceso-eloha.jpg" alt="Proceso iterativo">
            <p><em>Proceso iterativo. Fuente: Mrgscience.</em></p>
        </div>

        <hr style="border:1px dashed #2196F3;">

        <h4>3. Experimentos Qu√≠micos Ic√≥nicos</h4>
        <ul>
            <li><strong>Priestley (1774):</strong> Aislamiento O‚ÇÇ</li>
            <li><strong>Curie (1898):</strong> Descubrimiento radio</li>
            <li><strong>Pauling (1930):</strong> Hibridaci√≥n orbital</li>
            <li><strong>Watson & Crick (1953):</strong> ADN (con datos de Franklin)</li>
        </ul>

        <div class="visual">
            <img src="https://www.acs.org/content/dam/acsorg/education/resources/highschool/chemmatters/articlesbytopic/historyofchemistry/scientific-method-lavoisier.jpg" alt="Lavoisier">
            <p><em>Ley conservaci√≥n. Fuente: ACS.</em></p>
        </div>

        <div class="visual">
            <img src="https://www.iupac.org/wp-content/uploads/2019/08/IUPAC-100-Scientific-Method.png" alt="IUPAC m√©todo">
            <p><em>M√©todo en qu√≠mica. Fuente: IUPAC.</em></p>
        </div>

        <hr style="border:1px dashed #2196F3;">

        <h4>4. Herramientas Modernas (2025)</h4>
        <ul>
            <li><strong>Espectroscop√≠a:</strong> FTIR, NMR, MS</li>
            <li><strong>Cromatograf√≠a:</strong> GC-MS, HPLC</li>
            <li><strong>Modelado:</strong> DFT, QM/MM</li>
            <li><strong>IA:</strong> Predicci√≥n reacciones (ChemAI)</li>
        </ul>

        <hr style="border:1px dashed #2196F3;">

        <h4>5. SVG Animado: Ciclo del M√©todo en Qu√≠mica</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 700 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="700" height="500" fill="#E8EAF6"/>

                <!-- Centro -->
                <circle cx="350" cy="250" r="60" fill="#1976D2" stroke="#0D47A1" stroke-width="4">
                    <animate attributeName="r" values="60;70;60" dur="3s" repeatCount="indefinite"/>
                </circle>
                <text x="350" y="245" fill="white" font-size="14" text-anchor="middle" font-weight="bold">M√âTODO</text>
                <text x="350" y="265" fill="white" font-size="12" text-anchor="middle">CIENT√çFICO</text>

                <!-- 1. Observaci√≥n -->
                <circle cx="150" cy="100" r="45" fill="#43A047">
                    <animate attributeName="r" values="45;55;45" begin="0s" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="150" y="95" fill="white" font-size="11" text-anchor="middle">1. OBSERVACI√ìN</text>
                <text x="150" y="115" fill="#E8F5E9" font-size="9" text-anchor="middle">Gas en reacci√≥n</text>

                <!-- 2. Pregunta -->
                <circle cx="350" cy="80" r="40" fill="#FB8C00">
                    <animate attributeName="r" values="40;50;40" begin="0.5s" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="350" y="75" fill="white" font-size="11" text-anchor="middle">2. PREGUNTA</text>
                <text x="350" y="95" fill="#FFF3E0" font-size="9" text-anchor="middle">¬øQu√© gas?</text>

                <!-- 3. Hip√≥tesis -->
                <circle cx="550" cy="100" r="45" fill="#D81B60">
                    <animate attributeName="r" values="45;55;45" begin="1s" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="550" y="95" fill="white" font-size="11" text-anchor="middle">3. HIP√ìTESIS</text>
                <text x="550" y="115" fill="#FCE4EC" font-size="9" text-anchor="middle">CO‚ÇÇ</text>

                <!-- 4. Experimento -->
                <circle cx="580" cy="250" r="45" fill="#8E24AA">
                    <animate attributeName="r" values="45;55;45" begin="1.5s" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="580" y="245" fill="white" font-size="11" text-anchor="middle">4. EXPERIMENTO</text>
                <text x="580" y="265" fill="#F3E5F5" font-size="9" text-anchor="middle">HCl + NaHCO‚ÇÉ</text>

                <!-- 5. An√°lisis -->
                <circle cx="550" cy="400" r="45" fill="#00897B">
                    <animate attributeName="r" values="45;55;45" begin="2s" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="550" y="395" fill="white" font-size="11" text-anchor="middle">5. AN√ÅLISIS</text>
                <text x="550" y="415" fill="#E0F2F1" font-size="9" text-anchor="middle">p<0.05</text>

                <!-- 6. Conclusi√≥n -->
                <circle cx="350" cy="420" r="40" fill="#FDD835">
                    <animate attributeName="r" values="40;50;40" begin="2.5s" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="350" y="415" fill="#212121" font-size="11" text-anchor="middle">6. CONCLUSI√ìN</text>
                <text x="350" y="435" fill="#212121" font-size="9" text-anchor="middle">CO‚ÇÇ confirmado</text>

                <!-- 7. Comunicaci√≥n -->
                <circle cx="150" cy="400" r="45" fill="#3949AB">
                    <animate attributeName="r" values="45;55;45" begin="3s" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="150" y="395" fill="white" font-size="11" text-anchor="middle">7. COMUNICACI√ìN</text>
                <text x="150" y="415" fill="#E8EAF6" font-size="9" text-anchor="middle">JACS</text>

                <!-- Flechas curvas -->
                <path d="M150 145 Q200 180 300 180" stroke="#1976D2" stroke-width="6" fill="none" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2s" repeatCount="indefinite"/>
                </path>
                <path d="M390 100 Q450 120 520 145" stroke="#1976D2" stroke-width="6" fill="none" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2s" repeatCount="indefinite"/>
                </path>
                <path d="M580 295 Q600 320 580 375" stroke="#1976D2" stroke-width="6" fill="none" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2s" repeatCount="indefinite"/>
                </path>
                <path d="M520 400 Q470 410 390 420" stroke="#1976D2" stroke-width="6" fill="none" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2s" repeatCount="indefinite"/>
                </path>
                <path d="M310 420 Q250 410 180 400" stroke="#1976D2" stroke-width="6" fill="none" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2s" repeatCount="indefinite"/>
                </path>
                <path d="M150 355 Q130 320 150 295" stroke="#1976D2" stroke-width="6" fill="none" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2s" repeatCount="indefinite"/>
                </path>
                <path d="M180 180 Q220 160 300 160" stroke="#1976D2" stroke-width="6" fill="none" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2s" repeatCount="indefinite"/>
                </path>

                <!-- Flecha -->
                <defs>
                    <marker id="arrow" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#1976D2"/>
                    </marker>
                </defs>

                <!-- T√≠tulo -->
                <text x="350" y="60" fill="#0D47A1" font-size="28" text-anchor="middle" font-weight="bold">M√âTODO CIENT√çFICO</text>
                <text x="350" y="90" fill="#1565C0" font-size="16" text-anchor="middle">Qu√≠mica: del gas al paper</text>
            </svg>
            <p><em>SVG Animado: Ciclo completo con ejemplo de reacci√≥n qu√≠mica.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Define m√©todo cient√≠fico', 'respuesta' => 'Proceso sistem√°tico para investigar'],
        ['enunciado' => 'Primer paso', 'respuesta' => 'Observaci√≥n'],
        ['enunciado' => 'Hip√≥tesis debe ser...', 'respuesta' => 'Falsable'],

        // === APLICADOS ===
        ['enunciado' => 'Lavoisier observ√≥...', 'respuesta' => 'Masa conservada'],
        ['enunciado' => 'Variable independiente en titulaci√≥n', 'respuesta' => 'Volumen titulante'],
        ['enunciado' => 'p<0.05 significa...', 'respuesta' => 'Diferencia significativa'],

        // === QU√çMICOS ===
        ['enunciado' => 'Experimento Priestley aisl√≥...', 'respuesta' => 'Ox√≠geno'],
        ['enunciado' => 'NMR mide...', 'respuesta' => 'Estructura molecular'],
        ['enunciado' => 'Control en reacci√≥n es...', 'respuesta' => 'Sin reactivo'],

        // === AVANZADOS ===
        ['enunciado' => 'F√≥rmula hip√≥tesis nula', 'respuesta' => '\\(H_0: \\mu_1 = \\mu_2\\)'],
        ['enunciado' => 'Popper dijo...', 'respuesta' => 'Falsabilidad'],
        ['enunciado' => 'IUPAC regula...', 'respuesta' => 'Nomenclatura y publicaci√≥n']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'M√©todo empieza con...', 'opciones' => ['Observaci√≥n', 'Conclusi√≥n', 'Experimento', 'Hip√≥tesis'], 'correcta' => 'Observaci√≥n'],
        ['pregunta' => 'Hip√≥tesis debe ser...', 'opciones' => ['Falsable', 'Verdadera', 'Falsa', 'Aleatoria'], 'correcta' => 'Falsable'],
        ['pregunta' => 'Lavoisier descubri√≥...', 'opciones' => ['Conservaci√≥n masa', '√Åtomos', 'Electrones', 'Nada'], 'correcta' => 'Conservaci√≥n masa'],
        ['pregunta' => 'Variable independiente...', 'opciones' => ['Se manipula', 'Se mide', 'Es constante', 'Nada'], 'correcta' => 'Se manipula'],
        ['pregunta' => 'Control es...', 'opciones' => ['Sin variable', 'Con variable', 'Doble', 'Nada'], 'correcta' => 'Sin variable'],
        ['pregunta' => 'p<0.05 significa...', 'opciones' => ['Significativo', 'No significativo', 'Error', 'Nada'], 'correcta' => 'Significativo'],
        ['pregunta' => 'Priestley aisl√≥...', 'opciones' => ['Ox√≠geno', 'Hidr√≥geno', 'Nitr√≥geno', 'CO‚ÇÇ'], 'correcta' => 'Ox√≠geno'],
        ['pregunta' => 'NMR es para...', 'opciones' => ['Estructura', 'Masa', 'Volumen', 'Color'], 'correcta' => 'Estructura'],
        ['pregunta' => 'IUPAC publica en...', 'opciones' => ['JACS', 'Nature', 'Time', 'Nada'], 'correcta' => 'JACS'],
        ['pregunta' => 'Popper enfatiz√≥...', 'opciones' => ['Falsabilidad', 'Verdad', 'Belleza', 'Nada'], 'correcta' => 'Falsabilidad'],

        // === MEDIO (10) ===
        ['pregunta' => 'H‚ÇÄ es hip√≥tesis...', 'opciones' => ['Nula', 'Alternativa', 'Final', 'Nada'], 'correcta' => 'Nula'],
        ['pregunta' => 'Replicabilidad significa...', 'opciones' => ['Repetir experimento', 'Copiar resultados', 'Publicar', 'Nada'], 'correcta' => 'Repetir experimento'],
        ['pregunta' => 'Variable dependiente...', 'opciones' => ['Se mide', 'Se manipula', 'Es constante', 'Nada'], 'correcta' => 'Se mide'],
        ['pregunta' => 'Titulaci√≥n mide...', 'opciones' => ['Concentraci√≥n', 'Masa', 'Volumen', 'Color'], 'correcta' => 'Concentraci√≥n'],
        ['pregunta' => 'Curie descubri√≥...', 'opciones' => ['Radio', 'Uranio', 'Plutonio', 'Nada'], 'correcta' => 'Radio'],
        ['pregunta' => 'Pauling explic√≥...', 'opciones' => ['Hibridaci√≥n', 'Fisi√≥n', 'Fusi√≥n', 'Nada'], 'correcta' => 'Hibridaci√≥n'],
        ['pregunta' => 'ACS es sociedad de...', 'opciones' => ['Qu√≠mica', 'F√≠sica', 'Biolog√≠a', 'Matem√°ticas'], 'correcta' => 'Qu√≠mica'],
        ['pregunta' => 'HPLC separa por...', 'opciones' => ['Interacci√≥n fase', 'Masa', 'Color', 'Olor'], 'correcta' => 'Interacci√≥n fase'],
        ['pregunta' => 'DFT es teor√≠a de...', 'opciones' => ['Funcional densidad', '√Åtomos', 'Mol√©culas', 'Nada'], 'correcta' => 'Funcional densidad'],
        ['pregunta' => 'Comunicaci√≥n incluye...', 'opciones' => ['Publicaci√≥n', 'Silencio', 'Secreto', 'Nada'], 'correcta' => 'Publicaci√≥n'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'F√≥rmula H‚ÇÄ', 'opciones' => ['H‚ÇÄ: Œº‚ÇÅ = Œº‚ÇÇ', 'H‚ÇÄ: Œº‚ÇÅ > Œº‚ÇÇ', 'H‚ÇÄ: Œº‚ÇÅ ‚â† Œº‚ÇÇ', 'H‚ÇÄ: Œº‚ÇÅ < Œº‚ÇÇ'], 'correcta' => 'H‚ÇÄ: Œº‚ÇÅ = Œº‚ÇÇ'],
        ['pregunta' => 'Error tipo I es...', 'opciones' => ['Falso positivo', 'Falso negativo', 'Verdadero', 'Nada'], 'correcta' => 'Falso positivo'],
        ['pregunta' => 't-test compara...', 'opciones' => ['2 medias', '3 medias', 'Medianas', 'Modas'], 'correcta' => '2 medias'],
        ['pregunta' => 'ANOVA compara...', 'opciones' => ['>2 grupos', '2 grupos', '1 grupo', '0 grupos'], 'correcta' => '>2 grupos'],
        ['pregunta' => 'ChemAI predice...', 'opciones' => ['Reacciones', 'Clima', 'Econom√≠a', 'Nada'], 'correcta' => 'Reacciones'],
        ['pregunta' => 'IUPAC nombra compuestos como...', 'opciones' => ['Sistem√°ticamente', 'Aleatoriamente', 'Por color', 'Por olor'], 'correcta' => 'Sistem√°ticamente'],
        ['pregunta' => 'Lavoisier refut√≥ teor√≠a...', 'opciones' => ['Flogisto', '√Åtomos', 'Electrones', 'Nada'], 'correcta' => 'Flogisto'],
        ['pregunta' => 'Modelo Caco-2 es para...', 'opciones' => ['Biodisponibilidad', 'Reacciones', 'Estructura', 'Masa'], 'correcta' => 'Biodisponibilidad'],
        ['pregunta' => 'QM/MM combina...', 'opciones' => ['Cu√°ntica y cl√°sica', 'Solo cu√°ntica', 'Solo cl√°sica', 'Nada'], 'correcta' => 'Cu√°ntica y cl√°sica'],
        ['pregunta' => 'Meta IUPAC 2030: estandarizar...', 'opciones' => ['Datos qu√≠micos', 'Colores', 'Olores', 'Sabores'], 'correcta' => 'Datos qu√≠micos']
    ]
];
// ========================================
// MATERIA: QU√çMICA I
// SUBTEMA: Teor√≠a At√≥mica (Evoluci√≥n, Modelos, N√∫meros Cu√°nticos, Orbitales, Espectroscopia)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Qu√≠mica I',
    'slug' => 'teoria-atomica',
    'titulo' => 'Teor√≠a At√≥mica: Del √Åtomo Indivisible al Orbital Cu√°ntico',
    'contenido' => '
        <h3>¬øQu√© es la Teor√≠a At√≥mica?</h3>
        <p>La <strong>teor√≠a at√≥mica</strong> describe la <strong>estructura, composici√≥n y comportamiento</strong> de los √°tomos, unidades fundamentales de la materia. Evolucion√≥ durante 2500 a√±os desde ideas filos√≥ficas hasta el <strong>modelo mec√°nico-cu√°ntico actual</strong> (Schr√∂dinger, Heisenberg).</p>

        <hr style="border:1px dashed #9C27B0;">

        <h4>1. Evoluci√≥n Hist√≥rica de los Modelos At√≥micos</h4>
        <table class="table">
            <thead>
                <tr><th>A√±o</th><th>Cient√≠fico</th><th>Modelo</th><th>Clave</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>400 a.C.</strong></td><td>Dem√≥crito</td><td>√Åtomo (indivisible)</td><td>Filos√≥fico</td></tr>
                <tr><td><strong>1808</strong></td><td>Dalton</td><td>Esferas s√≥lidas</td><td>Ley proporciones</td></tr>
                <tr><td><strong>1897</strong></td><td>Thomson</td><td>Pud√≠n de pasas</td><td>Electr√≥n (-)</td></tr>
                <tr><td><strong>1911</strong></td><td>Rutherford</td><td>N√∫cleo planetario</td><td>Protones (+)</td></tr>
                <tr><td><strong>1913</strong></td><td>Bohr</td><td>√ìrbitas cuantizadas</td><td>Espectro H</td></tr>
                <tr><td><strong>1926</strong></td><td>Schr√∂dinger</td><td>Modelo cu√°ntico</td><td>Ondas, orbitales</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Rutherford (1911):</strong> L√°mina oro ‚Üí part√≠culas Œ± desviadas ‚Üí <strong>99.9% vac√≠o, n√∫cleo denso</strong>.</p>
        </div>

        <div class="visual">
            <img src="assets/img/history-atom.webp" alt="Historia modelos">
            <p><em>Evoluci√≥n visual. Fuente: Compound Interest.</em></p>
        </div>

        <hr style="border:1px dashed #9C27B0;">

        <h4>2. Modelo At√≥mico Actual (2025)</h4>
        <ul>
            <li><strong>N√∫cleo:</strong> Protones (Z), neutrones (N) ‚Üí 99.94% masa</li>
            <li><strong>Electrones:</strong> Nubes probabil√≠sticas (orbitales)</li>
            <li><strong>N√∫meros cu√°nticos:</strong>
                <ul>
                    <li><strong>n</strong>: nivel energ√≠a (1, 2, 3...)</li>
                    <li><strong>l</strong>: subnivel (0=s, 1=p, 2=d, 3=f)</li>
                    <li><strong>m‚Çó</strong>: orientaci√≥n (-l a +l)</li>
                    <li><strong>m‚Çõ</strong>: esp√≠n (¬±¬Ω)</li>
                </ul>
            </li>
        </ul>

        <div class="visual">
            <img src="assets/img/time-line.webp" alt="L√≠nea temporal">
            <p><em>L√≠nea del tiempo. Fuente: Knowunity.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/modelos-didacticos.jpg" alt="Recursos educativos">
            <p><em>Modelos did√°cticos. Fuente: Pinterest.</em></p>
        </div>

        <hr style="border:1px dashed #9C27B0;">

        <h4>3. Experimentos Clave</h4>
        <table class="table">
            <thead>
                <tr><th>Experimento</th><th>Descubrimiento</th><th>A√±o</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Tubo rayos cat√≥dicos</strong></td><td>Electr√≥n</td><td>1897</td></tr>
                <tr><td><strong>L√°mina oro</strong></td><td>N√∫cleo</td><td>1911</td></tr>
                <tr><td><strong>Espectro H</strong></td><td>Niveles energ√≠a</td><td>1885</td></tr>
                <tr><td><strong>Difracci√≥n electrones</strong></td><td>Naturaleza ondulatoria</td><td>1927</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #9C27B0;">

        <h4>4. Orbitales y Configuraci√≥n Electr√≥nica</h4>
        <p>Ejemplo: <strong>Carbono (Z=6)</strong> ‚Üí 1s¬≤ 2s¬≤ 2p¬≤</p>
        <p>F√≥rmula energ√≠a (Bohr):</p>
        <p>\\[ E_n = -\\frac{13.6}{n^2} \\text{ eV} \\]</p>

        <hr style="border:1px dashed #9C27B0;">

        <h4>5. SVG Animado: Evoluci√≥n del Modelo At√≥mico</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="800" height="500" fill="#F3E5F5"/>

                <!-- T√≠tulo -->
                <text x="400" y="50" fill="#4A148C" font-size="32" text-anchor="middle" font-weight="bold">EVOLUCI√ìN DEL √ÅTOMO</text>

                <!-- Dem√≥crito -->
                <circle cx="100" cy="200" r="40" fill="#B71C1C">
                    <animate attributeName="r" values="40;50;40" dur="3s" repeatCount="indefinite"/>
                </circle>
                <text x="100" y="195" fill="white" font-size="12" text-anchor="middle">DEM√ìCRITO</text>
                <text x="100" y="215" fill="#FFEBEE" font-size="10" text-anchor="middle">√Åtomo indivisible</text>

                <!-- Dalton -->
                <circle cx="200" cy="200" r="45" fill="#FF6F00">
                    <animate attributeName="r" values="45;55;45" begin="0.5s" dur="3s" repeatCount="indefinite"/>
                </circle>
                <text x="200" y="195" fill="white" font-size="12" text-anchor="middle">DALTON</text>
                <text x="200" y="215" fill="#FFF3E0" font-size="9" text-anchor="middle">Esferas s√≥lidas</text>

                <!-- Thomson -->
                <circle cx="320" cy="200" r="50" fill="#2E7D32">
                    <animate attributeName="r" values="50;60;50" begin="1s" dur="3s" repeatCount="indefinite"/>
                </circle>
                <text x="320" y="195" fill="white" font-size="12" text-anchor="middle">THOMSON</text>
                <text x="320" y="215" fill="#E8F5E9" font-size="9" text-anchor="middle">Pud√≠n + e‚Åª</text>
                <!-- Electrones -->
                <circle cx="300" cy="180" r="5" fill="#D32F2F">
                    <animate attributeName="opacity" values="0;1;0" begin="1s" dur="1s" repeatCount="indefinite"/>
                </circle>
                <circle cx="340" cy="220" r="5" fill="#D32F2F">
                    <animate attributeName="opacity" values="0;1;0" begin="1.3s" dur="1s" repeatCount="indefinite"/>
                </circle>

                <!-- Rutherford -->
                <circle cx="460" cy="200" r="25" fill="#FDD835" stroke="#F57F17" stroke-width="4">
                    <animate attributeName="r" values="25;35;25" begin="1.5s" dur="3s" repeatCount="indefinite"/>
                </circle>
                <text x="460" y="195" fill="#212121" font-size="11" text-anchor="middle">RUTHERFORD</text>
                <text x="460" y="215" fill="#212121" font-size="9" text-anchor="middle">N√∫cleo +</text>
                <!-- Electr√≥n orbitando -->
                <circle cx="460" cy="200" r="80" fill="none" stroke="#1565C0" stroke-width="2" stroke-dasharray="5,5"/>
                <circle r="6" fill="#1565C0">
                    <animateMotion path="M460,120 A80,80 0 1,1 460,280 A80,80 0 1,1 460,120" dur="3s" repeatCount="indefinite"/>
                </circle>

                <!-- Bohr -->
                <g transform="translate(580,200)">
                    <circle cx="0" cy="0" r="30" fill="#FDD835" stroke="#F57F17" stroke-width="3"/>
                    <text x="0" y="-5" fill="#212121" font-size="10" text-anchor="middle">BOHR</text>
                    <!-- √ìrbitas cuantizadas -->
                    <circle cx="0" cy="0" r="50" fill="none" stroke="#43A047" stroke-width="2"/>
                    <circle cx="0" cy="0" r="80" fill="none" stroke="#43A047" stroke-width="2"/>
                    <circle cx="0" cy="0" r="110" fill="none" stroke="#43A047" stroke-width="2"/>
                    <!-- Electr√≥n saltando -->
                    <circle r="5" fill="#1976D2">
                        <animate attributeName="r" values="5;8;5" dur="1s" repeatCount="indefinite"/>
                        <animateMotion path="M0,-50 A50,50 0 1,1 0,-80 A80,80 0 1,1 0,-50" dur="2s" repeatCount="indefinite"/>
                    </circle>
                </g>
                <text x="580" y="215" fill="#212121" font-size="9" text-anchor="middle">√ìrbitas n</text>

                <!-- Cu√°ntico -->
                <g transform="translate(700,200)">
                    <circle cx="0" cy="0" r="35" fill="#7B1FA2" opacity="0.7"/>
                    <text x="0" y="-5" fill="white" font-size="10" text-anchor="middle">CU√ÅNTICO</text>
                    <!-- Nube 1s -->
                    <circle cx="0" cy="0" r="40" fill="#7B1FA2" opacity="0.3"/>
                    <circle cx="0" cy="0" r="60" fill="#7B1FA2" opacity="0.2"/>
                    <circle cx="0" cy="0" r="80" fill="#7B1FA2" opacity="0.1"/>
                    <!-- Orbital p -->
                    <ellipse cx="0" cy="0" rx="100" ry="30" fill="#7B1FA2" opacity="0.3" transform="rotate(45)"/>
                    <ellipse cx="0" cy="0" rx="100" ry="30" fill="#7B1FA2" opacity="0.3" transform="rotate(-45)"/>
                    <!-- Electr√≥n probabil√≠stico -->
                    <circle r="4" fill="#E040FB">
                        <animate attributeName="opacity" values="0;1;0" dur="1.5s" repeatCount="indefinite"/>
                        <animate attributeName="cx" values="-60;60;-60" dur="2s" repeatCount="indefinite"/>
                        <animate attributeName="cy" values="0;40;-40;0" dur="2s" repeatCount="indefinite"/>
                    </circle>
                </g>
                <text x="700" y="215" fill="#212121" font-size="9" text-anchor="middle">Orbitales œà</text>

                <!-- Flechas evolutivas -->
                <path d="M140 200 L160 200" stroke="#4A148C" stroke-width="6" marker-end="url(#arrow)"/>
                <path d="M245 200 L275 200" stroke="#4A148C" stroke-width="6" marker-end="url(#arrow)"/>
                <path d="M370 clicked 200 L410 200" stroke="#4A148C" stroke-width="6" marker-end="url(#arrow)"/>
                <path d="M485 200 L535 200" stroke="#4A148C" stroke-width="6" marker-end="url(#arrow)"/>
                <path d="M615 200 L660 200" stroke="#4A148C" stroke-width="6" marker-end="url(#arrow)"/>

                <!-- Marcador -->
                <defs>
                    <marker id="arrow" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#4A148C"/>
                    </marker>
                </defs>

                <!-- Leyenda -->
                <text x="400" y="380" fill="#4A148C" font-size="16" text-anchor="middle">De la filosof√≠a a la mec√°nica cu√°ntica</text>
                <text x="400" y="410" fill="#6A1B9A" font-size="14" text-anchor="middle">IUPAC 2025: Modelo est√°ndar</text>
            </svg>
            <p><em>SVG Animado: Evoluci√≥n interactiva con orbitales y saltos cu√°nticos.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Modelo Dalton', 'respuesta' => 'Esferas s√≥lidas indivisibles'],
        ['enunciado' => 'Descubri√≥ n√∫cleo', 'respuesta' => 'Rutherford'],
        ['enunciado' => '√ìrbitas cuantizadas', 'respuesta' => 'Bohr'],

        // === APLICADOS ===
        ['enunciado' => 'Electr√≥n descubierto por', 'respuesta' => 'Thomson (1897)'],
        ['enunciado' => 'Configuraci√≥n C (Z=6)', 'respuesta' => '1s¬≤ 2s¬≤ 2p¬≤'],
        ['enunciado' => 'Energ√≠a n=2 (eV)', 'respuesta' => '-3.4 eV'],

        // === CU√ÅNTICOS ===
        ['enunciado' => 'N√∫mero cu√°ntico l para p', 'respuesta' => '1'],
        ['enunciado' => 'Orbital 3p tiene m‚Çó', 'respuesta' => '-1, 0, +1'],
        ['enunciado' => 'Principio exclusi√≥n Pauli', 'respuesta' => 'No 2 e‚Åª mismos 4 n√∫meros'],

        // === AVANZADOS ===
        ['enunciado' => 'F√≥rmula energ√≠a Bohr', 'respuesta' => '\\(E_n = -\\frac{13.6}{n^2}\\) eV'],
        ['enunciado' => 'Espectro H l√≠nea Balmer', 'respuesta' => 'n‚ÇÇ=2 ‚Üí visible'],
        ['enunciado' => 'NIST define √°tomo como', 'respuesta' => 'Sistema cu√°ntico estable']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Dem√≥crito dijo √°tomos...', 'opciones' => ['Indivisibles', 'Divisibles', 'Huecos', 'Nada'], 'correcta' => 'Indivisibles'],
        ['pregunta' => 'Dalton propuso...', 'opciones' => ['Esferas s√≥lidas', 'N√∫cleo', '√ìrbitas', 'Orbitales'], 'correcta' => 'Esferas s√≥lidas'],
        ['pregunta' => 'Thomson descubri√≥...', 'opciones' => ['Electr√≥n', 'Prot√≥n', 'Neutr√≥n', 'Nada'], 'correcta' => 'Electr√≥n'],
        ['pregunta' => 'Rutherford hall√≥...', 'opciones' => ['N√∫cleo', 'Electr√≥n', '√ìrbita', 'Nada'], 'correcta' => 'N√∫cleo'],
        ['pregunta' => 'Bohr explic√≥...', 'opciones' => ['Espectro H', 'Masa', 'Volumen', 'Color'], 'correcta' => 'Espectro H'],
        ['pregunta' => 'Modelo actual es...', 'opciones' => ['Cu√°ntico', 'Planetario', 'S√≥lido', 'Pud√≠n'], 'correcta' => 'Cu√°ntico'],
        ['pregunta' => 'N√∫mero at√≥mico Z es...', 'opciones' => ['Protones', 'Neutrones', 'Electrones', 'Masa'], 'correcta' => 'Protones'],
        ['pregunta' => 'n=1 es nivel...', 'opciones' => ['K', 'L', 'M', 'N'], 'correcta' => 'K'],
        ['pregunta' => 'l=0 es subnivel...', 'opciones' => ['s', 'p', 'd', 'f'], 'correcta' => 's'],
        ['pregunta' => 'IUPAC define √°tomo como...', 'opciones' => ['Unidad fundamental', 'Mol√©cula', 'I√≥n', 'Nada'], 'correcta' => 'Unidad fundamental'],

        // === MEDIO (10) ===
        ['pregunta' => 'Configuraci√≥n Na (Z=11)', 'opciones' => ['1s¬≤2s¬≤2p‚Å∂3s¬π', '1s¬≤2s¬≤2p‚Å∂', '1s¬≤2s¬≤', '1s¬≤'], 'correcta' => '1s¬≤2s¬≤2p‚Å∂3s¬π'],
        ['pregunta' => 'Energ√≠a n=3 (eV)', 'opciones' => ['-1.51', '-13.6', '-3.4', '0'], 'correcta' => '-1.51'],
        ['pregunta' => 'Orbital 2p tiene electrones m√°x.', 'opciones' => ['6', '2', '10', '14'], 'correcta' => '6'],
        ['pregunta' => 'Principio Aufbau', 'opciones' => ['Llenado orden energ√≠a', 'Aleatorio', 'Por masa', 'Por color'], 'correcta' => 'Llenado orden energ√≠a'],
        ['pregunta' => 'Regla Hund', 'opciones' => ['Espines paralelos', 'Opuestos', 'Ninguno', 'Aleatorio'], 'correcta' => 'Espines paralelos'],
        ['pregunta' => 'Pauli dice no 2 e‚Åª con...', 'opciones' => ['Mismos 4 n√∫meros', 'Mismo n', 'Mismo l', 'Mismo m‚Çó'], 'correcta' => 'Mismos 4 n√∫meros'],
        ['pregunta' => 'Espectro H serie Lyman', 'opciones' => ['UV', 'Visible', 'IR', 'Radio'], 'correcta' => 'UV'],
        ['pregunta' => 'L√°mina oro mostr√≥...', 'opciones' => ['99.9% vac√≠o', '100% lleno', '50%', '0%'], 'correcta' => '99.9% vac√≠o'],
        ['pregunta' => 'Davisson-Germer probaron...', 'opciones' => ['Dualidad onda-part√≠cula', 'Solo part√≠cula', 'Solo onda', 'Nada'], 'correcta' => 'Dualidad onda-part√≠cula'],
        ['pregunta' => 'NIST 2025 usa modelo...', 'opciones' => ['Schr√∂dinger', 'Bohr', 'Dalton', 'Thomson'], 'correcta' => 'Schr√∂dinger'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'F√≥rmula energ√≠a Bohr', 'opciones' => ['E‚Çô = -13.6/n¬≤', 'E‚Çô = 13.6/n¬≤', 'E‚Çô = n¬≤/13.6', 'E‚Çô = 0'], 'correcta' => 'E‚Çô = -13.6/n¬≤'],
        ['pregunta' => 'Transici√≥n n=3‚Üí2 emite...', 'opciones' => ['Luz visible', 'UV', 'IR', 'Microondas'], 'correcta' => 'Luz visible'],
        ['pregunta' => '√Åtomo H estado base', 'opciones' => ['n=1', 'n=2', 'n=3', 'n=‚àû'], 'correcta' => 'n=1'],
        ['pregunta' => 'Funci√≥n onda œà¬≤ da...', 'opciones' => ['Probabilidad', 'Energ√≠a', 'Masa', 'Carga'], 'correcta' => 'Probabilidad'],
        ['pregunta' => 'Orbital d tiene l=', 'opciones' => ['2', '0', '1', '3'], 'correcta' => '2'],
        ['pregunta' => 'm‚Çó para 3p', 'opciones' => ['-1,0,+1', '0,1,2', '-2,-1,0', '0'], 'correcta' => '-1,0,+1'],
        ['pregunta' => 'Heisenberg incertidumbre', 'opciones' => ['Œîx¬∑Œîp ‚â• h/4œÄ', 'Œîx¬∑Œîp = 0', 'Œîx¬∑Œîp < h', 'Œîx¬∑Œîp = ‚àû'], 'correcta' => 'Œîx¬∑Œîp ‚â• h/4œÄ'],
        ['pregunta' => 'Ecuaci√≥n Schr√∂dinger', 'opciones' => ['ƒ§œà = Eœà', 'E = mc¬≤', 'F = ma', 'PV = nRT'], 'correcta' => 'ƒ§œà = Eœà'],
        ['pregunta' => 'IUPAC 2025 estandariza...', 'opciones' => ['Datos at√≥micos', 'Colores', 'Olores', 'Sabores'], 'correcta' => 'Datos at√≥micos'],
        ['pregunta' => '√Åtomo m√°s abundante universo', 'opciones' => ['H (75%)', 'He', 'O', 'C'], 'correcta' => 'H (75%)']
    ]
];
// ========================================
// MATERIA: QU√çMICA I
// SUBTEMA: √Åtomo (Estructura, Part√≠culas, N√∫meros Cu√°nticos, Is√≥topos, Orbitales, Configuraci√≥n)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Qu√≠mica I',
    'slug' => 'atomo',
    'titulo' => 'El √Åtomo: Unidad Fundamental de la Materia',
    'contenido' => '
        <h3>¬øQu√© es un √Åtomo?</h3>
        <p>El <strong>√°tomo</strong> es la <strong>part√≠cula m√°s peque√±a</strong> de un elemento que conserva sus propiedades qu√≠micas. Consta de:</p>
        <ul>
            <li><strong>N√∫cleo:</strong> Protones (+), neutrones (0) ‚Üí 99.94% masa</li>
            <li><strong>Corteza:</strong> Electrones (-) en orbitales (nubes de probabilidad)</li>
        </ul>
        <p><strong>Tama√±o:</strong> ~10‚Åª¬π‚Å∞ m | <strong>N√∫cleo:</strong> ~10‚Åª¬π‚Åµ m ‚Üí <strong>100,000 veces m√°s peque√±o</strong>.</p>

        <hr style="border:1px dashed #1976D2;">

        <h4>1. Part√≠culas Subat√≥micas (NIST 2025)</h4>
        <table class="table">
            <thead>
                <tr><th>Part√≠cula</th><th>S√≠mbolo</th><th>Carga (e)</th><th>Masa (u)</th><th>Ubicaci√≥n</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Prot√≥n</strong></td><td>p‚Å∫</td><td><strong>+1</strong></td><td><strong>1.007276</strong></td><td>N√∫cleo</td></tr>
                <tr><td><strong>Neutr√≥n</strong></td><td>n‚Å∞</td><td><strong>0</strong></td><td><strong>1.008665</strong></td><td>N√∫cleo</td></tr>
                <tr><td><strong>Electr√≥n</strong></td><td>e‚Åª</td><td><strong>-1</strong></td><td><strong>0.00054858</strong></td><td>Orbitales</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Carbono-12</strong>: 6p‚Å∫, 6n‚Å∞, 6e‚Åª ‚Üí <strong>Z=6</strong>, <strong>A=12</strong>, <strong>neutro</strong>.</p>
        </div>

        <div class="visual">
            <img src="assets/img/diagrama_atomico.gif" alt="Diagrama √°tomo">
            <p><em>Modelo din√°mico. Fuente: Universe Today.</em></p>
        </div>

        <hr style="border:1px dashed #1976D2;">

        <h4>2. N√∫meros At√≥micos y M√°sicos</h4>
        <ul>
            <li><strong>N√∫mero at√≥mico (Z):</strong> Protones ‚Üí define elemento</li>
            <li><strong>N√∫mero m√°sico (A):</strong> Protones + neutrones</li>
            <li><strong>Is√≥topos:</strong> Mismo Z, distinto A</li>
            <li><strong>Iones:</strong> Carga ‚â† 0</li>
        </ul>
        <p>Notaci√≥n: <sup>A</sup>X<sup>q</sup> ‚Üí Ej: <sup>12</sup>C, <sup>14</sup>C, <sup>12</sup>C‚Å∂‚Å∫</p>

        <div class="visual">
            <img src="assets/img/capas-atom.webp" alt="Capas electr√≥nicas">
            <p><em>Capas K, L, M. Fuente: Britannica.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/estructurada-detallada.png" alt="Estructura b√°sica">
            <p><em>Estructura detallada. Fuente: Vedantu.</em></p>
        </div>

        <hr style="border:1px dashed #1976D2;">

        <h4>3. N√∫meros Cu√°nticos</h4>
        <table class="table">
            <thead>
                <tr><th>N√∫mero</th><th>Nombre</th><th>Valores</th><th>Define</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>n</strong></td><td>Principal</td><td>1, 2, 3...</td><td>Tama√±o, energ√≠a</td></tr>
                <tr><td><strong>l</strong></td><td>Azimutal</td><td>0 a n-1</td><td>Forma (s, p, d, f)</td></tr>
                <tr><td><strong>m‚Çó</strong></td><td>Magn√©tico</td><td>-l a +l</td><td>Orientaci√≥n</td></tr>
                <tr><td><strong>m‚Çõ</strong></td><td>Esp√≠n</td><td>¬±¬Ω</td><td>Esp√≠n</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/formas-orbitales.webp" alt="Orbitales s, p, d">
            <p><em>Formas orbitales. Fuente: LibreTexts.</em></p>
        </div>

        <hr style="border:1px dashed #1976D2;">

        <h4>4. Configuraci√≥n Electr√≥nica (IUPAC)</h4>
        <p><strong>Orden de llenado:</strong> 1s ‚Üí 2s ‚Üí 2p ‚Üí 3s ‚Üí 3p ‚Üí 4s ‚Üí 3d ‚Üí 4p...</p>
        <p>Ejemplos:</p>
        <ul>
            <li><strong>H:</strong> 1s¬π</li>
            <li><strong>He:</strong> 1s¬≤</li>
            <li><strong>Li:</strong> 1s¬≤ 2s¬π</li>
            <li><strong>C:</strong> 1s¬≤ 2s¬≤ 2p¬≤</li>
            <li><strong>Fe:</strong> 1s¬≤ 2s¬≤ 2p‚Å∂ 3s¬≤ 3p‚Å∂ 4s¬≤ 3d‚Å∂</li>
        </ul>

        <hr style="border:1px dashed #1976D2;">

        <h4>5. SVG Animado: Estructura del √Åtomo de Carbono</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 700 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="700" height="500" fill="#E3F2FD"/>

                <!-- N√∫cleo -->
                <circle cx="350" cy="250" r="40" fill="#D32F2F" stroke="#B71C1C" stroke-width="4">
                    <animate attributeName="r" values="40;45;40" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="350" y="240" fill="white" font-size="14" text-anchor="middle" font-weight="bold">N√öCLEO</text>
                <text x="350" y="260" fill="#FFEBEE" font-size="12" text-anchor="middle">6p‚Å∫ 6n‚Å∞</text>

                <!-- Protones -->
                <g>
                    <circle cx="335" cy="235" r="8" fill="#FF5252">
                        <animate attributeName="opacity" values="0.5;1;0.5" dur="1.5s" repeatCount="indefinite"/>
                    </circle>
                    <text x="335" y="240" fill="white" font-size="8" text-anchor="middle">p‚Å∫</text>
                    <circle cx="365" cy="235" r="8" fill="#FF5252">
                        <animate attributeName="opacity" values="0.5;1;0.5" begin="0.3s" dur="1.5s" repeatCount="indefinite"/>
                    </circle>
                    <text x="365" y="240" fill="white" font-size="8" text-anchor="middle">p‚Å∫</text>
                    <circle cx="335" cy="265" r="8" fill="#FF5252">
                        <animate attributeName="opacity" values="0.5;1;0.5" begin="0.6s" dur="1.5s" repeatCount="indefinite"/>
                    </circle>
                    <text x="335" y="270" fill="white" font-size="8" text-anchor="middle">p‚Å∫</text>
                </g>

                <!-- Neutrones -->
                <g>
                    <circle cx="365" cy="265" r="8" fill="#9E9E9E">
                        <animate attributeName="opacity" values="0.5;1;0.5" begin="0.9s" dur="1.5s" repeatCount="indefinite"/>
                    </circle>
                    <text x="365" y="270" fill="white" font-size="8" text-anchor="middle">n‚Å∞</text>
                    <circle cx="350" cy="250" r="8" fill="#9E9E9E">
                        <animate attributeName="opacity" values="0.5;1;0.5" begin="1.2s" dur="1.5s" repeatCount="indefinite"/>
                    </circle>
                    <text x="350" y="255" fill="white" font-size="8" text-anchor="middle">n‚Å∞</text>
                </g>

                <!-- Capa K (1s) -->
                <ellipse cx="350" cy="250" rx="80" ry="80" fill="none" stroke="#1976D2" stroke-width="3" stroke-dasharray="5,5">
                    <animate attributeName="stroke-dashoffset" from="0" to="10" dur="2s" repeatCount="indefinite"/>
                </ellipse>
                <text x="350" y="160" fill="#0D47A1" font-size="14" text-anchor="middle">Capa K (n=1)</text>

                <!-- Capa L (2s, 2p) -->
                <ellipse cx="350" cy="250" rx="160" ry="160" fill="none" stroke="#43A047" stroke-width="3" stroke-dasharray="8,8">
                    <animate attributeName="stroke-dashoffset" from="0" to="16" dur="3s" repeatCount="indefinite"/>
                </ellipse>
                <text x="350" y="80" fill="#1B5E20" font-size="14" text-anchor="middle">Capa L (n=2)</text>

                <!-- Electrones 1s -->
                <g>
                    <circle r="6" fill="#1565C0">
                        <animateMotion path="M350,170 A80,80 0 1,1 350,330 A80,80 0 1,1 350,170" dur="2s" repeatCount="indefinite"/>
                    </circle>
                    <circle r="6" fill="#1565C0">
                        <animateMotion path="M350,170 A80,80 0 1,0 350,330 A80,80 0 1,0 350,170" dur="2s" begin="1s" repeatCount="indefinite"/>
                    </circle>
                </g>

                <!-- Electrones 2s -->
                <g>
                    <circle r="5" fill="#43A047">
                        <animateMotion path="M350,90 A160,160 0 1,1 350,410 A160,160 0 1,1 350,90" dur="3s" repeatCount="indefinite"/>
                    </circle>
                    <circle r="5" fill="#43A047">
                        <animateMotion path="M350,90 A160,160 0 1,0 350,410 A160,160 0 1,0 350,90" dur="3s" begin="1.5s" repeatCount="indefinite"/>
                    </circle>
                </g>

                <!-- Electrones 2p (orbitales p) -->
                <g>
                    <circle r="5" fill="#7B1FA2">
                        <animate attributeName="cx" values="190;510;190" dur="2.5s" repeatCount="indefinite"/>
                        <animate attributeName="cy" values="250;250;250" dur="2.5s" repeatCount="indefinite"/>
                    </circle>
                    <circle r="5" fill="#7B1FA2">
                        <animate attributeName="cx" values="190;510;190" dur="2.5s" begin="0.8s" repeatCount="indefinite"/>
                        <animate attributeName="cy" values="250;250;250" dur="2.5s" begin="0.8s" repeatCount="indefinite"/>
                    </circle>
                </g>

                <!-- Etiquetas -->
                <text x="350" y="450" fill="#0D47A1" font-size="16" text-anchor="middle">√Åtomo de Carbono (Z=6, A=12)</text>
                <text x="350" y="470" fill="#1565C0" font-size="14" text-anchor="middle">1s¬≤ 2s¬≤ 2p¬≤</text>

                <!-- Escala -->
                <text x="50" y="470" fill="#424242" font-size="12">N√∫cleo: 10‚Åª¬π‚Åµ m | √Åtomo: 10‚Åª¬π‚Å∞ m</text>
            </svg>
            <p><em>SVG Animado: Estructura del √°tomo de carbono con orbitales y movimiento electr√≥nico.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Partes del √°tomo', 'respuesta' => 'N√∫cleo (p‚Å∫, n‚Å∞), electrones'],
        ['enunciado' => 'N√∫mero at√≥mico Z', 'respuesta' => 'N√∫mero de protones'],
        ['enunciado' => 'Carga electr√≥n', 'respuesta' => '-1'],

        // === APLICADOS ===
        ['enunciado' => '√Åtomo neutro: e‚Åª =', 'respuesta' => 'Protones'],
        ['enunciado' => 'Is√≥topo: mismo Z, distinto', 'respuesta' => 'A (neutrones)'],
        ['enunciado' => 'Configuraci√≥n O (Z=8)', 'respuesta' => '1s¬≤ 2s¬≤ 2p‚Å¥'],

        // === CU√ÅNTICOS ===
        ['enunciado' => 'N√∫mero cu√°ntico n para capa M', 'respuesta' => '3'],
        ['enunciado' => 'Subnivel d: l =', 'respuesta' => '2'],
        ['enunciado' => 'm‚Çó para orbital p‚Çì', 'respuesta' => '+1 o -1'],

        // === AVANZADOS ===
        ['enunciado' => 'Masa electr√≥n (u)', 'respuesta' => '0.00054858'],
        ['enunciado' => 'F√≥rmula n√∫mero m√°sico', 'respuesta' => '\\(A = p^+ + n^0\\)'],
        ['enunciado' => 'NIST 2025 define prot√≥n masa', 'respuesta' => '1.007276 u']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => '√Åtomo tiene...', 'opciones' => ['p‚Å∫, n‚Å∞, e‚Åª', 'Solo p‚Å∫', 'Solo e‚Åª', 'Nada'], 'correcta' => 'p‚Å∫, n‚Å∞, e‚Åª'],
        ['pregunta' => 'N√∫cleo contiene...', 'opciones' => ['Protones y neutrones', 'Electrones', 'Nada', 'Mol√©culas'], 'correcta' => 'Protones y neutrones'],
        ['pregunta' => 'Carga prot√≥n', 'opciones' => ['+1', '-1', '0', 'Variable'], 'correcta' => '+1'],
        ['pregunta' => 'N√∫mero at√≥mico Z =', 'opciones' => ['Protones', 'Neutrones', 'Electrones', 'Masa'], 'correcta' => 'Protones'],
        ['pregunta' => 'Electrones est√°n en...', 'opciones' => ['Orbitales', 'N√∫cleo', 'Fuera', 'Nada'], 'correcta' => 'Orbitales'],
        ['pregunta' => '√Åtomo neutro: e‚Åª =', 'opciones' => ['p‚Å∫', 'n‚Å∞', 'A', 'Z'], 'correcta' => 'p‚Å∫'],
        ['preegunta' => 'Is√≥topos tienen mismo...', 'opciones' => ['Z', 'A', 'Masa', 'Carga'], 'correcta' => 'Z'],
        ['pregunta' => 'Capa K es n=', 'opciones' => ['1', '2', '3', '4'], 'correcta' => '1'],
        ['pregunta' => 'Subnivel s: l =', 'opciones' => ['0', '1', '2', '3'], 'correcta' => '0'],
        ['pregunta' => 'IUPAC define √°tomo como...', 'opciones' => ['Unidad qu√≠mica', 'Mol√©cula', 'I√≥n', 'Nada'], 'correcta' => 'Unidad qu√≠mica'],

        // === MEDIO (10) ===
        ['pregunta' => 'Configuraci√≥n Ne (Z=10)', 'opciones' => ['1s¬≤2s¬≤2p‚Å∂', '1s¬≤2s¬≤', '1s¬π0', '2p‚Å∂'], 'correcta' => '1s¬≤2s¬≤2p‚Å∂'],
        ['pregunta' => 'N√∫mero m√°sico A =', 'opciones' => ['p‚Å∫ + n‚Å∞', 'p‚Å∫ + e‚Åª', 'n‚Å∞ + e‚Åª', 'Solo p‚Å∫'], 'correcta' => 'p‚Å∫ + n‚Å∞'],
        ['pregunta' => 'Masa electr√≥n ‚âà', 'opciones' => ['1/1836 u', '1 u', '0 u', '2 u'], 'correcta' => '1/1836 u'],
        ['pregunta' => 'Capa L: n =', 'opciones' => ['2', '1', '3', '4'], 'correcta' => '2'],
        ['pregunta' => 'Subnivel p m√°x. electrones', 'opciones' => ['6', '2', '10', '14'], 'correcta' => '6'],
        ['pregunta' => 'm‚Çó para 2p', 'opciones' => ['-1,0,+1', '0,1', '-2 a +2', '¬±¬Ω'], 'correcta' => '-1,0,+1'],
        ['pregunta' => 'Principio Pauli', 'opciones' => ['No 2 e‚Åª mismos 4 n√∫meros', 'Mismo esp√≠n', 'Mismo n', 'Nada'], 'correcta' => 'No 2 e‚Åª mismos 4 n√∫meros'],
        ['pregunta' => 'NIST mide masa prot√≥n', 'opciones' => ['1.007276 u', '1.000000 u', '0.000548 u', '1.008665 u'], 'correcta' => '1.007276 u'],
        ['pregunta' => '√Åtomo H tiene...', 'opciones' => ['1p‚Å∫, 1e‚Åª', '1n‚Å∞', '2e‚Åª', '0p‚Å∫'], 'correcta' => '1p‚Å∫, 1e‚Åª'],
        ['pregunta' => 'C‚Å∂‚Å∫ tiene...', 'opciones' => ['0 e‚Åª', '6 e‚Åª', '12 e‚Åª', '1 e‚Åª'], 'correcta' => '0 e‚Åª'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'F√≥rmula A', 'opciones' => ['A = p‚Å∫ + n‚Å∞', 'A = Z + e‚Åª', 'A = Z', 'A = 0'], 'correcta' => 'A = p‚Å∫ + n‚Å∞'],
        ['pregunta' => '√Åtomo m√°s peque√±o', 'opciones' => ['H', 'He', 'Li', 'C'], 'correcta' => 'H'],
        ['pregunta' => 'Radio at√≥mico aumenta...', 'opciones' => ['‚Üì grupo, ‚Üí periodo', '‚Üë grupo, ‚Üí periodo', '‚Üì grupo, ‚Üê periodo', 'Nada'], 'correcta' => '‚Üì grupo, ‚Üí periodo'],
        ['pregunta' => 'Carga nuclear efectiva', 'opciones' => ['Z - œÉ', 'Z', 'A', 'n'], 'correcta' => 'Z - œÉ'],
        ['pregunta' => 'Configuraci√≥n Fe', 'opciones' => ['[Ar]4s¬≤3d‚Å∂', '[Ar]4s¬π3d‚Å∑', '[Ar]3d‚Å∏', '[Ne]3s¬≤3p‚Å∂'], 'correcta' => '[Ar]4s¬≤3d‚Å∂'],
        ['pregunta' => 'Excepci√≥n Cr', 'opciones' => ['4s¬π3d‚Åµ', '4s¬≤3d‚Å¥', '4s‚Å∞3d‚Å∂', '4s¬≥3d¬≥'], 'correcta' => '4s¬π3d‚Åµ'],
        ['pregunta' => 'IUPAC 2025 usa...', 'opciones' => ['Configuraci√≥n noble', 'Aufbau', 'Hund', 'Pauli'], 'correcta' => 'Configuraci√≥n noble'],
        ['pregunta' => '√Åtomo con m√°s is√≥topos estables', 'opciones' => ['Sn (10)', 'H (2)', 'He (1)', 'O (3)'], 'correcta' => 'Sn (10)'],
        ['pregunta' => 'Masa molar C-12 exacta', 'opciones' => ['12.000 u', '12.011 u', '13.000 u', '11.999 u'], 'correcta' => '12.000 u'],
        ['pregunta' => 'NIST define electr√≥n como...', 'opciones' => ['Part√≠cula elemental', 'Compuesta', 'Onda', 'Nada'], 'correcta' => 'Part√≠cula elemental']
    ]
];
// ========================================
// MATERIA: QU√çMICA I
// SUBTEMA: Radiaci√≥n (Electromagn√©tica, Ionizante vs No Ionizante, Espectro, Energ√≠a, Aplicaciones)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Qu√≠mica I',
    'slug' => 'radiacion',
    'titulo' => 'La Radiaci√≥n: Ondas de Energ√≠a que lo Cambian Todo',
    'contenido' => '
        <h3>¬øQu√© es la Radiaci√≥n?</h3>
        <p>La <strong>radiaci√≥n</strong> es la <strong>emisi√≥n o propagaci√≥n de energ√≠a</strong> en forma de <strong>ondas electromagn√©ticas</strong> o <strong>part√≠culas subat√≥micas</strong>. En qu√≠mica, nos enfocamos en la <strong>radiaci√≥n electromagn√©tica (EM)</strong>: ondas que viajan a la <strong>velocidad de la luz</strong> (\(c = 3.00 \times 10^8 \, \text{m/s}\)) en el vac√≠o.</p>

        <hr style="border:1px dashed #FF5722;">

        <h4>1. El Espectro Electromagn√©tico (NIST 2025)</h4>
        <table class="table">
            <thead>
                <tr><th>Tipo</th><th>Œª (m)</th><th>ŒΩ (Hz)</th><th>E (eV)</th><th>Ioniza</th><th>Uso</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Ondas Radio</strong></td><td>10¬≥ ‚Äì 10‚Åª¬≥</td><td>3√ó10‚Åµ ‚Äì 3√ó10‚Å∏</td><td><strong>10‚Åª‚Åπ ‚Äì 10‚Åª‚Å∂</strong></td><td>No</td><td>TV, radio</td></tr>
                <tr><td><strong>Microondas</strong></td><td>10‚Åª¬π ‚Äì 10‚Åª¬≥</td><td>3√ó10‚Åπ ‚Äì 3√ó10¬π¬π</td><td><strong>10‚Åª‚Åµ ‚Äì 10‚Åª¬≥</strong></td><td>No</td><td>WiFi, horno</td></tr>
                <tr><td><strong>Infrarrojo (IR)</strong></td><td>7√ó10‚Åª‚Å∑ ‚Äì 10‚Åª¬≥</td><td>3√ó10¬π¬π ‚Äì 4√ó10¬π‚Å¥</td><td><strong>0.001 ‚Äì 1.7</strong></td><td>No</td><td>Calor, IR</td></tr>
                <tr><td><strong>Visible</strong></td><td><strong>400‚Äì700 nm</strong></td><td>4.3‚Äì7.5√ó10¬π‚Å¥</td><td><strong>1.8 ‚Äì 3.1</strong></td><td>No</td><td>Visi√≥n</td></tr>
                <tr><td><strong>Ultravioleta (UV)</strong></td><td>10‚Åª‚Å∏ ‚Äì 4√ó10‚Åª‚Å∑</td><td>7.5√ó10¬π‚Å¥ ‚Äì 3√ó10¬π‚Å∂</td><td><strong>3.1 ‚Äì 124</strong></td><td>S√≠ (UV-C)</td><td>Esterilizaci√≥n</td></tr>
                <tr><td><strong>Rayos X</strong></td><td>10‚Åª¬π¬π ‚Äì 10‚Åª‚Å∏</td><td>3√ó10¬π‚Å∂ ‚Äì 3√ó10¬π‚Åπ</td><td><strong>124 ‚Äì 124,000</strong></td><td>S√≠</td><td>Diagn√≥stico</td></tr>
                <tr><td><strong>Rayos Gamma</strong></td><td>< 10‚Åª¬π¬π</td><td>> 3√ó10¬π‚Åπ</td><td><strong>> 124,000</strong></td><td>S√≠</td><td>C√°ncer, nuclear</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Luz roja</strong>: Œª = 650 nm ‚Üí ŒΩ = \( \frac{c}{\lambda} \) ‚Üí E = \( h\nu \) ‚âà <strong>1.9 eV</strong> (no ioniza). <strong>Rayos X</strong>: E ‚âà 10 keV ‚Üí rompe ADN.</p>
        </div>

        <div class="visual">
            <img src="assets/img/espectro-electromagnetico.png" alt="Espectro completo">
            <p><em>Espectro detallado. Fuente: MyNASAData.</em></p>
        </div>

        <hr style="border:1px dashed #FF5722;">

        <h4>2. Relaciones Fundamentales</h4>
        <p>\[
            c = \lambda \cdot \nu \quad \text{(velocidad = longitud √ó frecuencia)}
        \]</p>
        <p>\[
            E = h \cdot \nu = \frac{h c}{\lambda} \quad \text{(energ√≠a del fot√≥n)}
        \]</p>
        <p>\[
            E(\text{eV}) = \frac{1240}{\lambda (\text{nm})} \quad \text{(f√≥rmula pr√°ctica)}
        \]</p>

        <div class="visual">
            <img src="assets/img/espectro-electromagnetico.jpg" alt="CDC espectro">
            <p><em>Impacto en salud. Fuente: CDC.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/estandar-nist.png" alt="NIST gr√°fico">
            <p><em>Est√°ndar NIST 2025. Fuente: NIST.</em></p>
        </div>

        <hr style="border:1px dashed #FF5722;">

        <h4>3. Ionizante vs No Ionizante</h4>
        <table class="table">
            <thead>
                <tr><th>Tipo</th><th>Energ√≠a</th><th>Efecto Biol√≥gico</th><th>Ejemplos</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>No Ionizante</strong></td><td>< 10 eV</td><td>Calor, excitaci√≥n</td><td>Radio, IR, visible</td></tr>
                <tr><td><strong>Ionizante</strong></td><td>> 10 eV</td><td>Rompe enlaces, ADN</td><td>UV-C, X, gamma</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/ionizacion-molecular.gif" alt="EPA ionizaci√≥n">
            <p><em>Ionizaci√≥n molecular. Fuente: EPA.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/clasificacion-uv.gif" alt="WHO UV">
            <p><em>Clasificaci√≥n UV. Fuente: WHO.</em></p>
        </div>

        <hr style="border:1px dashed #FF5722;">

        <h4>4. Aplicaciones en Qu√≠mica</h4>
        <ul>
            <li><strong>IR:</strong> Espectroscop√≠a vibracional</li>
            <li><strong>UV-Vis:</strong> Transiciones electr√≥nicas</li>
            <li><strong>XRD:</strong> Estructura cristalina</li>
            <li><strong>NMR:</strong> Radiofrecuencia + campo magn√©tico</li>
        </ul>

        <hr style="border:1px dashed #FF5722;">

        <h4>5. SVG Animado: Espectro Electromagn√©tico Interactivo</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="800" height="500" fill="#FFF3E0"/>

                <!-- T√≠tulo -->
                <text x="400" y="50" fill="#E65100" font-size="32" text-anchor="middle" font-weight="bold">ESPECTRO ELECTROMAGN√âTICO</text>

                <!-- Gradiente espectral -->
                <defs>
                    <linearGradient id="spectrum" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" stop-color="#8B00FF"/> <!-- Gamma -->
                        <stop offset="15%" stop-color="#4B0082"/> <!-- Rayos X -->
                        <stop offset="30%" stop-color="#0000FF"/> <!-- UV -->
                        <stop offset="45%" stop-color="#00FF00"/> <!-- Verde -->
                        <stop offset="55%" stop-color="#FFFF00"/> <!-- Amarillo -->
                        <stop offset="65%" stop-color="#FFA500"/> <!-- Naranja -->
                        <stop offset="75%" stop-color="#FF0000"/> <!-- Rojo -->
                        <stop offset="85%" stop-color="#8B4513"/> <!-- IR -->
                        <stop offset="95%" stop-color="#000000"/> <!-- Microondas -->
                        <stop offset="100%" stop-color="#808080"/> <!-- Radio -->
                    </linearGradient>
                </defs>
                <rect x="50" y="100" width="700" height="80" fill="url(#spectrum)" rx="15"/>

                <!-- Etiquetas -->
                <text x="60" y="90" fill="white" font-size="12" font-weight="bold">Gamma</text>
                <text x="160" y="90" fill="white" font-size="12">Rayos X</text>
                <text x="250" y="90" fill="white" font-size="12">UV</text>
                <text x="350" y="90" fill="white" font-size="12">Visible</text>
                <text x="480" y="90" fill="white" font-size="12">IR</text>
                <text x="580" y="90" fill="white" font-size="12">Microondas</text>
                <text x="680" y="90" fill="white" font-size="12">Radio</text>

                <!-- Onda animada -->
                <path d="M50,250 Q100,220 150,250 T250,250 T350,250 T450,250 T550,250 T650,250 T750,250" 
                      stroke="#E65100" stroke-width="4" fill="none">
                    <animate attributeName="d" 
                             values="M50,250 Q100,220 150,250 T250,250 T350,250 T450,250 T550,250 T650,250 T750,250;
                                     M50,250 Q100,280 150,250 T250,250 T350,250 T450,250 T550,250 T650,250 T750,250;
                                     M50,250 Q100,220 150,250 T250,250 T350,250 T450,250 T550,250 T650,250 T750,250" 
                             dur="3s" repeatCount="indefinite"/>
                </path>
                <text x="400" y="300" fill="#E65100" font-size="20" text-anchor="middle">Œª ‚Üì ‚Üí ŒΩ ‚Üë ‚Üí E ‚Üë</text>

                <!-- Fot√≥n ejemplo -->
                <circle cx="400" cy="350" r="15" fill="#FFD600" stroke="#F57F17" stroke-width="3">
                    <animate attributeName="r" values="15;20;15" dur="1s" repeatCount="indefinite"/>
                </circle>
                <text x="400" y="355" fill="#212121" font-size="10" text-anchor="middle">Fot√≥n</text>
                <text x="400" y="375" fill="#212121" font-size="10" text-anchor="middle">E = hŒΩ</text>

                <!-- F√≥rmulas -->
                <text x="100" y="420" fill="#E65100" font-size="16">c = ŒªŒΩ</text>
                <text x="300" y="420" fill="#E65100" font-size="16">E = 1240 / Œª(nm) eV</text>
                <text x="550" y="420" fill="#E65100" font-size="16">h = 4.1357√ó10‚Åª¬π‚Åµ eV¬∑s</text>

                <!-- Ionizaci√≥n -->
                <rect x="50" y="190" width="200" height="30" fill="#B71C1C" rx="10" opacity="0.8"/>
                <text x="150" y="210" fill="white" font-size="14" text-anchor="middle">IONIZANTE (>10 eV)</text>
            </svg>
            <p><em>SVG Animado: Espectro con onda, fot√≥n y f√≥rmulas clave.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Tipos de radiaci√≥n EM', 'respuesta' => 'Radio, microondas, IR, visible, UV, X, gamma'],
        ['enunciado' => 'Ionizante ejemplo', 'respuesta' => 'Rayos gamma'],
        ['enunciado' => 'Velocidad EM en vac√≠o', 'respuesta' => '3.00√ó10‚Å∏ m/s'],

        // === APLICADOS ===
        ['enunciado' => 'Œª = 500 nm ‚Üí E (eV)', 'respuesta' => '2.48 eV'],
        ['enunciado' => 'Microondas ŒΩ = 2.45 GHz ‚Üí Œª', 'respuesta' => '0.122 m'],
        ['enunciado' => 'Rayos X t√≠picos E', 'respuesta' => '10‚Äì100 keV'],

        // === F√çSICO-QU√çMICOS ===
        ['enunciado' => 'Constante h (eV¬∑s)', 'respuesta' => '4.1357√ó10‚Åª¬π‚Åµ'],
        ['enunciado' => 'F√≥rmula E en eV', 'respuesta' => '\\(E = \\frac{1240}{\\lambda (\\text{nm})}\\)',],
        ['enunciado' => 'L√≠mite ionizaci√≥n', 'respuesta' => '‚âà10 eV'],

        // === AVANZADOS ===
        ['enunciado' => 'UV-C Œª rango', 'respuesta' => '100‚Äì280 nm'],
        ['enunciado' => 'NMR usa frecuencia', 'respuesta' => 'Radiofrecuencia (MHz)'],
        ['enunciado' => 'NIST 2025 define c como', 'respuesta' => '299792458 m/s exacto']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Radiaci√≥n EM viaja a...', 'opciones' => ['c = 3√ó10‚Å∏ m/s', 'Velocidad sonido', 'Lento', 'Nada'], 'correcta' => 'c = 3√ó10‚Å∏ m/s'],
        ['pregunta' => 'No ionizante ejemplo', 'opciones' => ['Microondas', 'Gamma', 'Alfa', 'Beta'], 'correcta' => 'Microondas'],
        ['pregunta' => 'Ionizante rompe...', 'opciones' => ['Enlaces qu√≠micos', 'Solo calor', 'Nada', 'Color'], 'correcta' => 'Enlaces qu√≠micos'],
        ['pregunta' => 'Luz visible Œª', 'opciones' => ['400‚Äì700 nm', '100‚Äì400 nm', '700‚Äì1000 nm', '1 mm'], 'correcta' => '400‚Äì700 nm'],
        ['pregunta' => 'Energ√≠a aumenta con...', 'opciones' => ['Frecuencia ‚Üë', 'Frecuencia ‚Üì', 'Œª ‚Üë', 'Nada'], 'correcta' => 'Frecuencia ‚Üë'],
        ['pregunta' => 'Rayos X usados en...', 'opciones' => ['Diagn√≥stico m√©dico', 'Cocina', 'TV', 'Radio'], 'correcta' => 'Diagn√≥stico m√©dico'],
        ['pregunta' => 'IR detecta...', 'opciones' => ['Vibraciones moleculares', 'Electrones', 'N√∫cleo', 'Nada'], 'correcta' => 'Vibraciones moleculares'],
        ['pregunta' => 'UV-C es...', 'opciones' => ['Ionizante', 'No ionizante', 'Visible', 'Radio'], 'correcta' => 'Ionizante'],
        ['pregunta' => 'h es constante de...', 'opciones' => ['Planck', 'Boltzmann', 'Avogadro', 'Faraday'], 'correcta' => 'Planck'],
        ['pregunta' => 'c = ŒªŒΩ significa...', 'opciones' => ['Velocidad = Œª √ó ŒΩ', 'Œª = c/ŒΩ', 'E = hŒª', 'Nada'], 'correcta' => 'Velocidad = Œª √ó ŒΩ'],

        // === MEDIO (10) ===
        ['pregunta' => 'E = 1240 / Œª(nm) da E en...', 'opciones' => ['eV', 'J', 'kcal', 'Hz'], 'correcta' => 'eV'],
        ['pregunta' => 'Œª = 600 nm ‚Üí E =', 'opciones' => ['2.07 eV', '1.24 eV', '3.10 eV', '0.01 eV'], 'correcta' => '2.07 eV'],
        ['pregunta' => 'Microondas horno: ŒΩ ‚âà', 'opciones' => ['2.45 GHz', '2.45 MHz', '2.45 THz', '2.45 kHz'], 'correcta' => '2.45 GHz'],
        ['pregunta' => 'Rayos gamma E t√≠pica', 'opciones' => ['>100 keV', '<1 eV', '1‚Äì10 eV', '10‚Äì100 eV'], 'correcta' => '>100 keV'],
        ['pregunta' => 'UV-A penetra...', 'opciones' => ['Piel profunda', 'Solo superficie', 'No penetra', 'Ojo'], 'correcta' => 'Piel profunda'],
        ['pregunta' => 'NMR usa...', 'opciones' => ['Radiofrecuencia', 'Rayos X', 'Gamma', 'IR'], 'correcta' => 'Radiofrecuencia'],
        ['pregunta' => 'Espectroscop√≠a IR mide...', 'opciones' => ['Enlaces', 'Electrones', 'N√∫cleo', 'Masa'], 'correcta' => 'Enlaces'],
        ['pregunta' => 'Fot√≥n es...', 'opciones' => ['Paquete de energ√≠a EM', 'Part√≠cula cargada', 'Mol√©cula', 'Nada'], 'correcta' => 'Paquete de energ√≠a EM'],
        ['pregunta' => 'c es constante en...', 'opciones' => ['Vac√≠o', 'Agua', 'Aire', 'Vidrio'], 'correcta' => 'Vac√≠o'],
        ['pregunta' => 'WHO clasifica UV en...', 'opciones' => ['A, B, C', '1, 2, 3', 'X, Y, Z', 'Alpha, Beta'], 'correcta' => 'A, B, C'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'F√≥rmula E en eV', 'opciones' => ['E = 1240 / Œª(nm)', 'E = Œª / 1240', 'E = hŒª', 'E = c/Œª'], 'correcta' => 'E = 1240 / Œª(nm)'],
        ['pregunta' => 'Œª = 100 nm ‚Üí E =', 'opciones' => ['12.4 eV', '1.24 eV', '124 eV', '0.1 eV'], 'correcta' => '12.4 eV'],
        ['pregunta' => 'h en J¬∑s', 'opciones' => ['6.626√ó10‚Åª¬≥‚Å¥', '4.135√ó10‚Åª¬π‚Åµ', '3√ó10‚Å∏', '1.38√ó10‚Åª¬≤¬≥'], 'correcta' => '6.626√ó10‚Åª¬≥‚Å¥'],
        ['pregunta' => 'L√≠mite ionizaci√≥n ‚âà', 'opciones' => ['10 eV', '1 eV', '100 eV', '1000 eV'], 'correcta' => '10 eV'],
        ['pregunta' => 'Rayos X blandos E', 'opciones' => ['<10 keV', '>100 keV', '1‚Äì10 eV', '10‚Äì100 eV'], 'correcta' => '<10 keV'],
        ['pregunta' => 'Efecto Compton ocurre con...', 'opciones' => ['Rayos X', 'IR', 'Radio', 'Visible'], 'correcta' => 'Rayos X'],
        ['pregunta' => 'NIST define c como...', 'opciones' => ['299792458 m/s exacto', 'Aproximado', 'Variable', 'Desconocido'], 'correcta' => '299792458 m/s exacto'],
        ['pregunta' => 'Radiaci√≥n m√°s penetrante', 'opciones' => ['Gamma', 'Alfa', 'Beta', 'UV'], 'correcta' => 'Gamma'],
        ['pregunta' => 'UV-B causa...', 'opciones' => ['Quemaduras solares', 'Calor', 'Visi√≥n', 'Sonido'], 'correcta' => 'Quemaduras solares'],
        ['pregunta' => 'Meta CDC 2030: reducir exposici√≥n...', 'opciones' => ['UV innecesaria 50%', '100%', '0%', '10%'], 'correcta' => 'UV innecesaria 50%']
    ]
];
// ========================================
// MATERIA: QU√çMICA I
// SUBTEMA: Gases T√≥xicos (CO, SO‚ÇÇ, NO‚Çì, H‚ÇÇS, Cl‚ÇÇ, NH‚ÇÉ, VOCs, Efectos, PEL, Prevenci√≥n)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Qu√≠mica I',
    'slug' => 'gases-toxicos',
    'titulo' => 'Gases T√≥xicos: Enemigos Invisibles del Aire que Respiramos',
    'contenido' => '
        <h3>¬øQu√© son los Gases T√≥xicos?</h3>
        <p>Los <strong>gases t√≥xicos</strong> son <strong>sustancias gaseosas</strong> que, al inhalarse, causan <strong>da√±o agudo o cr√≥nico</strong> a la salud humana, animal o al medio ambiente. Pueden ser <strong>asfixiantes, irritantes, corrosivos o cancer√≠genos</strong>. Seg√∫n la <strong>OMS (2025)</strong>, causan <strong>7 millones de muertes/a√±o</strong> por contaminaci√≥n.</p>

        <hr style="border:1px dashed #D32F2F;">

        <h4>1. Principales Gases T√≥xicos</h4>
        <table class="table">
            <thead>
                <tr><th>Gas</th><th>F√≥rmula</th><th>Fuente</th><th>Efecto</th><th>PEL (OSHA)</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Mon√≥xido de Carbono</strong></td><td>CO</td><td>Combusti√≥n incompleta</td><td>Asfixia (une Hb)</td><td><strong>50 ppm</strong></td></tr>
                <tr><td><strong>Di√≥xido de Azufre</strong></td><td>SO‚ÇÇ</td><td>Volcanes, carb√≥n</td><td>Irritaci√≥n, lluvia √°cida</td><td><strong>5 ppm</strong></td></tr>
                <tr><td><strong>√ìxidos de Nitr√≥geno</strong></td><td>NO‚Çì</td><td>Veh√≠culos, industria</td><td>Smog, edema pulmonar</td><td><strong>NO‚ÇÇ: 5 ppm</strong></td></tr>
                <tr><td><strong>Sulfh√≠drico</strong></td><td>H‚ÇÇS</td><td>Petr√≥leo, alcantarillas</td><td>"Huevo podrido", letal</td><td><strong>20 ppm</strong></td></tr>
                <tr><td><strong>Cloro</strong></td><td>Cl‚ÇÇ</td><td>Desinfecci√≥n</td><td>Irritante, pulmones</td><td><strong>1 ppm</strong></td></tr>
                <tr><td><strong>Amon√≠aco</strong></td><td>NH‚ÇÉ</td><td>Fertilizantes</td><td>Irritante, ojos</td><td><strong>50 ppm</strong></td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>CO</strong> ‚Üí se une a hemoglobina <strong>250 veces m√°s que O‚ÇÇ</strong> ‚Üí forma <strong>carboxihemoglobina</strong> ‚Üí <strong>hipoxia cerebral</strong> ‚Üí muerte.</p>
        </div>

        <div class="visual">
            <img src="assets/img/efectos-organos.png" alt="Impacto salud">
            <p><em>Efectos en √≥rganos. Fuente: ResearchGate.</em></p>
        </div>

        <hr style="border:1px dashed #D32F2F;">

        <h4>2. Efectos Agudos vs Cr√≥nicos</h4>
        <table class="table">
            <thead>
                <tr><th>Tipo</th><th>Ejemplo</th><th>S√≠ntomas</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Agudo</strong></td><td>H‚ÇÇS > 500 ppm</td><td>Paro respiratorio inmediato</td></tr>
                <tr><td><strong>Cr√≥nico</strong></td><td>SO‚ÇÇ bajo nivel</td><td>Asma, bronquitis</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/health_risks_diagram.gif" alt="Riesgos">
            <p><em>Diagrama de riesgos. Fuente: IDEM.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/agudo-cronico.jpg" alt="Efectos agudos/cronicos">
            <p><em>Agudo vs cr√≥nico. Fuente: ResearchGate.</em></p>
        </div>

        <hr style="border:1px dashed #D32F2F;">

        <h4>3. L√≠mites Permisibles (PEL ‚Äì OSHA 2025)</h4>
        <ul>
            <li><strong>PEL:</strong> Concentraci√≥n m√°xima permitida (8h/d√≠a)</li>
            <li><strong>STEL:</strong> Exposici√≥n corta (15 min)</li>
            <li><strong>IDLH:</strong> Inmediatamente peligrosa</li>
        </ul>

        <div class="visual">
            <img src="assets/img/osha.jpg" alt="OSHA tabla">
            <p><em>Tabla oficial OSHA. Fuente: OSHA.gov.</em></p>
        </div>

        <hr style="border:1px dashed #D32F2F;">

        <h4>4. Prevenci√≥n y Control</h4>
        <ul>
            <li><strong>Monitores de gas</strong> (CO, H‚ÇÇS)</li>
            <li><strong>Ventilaci√≥n forzada</strong></li>
            <li><strong>Catalizadores</strong> (veh√≠culos)</li>
            <li><strong>Desulfuraci√≥n</strong> (SO‚ÇÇ)</li>
            <li><strong>SCR</strong> (NO‚Çì)</li>
        </ul>

        <hr style="border:1px dashed #D32F2F;">

        <h4>5. SVG Animado: Efecto del CO en la Sangre</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 700 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="700" height="500" fill="#FFEBEE"/>

                <!-- T√≠tulo -->
                <text x="350" y="50" fill="#B71C1C" font-size="28" text-anchor="middle" font-weight="bold">CO: ASESINO SILENCIOSO</text>

                <!-- Pulm√≥n -->
                <ellipse cx="150" cy="200" rx="80" ry="100" fill="#E57373" stroke="#B71C1C" stroke-width="3"/>
                <text x="150" y="180" fill="#B71C1C" font-size="16" text-anchor="middle">Pulm√≥n</text>
                <text x="150" y="220" fill="#212121" font-size="12" text-anchor="middle">Inhala CO</text>

                <!-- Sangre -->
                <rect x="250" y="150" width="200" height="200" fill="#90CAF9" rx="20"/>
                <text x="350" y="140" fill="#0D47A1" font-size="16" text-anchor="middle">Sangre</text>

                <!-- Hemoglobina normal -->
                <circle cx="300" cy="220" r="25" fill="#4CAF50">
                    <animate attributeName="r" values="25;30;25" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="300" y="225" fill="white" font-size="10" text-anchor="middle">Hb + O‚ÇÇ</text>

                <!-- CO entra -->
                <circle cx="200" cy="250" r="15" fill="#B71C1C">
                    <animateMotion path="M200,250 L300,250" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="200" y="240" fill="white" font-size="8" text-anchor="middle">CO</text>

                <!-- Hb + CO -->
                <circle cx="400" cy="280" r="30" fill="#B71C1C">
                    <animate attributeName="r" values="30;35;30" begin="2s" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="400" y="285" fill="white" font-size="10" text-anchor="middle">HbCO</text>

                <!-- Cerebro sin O‚ÇÇ -->
                <path d="M500,200 Q550,180 600,200 Q550,220 500,200" fill="#B71C1C" opacity="0.3"/>
                <text x="550" y="200" fill="#B71C1C" font-size="16" text-anchor="middle">Cerebro</text>
                <text x="550" y="230" fill="#B71C1C" font-size="12" text-anchor="middle">¬°Falta O‚ÇÇ!</text>

                <!-- Flechas -->
                <path d="M230 200 L250 200" stroke="#B71C1C" stroke-width="4" marker-end="url(#arrow)"/>
                <path d="M450 250 L480 230" stroke="#B71C1C" stroke-width="4" marker-end="url(#arrow)"/>

                <defs>
                    <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="5" orient="auto">
                        <path d="M0,0 L0,10 L10,5 z" fill="#B71C1C"/>
                    </marker>
                </defs>

                <!-- Leyenda -->
                <text x="350" y="400" fill="#B71C1C" font-size="14" text-anchor="middle">CO une Hb 250√ó m√°s que O‚ÇÇ</text>
                <text x="350" y="430" fill="#212121" font-size="12" text-anchor="middle">PEL OSHA: 50 ppm (8h)</text>
            </svg>
            <p><em>SVG Animado: Mecanismo de intoxicaci√≥n por CO.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Ejemplo gas t√≥xico', 'respuesta' => 'CO, SO‚ÇÇ, NO‚Çì'],
        ['enunciado' => 'Efecto CO', 'respuesta' => 'Asfixia, une hemoglobina'],
        ['enunciado' => 'Fuentes comunes', 'respuesta' => 'Veh√≠culos, industria, quema'],

        // === APLICADOS ===
        ['enunciado' => 'PEL OSHA para CO', 'respuesta' => '50 ppm'],
        ['enunciado' => 'H‚ÇÇS huele a', 'respuesta' => 'Huevo podrido'],
        ['enunciado' => 'NO‚Çì causa', 'respuesta' => 'Smog fotoqu√≠mico'],

        // === QU√çMICOS ===
        ['enunciado' => 'Reacci√≥n CO + Hb', 'respuesta' => 'HbCO (carboxihemoglobina)'],
        ['enunciado' => 'SO‚ÇÇ + H‚ÇÇO ‚Üí', 'respuesta' => 'H‚ÇÇSO‚ÇÉ (√°cido sulfuroso)'],
        ['enunciado' => 'Cl‚ÇÇ en agua ‚Üí', 'respuesta' => 'HCl + HOCl'],

        // === AVANZADOS ===
        ['enunciado' => 'IDLH para H‚ÇÇS', 'respuesta' => '100 ppm'],
        ['enunciado' => 'OMS 2025: muertes/a√±o por aire', 'respuesta' => '7 millones'],
        ['enunciado' => 'SCR elimina', 'respuesta' => 'NO‚Çì (reducci√≥n catal√≠tica selectiva)']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'CO es...', 'opciones' => ['Inodoro, letal', 'Oloroso', 'Seguro', 'L√≠quido'], 'correcta' => 'Inodoro, letal'],
        ['pregunta' => 'SO‚ÇÇ causa...', 'opciones' => ['Lluvia √°cida', 'Calor', 'Luz', 'Sonido'], 'correcta' => 'Lluvia √°cida'],
        ['pregunta' => 'NO‚Çì forma...', 'opciones' => ['Smog', 'Ozono bueno', 'Agua', 'Nada'], 'correcta' => 'Smog'],
        ['pregunta' => 'H‚ÇÇS huele a...', 'opciones' => ['Huevo podrido', 'Flor', 'Dulce', 'Nada'], 'correcta' => 'Huevo podrido'],
        ['pregunta' => 'Cl‚ÇÇ es...', 'opciones' => ['Gas verde amarillento', 'L√≠quido', 'S√≥lido', 'Blanco'], 'correcta' => 'Gas verde amarillento'],
        ['pregunta' => 'PEL significa...', 'opciones' => ['L√≠mite permisible', 'Peligro extremo', 'Nada', 'Todo'], 'correcta' => 'L√≠mite permisible'],
        ['pregunta' => 'CO une Hb...', 'opciones' => ['250√ó m√°s que O‚ÇÇ', 'Igual', 'Menos', 'Nada'], 'correcta' => '250√ó m√°s que O‚ÇÇ'],
        ['pregunta' => 'Prevenci√≥n clave', 'opciones' => ['Ventilaci√≥n', 'Cerrar ventanas', 'Ignorar', 'Calor'], 'correcta' => 'Ventilaci√≥n'],
        ['pregunta' => 'Monitores detectan...', 'opciones' => ['CO, H‚ÇÇS', 'Solo O‚ÇÇ', 'Nada', 'Luz'], 'correcta' => 'CO, H‚ÇÇS'],
        ['pregunta' => 'OMS dice causa...', 'opciones' => ['7M muertes/a√±o', '0', '1M', '100M'], 'correcta' => '7M muertes/a√±o'],

        // === MEDIO (10) ===
        ['pregunta' => 'PEL CO (OSHA)', 'opciones' => ['50 ppm', '500 ppm', '5 ppm', '0 ppm'], 'correcta' => '50 ppm'],
        ['pregunta' => 'IDLH H‚ÇÇS', 'opciones' => ['100 ppm', '10 ppm', '1000 ppm', '1 ppm'], 'correcta' => '100 ppm'],
        ['pregunta' => 'SO‚ÇÇ + H‚ÇÇO ‚Üí', 'opciones' => ['H‚ÇÇSO‚ÇÉ', 'H‚ÇÇSO‚ÇÑ', 'SO‚ÇÉ', 'H‚ÇÇS'], 'correcta' => 'H‚ÇÇSO‚ÇÉ'],
        ['pregunta' => 'Catalizador autos reduce...', 'opciones' => ['CO, NO‚Çì', 'Solo O‚ÇÇ', 'CO‚ÇÇ', 'H‚ÇÇO'], 'correcta' => 'CO, NO‚Çì'],
        ['pregunta' => 'NH‚ÇÉ irrita...', 'opciones' => ['Ojos, v√≠as respiratorias', 'Piel solo', 'O√≠dos', 'Nada'], 'correcta' => 'Ojos, v√≠as respiratorias'],
        ['pregunta' => 'SCR es para...', 'opciones' => ['NO‚Çì', 'SO‚ÇÇ', 'CO', 'H‚ÇÇS'], 'correcta' => 'NO‚Çì'],
        ['pregunta' => 'Desulfuraci√≥n elimina...', 'opciones' => ['SO‚ÇÇ', 'NO‚ÇÇ', 'CO', 'CH‚ÇÑ'], 'correcta' => 'SO‚ÇÇ'],
        ['pregunta' => 'VOCs son...', 'opciones' => ['Compuestos org√°nicos vol√°tiles', 'Gases nobles', 'Metales', '√Åcidos'], 'correcta' => 'Compuestos org√°nicos vol√°tiles'],
        ['pregunta' => 'Efecto cr√≥nico SO‚ÇÇ', 'opciones' => ['Asma', 'Dolor cabeza', 'Sue√±o', 'Hambre'], 'correcta' => 'Asma'],
        ['pregunta' => 'EPA regula...', 'opciones' => ['Aire exterior', 'Solo interior', 'Agua', 'Suelo'], 'correcta' => 'Aire exterior'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'Reacci√≥n Hb + CO', 'opciones' => ['HbCO', 'HbO‚ÇÇ', 'HbN', 'HbH'], 'correcta' => 'HbCO'],
        ['pregunta' => 'Concentraci√≥n letal H‚ÇÇS', 'opciones' => ['>500 ppm', '<50 ppm', '100 ppm', '0 ppm'], 'correcta' => '>500 ppm'],
        ['pregunta' => 'STEL para Cl‚ÇÇ', 'opciones' => ['3 ppm (15 min)', '1 ppm', '10 ppm', '0 ppm'], 'correcta' => '3 ppm (15 min)'],
        ['pregunta' => 'NO‚ÇÇ color', 'opciones' => ['Marr√≥n rojizo', 'Verde', 'Azul', 'Transparente'], 'correcta' => 'Marr√≥n rojizo'],
        ['pregunta' => 'Meta EPA 2030: reducir CO en...', 'opciones' => ['Ciudades 30%', '0%', '100%', '10%'], 'correcta' => 'Ciudades 30%'],
        ['pregunta' => 'F√≥rmula lluvia √°cida', 'opciones' => ['SO‚ÇÇ + H‚ÇÇO ‚Üí H‚ÇÇSO‚ÇÉ', 'CO‚ÇÇ + H‚ÇÇO ‚Üí H‚ÇÇCO‚ÇÉ', 'NO‚ÇÇ + H‚ÇÇO ‚Üí HNOÔøΩ3', 'Todas'], 'correcta' => 'Todas'],
        ['pregunta' => 'Gas m√°s t√≥xico com√∫n', 'opciones' => ['H‚ÇÇS', 'CO', 'SO‚ÇÇ', 'NH‚ÇÉ'], 'correcta' => 'H‚ÇÇS'],
        ['pregunta' => 'OSHA exige monitor para...', 'opciones' => ['Espacios confinados', 'Oficinas', 'Parques', 'Playas'], 'correcta' => 'Espacios confinados'],
        ['pregunta' => 'NH‚ÇÉ + HCl ‚Üí', 'opciones' => ['NH‚ÇÑCl (humo blanco)', 'NH‚ÇÉCl', 'HCl‚ÇÇ', 'Nada'], 'correcta' => 'NH‚ÇÑCl (humo blanco)'],
        ['pregunta' => 'OMS 2025: principal fuente urbana', 'opciones' => ['Veh√≠culos (NO‚Çì, CO)', 'Volcanes', 'Oc√©anos', 'Bosques'], 'correcta' => 'Veh√≠culos (NO‚Çì, CO)']
    ]
];
// ========================================
// MATERIA: QU√çMICA I
// SUBTEMA: Ondas (Mec√°nicas, Electromagn√©ticas, Propiedades, Interferencia, Aplicaciones)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Qu√≠mica I',
    'slug' => 'ondas',
    'titulo' => 'Ondas: La Danza de la Energ√≠a a Trav√©s del Espacio',
    'contenido' => '
        <h3>¬øQu√© son las Ondas?</h3>
        <p>Las <strong>ondas</strong> son <strong>perturbaciones peri√≥dicas</strong> que <strong>transfieren energ√≠a</strong> sin transportar materia. Se clasifican en:</p>
        <ul>
            <li><strong>Mec√°nicas:</strong> Necesitan medio (agua, aire, s√≥lidos)</li>
            <li><strong>Electromagn√©ticas:</strong> Viajan en vac√≠o (luz, radio, rayos X)</li>
        </ul>

        <hr style="border:1px dashed #1976D2;">

        <h4>1. Clasificaci√≥n de Ondas</h4>
        <table class="table">
            <thead>
                <tr><th>Tipo</th><th>Medio</th><th>Ejemplo</th><th>Vibraci√≥n</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Mec√°nica Transversal</strong></td><td>S√≠</td><td>Cuerda, luz polarizada</td><td>Perpendicular</td></tr>
                <tr><td><strong>Mec√°nica Longitudinal</strong></td><td>S√≠</td><td>Sonido, ondas P</td><td>Paralela</td></tr>
                <tr><td><strong>Electromagn√©tica</strong></td><td>No</td><td>Luz, microondas</td><td>Transversal (E ‚ä• B)</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Sonido</strong> ‚Üí onda longitudinal ‚Üí compresiones/rarefacciones en aire ‚Üí v ‚âà <strong>343 m/s</strong> (20¬∞C).</p>
        </div>

  <div class="visual">
            <img src="assets/img/Types-of-Waves.jpg" alt="Tipos de ondas">
            <p><em>Clasificaci√≥n visual. Fuente: Science Facts.</em></p>
        </div>

        <hr style="border:1px dashed #1976D2;">

        <h4>2. Caracter√≠sticas de las Ondas</h4>
        <table class="table">
            <thead>
                <tr><th>Propiedad</th><th>S√≠mbolo</th><th>Unidad</th><th>Relaci√≥n</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Amplitud</strong></td><td>A</td><td>m</td><td>E ‚àù A¬≤</td></tr>
                <tr><td><strong>Longitud de onda</strong></td><td>Œª</td><td>m</td><td>Distancia cresta-cresta</td></tr>
                <tr><td><strong>Frecuencia</strong></td><td>f o ŒΩ</td><td>Hz</td><td>Ciclos/segundo</td></tr>
                <tr><td><strong>Velocidad</strong></td><td>v</td><td>m/s</td><td><strong>v = f ¬∑ Œª</strong></td></tr>
                <tr><td><strong>Periodo</strong></td><td>T</td><td>s</td><td>T = 1/f</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="/assets/img/Types-of-Waves-2.png" alt="Transversal vs Longitudinal">
            <p><em>Transversal vs Longitudinal. Fuente: BYJU\'S.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/tipos-ondas.jpg" alt="Tipos de ondas">
            <p><em>Resumen gr√°fico. Fuente: KORMAX.</em></p>
        </div>

        <hr style="border:1px dashed #1976D2;">

        <h4>3. F√≥rmulas Clave</h4>
        <p>\[
            v = f \cdot \lambda \quad \text{(velocidad = frecuencia √ó longitud de onda)}
        \]</p>
        <p>\[
            E = h \cdot f = \frac{h c}{\lambda} \quad \text{(energ√≠a del fot√≥n, EM)}
        \]</p>
        <p>\[
            I \propto A^2 \quad \text{(intensidad ‚àù amplitud¬≤)}
        \]</p>

        <hr style="border:1px dashed #1976D2;">

        <h4>4. Fen√≥menos Ondulatorios</h4>
        <ul>
            <li><strong>Reflexi√≥n:</strong> Rebote (eco, espejo)</li>
            <li><strong>Refracci√≥n:</strong> Cambio velocidad (lente)</li>
            <li><strong>Difracci√≥n:</strong> Curvatura en obst√°culos</li>
            <li><strong>Interferencia:</strong> Constructiva (m√°s fuerte), destructiva (silencio)</li>
            <li><strong>Polarizaci√≥n:</strong> Solo EM transversales</li>
        </ul>

        <div class="visual">
            <img src="assets/img/interferencia.gif" alt="Interferencia">
            <p><em>Interferencia constructiva/destructiva. Fuente: Physics Classroom.</em></p>
        </div>

        <hr style="border:1px dashed #1976D2;">

        <h4>5. SVG Animado: Onda Transversal + Longitudinal</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="800" height="500" fill="#E8F5E9"/>

                <!-- T√≠tulo -->
                <text x="400" y="50" fill="#1B5E20" font-size="32" text-anchor="middle" font-weight="bold">ONDAS: TRANSVERSAL Y LONGITUDINAL</text>

                <!-- Onda Transversal -->
                <g transform="translate(50,100)">
                    <text x="150" y="-10" fill="#1565C0" font-size="18" text-anchor="middle">Transversal (‚ä•)</text>
                    <path id="transversal" d="M0,100 Q50,50 100,100 T200,100 T300,100 T400,100" 
                          stroke="#1565C0" stroke-width="4" fill="none"/>
                    <animate href="#transversal" attributeName="d" 
                             values="M0,100 Q50,50 100,100 T200,100 T300,100 T400,100;
                                     M0,100 Q50,150 100,100 T200,100 T300,100 T400,100;
                                     M0,100 Q50,50 100,100 T200,100 T300,100 T400,100" 
                             dur="2s" repeatCount="indefinite"/>
                    <!-- Part√≠cula oscilando -->
                    <circle r="8" fill="#1976D2">
                        <animate attributeName="cx" values="100;100;100" dur="2s" repeatCount="indefinite"/>
                        <animate attributeName="cy" values="50;150;50" dur="2s" repeatCount="indefinite"/>
                    </circle>
                    <text x="100" y="170" fill="#1565C0" font-size="12" text-anchor="middle">‚Üë‚Üì</text>
                </g>

                <!-- Onda Longitudinal -->
                <g transform="translate(50,300)">
                    <text x="150" y="-10" fill="#D32F2F" font-size="18" text-anchor="middle">Longitudinal (‚à•)</text>
                    <!-- Compresi√≥n/rarefacci√≥n -->
                    <g id="longitudinal">
                        <line x1="0" y1="100" x2="50" y2="100" stroke="#D32F2F" stroke-width="6"/>
                        <line x1="50" y1="100" x2="70" y2="100" stroke="#D32F2F" stroke-width="3"/>
                        <line x1="70" y1="100" x2="120" y2="100" stroke="#D32F2F" stroke-width="6"/>
                        <line x1="120" y1="100" x2="140" y2="100" stroke="#D32F2F" stroke-width="3"/>
                        <line x1="140" y1="100" x2="190" y2="100" stroke="#D32F2F" stroke-width="6"/>
                        <line x1="190" y1="100" x2="210" y2="100" stroke="#D32F2F" stroke-width="3"/>
                        <line x1="210" y1="100" x2="260" y2="100" stroke="#D32F2F" stroke-width="6"/>
                        <line x1="260" y1="100" x2="280" y2="100" stroke="#D32F2F" stroke-width="3"/>
                        <line x1="280" y1="100" x2="330" y2="100" stroke="#D32F2F" stroke-width="6"/>
                        <line x1="330" y1="100" x2="350" y2="100" stroke="#D32F2F" stroke-width="3"/>
                        <line x1="350" y1="100" x2="400" y2="100" stroke="#D32F2F" stroke-width="6"/>
                    </g>
                    <animate href="#longitudinal" attributeName="transform" 
                             attributeType="XML" type="translate" 
                             values="0,0;50,0;0,0" dur="2s" repeatCount="indefinite"/>
                    <!-- Part√≠cula -->
                    <circle r="8" fill="#B71C1C" cx="200" cy="100">
                        <animate attributeName="cx" values="200;250;200" dur="2s" repeatCount="indefinite"/>
                    </circle>
                    <text x="200" y="130" fill="#D32F2F" font-size="12" text-anchor="middle">‚Üê‚Üí</text>
                </g>

                <!-- F√≥rmulas -->
                <text x="500" y="150" fill="#1B5E20" font-size="18">v = f ¬∑ Œª</text>
                <text x="500" y="200" fill="#1B5E20" font-size="18">T = 1/f</text>
                <text x="500" y="250" fill="#1B5E20" font-size="18">E ‚àù A¬≤</text>

                <!-- Ejemplo sonido -->
                <text x="500" y="350" fill="#1565C0" font-size="16">Sonido: v = 343 m/s (aire)</text>
                <text x="500" y="380" fill="#D32F2F" font-size="16">Luz: v = 3√ó10‚Å∏ m/s (vac√≠o)</text>

                <!-- Leyenda -->
                <text x="400" y="450" fill="#1B5E20" font-size="14" text-anchor="middle">NIST 2025: c = 299792458 m/s (exacto)</text>
            </svg>
            <p><em>SVG Animado: Comparaci√≥n ondas transversal y longitudinal con movimiento de part√≠culas.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Tipos de ondas', 'respuesta' => 'Mec√°nicas, electromagn√©ticas'],
        ['enunciado' => 'Longitud de onda Œª es', 'respuesta' => 'Distancia entre crestas'],
        ['enunciado' => 'Frecuencia unidad', 'respuesta' => 'Hertz (Hz)'],

        // === APLICADOS ===
        ['enunciado' => 'v = 340 m/s, f = 680 Hz ‚Üí Œª', 'respuesta' => '0.5 m'],
        ['enunciado' => 'Œª = 550 nm, luz ‚Üí f', 'respuesta' => '5.45√ó10¬π‚Å¥ Hz'],
        ['enunciado' => 'Sonido en agua v ‚âà', 'respuesta' => '1480 m/s'],

        // === F√çSICO-QU√çMICOS ===
        ['enunciado' => 'F√≥rmula velocidad onda', 'respuesta' => '\\(v = f \\lambda\\)'],
        ['enunciado' => 'Energ√≠a onda ‚àù', 'respuesta' => 'A¬≤'],
        ['enunciado' => 'Periodo T =', 'respuesta' => '1/f'],

        // === AVANZADOS ===
        ['enunciado' => 'c (vac√≠o) exacto', 'respuesta' => '299792458 m/s'],
        ['enunciado' => 'Difracci√≥n m√°xima cuando', 'respuesta' => 'Œª ‚âà tama√±o obst√°culo'],
        ['enunciado' => 'Polarizaci√≥n solo en', 'respuesta' => 'Ondas transversales']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Ondas mec√°nicas necesitan...', 'opciones' => ['Medio', 'Vac√≠o', 'Luz', 'Nada'], 'correcta' => 'Medio'],
        ['pregunta' => 'Transversal: vibraci√≥n...', 'opciones' => ['Perpendicular', 'Paralela', 'Circular', 'Aleatoria'], 'correcta' => 'Perpendicular'],
        ['pregunta' => 'Longitudinal ejemplo', 'opciones' => ['Sonido', 'Luz', 'Radio', 'Rayos X'], 'correcta' => 'Sonido'],
        ['pregunta' => 'Amplitud mide...', 'opciones' => ['Energ√≠a', 'Frecuencia', 'Velocidad', 'Masa'], 'correcta' => 'Energ√≠a'],
        ['pregunta' => 'Frecuencia unidad', 'opciones' => ['Hz', 'm', 'm/s', 's'], 'correcta' => 'Hz'],
        ['pregunta' => 'v = f ¬∑ Œª es...', 'opciones' => ['Velocidad', 'Energ√≠a', 'Masa', 'Fuerza'], 'correcta' => 'Velocidad'],
        ['pregunta' => 'Luz viaja en...', 'opciones' => ['Vac√≠o', 'Solo agua', 'Solo aire', 'S√≥lidos'], 'correcta' => 'Vac√≠o'],
        ['pregunta' => 'Periodo T =', 'opciones' => ['1/f', 'f', 'Œª', 'v'], 'correcta' => '1/f'],
        ['pregunta' => 'Interferencia constructiva', 'opciones' => ['Ondas en fase', 'Desfase œÄ', 'Desfase Œª/2', 'Nada'], 'correcta' => 'Ondas en fase'],
        ['pregunta' => 'Polarizaci√≥n solo en...', 'opciones' => ['Transversales', 'Longitudinales', 'Mec√°nicas', 'Todas'], 'correcta' => 'Transversales'],

        // === MEDIO (10) ===
        ['pregunta' => 'Œª = 2 m, f = 170 Hz ‚Üí v =', 'opciones' => ['340 m/s', '170 m/s', '85 m/s', '680 m/s'], 'correcta' => '340 m/s'],
        ['pregunta' => 'Sonido en agua v ‚âà', 'opciones' => ['1480 m/s', '343 m/s', '300 m/s', '5000 m/s'], 'correcta' => '1480 m/s'],
        ['pregunta' => 'E ‚àù A¬≤ significa...', 'opciones' => ['Intensidad ‚àù amplitud¬≤', 'Energ√≠a ‚àù frecuencia', 'Masa ‚àù Œª', 'Nada'], 'correcta' => 'Intensidad ‚àù amplitud¬≤'],
        ['pregunta' => 'Difracci√≥n m√°xima cuando', 'opciones' => ['Œª ‚âà obst√°culo', 'Œª >> obst√°culo', 'Œª << obst√°culo', 'f alta'], 'correcta' => 'Œª ‚âà obst√°culo'],
        ['pregunta' => 'Eco es...', 'opciones' => ['Reflexi√≥n', 'Refracci√≥n', 'Difracci√≥n', 'Interferencia'], 'correcta' => 'Reflexi√≥n'],
        ['pregunta' => 'Lente converge luz por...', 'opciones' => ['Refracci√≥n', 'Reflexi√≥n', 'Difracci√≥n', 'Polarizaci√≥n'], 'correcta' => 'Refracci√≥n'],
        ['pregunta' => 'Ondas EM tienen...', 'opciones' => ['E ‚ä• B', 'E ‚à• B', 'E = B', 'E circular'], 'correcta' => 'E ‚ä• B'],
        ['pregunta' => 'c es constante en...', 'opciones' => ['Vac√≠o', 'Agua', 'Aire', 'Vidrio'], 'correcta' => 'Vac√≠o'],
        ['pregunta' => 'Sonido no viaja en...', 'opciones' => ['Vac√≠o', 'Agua', 'Aire', 'Acero'], 'correcta' => 'Vac√≠o'],
        ['pregunta' => 'NIST define c como...', 'opciones' => ['299792458 m/s exacto', 'Aproximado', '3√ó10‚Å∏', 'Variable'], 'correcta' => '299792458 m/s exacto'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'f = 5√ó10¬π‚Å¥ Hz, luz ‚Üí Œª =', 'opciones' => ['600 nm', '400 nm', '800 nm', '300 nm'], 'correcta' => '600 nm'],
        ['pregunta' => 'Ecuaci√≥n onda general', 'opciones' => ['y = A sin(2œÄ(ft - x/Œª))', 'y = A cos(fx)', 'y = A Œª', 'y = v t'], 'correcta' => 'y = A sin(2œÄ(ft - x/Œª))'],
        ['pregunta' => 'Interferencia destructiva', 'opciones' => ['Desfase œÄ', 'Desfase 0', 'Desfase 2œÄ', 'Desfase Œª'], 'correcta' => 'Desfase œÄ'],
        ['pregunta' => 'N√∫mero de onda k =', 'opciones' => ['2œÄ/Œª', 'Œª/2œÄ', 'f/2œÄ', 'v/Œª'], 'correcta' => '2œÄ/Œª'],
        ['pregunta' => 'Velocidad grupo vs fase', 'opciones' => ['vg = dœâ/dk', 'vf = œâ/k', 'Ambas', 'Ninguna'], 'correcta' => 'Ambas'],
        ['pregunta' => 'Efecto Doppler: fuente se acerca', 'opciones' => ['f ‚Üë, Œª ‚Üì', 'f ‚Üì, Œª ‚Üë', 'f = c', 'Nada'], 'correcta' => 'f ‚Üë, Œª ‚Üì'],
        ['pregunta' => 'Onda estacionaria nodos cuando', 'opciones' => ['L = nŒª/2', 'L = Œª/4', 'L = Œª', 'L = 2Œª'], 'correcta' => 'L = nŒª/2'],
        ['pregunta' => 'Polarizaci√≥n por reflexi√≥n (Brewster)', 'opciones' => ['tan Œ∏ = n', 'sin Œ∏ = n', 'cos Œ∏ = n', 'Œ∏ = 90¬∞'], 'correcta' => 'tan Œ∏ = n'],
        ['pregunta' => 'Principio de Huygens', 'opciones' => ['Cada punto es fuente secundaria', 'Solo reflexi√≥n', 'Solo refracci√≥n', 'Nada'], 'correcta' => 'Cada punto es fuente secundaria'],
        ['pregunta' => 'c exacto desde 1983 porque', 'opciones' => ['Metro definido por c', 'c medido', 'Aproximado', 'Variable'], 'correcta' => 'Metro definido por c']
    ]
];
// ========================================
// MATERIA: QU√çMICA I
// SUBTEMA: La Materia (Clasificaci√≥n, Propiedades, Estados, Cambios, Densidad)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Qu√≠mica I',
    'slug' => 'materia',
    'titulo' => 'La Materia: Todo lo que Ocupa Espacio y Tiene Masa',
    'contenido' => '
        <h3>¬øQu√© es la Materia?</h3>
        <p>La <strong>materia</strong> es <strong>todo</strong> que tiene <strong>masa</strong> y <strong>ocupa volumen</strong>. Compuesta por <strong>√°tomos</strong>, se clasifica por <strong>composici√≥n</strong> y <strong>propiedades</strong>.</p>
        <p><strong>Estados:</strong> S√≥lido, l√≠quido, gas, plasma (99% universo).</p>

        <hr style="border:1px dashed #2196F3;">

        <h4>1. Clasificaci√≥n de la Materia</h4>
        <table class="table">
            <thead>
                <tr><th>Tipo</th><th>Subtipo</th><th>Ejemplo</th><th>Separaci√≥n</th></tr>
            </thead>
            <tbody>
                <tr><td rowspan="2"><strong>Pura</strong></td><td>Elemento</td><td>Oro (Au), Ox√≠geno (O‚ÇÇ)</td><td>Qu√≠mica</td></tr>
                <tr><td>Compuesto</td><td>Agua (H‚ÇÇO), Sal (NaCl)</td><td>Qu√≠mica</td></tr>
                <tr><td rowspan="2"><strong>Mezcla</strong></td><td>Homog√©nea</td><td>Aire, Salmuera</td><td>F√≠sica</td></tr>
                <tr><td>Heterog√©nea</td><td>Ensalada, Granito</td><td>F√≠sica</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Agua destilada</strong> ‚Üí Compuesto puro (H‚ÇÇO). <strong>Agua de mar</strong> ‚Üí Mezcla homog√©nea (H‚ÇÇO + sales).</p>
        </div>

        <div class="visual">
            <img src="assets/img/materia.png" alt="Clasificaci√≥n materia">
            <p><em>Diagrama completo. Fuente: ChemistryBytes.</em></p>
        </div>

        <hr style="border:1px dashed #2196F3;">

        <h4>2. Propiedades de la Materia</h4>
        <table class="table">
            <thead>
                <tr><th>Tipo</th><th>Definici√≥n</th><th>Ejemplo</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>F√≠sicas</strong></td><td>Sin cambiar composici√≥n</td><td>Densidad, punto fusi√≥n</td></tr>
                <tr><td><strong>Qu√≠micas</strong></td><td>Cambia composici√≥n</td><td>Reactividad, combusti√≥n</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/clasificacion-tec-science.jpg" alt="Clasificaci√≥n tec-science">
            <p><em>Flujograma. Fuente: tec-science.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/classifying_matter.jpg" alt="Clasificaci√≥n infantil">
            <p><em>Versi√≥n did√°ctica. Fuente: SmartClass4Kids.</em></p>
        </div>

        <hr style="border:1px dashed #2196F3;">

        <h4>3. Cambios de la Materia</h4>
        <table class="table">
            <thead>
                <tr><th>Tipo</th><th>Reversible</th><th>Ejemplo</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>F√≠sico</strong></td><td>S√≠</td><td>Fusi√≥n hielo</td></tr>
                <tr><td><strong>Qu√≠mico</strong></td><td>No</td><td>Combusti√≥n madera</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #2196F3;">

        <h4>4. Densidad: Propiedad Intensiva</h4>
        <p>\[
            \\rho = \\frac{m}{V} \\quad \\text{(kg/m¬≥ o g/cm¬≥)}
        \]</p>
        <p>Ejemplos:</p>
        <ul>
            <li><strong>Agua:</strong> 1 g/cm¬≥</li>
            <li><strong>Oro:</strong> 19.3 g/cm¬≥</li>
            <li><strong>Aire:</strong> 0.0012 g/cm¬≥</li>
        </ul>

        <div class="visual">
            <img src="assets/img/clasificacion-materia.png" alt="NIST materia">
            <p><em>Clasificaci√≥n oficial. Fuente: NIST.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/elementos-puros.jpg" alt="Tabla IUPAC">
            <p><em>Elementos puros. Fuente: IUPAC.</em></p>
        </div>

        <hr style="border:1px dashed #2196F3;">

        <h4>5. SVG Animado: Clasificaci√≥n de la Materia</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 700 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="700" height="500" fill="#E8EAF6"/>

                <!-- Centro: Materia -->
                <circle cx="350" cy="250" r="80" fill="#1976D2" stroke="#0D47A1" stroke-width="5">
                    <animate attributeName="r" values="80;90;80" dur="3s" repeatCount="indefinite"/>
                </circle>
                <text x="350" y="240" fill="white" font-size="16" text-anchor="middle" font-weight="bold">MATERIA</text>
                <text x="350" y="260" fill="white" font-size="12" text-anchor="middle">Masa + Volumen</text>

                <!-- Pura -->
                <rect x="100" y="100" width="120" height="80" fill="#4CAF50" rx="15">
                    <animate attributeName="opacity" values="0.6;1;0.6" dur="2s" repeatCount="indefinite"/>
                </rect>
                <text x="160" y="130" fill="white" font-size="14" text-anchor="middle">PURA</text>
                <text x="160" y="150" fill="#E8F5E9" font-size="10" text-anchor="middle">Elementos</text>
                <text x="160" y="165" fill="#E8F5E9" font-size="9" text-anchor="middle">Compuestos</text>

                <!-- Mezcla -->
                <rect x="480" y="100" width="120" height="80" fill="#FF9800" rx="15">
                    <animate attributeName="opacity" values="0.6;1;0.6" dur="2s" repeatCount="indefinite"/>
                </rect>
                <text x="540" y="130" fill="white" font-size="14" text-anchor="middle">MEZCLA</text>
                <text x="540" y="150" fill="#FFF3E0" font-size="10" text-anchor="middle">Homog√©nea</text>
                <text x="540" y="165" fill="#FFF3E0" font-size="9" text-anchor="middle">Heterog√©nea</text>

                <!-- Elementos -->
                <circle cx="100" cy="320" r="40" fill="#2196F3">
                    <animate attributeName="r" values="40;50;40" begin="1s" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="100" y="315" fill="white" font-size="12" text-anchor="middle">Au</text>
                <text x="100" y="335" fill="#BBDEFB" font-size="9" text-anchor="middle">Oro</text>

                <!-- Compuestos -->
                <rect x="200" y="300" width="80" height="60" fill="#43A047" rx="10">
                    <animate attributeName="opacity" values="0.6;1;0.6" begin="1.5s" dur="2s" repeatCount="indefinite"/>
                </rect>
                <text x="240" y="330" fill="white" font-size="12" text-anchor="middle">H‚ÇÇO</text>

                <!-- Homog√©nea -->
                <circle cx="450" cy="320" r="45" fill="#FFB300">
                    <animate attributeName="r" values="45;55;45" begin="2s" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="450" y="315" fill="#212121" font-size="12" text-anchor="middle">Aire</text>

                <!-- Heterog√©nea -->
                <rect x="520" y="300" width="100" height="80" fill="#D32F2F" rx="15">
                    <animate attributeName="opacity" values="0.6;1;0.6" begin="2.5s" dur="2s" repeatCount="indefinite"/>
                </rect>
                <text x="570" y="340" fill="white" font-size="12" text-anchor="middle">Ensalada</text>

                <!-- Flechas -->
                <path d="M350 170 L160 180" stroke="#1976D2" stroke-width="6" marker-end="url(#arrow)"/>
                <path d="M350 170 L540 180" stroke="#1976D2" stroke-width="6" marker-end="url(#arrow)"/>
                <path d="M160 180 L100 300" stroke="#4CAF50" stroke-width="5" marker-end="url(#arrow-green)"/>
                <path d="M160 180 L240 320" stroke="#4CAF50" stroke-width="5" marker-end="url(#arrow-green)"/>
                <path d="M540 180 L450 300" stroke="#FF9800" stroke-width="5" marker-end="url(#arrow-orange)"/>
                <path d="M540 180 L570 340" stroke="#FF9800" stroke-width="5" marker-end="url(#arrow-orange)"/>

                <!-- Marcadores -->
                <defs>
                    <marker id="arrow" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#1976D2"/>
                    </marker>
                    <marker id="arrow-green" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#4CAF50"/>
                    </marker>
                    <marker id="arrow-orange" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#FF9800"/>
                    </marker>
                </defs>

                <!-- T√≠tulo -->
                <text x="350" y="60" fill="#0D47A1" font-size="28" text-anchor="middle" font-weight="bold">CLASIFICACI√ìN DE LA MATERIA</text>
                <text x="350" y="90" fill="#1565C0" font-size="16" text-anchor="middle">Pura vs Mezcla ‚Äì IUPAC 2025</text>
            </svg>
            <p><em>SVG Animado: √Årbol de clasificaci√≥n con ejemplos y animaci√≥n jer√°rquica.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Define materia', 'respuesta' => 'Todo con masa y volumen'],
        ['enunciado' => 'Ejemplo materia pura', 'respuesta' => 'Oro, agua destilada'],
        ['enunciado' => 'Mezcla homog√©nea', 'respuesta' => 'Aire, salmuera'],

        // === APLICADOS ===
        ['enunciado' => 'Agua de mar es...', 'respuesta' => 'Mezcla homog√©nea'],
        ['enunciado' => 'Granito es...', 'respuesta' => 'Mezcla heterog√©nea'],
        ['enunciado' => 'Densidad agua', 'respuesta' => '1 g/cm¬≥'],

        // === QU√çMICOS ===
        ['enunciado' => 'Propiedad f√≠sica', 'respuesta' => 'Punto de fusi√≥n'],
        ['enunciado' => 'Propiedad qu√≠mica', 'respuesta' => 'Reactividad con √°cidos'],
        ['enunciado' => 'Cambio f√≠sico', 'respuesta' => 'Fusi√≥n, evaporaci√≥n'],

        // === AVANZADOS ===
        ['enunciado' => 'F√≥rmula densidad', 'respuesta' => '\\(\\rho = \\frac{m}{V}\\)',],
        ['enunciado' => 'NIST define masa at√≥mica C-12', 'respuesta' => '12 u exacto'],
        ['enunciado' => 'IUPAC clasifica elementos', 'respuesta' => '118 conocidos 2025']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Materia tiene...', 'opciones' => ['Masa y volumen', 'Solo masa', 'Solo volumen', 'Nada'], 'correcta' => 'Masa y volumen'],
        ['pregunta' => 'Propiedad f√≠sica cambia...', 'opciones' => ['Forma, no composici√≥n', 'Composici√≥n', 'Todo', 'Nada'], 'correcta' => 'Forma, no composici√≥n'],
        ['pregunta' => 'Qu√≠mica involucra...', 'opciones' => ['Reacciones', 'Medidas', 'Nada', 'Volumen'], 'correcta' => 'Reacciones'],
        ['pregunta' => 'Ejemplo materia pura', 'opciones' => ['Oro', 'Aire', 'Agua salada', 'Suelo'], 'correcta' => 'Oro'],
        ['pregunta' => 'Mezcla homog√©nea', 'opciones' => ['Aire', 'Ensalada', 'Granito', 'Aceite+agua'], 'correcta' => 'Aire'],
        ['pregunta' => 'Heterog√©nea', 'opciones' => ['Granito', 'Salmuera', 'Alcohol+agua', 'Aire'], 'correcta' => 'Granito'],
        ['pregunta' => 'Densidad =', 'opciones' => ['m/V', 'V/m', 'm+V', 'm-V'], 'correcta' => 'm/V'],
        ['pregunta' => 'Estado plasma', 'opciones' => ['99% universo', '1%', '0%', '50%'], 'correcta' => '99% universo'],
        ['pregunta' => 'Cambio f√≠sico', 'opciones' => ['Fusi√≥n', 'Combusti√≥n', 'Reacci√≥n', 'Oxidaci√≥n'], 'correcta' => 'Fusi√≥n'],
        ['pregunta' => 'IUPAC 2025 elementos', 'opciones' => ['118', '100', '92', '200'], 'correcta' => '118'],

        // === MEDIO (10) ===
        ['pregunta' => 'Agua de mar es...', 'opciones' => ['Mezcla homog√©nea', 'Pura', 'Elemento', 'Heterog√©nea'], 'correcta' => 'Mezcla homog√©nea'],
        ['pregunta' => 'Granito es...', 'opciones' => ['Mezcla heterog√©nea', 'Homog√©nea', 'Pura', 'Elemento'], 'correcta' => 'Mezcla heterog√©nea'],
        ['pregunta' => 'Densidad oro', 'opciones' => ['19.3 g/cm¬≥', '1 g/cm¬≥', '0.001 g/cm¬≥', '100 g/cm¬≥'], 'correcta' => '19.3 g/cm¬≥'],
        ['pregunta' => 'C-12 masa exacta', 'opciones' => ['12 u', '12.011 u', '13 u', '11 u'], 'correcta' => '12 u'],
        ['pregunta' => 'N√∫mero m√°sico A =', 'opciones' => ['p‚Å∫ + n‚Å∞', 'p‚Å∫ + e‚Åª', 'Z + e‚Åª', 'Solo Z'], 'correcta' => 'p‚Å∫ + n‚Å∞'],
        ['pregunta' => 'Cambio qu√≠mico libera...', 'opciones' => ['Energ√≠a', 'Masa', 'Volumen', 'Nada'], 'correcta' => 'Energ√≠a'],
        ['pregunta' => 'Propiedad intensiva', 'opciones' => ['Densidad', 'Masa', 'Volumen', 'Peso'], 'correcta' => 'Densidad'],
        ['pregunta' => 'Extensiva', 'opciones' => ['Masa', 'Densidad', 'Color', 'pH'], 'correcta' => 'Masa'],
        ['pregunta' => 'NIST define √°tomo como...', 'opciones' => ['Unidad con Z', 'Mol√©cula', 'I√≥n', 'Nada'], 'correcta' => 'Unidad con Z'],
        ['pregunta' => 'Mezcla separada por...', 'opciones' => ['F√≠sica', 'Qu√≠mica', 'Nuclear', 'Nada'], 'correcta' => 'F√≠sica'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'F√≥rmula densidad', 'opciones' => ['\\(\\rho = \\frac{m}{V}\\)', '\\(\\rho = m + V\\)', '\\(\\rho = V/m\\)', '\\(\\rho = 0\\)'], 'correcta' => '\\(\\rho = \\frac{m}{V}\\)',],
        ['pregunta' => '√Åtomo con Z=1', 'opciones' => ['Hidr√≥geno', 'Helio', 'Litio', 'Carbono'], 'correcta' => 'Hidr√≥geno'],
        ['pregunta' => 'C-12 tiene...', 'opciones' => ['6p‚Å∫, 6n‚Å∞, 6e‚Åª', '12p‚Å∫', '6e‚Åª', '0'], 'correcta' => '6p‚Å∫, 6n‚Å∞, 6e‚Åª'],
        ['pregunta' => 'IUPAC nombra elementos hasta...', 'opciones' => ['118 (Oganesson)', '100', '92', '200'], 'correcta' => '118 (Oganesson)'],
        ['pregunta' => 'Propiedad qu√≠mica del Na', 'opciones' => ['Reacciona con H‚ÇÇO', 'Densidad', 'Color', 'Volumen'], 'correcta' => 'Reacciona con H‚ÇÇO'],
        ['pregunta' => 'Mezcla aze√≥tropa', 'opciones' => ['No separable destilaci√≥n', 'F√°cil', 'Solo f√≠sica', 'Nada'], 'correcta' => 'No separable destilaci√≥n'],
        ['pregunta' => 'Densidad aire ‚âà', 'opciones' => ['0.0012 g/cm¬≥', '1 g/cm¬≥', '19.3 g/cm¬≥', '0 g/cm¬≥'], 'correcta' => '0.0012 g/cm¬≥'],
        ['pregunta' => 'Cambio f√≠sico reversible', 'opciones' => ['Fusi√≥n', 'Combusti√≥n', 'Reacci√≥n', 'Oxidaci√≥n'], 'correcta' => 'Fusi√≥n'],
        ['pregunta' => 'Ley conservaci√≥n masa por...', 'opciones' => ['Lavoisier', 'Dalton', 'Thomson', 'Rutherford'], 'correcta' => 'Lavoisier'],
        ['pregunta' => 'Masa molar C-12', 'opciones' => ['12 g/mol exacto', '12.011 g/mol', '13 g/mol', '11 g/mol'], 'correcta' => '12 g/mol exacto']
    ]
];
// ========================================
// MATERIA: QU√çMICA I
// SUBTEMA: Hielo Seco (CO‚ÇÇ(s), Sublimaci√≥n, Estructura, Orbitales, Usos, Seguridad)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Qu√≠mica I',
    'slug' => 'hielo-seco',
    'titulo' => 'Hielo Seco: El Fr√≠o que Nunca se Derrite',
    'contenido' => '
        <h3>¬øQu√© es el Hielo Seco?</h3>
        <p>El <strong>hielo seco</strong> es <strong>di√≥xido de carbono s√≥lido (CO‚ÇÇ(s))</strong>. A presi√≥n atmosf√©rica, <strong>sublima</strong> (pasa de s√≥lido a gas) a <strong>-78.5¬∞C</strong> sin fase l√≠quida. <strong>No t√≥xico</strong> en bajas concentraciones, pero <strong>asfixiante</strong> en espacios cerrados (>5% vol).</p>

        <hr style="border:1px dashed #B71C1C;">

        <h4>1. Propiedades F√≠sicas</h4>
        <table class="table">
            <thead>
                <tr><th>Propiedad</th><th>Valor</th><th>Unidad</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Temperatura sublimaci√≥n</strong></td><td>-78.5</td><td>¬∞C</td></tr>
                <tr><td><strong>Densidad (s√≥lido)</strong></td><td>1.56</td><td>g/cm¬≥</td></tr>
                <tr><td><strong>Calor sublimaci√≥n</strong></td><td>571</td><td>J/g</td></tr>
                <tr><td><strong>Punto triple</strong></td><td>-56.6 (5.11 atm)</td><td>¬∞C</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> 1 kg de hielo seco sublima ‚Üí absorbe <strong>571 kJ</strong> ‚Üí enfr√≠a aire r√°pidamente.</p>
        </div>

        <hr style="border:1px dashed #B71C1C;">

        <h4>2. Estructura Molecular del CO‚ÇÇ</h4>
        <p>CO‚ÇÇ es <strong>lineal</strong>, <strong>apolar</strong>. Enlaces <strong>doble covalentes</strong> (resonancia).</p>
        <p>\[
            \\text{O=C=O} \\quad \\leftrightarrow \\quad \\text{}^{+}O‚â°C-O^{-}
        \]</p>

        <div class="visual">
            <img src="assets/img/orbitales_moleculares.png" alt="Orbitales CO2">
            <p><em>Orbitales moleculares. Fuente: ThoughtCo.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/configruacion_electronicos.jpg" alt="Cajas orbitales">
            <p><em>Configuraci√≥n electr√≥nica. Fuente: Pathways to Chemistry.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/diagrama-electrones.jpg" alt="Configuraci√≥n electr√≥nica">
            <p><em>Diagrama de electrones. Fuente: Science Facts.</em></p>
        </div>

        <hr style="border:1px dashed #B71C1C;">

        <h4>3. Aplicaciones del Hielo Seco</h4>
        <ul>
            <li><strong>Refrigeraci√≥n:</strong> Transporte vacunas, alimentos</li>
            <li><strong>Efectos especiales:</strong> Niebla (CO‚ÇÇ + H‚ÇÇO)</li>
            <li><strong>Limpieza:</strong> Blasting (remueve suciedad sin residuos)</li>
            <li><strong>Carbonataci√≥n:</strong> Bebidas</li>
        </ul>

        <div class="visual">
            <img src="assets/img/ficha-seguridad-osha.jpg" alt="Ficha seguridad">
            <p><em>Ficha OSHA. Fuente: Airgas.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/CO2-diagrama.jpg" alt="Diagrama fases CO2">
            <p><em>Diagrama de fases. Fuente: NIST.</em></p>
        </div>

        <hr style="border:1px dashed #B71C1C;">

        <h4>4. Seguridad (OSHA 2025)</h4>
        <ul>
            <li><strong>PEL:</strong> 5000 ppm (8h)</li>
            <li><strong>STEL:</strong> 30,000 ppm (15 min)</li>
            <li><strong>IDLH:</strong> 40,000 ppm</li>
            <li><strong>Riesgo:</strong> Asfixia, quemaduras por fr√≠o</li>
        </ul>

        <hr style="border:1px dashed #B71C1C;">

        <h4>5. SVG Animado: Sublimaci√≥n del Hielo Seco</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 700 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="700" height="500" fill="#E3F2FD"/>

                <!-- T√≠tulo -->
                <text x="350" y="60" fill="#B71C1C" font-size="28" text-anchor="middle" font-weight="bold">HIELO SECO: SUBLIMACI√ìN</text>

                <!-- Hielo seco -->
                <g id="hielo-seco">
                    <rect x="250" y="300" width="200" height="100" fill="#BBDEFB" rx="20"/>
                    <text x="350" y="350" fill="#0D47A1" font-size="18" text-anchor="middle">Hielo Seco</text>
                    <text x="350" y="380" fill="#1565C0" font-size="14" text-anchor="middle">CO‚ÇÇ(s)</text>
                </g>

                <!-- Part√≠culas sublimando -->
                <g id="particulas">
                    <circle cx="300" cy="280" r="8" fill="#90CAF9">
                        <animate attributeName="cy" values="280;200;100" dur="3s" repeatCount="indefinite"/>
                        <animate attributeName="opacity" values="1;0.5;0" dur="3s" repeatCount="indefinite"/>
                    </circle>
                    <circle cx="350" cy="280" r="10" fill="#90CAF9">
                        <animate attributeName="cy" values="280;180;80" dur="2.5s" begin="0.5s" repeatCount="indefinite"/>
                        <animate attributeName="opacity" values="1;0.5;0" dur="2.5s" begin="0.5s" repeatCount="indefinite"/>
                    </circle>
                    <circle cx="400" cy="280" r="7" fill="#90CAF9">
                        <animate attributeName="cy" values="280;220;120" dur="3.5s" begin="1s" repeatCount="indefinite"/>
                        <animate attributeName="opacity" values="1;0.5;0" dur="3.5s" begin="1s" repeatCount="indefinite"/>
                    </circle>
                </g>

                <!-- Nube de gas -->
                <g id="nube">
                    <ellipse cx="350" cy="150" rx="120" ry="60" fill="#BBDEFB" opacity="0.6"/>
                    <text x="350" y="150" fill="#1565C0" font-size="16" text-anchor="middle">CO‚ÇÇ(g)</text>
                    <animate attributeName="rx" values="120;150;120" dur="4s" repeatCount="indefinite"/>
                </g>

                <!-- Niebla (efecto) -->
                <g id="niebla">
                    <circle cx="200" cy="180" r="30" fill="#E3F2FD" opacity="0.7">
                        <animate attributeName="r" values="30;50;30" dur="2s" repeatCount="indefinite"/>
                    </circle>
                    <circle cx="500" cy="180" r="25" fill="#E3F2FD" opacity="0.7">
                        <animate attributeName="r" values="25;45;25" dur="2.5s" repeatCount="indefinite"/>
                    </circle>
                </g>

                <!-- Flecha sublimaci√≥n -->
                <path d="M350 280 L350 200" stroke="#B71C1C" stroke-width="6" marker-end="url(#arrow)"/>
                <text x="370" y="240" fill="#B71C1C" font-size="16">Sublimaci√≥n</text>
                <text x="370" y="260" fill="#D32F2F" font-size="12">-78.5¬∞C</text>

                <!-- F√≥rmulas -->
                <text x="100" y="100" fill="#1565C0" font-size="16">CO‚ÇÇ(s) ‚Üí CO‚ÇÇ(g)</text>
                <text x="100" y="130" fill="#1565C0" font-size="16">ŒîH<sub>sub</sub> = 571 J/g</text>

                <!-- Seguridad -->
                <rect x="480" y="320" width="180" height="80" fill="#FFEBEE" rx="15"/>
                <text x="570" y="350" fill="#B71C1C" font-size="14" text-anchor="middle">¬°PEL: 5000 ppm!</text>
                <text x="570" y="370" fill="#D32F2F" font-size="12" text-anchor="middle">Asfixia >5%</text>

                <!-- Marcador -->
                <defs>
                    <marker id="arrow" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#B71C1C"/>
                    </marker>
                </defs>

                <!-- Animaci√≥n de reducci√≥n -->
                <animate href="#hielo-seco" attributeName="height" values="100;80;60;40;20;0" dur="15s" repeatCount="1"/>
                <animate href="#hielo-seco" attributeName="y" values="300;320;340;360;380;400" dur="15s" repeatCount="1"/>
            </svg>
            <p><em>SVG Animado: Proceso de sublimaci√≥n con part√≠culas, nube y seguridad.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Composici√≥n hielo seco', 'respuesta' => 'CO‚ÇÇ s√≥lido'],
        ['enunciado' => 'Proceso al calentarse', 'respuesta' => 'Sublimaci√≥n'],
        ['enunciado' => 'Temperatura sublimaci√≥n', 'respuesta' => '-78.5¬∞C'],

        // === APLICADOS ===
        ['enunciado' => 'Usos principales', 'respuesta' => 'Refrigeraci√≥n, efectos, limpieza'],
        ['enunciado' => 'Densidad hielo seco', 'respuesta' => '1.56 g/cm¬≥'],
        ['enunciado' => 'Calor sublimaci√≥n', 'respuesta' => '571 J/g'],

        // === QU√çMICOS ===
        ['enunciado' => 'Estructura CO‚ÇÇ', 'respuesta' => 'Lineal, apolar'],
        ['enunciado' => 'Enlaces en CO‚ÇÇ', 'respuesta' => 'Doble (resonancia)'],
        ['enunciado' => 'PEL OSHA CO‚ÇÇ', 'respuesta' => '5000 ppm'],

        // === AVANZADOS ===
        ['enunciado' => 'Punto triple CO‚ÇÇ', 'respuesta' => '-56.6¬∞C, 5.11 atm'],
        ['enunciado' => 'IDLH CO‚ÇÇ', 'respuesta' => '40,000 ppm'],
        ['enunciado' => 'NIST 2025: T<sub>sub</sub> exacta', 'respuesta' => '-78.464¬∞C']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Hielo seco es...', 'opciones' => ['CO‚ÇÇ s√≥lido', 'H‚ÇÇO congelado', 'N‚ÇÇ l√≠quido', 'O‚ÇÇ'], 'correcta' => 'CO‚ÇÇ s√≥lido'],
        ['pregunta' => 'Sublima a...', 'opciones' => ['-78.5¬∞C', '0¬∞C', '100¬∞C', '-196¬∞C'], 'correcta' => '-78.5¬∞C'],
        ['pregunta' => 'No deja...', 'opciones' => ['L√≠quido', 'Gas', 'S√≥lido', 'Calor'], 'correcta' => 'L√≠quido'],
        ['pregunta' => 'Riesgo principal', 'opciones' => ['Asfixia', 'Explosi√≥n', 'Toxicidad', 'Calor'], 'correcta' => 'Asfixia'],
        ['pregunta' => 'Usado en...', 'opciones' => ['Refrigeraci√≥n', 'Calefacci√≥n', 'Iluminaci√≥n', 'Sonido'], 'correcta' => 'Refrigeraci√≥n'],
        ['pregunta' => 'Efecto niebla por...', 'opciones' => ['CO‚ÇÇ + H‚ÇÇO', 'CO‚ÇÇ + O‚ÇÇ', 'CO‚ÇÇ solo', 'Calor'], 'correcta' => 'CO‚ÇÇ + H‚ÇÇO'],
        ['pregunta' => 'Densidad > agua', 'opciones' => ['S√≠', 'No', 'Igual', 'Variable'], 'correcta' => 'S√≠'],
        ['pregunta' => 'PEL OSHA CO‚ÇÇ', 'opciones' => ['5000 ppm', '500 ppm', '50 ppm', '0 ppm'], 'correcta' => '5000 ppm'],
        ['pregunta' => 'Sublimaci√≥n es...', 'opciones' => ['S√≥lido ‚Üí Gas', 'L√≠quido ‚Üí Gas', 'Gas ‚Üí S√≥lido', 'S√≥lido ‚Üí L√≠quido'], 'correcta' => 'S√≥lido ‚Üí Gas'],
        ['pregunta' => 'CO‚ÇÇ es...', 'opciones' => ['Apolar', 'Polar', 'I√≥nico', 'Met√°lico'], 'correcta' => 'Apolar'],

        // === MEDIO (10) ===
        ['pregunta' => 'Calor sublimaci√≥n', 'opciones' => ['571 J/g', '334 J/g', '2260 J/g', '0 J/g'], 'correcta' => '571 J/g'],
        ['pregunta' => 'Punto triple CO‚ÇÇ', 'opciones' => ['-56.6¬∞C', '-78.5¬∞C', '0¬∞C', '100¬∞C'], 'correcta' => '-56.6¬∞C'],
        ['pregunta' => 'Estructura CO‚ÇÇ', 'opciones' => ['Lineal', 'Angular', 'Trigonal', 'Tetra√©drica'], 'correcta' => 'Lineal'],
        ['pregunta' => 'Blasting remueve...', 'opciones' => ['Suciedad sin residuos', 'Con agua', 'Con calor', 'Con luz'], 'correcta' => 'Suciedad sin residuos'],
        ['pregunta' => 'IDLH CO‚ÇÇ', 'opciones' => ['40,000 ppm', '5000 ppm', '1000 ppm', '100 ppm'], 'correcta' => '40,000 ppm'],
        ['pregunta' => 'Enlaces CO‚ÇÇ', 'opciones' => ['Doble (resonancia)', 'Simple', 'Triple', 'I√≥nico'], 'correcta' => 'Doble (resonancia)'],
        ['pregunta' => 'Transporte vacunas', 'opciones' => ['Hielo seco', 'Hielo normal', 'Agua', 'Aire'], 'correcta' => 'Hielo seco'],
        ['pregunta' => 'CO‚ÇÇ en sangre forma...', 'opciones' => ['H‚ÇÇCO‚ÇÉ', 'CO', 'O‚ÇÇ', 'H‚ÇÇO'], 'correcta' => 'H‚ÇÇCO‚ÇÉ'],
        ['pregunta' => 'NIST mide T<sub>sub</sub>', 'opciones' => ['-78.464¬∞C', '-78.5¬∞C', '-80¬∞C', '-70¬∞C'], 'correcta' => '-78.464¬∞C'],
        ['pregunta' => 'Quemadura por fr√≠o', 'opciones' => ['< -78¬∞C', '> 0¬∞C', '> 100¬∞C', 'Ninguna'], 'correcta' => '< -78¬∞C'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'F√≥rmula sublimaci√≥n', 'opciones' => ['CO‚ÇÇ(s) ‚Üí CO‚ÇÇ(g)', 'CO‚ÇÇ(g) ‚Üí CO‚ÇÇ(s)', 'CO‚ÇÇ(l) ‚Üí CO‚ÇÇ(g)', 'CO‚ÇÇ(s) ‚Üí CO‚ÇÇ(l)'], 'correcta' => 'CO‚ÇÇ(s) ‚Üí CO‚ÇÇ(g)'],
        ['preguna' => 'Presi√≥n punto triple', 'opciones' => ['5.11 atm', '1 atm', '0.1 atm', '10 atm'], 'correcta' => '5.11 atm'],
        ['pregunta' => 'H√≠brido CO‚ÇÇ', 'opciones' => ['sp', 'sp¬≤', 'sp¬≥', 'No h√≠brido'], 'correcta' => 'sp'],
        ['pregunta' => 'CO‚ÇÇ en bebidas', 'opciones' => ['Carbonataci√≥n', 'Refrigeraci√≥n', 'Limpieza', 'Efectos'], 'correcta' => 'Carbonataci√≥n'],
        ['pregunta' => 'Efecto invernadero', 'opciones' => ['CO‚ÇÇ absorbe IR', 'Refleja UV', 'Emite luz', 'Nada'], 'correcta' => 'CO‚ÇÇ absorbe IR'],
        ['pregunta' => 'OSHA exige ventilaci√≥n si...', 'opciones' => ['>5000 ppm', '<1000 ppm', '>100 ppm', 'Siempre'], 'correcta' => '>5000 ppm'],
        ['pregunta' => 'Densidad CO‚ÇÇ(g) a 0¬∞C', 'opciones' => ['1.98 g/L', '1.29 g/L', '0.001 g/L', '100 g/L'], 'correcta' => '1.98 g/L'],
        ['pregunta' => 'Sublimaci√≥n endot√©rmica', 'opciones' => ['Absorbe calor', 'Libera calor', 'Neutro', 'Variable'], 'correcta' => 'Absorbe calor'],
        ['pregunta' => 'IUPAC nombre CO‚ÇÇ', 'opciones' => ['Di√≥xido de carbono', 'Mon√≥xido', '√ìxido', 'Carburo'], 'correcta' => 'Di√≥xido de carbono'],
        ['pregunta' => 'Meta OSHA 2030: reducir CO‚ÇÇ en...', 'opciones' => ['Espacios cerrados 20%', '0%', '100%', '50%'], 'correcta' => 'Espacios cerrados 20%']
    ]
];
// ========================================
// MATERIA: QU√çMICA I
// SUBTEMA: El Big Bang (Origen, Nucleos√≠ntesis, CMB, Redshift, Elementos, Planck 2025)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Qu√≠mica I',
    'slug' => 'big-bang',
    'titulo' => 'El Big Bang: El Nacimiento Qu√≠mico del Universo',
    'contenido' => '
        <h3>¬øQu√© es el Big Bang?</h3>
        <p>El <strong>Big Bang</strong> es la <strong>teor√≠a cosmol√≥gica est√°ndar</strong> que describe el <strong>origen del universo</strong> hace <strong>13.799 ¬± 0.021 mil millones de a√±os</strong> (Planck 2025). No fue una explosi√≥n, sino una <strong>expansi√≥n r√°pida</strong> de un <strong>punto singular</strong> extremadamente caliente y denso.</p>

        <hr style="border:1px dashed #6A1B9A;">

        <h4>1. Cronolog√≠a del Universo</h4>
        <table class="table">
            <thead>
                <tr><th>Tiempo</th><th>Evento</th><th>Temperatura</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>10‚Åª‚Å¥¬≥ s</strong></td><td>Era de Planck</td><td>10¬≥¬≤ K</td></tr>
                <tr><td><strong>10‚Åª¬≥‚Å∂ s</strong></td><td>Inflaci√≥n</td><td>10¬≤‚Å∏ K</td></tr>
                <tr><td><strong>10‚Åª‚Å∂ s</strong></td><td>Quarks ‚Üí Hadrones</td><td>10¬π¬≤ K</td></tr>
                <tr><td><strong>3 min</strong></td><td><strong>Nucleos√≠ntesis</strong></td><td>10‚Åπ K</td></tr>
                <tr><td><strong>380,000 a√±os</strong></td><td>Recombinaci√≥n ‚Üí CMB</td><td>3000 K</td></tr>
                <tr><td><strong>100 millones a√±os</strong></td><td>Primeras estrellas</td><td>‚Äî</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> En los <strong>primeros 3 minutos</strong>, se form√≥ el <strong>75% H, 25% He</strong> del universo ‚Üí <strong>abundancia c√≥smica</strong>.</p>
        </div>

        <hr style="border:1px dashed #6A1B9A;">

        <h4>2. Nucleos√≠ntesis del Big Bang (BBN)</h4>
        <p>Form√≥:</p>
        <ul>
            <li><strong>Hidr√≥geno (¬πH):</strong> 75.0%</li>
            <li><strong>Helio-4 (‚Å¥He):</strong> 24.9%</li>
            <li><strong>Deuterio (¬≤H):</strong> 0.01%</li>
            <li><strong>Helio-3 (¬≥He):</strong> 0.01%</li>
            <li><strong>Litio-7 (‚Å∑Li):</strong> trazas</li>
        </ul>
        <p><strong>Elementos pesados (C, O, Fe)</strong> ‚Üí <strong>fusi√≥n estelar</strong>.</p>

        <div class="visual">
            <img src="assets/img/radicacion-cosmica.jpg" alt="CMB Planck">
            <p><em>Radiaci√≥n C√≥smica de Fondo (CMB). Fuente: NASA/ESA.</em></p>
        </div>

        <hr style="border:1px dashed #6A1B9A;">

        <h4>3. Evidencias del Big Bang</h4>
        <table class="table">
            <thead>
                <tr><th>Evidencia</th><th>Descubrimiento</th><th>Significado</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Expansi√≥n (Hubble)</strong></td><td>1929</td><td>Galaxias se alejan ‚Üí v = H‚ÇÄ¬∑d</td></tr>
                <tr><td><strong>CMB</strong></td><td>1965 (Penzias & Wilson)</td><td>T = 2.725 K</td></tr>
                <tr><td><strong>Abundancia H/He</strong></td><td>1948 (Alpher)</td><td>Coincide con BBN</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/cronologia-cosmica.jpg" alt="L√≠nea temporal">
            <p><em>Cronolog√≠a c√≥smica. Fuente: Wikipedia.</em></p>
        </div>

        <hr style="border:1px dashed #6A1B9A;">

        <h4>4. F√≥rmulas Clave</h4>
        <p>\[
            v = H_0 \\cdot d \\quad \\text{(Ley de Hubble)}
        \]</p>
        <p>\[
            H_0 = 67.4 \\, \\text{km/s/Mpc} \\quad \\text{(Planck 2025)}
        \]</p>
        <p>\[
            T_{\\text{CMB}} = 2.72548 \\, \\text{K} \\quad \\text{(COBE/FIRAS)}
        \]</p>

        <hr style="border:1px dashed #6A1B9A;">

        <h4>5. SVG Animado: Evoluci√≥n del Universo</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="800" height="500" fill="#E8EAF6"/>

                <!-- T√≠tulo -->
                <text x="400" y="50" fill="#4A148C" font-size="28" text-anchor="middle" font-weight="bold">EVOLUCI√ìN DEL UNIVERSO</text>

                <!-- Punto singular -->
                <circle id="singular" cx="400" cy="250" r="5" fill="#D500F9">
                    <animate attributeName="r" values="5;200;300;400" dur="10s" repeatCount="1"/>
                </circle>

                <!-- Expansi√≥n -->
                <g id="expansion">
                    <circle cx="400" cy="250" r="50" fill="none" stroke="#7B1FA2" stroke-width="3" opacity="0.8">
                        <animate attributeName="r" values="50;150;250;350" dur="10s" begin="2s" repeatCount="1"/>
                    </circle>
                    <text x="400" y="200" fill="#4A148C" font-size="16" text-anchor="middle">Inflaci√≥n</text>
                </g>

                <!-- Nucleos√≠ntesis -->
                <g id="nucleo" opacity="0">
                    <rect x="100" y="100" width="120" height="80" fill="#7B1FA2" rx="15"/>
                    <text x="160" y="140" fill="white" font-size="14" text-anchor="middle">Nucleos√≠ntesis</text>
                    <text x="160" y="160" fill="#E8EAF6" font-size="10" text-anchor="middle">H + He</text>
                    <animate attributeName="opacity" values="0;1" begin="4s" dur="1s"/>
                </g>

                <!-- CMB -->
                <g id="cmb" opacity="0">
                    <ellipse cx="600" cy="350" rx="100" ry="60" fill="#9FA8DA" opacity="0.6"/>
                    <text x="600" y="340" fill="#4A148C" font-size="16" text-anchor="middle">CMB</text>
                    <text x="600" y="360" fill="#6A1B9A" font-size="12" text-anchor="middle">2.725 K</text>
                    <animate attributeName="opacity" values="0;1" begin="6s" dur="1s"/>
                </g>

                <!-- Estrellas -->
                <g id="estrellas" opacity="0">
                    <circle cx="200" cy="300" r="20" fill="#FFCA28">
                        <animate attributeName="r" values="0;20" begin="8s" dur="1s"/>
                    </circle>
                    <text x="200" y="290" fill="#E65100" font-size="12" text-anchor="middle">C, O, Fe</text>
                    <animate attributeName="opacity" values="0;1" begin="8s" dur="1s"/>
                </g>

                <!-- Galaxias -->
                <g id="galaxias" opacity="0">
                    <path d="M550,150 Q580,130 610,150 Q580,170 550,150" fill="#536DFE"/>
                    <text x="580" y="160" fill="white" font-size="10" text-anchor="middle">Galaxias</text>
                    <animate attributeName="opacity" values="0;1" begin="9s" dur="1s"/>
                </g>

                <!-- Leyenda -->
                <text x="400" y="420" fill="#4A148C" font-size="14" text-anchor="middle">Planck 2025: 13.799 Ga</text>
                <text x="400" y="440" fill="#6A1B9A" font-size="12" text-anchor="middle">H‚ÇÄ = 67.4 km/s/Mpc</text>
            </svg>
            <p><em>SVG Animado: Desde el punto singular hasta la formaci√≥n de galaxias.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Edad universo (Planck 2025)', 'respuesta' => '13.799 ¬± 0.021 Ga'],
        ['enunciado' => 'Elementos BBN', 'respuesta' => 'H, He, trazas D, Li'],
        ['enunciado' => 'Evidencia principal', 'respuesta' => 'CMB, redshift, H/He'],

        // === APLICADOS ===
        ['enunciado' => 'T CMB actual', 'respuesta' => '2.72548 K'],
        ['enunciado' => 'H‚ÇÄ (Hubble)', 'respuesta' => '67.4 km/s/Mpc'],
        ['enunciado' => 'Abundancia ‚Å¥He', 'respuesta' => '24.9%'],

        // === QU√çMICOS ===
        ['enunciado' => 'Nucleos√≠ntesis forma', 'respuesta' => '¬πH, ‚Å¥He'],
        ['enunciado' => 'Elementos pesados por', 'respuesta' => 'Fusi√≥n estelar'],
        ['enunciado' => 'Ley de Hubble', 'respuesta' => '\\(v = H_0 d\\)'],

        // === AVANZADOS ===
        ['enunciado' => 'Tiempo inflaci√≥n', 'respuesta' => '10‚Åª¬≥‚Å∂ a 10‚Åª¬≥¬≤ s'],
        ['enunciado' => 'NIST: T CMB exacta', 'respuesta' => '2.72548 K'],
        ['enunciado' => 'Primeras estrellas (Era)', 'respuesta' => 'Reionizaci√≥n, ~100 Ma']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Big Bang es...', 'opciones' => ['Expansi√≥n', 'Explosi√≥n', 'Colapso', 'Nada'], 'correcta' => 'Expansi√≥n'],
        ['pregunta' => 'Form√≥ elementos...', 'opciones' => ['Ligeros', 'Pesados', 'Metales', 'Gases'], 'correcta' => 'Ligeros'],
        ['pregunta' => 'CMB es...', 'opciones' => ['Radiaci√≥n fondo', 'Luz estelar', 'Rayos X', 'Microondas'], 'correcta' => 'Radiaci√≥n fondo'],
        ['pregunta' => 'Edad universo', 'opciones' => ['13.8 Ga', '4.5 Ga', '100 Ma', '1 Ga'], 'correcta' => '13.8 Ga'],
        ['pregunta' => 'Hubble descubri√≥...', 'opciones' => ['Expansi√≥n', 'CMB', 'Quarks', 'Estrellas'], 'correcta' => 'Expansi√≥n'],
        ['pregunta' => 'Nucleos√≠ntesis dur√≥...', 'opciones' => ['3 minutos', '1 hora', '1 d√≠a', '1 a√±o'], 'correcta' => '3 minutos'],
        ['pregunta' => 'Abundancia H', 'opciones' => ['75%', '25%', '50%', '100%'], 'correcta' => '75%'],
        ['pregunta' => 'CMB T =', 'opciones' => ['2.7 K', '3000 K', '0 K', '100 K'], 'correcta' => '2.7 K'],
        ['pregunta' => 'Redshift significa...', 'opciones' => ['Galaxias se alejan', 'Acercan', 'Est√°ticas', 'Explosi√≥n'], 'correcta' => 'Galaxias se alejan'],
        ['pregunta' => 'Planck mide...', 'opciones' => ['CMB', 'Estrellas', 'Planetas', 'Agujeros'], 'correcta' => 'CMB'],

        // === MEDIO (10) ===
        ['pregunta' => 'H‚ÇÄ =', 'opciones' => ['67.4 km/s/Mpc', '100 km/s/Mpc', '50 km/s/Mpc', '0'], 'correcta' => '67.4 km/s/Mpc'],
        ['pregunta' => 'T CMB exacta', 'opciones' => ['2.72548 K', '2.7 K', '3 K', '2 K'], 'correcta' => '2.72548 K'],
        ['pregunta' => 'Elemento m√°s abundante', 'opciones' => ['Hidr√≥geno', 'Helio', 'Ox√≠geno', 'Carbono'], 'correcta' => 'Hidr√≥geno'],
        ['pregunta' => 'BBN predice...', 'opciones' => ['H/He', 'C/O', 'Fe/Ni', 'Au/Pt'], 'correcta' => 'H/He'],
        ['pregunta' => 'Inflaci√≥n resuelve...', 'opciones' => ['Horizonte, planitud', 'Masa', 'Energ√≠a', 'Nada'], 'correcta' => 'Horizonte, planitud'],
        ['pregunta' => 'Primeras estrellas formaron...', 'opciones' => ['C, O, Fe', 'H, He', 'Li', 'D'], 'correcta' => 'C, O, Fe'],
        ['pregunta' => 'v = H‚ÇÄ¬∑d es...', 'opciones' => ['Ley de Hubble', 'Newton', 'Einstein', 'Planck'], 'correcta' => 'Ley de Hubble'],
        ['pregunta' => 'NIST certifica...', 'opciones' => ['T CMB', 'Masa at√≥mica', 'Velocidad luz', 'Todas'], 'correcta' => 'T CMB'],
        ['pregunta' => 'Recombinaci√≥n ocurri√≥ a...', 'opciones' => ['380,000 a√±os', '3 min', '10‚Åª‚Å∂ s', '13.8 Ga'], 'correcta' => '380,000 a√±os'],
        ['pregunta' => 'Era de Planck', 'opciones' => ['10‚Åª‚Å¥¬≥ s', '10‚Åª¬≥‚Å∂ s', '3 min', '380 ka'], 'correcta' => '10‚Åª‚Å¥¬≥ s'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'Edad exacta (Planck 2025)', 'opciones' => ['13.799 ¬± 0.021 Ga', '13.8 Ga', '14 Ga', '13 Ga'], 'correcta' => '13.799 ¬± 0.021 Ga'],
        ['pregunta' => 'Densidad cr√≠tica', 'opciones' => ['\\(\\rho_c = \\frac{3H_0^2}{8\\pi G}\\)', 'm/V', 'E=mc¬≤', 'F=ma'], 'correcta' => '\\(\\rho_c = \\frac{3H_0^2}{8\\pi G}\\)',],
        ['pregunta' => 'Abundancia ‚Å¥He', 'opciones' => ['0.249 ¬± 0.001', '0.25', '0.75', '0.01'], 'correcta' => '0.249 ¬± 0.001'],
        ['pregunta' => 'Deuterio BBN', 'opciones' => ['¬≤H/H ‚âà 10‚Åª‚Åµ', '10‚Åª¬≥', '0.25', '0.75'], 'correcta' => '¬≤H/H ‚âà 10‚Åª‚Åµ'],
        ['pregunta' => 'CMB es un cuerpo negro a...', 'opciones' => ['2.72548 K', '2.7 K', '3000 K', '0 K'], 'correcta' => '2.72548 K'],
        ['pregunta' => 'Inflaci√≥n impulsada por...', 'opciones' => ['Campo inflat√≥n', 'Gravedad', 'Electromagnetismo', 'Nuclear'], 'correcta' => 'Campo inflat√≥n'],
        ['pregunta' => 'Reionizaci√≥n por...', 'opciones' => ['Primeras estrellas', 'Big Bang', 'CMB', 'Galaxias'], 'correcta' => 'Primeras estrellas'],
        ['pregunta' => 'Par√°metro Œ©_m ‚âà', 'opciones' => ['0.315', '1', '0', '0.7'], 'correcta' => '0.315'],
        ['pregunta' => 'COBE midi√≥...', 'opciones' => ['CMB dipolo', 'Estrellas', 'Planetas', 'Agujeros'], 'correcta' => 'CMB dipolo'],
        ['pregunta' => 'WMAP mejor√≥...', 'opciones' => ['Anisotrop√≠as CMB', 'H/He', 'Redshift', 'Todas'], 'correcta' => 'Anisotrop√≠as CMB']
    ]
];
// ========================================
// MATERIA: QU√çMICA I
// SUBTEMA: Contaminaci√≥n (Aire, Agua, Suelo, Lluvia √Åcida, GHG, PM, Efectos, Prevenci√≥n)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Qu√≠mica I',
    'slug' => 'contaminacion',
    'titulo' => 'Contaminaci√≥n: El Enemigo Silencioso del Planeta',
    'contenido' => '
        <h3>¬øQu√© es la Contaminaci√≥n?</h3>
        <p>La <strong>contaminaci√≥n</strong> es la <strong>introducci√≥n de sustancias t√≥xicas</strong> al medio ambiente que <strong>alteran ecosistemas</strong> y <strong>afectan la salud</strong>. Seg√∫n la <strong>OMS (2025)</strong>, causa <strong>9 millones de muertes/a√±o</strong>.</p>

        <hr style="border:1px dashed #D32F2F;">

        <h4>1. Tipos de Contaminaci√≥n</h4>
        <table class="table">
            <thead>
                <tr><th>Tipo</th><th>Contaminante</th><th>Fuente</th><th>Efecto</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Aire</strong></td><td>PM2.5, CO, NO‚Çì, SO‚ÇÇ, O‚ÇÉ</td><td>Veh√≠culos, industria</td><td>Asma, c√°ncer</td></tr>
                <tr><td><strong>Agua</strong></td><td>Nitratos, Pb, Hg, pl√°sticos</td><td>Agricultura, miner√≠a</td><td>Eutrofizaci√≥n, intoxicaci√≥n</td></tr>
                <tr><td><strong>Suelo</strong></td><td>Pesticidas, DDT, Cd</td><td>Agricultura, desechos</td><td>Infertilidad, bioacumulaci√≥n</td></tr>
                <tr><td><strong>Lluvia √Åcida</strong></td><td>H‚ÇÇSO‚ÇÑ, HNO‚ÇÉ</td><td>SO‚ÇÇ, NO‚Çì</td><td>Acidificaci√≥n lagos</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Smog fotoqu√≠mico</strong> en CDMX ‚Üí NO‚Çì + VOCs + luz ‚Üí O‚ÇÉ ‚Üí irritaci√≥n ocular/respiratoria.</p>
        </div>

        <hr style="border:1px dashed #D32F2F;">

        <h4>2. Contaminantes Clave</h4>
        <table class="table">
            <thead>
                <tr><th>Contaminante</th><th>F√≥rmula</th><th>L√≠mite EPA (2025)</th><th>Efecto Salud</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>PM2.5</strong></td><td>‚Äî</td><td>9 ¬µg/m¬≥ (anual)</td><td>Enfermedad card√≠aca</td></tr>
                <tr><td><strong>CO</strong></td><td>CO</td><td>9 ppm (8h)</td><td>Asfixia</td></tr>
                <tr><td><strong>NO‚ÇÇ</strong></td><td>NO‚ÇÇ</td><td>53 ppb (anual)</td><td>Edema pulmonar</td></tr>
                <tr><td><strong>Ozono</strong></td><td>O‚ÇÉ</td><td>70 ppb (8h)</td><td>Da√±o pulmonar</td></tr>
                <tr><td><strong>Plomo</strong></td><td>Pb</td><td>0.15 ¬µg/m¬≥</td><td>Da√±o cerebral</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/tendencia-calidad-aire.png" alt="EPA tendencias">
            <p><em>Tendencias calidad aire. Fuente: EPA.</em></p>
        </div>

        <hr style="border:1px dashed #D32F2F;">

        <h4>3. Efecto Invernadero y Cambio Clim√°tico</h4>
        <p><strong>Gases de Efecto Invernadero (GHG):</strong></p>
        <ul>
            <li>CO‚ÇÇ: 76% (combusti√≥n f√≥sil)</li>
            <li>CH‚ÇÑ: 16% (ganader√≠a, arroz)</li>
            <li>N‚ÇÇO: 6% (fertilizantes)</li>
            <li>CFC/HFC: Potencial alto</li>
        </ul>
        <p>CO‚ÇÇ actual: <strong>423 ppm</strong> (NOAA 2025)</p>

        <div class="visual">
            <img src="assets/img/tendencia-CO2.png" alt="CO2 hist√≥rico">
            <p><em>CO‚ÇÇ √∫ltimos 800,000 a√±os. Fuente: NASA.</em></p>
        </div>

        <hr style="border:1px dashed #D32F2F;">

        <h4>4. Prevenci√≥n y Control</h4>
        <ul>
            <li><strong>Filtros HEPA</strong> (PM)</li>
            <li><strong>Catalizadores</strong> (CO, NO‚Çì)</li>
            <li><strong>Tratamiento agua</strong> (filtraci√≥n, cloraci√≥n)</li>
            <li><strong>Reciclaje</strong> (pl√°sticos, metales)</li>
            <li><strong>Energ√≠a renovable</strong> (solar, e√≥lica)</li>
        </ul>

        <hr style="border:1px dashed #D32F2F;">

        <h4>5. SVG Animado: Ciclo de Contaminaci√≥n del Aire</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 700 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="700" height="500" fill="#FFEBEE"/>

                <!-- T√≠tulo -->
                <text x="350" y="50" fill="#B71C1C" font-size="28" text-anchor="middle" font-weight="bold">CONTAMINACI√ìN DEL AIRE</text>

                <!-- F√°brica -->
                <g id="fabrica">
                    <rect x="50" y="250" width="100" height="150" fill="#757575"/>
                    <rect x="100" y="200" width="20" height="50" fill="#424242"/>
                    <circle cx="110" cy="180" r="15" fill="#B71C1C">
                        <animate attributeName="r" values="15;20;15" dur="2s" repeatCount="indefinite"/>
                    </circle>
                    <text x="100" y="300" fill="white" font-size="12" text-anchor="middle">Industria</text>
                </g>

                <!-- Emisiones -->
                <g id="emisiones">
                    <circle cx="110" cy="150" r="8" fill="#9E9E9E">
                        <animate attributeName="cy" values="150;100;50" dur="3s" repeatCount="indefinite"/>
                        <animate attributeName="opacity" values="1;0.5;0" dur="3s" repeatCount="indefinite"/>
                    </circle>
                    <text x="110" y="140" fill="#424242" font-size="10" text-anchor="middle">CO‚ÇÇ</text>
                </g>

                <!-- Nube contaminaci√≥n -->
                <g id="nube">
                    <ellipse cx="350" cy="150" rx="150" ry="80" fill="#B0BEC5" opacity="0.7"/>
                    <text x="350" y="140" fill="#212121" font-size="16" text-anchor="middle">Smog</text>
                    <text x="350" y="160" fill="#424242" font-size="12" text-anchor="middle">PM2.5 + O‚ÇÉ</text>
                    <animate attributeName="rx" values="150;180;150" dur="4s" repeatCount="indefinite"/>
                </g>

                <!-- Persona -->
                <g id="persona">
                    <circle cx="500" cy="350" r="30" fill="#FFCCBC"/>
                    <text x="500" y="340" fill="#B71C1C" font-size="12" text-anchor="middle">Tos</text>
                    <animate attributeName="opacity" values="1;0.7;1" dur="2s" repeatCount="indefinite"/>
                </g>

                <!-- Sol -->
                <circle cx="600" cy="100" r="40" fill="#FFEB3B"/>
                <text x="600" y="90" fill="#F57F17" font-size="12" text-anchor="middle">UV ‚Üí O‚ÇÉ</text>

                <!-- Flechas -->
                <path d="M150 300 L300 200" stroke="#B71C1C" stroke-width="5" marker-end="url(#arrow)"/>
                <path d="M350 200 L480 320" stroke="#B71C1C" stroke-width="5" marker-end="url(#arrow)"/>

                <!-- Prevenci√≥n -->
                <rect x="450" y="50" width="200" height="80" fill="#E8F5E9" rx="15"/>
                <text x="550" y="80" fill="#1B5E20" font-size="14" text-anchor="middle">Filtros + Renovables</text>
                <text x="550" y="100" fill="#2E7D32" font-size="12" text-anchor="middle">EPA: PM2.5 ‚Üì 40% (2030)</text>

                <!-- Marcador -->
                <defs>
                    <marker id="arrow" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#B71C1C"/>
                    </marker>
                </defs>

                <!-- Datos -->
                <text x="100" y="450" fill="#B71C1C" font-size="14">OMS 2025: 9M muertes/a√±o</text>
                <text x="350" y="450" fill="#212121" font-size="12" text-anchor="middle">CO‚ÇÇ = 423 ppm</text>
            </svg>
            <p><em>SVG Animado: Emisiones ‚Üí Smog ‚Üí Impacto salud ‚Üí Soluci√≥n.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Tipos contaminaci√≥n', 'respuesta' => 'Aire, agua, suelo'],
        ['enunciado' => 'Causa principal aire', 'respuesta' => 'Combusti√≥n f√≥sil'],
        ['enunciado' => 'Efecto PM2.5', 'respuesta' => 'Enfermedad card√≠aca'],

        // === APLICADOS ===
        ['enunciado' => 'L√≠mite EPA PM2.5', 'respuesta' => '9 ¬µg/m¬≥ (anual)'],
        ['enunciado' => 'CO‚ÇÇ actual (2025)', 'respuesta' => '423 ppm'],
        ['enunciado' => 'Lluvia √°cida por', 'respuesta' => 'SO‚ÇÇ + NO‚Çì'],

        // === QU√çMICOS ===
        ['enunciado' => 'Reacci√≥n lluvia √°cida', 'respuesta' => 'SO‚ÇÇ + H‚ÇÇO ‚Üí H‚ÇÇSO‚ÇÉ'],
        ['enunciado' => 'Eutrofizaci√≥n por', 'respuesta' => 'Nitratos/fosfatos'],
        ['enunciado' => 'Bioacumulaci√≥n', 'respuesta' => 'Hg, DDT en cadena'],

        // === AVANZADOS ===
        ['enunciado' => 'Meta EPA 2030', 'respuesta' => 'PM2.5 ‚Üì 40%'],
        ['enunciado' => 'OMS: muertes/a√±o', 'respuesta' => '9 millones'],
        ['enunciado' => 'Protocolo Montreal', 'respuesta' => 'Elimin√≥ CFC (ozono)']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Contaminaci√≥n causa...', 'opciones' => ['Enfermedades', 'Salud', 'Nada', 'Bienestar'], 'correcta' => 'Enfermedades'],
        ['pregunta' => 'Aire contaminado por...', 'opciones' => ['PM2.5', 'O‚ÇÇ', 'N‚ÇÇ', 'H‚ÇÇO'], 'correcta' => 'PM2.5'],
        ['pregunta' => 'Lluvia √°cida por...', 'opciones' => ['SO‚ÇÇ, NO‚Çì', 'CO‚ÇÇ', 'CH‚ÇÑ', 'O‚ÇÇ'], 'correcta' => 'SO‚ÇÇ, NO‚Çì'],
        ['pregunta' => 'Eutrofizaci√≥n en...', 'opciones' => ['Agua', 'Aire', 'Suelo', 'Luz'], 'correcta' => 'Agua'],
        ['pregunta' => 'CO‚ÇÇ es GHG...', 'opciones' => ['Principal', 'Secundario', 'Ninguno', 'Beneficioso'], 'correcta' => 'Principal'],
        ['pregunta' => 'Prevenci√≥n clave', 'opciones' => ['Reciclaje', 'Quemar m√°s', 'Desechos', 'Nada'], 'correcta' => 'Reciclaje'],
        ['pregunta' => 'Smog fotoqu√≠mico contiene...', 'opciones' => ['O‚ÇÉ', 'O‚ÇÇ', 'N‚ÇÇ', 'H‚ÇÇ'], 'correcta' => 'O‚ÇÉ'],
        ['pregunta' => 'OMS dice causa...', 'opciones' => ['9M muertes/a√±o', '0', '1M', '100M'], 'correcta' => '9M muertes/a√±o'],
        ['pregunta' => 'Pl√°sticos en oc√©ano', 'opciones' => ['8M toneladas/a√±o', '0', '1', '100'], 'correcta' => '8M toneladas/a√±o'],
        ['pregunta' => 'CFC destruyen...', 'opciones' => ['Ozono', 'CO‚ÇÇ', 'N‚ÇÇ', 'O‚ÇÇ'], 'correcta' => 'Ozono'],

        // === MEDIO (10) ===
        ['pregunta' => 'L√≠mite EPA PM2.5', 'opciones' => ['9 ¬µg/m¬≥', '35 ¬µg/m¬≥', '100 ¬µg/m¬≥', '0'], 'correcta' => '9 ¬µg/m¬≥'],
        ['pregunta' => 'CO‚ÇÇ actual', 'opciones' => ['423 ppm', '280 ppm', '1000 ppm', '0 ppm'], 'correcta' => '423 ppm'],
        ['pregunta' => 'Reacci√≥n SO‚ÇÇ', 'opciones' => ['H‚ÇÇSO‚ÇÉ', 'H‚ÇÇSO‚ÇÑ', 'SO‚ÇÉ', 'H‚ÇÇS'], 'correcta' => 'H‚ÇÇSO‚ÇÉ'],
        ['pregunta' => 'Bioacumulaci√≥n afecta...', 'opciones' => ['Peces ‚Üí humanos', 'Solo plantas', 'Aire', 'Nada'], 'correcta' => 'Peces ‚Üí humanos'],
        ['pregunta' => 'Catalizador reduce...', 'opciones' => ['CO, NO‚Çì', 'CO‚ÇÇ', 'O‚ÇÇ', 'H‚ÇÇO'], 'correcta' => 'CO, NO‚Çì'],
        ['pregunta' => 'Protocolo Montreal', 'opciones' => ['CFC', 'CO‚ÇÇ', 'CH‚ÇÑ', 'PM'], 'correcta' => 'CFC'],
        ['pregunta' => 'Efecto invernadero natural', 'opciones' => ['Necesario', 'Da√±ino', 'Ninguno', 'Todo'], 'correcta' => 'Necesario'],
        ['pregunta' => 'Meta EPA 2030', 'opciones' => ['PM2.5 ‚Üì 40%', '‚Üë 40%', '0%', '100%'], 'correcta' => 'PM2.5 ‚Üì 40%'],
        ['pregunta' => 'CH‚ÇÑ potencial vs CO‚ÇÇ', 'opciones' => ['25√ó', '1√ó', '100√ó', '0√ó'], 'correcta' => '25√ó'],
        ['pregunta' => 'Filtro HEPA captura...', 'opciones' => ['PM2.5', 'CO‚ÇÇ', 'O‚ÇÇ', 'N‚ÇÇ'], 'correcta' => 'PM2.5'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'F√≥rmula lluvia √°cida', 'opciones' => ['SO‚ÇÇ + H‚ÇÇO ‚Üí H‚ÇÇSO‚ÇÉ', 'CO‚ÇÇ + H‚ÇÇO ‚Üí H‚ÇÇCO‚ÇÉ', 'NO‚ÇÇ + H‚ÇÇO ‚Üí HNO‚ÇÉ', 'Todas'], 'correcta' => 'Todas'],
        ['pregunta' => 'PM2.5 entra en...', 'opciones' => ['Alveolos', 'Nariz', 'Garganta', 'Ojos'], 'correcta' => 'Alveolos'],
        ['pregunta' => 'CO‚ÇÇ preindustrial', 'opciones' => ['280 ppm', '423 ppm', '100 ppm', '0 ppm'], 'correcta' => '280 ppm'],
        ['pregunta' => 'Eutrofizaci√≥n causa...', 'opciones' => ['Zona muerta', 'M√°s peces', 'Agua clara', 'Nada'], 'correcta' => 'Zona muerta'],
        ['pregunta' => 'DDT es...', 'opciones' => ['Persistente', 'Biodegradable', 'Inofensivo', 'Nutriente'], 'correcta' => 'Persistente'],
        ['pregunta' => 'Acuerdo Par√≠s meta', 'opciones' => ['<2¬∞C', '<1¬∞C', '<5¬∞C', '0¬∞C'], 'correcta' => '<2¬∞C'],
        ['pregunta' => 'NO‚Çì forma...', 'opciones' => ['Smog + lluvia √°cida', 'Solo ozono', 'Solo CO‚ÇÇ', 'Nada'], 'correcta' => 'Smog + lluvia √°cida'],
        ['pregunta' => 'Micropl√°sticos en...', 'opciones' => ['Cadena alimentaria', 'Solo oc√©ano', 'Aire', 'Suelo'], 'correcta' => 'Cadena alimentaria'],
        ['pregunta' => 'EPA regula...', 'opciones' => ['Aire + agua', 'Solo suelo', 'Luz', 'Ruido'], 'correcta' => 'Aire + agua'],
        ['pregunta' => 'ONU GEO-6 advierte...', 'opciones' => ['Crisis triple', 'Progreso', 'Nada', 'Todo'], 'correcta' => 'Crisis triple']
    ]
];
// ========================================
// MATERIA: QU√çMICA I
// SUBTEMA: Propiedades de la Materia (F√≠sicas, Qu√≠micas, Intensivas, Extensivas, Cambios)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Qu√≠mica I',
    'slug' => 'propiedades-materia',
    'titulo' => 'Propiedades de la Materia: C√≥mo Identificar y Clasificar',
    'contenido' => '
        <h3>Propiedades de la Materia</h3>
        <p>Las <strong>propiedades</strong> describen <strong>c√≥mo se comporta</strong> la materia. Se dividen en:</p>
        <ul>
            <li><strong>F√≠sicas:</strong> Sin cambio de composici√≥n</li>
            <li><strong>Qu√≠micas:</strong> Durante reacci√≥n</li>
            <li><strong>Intensivas:</strong> Independientes de cantidad</li>
            <li><strong>Extensivas:</strong> Dependientes de cantidad</li>
        </ul>

        <hr style="border:1px dashed #1976D2;">

        <h4>1. Propiedades F√≠sicas</h4>
        <table class="table">
            <thead>
                <tr><th>Propiedad</th><th>Unidad</th><th>Ejemplo (Agua)</th><th>Tipo</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Densidad</strong></td><td>g/cm¬≥</td><td>1.00</td><td>Intensiva</td></tr>
                <tr><td><strong>Punto fusi√≥n</strong></td><td>¬∞C</td><td>0</td><td>Intensiva</td></tr>
                <tr><td><strong>Punto ebullici√≥n</strong></td><td>¬∞C</td><td>100</td><td>Intensiva</td></tr>
                <tr><td><strong>Color</strong></td><td>‚Äî</td><td>Incoloro</td><td>Intensiva</td></tr>
                <tr><td><strong>Masa</strong></td><td>g</td><td>18 (mol√©cula)</td><td>Extensiva</td></tr>
                <tr><td><strong>Volumen</strong></td><td>cm¬≥</td><td>18 (1 mol)</td><td>Extensiva</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Densidad del oro</strong> = 19.3 g/cm¬≥ ‚Üí <strong>intensiva</strong> (igual en 1g o 1kg).</p>
        </div>

        <hr style="border:1px dashed #1976D2;">

        <h4>2. Propiedades Qu√≠micas</h4>
        <table class="table">
            <thead>
                <tr><th>Propiedad</th><th>Ejemplo</th><th>Reacci√≥n</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Inflamabilidad</strong></td><td>Gasolina</td><td>Arde con O‚ÇÇ</td></tr>
                <tr><td><strong>Reactividad</strong></td><td>Na + H‚ÇÇO</td><td>‚Üí NaOH + H‚ÇÇ</td></tr>
                <tr><td><strong>Acidez</strong></td><td>HCl</td><td>‚Üí H‚Å∫ + Cl‚Åª</td></tr>
                <tr><td><strong>Oxidaci√≥n</strong></td><td>Fe ‚Üí Fe‚ÇÇO‚ÇÉ</td><td>√ìxido rojo</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #1976D2;">

        <h4>3. Cambios de la Materia</h4>
        <table class="table">
            <thead>
                <tr><th>Tipo</th><th>Reversible</th><th>Ejemplo</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>F√≠sico</strong></td><td>S√≠</td><td>Fusi√≥n hielo</td></tr>
                <tr><td><strong>Qu√≠mico</strong></td><td>No</td><td>Combusti√≥n papel</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/clasificacion-materia.png" alt="Clasificaci√≥n propiedades">
            <p><em>Diagrama propiedades. Fuente: LibreTexts.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/clasificacion-tec-science.jpg" alt="F√≠sicas vs qu√≠micas">
            <p><em>F√≠sicas vs Qu√≠micas. Fuente: ThoughtCo.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/classifying_matter.jpg" alt="Science Buddies">
            <p><em>Propiedades intensivas/extensivas. Fuente: Science Buddies.</em></p>
        </div>

        <hr style="border:1px dashed #1976D2;">

        <h4>4. F√≥rmulas Clave</h4>
        <p>\[
            \\rho = \\frac{m}{V} \\quad \\text{(densidad)}
        \]</p>
        <p>\[
            \\Delta T = T_f - T_i \\quad \\text{(cambio temperatura)}
        \]</p>

        <hr style="border:1px dashed #1976D2;">

        <h4>5. SVG Animado: Clasificaci√≥n de Propiedades</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="800" height="500" fill="#E3F2FD"/>

                <!-- Centro: Materia -->
                <circle cx="400" cy="250" r="80" fill="#1976D2" stroke="#0D47A1" stroke-width="5">
                    <animate attributeName="r" values="80;90;80" dur="3s" repeatCount="indefinite"/>
                </circle>
                <text x="400" y="240" fill="white" font-size="16" text-anchor="middle" font-weight="bold">MATERIA</text>
                <text x="400" y="265" fill="white" font-size="12" text-anchor="middle">H‚ÇÇO, Au, Fe...</text>

                <!-- F√≠sicas -->
                <rect x="100" y="100" width="140" height="100" fill="#4CAF50" rx="20">
                    <animate attributeName="opacity" values="0.6;1;0.6" dur="2s" repeatCount="indefinite"/>
                </rect>
                <text x="170" y="130" fill="white" font-size="14" text-anchor="middle">F√çSICAS</text>
                <text x="170" y="150" fill="#E8F5E9" font-size="10" text-anchor="middle">Densidad</text>
                <text x="170" y="165" fill="#E8F5E9" font-size="9" text-anchor="middle">P. fusi√≥n</text>
                <text x="170" y="180" fill="#E8F5E9" font-size="9" text-anchor="middle">Color</text>

                <!-- Qu√≠micas -->
                <rect x="560" y="100" width="140" height="100" fill="#D32F2F" rx="20">
                    <animate attributeName="opacity" values="0.6;1;0.6" dur="2s" repeatCount="indefinite"/>
                </rect>
                <text x="630" y="130" fill="white" font-size="14" text-anchor="middle">QU√çMICAS</text>
                <text x="630" y="150" fill="#FFEBEE" font-size="10" text-anchor="middle">Inflamabilidad</text>
                <text x="630" y="165" fill="#FFEBEE" font-size="9" text-anchor="middle">Reactividad</text>
                <text x="630" y="180" fill="#FFEBEE" font-size="9" text-anchor="middle">Acidez</text>

                <!-- Intensivas -->
                <circle cx="200" cy="350" r="50" fill="#2196F3">
                    <animate attributeName="r" values="50;60;50" begin="1s" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="200" y="340" fill="white" font-size="12" text-anchor="middle">œÅ = 1 g/cm¬≥</text>
                <text x="200" y="360" fill="#BBDEFB" font-size="9" text-anchor="middle">Intensiva</text>

                <!-- Extensivas -->
                <rect x="520" y="320" width="120" height="80" fill="#FF9800" rx="15">
                    <animate attributeName="opacity" values="0.6;1;0.6" begin="1.5s" dur="2s" repeatCount="indefinite"/>
                </rect>
                <text x="580" y="360" fill="white" font-size="12" text-anchor="middle">V = 100 cm¬≥</text>
                <text x="580" y="380" fill="#FFF3E0" font-size="9" text-anchor="middle">Extensiva</text>

                <!-- Flechas -->
                <path d="M400 170 L170 180" stroke="#1976D2" stroke-width="6" marker-end="url(#arrow)"/>
                <path d="M400 170 L630 180" stroke="#1976D2" stroke-width="6" marker-end="url(#arrow)"/>
                <path d="M170 200 L200 300" stroke="#4CAF50" stroke-width="5" marker-end="url(#arrow-green)"/>
                <path d="M630 200 L580 320" stroke="#D32F2F" stroke-width="5" marker-end="url(#arrow-red)"/>
                <path d="M400 330 L200 350" stroke="#2196F3" stroke-width="5" marker-end="url(#arrow-blue)"/>
                <path d="M400 330 L580 360" stroke="#FF9800" stroke-width="5" marker-end="url(#arrow-orange)"/>

                <!-- Marcadores -->
                <defs>
                    <marker id="arrow" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#1976D2"/>
                    </marker>
                    <marker id="arrow-green" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#4CAF50"/>
                    </marker>
                    <marker id="arrow-red" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#D32F2F"/>
                    </marker>
                    <marker id="arrow-blue" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#2196F3"/>
                    </marker>
                    <marker id="arrow-orange" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#FF9800"/>
                    </marker>
                </defs>

                <!-- T√≠tulo -->
                <text x="400" y="60" fill="#0D47A1" font-size="28" text-anchor="middle" font-weight="bold">PROPIEDADES DE LA MATERIA</text>
                <text x="400" y="90" fill="#1565C0" font-size="16" text-anchor="middle">F√≠sicas vs Qu√≠micas | Intensivas vs Extensivas</text>

                <!-- Datos NIST -->
                <text x="400" y="450" fill="#1B5E20" font-size="14" text-anchor="middle">NIST 2025: œÅ_H‚ÇÇO = 0.999972 g/cm¬≥ (4¬∞C)</text>
            </svg>
            <p><em>SVG Animado: √Årbol de clasificaci√≥n con ejemplos animados.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Propiedad f√≠sica ejemplo', 'respuesta' => 'Densidad, color'],
        ['enunciado' => 'Propiedad qu√≠mica ejemplo', 'respuesta' => 'Inflamabilidad'],
        ['enunciado' => 'Intensiva', 'respuesta' => 'Densidad, punto fusi√≥n'],
        ['enunciado' => 'Extensiva', 'respuesta' => 'Masa, volumen'],

        // === APLICADOS ===
        ['enunciado' => 'Densidad agua 4¬∞C', 'respuesta' => '1 g/cm¬≥'],
        ['enunciado' => 'Punto ebullici√≥n etanol', 'respuesta' => '78.37¬∞C'],
        ['enunciado' => 'Masa 1 mol H‚ÇÇO', 'respuesta' => '18.02 g'],

        // === QU√çMICOS ===
        ['enunciado' => 'F√≥rmula densidad', 'respuesta' => '\\(\\rho = \\frac{m}{V}\\)',],
        ['enunciado' => 'Cambio f√≠sico', 'respuesta' => 'Fusi√≥n, evaporaci√≥n'],
        ['enunciado' => 'Cambio qu√≠mico', 'respuesta' => 'Combusti√≥n, oxidaci√≥n'],

        // === AVANZADOS ===
        ['enunciado' => 'NIST: œÅ_H‚ÇÇO exacta 4¬∞C', 'respuesta' => '0.999972 g/cm¬≥'],
        ['enunciado' => 'IUPAC: p.e. oro', 'respuesta' => '1064.18¬∞C']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'F√≠sicas cambian...', 'opciones' => ['Forma', 'Composici√≥n', 'Nada', 'Todo'], 'correcta' => 'Forma'],
        ['pregunta' => 'Qu√≠micas durante...', 'opciones' => ['Reacci√≥n', 'Medici√≥n', 'Fusi√≥n', 'Color'], 'correcta' => 'Reacci√≥n'],
        ['pregunta' => 'Densidad es...', 'opciones' => ['Intensiva', 'Extensiva', 'Qu√≠mica', 'Nada'], 'correcta' => 'Intensiva'],
        ['pregunta' => 'Volumen es...', 'opciones' => ['Extensiva', 'Intensiva', 'Qu√≠mica', 'F√≠sica'], 'correcta' => 'Extensiva'],
        ['pregunta' => 'Color es...', 'opciones' => ['F√≠sica intensiva', 'Qu√≠mica', 'Extensiva', 'Nada'], 'correcta' => 'F√≠sica intensiva'],
        ['pregunta' => 'Masa es...', 'opciones' => ['Extensiva', 'Intensiva', 'Qu√≠mica', 'F√≠sica'], 'correcta' => 'Extensiva'],
        ['pregunta' => 'Inflamabilidad es...', 'opciones' => ['Qu√≠mica', 'F√≠sica', 'Intensiva', 'Extensiva'], 'correcta' => 'Qu√≠mica'],
        ['pregunta' => 'Punto fusi√≥n es...', 'opciones' => ['Intensiva', 'Extensiva', 'Qu√≠mica', 'Nada'], 'correcta' => 'Intensiva'],
        ['pregunta' => 'Cambio f√≠sico', 'opciones' => ['Fusi√≥n', 'Combusti√≥n', 'Reacci√≥n', 'Oxidaci√≥n'], 'correcta' => 'Fusi√≥n'],
        ['pregunta' => 'Densidad agua', 'opciones' => ['1 g/cm¬≥', '0.5 g/cm¬≥', '2 g/cm¬≥', '10 g/cm¬≥'], 'correcta' => '1 g/cm¬≥'],

        // === MEDIO (10) ===
        ['pregunta' => 'Punto ebullici√≥n agua', 'opciones' => ['100¬∞C', '0¬∞C', '78¬∞C', '1064¬∞C'], 'correcta' => '100¬∞C'],
        ['pregunta' => 'Densidad oro', 'opciones' => ['19.3 g/cm¬≥', '1 g/cm¬≥', '0.001 g/cm¬≥', '100 g/cm¬≥'], 'correcta' => '19.3 g/cm¬≥'],
        ['pregunta' => 'Reactividad Na con H‚ÇÇO', 'opciones' => ['Explosiva', 'Lenta', 'Ninguna', 'Fr√≠a'], 'correcta' => 'Explosiva'],
        ['pregunta' => 'F√≥rmula densidad', 'opciones' => ['\\(\\rho = m/V\\)', '\\(\\rho = V/m\\)', '\\(\\rho = m+V\\)', '\\(\\rho = 0\\)'], 'correcta' => '\\(\\rho = m/V\\)',],
        ['pregunta' => 'Cambio qu√≠mico libera...', 'opciones' => ['Energ√≠a', 'Masa', 'Volumen', 'Nada'], 'correcta' => 'Energ√≠a'],
        ['pregunta' => 'Punto fusi√≥n hielo', 'opciones' => ['0¬∞C', '100¬∞C', '-78¬∞C', '1064¬∞C'], 'correcta' => '0¬∞C'],
        ['pregunta' => 'Masa 1 mol NaCl', 'opciones' => ['58.44 g', '18 g', '44 g', '100 g'], 'correcta' => '58.44 g'],
        ['pregunta' => 'Intensiva no cambia con...', 'opciones' => ['Cantidad', 'Temperatura', 'Presi√≥n', 'Color'], 'correcta' => 'Cantidad'],
        ['pregunta' => 'Extensiva cambia con...', 'opciones' => ['Cantidad', 'Densidad', 'Color', 'pH'], 'correcta' => 'Cantidad'],
        ['pregunta' => 'IUPAC define p.e. oro', 'opciones' => ['1064.18¬∞C', '100¬∞C', '0¬∞C', '78¬∞C'], 'correcta' => '1064.18¬∞C'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'NIST: œÅ_H‚ÇÇO a 4¬∞C', 'opciones' => ['0.999972 g/cm¬≥', '1.000000 g/cm¬≥', '0.998 g/cm¬≥', '1.002 g/cm¬≥'], 'correcta' => '0.999972 g/cm¬≥'],
        ['pregunta' => 'Densidad diamante', 'opciones' => ['3.51 g/cm¬≥', '19.3 g/cm¬≥', '1 g/cm¬≥', '0.001 g/cm¬≥'], 'correcta' => '3.51 g/cm¬≥'],
        ['pregunta' => 'Conductividad t√©rmica es...', 'opciones' => ['F√≠sica intensiva', 'Qu√≠mica', 'Extensiva', 'Nada'], 'correcta' => 'F√≠sica intensiva'],
        ['pregunta' => 'Calor espec√≠fico es...', 'opciones' => ['Intensiva', 'Extensiva', 'Qu√≠mica', 'Masa'], 'correcta' => 'Intensiva'],
        ['pregunta' => 'Entalp√≠a combusti√≥n es...', 'opciones' => ['Qu√≠mica extensiva', 'Intensiva', 'F√≠sica', 'Nada'], 'correcta' => 'Qu√≠mica extensiva'],
        ['pregunta' => 'p.e. etanol IUPAC', 'opciones' => ['78.37¬∞C', '100¬∞C', '64¬∞C', '90¬∞C'], 'correcta' => '78.37¬∞C'],
        ['pregunta' => 'Densidad aire STP', 'opciones' => ['1.293 g/L', '1 g/L', '0.001 g/L', '100 g/L'], 'correcta' => '1.293 g/L'],
        ['pregunta' => 'Viscosidad es...', 'opciones' => ['F√≠sica intensiva', 'Qu√≠mica', 'Extensiva', 'Masa'], 'correcta' => 'F√≠sica intensiva'],
        ['pregunta' => 'Ley conservaci√≥n masa', 'opciones' => ['Lavoisier', 'Dalton', 'Boyle', 'Avogadro'], 'correcta' => 'Lavoisier'],
        ['pregunta' => 'p.f. NaCl IUPAC', 'opciones' => ['801¬∞C', '100¬∞C', '0¬∞C', '1413¬∞C'], 'correcta' => '801¬∞C']
    ]
];
// ========================================
// MATERIA: QU√çMICA I
// SUBTEMA: Cambios Qu√≠micos (Reacciones, Se√±ales, Tipos, Ecuaciones, Conservaci√≥n)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Qu√≠mica I',
    'slug' => 'cambios-quimicos-materia',
    'titulo' => 'Cambios Qu√≠micos: Cuando la Materia se Transforma',
    'contenido' => '
        <h3>Cambios Qu√≠micos</h3>
        <p>Los <strong>cambios qu√≠micos</strong> (o <strong>reacciones qu√≠micas</strong>) <strong>alteran la composici√≥n</strong> de la materia formando <strong>nuevas sustancias</strong>. <strong>No son reversibles</strong> f√°cilmente.</p>

        <hr style="border:1px dashed #D32F2F;">

        <h4>1. Se√±ales de Cambio Qu√≠mico</h4>
        <table class="table">
            <thead>
                <tr><th>Se√±al</th><th>Ejemplo</th><th>Reacci√≥n</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Cambio de color</strong></td><td>Fe ‚Üí Fe‚ÇÇO‚ÇÉ (herrumbre)</td><td>Rojo</td></tr>
                <tr><td><strong>Liberaci√≥n de gas</strong></td><td>CaCO‚ÇÉ + HCl</td><td>CO‚ÇÇ ‚Üë</td></tr>
                <tr><td><strong>Formaci√≥n precipitado</strong></td><td>AgNO‚ÇÉ + NaCl</td><td>AgCl ‚Üì</td></tr>
                <tr><td><strong>Calor/luz</strong></td><td>CH‚ÇÑ + 2O‚ÇÇ</td><td>Fuego</td></tr>
                <tr><td><strong>Olor</strong></td><td>H‚ÇÇS</td><td>Huevos podridos</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Combusti√≥n del metano</strong>:<br>
            \\[ \\ce{CH4 + 2O2 -> CO2 + 2H2O} \\] ‚Üí gas, calor, luz.</p>
        </div>

        <hr style="border:1px dashed #D32F2F;">

        <h4>2. Tipos de Cambios Qu√≠micos</h4>
        <table class="table">
            <thead>
                <tr><th>Tipo</th><th>Definici√≥n</th><th>Ejemplo</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Exot√©rmico</strong></td><td>Libera calor</td><td>Combusti√≥n</td></tr>
                <tr><td><strong>Endot√©rmico</strong></td><td>Absorbe calor</td><td>Fotos√≠ntesis</td></tr>
                <tr><td><strong>Redox</strong></td><td>Transferencia e‚Åª</td><td>Pila Zn-Cu</td></tr>
                <tr><td><strong>√Åcido-base</strong></td><td>Neutralizaci√≥n</td><td>HCl + NaOH</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #D32F2F;">

        <h4>3. Conservaci√≥n de la Masa (Lavoisier)</h4>
        <p>\[
            \\text{Masa}_{\\text{reactivos}} = \\text{Masa}_{\\text{productos}}
        \]</p>
        <p><strong>Ejemplo:</strong> 2H‚ÇÇ + O‚ÇÇ ‚Üí 2H‚ÇÇO ‚Üí 4g + 32g = 36g</p>

        <div class="visual">
            <img src="assets/img/cambios-quimico-se√±ale.png" alt="Se√±ales cambio qu√≠mico">
            <p><em>Se√±ales visuales. Fuente: LibreTexts.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/ejemplos-cambios-quimicos.png" alt="Ejemplos">
            <p><em>Ejemplos reales. Fuente: ThoughtCo.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/combustion_metano.png" alt="Combusti√≥n metano">
            <p><em>Reacci√≥n metano. Fuente: Wikipedia.</em></p>
        </div>

        <hr style="border:1px dashed #D32F2F;">

        <h4>4. Ecuaciones Qu√≠micas</h4>
        <p><strong>Reglas:</strong></p>
        <ul>
            <li>Balancear √°tomos</li>
            <li>Estados: (s), (l), (g), (aq)</li>
            <li>Flecha ‚Üí (irreversible), ‚áå (reversible)</li>
        </ul>
        <p>Ejemplo balanceado:<br>
        \\[ \\ce{2Mg(s) + O2(g) -> 2MgO(s)} \\]</p>

        <hr style="border:1px dashed #D32F2F;">

        <h4>5. SVG Animado: Cambio Qu√≠mico en Acci√≥n</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="800" height="500" fill="#FFEBEE"/>

                <!-- T√≠tulo -->
                <text x="400" y="50" fill="#B71C1C" font-size="28" text-anchor="middle" font-weight="bold">CAMBIO QU√çMICO</text>

                <!-- Reactivos -->
                <g id="reactivos">
                    <circle cx="150" cy="250" r="50" fill="#2196F3">
                        <animate attributeName="r" values="50;60;50" dur="2s" repeatCount="indefinite"/>
                    </circle>
                    <text x="150" y="240" fill="white" font-size="14" text-anchor="middle">H‚ÇÇ</text>
                    <text x="150" y="260" fill="#BBDEFB" font-size="10" text-anchor="middle">(g)</text>

                    <circle cx="300" cy="250" r="50" fill="#F44336">
                        <animate attributeName="r" values="50;60;50" begin="0.5s" dur="2s" repeatCount="indefinite"/>
                    </circle>
                    <text x="300" y="240" fill="white" font-size="14" text-anchor="middle">O‚ÇÇ</text>
                    <text x="300" y="260" fill="#FFCDD2" font-size="10" text-anchor="middle">(g)</text>
                </g>

                <!-- Flecha reacci√≥n -->
                <path d="M200 250 L400 250" stroke="#B71C1C" stroke-width="6" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" values="0;100" dur="3s" repeatCount="indefinite"/>
                </path>
                <text x="300" y="230" fill="#B71C1C" font-size="16">Reacci√≥n</text>
                <text x="300" y="280" fill="#D32F2F" font-size="12">+ Calor</text>

                <!-- Producto -->
                <g id="producto" opacity="0">
                    <rect x="480" y="200" width="140" height="100" fill="#4CAF50" rx="20"/>
                    <text x="550" y="240" fill="white" font-size="14" text-anchor="middle">H‚ÇÇO</text>
                    <text x="550" y="260" fill="#E8F5E9" font-size="10" text-anchor="middle">(l)</text>
                    <animate attributeName="opacity" values="0;1" begin="2s" dur="1s"/>
                </g>

                <!-- Part√≠culas -->
                <g id="particulas">
                    <circle cx="350" cy="220" r="8" fill="#FF9800">
                        <animate attributeName="cy" values="220;180;140" dur="2s" begin="1s" repeatCount="indefinite"/>
                        <animate attributeName="opacity" values="1;0" dur="2s" begin="1s" repeatCount="indefinite"/>
                    </circle>
                    <text x="350" y="210" fill="#E65100" font-size="10" text-anchor="middle">Calor</text>
                </g>

                <!-- Ecuaci√≥n -->
                <text x="400" y="350" fill="#1565C0" font-size="18" text-anchor="middle">2H‚ÇÇ + O‚ÇÇ ‚Üí 2H‚ÇÇO</text>
                <text x="400" y="380" fill="#1976D2" font-size="14" text-anchor="middle">Exot√©rmica</text>

                <!-- Se√±ales -->
                <rect x="50" y="380" width="180" height="80" fill="#E8F5E9" rx="15"/>
                <text x="140" y="410" fill="#1B5E20" font-size="12" text-anchor="middle">Gas + Calor + Luz</text>
                <text x="140" y="430" fill="#2E7D32" font-size="10" text-anchor="middle">Se√±ales</text>

                <!-- Conservaci√≥n -->
                <text x="600" y="380" fill="#6A1B9A" font-size="14" text-anchor="middle">Masa conservada</text>
                <text x="600" y="410" fill="#4A148C" font-size="12" text-anchor="middle">Lavoisier 1789</text>

                <!-- Marcador -->
                <defs>
                    <marker id="arrow" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#B71C1C"/>
                    </marker>
                </defs>

                <!-- Animaci√≥n final -->
                <animate href="#reactivos" attributeName="opacity" values="1;0.3;1" dur="4s" repeatCount="indefinite"/>
            </svg>
            <p><em>SVG Animado: 2H‚ÇÇ + O‚ÇÇ ‚Üí 2H‚ÇÇO con se√±ales y conservaci√≥n.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Se√±al cambio qu√≠mico', 'respuesta' => 'Gas, precipitado, calor'],
        ['enunciado' => 'Ejemplo cambio qu√≠mico', 'respuesta' => 'Combusti√≥n, oxidaci√≥n'],
        ['enunciado' => 'Diferencia con f√≠sico', 'respuesta' => 'Cambia composici√≥n'],

        // === APLICADOS ===
        ['enunciado' => 'Reacci√≥n exot√©rmica', 'respuesta' => 'Combusti√≥n metano'],
        ['enunciado' => 'Endot√©rmica', 'respuesta' => 'Fotos√≠ntesis'],
        ['enunciado' => 'Balancea: H‚ÇÇ + O‚ÇÇ ‚Üí H‚ÇÇO', 'respuesta' => '2H‚ÇÇ + O‚ÇÇ ‚Üí 2H‚ÇÇO'],

        // === QU√çMICOS ===
        ['enunciado' => 'Ley conservaci√≥n masa', 'respuesta' => 'Lavoisier'],
        ['enunciado' => 'Ecuaci√≥n herrumbre', 'respuesta' => '4Fe + 3O‚ÇÇ ‚Üí 2Fe‚ÇÇO‚ÇÉ'],
        ['enunciado' => 'Precipitado ejemplo', 'respuesta' => 'AgCl (blanco)'],

        // === AVANZADOS ===
        ['enunciado' => 'ŒîH < 0 significa', 'respuesta' => 'Exot√©rmica'],
        ['enunciado' => 'IUPAC: combusti√≥n completa', 'respuesta' => 'CO‚ÇÇ + H‚ÇÇO'],
        ['enunciado' => 'NIST: ŒîH combusti√≥n CH‚ÇÑ', 'respuesta' => '-890.3 kJ/mol']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Cambios qu√≠micos forman...', 'opciones' => ['Nuevas sustancias', 'Igual', 'Forma', 'Color'], 'correcta' => 'Nuevas sustancias'],
        ['pregunta' => 'Se√±al com√∫n', 'opciones' => ['Gas liberado', 'Fusi√≥n', 'Corte', 'Evaporaci√≥n'], 'correcta' => 'Gas liberado'],
        ['pregunta' => 'Ejemplo', 'opciones' => ['Quema madera', 'Hielo derrite', 'Agua hierve', 'Papel corta'], 'correcta' => 'Quema madera'],
        ['pregunta' => 'Reversible?', 'opciones' => ['General no', 'S√≠', 'Siempre', 'Nunca'], 'correcta' => 'General no'],
        ['pregunta' => 'Combusti√≥n es...', 'opciones' => ['Exot√©rmica', 'Endot√©rmica', 'F√≠sica', 'Nuclear'], 'correcta' => 'Exot√©rmica'],
        ['pregunta' => 'Fotos√≠ntesis es...', 'opciones' => ['Endot√©rmica', 'Exot√©rmica', 'F√≠sica', 'Nuclear'], 'correcta' => 'Endot√©rmica'],
        ['pregunta' => 'Herrumbre es...', 'opciones' => ['Cambio qu√≠mico', 'F√≠sico', 'Nuclear', 'Nada'], 'correcta' => 'Cambio qu√≠mico'],
        ['pregunta' => 'Precipitado es...', 'opciones' => ['S√≥lido insoluble', 'L√≠quido', 'Gas', 'Plasma'], 'correcta' => 'S√≥lido insoluble'],
        ['pregunta' => 'Conservaci√≥n masa por...', 'opciones' => ['Lavoisier', 'Dalton', 'Boyle', 'Avogadro'], 'correcta' => 'Lavoisier'],
        ['pregunta' => 'Ecuaci√≥n balanceada tiene...', 'opciones' => ['Igual # √°tomos', 'M√°s reactivos', 'Menos productos', 'Nada'], 'correcta' => 'Igual # √°tomos'],

        // === MEDIO (10) ===
        ['pregunta' => 'Reacci√≥n: 2H‚ÇÇ + O‚ÇÇ ‚Üí', 'opciones' => ['2H‚ÇÇO', 'H‚ÇÇO', 'H‚ÇÑO‚ÇÇ', 'HO'], 'correcta' => '2H‚ÇÇO'],
        ['pregunta' => 'Gas en CaCO‚ÇÉ + HCl', 'opciones' => ['CO‚ÇÇ', 'H‚ÇÇ', 'O‚ÇÇ', 'N‚ÇÇ'], 'correcta' => 'CO‚ÇÇ'],
        ['pregunta' => 'Color en Cu + HNO‚ÇÉ', 'opciones' => ['Verde ‚Üí azul', 'Rojo', 'Blanco', 'Negro'], 'correcta' => 'Verde ‚Üí azul'],
        ['pregunta' => 'ŒîH < 0 es...', 'opciones' => ['Exot√©rmica', 'Endot√©rmica', 'Isot√©rmica', 'Adiab√°tica'], 'correcta' => 'Exot√©rmica'],
        ['pregunta' => 'Neutralizaci√≥n es...', 'opciones' => ['√Åcido + base', 'Metal + no metal', 'Combusti√≥n', 'Fusi√≥n'], 'correcta' => '√Åcido + base'],
        ['pregunta' => 'Redox involucra...', 'opciones' => ['e‚Åª', 'H‚Å∫', 'OH‚Åª', 'Calor'], 'correcta' => 'e‚Åª'],
        ['pregunta' => 'Masa reactivos =', 'opciones' => ['Masa productos', 'Volumen', 'Temperatura', 'Color'], 'correcta' => 'Masa productos'],
        ['pregunta' => 'Fermentaci√≥n produce...', 'opciones' => ['CO‚ÇÇ + etanol', 'O‚ÇÇ', 'H‚ÇÇO', 'CH‚ÇÑ'], 'correcta' => 'CO‚ÇÇ + etanol'],
        ['pregunta' => 'IUPAC: estado gas', 'opciones' => ['(g)', '(s)', '(l)', '(aq)'], 'correcta' => '(g)'],
        ['pregunta' => 'Reacci√≥n reversible usa...', 'opciones' => ['‚áå', '‚Üí', '=', '‚â°'], 'correcta' => '‚áå'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'Balancea: Fe + O‚ÇÇ ‚Üí Fe‚ÇÇO‚ÇÉ', 'opciones' => ['4Fe + 3O‚ÇÇ ‚Üí 2Fe‚ÇÇO‚ÇÉ', 'Fe + O‚ÇÇ ‚Üí Fe‚ÇÇO‚ÇÉ', '2Fe + O‚ÇÇ ‚Üí Fe‚ÇÇO‚ÇÉ', 'Fe + 3O‚ÇÇ ‚Üí Fe‚ÇÇO‚ÇÉ'], 'correcta' => '4Fe + 3O‚ÇÇ ‚Üí 2Fe‚ÇÇO‚ÇÉ'],
        ['pregunta' => 'ŒîH combusti√≥n CH‚ÇÑ (NIST)', 'opciones' => ['-890.3 kJ/mol', '-393.5 kJ/mol', '-285.8 kJ/mol', '0 kJ/mol'], 'correcta' => '-890.3 kJ/mol'],
        ['pregunta' => 'Reacci√≥n fotos√≠ntesis', 'opciones' => ['6CO‚ÇÇ + 6H‚ÇÇO ‚Üí C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ + 6O‚ÇÇ', 'C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ ‚Üí CO‚ÇÇ + H‚ÇÇO', 'CO‚ÇÇ ‚Üí C + O‚ÇÇ', 'H‚ÇÇO ‚Üí H‚ÇÇ + O‚ÇÇ'], 'correcta' => '6CO‚ÇÇ + 6H‚ÇÇO ‚Üí C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ + 6O‚ÇÇ'],
        ['pregunta' => 'Cin√©tica estudia...', 'opciones' => ['Velocidad reacci√≥n', 'Equilibrio', 'Masa', 'Volumen'], 'correcta' => 'Velocidad reacci√≥n'],
        ['pregunta' => 'Catalizador...', 'opciones' => ['Aumenta velocidad', 'Cambia ŒîH', 'Se consume', 'Detiene reacci√≥n'], 'correcta' => 'Aumenta velocidad'],
        ['pregunta' => 'Reacci√≥n espont√°nea si...', 'opciones' => ['ŒîG < 0', 'ŒîH < 0', 'ŒîS > 0', 'T > 0'], 'correcta' => 'ŒîG < 0'],
        ['pregunta' => 'Equilibrio din√°mico significa...', 'opciones' => ['Velocidades iguales', 'Reacci√≥n parada', 'Sin productos', 'Sin reactivos'], 'correcta' => 'Velocidades iguales'],
        ['pregunta' => 'IUPAC: combusti√≥n incompleta', 'opciones' => ['CO + H‚ÇÇO', 'CO‚ÇÇ + H‚ÇÇO', 'C + O‚ÇÇ', 'CH‚ÇÑ + O‚ÇÇ'], 'correcta' => 'CO + H‚ÇÇO'],
        ['pregunta' => 'Termoqu√≠mica mide...', 'opciones' => ['ŒîH', 'ŒîS', 'ŒîG', 'Todas'], 'correcta' => 'Todas'],
        ['pregunta' => 'Reacci√≥n nuclear vs qu√≠mica', 'opciones' => ['N√∫cleo vs electrones', 'Igual', 'Solo masa', 'Solo energ√≠a'], 'correcta' => 'N√∫cleo vs electrones']
    ]
];
// ========================================
// MATERIA: QU√çMICA I
// SUBTEMA: Propiedades F√≠sicas (Intensivas, Extensivas, Estados, Conductividad, Solubilidad)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Qu√≠mica I',
    'slug' => 'propiedades-fisicas-materia',
    'titulo' => 'Propiedades F√≠sicas: El ADN Invisible de la Materia',
    'contenido' => '
        <h3>Propiedades F√≠sicas de la Materia</h3>
        <p>Las <strong>propiedades f√≠sicas</strong> se miden <strong>sin alterar la composici√≥n qu√≠mica</strong>. Son clave para <strong>identificar</strong> y <strong>clasificar</strong> sustancias. <strong>No forman nuevas mol√©culas</strong>.</p>

        <hr style="border:1px dashed #1976D2;">

        <h4>1. Clasificaci√≥n de Propiedades F√≠sicas</h4>
        <table class="table">
            <thead>
                <tr><th>Propiedad</th><th>Tipo</th><th>Unidad</th><th>Ejemplo (Agua)</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Densidad</strong></td><td>Intensiva</td><td>g/cm¬≥</td><td>1.000</td></tr>
                <tr><td><strong>Punto fusi√≥n</strong></td><td>Intensiva</td><td>¬∞C</td><td>0.00</td></tr>
                <tr><td><strong>Punto ebullici√≥n</strong></td><td>Intensiva</td><td>¬∞C</td><td>100.00</td></tr>
                <tr><td><strong>Conductividad t√©rmica</strong></td><td>Intensiva</td><td>W/m¬∑K</td><td>0.606</td></tr>
                <tr><td><strong>Conductividad el√©ctrica</strong></td><td>Intensiva</td><td>S/m</td><td>5.5√ó10‚Åª‚Å∂</td></tr>
                <tr><td><strong>Solubilidad</strong></td><td>Intensiva</td><td>g/100 mL</td><td>‚Äî</td></tr>
                <tr><td><strong>Volumen</strong></td><td>Extensiva</td><td>cm¬≥</td><td>18.02 (1 mol)</td></tr>
                <tr><td><strong>Masa</strong></td><td>Extensiva</td><td>g</td><td>18.02 (1 mol)</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Mercurio (Hg)</strong>: l√≠quido a 25¬∞C, densidad 13.534 g/cm¬≥, conduce electricidad ‚Üí <strong>metal l√≠quido</strong>.</p>
        </div>

        <hr style="border:1px dashed #1976D2;">

        <h4>2. Estados de la Materia y Cambios F√≠sicos</h4>
        <table class="table">
            <thead>
                <tr><th>Estado</th><th>Caracter√≠sticas</th><th>Ejemplo</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>S√≥lido</strong></td><td>Forma fija, volumen fijo</td><td>Hielo</td></tr>
                <tr><td><strong>L√≠quido</strong></td><td>Volumen fijo, forma variable</td><td>Agua</td></tr>
                <tr><td><strong>Gas</strong></td><td>Forma y volumen variable</td><td>Vapor</td></tr>
                <tr><td><strong>Plasma</strong></td><td>Iones + e‚Åª</td><td>Ne√≥n</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/estado_materia-transicion.webp" alt="Estados de la materia">
            <p><em>Estados y transiciones. Fuente: LibreTexts.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/propiedades-fisicas-materia.jpg" alt="Propiedades f√≠sicas">
            <p><em>Lista visual. Fuente: ThoughtCo.</em></p>
        </div>

        <hr style="border:1px dashed #1976D2;">

        <h4>3. F√≥rmulas Clave</h4>
        <p>\[
            \\rho = \\frac{m}{V} \\quad \\text{(densidad)}
        \]</p>
        <p>\[
            \\Delta T = T_f - T_i \\quad \\text{(cambio temperatura)}
        \]</p>
        <p>\[
            \\text{Solubilidad} = \\frac{\\text{masa soluto}}{\\text{volumen disolvente}}
        \]</p>

        <hr style="border:1px dashed #1976D2;">

        <h4>4. Datos NIST 2025 (Precisi√≥n)</h4>
        <table class="table">
            <thead>
                <tr><th>Sustancia</th><th>P. Fusi√≥n (¬∞C)</th><th>P. Ebullici√≥n (¬∞C)</th><th>Densidad (g/cm¬≥)</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Agua</strong></td><td>0.000</td><td>99.974</td><td>0.999972 (4¬∞C)</td></tr>
                <tr><td><strong>Etanol</strong></td><td>-114.1</td><td>78.37</td><td>0.789</td></tr>
                <tr><td><strong>Mercurio</strong></td><td>-38.83</td><td>356.73</td><td>13.534</td></tr>
                <tr><td><strong>Diamante</strong></td><td>3550</td><td>‚Äî</td><td>3.515</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/constantes-f√≠sicas.png" alt="NIST 2025">
            <p><em>Constantes f√≠sicas. Fuente: NIST.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/mas-constantes.png" alt="NIST 2025">
            <p><em>M√°s constantes f√≠sicas. Fuente: NIST.</em></p>
        </div>


        <hr style="border:1px dashed #1976D2;">

        <h4>5. SVG Animado: Transiciones de Estado (Agua)</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="800" height="500" fill="#E3F2FD"/>

                <!-- T√≠tulo -->
                <text x="400" y="50" fill="#0D47A1" font-size="28" text-anchor="middle" font-weight="bold">CAMBIOS F√çSICOS: H‚ÇÇO</text>

                <!-- Hielo -->
                <g id="hielo">
                    <rect x="100" y="200" width="120" height="120" fill="#BBDEFB" rx="15"/>
                    <text x="160" y="260" fill="#1565C0" font-size="14" text-anchor="middle">HIELO</text>
                    <text x="160" y="280" fill="#1976D2" font-size="10" text-anchor="middle">0¬∞C</text>
                </g>

                <!-- Flecha fusi√≥n -->
                <path d="M220 260 L320 260" stroke="#1976D2" stroke-width="6" marker-end="url(#arrow)"/>
                <text x="270" y="245" fill="#1565C0" font-size="12">Fusi√≥n</text>
                <text x="270" y="295" fill="#1976D2" font-size="10">+334 J/g</text>

                <!-- Agua l√≠quida -->
                <g id="liquido" opacity="0">
                    <rect x="340" y="200" width="120" height="120" fill="#2196F3" rx="15"/>
                    <text x="400" y="260" fill="white" font-size="14" text-anchor="middle">AGUA</text>
                    <text x="400" y="280" fill="#BBDEFB" font-size="10" text-anchor="middle">25¬∞C</text>
                    <animate attributeName="opacity" values="0;1" begin="2s" dur="1s"/>
                </g>

                <!-- Flecha evaporaci√≥n -->
                <path d="M460 260 L560 200" stroke="#1976D2" stroke-width="6" marker-end="url(#arrow)"/>
                <text x="510" y="185" fill="#1565C0" font-size="12">Evaporaci√≥n</text>
                <text x="510" y="235" fill="#1976D2" font-size="10">+2260 J/g</text>

                <!-- Vapor -->
                <g id="vapor" opacity="0">
                    <circle cx="620" cy="150" r="60" fill="none" stroke="#90CAF9" stroke-width="4" stroke-dasharray="5,5"/>
                    <text x="620" y="145" fill="#1565C0" font-size="14" text-anchor="middle">VAPOR</text>
                    <text x="620" y="165" fill="#1976D2" font-size="10" text-anchor="middle">100¬∞C</text>
                    <animate attributeName="opacity" values="0;1" begin="4s" dur="1s"/>
                </g>

                <!-- Part√≠culas -->
                <g id="particulas">
                    <circle cx="300" cy="240" r="8" fill="#90CAF9">
                        <animate attributeName="cy" values="240;200;160" dur="3s" begin="1s" repeatCount="indefinite"/>
                        <animate attributeName="opacity" values="1;0.5;0" dur="3s" begin="1s" repeatCount="indefinite"/>
                    </circle>
                </g>

                <!-- Propiedades -->
                <rect x="50" y="350" width="200" height="100" fill="#E8F5E9" rx="15"/>
                <text x="150" y="380" fill="#1B5E20" font-size="12" text-anchor="middle">œÅ = 1 g/cm¬≥</text>
                <text x="150" y="400" fill="#2E7D32" font-size="10" text-anchor="middle">Intensiva</text>

                <rect x="550" y="350" width="200" height="100" fill="#FFF3E0" rx="15"/>
                <text x="650" y="380" fill="#E65100" font-size="12" text-anchor="middle">V = 18 cm¬≥/mol</text>
                <text x="650" y="400" fill="#FF6F00" font-size="10" text-anchor="middle">Extensiva</text>

                <!-- NIST -->
                <text x="400" y="470" fill="#1565C0" font-size="14" text-anchor="middle">NIST 2025: P.F. H‚ÇÇO = 0.000¬∞C</text>

                <!-- Marcador -->
                <defs>
                    <marker id="arrow" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#1976D2"/>
                    </marker>
                </defs>
            </svg>
            <p><em>SVG Animado: Hielo ‚Üí Agua ‚Üí Vapor con energ√≠as y propiedades.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Propiedad f√≠sica ejemplo', 'respuesta' => 'Densidad, punto fusi√≥n'],
        ['enunciado' => 'No cambia composici√≥n', 'respuesta' => 'S√≠'],
        ['enunciado' => 'Intensiva/extensiva', 'respuesta' => 'Densidad intensiva, volumen extensiva'],

        // === APLICADOS ===
        ['enunciado' => 'Densidad agua 4¬∞C', 'respuesta' => '0.999972 g/cm¬≥'],
        ['enunciado' => 'Punto ebullici√≥n etanol', 'respuesta' => '78.37¬∞C'],
        ['enunciado' => 'Conductividad t√©rmica agua', 'respuesta' => '0.606 W/m¬∑K'],

        // === QU√çMICOS ===
        ['enunciado' => 'F√≥rmula densidad', 'respuesta' => '\\(\\rho = \\frac{m}{V}\\)',],
        ['enunciado' => 'Cambio f√≠sico', 'respuesta' => 'Fusi√≥n, evaporaci√≥n, disoluci√≥n'],
        ['enunciado' => 'Solubilidad NaCl en agua', 'respuesta' => '35.9 g/100 mL (20¬∞C)'],

        // === AVANZADOS ===
        ['enunciado' => 'NIST: P.F. H‚ÇÇO exacto', 'respuesta' => '0.000¬∞C'],
        ['enunciado' => 'IUPAC: P.E. Hg', 'respuesta' => '356.73¬∞C'],
        ['enunciado' => 'Diamante: conductividad el√©ctrica', 'respuesta' => 'Aislante (10‚Åª¬π‚Å¥ S/m)']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Propiedades f√≠sicas miden...', 'opciones' => ['Sin cambio composici√≥n', 'Con cambio', 'Reacci√≥n', 'Explosi√≥n'], 'correcta' => 'Sin cambio composici√≥n'],
        ['pregunta' => 'Ejemplo f√≠sica', 'opciones' => ['Solubilidad', 'Inflamabilidad', 'Acidez', 'Oxidaci√≥n'], 'correcta' => 'Solubilidad'],
        ['pregunta' => 'Densidad es...', 'opciones' => ['Intensiva', 'Extensiva', 'Qu√≠mica', 'Nada'], 'correcta' => 'Intensiva'],
        ['pregunta' => 'Conductividad t√©rmica', 'opciones' => ['F√≠sica', 'Qu√≠mica', 'Nuclear', 'Biol√≥gica'], 'correcta' => 'F√≠sica'],
        ['pregunta' => 'Volumen es...', 'opciones' => ['Extensiva', 'Intensiva', 'Qu√≠mica', 'F√≠sica'], 'correcta' => 'Extensiva'],
        ['pregunta' => 'Punto fusi√≥n es...', 'opciones' => ['Intensiva', 'Extensiva', 'Qu√≠mica', 'Nada'], 'correcta' => 'Intensiva'],
        ['pregunta' => 'Cambio f√≠sico', 'opciones' => ['Fusi√≥n', 'Combusti√≥n', 'Reacci√≥n', '√ìxido'], 'correcta' => 'Fusi√≥n'],
        ['pregunta' => 'Estado con forma fija', 'opciones' => ['S√≥lido', 'L√≠quido', 'Gas', 'Plasma'], 'correcta' => 'S√≥lido'],
        ['pregunta' => 'Agua hierve a...', 'opciones' => ['100¬∞C', '0¬∞C', '-38¬∞C', '356¬∞C'], 'correcta' => '100¬∞C'],
        ['pregunta' => 'Mercurio es...', 'opciones' => ['L√≠quido a 25¬∞C', 'S√≥lido', 'Gas', 'Plasma'], 'correcta' => 'L√≠quido a 25¬∞C'],

        // === MEDIO (10) ===
        ['pregunta' => 'Densidad agua 4¬∞C', 'opciones' => ['0.999972 g/cm¬≥', '1.000 g/cm¬≥', '0.5 g/cm¬≥', '13.5 g/cm¬≥'], 'correcta' => '0.999972 g/cm¬≥'],
        ['pregunta' => 'Punto ebullici√≥n etanol', 'opciones' => ['78.37¬∞C', '100¬∞C', '0¬∞C', '356¬∞C'], 'correcta' => '78.37¬∞C'],
        ['pregunta' => 'Conductividad t√©rmica cobre', 'opciones' => ['~400 W/m¬∑K', '0.6 W/m¬∑K', '0.02 W/m¬∑K', '0 W/m¬∑K'], 'correcta' => '~400 W/m¬∑K'],
        ['pregunta' => 'Solubilidad NaCl 20¬∞C', 'opciones' => ['35.9 g/100 mL', '100 g', '0 g', '1 g'], 'correcta' => '35.9 g/100 mL'],
        ['pregunta' => 'Diamante es...', 'opciones' => ['Aislante el√©ctrico', 'Conductor', 'Semiconductor', 'Superconductor'], 'correcta' => 'Aislante el√©ctrico'],
        ['pregunta' => 'F√≥rmula densidad', 'opciones' => ['\\(\\rho = m/V\\)', '\\(\\rho = V/m\\)', '\\(\\rho = m+V\\)', '\\(\\rho = 0\\)'], 'correcta' => '\\(\\rho = m/V\\)',],
        ['pregunta' => 'Calor latente fusi√≥n H‚ÇÇO', 'opciones' => ['334 J/g', '2260 J/g', '0 J/g', '100 J/g'], 'correcta' => '334 J/g'],
        ['pregunta' => 'IUPAC: P.F. Hg', 'opciones' => ['-38.83¬∞C', '0¬∞C', '100¬∞C', '356¬∞C'], 'correcta' => '-38.83¬∞C'],
        ['pregunta' => 'Estado plasma contiene...', 'opciones' => ['Iones + e‚Åª', 'Mol√©culas', '√Åtomos', 'Nada'], 'correcta' => 'Iones + e‚Åª'],
        ['pregunta' => 'Viscosidad es...', 'opciones' => ['F√≠sica intensiva', 'Qu√≠mica', 'Extensiva', 'Masa'], 'correcta' => 'F√≠sica intensiva'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'NIST: P.E. H‚ÇÇO exacto', 'opciones' => ['99.974¬∞C', '100.000¬∞C', '99.000¬∞C', '100.974¬∞C'], 'correcta' => '99.974¬∞C'],
        ['pregunta' => 'Densidad Hg 20¬∞C', 'opciones' => ['13.534 g/cm¬≥', '1.000 g/cm¬≥', '0.789 g/cm¬≥', '3.515 g/cm¬≥'], 'correcta' => '13.534 g/cm¬≥'],
        ['pregunta' => 'Conductividad el√©ctrica Au', 'opciones' => ['4.1√ó10‚Å∑ S/m', '5.5√ó10‚Åª‚Å∂ S/m', '0 S/m', '10¬π‚Å¥ S/m'], 'correcta' => '4.1√ó10‚Å∑ S/m'],
        ['pregunta' => 'Calor espec√≠fico agua', 'opciones' => ['4.184 J/g¬∑¬∞C', '0.606 J/g¬∑¬∞C', '2.080 J/g¬∑¬∞C', '0.385 J/g¬∑¬∞C'], 'correcta' => '4.184 J/g¬∑¬∞C'],
        ['pregunta' => 'Punto cr√≠tico H‚ÇÇO', 'opciones' => ['374¬∞C, 218 atm', '100¬∞C, 1 atm', '0¬∞C, 1 atm', '647 K, 22.1 MPa'], 'correcta' => '374¬∞C, 218 atm'],
        ['pregunta' => 'Diamante: P.F. estimado', 'opciones' => ['3550¬∞C', '100¬∞C', '0¬∞C', '1064¬∞C'], 'correcta' => '3550¬∞C'],
        ['pregunta' => '√çndice refracci√≥n agua', 'opciones' => ['1.333', '1.000', '2.417', '0.5'], 'correcta' => '1.333'],
        ['pregunta' => 'Superfluidez en...', 'opciones' => ['He-4 < 2.17 K', 'H‚ÇÇO', 'Hg', 'Au'], 'correcta' => 'He-4 < 2.17 K'],
        ['pregunta' => 'Ley de Dulong-Petit aplica a...', 'opciones' => ['S√≥lidos', 'Gases', 'L√≠quidos', 'Plasma'], 'correcta' => 'S√≥lidos'],
        ['pregunta' => 'IUPAC define P.E. como...', 'opciones' => ['T a 1 atm', 'T a 0¬∞C', 'T a 100¬∞C', 'T cr√≠tica'], 'correcta' => 'T a 1 atm']
    ]
];
// ========================================
// MATERIA: QU√çMICA I
// SUBTEMA: Estados de la Materia y Transiciones (Fusi√≥n, Sublimaci√≥n, Calor Latente, Diagrama Fases)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Qu√≠mica I',
    'slug' => 'estados-materia',
    'titulo' => 'Estados de la Materia y sus Transiciones: El Ciclo de la Energ√≠a',
    'contenido' => '
        <h3>Estados de la Materia</h3>
        <p>La materia existe en <strong>cuatro estados principales</strong> seg√∫n <strong>temperatura</strong> y <strong>presi√≥n</strong>. Las <strong>transiciones</strong> entre ellos requieren o liberan <strong>energ√≠a</strong>.</p>

        <hr style="border:1px dashed #1976D2;">

        <h4>1. Los Cuatro Estados</h4>
        <table class="table">
            <thead>
                <tr><th>Estado</th><th>Forma</th><th>Volumen</th><th>Compresi√≥n</th><th>Ejemplo</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>S√≥lido</strong></td><td>Fija</td><td>Fijo</td><td>No</td><td>Hielo</td></tr>
                <tr><td><strong>L√≠quido</strong></td><td>Variable</td><td>Fijo</td><td>Poco</td><td>Agua</td></tr>
                <tr><td><strong>Gas</strong></td><td>Variable</td><td>Variable</td><td>Mucho</td><td>Vapor</td></tr>
                <tr><td><strong>Plasma</strong></td><td>Variable</td><td>Variable</td><td>Mucho</td><td>Ne√≥n, Sol</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #1976D2;">

        <h4>2. Transiciones de Fase</h4>
        <table class="table">
            <thead>
                <tr><th>Transici√≥n</th><th>Direcci√≥n</th><th>Calor</th><th>Ejemplo</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Fusi√≥n</strong></td><td>S√≥lido ‚Üí L√≠quido</td><td>Absorbe</td><td>Hielo ‚Üí Agua</td></tr>
                <tr><td><strong>Congelaci√≥n</strong></td><td>L√≠quido ‚Üí S√≥lido</td><td>Libera</td><td>Agua ‚Üí Hielo</td></tr>
                <tr><td><strong>Evaporaci√≥n</strong></td><td>L√≠quido ‚Üí Gas</td><td>Absorbe</td><td>Agua ‚Üí Vapor</td></tr>
                <tr><td><strong>Condensaci√≥n</strong></td><td>Gas ‚Üí L√≠quido</td><td>Libera</td><td>Vapor ‚Üí Agua</td></tr>
                <tr><td><strong>Sublimaci√≥n</strong></td><td>S√≥lido ‚Üí Gas</td><td>Absorbe</td><td>CO‚ÇÇ seco</td></tr>
                <tr><td><strong>Deposici√≥n</strong></td><td>Gas ‚Üí S√≥lido</td><td>Libera</td><td>Escarcha</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Hielo seco (CO‚ÇÇ)</strong> ‚Üí <strong>sublimaci√≥n</strong> a -78.5¬∞C ‚Üí gas sin pasar por l√≠quido.</p>
        </div>

        <hr style="border:1px dashed #1976D2;">

        <h4>3. Calor Latente (Energ√≠a Oculta)</h4>
        <p>\[
            Q = m \\cdot \\Delta H
        \]</p>
        <table class="table">
            <thead>
                <tr><th>Transici√≥n</th><th>Agua (J/g)</th><th>CO‚ÇÇ (J/g)</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Fusi√≥n</strong></td><td>334</td><td>184</td></tr>
                <tr><td><strong>Evaporaci√≥n</strong></td></g><td>2260</td><td>571</td></tr>
                <tr><td><strong>Sublimaci√≥n</strong></td><td>‚Äî</td><td>571</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/estado_materia-transicion.webp" alt="Diagrama de fases">
            <p><em>Diagrama de fases. Fuente: LibreTexts.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/tansicion-calor.jpg" alt="Transiciones">
            <p><em>Transiciones con calor. Fuente: ThoughtCo.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/diragrama-fase-agua.png" alt="Diagrama de fases agua">
            <p><em>Diagrama de fases del agua. Fuente: Wikipedia.</em></p>
        </div>

        <hr style="border:1px dashed #1976D2;">

        <h4>4. Punto Cr√≠tico y Triple</h4>
        <ul>
            <li><strong>Punto triple (agua):</strong> 0.01¬∞C, 611.7 Pa ‚Üí 3 fases coexisten</li>
            <li><strong>Punto cr√≠tico (agua):</strong> 374¬∞C, 22.1 MPa ‚Üí no hay distinci√≥n l√≠quido/gas</li>
        </ul>

        <hr style="border:1px dashed #1976D2;">

        <h4>5. SVG Animado: Ciclo Completo del Agua</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="800" height="500" fill="#E3F2FD"/>

                <!-- T√≠tulo -->
                <text x="400" y="50" fill="#0D47A1" font-size="28" text-anchor="middle" font-weight="bold">CICLO DE ESTADOS: H‚ÇÇO</text>

                <!-- Hielo -->
                <g id="hielo">
                    <rect x="100" y="200" width="120" height="120" fill="#BBDEFB" rx="20">
                        <animate attributeName="opacity" values="1;0.7;1" dur="3s" repeatCount="indefinite"/>
                    </rect>
                    <text x="160" y="260" fill="#1565C0" font-size="16" text-anchor="middle">HIELO</text>
                    <text x="160" y="285" fill="#1976D2" font-size="12" text-anchor="middle">0¬∞C</text>
                </g>

                <!-- Flecha fusi√≥n -->
                <path d="M220 260 L320 260" stroke="#1976D2" stroke-width="6" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" values="0;50" dur="2s" repeatCount="indefinite"/>
                </path>
                <text x="270" y="245" fill="#1565C0" font-size="12">Fusi√≥n</text>
                <text x="270" y="275" fill="#1976D2" font-size="10">+334 J/g</text>

                <!-- Agua l√≠quida -->
                <g id="liquido">
                    <rect x="340" y="200" width="120" height="120" fill="#2196F3" rx="20">
                        <animate attributeName="opacity" values="0.7;1;0.7" begin="1s" dur="3s" repeatCount="indefinite"/>
                    </rect>
                    <text x="400" y="260" fill="white" font-size="16" text-anchor="middle">AGUA</text>
                    <text x="400" y="285" fill="#BBDEFB" font-size="12" text-anchor="middle">25¬∞C</text>
                </g>

                <!-- Flecha evaporaci√≥n -->
                <path d="M460 260 L560 200" stroke="#1976D2" stroke-width="6" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" values="0;50" begin="0.5s" dur="2s" repeatCount="indefinite"/>
                </path>
                <text x="510" y="185" fill="#1565C0" font-size="12">Evaporaci√≥n</text>
                <text x="510" y="215" fill="#1976D2" font-size="10">+2260 J/g</text>

                <!-- Vapor -->
                <g id="vapor">
                    <circle cx="620" cy="150" r="60" fill="none" stroke="#90CAF9" stroke-width="5" stroke-dasharray="8,5">
                        <animate attributeName="r" values="60;70;60" dur="3s" repeatCount="indefinite"/>
                    </circle>
                    <text x="620" y="145" fill="#1565C0" font-size="16" text-anchor="middle">VAPOR</text>
                    <text x="620" y="165" fill="#1976D2" font-size="12" text-anchor="middle">100¬∞C</text>
                </g>

                <!-- Flecha condensaci√≥n -->
                <path d="M620 210 L560 310" stroke="#1976D2" stroke-width="6" marker-end="url(#arrow)"/>
                <text x="590" y="260" fill="#1565C0" font-size="12">Condensaci√≥n</text>
                <text x="590" y="290" fill="#1976D2" font-size="10">-2260 J/g</text>

                <!-- Flecha congelaci√≥n -->
                <path d="M340 320 L220 320" stroke="#1976D2" stroke-width="6" marker-end="url(#arrow)"/>
                <text x="280" y="305" fill="#1565C0" font-size="12">Congelaci√≥n</text>
                <text x="280" y="335" fill="#1976D2" font-size="10">-334 J/g</text>

                <!-- Sublimaci√≥n (CO‚ÇÇ ejemplo) -->
                <g id="sublimacion" opacity="0">
                    <rect x="50" y="380" width="180" height="80" fill="#E8F5E9" rx="15"/>
                    <text x="140" y="410" fill="#1B5E20" font-size="12" text-anchor="middle">Sublimaci√≥n CO‚ÇÇ</text>
                    <text x="140" y="430" fill="#2E7D32" font-size="10" text-anchor="middle">-78.5¬∞C</text>
                    <animate attributeName="opacity" values="0;1;0" begin="3s" dur="2s" repeatCount="indefinite"/>
                </g>

                <!-- Datos NIST -->
                <text x="400" y="470" fill="#1565C0" font-size="14" text-anchor="middle">NIST 2025: Punto triple H‚ÇÇO = 0.01¬∞C, 611.7 Pa</text>

                <!-- Marcador -->
                <defs>
                    <marker id="arrow" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#1976D2"/>
                    </marker>
                </defs>
            </svg>
            <p><em>SVG Animado: Ciclo completo con energ√≠as y sublimaci√≥n.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'S√≥lido a l√≠quido', 'respuesta' => 'Fusi√≥n'],
        ['enunciado' => 'Gas a s√≥lido', 'respuesta' => 'Deposici√≥n'],
        ['enunciado' => 'S√≥lido a gas', 'respuesta' => 'Sublimaci√≥n'],

        // === APLICADOS ===
        ['enunciado' => 'Calor fusi√≥n H‚ÇÇO', 'respuesta' => '334 J/g'],
        ['enunciado' => 'Calor evaporaci√≥n H‚ÇÇO', 'respuesta' => '2260 J/g'],
        ['enunciado' => 'Punto triple H‚ÇÇO', 'respuesta' => '0.01¬∞C, 611.7 Pa'],

        // === QU√çMICOS ===
        ['enunciado' => 'Ejemplo sublimaci√≥n', 'respuesta' => 'Hielo seco (CO‚ÇÇ)'],
        ['enunciado' => 'Plasma en', 'respuesta' => 'Estrellas, l√°mparas ne√≥n'],
        ['enunciado' => 'F√≥rmula calor latente', 'respuesta' => '\\(Q = m \\Delta H\\)'],

        // === AVANZADOS ===
        ['enunciado' => 'Punto cr√≠tico H‚ÇÇO', 'respuesta' => '374¬∞C, 22.1 MPa'],
        ['enunciado' => 'NIST: P.F. CO‚ÇÇ', 'respuesta' => '-78.5¬∞C (sublimaci√≥n)'],
        ['enunciado' => 'Q para evaporar 18g H‚ÇÇO', 'respuesta' => '40,680 J']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Sublimaci√≥n es...', 'opciones' => ['S√≥lido ‚Üí Gas', 'Gas ‚Üí L√≠quido', 'L√≠quido ‚Üí S√≥lido', 'Plasma'], 'correcta' => 'S√≥lido ‚Üí Gas'],
        ['pregunta' => 'Congelaci√≥n', 'opciones' => ['L√≠quido ‚Üí S√≥lido', 'S√≥lido ‚Üí L√≠quido', 'Gas ‚Üí S√≥lido', 'Todo'], 'correcta' => 'L√≠quido ‚Üí S√≥lido'],
        ['pregunta' => 'Plasma es...', 'opciones' => ['Gas ionizado', 'S√≥lido', 'L√≠quido', 'Gas normal'], 'correcta' => 'Gas ionizado'],
        ['pregunta' => 'Evaporaci√≥n requiere...', 'opciones' => ['Calor', 'Fr√≠o', 'Presi√≥n', 'Luz'], 'correcta' => 'Calor'],
        ['pregunta' => 'Estado con forma fija', 'opciones' => ['S√≥lido', 'L√≠quido', 'Gas', 'Plasma'], 'correcta' => 'S√≥lido'],
        ['pregunta' => 'Hielo seco hace...', 'opciones' => ['Sublimaci√≥n', 'Fusi√≥n', 'Condensaci√≥n', 'Ionizaci√≥n'], 'correcta' => 'Sublimaci√≥n'],
        ['pregunta' => 'Punto triple es...', 'opciones' => ['3 fases coexisten', '2 fases', '1 fase', 'Ninguna'], 'correcta' => '3 fases coexisten'],
        ['pregunta' => 'Calor latente es...', 'opciones' => ['Energ√≠a oculta', 'Temperatura', 'Masa', 'Volumen'], 'correcta' => 'Energ√≠a oculta'],
        ['pregunta' => 'Agua hierve a...', 'opciones' => ['100¬∞C (1 atm)', '0¬∞C', '-78¬∞C', '374¬∞C'], 'correcta' => '100¬∞C (1 atm)'],
        ['pregunta' => 'Deposici√≥n forma...', 'opciones' => ['Escarcha', 'Lluvia', 'Nieve l√≠quida', 'Vapor'], 'correcta' => 'Escarcha'],

        // === MEDIO (10) ===
        ['pregunta' => 'Calor fusi√≥n H‚ÇÇO', 'opciones' => ['334 J/g', '2260 J/g', '571 J/g', '0 J/g'], 'correcta' => '334 J/g'],
        ['pregunta' => 'Calor evaporaci√≥n H‚ÇÇO', 'opciones' => ['2260 J/g', '334 J/g', '184 J/g', '0 J/g'], 'correcta' => '2260 J/g'],
        ['pregunta' => 'Punto triple H‚ÇÇO', 'opciones' => ['0.01¬∞C', '0.00¬∞C', '100¬∞C', '374¬∞C'], 'correcta' => '0.01¬∞C'],
        ['pregunta' => 'Sublimaci√≥n CO‚ÇÇ a', 'opciones' => ['-78.5¬∞C', '0¬∞C', '100¬∞C', '356¬∞C'], 'correcta' => '-78.5¬∞C'],
        ['pregunta' => 'Q = m¬∑ŒîH es...', 'opciones' => ['Calor latente', 'Calor sensible', 'Trabajo', 'Entrop√≠a'], 'correcta' => 'Calor latente'],
        ['pregunta' => 'Punto cr√≠tico elimina...', 'opciones' => ['Distinci√≥n l√≠quido/gas', 'S√≥lido', 'Plasma', 'Masa'], 'correcta' => 'Distinci√≥n l√≠quido/gas'],
        ['pregunta' => 'Fusi√≥n es...', 'opciones' => ['Endot√©rmica', 'Exot√©rmica', 'Isot√©rmica', 'Adiab√°tica'], 'correcta' => 'Endot√©rmica'],
        ['pregunta' => 'Condensaci√≥n es...', 'opciones' => ['Exot√©rmica', 'Endot√©rmica', 'Nuclear', 'F√≠sica'], 'correcta' => 'Exot√©rmica'],
        ['pregunta' => 'Plasma conduce...', 'opciones' => ['Electricidad', 'Calor', 'Luz', 'Sonido'], 'correcta' => 'Electricidad'],
        ['pregunta' => 'Diagrama de fases muestra...', 'opciones' => ['P vs T', 'm vs V', 'Q vs t', 'E vs m'], 'correcta' => 'P vs T'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'Punto cr√≠tico H‚ÇÇO', 'opciones' => ['374¬∞C, 22.1 MPa', '100¬∞C, 1 atm', '0.01¬∞C, 611 Pa', '647 K, 22.1 MPa'], 'correcta' => '374¬∞C, 22.1 MPa'],
        ['pregunta' => 'Q para sublimar 44g CO‚ÇÇ', 'respuesta' => '25,124 J', 'opciones' => ['25,124 J', '8,096 J', '14,784 J', '0 J'], 'correcta' => '25,124 J'],
        ['pregunta' => 'Punto triple CO‚ÇÇ', 'opciones' => ['-56.6¬∞C, 5.11 atm', '0.01¬∞C, 611 Pa', '-78.5¬∞C, 1 atm', '100¬∞C, 1 atm'], 'correcta' => '-56.6¬∞C, 5.11 atm'],
        ['pregunta' => 'Calor latente m√°s alto', 'opciones' => ['Evaporaci√≥n H‚ÇÇO', 'Fusi√≥n H‚ÇÇO', 'Sublimaci√≥n CO‚ÇÇ', 'Fusi√≥n Na'], 'correcta' => 'Evaporaci√≥n H‚ÇÇO'],
        ['pregunta' => 'Supercr√≠tico es...', 'opciones' => ['M√°s all√° punto cr√≠tico', 'Debajo punto triple', 'En plasma', 'En vac√≠o'], 'correcta' => 'M√°s all√° punto cr√≠tico'],
        ['pregunta' => 'Ionizaci√≥n en plasma requiere...', 'opciones' => ['Alta T o campo E', 'Baja T', 'Presi√≥n', 'Luz'], 'correcta' => 'Alta T o campo E'],
        ['pregunta' => 'Diagrama de fases agua inclinada por...', 'opciones' => ['Puente H', 'Enlaces i√≥nicos', 'Van der Waals', 'Covalentes'], 'correcta' => 'Puente H'],
        ['pregunta' => 'Calor sensible cambia...', 'opciones' => ['Temperatura', 'Estado', 'Masa', 'Volumen'], 'correcta' => 'Temperatura'],
        ['pregunta' => 'IUPAC define punto ebullici√≥n a...', 'opciones' => ['1 atm', '1 bar', '0¬∞C', '100 kPa'], 'correcta' => '1 atm'],
        ['pregunta' => 'Bose-Einstein condensado es...', 'opciones' => ['5¬∫ estado (T‚âà0K)', 'Plasma', 'L√≠quido', 'Gas'], 'correcta' => '5¬∫ estado (T‚âà0K)']
    ]
];
// ========================================
// MATERIA: QU√çMICA I
// SUBTEMA: Clasificaci√≥n de la Materia (Pura, Mezclas, Separaci√≥n, Propiedades)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Qu√≠mica I',
    'slug' => 'clasificacion-materia',
    'titulo' => 'Clasificaci√≥n de la Materia: El √Årbol de la Qu√≠mica',
    'contenido' => '
        <h3>Clasificaci√≥n de la Materia</h3>
        <p>Toda la <strong>materia</strong> se clasifica seg√∫n su <strong>composici√≥n</strong>:</p>
        <ul>
            <li><strong>Pura:</strong> Composici√≥n fija ‚Üí <strong>Elementos</strong> o <strong>Compuestos</strong></li>
            <li><strong>Mezclas:</strong> Composici√≥n variable ‚Üí <strong>Homog√©neas</strong> o <strong>Heterog√©neas</strong></li>
        </ul>

        <hr style="border:1px dashed #1976D2;">

        <h4>1. Materia Pura</h4>
        <table class="table">
            <thead>
                <tr><th>Tipo</th><th>Definici√≥n</th><th>Ejemplo</th><th>Separaci√≥n</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Elemento</strong></td><td>Un solo tipo de √°tomo</td><td>Oro (Au), Ox√≠geno (O‚ÇÇ)</td><td>No qu√≠micamente</td></tr>
                <tr><td><strong>Compuesto</strong></td><td>Dos o m√°s elementos unidos</td><td>Agua (H‚ÇÇO), Sal (NaCl)</td><td>Solo por reacci√≥n</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #1976D2;">

        <h4>2. Mezclas</h4>
        <table class="table">
            <thead>
                <tr><th>Tipo</th><th>Composici√≥n</th><th>Ejemplo</th><th>Separaci√≥n</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Homog√©nea</strong></td><td>Uniforme</td><td>Aire, Salmuera</td><td>Destilaci√≥n, Cromatograf√≠a</td></tr>
                <tr><td><strong>Heterog√©nea</strong></td><td>No uniforme</td><td>Ensalada, Aceite+Agua</td><td>Filtraci√≥n, Decantaci√≥n</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Aire</strong> ‚Üí mezcla homog√©nea (78% N‚ÇÇ, 21% O‚ÇÇ). <strong>Agua de mar</strong> ‚Üí homog√©nea (sal disuelta). <strong>Petr√≥leo</strong> ‚Üí heterog√©nea.</p>
        </div>

        <hr style="border:1px dashed #1976D2;">

        <h4>3. M√©todos de Separaci√≥n (F√≠sicos)</h4>
        <table class="table">
            <thead>
                <tr><th>M√©todo</th><th>Principio</th><th>Ejemplo</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Filtraci√≥n</strong></td><td>Tama√±o part√≠cula</td><td>Arena + agua</td></tr>
                <tr><td><strong>Destilaci√≥n</strong></td><td>Punto ebullici√≥n</td><td>Alcohol + agua</td></tr>
                <tr><td><strong>Decantaci√≥n</strong></td><td>Densidad</td><td>Aceite + agua</td></tr>
                <tr><td><strong>Cromatograf√≠a</strong></td><td>Afinidad fase</td><td>Tinta en papel</td></tr>
                <tr><td><strong>Centrifugaci√≥n</strong></td><td>Densidad + giro</td><td>Sangre (plasma)</td></tr>
                <tr><td><strong>Evaporaci√≥n</strong></td><td>Volatilidad</td><td>Sal de mar</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/materia_clasificacionjpg.jpg" alt="Clasificaci√≥n completa">
            <p><em>Diagrama completo. Fuente: LibreTexts.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/metodo-separacion_mezcla.jpg" alt="Separaci√≥n">
            <p><em>M√©todos f√≠sicos. Fuente: ThoughtCo.</em></p>
        </div>

        <hr style="border:1px dashed #1976D2;">

        <h4>4. F√≥rmulas y Datos Clave</h4>
        <p>\[
            \\text{Compuesto} \\rightarrow \\text{Elementos} \\quad (\\text{por reacci√≥n qu√≠mica})
        \]</p>
        <p>\[
            \\text{Mezcla} \\rightarrow \\text{Componentes} \\quad (\\text{por m√©todo f√≠sico})
        \]</p>

        <hr style="border:1px dashed #1976D2;">

        <h4>5. SVG Animado: √Årbol de Clasificaci√≥n Interactivo</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="800" height="500" fill="#E3F2FD"/>

                <!-- T√≠tulo -->
                <text x="400" y="50" fill="#0D47A1" font-size="28" text-anchor="middle" font-weight="bold">CLASIFICACI√ìN DE LA MATERIA</text>

                <!-- Materia -->
                <g id="materia">
                    <rect x="300" y="80" width="200" height="80" fill="#1976D2" rx="20">
                        <animate attributeName="opacity" values="1;0.8;1" dur="3s" repeatCount="indefinite"/>
                    </rect>
                    <text x="400" y="120" fill="white" font-size="18" text-anchor="middle">MATERIA</text>
                    <text x="400" y="140" fill="#BBDEFB" font-size="12" text-anchor="middle">Todo lo que tiene masa y volumen</text>
                </g>

                <!-- Flechas -->
                <path d="M400 160 L400 200" stroke="#1565C0" stroke-width="6" marker-end="url(#arrow)"/>
                <path d="M400 200 L250 250" stroke="#1565C0" stroke-width="5" marker-end="url(#arrow)"/>
                <path d="M400 200 L550 250" stroke="#1565C0" stroke-width="5" marker-end="url(#arrow)"/>

                <!-- Pura -->
                <g id="pura">
                    <rect x="150" y="240" width="180" height="100" fill="#4CAF50" rx="20">
                        <animate attributeName="opacity" values="0.7;1;0.7" begin="1s" dur="3s" repeatCount="indefinite"/>
                    </rect>
                    <text x="240" y="280" fill="white" font-size="16" text-anchor="middle">MATERIA PURA</text>
                    <text x="240" y="300" fill="#E8F5E9" font-size="10" text-anchor="middle">Composici√≥n fija</text>
                </g>

                <!-- Mezcla -->
                <g id="mezcla">
                    <rect x="470" y="240" width="180" height="100" fill="#FF9800" rx="20">
                        <animate attributeName="opacity" values="0.7;1;0.7" begin="1.5s" dur="3s" repeatCount="indefinite"/>
                    </rect>
                    <text x="560" y="280" fill="white" font-size="16" text-anchor="middle">MEZCLA</text>
                    <text x="560" y="300" fill="#FFF3E0" font-size="10" text-anchor="middle">Composici√≥n variable</text>
                </g>

                <!-- Elemento y Compuesto -->
                <path d="M240 340 L200 380" stroke="#2E7D32" stroke-width="4" marker-end="url(#arrow-green)"/>
                <path d="M240 340 L280 380" stroke="#2E7D32" stroke-width="4" marker-end="url(#arrow-green)"/>

                <circle cx="200" cy="400" r="50" fill="#8BC34A">
                    <animate attributeName="r" values="50;55;50" dur="2s" repeatCount="indefinite"/>
                </circle>
                <text x="200" y="395" fill="white" font-size="12" text-anchor="middle">Elemento</text>
                <text x="200" y="410" fill="#E8F5E9" font-size="9" text-anchor="middle">Au, O‚ÇÇ</text>

                <rect x="250" y="370" width="100" height="60" fill="#66BB6A" rx="15"/>
                <text x="300" y="395" fill="white" font-size="12" text-anchor="middle">Compuesto</text>
                <text x="300" y="415" fill="#E8F5E9" font-size="9" text-anchor="middle">H‚ÇÇO, NaCl</text>

                <!-- Homog√©nea y Heterog√©nea -->
                <path d="M560 340 L520 380" stroke="#FF6F00" stroke-width="4" marker-end="url(#arrow-orange)"/>
                <path d="M560 340 L600 380" stroke="#FF6F00" stroke-width="4" marker-end="url(#arrow-orange)"/>

                <rect x="470" y="370" width="100" height="60" fill="#FFB300" rx="15"/>
                <text x="520" y="395" fill="white" font-size="12" text-anchor="middle">Homog√©nea</text>
                <text x="520" y="415" fill="#FFF3E0" font-size="9" text-anchor="middle">Aire, Salmuera</text>

                <rect x="580" y="370" width="100" height="60" fill="#FF8F00" rx="15"/>
                <text x="630" y="395" fill="white" font-size="12" text-anchor="middle">Heterog√©nea</text>
                <text x="630" y="415" fill="#FFF3E0" font-size="9" text-anchor="middle">Ensalada, Aceite+Agua</text>

                <!-- Separaci√≥n -->
                <rect x="50" y="400" width="120" height="80" fill="#E8F5E9" rx="15"/>
                <text x="110" y="430" fill="#1B5E20" font-size="10" text-anchor="middle">Filtraci√≥n</text>
                <text x="110" y="450" fill="#2E7D32" font-size="9" text-anchor="middle">Destilaci√≥n</text>

                <!-- Datos IUPAC -->
                <text x="400" y="470" fill="#1565C0" font-size="14" text-anchor="middle">IUPAC 2025: 118 Elementos Confirmados</text>

                <!-- Marcadores -->
                <defs>
                    <marker id="arrow" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#1565C0"/>
                    </marker>
                    <marker id="arrow-green" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#2E7D32"/>
                    </marker>
                    <marker id="arrow-orange" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#FF6F00"/>
                    </marker>
                </defs>
            </svg>
            <p><em>SVG Animado: √Årbol interactivo de clasificaci√≥n con ejemplos.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Materia pura ejemplo', 'respuesta' => 'Oro, agua'],
        ['enunciado' => 'Mezcla homog√©nea', 'respuesta' => 'Aire, salmuera'],
        ['enunciado' => 'Mezcla heterog√©nea', 'respuesta' => 'Ensalada, aceite+agua'],

        // === APLICADOS ===
        ['enunciado' => 'Separar sal de agua', 'respuesta' => 'Evaporaci√≥n'],
        ['enunciado' => 'Separar arena de agua', 'respuesta' => 'Filtraci√≥n'],
        ['enunciado' => 'Separar alcohol de agua', 'respuesta' => 'Destilaci√≥n'],

        // === QU√çMICOS ===
        ['enunciado' => 'Descomponer H‚ÇÇO', 'respuesta' => 'Electr√≥lisis ‚Üí H‚ÇÇ + O‚ÇÇ'],
        ['enunciado' => 'Elemento no descomponible', 'respuesta' => 'Oro (Au)'],
        ['enunciado' => 'Compuesto f√≥rmula', 'respuesta' => 'H‚ÇÇO, CO‚ÇÇ'],

        // === AVANZADOS ===
        ['enunciado' => 'IUPAC: elementos totales 2025', 'respuesta' => '118'],
        ['enunciado' => 'NIST: % N‚ÇÇ en aire seco', 'respuesta' => '78.08%'],
        ['enunciado' => 'Cromatograf√≠a separa por', 'respuesta' => 'Afinidad fase']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Materia pura tiene...', 'opciones' => ['Composici√≥n constante', 'Variable', 'Aleatoria', 'Ninguna'], 'correcta' => 'Composici√≥n constante'],
        ['pregunta' => 'Elemento ejemplo', 'opciones' => ['Oro', 'Agua', 'Aire', 'Suelo'], 'correcta' => 'Oro'],
        ['pregunta' => 'Mezcla homog√©nea es...', 'opciones' => ['Uniforme', 'No uniforme', 'Pura', 'Elemento'], 'correcta' => 'Uniforme'],
        ['pregunta' => 'Compuesto se descompone en...', 'opciones' => ['Elementos', 'Mezclas', '√Åtomos', 'Mol√©culas'], 'correcta' => 'Elementos'],
        ['pregunta' => 'Aire es...', 'opciones' => ['Mezcla homog√©nea', 'Pura', 'Heterog√©nea', 'Elemento'], 'correcta' => 'Mezcla homog√©nea'],
        ['pregunta' => 'Agua es...', 'opciones' => ['Compuesto', 'Elemento', 'Mezcla', 'Plasma'], 'correcta' => 'Compuesto'],
        ['pregunta' => 'Ensalada es...', 'opciones' => ['Heterog√©nea', 'Homog√©nea', 'Pura', 'Elemento'], 'correcta' => 'Heterog√©nea'],
        ['pregunta' => 'Separar mezclas usa...', 'opciones' => ['M√©todos f√≠sicos', 'Reacciones', 'Fusi√≥n nuclear', 'Nada'], 'correcta' => 'M√©todos f√≠sicos'],
        ['pregunta' => 'Destilaci√≥n separa por...', 'opciones' => ['Punto ebullici√≥n', 'Color', 'Masa', 'Sabor'], 'correcta' => 'Punto ebullici√≥n'],
        ['pregunta' => 'Filtraci√≥n separa...', 'opciones' => ['S√≥lido de l√≠quido', 'Gases', 'Luz', 'Sonido'], 'correcta' => 'S√≥lido de l√≠quido'],

        // === MEDIO (10) ===
        ['pregunta' => 'Electr√≥lisis de H‚ÇÇO produce...', 'opciones' => ['H‚ÇÇ + ¬ΩO‚ÇÇ', 'CO‚ÇÇ', 'NaCl', 'Au'], 'correcta' => 'H‚ÇÇ + ¬ΩO‚ÇÇ'],
        ['pregunta' => 'Cromatograf√≠a usa...', 'opciones' => ['Fase estacionaria/m√≥vil', 'Calor', 'Presi√≥n', 'Luz'], 'correcta' => 'Fase estacionaria/m√≥vil'],
        ['pregunta' => 'Decantaci√≥n por...', 'opciones' => ['Densidad', 'Color', 'Olor', 'Sabor'], 'correcta' => 'Densidad'],
        ['pregunta' => 'IUPAC: elementos totales', 'opciones' => ['118', '100', '92', '150'], 'correcta' => '118'],
        ['pregunta' => '% O‚ÇÇ en aire', 'opciones' => ['20.95%', '78%', '1%', '50%'], 'correcta' => '20.95%'],
        ['pregunta' => 'Salmuera es...', 'opciones' => ['Soluci√≥n (homog√©nea)', 'Suspensi√≥n', 'Elemento', 'Compuesto'], 'correcta' => 'Soluci√≥n (homog√©nea)'],
        ['pregunta' => 'Petr√≥leo crudo es...', 'opciones' => ['Mezcla heterog√©nea', 'Pura', 'Elemento', 'Gas'], 'correcta' => 'Mezcla heterog√©nea'],
        ['pregunta' => 'Centrifugaci√≥n separa...', 'opciones' => ['Por densidad', 'Por color', 'Por olor', 'Por masa'], 'correcta' => 'Por densidad'],
        ['pregunta' => 'Evaporaci√≥n deja...', 'opciones' => ['S√≥lido disuelto', 'L√≠quido', 'Gas', 'Nada'], 'correcta' => 'S√≥lido disuelto'],
        ['pregunta' => 'Mezcla vs compuesto', 'opciones' => ['F√≠sica vs qu√≠mica', 'Igual', 'Ambos puros', 'Nada'], 'correcta' => 'F√≠sica vs qu√≠mica'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'Aire seco: % N‚ÇÇ (NIST)', 'opciones' => ['78.08%', '20.95%', '0.93%', '0.04%'], 'correcta' => '78.08%'],
        ['pregunta' => 'Separar tintas por...', 'opciones' => ['Cromatograf√≠a en papel', 'Destilaci√≥n', 'Filtraci√≥n', 'Decantaci√≥n'], 'correcta' => 'Cromatograf√≠a en papel'],
        ['pregunta' => 'Agua destilada es...', 'opciones' => ['Compuesto puro', 'Mezcla', 'Elemento', 'Heterog√©nea'], 'correcta' => 'Compuesto puro'],
        ['pregunta' => 'Oro 24K es...', 'opciones' => ['Elemento puro', 'Aleaci√≥n', 'Compuesto', 'Mezcla'], 'correcta' => 'Elemento puro'],
        ['pregunta' => 'Bronce es...', 'opciones' => ['Aleaci√≥n (mezcla)', 'Compuesto', 'Elemento', 'Pura'], 'correcta' => 'Aleaci√≥n (mezcla)'],
        ['pregunta' => 'Separar sangre en...', 'opciones' => ['Plasma + c√©lulas (centrifugaci√≥n)', 'Destilaci√≥n', 'Evaporaci√≥n', 'Filtraci√≥n'], 'correcta' => 'Plasma + c√©lulas (centrifugaci√≥n)'],
        ['pregunta' => 'Solubilidad es propiedad...', 'opciones' => ['Intensiva', 'Extensiva', 'Qu√≠mica', 'Nuclear'], 'correcta' => 'Intensiva'],
        ['pregunta' => 'Ley proporciones definidas aplica a...', 'opciones' => ['Compuestos', 'Mezclas', 'Elementos', 'Gases'], 'correcta' => 'Compuestos'],
        ['pregunta' => 'Mezclas azeotr√≥picas se separan por...', 'opciones' => ['Destilaci√≥n especial', 'Filtraci√≥n', 'Evaporaci√≥n', 'Decantaci√≥n'], 'correcta' => 'Destilaci√≥n especial'],
        ['pregunta' => 'IUPAC define soluci√≥n como...', 'opciones' => ['Mezcla homog√©nea', 'Pura', 'Heterog√©nea', 'Elemento'], 'correcta' => 'Mezcla homog√©nea']
    ]
];
// ========================================
// MATERIA: QU√çMICA I
// SUBTEMA: Mezclas (Homog√©neas, Heterog√©neas, Soluciones, Suspensiones, Coloides, Separaci√≥n)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Qu√≠mica I',
    'slug' => 'mezclas',
    'titulo' => 'Mezclas: El Arte de Combinar sin Reaccionar',
    'contenido' => '
        <h3>¬øQu√© son las Mezclas?</h3>
        <p>Las <strong>mezclas</strong> son <strong>combinaciones f√≠sicas</strong> de dos o m√°s sustancias <strong>sin uni√≥n qu√≠mica</strong>. Se separan por <strong>m√©todos f√≠sicos</strong>. No tienen f√≥rmula fija.</p>

        <hr style="border:1px dashed #FF9800;">

        <h4>1. Tipos de Mezclas</h4>
        <table class="table">
            <thead>
                <tr><th>Tipo</th><th>Uniformidad</th><th>Tama√±o Part√≠culas</th><th>Ejemplo</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Homog√©nea</strong></td><td>Uniforme</td><td>&lt; 1 nm</td><td>Aire, salmuera</td></tr>
                <tr><td><strong>Heterog√©nea</strong></td><td>No uniforme</td><td>&gt; 1 nm</td><td>Aceite+agua, granito</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #FF9800;">

        <h4>2. Clasificaci√≥n Detallada</h4>
        <table class="table">
            <thead>
                <tr><th>Subtipo</th><th>Caracter√≠stica</th><th>Ejemplo</th><th>Efecto Tyndall</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Soluci√≥n</strong></td><td>Homog√©nea molecular</td><td>Az√∫car en agua</td><td>No</td></tr>
                <tr><td><strong>Coloide</strong></td><td>Dispersi√≥n intermedia</td><td>Leche, gelatina</td><td>S√≠</td></tr>
                <tr><td><strong>Suspensi√≥n</strong></td><td>Part√≠culas grandes</td><td>Arena en agua</td><td>S√≠ (fuerte)</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Leche</strong> ‚Üí <strong>coloide</strong> (grasa dispersa en agua). <strong>Aceite + agua</strong> ‚Üí <strong>suspensi√≥n</strong> (se separa). <strong>Aire</strong> ‚Üí <strong>soluci√≥n gaseosa</strong>.</p>
        </div>

        <hr style="border:1px dashed #FF9800;">

        <h4>3. M√©todos de Separaci√≥n F√≠sica</h4>
        <table class="table">
            <thead>
                <tr><th>M√©todo</th><th>Principio</th><th>Ejemplo</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Destilaci√≥n</strong></td><td>Punto ebullici√≥n</td><td>Agua + alcohol</td></tr>
                <tr><td><strong>Filtraci√≥n</strong></td><td>Tama√±o part√≠cula</td><td>Caf√© con posos</td></tr>
                <tr><td><strong>Decantaci√≥n</strong></td><td>Densidad</td><td>Aceite + agua</td></tr>
                <tr><td><strong>Centrifugaci√≥n</strong></td><td>Densidad + fuerza</td><td>Sangre</td></tr>
                <tr><td><strong>Cromatograf√≠a</strong></td><td>Afinidad fase</td><td>Tintas</td></tr>
                <tr><td><strong>Sublimaci√≥n</strong></td><td>Volatilidad</td><td>Naftalina + sal</td></tr>
                <tr><td><strong>Evaporaci√≥n</strong></td><td>Volatilidad</td><td>Sal de mar</td></tr>
                <tr><td><strong>Embudo decantaci√≥n</strong></td><td>Inmiscibilidad</td><td>Aceite + agua</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/tipos-mezclas.jpg" alt="Tipos de mezclas">
            <p><em>Clasificaci√≥n visual. Fuente: LibreTexts.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/metodo-separacion_mezcla.jpg" alt="M√©todos separaci√≥n">
            <p><em>M√©todos f√≠sicos. Fuente: ThoughtCo.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/efecto-tyndall.jpg" alt="Efecto Tyndall">
            <p><em>Efecto Tyndall en coloides. Fuente: Wikipedia.</em></p>
        </div>

        <hr style="border:1px dashed #FF9800;">

        <h4>4. Efecto Tyndall</h4>
        <p>Dispersi√≥n de luz por part√≠culas &gt; 1 nm:</p>
        <ul>
            <li><strong>Soluciones:</strong> No (part√≠culas &lt; 1 nm)</li>
            <li><strong>Coloides:</strong> S√≠ (1‚Äì1000 nm)</li>
            <li><strong>Suspensiones:</strong> S√≠ (fuerte)</li>
        </ul>

        <hr style="border:1px dashed #FF9800;">

        <h4>5. SVG Animado: Separaci√≥n de Mezclas</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="800" height="500" fill="#FFF3E0"/>

                <!-- T√≠tulo -->
                <text x="400" y="50" fill="#E65100" font-size="28" text-anchor="middle" font-weight="bold">SEPARACI√ìN DE MEZCLAS</text>

                <!-- Mezcla inicial -->
                <g id="mezcla">
                    <rect x="100" y="150" width="180" height="200" fill="#FFB300" rx="20">
                        <animate attributeName="opacity" values="1;0.7;1" dur="3s" repeatCount="indefinite"/>
                    </rect>
                    <text x="190" y="220" fill="white" font-size="16" text-anchor="middle">MEZCLA</text>
                    <text x="190" y="250" fill="#FFF3E0" font-size="12" text-anchor="middle">Aceite + Agua</text>
                    <circle cx="150" cy="200" r="20" fill="#1976D2"/>
                    <circle cx="230" cy="300" r="25" fill="#FFEB3B"/>
                </g>

                <!-- Embudo decantaci√≥n -->
                <g id="embudo" opacity="0">
                    <path d="M350 180 L380 350 L320 350 Z" fill="#90A4AE"/>
                    <path d="M350 350 L350 380" stroke="#455A64" stroke-width="8"/>
                    <animate attributeName="opacity" values="0;1" begin="2s" dur="1s"/>
                </g>
                <text x="350" y="170" fill="#455A64" font-size="12" text-anchor="middle">Embudo Decantaci√≥n</text>

                <!-- Separaci√≥n -->
                <g id="separacion" opacity="0">
                    <rect x="450" y="200" width="100" height="80" fill="#1976D2" rx="15"/>
                    <text x="500" y="240" fill="white" font-size="12" text-anchor="middle">AGUA</text>
                    <rect x="450" y="290" width="100" height="80" fill="#FFEB3B" rx="15"/>
                    <text x="500" y="330" fill="#1B5E20" font-size="12" text-anchor="middle">ACEITE</text>
                    <animate attributeName="opacity" values="0;1" begin="3s" dur="1s"/>
                </g>

                <!-- Destilaci√≥n -->
                <g id="destilacion" opacity="0">
                    <circle cx="650" cy="200" r="50" fill="#2196F3" opacity="0.6"/>
                    <path d="M650 150 L700 100 L750 150" stroke="#1976D2" stroke-width="6" fill="none"/>
                    <text x="700" y="90" fill="#1565C0" font-size="12" text-anchor="middle">Destilaci√≥n</text>
                    <animate attributeName="opacity" values="0;1" begin="4s" dur="1s"/>
                </g>

                <!-- Filtraci√≥n -->
                <g id="filtracion" opacity="0">
                    <rect x="100" y="380" width="120" height="80" fill="#8D6E63" rx="15"/>
                    <text x="160" y="420" fill="white" font-size="12" text-anchor="middle">FILTRACI√ìN</text>
                    <animate attributeName="opacity" values="0;1" begin="5s" dur="1s"/>
                </g>

                <!-- Efecto Tyndall -->
                <g id="tyndall" opacity="0">
                    <rect x="550" y="380" width="200" height="80" fill="#E8F5E9" rx="15"/>
                    <text x="650" y="410" fill="#1B5E20" font-size="12" text-anchor="middle">Efecto Tyndall</text>
                    <text x="650" y="430" fill="#2E7D32" font-size="10" text-anchor="middle">Coloides: S√≠</text>
                    <animate attributeName="opacity" values="0;1" begin="6s" dur="1s"/>
                </g>

                <!-- Datos -->
                <text x="400" y="470" fill="#E65100" font-size="14" text-anchor="middle">IUPAC 2025: Soluci√≥n = Mezcla Homog√©nea</text>

            </svg>
            <p><em>SVG Animado: Separaci√≥n paso a paso + Efecto Tyndall.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Mezcla homog√©nea ejemplo', 'respuesta' => 'Aire, salmuera'],
        ['enunciado' => 'Mezcla heterog√©nea ejemplo', 'respuesta' => 'Sopa, granito'],
        ['enunciado' => 'Separaci√≥n f√≠sica', 'respuesta' => 'Destilaci√≥n, filtraci√≥n'],

        // === APLICADOS ===
        ['enunciado' => 'Separar aceite de agua', 'respuesta' => 'Embudo decantaci√≥n'],
        ['enunciado' => 'Separar sal de agua', 'respuesta' => 'Evaporaci√≥n'],
        ['enunciado' => 'Separar alcohol de agua', 'respuesta' => 'Destilaci√≥n fraccionada'],

        // === QU√çMICOS ===
        ['enunciado' => 'Efecto Tyndall en leche', 'respuesta' => 'S√≠ (coloide)'],
        ['enunciado' => 'Suspensi√≥n se asienta', 'respuesta' => 'S√≠'],
        ['enunciado' => 'Soluci√≥n no muestra Tyndall', 'respuesta' => 'Correcto'],

        // === AVANZADOS ===
        ['enunciado' => 'IUPAC: soluci√≥n es', 'respuesta' => 'Mezcla homog√©nea'],
        ['enunciado' => 'NIST: % O‚ÇÇ en aire seco', 'respuesta' => '20.95%'],
        ['enunciado' => 'Aze√≥tropo etanol-agua', 'respuesta' => '95.6% etanol']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Mezclas se separan...', 'opciones' => ['F√≠sicamente', 'Qu√≠micamente', 'Nuclearmente', 'Nada'], 'correcta' => 'F√≠sicamente'],
        ['pregunta' => 'Mezcla homog√©nea es...', 'opciones' => ['Uniforme', 'No uniforme', 'Pura', 'Elemento'], 'correcta' => 'Uniforme'],
        ['pregunta' => 'Ejemplo homog√©nea', 'opciones' => ['Aire', 'Sopa', 'Roca', 'Arena'], 'correcta' => 'Aire'],
        ['pregunta' => 'Uni√≥n en mezclas', 'opciones' => ['F√≠sica', 'Qu√≠mica', 'I√≥nica', 'Covalente'], 'correcta' => 'F√≠sica'],
        ['pregunta' => 'Aceite + agua es...', 'opciones' => ['Heterog√©nea', 'Homog√©nea', 'Pura', 'Compuesto'], 'correcta' => 'Heterog√©nea'],
        ['pregunta' => 'Az√∫car en agua es...', 'opciones' => ['Soluci√≥n', 'Suspensi√≥n', 'Coloide', 'Elemento'], 'correcta' => 'Soluci√≥n'],
        ['pregunta' => 'Leche es...', 'opciones' => ['Coloide', 'Soluci√≥n', 'Suspensi√≥n', 'Pura'], 'correcta' => 'Coloide'],
        ['pregunta' => 'Arena en agua es...', 'opciones' => ['Suspensi√≥n', 'Soluci√≥n', 'Coloide', 'Gas'], 'correcta' => 'Suspensi√≥n'],
        ['pregunta' => 'Destilaci√≥n separa por...', 'opciones' => ['Punto ebullici√≥n', 'Color', 'Masa', 'Sabor'], 'correcta' => 'Punto ebullici√≥n'],
        ['pregunta' => 'Filtraci√≥n usa...', 'opciones' => ['Papel poroso', 'Calor', 'Luz', 'Presi√≥n'], 'correcta' => 'Papel poroso'],

        // === MEDIO (10) ===
        ['pregunta' => 'Efecto Tyndall en soluci√≥n', 'opciones' => ['No', 'S√≠', 'Fuerte', 'D√©bil'], 'correcta' => 'No'],
        ['pregunta' => 'Efecto Tyndall en leche', 'opciones' => ['S√≠', 'No', 'Solo calor', 'Solo luz'], 'correcta' => 'S√≠'],
        ['pregunta' => 'Suspensi√≥n se asienta', 'opciones' => ['S√≠', 'No', 'Solo con calor', 'Nunca'], 'correcta' => 'S√≠'],
        ['pregunta' => 'Coloide tama√±o part√≠cula', 'opciones' => ['1‚Äì1000 nm', '&lt;1 nm', '&gt;1000 nm', '0 nm'], 'correcta' => '1‚Äì1000 nm'],
        ['pregunta' => 'Embudo decantaci√≥n separa...', 'opciones' => ['L√≠quidos inmiscibles', 'Gases', 'S√≥lidos', 'Coloides'], 'correcta' => 'L√≠quidos inmiscibles'],
        ['pregunta' => 'Cromatograf√≠a separa por...', 'opciones' => ['Afinidad fase', 'Masa', 'Volumen', 'Color'], 'correcta' => 'Afinidad fase'],
        ['pregunta' => 'Sublimaci√≥n separa...', 'opciones' => ['S√≥lidos vol√°tiles', 'L√≠quidos', 'Gases', 'Coloides'], 'correcta' => 'S√≥lidos vol√°tiles'],
        ['pregunta' => '% O‚ÇÇ en aire seco', 'opciones' => ['20.95%', '78.08%', '0.93%', '0.04%'], 'correcta' => '20.95%'],
        ['pregunta' => 'Centrifugaci√≥n acelera...', 'opciones' => ['Decantaci√≥n', 'Fusi√≥n', 'Evaporaci√≥n', 'Sublimaci√≥n'], 'correcta' => 'Decantaci√≥n'],
        ['pregunta' => 'IUPAC: soluci√≥n es...', 'opciones' => ['Mezcla homog√©nea', 'Pura', 'Heterog√©nea', 'Elemento'], 'correcta' => 'Mezcla homog√©nea'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'Aze√≥tropo etanol-agua', 'opciones' => ['95.6% etanol', '100% etanol', '50% etanol', '0% etanol'], 'correcta' => '95.6% etanol'],
        ['pregunta' => 'Gel es un coloide...', 'opciones' => ['S√≥lido en l√≠quido', 'L√≠quido en s√≥lido', 'Gas en l√≠quido', 'S√≥lido en gas'], 'correcta' => 'L√≠quido en s√≥lido'],
        ['pregunta' => 'Emulsi√≥n es...', 'opciones' => ['L√≠quido en l√≠quido', 'S√≥lido en l√≠quido', 'Gas en l√≠quido', 'L√≠quido en gas'], 'correcta' => 'L√≠quido en l√≠quido'],
        ['pregunta' => 'Mayonesa es...', 'opciones' => ['Emulsi√≥n', 'Soluci√≥n', 'Suspensi√≥n', 'Aerosol'], 'correcta' => 'Emulsi√≥n'],
        ['pregunta' => 'Humo es...', 'opciones' => ['Aerosol s√≥lido en gas', 'Espuma', 'Gel', 'Emulsi√≥n'], 'correcta' => 'Aerosol s√≥lido en gas'],
        ['pregunta' => 'Separar prote√≠nas por...', 'opciones' => ['Electroforesis', 'Destilaci√≥n', 'Filtraci√≥n', 'Decantaci√≥n'], 'correcta' => 'Electroforesis'],
        ['pregunta' => 'Di√°lisis separa por...', 'opciones' => ['Membrana semipermeable', 'Calor', 'Luz', 'Presi√≥n'], 'correcta' => 'Membrana semipermeable'],
        ['pregunta' => 'Cristalizaci√≥n fraccionada separa...', 'opciones' => ['Sales por solubilidad', 'Gases', 'L√≠quidos', 'Coloides'], 'correcta' => 'Sales por solubilidad'],
        ['pregunta' => 'Extracci√≥n l√≠quido-l√≠quido usa...', 'opciones' => ['Solubilidad en dos solventes', 'Densidad', 'Color', 'pH'], 'correcta' => 'Solubilidad en dos solventes'],
        ['pregunta' => 'Ley de Henry aplica a...', 'opciones' => ['Solubilidad gases en l√≠quidos', 'S√≥lidos', 'Coloides', 'Suspensiones'], 'correcta' => 'Solubilidad gases en l√≠quidos']
    ]
];
// ========================================
// MATERIA: QU√çMICA I
// SUBTEMA: Sustancias Puras (Elementos, Compuestos, Propiedades, Separaci√≥n Qu√≠mica)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Qu√≠mica I',
    'slug' => 'sustancias-puras',
    'titulo' => 'Sustancias Puras: La Esencia Inmutable de la Qu√≠mica',
    'contenido' => '
        <h3>Sustancias Puras</h3>
        <p>Las <strong>sustancias puras</strong> tienen <strong>composici√≥n qu√≠mica fija</strong> y <strong>propiedades constantes</strong>. <strong>No se separan f√≠sicamente</strong>. Se dividen en:</p>
        <ul>
            <li><strong>Elementos:</strong> Un solo tipo de √°tomo</li>
            <li><strong>Compuestos:</strong> Dos o m√°s elementos unidos qu√≠micamente</li>
        </ul>

        <hr style="border:1px dashed #4CAF50;">

        <h4>1. Tipos de Sustancias Puras</h4>
        <table class="table">
            <thead>
                <tr><th>Tipo</th><th>Composici√≥n</th><th>Separaci√≥n</th><th>Ejemplo</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Elemento</strong></td><td>Un tipo de √°tomo</td><td>Solo por reacciones nucleares</td><td>Au, O‚ÇÇ, Fe</td></tr>
                <tr><td><strong>Compuesto</strong></td><td>M√∫ltiples elementos</td><td>Solo por reacci√≥n qu√≠mica</td><td>H‚ÇÇO, CO‚ÇÇ, NaCl</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #4CAF50;">

        <h4>2. Propiedades de Sustancias Puras</h4>
        <table class="table">
            <thead>
                <tr><th>Propiedad</th><th>Caracter√≠stica</th><th>Ejemplo (H‚ÇÇO)</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Punto fusi√≥n</strong></td><td>Fijo</td><td>0.00¬∞C</td></tr>
                <tr><td><strong>Punto ebullici√≥n</strong></td><td>Fijo</td><td>100.00¬∞C</td></tr>
                <tr><td><strong>Densidad</strong></td><td>Constante (T, P)</td><td>1.000 g/cm¬≥</td></tr>
                <tr><td><strong>Composici√≥n</strong></td><td>Fija</td><td>11.19% H, 88.81% O</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Agua (H‚ÇÇO)</strong> ‚Üí siempre 2H:1O. <strong>Oro (Au)</strong> ‚Üí solo √°tomos de oro. <strong>Sal (NaCl)</strong> ‚Üí 1:1 Na:Cl.</p>
        </div>

        <hr style="border:1px dashed #4CAF50;">

        <h4>3. Ley de Proporciones Definidas (Proust)</h4>
        <p>\[
            \\text{Composici√≥n de un compuesto es siempre la misma}
        \]</p>
        <p>Ejemplo: CO‚ÇÇ ‚Üí siempre 27.29% C, 72.71% O</p>

        <hr style="border:1px dashed #4CAF50;">

        <h4>4. Separaci√≥n Qu√≠mica</h4>
        <table class="table">
            <thead>
                <tr><th>M√©todo</th><th>Principio</th><th>Ejemplo</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Electr√≥lisis</strong></td><td>Corriente el√©ctrica</td><td>H‚ÇÇO ‚Üí H‚ÇÇ + ¬ΩO‚ÇÇ</td></tr>
                <tr><td><strong>Descomposici√≥n t√©rmica</strong></td><td>Calor</td><td>CaCO‚ÇÉ ‚Üí CaO + CO‚ÇÇ</td></tr>
                <tr><td><strong>Reacci√≥n qu√≠mica</strong></td><td>Reactivos</td><td>2H‚ÇÇO‚ÇÇ ‚Üí 2H‚ÇÇO + O‚ÇÇ</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/sustancias-puras.avif" alt="Sustancias puras">
            <p><em>Diagrama completo. Fuente: LibreTexts.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/propiedades-sustancias-puras.PNG" alt="Propiedades">
            <p><em>Propiedades fijas. Fuente: ThoughtCo.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/electr√≥lisis agua.png" alt="Electr√≥lisis">
            <p><em>Electr√≥lisis del agua. Fuente: Wikipedia.</em></p>
        </div>

        <hr style="border:1px dashed #4CAF50;">

        <h4>5. Datos NIST 2025 (Precisi√≥n)</h4>
        <table class="table">
            <thead>
                <tr><th>Sustancia</th><th>P. Fusi√≥n (¬∞C)</th><th>P. Ebullici√≥n (¬∞C)</th><th>Densidad (g/cm¬≥)</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>H‚ÇÇO</strong></td><td>0.000</td><td>99.974</td><td>0.999972</td></tr>
                <tr><td><strong>NaCl</strong></td><td>801</td><td>1465</td><td>2.165</td></tr>
                <tr><td><strong>Au</strong></td><td>1064.18</td><td>2970</td><td>19.30</td></tr>
                <tr><td><strong>CO‚ÇÇ</strong></td><td>-78.5 (subl.)</td><td>‚Äî</td><td>1.977 (s√≥lido)</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #4CAF50;">

        <h4>6. SVG Animado: De Compuesto a Elementos</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="800" height="500" fill="#E8F5E9"/>

                <!-- T√≠tulo -->
                <text x="400" y="50" fill="#1B5E20" font-size="28" text-anchor="middle" font-weight="bold">SUSTANCIAS PURAS</text>

                <!-- Compuesto -->
                <g id="compuesto">
                    <rect x="300" y="100" width="200" height="120" fill="#4CAF50" rx="25">
                        <animate attributeName="opacity" values="1;0.7;1" dur="3s" repeatCount="indefinite"/>
                    </rect>
                    <text x="400" y="150" fill="white" font-size="18" text-anchor="middle">COMPUESTO</text>
                    <text x="400" y="180" fill="#E8F5E9" font-size="14" text-anchor="middle">H‚ÇÇO</text>
                    <text x="400" y="205" fill="#C8E6C9" font-size="10" text-anchor="middle">2H + O</text>
                </g>

                <!-- Flecha electr√≥lisis -->
                <path d="M400 220 L400 280" stroke="#2E7D32" stroke-width="6" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" values="0;60" dur="2s" repeatCount="indefinite"/>
                </path>
                <text x="400" y="260" fill="#1B5E20" font-size="14" text-anchor="middle">Electr√≥lisis</text>

                <!-- Elementos -->
                <g id="elementos" opacity="0">
                    <circle cx="250" cy="350" r="60" fill="#2196F3">
                        <animate attributeName="r" values="60;70;60" dur="2s" begin="2s" repeatCount="indefinite"/>
                    </circle>
                    <text x="250" y="340" fill="white" font-size="16" text-anchor="middle">H‚ÇÇ</text>
                    <text x="250" y="360" fill="#BBDEFB" font-size="10" text-anchor="middle">Hidr√≥geno</text>

                    <circle cx="550" cy="350" r="60" fill="#F44336">
                        <animate attributeName="r" values="60;70;60" begin="2.5s" dur="2s" repeatCount="indefinite"/>
                    </circle>
                    <text x="550" y="340" fill="white" font-size="16" text-anchor="middle">O‚ÇÇ</text>
                    <text x="550" y="360" fill="#FFCDD2" font-size="10" text-anchor="middle">Ox√≠geno</text>

                    <animate attributeName="opacity" values="0;1" begin="2s" dur="1s"/>
                </g>

                <!-- Rayos -->
                <g id="rayos" opacity="0">
                    <line x1="380" y1="280" x2="270" y2="320" stroke="#FFEB3B" stroke-width="4">
                        <animate attributeName="opacity" values="0;1;0" begin="2s" dur="1s" repeatCount="indefinite"/>
                    </line>
                    <line x1="420" y1="280" x2="530" y2="320" stroke="#FFEB3B" stroke-width="4">
                        <animate attributeName="opacity" values="0;1;0" begin="2.2s" dur="1s" repeatCount="indefinite"/>
                    </line>
                    <animate attributeName="opacity" values="0;1" begin="2s" dur="1s"/>
                </g>

                <!-- Propiedades -->
                <rect x="50" y="380" width="200" height="100" fill="#FFF3E0" rx="15"/>
                <text x="150" y="410" fill="#E65100" font-size="12" text-anchor="middle">P.F. = 0.00¬∞C</text>
                <text x="150" y="430" fill="#FF6F00" font-size="10" text-anchor="middle">P.E. = 100.00¬∞C</text>
                <text x="150" y="450" fill="#E65100" font-size="10" text-anchor="middle">Densidad fija</text>

                <!-- Ley Proust -->
                <rect x="550" y="380" width="200" height="100" fill="#E8F5E9" rx="15"/>
                <text x="650" y="410" fill="#1B5E20" font-size="12" text-anchor="middle">Ley Proporciones</text>
                <text x="650" y="430" fill="#2E7D32" font-size="10" text-anchor="middle">Definidas (Proust)</text>

                <!-- NIST -->
                <text x="400" y="470" fill="#1B5E20" font-size="14" text-anchor="middle">NIST 2025: H‚ÇÇO = 2.016 : 15.999</text>

                <!-- Marcador -->
                <defs>
                    <marker id="arrow" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#2E7D32"/>
                    </marker>
                </defs>
            </svg>
            <p><em>SVG Animado: Electr√≥lisis de H‚ÇÇO ‚Üí H‚ÇÇ + O‚ÇÇ con propiedades fijas.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Sustancia pura incluye', 'respuesta' => 'Elementos, compuestos'],
        ['enunciado' => 'Separaci√≥n de compuesto', 'respuesta' => 'Qu√≠mica (electr√≥lisis)'],
        ['enunciado' => 'Propiedades', 'respuesta' => 'Constantes (P.F., P.E.)'],

        // === APLICADOS ===
        ['enunciado' => 'P.F. NaCl', 'respuesta' => '801¬∞C'],
        ['enunciado' => 'P.E. Au', 'respuesta' => '2970¬∞C'],
        ['enunciado' => '% O en CO‚ÇÇ', 'respuesta' => '72.71%'],

        // === QU√çMICOS ===
        ['enunciado' => 'Electr√≥lisis H‚ÇÇO', 'respuesta' => '2H‚ÇÇO ‚Üí 2H‚ÇÇ + O‚ÇÇ'],
        ['enunciado' => 'Ley Proust en H‚ÇÇO', 'respuesta' => 'Siempre 11.19% H'],
        ['enunciado' => 'Composici√≥n NaCl', 'respuesta' => '39.34% Na, 60.66% Cl'],

        // === AVANZADOS ===
        ['enunciado' => 'NIST: P.F. H‚ÇÇO exacto', 'respuesta' => '0.000¬∞C'],
        ['enunciado' => 'IUPAC: elementos totales 2025', 'respuesta' => '118'],
        ['enunciado' => 'Separar O‚ÇÇ de aire', 'respuesta' => 'Destilaci√≥n fraccionada (f√≠sica, pero aire es mezcla)']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Sustanciasar puras tienen...', 'opciones' => ['Composici√≥n fija', 'Variable', 'Aleatoria', 'Ninguna'], 'correcta' => 'Composici√≥n fija'],
        ['pregunta' => 'Elemento es...', 'opciones' => ['Un tipo de √°tomo', 'Mezcla', 'Compuesto', 'Soluci√≥n'], 'correcta' => 'Un tipo de √°tomo'],
        ['pregunta' => 'Compuesto ejemplo', 'opciones' => ['CO‚ÇÇ', 'Aire', 'Agua salada', 'Suelo'], 'correcta' => 'CO‚ÇÇ'],
        ['pregunta' => 'Separar H‚ÇÇO en H‚ÇÇ y O‚ÇÇ', 'opciones' => ['Electr√≥lisis', 'Filtraci√≥n', 'Destilaci√≥n', 'Decantaci√≥n'], 'correcta' => 'Electr√≥lisis'],
        ['pregunta' => 'Agua es...', 'opciones' => ['Compuesto', 'Elemento', 'Mezcla', 'Plasma'], 'correcta' => 'Compuesto'],
        ['pregunta' => 'Oro es...', 'opciones' => ['Elemento', 'Compuesto', 'Mezcla', 'Soluci√≥n'], 'correcta' => 'Elemento'],
        ['pregunta' => 'Propiedades puras son...', 'opciones' => ['Constantes', 'Variables', 'Aleatorias', 'Ninguna'], 'correcta' => 'Constantes'],
        ['pregunta' => 'Punto fusi√≥n H‚ÇÇO', 'opciones' => ['0¬∞C', '100¬∞C', '-78¬∞C', '801¬∞C'], 'correcta' => '0¬∞C'],
        ['pregunta' => 'Ley Proust dice...', 'opciones' => ['Composici√≥n fija', 'Masa variable', 'Volumen constante', 'Color cambia'], 'correcta' => 'Composici√≥n fija'],
        ['pregunta' => 'NaCl se descompone por...', 'opciones' => ['Electr√≥lisis', 'Evaporaci√≥n', 'Filtraci√≥n', 'Sublimaci√≥n'], 'correcta' => 'Electr√≥lisis'],

        // === MEDIO (10) ===
        ['pregunta' => '% O en CO‚ÇÇ', 'opciones' => ['72.71%', '27.29%', '50%', '11.19%'], 'correcta' => '72.71%'],
        ['pregunta' => 'Electr√≥lisis H‚ÇÇO produce...', 'opciones' => ['2H‚ÇÇ + O‚ÇÇ', 'H‚ÇÇ + O‚ÇÇ', '2H‚ÇÇO', 'CO‚ÇÇ'], 'correcta' => '2H‚ÇÇ + O‚ÇÇ'],
        ['pregunta' => 'P.F. NaCl', 'opciones' => ['801¬∞C', '0¬∞C', '1064¬∞C', '1465¬∞C'], 'correcta' => '801¬∞C'],
        ['pregunta' => 'Densidad Au', 'opciones' => ['19.30 g/cm¬≥', '1.000 g/cm¬≥', '2.165 g/cm¬≥', '0.789 g/cm¬≥'], 'correcta' => '19.30 g/cm¬≥'],
        ['pregunta' => 'Composici√≥n H‚ÇÇO', 'opciones' => ['11.19% H', '50% H', '88.81% H', '100% H'], 'correcta' => '11.19% H'],
        ['pregunta' => 'IUPAC: elementos totales', 'opciones' => ['118', '100', '92', '150'], 'correcta' => '118'],
        ['pregunta' => 'CaCO‚ÇÉ se descompone por...', 'opciones' => ['Calor', 'Luz', 'Presi√≥n', 'Agua'], 'correcta' => 'Calor'],
        ['pregunta' => 'P.E. CO‚ÇÇ', 'opciones' => ['Sublima a -78.5¬∞C', '100¬∞C', '0¬∞C', '1465¬∞C'], 'correcta' => 'Sublima a -78.5¬∞C'],
        ['pregunta' => 'Separar NaCl en Na y Cl', 'opciones' => ['Electr√≥lisis fundido', 'Destilaci√≥n', 'Filtraci√≥n', 'Decantaci√≥n'], 'correcta' => 'Electr√≥lisis fundido'],
        ['pregunta' => 'Propiedad intensiva en puros', 'opciones' => ['Densidad', 'Volumen', 'Masa', '√Årea'], 'correcta' => 'Densidad'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'NIST: P.F. H‚ÇÇO exacto', 'opciones' => ['0.000¬∞C', '0.01¬∞C', '0.00¬∞C', '0.0000¬∞C'], 'correcta' => '0.000¬∞C'],
        ['pregunta' => 'Relaci√≥n H:O en H‚ÇÇO', 'opciones' => ['2:1 √°tomos', '1:1', '1:2', '3:1'], 'correcta' => '2:1 √°tomos'],
        ['pregunta' => 'Ley proporciones m√∫ltiples', 'opciones' => ['CO y CO‚ÇÇ', 'H‚ÇÇO y H‚ÇÇO‚ÇÇ', 'NaCl y KCl', 'Au y Ag'], 'correcta' => 'CO y CO‚ÇÇ'],
        ['pregunta' => 'Descomposici√≥n t√©rmica HgO', 'opciones' => ['2HgO ‚Üí 2Hg + O‚ÇÇ', 'HgO ‚Üí HgO', 'Hg ‚Üí O‚ÇÇ', 'O‚ÇÇ ‚Üí Hg'], 'correcta' => '2HgO ‚Üí 2Hg + O‚ÇÇ'],
        ['pregunta' => 'Punto triple H‚ÇÇO', 'opciones' => ['0.01¬∞C, 611.7 Pa', '0.00¬∞C, 1 atm', '100¬∞C, 1 atm', '374¬∞C, 22.1 MPa'], 'correcta' => '0.01¬∞C, 611.7 Pa'],
        ['pregunta' => 'Diamante es...', 'opciones' => ['Elemento (C)', 'Compuesto', 'Mezcla', 'Aleaci√≥n'], 'correcta' => 'Elemento (C)'],
        ['pregunta' => 'Grafito y diamante son...', 'opciones' => ['Al√≥tropos', 'Is√≥topos', 'Iones', 'Mezclas'], 'correcta' => 'Al√≥tropos'],
        ['pregunta' => 'O‚ÇÇ y O‚ÇÉ son...', 'opciones' => ['Al√≥tropos', 'Is√≥topos', 'Compuestos', 'Mezclas'], 'correcta' => 'Al√≥tropos'],
        ['pregunta' => 'Ley conservaci√≥n masa en...', 'opciones' => ['Reacci√≥n qu√≠mica', 'Mezcla', 'Fusi√≥n', 'Evaporaci√≥n'], 'correcta' => 'Reacci√≥n qu√≠mica'],
        ['pregunta' => 'IUPAC define compuesto como...', 'opciones' => ['Uni√≥n qu√≠mica fija', 'Mezcla f√≠sica', 'Elemento', 'Plasma'], 'correcta' => 'Uni√≥n qu√≠mica fija']
    ]
];
// ========================================
// MATERIA: QU√çMICA I
// SUBTEMA: Elementos y Compuestos (Tabla Peri√≥dica, F√≥rmulas, Al√≥tropos, Proporciones Fijas)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Qu√≠mica I',
    'slug' => 'elementos-compuestos',
    'titulo' => 'Elementos y Compuestos: Los Ladrillos del Universo',
    'contenido' => '
        <h3>Elementos y Compuestos</h3>
        <p>Los <strong>elementos</strong> son sustancias puras de <strong>un solo tipo de √°tomo</strong>. Los <strong>compuestos</strong> son <strong>uniones qu√≠micas</strong> de dos o m√°s elementos en <strong>proporciones fijas</strong>.</p>

        <hr style="border:1px dashed #1976D2;">

        <h4>1. Elementos</h4>
        <ul>
            <li><strong>118 elementos confirmados (IUPAC 2025)</strong></li>
            <li><strong>Organizados en la Tabla Peri√≥dica</strong></li>
            <li><strong>S√≠mbolos: 1 o 2 letras (H, He, Li... Og)</strong></li>
            <li><strong>No descomponibles qu√≠micamente</strong></li>
        </ul>

        <table class="table">
            <thead>
                <tr><th>S√≠mbolo</th><th>Nombre</th><th>N¬∞ At√≥mico</th><th>Masa (u)</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>H</strong></td><td>Hidr√≥geno</td><td>1</td><td>1.008</td></tr>
                <tr><td><strong>He</strong></td><td>Helio</td><td>2</td><td>4.0026</td></tr>
                <tr><td><strong>Fe</strong></td><td>Hierro</td><td>26</td><td>55.845</td></tr>
                <tr><td><strong>Au</strong></td><td>Oro</td><td>79</td><td>196.967</td></tr>
                <tr><td><strong>Og</strong></td><td>Oganes√≥n</td><td>118</td><td>[294]</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #1976D2;">

        <h4>2. Compuestos</h4>
        <ul>
            <li><strong>F√≥rmula qu√≠mica</strong> ‚Üí indica elementos y proporci√≥n</li>
            <li><strong>Proporciones fijas (Ley de Proust)</strong></li>
            <li><strong>Separables solo por reacci√≥n qu√≠mica</strong></li>
        </ul>

        <table class="table">
            <thead>
                <tr><th>F√≥rmula</th><th>Nombre</th><th>Elementos</th><th>Proporci√≥n</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>H‚ÇÇO</strong></td><td>Agua</td><td>H, O</td><td>2:1</td></tr>
                <tr><td><strong>CO‚ÇÇ</strong></td><td>Di√≥xido de carbono</td><td>C, O</td><td>1:2</td></tr>
                <tr><td><strong>NaCl</strong></td><td>Cloruro de sodio</td><td>Na, Cl</td><td>1:1</td></tr>
                <tr><td><strong>H‚ÇÇSO‚ÇÑ</strong></td><td>√Åcido sulf√∫rico</td><td>H, S, O</td><td>2:1:4</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Carbono (C)</strong> ‚Üí elemento. <strong>Di√≥xido de carbono (CO‚ÇÇ)</strong> ‚Üí compuesto (1C + 2O).</p>
        </div>

        <hr style="border:1px dashed #1976D2;">

        <h4>3. Tabla Peri√≥dica (IUPAC 2025)</h4>
        <ul>
            <li><strong>7 per√≠odos, 18 grupos</strong></li>
            <li><strong>Metales, no metales, metaloides</strong></li>
            <li><strong>Al√≥tropos:</strong> misma composici√≥n, estructura distinta (C: diamante, grafito)</li>
        </ul>

        <div class="visual">
            <img src="assets/img/tabla-periodica.png" alt="Tabla Peri√≥dica IUPAC 2025">
            <p><em>Tabla Peri√≥dica (IUPAC 2025). Fuente: Wikipedia.</em></p>
        </div>

        <hr style="border:1px dashed #1976D2;">

        <h4>4. Ley de Proporciones Definidas</h4>
        <p>\[
            \\text{En un compuesto, los elementos est√°n en proporci√≥n fija por masa}
        \]</p>
        <p>Ejemplo: H‚ÇÇO ‚Üí siempre 11.19% H, 88.81% O</p>

        <hr style="border:1px dashed #1976D2;">

        <h4>5. SVG Animado: Formaci√≥n de H‚ÇÇO</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="800" height="500" fill="#E3F2FD"/>

                <!-- T√≠tulo -->
                <text x="400" y="50" fill="#0D47A1" font-size="28" text-anchor="middle" font-weight="bold">FORMACI√ìN DE H‚ÇÇO</text>

                <!-- Hidr√≥geno -->
                <g id="h2">
                    <circle cx="200" cy="200" r="40" fill="#2196F3">
                        <animate attributeName="r" values="40;50;40" dur="2s" repeatCount="indefinite"/>
                    </circle>
                    <text x="200" y="195" fill="white" font-size="16" text-anchor="middle">H</text>
                    <text x="200" y="215" fill="#BBDEFB" font-size="12" text-anchor="middle">1.008 u</text>

                    <circle cx="300" cy="200" r="40" fill="#2196F3">
                        <animate attributeName="r" values="40;50;40" begin="0.5s" dur="2s" repeatCount="indefinite"/>
                    </circle>
                    <text x="300" y="195" fill="white" font-size="16" text-anchor="middle">H</text>
                </g>

                <!-- Ox√≠geno -->
                <g id="o">
                    <circle cx="600" cy="200" r="60" fill="#F44336">
                        <animate attributeName="r" values="60;70;60" dur="2s" repeatCount="indefinite"/>
                    </circle>
                    <text x="600" y="190" fill="white" font-size="18" text-anchor="middle">O</text>
                    <text x="600" y="215" fill="#FFCDD2" font-size="12" text-anchor="middle">15.999 u</text>
                </g>

                <!-- Reacci√≥n -->
                <path d="M350 200 L450 200" stroke="#1976D2" stroke-width="6" marker-end="url(#arrow)">
                    <animate attributeName="stroke-dashoffset" values="0;100" dur="3s" repeatCount="indefinite"/>
                </path>
                <text x="400" y="180" fill="#1565C0" font-size="14" text-anchor="middle">Reacci√≥n qu√≠mica</text>

                <!-- H‚ÇÇO -->
                <g id="h2o" opacity="0">
                    <ellipse cx="400" cy="350" rx="80" ry="60" fill="#90CAF9"/>
                    <text x="400" y="340" fill="#0D47A1" font-size="18" text-anchor="middle">H‚ÇÇO</text>
                    <text x="400" y="365" fill="#1565C0" font-size="12" text-anchor="middle">18.016 u</text>
                    <animate attributeName="opacity" values="0;1" begin="2s" dur="1s"/>
                </g>

                <!-- Proporci√≥n -->
                <rect x="50" y="380" width="200" height="100" fill="#E8F5E9" rx="15"/>
                <text x="150" y="410" fill="#1B5E20" font-size="12" text-anchor="middle">2H : 1O</text>
                <text x="150" y="430" fill="#2E7D32" font-size="10" text-anchor="middle">11.19% H</text>
                <text x="150" y="450" fill="#1B5E20" font-size="10" text-anchor="middle">88.81% O</text>

                <!-- Al√≥tropos -->
                <rect x="550" y="380" width="200" height="100" fill="#FFF3E0" rx="15"/>
                <text x="650" y="410" fill="#E65100" font-size="12" text-anchor="middle">Al√≥tropos C</text>
                <text x="650" y="430" fill="#FF6F00" font-size="10" text-anchor="middle">Diamante</text>
                <text x="650" y="450" fill="#E65100" font-size="10" text-anchor="middle">Grafito</text>

                <!-- IUPAC -->
                <text x="400" y="470" fill="#1565C0" font-size="14" text-anchor="middle">IUPAC 2025: 118 Elementos</text>

                <!-- Marcador -->
                <defs>
                    <marker id="arrow" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                        <path d="M0,0 L0,15 L15,7.5 z" fill="#1976D2"/>
                    </marker>
                </defs>
            </svg>
            <p><em>SVG Animado: 2H + O ‚Üí H‚ÇÇO con proporciones y al√≥tropos.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Elemento ejemplo', 'respuesta' => 'Hierro (Fe)'],
        ['enunciado' => 'Compuesto ejemplo', 'respuesta' => '√Åcido sulf√∫rico (H‚ÇÇSO‚ÇÑ)'],
        ['enunciado' => 'Total elementos 2025', 'respuesta' => '118'],

        // === APLICADOS ===
        ['enunciado' => 'F√≥rmula agua', 'respuesta' => 'H‚ÇÇO'],
        ['enunciado' => 'Proporci√≥n H:O en H‚ÇÇO', 'respuesta' => '2:1'],
        ['enunciado' => '% O en CO‚ÇÇ', 'respuesta' => '72.71%'],

        // === QU√çMICOS ===
        ['enunciado' => 'Elemento m√°s abundante Tierra', 'respuesta' => 'Ox√≠geno (O)'],
        ['enunciado' => 'Al√≥tropos del carbono', 'respuesta' => 'Diamante, grafito, fullereno'],
        ['enunciado' => 'Ley Proust en NaCl', 'respuesta' => '39.34% Na, 60.66% Cl'],

        // === AVANZADOS ===
        ['enunciado' => 'NIST: masa H exacta', 'respuesta' => '1.00784 u'],
        ['enunciado' => 'IUPAC: √∫ltimo elemento', 'respuesta' => 'Oganes√≥n (Og)'],
        ['enunciado' => 'Compuesto con m√°s elementos', 'respuesta' => 'Ej. ADN (C, H, O, N, P)']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Elementos son...', 'opciones' => ['Un tipo de √°tomo', 'Mezcla', 'Compuesto', 'Soluci√≥n'], 'correcta' => 'Un tipo de √°tomo'],
        ['pregunta' => 'Compuestos tienen...', 'opciones' => ['Proporciones fijas', 'Variables', 'Aleatorias', 'Ninguna'], 'correcta' => 'Proporciones fijas'],
        ['pregunta' => 'Tabla peri√≥dica contiene...', 'opciones' => ['Elementos', 'Compuestos', 'Mezclas', 'Reacciones'], 'correcta' => 'Elementos'],
        ['pregunta' => 'NaCl es...', 'opciones' => ['Compuesto', 'Elemento', 'Mezcla', 'Gas'], 'correcta' => 'Compuesto'],
        ['pregunta' => 'H‚ÇÇO contiene...', 'opciones' => ['2H + O', 'H + O', 'H‚ÇÇ + O‚ÇÇ', 'H + O‚ÇÇ'], 'correcta' => '2H + O'],
        ['pregunta' => 'S√≠mbolo oro', 'opciones' => ['Au', 'Ag', 'Fe', 'O'], 'correcta' => 'Au'],
        ['pregunta' => 'N√∫mero at√≥mico H', 'opciones' => ['1', '2', '8', '26'], 'correcta' => '1'],
        ['pregunta' => 'CO‚ÇÇ es...', 'opciones' => ['Compuesto', 'Elemento', 'Mezcla', 'Plasma'], 'correcta' => 'Compuesto'],
        ['pregunta' => 'Diamante es...', 'opciones' => ['Carbono (C)', 'Ox√≠geno', 'Hidr√≥geno', 'Hierro'], 'correcta' => 'Carbono (C)'],
        ['pregunta' => 'Ley Proust aplica a...', 'opciones' => ['Compuestos', 'Elementos', 'Mezclas', 'Gases'], 'correcta' => 'Compuestos'],

        // === MEDIO (10) ===
        ['pregunta' => '% O en H‚ÇÇO', 'opciones' => ['88.81%', '11.19%', '50%', '100%'], 'correcta' => '88.81%'],
        ['pregunta' => 'Masa molar H‚ÇÇO', 'opciones' => ['18.016 u', '16 u', '2 u', '32 u'], 'correcta' => '18.016 u'],
        ['pregunta' => 'Al√≥tropos del ox√≠geno', 'opciones' => ['O‚ÇÇ y O‚ÇÉ', 'O y O‚ÇÇ', 'O‚ÇÇ y H‚ÇÇO', 'O y CO‚ÇÇ'], 'correcta' => 'O‚ÇÇ y O‚ÇÉ'],
        ['pregunta' => 'N√∫mero elementos naturales', 'opciones' => ['92', '118', '100', '150'], 'correcta' => '92'],
        ['pregunta' => 'S√≠mbolo √∫ltimo elemento', 'opciones' => ['Og', 'Uuo', 'Lv', 'Ts'], 'correcta' => 'Og'],
        ['pregunta' => 'F√≥rmula √°cido sulf√∫rico', 'opciones' => ['H‚ÇÇSO‚ÇÑ', 'HCl', 'HNO‚ÇÉ', 'NaOH'], 'correcta' => 'H‚ÇÇSO‚ÇÑ'],
        ['pregunta' => 'Elemento m√°s ligero', 'opciones' => ['Hidr√≥geno', 'Helio', 'Litio', 'Carbono'], 'correcta' => 'Hidr√≥geno'],
        ['pregunta' => 'Grafito conduce...', 'opciones' => ['Electricidad', 'Calor', 'Luz', 'Sonido'], 'correcta' => 'Electricidad'],
        ['pregunta' => 'Diamante es...', 'opciones' => ['Aislante', 'Conductor', 'Semiconductor', 'Superconductor'], 'correcta' => 'Aislante'],
        ['pregunta' => 'IUPAC 2025: elementos totales', 'opciones' => ['118', '117', '119', '120'], 'correcta' => '118'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'NIST: masa exacta H', 'opciones' => ['1.00784 u', '1.008 u', '1.000 u', '2.014 u'], 'correcta' => '1.00784 u'],
        ['pregunta' => 'Relaci√≥n masa H:O en H‚ÇÇO', 'opciones' => ['1:8', '1:16', '2:1', '1:1'], 'correcta' => '1:8'],
        ['pregunta' => 'Oganes√≥n (Og) es...', 'opciones' => ['Sint√©tico', 'Natural', 'Gas noble', 'Metal'], 'correcta' => 'Sint√©tico'],
        ['pregunta' => 'Ley proporciones m√∫ltiples', 'opciones' => ['CO y CO‚ÇÇ', 'H‚ÇÇO y H‚ÇÇO‚ÇÇ', 'NaCl y KCl', 'Fe y Au'], 'correcta' => 'CO y CO‚ÇÇ'],
        ['pregunta' => 'Fullereno es al√≥tropo de...', 'opciones' => ['Carbono', 'Ox√≠geno', 'F√≥sforo', 'Azufre'], 'correcta' => 'Carbono'],
        ['pregunta' => 'Elemento con m√°s is√≥topos estables', 'opciones' => ['Esta√±o (Sn)', 'Carbono', 'Hidr√≥geno', 'Ox√≠geno'], 'correcta' => 'Esta√±o (Sn)'],
        ['pregunta' => 'S√≠mbolo provisional Uup', 'opciones' => ['Mc (Moscovio)', 'Og', 'Ts', 'Lv'], 'correcta' => 'Mc (Moscovio)'],
        ['pregunta' => 'Compuesto con f√≥rmula C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ', 'opciones' => ['Glucosa', 'Metano', 'Etanol', '√Åcido c√≠trico'], 'correcta' => 'Glucosa'],
        ['pregunta' => 'Elemento m√°s electronegativo', 'opciones' => ['Fl√∫or (F)', 'Ox√≠geno', 'Cloro', 'Nitr√≥geno'], 'correcta' => 'Fl√∫or (F)'],
        ['pregunta' => 'IUPAC define elemento como...', 'opciones' => ['Especie con mismo Z', 'Misma masa', 'Mismo volumen', 'Mismo color'], 'correcta' => 'Especie con mismo Z']
    ]
];
// ========================================
// MATERIA: QU√çMICA I
// SUBTEMA: Tipos de Mezclas (Homog√©neas, Heterog√©neas, Soluciones, Suspensiones, Coloides, Emulsiones)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Qu√≠mica I',
    'slug' => 'tipos-mezclas',
    'titulo' => 'Tipos de Mezclas: Desde Soluciones hasta Coloides',
    'contenido' => '
        <h3>Tipos de Mezclas</h3>
        <p>Las <strong>mezclas</strong> se clasifican por su <strong>uniformidad</strong> y <strong>tama√±o de part√≠cula</strong>. No tienen f√≥rmula qu√≠mica fija.</p>

        <hr style="border:1px dashed #FF9800;">

        <h4>1. Clasificaci√≥n General</h4>
        <table class="table">
            <thead>
                <tr><th>Tipo</th><th>Uniformidad</th><th>Tama√±o Part√≠cula</th><th>Efecto Tyndall</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Homog√©nea</strong></td><td>S√≠</td><td>&lt; 1 nm</td><td>No</td></tr>
                <tr><td><strong>Heterog√©nea</strong></td><td>No</td><td>&gt; 1 nm</td><td>S√≠</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #FF9800;">

        <h4>2. Subtipos de Mezclas</h4>
        <table class="table">
            <thead>
                <tr><th>Subtipo</th><th>Tipo</th><th>Tama√±o (nm)</th><th>Ejemplo</th><th>Estabilidad</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Soluci√≥n</strong></td><td>Homog√©nea</td><td>&lt; 1</td><td>Sal en agua</td><td>Estable</td></tr>
                <tr><td><strong>Coloide</strong></td><td>Heterog√©nea</td><td>1‚Äì1000</td><td>Leche</td><td>Estable</td></tr>
                <tr><td><strong>Suspensi√≥n</strong></td><td>Heterog√©nea</td><td>&gt; 1000</td><td>Arena en agua</td><td>Inestable</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #FF9800;">

        <h4>3. Tipos de Coloides</h4>
        <table class="table">
            <thead>
                <tr><th>Tipo</th><th>Disperso</th><th>Medio</th><th>Ejemplo</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Sol</strong></td><td>S√≥lido</td><td>L√≠quido</td><td>Pintura</td></tr>
                <tr><td><strong>Gel</strong></td><td>L√≠quido</td><td>S√≥lido</td><td>Gelatina</td></tr>
                <tr><td><strong>Emulsi√≥n</strong></td><td>L√≠quido</td><td>L√≠quido</td><td>Mayonesa</td></tr>
                <tr><td><strong>Espuma</strong></td><td>Gas</td><td>L√≠quido</td><td>Crema batida</td></tr>
                <tr><td><strong>Aerosol</strong></td><td>L√≠quido/S√≥lido</td><td>Gas</td><td>Niebla, humo</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Vino</strong> ‚Üí soluci√≥n (homog√©nea). <strong>Mayonesa</strong> ‚Üí emulsi√≥n (coloide). <strong>Granola</strong> ‚Üí suspensi√≥n (heterog√©nea).</p>
        </div>

        <hr style="border:1px dashed #FF9800;">

        <h4>4. Efecto Tyndall</h4>
        <p>Dispersi√≥n de luz por part√≠culas:</p>
        <ul>
            <li><strong>Soluciones:</strong> No (part√≠culas &lt; 1 nm)</li>
            <li><strong>Coloides:</strong> S√≠ (1‚Äì1000 nm)</li>
            <li><strong>Suspensiones:</strong> S√≠ (fuerte, &gt; 1000 nm)</li>
        </ul>

        <hr style="border:1px dashed #FF9800;">

        <h4>5. M√©todos de Identificaci√≥n</h4>
        <table class="table">
            <thead>
                <tr><th>Prueba</th><th>Soluci√≥n</th><th>Coloide</th><th>Suspensi√≥n</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Visual</strong></td><td>Transparente</td><td>Opalescente</td><td>Turbia</td></tr>
                <tr><td><strong>Sedimentaci√≥n</strong></td><td>No</td><td>No</td><td>S√≠</td></tr>
                <tr><td><strong>Filtraci√≥n</strong></td><td>Pasa</td><td>No pasa</td><td>No pasa</td></tr>
                <tr><td><strong>Efecto Tyndall</strong></td><td>No</td><td>S√≠</td><td>S√≠</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/clasificacion-mezclas.jpeg" alt="Clasificaci√≥n de mezclas">
            <p><em>Clasificaci√≥n detallada. Fuente: LibreTexts.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/coloides.png" alt="Tipos de coloides">
            <p><em>Tipos de coloides. Fuente: ThoughtCo.</em></p>
        </div>

        <hr style="border:1px dashed #FF9800;">

        <h4>6. SVG Animado: Efecto Tyndall y Clasificaci√≥n</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="800" height="500" fill="#FFF3E0"/>

                <!-- T√≠tulo -->
                <text x="400" y="50" fill="#E65100" font-size="28" text-anchor="middle" font-weight="bold">TIPOS DE MEZCLAS</text>

                <!-- Soluci√≥n -->
                <g id="solucion">
                    <rect x="80" y="150" width="140" height="180" fill="#2196F3" rx="20">
                        <animate attributeName="opacity" values="1;0.8;1" dur="3s" repeatCount="indefinite"/>
                    </rect>
                    <text x="150" y="200" fill="white" font-size="16" text-anchor="middle">SOLUCI√ìN</text>
                    <text x="150" y="230" fill="#BBDEFB" font-size="12" text-anchor="middle">Sal + Agua</text>
                    <text x="150" y="260" fill="#E3F2FD" font-size="10" text-anchor="middle">&lt; 1 nm</text>
                    <text x="150" y="290" fill="#E3F2FD" font-size="10" text-anchor="middle">Tyndall: No</text>
                </g>

                <!-- Coloide -->
                <g id="coloide">
                    <rect x="320" y="150" width="140" height="180" fill="#FF9800" rx="20">
                        <animate attributeName="opacity" values="0.8;1;0.8" begin="1s" dur="3s" repeatCount="indefinite"/>
                    </rect>
                    <text x="390" y="200" fill="white" font-size="16" text-anchor="middle">COLOIDE</text>
                    <text x="390" y="230" fill="#FFF3E0" font-size="12" text-anchor="middle">Leche</text>
                    <text x="390" y="260" fill="#FFF3E0" font-size="10" text-anchor="middle">1‚Äì1000 nm</text>
                    <text x="390" y="290" fill="#FFF3E0" font-size="10" text-anchor="middle">Tyndall: S√≠</text>
                </g>

                <!-- Suspensi√≥n -->
                <g id="suspension">
                    <rect x="560" y="150" width="140" height="180" fill="#F44336" rx="20">
                        <animate attributeName="opacity" values="0.8;1;0.8" begin="1.5s" dur="3s" repeatCount="indefinite"/>
                    </rect>
                    <text x="630" y="200" fill="white" font-size="16" text-anchor="middle">SUSPENSI√ìN</text>
                    <text x="630" y="230" fill="#FFCDD2" font-size="12" text-anchor="middle">Arena + Agua</text>
                    <text x="630" y="260" fill="#FFCDD2" font-size="10" text-anchor="middle">&gt; 1000 nm</text>
                    <text x="630" y="290" fill="#FFCDD2" font-size="10" text-anchor="middle">Sedimenta</text>
                </g>

                <!-- Efecto Tyndall -->
                <g id="tyndall" opacity="0">
                    <rect x="200" y="360" width="400" height="100" fill="#E8F5E9" rx="20"/>
                    <text x="400" y="390" fill="#1B5E20" font-size="14" text-anchor="middle">EFECTO TYNDALL</text>
                    <line x1="250" y1="410" x2="350" y2="410" stroke="#2E7D32" stroke-width="4"/>
                    <text x="300" y="435" fill="#2E7D32" font-size="12" text-anchor="middle">Luz dispersada</text>
                    <animate attributeName="opacity" values="0;1" begin="3s" dur="1s"/>
                </g>

                <!-- Mayonesa -->
                <g id="emulsion" opacity="0">
                    <circle cx="100" cy="420" r="30" fill="#FFEB3B"/>
                    <text x="100" y="415" fill="#E65100" font-size="10" text-anchor="middle">Mayonesa</text>
                    <text x="100" y="435" fill="#E65100" font-size="8" text-anchor="middle">Emulsi√≥n</text>
                    <animate attributeName="opacity" values="0;1" begin="4s" dur="1s"/>
                </g>

                <!-- Datos -->
                <text x="400" y="470" fill="#E65100" font-size="14" text-anchor="middle">IUPAC 2025: Coloide = 1‚Äì1000 nm</text>
            </svg>
            <p><em>SVG Animado: Clasificaci√≥n + Efecto Tyndall + Emulsi√≥n.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Mezcla homog√©nea ejemplo', 'respuesta' => 'Aleaci√≥n, vino'],
        ['enunciado' => 'Mezcla heterog√©nea ejemplo', 'respuesta' => 'Granola, sopa'],
        ['enunciado' => 'Coloide ejemplo', 'respuesta' => 'Leche, gelatina'],

        // === APLICADOS ===
        ['enunciado' => 'Emulsi√≥n ejemplo', 'respuesta' => 'Mayonesa, crema'],
        ['enunciado' => 'Suspensi√≥n se separa por', 'respuesta' => 'Sedimentaci√≥n'],
        ['enunciado' => 'Soluci√≥n pasa filtro', 'respuesta' => 'S√≠'],

        // === QU√çMICOS ===
        ['enunciado' => 'Efecto Tyndall en leche', 'respuesta' => 'S√≠'],
        ['enunciado' => 'Tama√±o part√≠cula coloide', 'respuesta' => '1‚Äì1000 nm'],
        ['enunciado' => 'Gel es coloide de', 'respuesta' => 'L√≠quido en s√≥lido'],

        // === AVANZADOS ===
        ['enunciado' => 'IUPAC: l√≠mite coloide', 'respuesta' => '1000 nm'],
        ['enunciado' => 'Aerosol ejemplo', 'respuesta' => 'Niebla, humo'],
        ['enunciado' => 'Estabilizador en emulsi√≥n', 'respuesta' => 'Emulsionante (ej. lecitina)']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Mezcla homog√©nea tiene...', 'opciones' => ['Apariencia uniforme', 'Fases visibles', 'Sedimento', 'Turbidez'], 'correcta' => 'Apariencia uniforme'],
        ['pregunta' => 'Mezcla heterog√©nea tiene...', 'opciones' => ['Fases visibles', 'Uniforme', 'Transparente', 'Estable'], 'correcta' => 'Fases visibles'],
        ['pregunta' => 'Soluci√≥n es...', 'opciones' => ['Homog√©nea', 'Heterog√©nea', 'Pura', 'Elemento'], 'correcta' => 'Homog√©nea'],
        ['pregunta' => 'Suspensi√≥n se separa por...', 'opciones' => ['Sedimentaci√≥n', 'Destilaci√≥n', 'Qu√≠mica', 'Luz'], 'correcta' => 'Sedimentaci√≥n'],
        ['pregunta' => 'Leche es...', 'opciones' => ['Coloide', '', 'Soluci√≥n', 'Suspensi√≥n', 'Pura'], 'correcta' => 'Coloide'],
        ['pregunta' => 'Mayonesa es...', 'opciones' => ['Emulsi√≥n', 'Soluci√≥n', 'Suspensi√≥n', 'Gel'], 'correcta' => 'Emulsi√≥n'],
        ['pregunta' => 'Efecto Tyndall en soluci√≥n', 'opciones' => ['No', 'S√≠', 'Fuerte', 'D√©bil'], 'correcta' => 'No'],
        ['pregunta' => 'Arena en agua es...', 'opciones' => ['Suspensi√≥n', 'Soluci√≥n', 'Coloide', 'Gas'], 'correcta' => 'Suspensi√≥n'],
        ['pregunta' => 'Vino es...', 'opciones' => ['Soluci√≥n', 'Coloide', 'Suspensi√≥n', 'Elemento'], 'correcta' => 'Soluci√≥n'],
        ['pregunta' => 'Gelatina es...', 'opciones' => ['Gel (coloide)', 'Soluci√≥n', 'Emulsi√≥n', 'Aerosol'], 'correcta' => 'Gel (coloide)'],

        // === MEDIO (10) ===
        ['pregunta' => 'Tama√±o part√≠cula soluci√≥n', 'opciones' => ['&lt; 1 nm', '1‚Äì1000 nm', '&gt; 1000 nm', '0 nm'], 'correcta' => '&lt; 1 nm'],
        ['pregunta' => 'Tama√±o part√≠cula coloide', 'opciones' => ['1‚Äì1000 nm', '&lt; 1 nm', '&gt; 1000 nm', '0 nm'], 'correcta' => '1‚Äì1000 nm'],
        ['pregunta' => 'Tama√±o part√≠cula suspensi√≥n', 'opciones' => ['&gt; 1000 nm', '1‚Äì1000 nm', '&lt; 1 nm', '0 nm'], 'correcta' => '&gt; 1000 nm'],
        ['pregunta' => 'Efecto Tyndall en leche', 'opciones' => ['S√≠', 'No', 'Solo calor', 'Solo luz'], 'correcta' => 'S√≠'],
        ['pregunta' => 'Emulsi√≥n es...', 'opciones' => ['L√≠quido en l√≠quido', 'S√≥lido en l√≠quido', 'Gas en l√≠quido', 'L√≠quido en gas'], 'correcta' => 'L√≠quido en l√≠quido'],
        ['pregunta' => 'Niebla es...', 'opciones' => ['Aerosol l√≠quido', 'Espuma', 'Gel', 'Emulsi√≥n'], 'correcta' => 'Aerosol l√≠quido'],
        ['pregunta' => 'Humo es...', 'opciones' => ['Aerosol s√≥lido', 'Espuma', 'Gel', 'Emulsi√≥n'], 'correcta' => 'Aerosol s√≥lido'],
        ['pregunta' => 'Pintura es...', 'opciones' => ['Sol (coloide)', 'Soluci√≥n', 'Suspensi√≥n', 'Emulsi√≥n'], 'correcta' => 'Sol (coloide)'],
        ['pregunta' => 'Crema batida es...', 'opciones' => ['Espuma', 'Gel', 'Emulsi√≥n', 'Aerosol'], 'correcta' => 'Espuma'],
        ['pregunta' => 'IUPAC: l√≠mite superior coloide', 'opciones' => ['1000 nm', '1 nm', '100 nm', '10,000 nm'], 'correcta' => '1000 nm'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'Estabilizador en mayonesa', 'opciones' => ['Lecitina (emulsionante)', 'Sal', 'Az√∫car', 'Agua'], 'correcta' => 'Lecitina (emulsionante)'],
        ['pregunta' => 'Di√°lisis separa...', 'opciones' => ['Coloides de soluciones', 'Suspensiones', 'Gases', 'S√≥lidos'], 'correcta' => 'Coloides de soluciones'],
        ['pregunta' => 'Coagulaci√≥n en coloides por...', 'opciones' => ['Electrolitos', 'Calor', 'Luz', 'Presi√≥n'], 'correcta' => 'Electrolitos'],
        ['pregunta' => 'Browniano en coloides', 'opciones' => ['Movimiento zig-zag', 'Sedimentaci√≥n', 'Flotaci√≥n', 'Evaporaci√≥n'], 'correcta' => 'Movimiento zig-zag'],
        ['pregunta' => 'Electroforesis separa...', 'opciones' => ['Por carga', 'Por masa', 'Por color', 'Por pH'], 'correcta' => 'Por carga'],
        ['pregunta' => 'Gel de s√≠lice es...', 'opciones' => ['S√≥lido en gas', 'L√≠quido en s√≥lido', 'Gas en l√≠quido', 'S√≥lido en l√≠quido'], 'correcta' => 'L√≠quido en s√≥lido'],
        ['pregunta' => 'Nube es...', 'opciones' => ['Aerosol l√≠quido', 'Espuma', 'Emulsi√≥n', 'Suspensi√≥n'], 'correcta' => 'Aerosol l√≠quido'],
        ['pregunta' => 'Protecci√≥n coloidal por...', 'opciones' => ['Capa adsorbida', 'Calor', 'Luz', 'Sonido'], 'correcta' => 'Capa adsorbida'],
        ['pregunta' => 'Luz l√°ser en coloide muestra...', 'opciones' => ['Trayecto visible', 'Nada', 'Explosi√≥n', 'Calor'], 'correcta' => 'Trayecto visible'],
        ['pregunta' => 'IUPAC define coloide como sistema con...', 'opciones' => ['Part√≠culas 1‚Äì1000 nm', 'Menos de 1 nm', 'M√°s de 1000 nm', 'Gases'], 'correcta' => 'Part√≠culas 1‚Äì1000 nm']
    ]
];
// ========================================
// MATERIA: QU√çMICA I
// SUBTEMA: M√©todos de Separaci√≥n de Mezclas (F√≠sicos, Industriales, Anal√≠ticos)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Qu√≠mica I',
    'slug' => 'metodos-separacion-mezcla',
    'titulo' => 'M√©todos de Separaci√≥n de Mezclas: F√≠sica Pura en Acci√≥n',
    'contenido' => '
        <h3>M√©todos de Separaci√≥n de Mezclas</h3>
        <p>Los <strong>m√©todos f√≠sicos</strong> aprovechan <strong>diferencias en propiedades</strong> (tama√±o, densidad, volatilidad, solubilidad, afinidad) para separar componentes sin alterar su composici√≥n qu√≠mica.</p>

        <hr style="border:1px dashed #1976D2;">

        <h4>1. M√©todos Principales</h4>
        <table class="table">
            <thead>
                <tr><th>M√©todo</th><th>Principio</th><th>Ejemplo</th><th>Uso Industrial</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Filtraci√≥n</strong></td><td>Tama√±o part√≠cula</td><td>Arena + agua</td><td>Agua potable</td></tr>
                <tr><td><strong>Destilaci√≥n</strong></td><td>Punto ebullici√≥n</td><td>Alcohol + agua</td><td>Petr√≥leo, alcohol</td></tr>
                <tr><td><strong>Decantaci√≥n</strong></td><td>Densidad</td><td>Aceite + agua</td><td>Refiner√≠as</td></tr>
                <tr><td><strong>Evaporaci√≥n</strong></td><td>Volatilidad</td><td>Sal de mar</td><td>Salinas</td></tr>
                <tr><td><strong>Cromatograf√≠a</strong></td><td>Afinidad fase</td><td>Tintas</td><td>An√°lisis ADN</td></tr>
                <tr><td><strong>Centrifugaci√≥n</strong></td><td>Densidad + fuerza</td><td>Sangre</td><td>Laboratorios</td></tr>
                <tr><td><strong>Sublimaci√≥n</strong></td><td>Volatilidad s√≥lida</td><td>Yodo + sal</td><td>Purificaci√≥n</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #1976D2;">

        <h4>2. Detalles T√©cnicos</h4>
        <table class="table">
            <thead>
                <tr><th>M√©todo</th><th>Equipo</th><th>Propiedad Clave</th><th>L√≠mite</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Destilaci√≥n simple</strong></td><td>Matraz + condensador</td><td>ŒîT > 25¬∞C</td><td>No aze√≥tropos</td></tr>
                <tr><td><strong>Destilaci√≥n fraccionada</strong></td><td>Columna</td><td>ŒîT > 5¬∞C</td><td>Petr√≥leo</td></tr>
                <tr><td><strong>Cromatograf√≠a en papel</strong></td><td>Papel + solvente</td><td>Rf</td><td>Cualitativo</td></tr>
                <tr><td><strong>Centrifugaci√≥n</strong></td><td>Centrifuga</td><td>g-force</td><td>100,000 g</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Agua salada</strong> ‚Üí <strong>evaporaci√≥n</strong> ‚Üí NaCl s√≥lido. <strong>Petr√≥leo</strong> ‚Üí <strong>destilaci√≥n fraccionada</strong> ‚Üí gasolina, di√©sel.</p>
        </div>

        <hr style="border:1px dashed #1976D2;">

        <h4>3. F√≥rmulas Clave</h4>
        <p>\[
            \\text{Rf (cromatograf√≠a)} = \\frac{\\text{distancia soluto}}{\\text{distancia solvente}}
        \]</p>
        <p>\[
            \\text{ŒîT ebullici√≥n} = K_b \\cdot m \\cdot i
        \]</p>

        <hr style="border:1px dashed #1976D2;">

        <h4>4. Aplicaciones Reales</h4>
        <ul>
            <li><strong>Destilaci√≥n:</strong> 95% etanol (aze√≥tropo)</li>
            <li><strong>Centrifugaci√≥n:</strong> Separaci√≥n plasma (4000 rpm)</li>
            <li><strong>Cromatograf√≠a GC-MS:</strong> Detecci√≥n drogas</li>
        </ul>

        <div class="visual">
            <img src="assets/img/metodo-separacion_mezcla.jpg" alt="M√©todos de separaci√≥n">
            <p><em>M√©todos f√≠sicos. Fuente: LibreTexts.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/destilacion-industrial.png" alt="Destilaci√≥n fraccionada">
            <p><em>Destilaci√≥n industrial. Fuente: ThoughtCo.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/instrumentos-laboratorio.jpg" alt="Equipo destilaci√≥n">
            <p><em>Equipo de laboratorio. Fuente: Wikipedia.</em></p>
        </div>

        <hr style="border:1px dashed #1976D2;">

        <h4>5. SVG Animado: Destilaci√≥n Fraccionada</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="800" height="500" fill="#E3F2FD"/>

                <!-- T√≠tulo -->
                <text x="400" y="50" fill="#0D47A1" font-size="28" text-anchor="middle" font-weight="bold">DESTILACI√ìN FRACCIONADA</text>

                <!-- Matraz -->
                <g id="matraz">
                    <path d="M200 300 Q150 350 200 400 Q250 350 200 300" fill="#90CAF9" stroke="#1976D2" stroke-width="3"/>
                    <text x="200" y="350" fill="#1565C0" font-size="14" text-anchor="middle">Mezcla</text>
                    <animate attributeName="opacity" values="1;0.7;1" dur="3s" repeatCount="indefinite"/>
                </g>

                <!-- Columna -->
                <rect x="190" y="150" width="20" height="150" fill="#BBDEFB" rx="5"/>
                <text x="200" y="140" fill="#1565C0" font-size="12" text-anchor="middle">Columna</text>

                <!-- Vapor -->
                <g id="vapor" opacity="0">
                    <circle cx="200" cy="200" r="15" fill="#42A5F5">
                        <animate attributeName="cy" values="200;150;100;50" dur="2s" begin="1s" repeatCount="indefinite"/>
                    </circle>
                    <animate attributeName="opacity" values="0;1;0" dur="2s" begin="1s" repeatCount="indefinite"/>
                </g>

                <!-- Condensador -->
                <path d="M200 100 L300 100 L320 120 L280 120 Z" fill="#90A4AE"/>
                <text x="250" y="90" fill="#455A64" font-size="12" text-anchor="middle">Condensador</text>

                <!-- Recipiente -->
                <rect x="350" y="200" width="100" height="80" fill="#E3F2FD" rx="15"/>
                <text x="400" y="240" fill="#1565C0" font-size="14" text-anchor="middle">Destilado</text>

                <!-- Temperaturas -->
                <text x="100" y="320" fill="#1976D2" font-size="12">78¬∞C</text>
                <text x="300" y="180" fill="#1976D2" font-size="12">100¬∞C</text>

                <!-- Aze√≥tropo -->
                <rect x="500" y="300" width="250" height="100" fill="#FFF3E0" rx="15"/>
                <text x="625" y="330" fill="#E65100" font-size="14" text-anchor="middle">Aze√≥tropo Etanol-Agua</text>
                <text x="625" y="360" fill="#FF6F00" font-size="12" text-anchor="middle">95.6% Etanol</text>
                <text x="625" y="380" fill="#E65100" font-size="10" text-anchor="middle">No se separa m√°s</text>

                <!-- IUPAC -->
                <text x="400" y="470" fill="#1565C0" font-size="14" text-anchor="middle">IUPAC 2025: Aze√≥tropo = Mezcla Constante</text>
            </svg>
            <p><em>SVG Animado: Destilaci√≥n fraccionada con aze√≥tropo.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Filtraci√≥n separa', 'respuesta' => 'S√≥lido de l√≠quido'],
        ['enunciado' => 'Destilaci√≥n por', 'respuesta' => 'Diferencia punto ebullici√≥n'],
        ['enunciado' => 'Decantaci√≥n para', 'respuesta' => 'L√≠quidos inmiscibles'],

        // === APLICADOS ===
        ['enunciado' => 'Separar sal de agua', 'respuesta' => 'Evaporaci√≥n'],
        ['enunciado' => 'Separar gasolina de petr√≥leo', 'respuesta' => 'Destilaci√≥n fraccionada'],
        ['enunciado' => 'Separar tinta negra', 'respuesta' => 'Cromatograf√≠a en papel'],

        // === QU√çMICOS ===
        ['enunciado' => 'Sublimaci√≥n separa', 'respuesta' => 'Yodo de sal'],
        ['enunciado' => 'Centrifugaci√≥n acelera', 'respuesta' => 'Decantaci√≥n por densidad'],
        ['enunciado' => 'Rf = 0.75 significa', 'respuesta' => 'Soluto recorri√≥ 75% del solvente'],

        // === AVANZADOS ===
        ['enunciado' => 'IUPAC: aze√≥tropo etanol-agua', 'respuesta' => '95.6% etanol'],
        ['enunciado' => 'NIST: P.E. etanol', 'respuesta' => '78.37¬∞C'],
        ['enunciado' => 'M√©todo para ADN', 'respuesta' => 'Electroforesis en gel']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'M√©todos separaci√≥n son...', 'opciones' => ['F√≠sicos', 'Qu√≠micos', 'Nucleares', 'Biol√≥gicos'], 'correcta' => 'F√≠sicos'],
        ['pregunta' => 'Evaporaci√≥n recupera...', 'opciones' => ['S√≥lido', 'L√≠quido', 'Gas', 'Nada'], 'correcta' => 'S√≥lido'],
        ['pregunta' => 'Centrifugaci√≥n por...', 'opciones' => ['Densidad', 'Color', 'Olor', 'Sabor'], 'correcta' => 'Densidad'],
        ['pregunta' => 'Destilaci√≥n separa...', 'opciones' => ['L√≠quidos miscibles', 'S√≥lidos', 'Gases', 'Iones'], 'correcta' => 'L√≠quidos miscibles'],
        ['pregunta' => 'Decantaci√≥n usa...', 'opciones' => ['Embudo decantaci√≥n', 'Matraz', 'Filtro', 'Condensador'], 'correcta' => 'Embudo decantaci√≥n'],
        ['pregunta' => 'Filtraci√≥n retiene...', 'opciones' => ['S√≥lido', 'L√≠quido', 'Gas', 'Luz'], 'correcta' => 'S√≥lido'],
        ['pregunta' => 'Cromatograf√≠a separa por...', 'opciones' => ['Afinidad', 'Masa', 'Volumen', 'pH'], 'correcta' => 'Afinidad'],
        ['pregunta' => 'Sublimaci√≥n059 para...', 'opciones' => ['S√≥lidos vol√°tiles', 'L√≠quidos', 'Gases', 'Coloides'], 'correcta' => 'S√≥lidos vol√°tiles'],
        ['pregunta' => 'Ejemplo evaporaci√≥n', 'opciones' => ['Sal de mar', 'Alcohol', 'Aceite', 'Arena'], 'correcta' => 'Sal de mar'],
        ['pregunta' => 'Petr√≥leo se separa por...', 'opciones' => ['Destilaci√≥n fraccionada', 'Filtraci√≥n', 'Decantaci√≥n', 'Sublimaci√≥n'], 'correcta' => 'Destilaci√≥n fraccionada'],

        // === MEDIO (10) ===
        ['pregunta' => 'Aze√≥tropo etanol-agua', 'opciones' => ['95.6%', '100%', '50%', '78%'], 'correcta' => '95.6%'],
        ['pregunta' => 'Rf = 0.5 significa...', 'opciones' => ['Mitad del camino', 'Inicio', 'Final', 'Nada'], 'correcta' => 'Mitad del camino'],
        ['pregunta' => 'Centrifugaci√≥n en sangre', 'opciones' => ['Plasma + c√©lulas', 'Agua + sal', 'Aceite + agua', 'Arena + agua'], 'correcta' => 'Plasma + c√©lulas'],
        ['pregunta' => 'Sublimaci√≥n de yodo', 'opciones' => ['Violeta ‚Üí s√≥lido', 'L√≠quido', 'Gas incoloro', 'Explosi√≥n'], 'correcta' => 'Violeta ‚Üí s√≥lido'],
        ['pregunta' => 'Destilaci√≥n simple requiere...', 'opciones' => ['ŒîT > 25¬∞C', 'ŒîT < 5¬∞C', 'Misma T', 'Calor'], 'correcta' => 'ŒîT > 25¬∞C'],
        ['pregunta' => 'Cromatograf√≠a GC usa...', 'opciones' => ['Gas como fase m√≥vil', 'L√≠quido', 'S√≥lido', 'Plasma'], 'correcta' => 'Gas como fase m√≥vil'],
        ['pregunta' => 'Embudo decantaci√≥n separa...', 'opciones' => ['L√≠quidos inmiscibles', 'S√≥lidos', 'Gases', 'Coloides'], 'correcta' => 'L√≠quidos inmiscibles'],
        ['pregunta' => 'Evaporaci√≥n en rotavapor', 'opciones' => ['Baja presi√≥n', 'Alta T', 'Luz UV', 'Sonido'], 'correcta' => 'Baja presi√≥n'],
        ['pregunta' => 'NIST: P.E. agua', 'opciones' => ['99.974¬∞C', '100.00¬∞C', '78.37¬∞C', '0.00¬∞C'], 'correcta' => '99.974¬∞C'],
        ['pregunta' => 'IUPAC: m√©todo para pigmentos', 'opciones' => ['Cromatograf√≠a', 'Destilaci√≥n', 'Filtraci√≥n', 'Decantaci√≥n'], 'correcta' => 'Cromatograf√≠a'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'Aze√≥tropo m√≠nimo hierve a...', 'opciones' => ['T < componentes', 'T > componentes', 'Igual', 'Variable'], 'correcta' => 'T < componentes'],
        ['pregunta' => 'Extracci√≥n l√≠quido-l√≠quido usa...', 'opciones' => ['Solubilidad en dos solventes', 'Densidad', 'Color', 'pH'], 'correcta' => 'Solubilidad en dos solventes'],
        ['pregunta' => 'Di√°lisis separa por...', 'opciones' => ['Membrana semipermeable', 'Calor', 'Luz', 'Presi√≥n'], 'correcta' => 'Membrana semipermeable'],
        ['pregunta' => 'Cristalizaci√≥n fraccionada separa...', 'opciones' => ['Sales por solubilidad', 'Gases', 'L√≠quidos', 'Coloides'], 'correcta' => 'Sales por solubilidad'],
        ['pregunta' => 'Electroforesis separa...', 'opciones' => ['Por carga', 'Por masa', 'Por color', 'Por tama√±o'], 'correcta' => 'Por carga'],
        ['pregunta' => 'Destilaci√≥n al vac√≠o para...', 'opciones' => ['Sustancias t√©rmicamente inestables', 'Gases', 'S√≥lidos', 'Coloides'], 'correcta' => 'Sustancias t√©rmicamente inestables'],
        ['pregunta' => 'Columna Vigreux mejora...', 'opciones' => ['Eficiencia destilaci√≥n', 'Filtraci√≥n', 'Decantaci√≥n', 'Sublimaci√≥n'], 'correcta' => 'Eficiencia destilaci√≥n'],
        ['pregunta' => 'Rf en cromatograf√≠a es...', 'opciones' => ['Adimensional', 'En metros', 'En gramos', 'En %'], 'correcta' => 'Adimensional'],
        ['pregunta' => 'M√©todo para is√≥topos', 'opciones' => ['Espectrometr√≠a de masas', 'Destilaci√≥n', 'Filtraci√≥n', 'Cromatograf√≠a'], 'correcta' => 'Espectrometr√≠a de masas'],
        ['pregunta' => 'IUPAC define aze√≥tropo como...', 'opciones' => ['Mezcla de composici√≥n constante al hervir', 'Pura', 'Elemento', 'Reacci√≥n'], 'correcta' => 'Mezcla de composici√≥n constante al hervir']
    ]
];
// ========================================
// MATERIA: QU√çMICA I
// SUBTEMA: Part√≠culas Subat√≥micas (Historia, Modelo At√≥mico, Tabla Peri√≥dica, Mole, Is√≥topos)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Qu√≠mica I',
    'slug' => 'particulas-subatomicas',
    'titulo' => 'Part√≠culas Subat√≥micas: El Coraz√≥n del √Åtomo',
    'contenido' => '
        <h3>Part√≠culas Subat√≥micas</h3>
        <p>El √°tomo est√° formado por <strong>protones (+1)</strong>, <strong>neutrones (0)</strong> y <strong>electrones (‚àí1)</strong>. El <strong>n√∫cleo</strong> contiene protones y neutrones; los electrones orbitan en <strong>nubes electr√≥nicas</strong>.</p>

        <hr style="border:1px dashed #1976D2;">

        <h4>1. Part√≠culas Subat√≥micas</h4>
        <table class="table">
            <thead>
                <tr><th>Part√≠cula</th><th>S√≠mbolo</th><th>Carga (e)</th><th>Masa (u)</th><th>Ubicaci√≥n</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Prot√≥n</strong></td><td>p‚Å∫</td><td>+1</td><td>1.007276</td><td>N√∫cleo</td></tr>
                <tr><td><strong>Neutr√≥n</strong></td><td>n‚Å∞</td><td>0</td><td>1.008665</td><td>N√∫cleo</td></tr>
                <tr><td><strong>Electr√≥n</strong></td><td>e‚Åª</td><td>-1</td><td>0.00054858</td><td>Orbitales</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #1976D2;">

        <h4>2. Historia del Modelo At√≥mico</h4>
        <ul>
            <li><strong>Dalton (1808):</strong> √Åtomo indivisible</li>
            <li><strong>Thomson (1897):</strong> Descubri√≥ electr√≥n (modelo "pud√≠n")</li>
            <li><strong>Rutherford (1911):</strong> N√∫cleo denso (experimento l√°mina oro)</li>
            <li><strong>Bohr (1913):</strong> Electrones en √≥rbitas cuantizadas</li>
            <li><strong>Chadwick (1932):</strong> Descubri√≥ neutr√≥n</li>
            <li><strong>Mec√°nica Cu√°ntica (1920s):</strong> Orbitales de probabilidad</li>
        </ul>

        <hr style="border:1px dashed #1976D2;">

        <h4>3. N√∫mero At√≥mico y M√°sico</h4>
        <p>\[
            \\text{N√∫mero at√≥mico (Z)} = \\text{protones} = \\text{electrones (√°tomo neutro)}
        \]</p>
        <p>\[
            \\text{N√∫mero m√°sico (A)} = \\text{protones} + \\text{neutrones}
        \]</p>
        <p>\[
            \\text{Is√≥topos}: \\text{mismo Z, distinto A}
        \]</p>

        <table class="table">
            <thead>
                <tr><th>Elemento</th><th>Z</th><th>A</th><th>p‚Å∫</th><th>n‚Å∞</th><th>e‚Åª</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>¬π¬≤C</strong></td><td>6</td><td>12</td><td>6</td><td>6</td><td>6</td></tr>
                <tr><td><strong>¬π¬≥C</strong></td><td>6</td><td>13</td><td>6</td><td>7</td><td>6</td></tr>
                <tr><td><strong>¬π‚Å¥C</strong></td><td>6</td><td>14</td><td>6</td><td>8</td><td>6</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #1976D2;">

        <h4>4. El Mole y Avogadro</h4>
        <p>\[
            \\text{1 mol} = 6.02214076 \\times 10^{23} \\text{ entidades (IUPAC 2019)}
        \]</p>
        <p>\[
            \\text{Masa molar (M)} = \\text{masa de 1 mol en gramos}
        \]</p>

        <table class="table">
            <thead>
                <tr><th>Elemento</th><th>Masa molar (g/mol)</th><th>Mole contiene</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>H</strong></td><td>1.008</td><td>6.022√ó10¬≤¬≥ √°tomos</td></tr>
                <tr><td><strong>C</strong></td><td>12.011</td><td>6.022√ó10¬≤¬≥ √°tomos</td></tr>
                <tr><td><strong>O</strong></td><td>15.999</td><td>6.022√ó10¬≤¬≥ √°tomos</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>¬π¬≤C</strong> ‚Üí 6p‚Å∫, 6n‚Å∞, 6e‚Åª. <strong>1 mol C</strong> = 12.011 g = 6.022√ó10¬≤¬≥ √°tomos.</p>
        </div>

        <hr style="border:1px dashed #1976D2;">

        <h4>5. Datos NIST 2025</h4>
        <table class="table">
            <thead>
                <tr><th>Part√≠cula</th><th>Masa (u)</th><th>Carga (C)</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Prot√≥n</strong></td><td>1.007276466621</td><td>+1.602176634√ó10‚Åª¬π‚Åπ</td></tr>
                <tr><td><strong>Neutr√≥n</strong></td><td>1.00866491595</td><td>0</td></tr>
                <tr><td><strong>Electr√≥n</strong></td><td>0.000548579909065</td><td>-1.602176634√ó10‚Åª¬π‚Åπ</td></tr>
            </tbody>
        </table>

        <div class="visual">
            <img src="assets/img/modelo-atomico.png" alt="Part√≠culas subat√≥micas">
            <p><em>Modelo at√≥mico. Fuente: LibreTexts.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/estructura-atomo.webp" alt="Partes del √°tomo">
            <p><em>Estructura del √°tomo. Fuente: PraxiLabs.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/modelo-thomson.jpg" alt="Modelo Thomson">
            <p><em>Modelo pud√≠n de pasas. Fuente: Wikipedia.</em></p>
        </div>

        <hr style="border:1px dashed #1976D2;">

        <h4>6. SVG Animado: Modelo de Rutherford ‚Üí Bohr</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="800" height="500" fill="#E3F2FD"/>

                <!-- T√≠tulo -->
                <text x="400" y="50" fill="#0D47A1" font-size="28" text-anchor="middle" font-weight="bold">EVOLUCI√ìN DEL √ÅTOMO</text>

                <!-- N√∫cleo -->
                <g id="nucleo">
                    <circle cx="400" cy="250" r="40" fill="#D32F2F">
                        <animate attributeName="r" values="40;45;40" dur="3s" repeatCount="indefinite"/>
                    </circle>
                    <text x="400" y="245" fill="white" font-size="14" text-anchor="middle">N√∫cleo</text>
                    <text x="400" y="265" fill="#FFCDD2" font-size="10" text-anchor="middle">p‚Å∫ + n‚Å∞</text>
                </g>

                <!-- Modelo Rutherford -->
                <g id="rutherford" opacity="1">
                    <circle cx="400" cy="250" r="150" fill="none" stroke="#1976D2" stroke-width="2" stroke-dasharray="5,5"/>
                    <text x="400" y="120" fill="#1565C0" font-size="16" text-anchor="middle">Rutherford 1911</text>
                    <animate attributeName="opacity" values="1;0" begin="3s" dur="1s"/>
                </g>

                <!-- Electrones Bohr -->
                <g id="bohr" opacity="0">
                    <!-- √ìrbita 1 -->
                    <circle cx="400" cy="250" r="80" fill="none" stroke="#4CAF50" stroke-width="3"/>
                    <circle cx="400" cy="170" r="12" fill="#2196F3">
                        <animate attributeName="cx" values="400;480;400;320;400" dur="4s" repeatCount="indefinite"/>
                    </circle>
                    <text x="400" y="100" fill="#1B5E20" font-size="14" text-anchor="middle">Bohr 1913</text>

                    <!-- √ìrbita 2 -->
                    <circle cx="400" cy="250" r="130" fill="none" stroke="#4CAF50" stroke-width="2" stroke-dasharray="3,3"/>
                    <circle cx="400" cy="120" r="10" fill="#2196F3">
                        <animate attributeName="cx" values="400;530;400;270;400" dur="5s" begin="0.5s" repeatCount="indefinite"/>
                    </circle>
                    <animate attributeName="opacity" values="0;1" begin="4s" dur="1s"/>
                </g>

                <!-- Avogadro -->
                <rect x="500" y="350" width="250" height="100" fill="#FFF3E0" rx="15"/>
                <text x="625" y="380" fill="#E65100" font-size="14" text-anchor="middle">Constante de Avogadro</text>
                <text x="625" y="405" fill="#FF6F00" font-size="12" text-anchor="middle">N_A = 6.02214076√ó10¬≤¬≥</text>
                <text x="625" y="425" fill="#E65100" font-size="10" text-anchor="middle">mol‚Åª¬π</text>

                <!-- NIST -->
                <text x="400" y="470" fill="#1565C0" font-size="14" text-anchor="middle">NIST 2025: m_p = 1.007276 u</text>
            </svg>
            <p><em>SVG Animado: De Rutherford a Bohr + Constante de Avogadro.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Carga del prot√≥n', 'respuesta' => '+1'],
        ['enunciado' => 'Masa relativa electr√≥n', 'respuesta' => '1/1836 u'],
        ['enunciado' => 'N√∫mero at√≥mico define', 'respuesta' => 'Elemento'],

        // === APLICADOS ===
        ['enunciado' => '¬π‚Å¥C: neutrones', 'respuesta' => '8'],
        ['enunciado' => 'Masa molar O‚ÇÇ', 'respuesta' => '32.00 g/mol'],
        ['enunciado' => '1 mol Na contiene', 'respuesta' => '6.022√ó10¬≤¬≥ √°tomos'],

        // === QU√çMICOS ===
        ['enunciado' => 'Is√≥topo m√°s abundante H', 'respuesta' => '¬πH (99.98%)'],
        ['enunciado' => 'Experimento Rutherford', 'respuesta' => 'L√°mina de oro'],
        ['enunciado' => 'Modelo cu√°ntico describe', 'respuesta' => 'Orbitales de probabilidad'],

        // === AVANZADOS ===
        ['enunciado' => 'NIST: masa prot√≥n', 'respuesta' => '1.007276 u'],
        ['enunciado' => 'Avogadro exacto 2019', 'respuesta' => '6.02214076√ó10¬≤¬≥'],
        ['enunciado' => 'Electr√≥n en nivel n=1', 'respuesta' => 'Orbital 1s']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Protones definen...', 'opciones' => ['Elemento', 'Is√≥topo', 'I√≥n', 'Mol√©cula'], 'correcta' => 'Elemento'],
        ['pregunta' => 'Neutrones est√°n en...', 'opciones' => ['N√∫cleo', 'Orbitales', 'Corteza', 'Vac√≠o'], 'correcta' => 'N√∫cleo'],
        ['pregunta' => 'Carga electr√≥n', 'opciones' => ['Negativa', 'Positiva', 'Neutra', 'Variable'], 'correcta' => 'Negativa'],
        ['pregunta' => 'N√∫mero Avogadro', 'opciones' => ['6.022√ó10¬≤¬≥', '3.14', '9.8', '1.38√ó10‚Åª¬≤¬≥'], 'correcta' => '6.022√ó10¬≤¬≥'],
        ['pregunta' => '¬π¬≤C tiene...', 'opciones' => ['6p, 6n, 6e', '6p, 6n, 5e', '7p, 5n, 6e', '6p, 7n, 6e'], 'correcta' => '6p, 6n, 6e'],
        ['pregunta' => 'Masa molar C', 'opciones' => ['12.011 g/mol', '12.000 g/mol', '6.022 g/mol', '1.008 g/mol'], 'correcta' => '12.011 g/mol'],
        ['pregunta' => 'Descubridor neutr√≥n', 'opciones' => ['Chadwick', 'Thomson', 'Rutherford', 'Bohr'], 'correcta' => 'Chadwick'],
        ['pregunta' => 'Modelo pud√≠n', 'opciones' => ['Thomson', 'Dalton', 'Rutherford', 'Bohr'], 'correcta' => 'Thomson'],
        ['pregunta' => 'N√∫mero m√°sico A =', 'opciones' => ['p + n', 'p + e', 'n + e', 'Z + A'], 'correcta' => 'p + n'],
        ['pregunta' => '√Åtomo neutro: p =', 'opciones' => ['e', 'n', 'Z', 'A'], 'correcta' => 'e'],

        // === MEDIO (10) ===
        ['pregunta' => '¬π‚Å¥C usado en...', 'opciones' => ['Dataci√≥n radiom√©trica', 'Combustible', 'Medicina', 'Alimentos'], 'correcta' => 'Dataci√≥n radiom√©trica'],
        ['pregunta' => 'Masa electr√≥n', 'opciones' => ['1/1836 u', '1 u', '0 u', '1/12 u'], 'correcta' => '1/1836 u'],
        ['pregunta' => 'Bohr propuso...', 'opciones' => ['√ìrbitas cuantizadas', 'Nube electr√≥nica', 'N√∫cleo vac√≠o', '√Åtomo indivisible'], 'correcta' => '√ìrbitas cuantizadas'],
        ['pregunta' => 'Is√≥topos tienen mismo...', 'opciones' => ['Z', 'A', 'p', 'e'], 'correcta' => 'Z'],
        ['pregunta' => '1 mol H‚ÇÇO =', 'opciones' => ['18.02 g', '16.00 g', '2.016 g', '32.00 g'], 'correcta' => '18.02 g'],
        ['pregunta' => 'Experimento l√°mina oro', 'opciones' => ['Rutherford', 'Thomson', 'Chadwick', 'Dalton'], 'correcta' => 'Rutherford'],
        ['pregunta' => 'Electr√≥n en orbital...', 'opciones' => ['Nube de probabilidad', '√ìrbita fija', 'N√∫cleo', 'Vac√≠o'], 'correcta' => 'Nube de probabilidad'],
        ['pregunta' => 'NIST: carga elemental', 'opciones' => ['1.602√ó10‚Åª¬π‚Åπ C', '1 C', '0 C', '9.11√ó10‚Åª¬≥¬π C'], 'correcta' => '1.602√ó10‚Åª¬π‚Åπ C'],
        ['pregunta' => 'Masa molar exacta ¬π¬≤C', 'opciones' => ['12.000 g/mol', '12.011 g/mol', '6.022 g/mol', '1.008 g/mol'], 'correcta' => '12.000 g/mol'],
        ['pregunta' => 'IUPAC: 1 mol =', 'opciones' => ['6.02214076√ó10¬≤¬≥', '6.02√ó10¬≤¬≥', '6.00√ó10¬≤¬≥', '6.022√ó10¬≤¬≤'], 'correcta' => '6.02214076√ó10¬≤¬≥'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'Masa prot√≥n NIST', 'opciones' => ['1.007276 u', '1.000000 u', '1.008665 u', '0.000549 u'], 'correcta' => '1.007276 u'],
        ['pregunta' => 'Modelo cu√°ntico usa...', 'opciones' => ['Funci√≥n de onda', '√ìrbitas circulares', 'Pud√≠n', 'N√∫cleo hueco'], 'correcta' => 'Funci√≥n de onda'],
        ['pregunta' => '¬πH: neutrones', 'opciones' => ['0', '1', '2', '3'], 'correcta' => '0'],
        ['pregunta' => '¬≤H (deuterio) tiene...', 'opciones' => ['1n', '0n', '2n', '3n'], 'correcta' => '1n'],
        ['pregunta' => '¬≥H (tritio) es...', 'opciones' => ['Radiactivo', 'Estable', 'Gas noble', 'Metal'], 'correcta' => 'Radiactivo'],
        ['pregunta' => 'Electr√≥n en nivel n=2 puede estar en...', 'opciones' => ['2s, 2p', '1s', '3d', '4f'], 'correcta' => '2s, 2p'],
        ['pregunta' => 'Constante Avogadro definida por...', 'opciones' => ['¬π¬≤C = 12 g/mol', 'H = 1 g/mol', 'O = 16 g/mol', 'e = 1 C'], 'correcta' => '¬π¬≤C = 12 g/mol'],
        ['pregunta' => '√Åtomo con Z=26 es...', 'opciones' => ['Hierro (Fe)', 'Cobre', 'Oro', 'Carbono'], 'correcta' => 'Hierro (Fe)'],
        ['pregunta' => 'I√≥n Na‚Å∫ tiene...', 'opciones' => ['10 electrones', '11 electrones', '12 electrones', '9 electrones'], 'correcta' => '10 electrones'],
        ['pregunta' => 'IUPAC 2019 redefini√≥ mol como...', 'opciones' => ['N√∫mero fijo de entidades', 'Masa en gramos', 'Volumen', 'Densidad'], 'correcta' => 'N√∫mero fijo de entidades']
    ]
];
// ========================================
// MATERIA: QU√çMICA I
// SUBTEMA: Configuraciones Electr√≥nicas (Aufbau, Pauli, Hund, Excepciones, Bloques)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Qu√≠mica I',
    'slug' => 'configuraciones-electronicas',
    'titulo' => 'Configuraciones Electr√≥nicas: El Mapa del √Åtomo',
    'contenido' => '
        <h3>Configuraciones Electr√≥nicas</h3>
        <p>La <strong>configuraci√≥n electr√≥nica</strong> describe la distribuci√≥n de electrones en <strong>orbitales at√≥micos</strong> usando <strong>n√∫meros cu√°nticos</strong> y los principios: <strong>Aufbau</strong>, <strong>Pauli</strong>, <strong>Hund</strong>.</p>

        <hr style="border:1px dashed #7B1FA2;">

        <h4>1. N√∫meros Cu√°nticos</h4>
        <table class="table">
            <thead>
                <tr><th>N√∫mero</th><th>Nombre</th><th>Valores</th><th>Significado</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>n</strong></td><td>Principal</td><td>1, 2, 3...</td><td>Nivel energ√©tico</td></tr>
                <tr><td><strong>l</strong></td><td>Azimutal</td><td>0 a n-1</td><td>Subnivel (s, p, d, f)</td></tr>
                <tr><td><strong>m_l</strong></td><td>Magn√©tico</td><td>-l a +l</td><td>Orientaci√≥n orbital</td></tr>
                <tr><td><strong>m_s</strong></td><td>Spin</td><td>¬±1/2</td><td>Spin electr√≥n</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #7B1FA2;">

        <h4>2. Principios de Llenado</h4>
        <ul>
            <li><strong>Aufbau:</strong> Llenar orbitales de menor a mayor energ√≠a</li>
            <li><strong>Pauli:</strong> M√°ximo 2 e‚Åª por orbital, con spins opuestos</li>
            <li><strong>Hund:</strong> Llenar cada orbital con 1 e‚Åª (spin ‚Üë) antes de parear</li>
        </ul>

        <div class="visual">
            <img src="assets/img/orbitales_moleculares.png" alt="Diagrama orbitales">
            <p><em>Representaci√≥n de orbitales. Fuente: ThoughtCo.</em></p>
        </div>

        <hr style="border:1px dashed #7B1FA2;">

        <h4>3. Orden de Llenado (Aufbau)</h4>
        <p>Orden energ√©tico:</p>
        <p><strong>1s < 2s < 2p < 3s < 3p < 4s < 3d < 4p < 5s < 4d < 5p < 6s < 4f < 5d < 6p < 7s...</strong></p>

        <table class="table">
            <thead>
                <tr><th>Elemento</th><th>Z</th><th>Configuraci√≥n</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>H</strong></td><td>1</td><td>1s¬π</td></tr>
                <tr><td><strong>He</strong></td><td>2</td><td>1s¬≤</td></tr>
                <tr><td><strong>Li</strong></td><td>3</td><td>1s¬≤ 2s¬π</td></tr>
                <tr><td><strong>Be</strong></td><td>4</td><td>1s¬≤ 2s¬≤</td></tr>
                <tr><td><strong>B</strong></td><td>5</td><td>1s¬≤ 2s¬≤ 2p¬π</td></tr>
                <tr><td><strong>O</strong></td><td>8</td><td>1s¬≤ 2s¬≤ 2p‚Å¥</td></tr>
                <tr><td><strong>Na</strong></td><td>11</td><td>1s¬≤ 2s¬≤ 2p‚Å∂ 3s¬π</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #7B1FA2;">

        <h4>4. Excepciones Comunes</h4>
        <ul>
            <li><strong>Cr:</strong> [Ar] 4s¬π 3d‚Åµ (m√°s estable)</li>
            <li><strong>Cu:</strong> [Ar] 4s¬π 3d¬π‚Å∞ (subnivel d lleno)</li>
        </ul>

        <hr style="border:1px dashed #7B1FA2;">

        <h4>5. Bloques de la Tabla Peri√≥dica</h4>
        <table class="table">
            <thead>
                <tr><th>Bloque</th><th>Subnivel</th><th>Elementos</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>s</strong></td><td>ns</td><td>1‚Äì2</td></tr>
                <tr><td><strong>p</strong></td><td>np</td><td>13‚Äì18</td></tr>
                <tr><td><strong>d</strong></td><td>(n-1)d</td><td>3‚Äì12</td></tr>
                <tr><td><strong>f</strong></td><td>(n-2)f</td><td>Lantanoides, Act√≠nidos</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Na (Z=11)</strong> ‚Üí 1s¬≤ 2s¬≤ 2p‚Å∂ 3s¬π ‚Üí <strong>bloque s</strong>, valencia 1.</p>
        </div>

        <hr style="border:1px dashed #7B1FA2;">

        <h4>6. SVG Animado: Llenado de Orbitales (H ‚Üí Ne)</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="800" height="500" fill="#F3E5F5"/>

                <!-- T√≠tulo -->
                <text x="400" y="50" fill="#4A148C" font-size="28" text-anchor="middle" font-weight="bold">LLENADO DE ORBITALES</text>

                <!-- 1s -->
                <g id="1s">
                    <circle cx="200" cy="200" r="40" fill="#9C27B0" opacity="0.3"/>
                    <text x="200" y="190" fill="#6A1B9A" font-size="14" text-anchor="middle">1s</text>
                    <circle cx="180" cy="200" r="10" fill="#E1BEE7">
                        <animate attributeName="opacity" values="0;1" begin="0s" dur="0.5s"/>
                    </circle>
                    <circle cx="220" cy="200" r="10" fill="#E1BEE7">
                        <animate attributeName="opacity" values="0;1" begin="0.5s" dur="0.5s"/>
                    </circle>
                    <text x="200" y="230" fill="#4A148C" font-size="12" text-anchor="middle">H, He</text>
                </g>

                <!-- 2s -->
                <g id="2s" opacity="0">
                    <circle cx="400" cy="200" r="60" fill="#7B1FA2" opacity="0.3">
                        <animate attributeName="opacity" values="0;0.3" begin="1s" dur="0.5s"/>
                    </circle>
                    <text x="400" y="170" fill="#4A148C" font-size="14" text-anchor="middle">2s</text>
                    <circle cx="370" cy="200" r="12" fill="#CE93D8">
                        <animate attributeName="opacity" values="0;1" begin="1.5s" dur="0.5s"/>
                    </circle>
                    <circle cx="430" cy="200" r="12" fill="#CE93D8">
                        <animate attributeName="opacity" values="0;1" begin="2s" dur="0.5s"/>
                    </circle>
                    <text x="400" y="240" fill="#6A1B9A" font-size="12" text-anchor="middle">Li, Be</text>
                    <animate attributeName="opacity" values="0;1" begin="1s" dur="0.1s"/>
                </g>

                <!-- 2p -->
                <g id="2p" opacity="0">
                    <ellipse cx="600" cy="200" rx="80" ry="40" fill="#9C27B0" opacity="0.2">
                        <animate attributeName="opacity" values="0;0.2" begin="2.5s" dur="0.5s"/>
                    </ellipse>
                    <text x="600" y="160" fill="#4A148C" font-size="14" text-anchor="middle">2p</text>
                    <circle cx="560" cy="180" r="10" fill="#E1BEE7">
                        <animate attributeName="opacity" values="0;1" begin="3s" dur="0.5s"/>
                    </circle>
                    <circle cx="600" cy="170" r="10" fill="#E1BEE7">
                        <animate attributeName="opacity" values="0;1" begin="3.5s" dur="0.5s"/>
                    </circle>
                    <circle cx="640" cy="180" r="10" fill="#E1BEE7">
                        <animate attributeName="opacity" values="0;1" begin="4s" dur="0.5s"/>
                    </circle>
                    <circle cx="580" cy="220" r="10" fill="#E1BEE7">
                        <animate attributeName="opacity" values="0;1" begin="4.5s" dur="0.5s"/>
                    </circle>
                    <circle cx="620" cy="230" r="10" fill="#E1BEE7">
                        <animate attributeName="opacity" values="0;1" begin="5s" dur="0.5s"/>
                    </circle>
                    <circle cx="660" cy="220" r="10" fill="#E1BEE7">
                        <animate attributeName="opacity" values="0;1" begin="5.5s" dur="0.5s"/>
                    </circle>
                    <text x="600" y="260" fill="#6A1B9A" font-size="12" text-anchor="middle">B ‚Üí Ne</text>
                    <animate attributeName="opacity" values="0;1" begin="2.5s" dur="0.1s"/>
                </g>

                <!-- Excepci√≥n Cr -->
                <rect x="500" y="350" width="250" height="100" fill="#FFF3E0" rx="15"/>
                <text x="625" y="380" fill="#E65100" font-size="14" text-anchor="middle">EXCEPCI√ìN: Cr</text>
                <text x="625" y="405" fill="#FF6F00" font-size="12" text-anchor="middle">[Ar] 4s¬π 3d‚Åµ</text>
                <text x="625" y="425" fill="#E65100" font-size="10" text-anchor="middle">Medio lleno ‚Üí estable</text>

                <!-- IUPAC -->
                <text x="400" y="470" fill="#4A148C" font-size="14" text-anchor="middle">IUPAC 2025: Aufbau + Excepciones</text>
            </svg>
            <p><em>SVG Animado: Llenado 1s ‚Üí 2p + Excepci√≥n Cr.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Configuraci√≥n de O (Z=8)', 'respuesta' => '1s¬≤ 2s¬≤ 2p‚Å¥'],
        ['enunciado' => 'Configuraci√≥n de Na (Z=11)', 'respuesta' => '1s¬≤ 2s¬≤ 2p‚Å∂ 3s¬π'],
        ['enunciado' => 'Principio de Aufbau', 'respuesta' => 'Llenar orbitales de menor energ√≠a primero'],

        // === APLICADOS ===
        ['enunciado' => 'Configuraci√≥n de Cl (Z=17)', 'respuesta' => '1s¬≤ 2s¬≤ 2p‚Å∂ 3s¬≤ 3p‚Åµ'],
        ['enunciado' => 'Configuraci√≥n de Fe (Z=26)', 'respuesta' => '1s¬≤ 2s¬≤ 2p‚Å∂ 3s¬≤ 3p‚Å∂ 4s¬≤ 3d‚Å∂'],
        ['enunciado' => 'Excepci√≥n: Cr (Z=24)', 'respuesta' => '[Ar] 4s¬π 3d‚Åµ'],

        // === QU√çMICOS ===
        ['enunciado' => 'Principio de Hund en 2p¬≥', 'respuesta' => 'Tres electrones ‚Üë en orbitales separados'],
        ['enunciado' => 'Electr√≥n diferenciador de K', 'respuesta' => '4s¬π'],
        ['enunciado' => 'Bloque de Zn', 'respuesta' => 'd (3d¬π‚Å∞)'],

        // === AVANZADOS ===
        ['enunciado' => 'Configuraci√≥n de Mo (Z=42)', 'respuesta' => '[Kr] 5s¬π 4d‚Åµ'],
        ['enunciado' => 'IUPAC: notaci√≥n abreviada', 'respuesta' => 'Usar gas noble anterior'],
        ['enunciado' => 'N√∫mero m√°ximo e‚Åª en n=3', 'respuesta' => '18 (3s¬≤ 3p‚Å∂ 3d¬π‚Å∞)']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Configuraci√≥n de He', 'opciones' => ['1s¬≤', '1s¬π', '2s¬≤', '2p‚Å∂'], 'correcta' => '1s¬≤'],
        ['pregunta' => 'Llenado por orden de...', 'opciones' => ['Energ√≠a (Aufbau)', 'Aleatorio', 'Tama√±o', 'Masa'], 'correcta' => 'Energ√≠a (Aufbau)'],
        ['pregunta' => 'Pauli permite m√°ximo...', 'opciones' => ['2 e‚Åª/orbital', '1 e‚Åª/orbital', '3 e‚Åª/orbital', '4 e‚Åª/orbital'], 'correcta' => '2 e‚Åª/orbital'],
        ['pregunta' => 'Hund dice llenar...', 'opciones' => ['Singly antes de parear', 'Parear primero', 'Aleatorio', 'Por masa'], 'correcta' => 'Singly antes de parear'],
        ['pregunta' => 'Configuraci√≥n de Li', 'opciones' => ['1s¬≤ 2s¬π', '1s¬π 2s¬≤', '1s¬≥', '2s¬π'], 'correcta' => '1s¬≤ 2s¬π'],
        ['pregunta' => 'Configuraci√≥n de N', 'opciones' => ['1s¬≤ 2s¬≤ 2p¬≥', '1s¬≤ 2s¬≤ 2p‚Å¥', '1s¬≤ 2s¬π 2p‚Å¥', '1s¬≥ 2s¬≤'], 'correcta' => '1s¬≤ 2s¬≤ 2p¬≥'],
        ['pregunta' => 'Subnivel s tiene...', 'opciones' => ['1 orbital', '3 orbitales', '5 orbitales', '7 orbitales'], 'correcta' => '1 orbital'],
        ['pregunta' => 'Subnivel p tiene...', 'opciones' => ['3 orbitales', '1 orbital', '5 orbitales', '7 orbitales'], 'correcta' => '3 orbitales'],
        ['pregunta' => 'Configuraci√≥n de Ne', 'opciones' => ['1s¬≤ 2s¬≤ 2p‚Å∂', '1s¬≤ 2s¬≤ 2p‚Åµ', '1s¬≤ 2s¬π 2p‚Å∂', '2s¬≤ 2p‚Å∂'], 'correcta' => '1s¬≤ 2s¬≤ 2p‚Å∂'],
        ['pregunta' => 'Gas noble anterior a Na', 'opciones' => ['Ne', 'He', 'Ar', 'Kr'], 'correcta' => 'Ne'],

        // === MEDIO (10) ===
        ['pregunta' => 'Configuraci√≥n de Ar', 'opciones' => ['1s¬≤ 2s¬≤ 2p‚Å∂ 3s¬≤ 3p‚Å∂', '1s¬≤ 2s¬≤ 2p‚Å∂ 3s¬≤', '1s¬≤ 2s¬≤ 2p‚Å∂ 4s¬≤', '2p‚Å∂ 3s¬≤ 3p‚Å∂'], 'correcta' => '1s¬≤ 2s¬≤ 2p‚Å∂ 3s¬≤ 3p‚Å∂'],
        ['pregunta' => 'Excepci√≥n Cr', 'opciones' => ['4s¬π 3d‚Åµ', '4s¬≤ 3d‚Å¥', '4s‚Å∞ 3d‚Å∂', '4s¬≤ 3d‚Åµ'], 'correcta' => '4s¬π 3d‚Åµ'],
        ['pregunta' => 'Excepci√≥n Cu', 'opciones' => ['4s¬π 3d¬π‚Å∞', '4s¬≤ 3d‚Åπ', '4s‚Å∞ 3d¬π‚Å∞', '4s¬≤ 3d¬π‚Å∞'], 'correcta' => '4s¬π 3d¬π‚Å∞'],
        ['pregunta' => 'Bloque de Ca', 'opciones' => ['s', 'p', 'd', 'f'], 'correcta' => 's'],
        ['pregunta' => 'Bloque de Fe', 'opciones' => ['d', 's', 'p', 'f'], 'correcta' => 'd'],
        ['pregunta' => 'Electr√≥n valencia de Al', 'opciones' => ['3s¬≤ 3p¬π', '3s¬π', '3p¬π', '4s¬π'], 'correcta' => '3s¬≤ 3p¬π'],
        ['pregunta' => 'Configuraci√≥n abreviada de K', 'opciones' => ['[Ar] 4s¬π', '[Ne] 4s¬π', '[He] 4s¬π', '[Kr] 4s¬π'], 'correcta' => '[Ar] 4s¬π'],
        ['pregunta' => 'Subnivel d tiene...', 'opciones' => ['5 orbitales', '1 orbital', '3 orbitales', '7 orbitales'], 'correcta' => '5 orbitales'],
        ['pregunta' => 'M√°ximo e‚Åª en nivel n=2', 'opciones' => ['8', '2', '6', '18'], 'correcta' => '8'],
        ['pregunta' => 'IUPAC: notaci√≥n orbital', 'opciones' => ['n l^{exponente}', 'n l', 'l n', 'exponente n'], 'correcta' => 'n l^{exponente}'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'Configuraci√≥n de Ag (Z=47)', 'opciones' => ['[Kr] 5s¬π 4d¬π‚Å∞', '[Kr] 5s¬≤ 4d‚Åπ', '[Kr] 4d¬π‚Å∞', '[Ar] 5s¬π 4d¬π‚Å∞'], 'correcta' => '[Kr] 5s¬π 4d¬π‚Å∞'],
        ['pregunta' => 'Configuraci√≥n de Au (Z=79)', 'opciones' => ['[Xe] 6s¬π 4f¬π‚Å¥ 5d¬π‚Å∞', '[Xe] 6s¬≤ 4f¬π‚Å¥ 5d‚Åπ', '[Xe] 6s¬π 5d¬π‚Å∞', '[Kr] 6s¬π 4f¬π‚Å¥ 5d¬π‚Å∞'], 'correcta' => '[Xe] 6s¬π 4f¬π‚Å¥ 5d¬π‚Å∞'],
        ['pregunta' => 'Subnivel f tiene...', 'opciones' => ['7 orbitales', '5 orbitales', '3 orbitales', '1 orbital'], 'correcta' => '7 orbitales'],
        ['pregunta' => 'Configuraci√≥n de U (Z=92)', 'opciones' => ['[Rn] 7s¬≤ 5f¬≥ 6d¬π', '[Rn] 7s¬≤ 5f‚Å¥', '[Xe] 7s¬≤ 5f¬≥ 6d¬π', '[Rn] 6d¬≤ 5f‚Å¥'], 'correcta' => '[Rn] 7s¬≤ 5f¬≥ 6d¬π'],
        ['pregunta' => 'N√∫mero cu√°ntico l para d', 'opciones' => ['2', '0', '1', '3'], 'correcta' => '2'],
        ['pregunta' => 'N√∫mero cu√°ntico l para f', 'opciones' => ['3', '2', '1', '0'], 'correcta' => '3'],
        ['pregunta' => 'Electr√≥n en 4p¬≥ tiene n=', 'opciones' => ['4', '3', '2', '1'], 'correcta' => '4'],
        ['pregunta' => 'M√°ximo e‚Åª en subnivel 4d', 'opciones' => ['10', '2', '6', '14'], 'correcta' => '10'],
        ['pregunta' => 'Regla de Madelung predice...', 'opciones' => ['n + l menor primero', 'n mayor primero', 'l mayor primero', 'aleatorio'], 'correcta' => 'n + l menor primero'],
        ['pregunta' => 'IUPAC permite excepciones por...', 'opciones' => ['Estabilidad electr√≥nica', 'Masa', 'Volumen', 'Color'], 'correcta' => 'Estabilidad electr√≥nica']
    ]
];
// ========================================
// MATERIA: QU√çMICA I
// SUBTEMA: N√∫meros Cu√°nticos (n, l, m_l, m_s, Orbitales, Reglas, Ejemplos)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Qu√≠mica I',
    'slug' => 'numeros-cuanticos',
    'titulo' => 'N√∫meros Cu√°nticos: El C√≥digo del Electr√≥n',
    'contenido' => '
        <h3>N√∫meros Cu√°nticos</h3>
        <p>Los <strong>n√∫meros cu√°nticos</strong> definen <strong>√∫nica y completamente</strong> el estado de un electr√≥n en un √°tomo. Son 4: <strong>n, l, m_l, m_s</strong>. Regidos por la <strong>mec√°nica cu√°ntica</strong> y el <strong>principio de exclusi√≥n de Pauli</strong>.</p>

        <hr style="border:1px dashed #6A1B9A;">

        <h4>1. Los 4 N√∫meros Cu√°nticos</h4>
        <table class="table">
            <thead>
                <tr><th>N√∫mero</th><th>Nombre</th><th>Valores</th><th>Describe</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>n</strong></td><td>Principal</td><td>1, 2, 3, ‚Ä¶</td><td>Nivel energ√©tico (tama√±o)</td></tr>
                <tr><td><strong>l</strong></td><td>Azimutal</td><td>0 a n‚àí1</td><td>Forma del orbital (s, p, d, f)</td></tr>
                <tr><td><strong>m_l</strong></td><td>Magn√©tico</td><td>‚àíl ‚Ä¶ 0 ‚Ä¶ +l</td><td>Orientaci√≥n espacial</td></tr>
                <tr><td><strong>m_s</strong></td><td>Spin</td><td>¬±1/2</td><td>Spin del electr√≥n</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #6A1B9A;">

        <h4>2. Subniveles y Orbitales</h4>
        <table class="table">
            <thead>
                <tr><th>l</th><th>Subnivel</th><th>Forma</th><th>Orbitales</th><th>e‚Åª m√°x</th></tr>
            </thead>
            <tbody>
                <tr><td>0</td><td><strong>s</strong></td><td>Esf√©rico</td><td>1</td><td>2</td></tr>
                <tr><td>1</td><td><strong>p</strong></td><td>Dumbbell</td><td>3</td><td>6</td></tr>
                <tr><td>2</td><td><strong>d</strong></td><td>Doble dumbbell</td><td>5</td><td>10</td></tr>
                <tr><td>3</td><td><strong>f</strong></td><td>Complejo</td><td>7</td><td>14</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #6A1B9A;">

        <h4>3. Ejemplos de N√∫meros Cu√°nticos</h4>
        <table class="table">
            <thead>
                <tr><th>Orbital</th><th>n</th><th>l</th><th>m_l</th><th>m_s</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>1s</strong></td><td>1</td><td>0</td><td>0</td><td>¬±1/2</td></tr>
                <tr><td><strong>2p_x</strong></td><td>2</td><td>1</td><td>-1, 0, +1</td><td>¬±1/2</td></tr>
                <tr><td><strong>3d_{z¬≤}</strong></td><td>3</td><td>2</td><td>0</td><td>¬±1/2</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> Electr√≥n en <strong>2p</strong>: <br>
            ‚Üí n = 2, l = 1, m_l = ‚àí1, 0, o +1, m_s = +1/2 o ‚àí1/2</p>
        </div>

        <hr style="border:1px dashed #6A1B9A;">

        <h4>4. M√°ximo de Electrones por Nivel</h4>
        <p>\[
            \\text{M√°x e‚Åª en nivel n} = 2n^2
        \]</p>
        <ul>
            <li>n=1 ‚Üí 2(1)¬≤ = <strong>2</strong></li>
            <li>n=2 ‚Üí 2(4) = <strong>8</strong></li>
            <li>n=3 ‚Üí 2(9) = <strong>18</strong></li>
            <li>n=4 ‚Üí 2(16) = <strong>32</strong></li>
        </ul>

        <hr style="border:1px dashed #6A1B9A;">

        <h4>5. Reglas y Restricciones</h4>
        <ul>
            <li><strong>n ‚â• 1</strong></li>
            <li><strong>l < n</strong></li>
            <li><strong>m_l ‚â§ |l|</strong></li>
            <li><strong>m_s = ¬±1/2</strong> (solo 2 valores)</li>
            <li><strong>Pauli:</strong> Ning√∫n electr√≥n con los 4 n√∫meros id√©nticos</li>
        </ul>

        <div class="visual">
            <img src="assets/img/diargrama-numero-cuantico.png" alt="Diagrama n√∫meros cu√°nticos">
            <p><em>Resumen visual. Fuente: GeeksforGeeks.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/quantum-number-chart.webp" alt="Tabla de valores">
            <p><em>Tabla completa. Fuente: Physicscatalyst.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/quantum-numbers-definition.jpg" alt="Definiciones">
            <p><em>Definiciones claras. Fuente: Chemistry Learner.</em></p>
        </div>

        <hr style="border:1px dashed #6A1B9A;">

        <h4>6. SVG Animado: N√∫meros Cu√°nticos en Acci√≥n</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="800" height="500" fill="#F3E5F5"/>

                <!-- T√≠tulo -->
                <text x="400" y="50" fill="#4A148C" font-size="28" text-anchor="middle" font-weight="bold">N√öMEROS CU√ÅNTICOS</text>

                <!-- n (Principal) -->
                <g id="n-level">
                    <circle cx="200" cy="200" r="80" fill="#9C27B0" opacity="0.2">
                        <animate attributeName="r" values="80;90;80" dur="3s" repeatCount="indefinite"/>
                    </circle>
                    <text x="200" y="180" fill="#6A1B9A" font-size="16" text-anchor="middle">n = 1, 2, 3...</text>
                    <text x="200" y="210" fill="#4A148C" font-size="14" text-anchor="middle">Nivel Energ√©tico</text>
                </g>

                <!-- l (Azimutal) -->
                <g id="l-sublevel" opacity="0">
                    <path d="M350 200 Q320 170 350 140 Q380 170 350 200" fill="#7B1FA2" opacity="0.4"/>
                    <path d="M350 200 Q320 230 350 260 Q380 230 350 200" fill="#7B1FA2" opacity="0.4"/>
                    <text x="350" y="170" fill="#4A148C" font-size="14" text-anchor="middle">l = 0 (s)</text>
                    <text x="350" y="240" fill="#4A148C" font-size="14" text-anchor="middle">l = 1 (p)</text>
                    <animate attributeName="opacity" values="0;1" begin="1s" dur="0.5s"/>
                </g>

                <!-- m_l (Magn√©tico) -->
                <g id="ml" opacity="0">
                    <line x1="500" y1="200" x2="500" y2="150" stroke="#9C27B0" stroke-width="4"/>
                    <line x1="500" y1="200" x2="470" y2="230" stroke="#9C27B0" stroke-width="4"/>
                    <line x1="500" y1="200" x2="530" y2="230" stroke="#9C27B0" stroke-width="4"/>
                    <text x="500" y="140" fill="#6A1B9A" font-size="12" text-anchor="middle">m_l = -1</text>
                    <text x="460" y="240" fill="#6A1B9A" font-size="12" text-anchor="middle">m_l = 0</text>
                    <text x="540" y="240" fill="#6A1B9A" font-size="12" text-anchor="middle">m_l = +1</text>
                    <animate attributeName="opacity" values="0;1" begin="2s" dur="0.5s"/>
                </g>

                <!-- m_s (Spin) -->
                <g id="ms" opacity="0">
                    <circle cx="650" cy="180" r="15" fill="#E1BEE7">
                        <animate attributeName="opacity" values="0;1" begin="3s" dur="0.5s"/>
                    </circle>
                    <circle cx="650" cy="220" r="15" fill="#CE93D8">
                        <animate attributeName="opacity" values="0;1" begin="3.5s" dur="0.5s"/>
                    </circle>
                    <text x="650" y="175" fill="#4A148C" font-size="12" text-anchor="middle">‚Üë m_s = +1/2</text>
                    <text x="650" y="225" fill="#4A148C" font-size="12" text-anchor="middle">‚Üì m_s = ‚àí1/2</text>
                    <animate attributeName="opacity" values="0;1" begin="3s" dur="0.1s"/>
                </g>

                <!-- Pauli -->
                <rect x="450" y="350" width="300" height="100" fill="#FFF3E0" rx="15"/>
                <text x="600" y="380" fill="#E65100" font-size="14" text-anchor="middle">PRINCIPIO DE PAULI</text>
                <text x="600" y="405" fill="#FF6F00" font-size="12" text-anchor="middle">Ning√∫n electr√≥n con</text>
                <text x="600" y="425" fill="#E65100" font-size="10" text-anchor="middle">los 4 n√∫meros id√©nticos</text>

                <!-- IUPAC -->
                <text x="400" y="470" fill="#6A1B9A" font-size="14" text-anchor="middle">IUPAC 2025: n, l, m_l, m_s ‚àà ‚Ñ§, ¬±1/2</text>
            </svg>
            <p><em>SVG Animado: n ‚Üí l ‚Üí m_l ‚Üí m_s + Principio de Pauli.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'n describe', 'respuesta' => 'Nivel de energ√≠a'],
        ['enunciado' => 'l = 0 es subnivel', 'respuesta' => 's'],
        ['enunciado' => 'm_l para l=1', 'respuesta' => '-1, 0, +1'],

        // === APLICADOS ===
        ['enunciado' => 'Valores posibles m_l en 3d', 'respuesta' => '-2, -1, 0, +1, +2'],
        ['enunciado' => 'm_s solo permite', 'respuesta' => '¬±1/2'],
        ['enunciado' => 'M√°ximo e‚Åª en n=3', 'respuesta' => '18'],

        // === QU√çMICOS ===
        ['enunciado' => 'Electr√≥n en 4f: n=', 'respuesta' => '4'],
        ['enunciado' => 'l para orbital f', 'respuesta' => '3'],
        ['enunciado' => 'N√∫mero de orbitales en subnivel p', 'respuesta' => '3'],

        // === AVANZADOS ===
        ['enunciado' => 'IUPAC: m_s es', 'respuesta' => '¬±1/2 (exacto)'],
        ['enunciado' => 'Principio Pauli implica', 'respuesta' => 'M√°ximo 2 e‚Åª por orbital'],
        ['enunciado' => 'Total combinaciones en n=2', 'respuesta' => '8 (2s¬≤ 2p‚Å∂)']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'n puede ser', 'opciones' => ['1, 2, 3...', '0', 'Negativo', 'Fracci√≥n'], 'correcta' => '1, 2, 3...'],
        ['pregunta' => 'l m√°ximo para n=3', 'opciones' => ['2', '3', '1', '0'], 'correcta' => '2'],
        ['pregunta' => 'm_l para l=0', 'opciones' => ['0', '-1', '+1', '-1 a +1'], 'correcta' => '0'],
        ['pregunta' => 'm_s valores', 'opciones' => ['¬±1/2', '0, ¬±1', '-1 a +1', '¬±1'], 'correcta' => '¬±1/2'],
        ['pregunta' => 'Subnivel s tiene l=', 'opciones' => ['0', '1', '2', '3'], 'correcta' => '0'],
        ['pregunta' => 'Subnivel d tiene l=', 'opciones' => ['2', '0', '1', '3'], 'correcta' => '2'],
        ['pregunta' => 'N√∫mero de orbitales en p', 'opciones' => ['3', '1', '5', '7'], 'correcta' => '3'],
        ['pregunta' => 'M√°ximo e‚Åª en 1 orbital', 'opciones' => ['2', '1', '3', '4'], 'correcta' => '2'],
        ['pregunta' => 'Pauli dice que...', 'opciones' => ['Ning√∫n e‚Åª igual en 4 n√∫meros', 'Todos iguales', 'Solo n igual', 'Solo l igual'], 'correcta' => 'Ning√∫n e‚Åª igual en 4 n√∫meros'],
        ['pregunta' => 'M√°x e‚Åª en n=1', 'opciones' => ['2', '8', '18', '32'], 'correcta' => '2'],

        // === MEDIO (10) ===
        ['pregunta' => 'M√°x e‚Åª en n=4', 'opciones' => ['32', '18', '8', '2'], 'correcta' => '32'],
        ['pregunta' => 'F√≥rmula m√°x e‚Åª por nivel', 'opciones' => ['2n¬≤', 'n¬≤', '2n', 'n'], 'correcta' => '2n¬≤'],
        ['pregunta' => 'l=3 es subnivel', 'opciones' => ['f', 'd', 'p', 's'], 'correcta' => 'f'],
        ['pregunta' => 'N√∫mero de orbitales en d', 'opciones' => ['5', '3', '1', '7'], 'correcta' => '5'],
        ['pregunta' => 'm_l para 3p', 'opciones' => ['-1, 0, +1', '-2 a +2', '0', '-3 a +3'], 'correcta' => '-1, 0, +1'],
        ['pregunta' => 'Electr√≥n en 3d puede tener m_l=', 'opciones' => ['-2', '-3', '+3', '0 a 3'], 'correcta' => '-2'],
        ['pregunta' => 'Spin opuestos en orbital lleno', 'opciones' => ['+1/2 y ‚àí1/2', 'Ambos +1/2', 'Ambos ‚àí1/2', '0'], 'correcta' => '+1/2 y ‚àí1/2'],
        ['pregunta' => 'n=2 tiene subniveles', 'opciones' => ['s, p', 's, p, d', 'p, d', 's'], 'correcta' => 's, p'],
        ['pregunta' => 'Total orbitales en n=3', 'opciones' => ['9', '1', '3', '5'], 'correcta' => '9'],
        ['pregunta' => 'IUPAC: m_s es', 'opciones' => ['¬±1/2', '¬±1', '0, ¬±1/2', 'cualquier fracci√≥n'], 'correcta' => '¬±1/2'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'Electr√≥n en 4f: l=', 'opciones' => ['3', '2', '1', '0'], 'correcta' => '3'],
        ['pregunta' => 'm_l posibles en 4f', 'opciones' => ['7 valores', '5 valores', '3 valores', '1 valor'], 'correcta' => '7 valores'],
        ['pregunta' => 'Total e‚Åª en subnivel 4d', 'opciones' => ['10', '14', '6', '2'], 'correcta' => '10'],
        ['pregunta' => 'Principio Pauli implica', 'opciones' => ['M√°ximo 2 e‚Åª por orbital', 'M√°ximo 1 e‚Åª por orbital', 'M√°ximo 3 e‚Åª', 'Ilimitado'], 'correcta' => 'M√°ximo 2 e‚Åª por orbital'],
        ['pregunta' => 'Electr√≥n con n=1, l=0, m_l=0, m_s=+1/2 est√° en', 'opciones' => ['1s', '2s', '1p', '2p'], 'correcta' => '1s'],
        ['pregunta' => 'Cu√°ntos electrones con n=3, l=1', 'opciones' => ['6', '2', '10', '18'], 'correcta' => '6'],
        ['pregunta' => 'N√∫mero cu√°ntico que define forma', 'opciones' => ['l', 'n', 'm_l', 'm_s'], 'correcta' => 'l'],
        ['pregunta' => 'N√∫mero cu√°ntico que define orientaci√≥n', 'opciones' => ['m_l', 'l', 'n', 'm_s'], 'correcta' => 'm_l'],
        ['pregunta' => 'M√°ximo n en √°tomo de hidr√≥geno excitado', 'opciones' => ['Ilimitado (te√≥rico)', '7', '4', '1'], 'correcta' => 'Ilimitado (te√≥rico)'],
        ['pregunta' => 'IUPAC define m_s como', 'opciones' => ['¬±¬Ω (exacto)', '¬±1', '0', 'variable'], 'correcta' => '¬±¬Ω (exacto)']
    ]
];
// ========================================
// MATERIA: QU√çMICA I
// SUBTEMA: Principio de Construcci√≥n (Aufbau, Regla de la Lluvia, Excepciones, Madelung)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Qu√≠mica I',
    'slug' => 'principio-construccion',
    'titulo' => 'Principio de Construcci√≥n: Aufbau y la Regla de la Lluvia',
    'contenido' => '
        <h3>Principio de Construcci√≥n (Aufbau)</h3>
        <p>El <strong>principio de Aufbau</strong> (del alem√°n "construcci√≥n") establece que los electrones se llenan en <strong>orden creciente de energ√≠a</strong> de los orbitales. Se sigue la <strong>regla de la lluvia</strong> o <strong>diagrama diagonal</strong> para recordar el orden.</p>

        <hr style="border:1px dashed #1976D2;">

        <h4>1. Orden Energ√©tico de Orbitales</h4>
        <p><strong>1s < 2s < 2p < 3s < 3p < 4s < 3d < 4p < 5s < 4d < 5p < 6s < 4f < 5d < 6p < 7s < 5f < 6d < 7p</strong></p>

        <hr style="border:1px dashed #1976D2;">

        <h4>2. Regla de la Lluvia (Diagrama Diagonal)</h4>
        <p>Se dibuja el orden en <strong>diagonales ascendentes</strong>:</p>
        <pre>
        1s
       ‚Üó
      2s   2p
     ‚Üó
    3s   3p   3d
   ‚Üó
  4s   4p   4d   4f
 ‚Üó
5s   5p   5d   5f
        </pre>

        <hr style="border:1px dashed #1976D2;">

        <h4>3. Regla de Madelung (n + l)</h4>
        <p>Orden predictivo: <strong>menor (n + l)</strong>, y si igual, menor <strong>n</strong>.</p>
        <p>Ejemplos:</p>
        <ul>
            <li>4s: n=4, l=0 ‚Üí n+l = 4</li>
            <li>3d: n=3, l=2 ‚Üí n+l = 5 ‚Üí <strong>4s antes que 3d</strong></li>
            <li>5s: n=5, l=0 ‚Üí n+l = 5 ‚Üí <strong>igual que 3d, pero n menor ‚Üí 3d antes</strong></li>
        </ul>

        <hr style="border:1px dashed #1976D2;">

        <h4>4. Excepciones Comunes</h4>
        <table class="table">
            <thead>
                <tr><th>Elemento</th><th>Configuraci√≥n Real</th><th>Esperada</th><th>Raz√≥n</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Cr</strong></td><td>[Ar] 4s¬π 3d‚Åµ</td><td>4s¬≤ 3d‚Å¥</td><td>Medio lleno d‚Åµ</td></tr>
                <tr><td><strong>Cu</strong></td><td>[Ar] 4s¬π 3d¬π‚Å∞</td><td>4s¬≤ 3d‚Åπ</td><td>Lleno d¬π‚Å∞</td></tr>
                <tr><td><strong>Mo</strong></td><td>[Kr] 5s¬π 4d‚Åµ</td><td>5s¬≤ 4d‚Å¥</td><td>Estabilidad</td></tr>
                <tr><td><strong>Ag</strong></td><td>[Kr] 5s¬π 4d¬π‚Å∞</td><td>5s¬≤ 4d‚Åπ</td><td>d lleno</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #1976D2;">

        <h4>5. Aplicaci√≥n en Tabla Peri√≥dica</h4>
        <ul>
            <li><strong>Bloque s:</strong> 1s, 2s, 3s, 4s, 5s, 6s, 7s</li>
            <li><strong>Bloque p:</strong> 2p, 3p, 4p, 5p, 6p, 7p</li>
            <li><strong>Bloque d:</strong> 3d, 4d, 5d, 6d</li>
            <li><strong>Bloque f:</strong> 4f, 5f</li>
        </ul>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>K (Z=19)</strong> ‚Üí 1s¬≤ 2s¬≤ 2p‚Å∂ 3s¬≤ 3p‚Å∂ <strong>4s¬π</strong> ‚Üí <strong>4s antes que 3d</strong>.</p>
        </div>

        <div class="visual">
            <img src="assets/img/aufbau.jpg" alt="Problemas con Aufbau">
            <p><em>Cr√≠tica al diagrama. Fuente: RSC Education.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/diagrama-aufbau.png" alt="Diagrama Aufbau">
            <p><em>Orden claro. Fuente: Chemistry LibreTexts.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/orbital-blocks.png" alt="Bloques orbitales">
            <p><em>Bloques en tabla. Fuente: UT Austin.</em></p>
        </div>

        <hr style="border:1px dashed #1976D2;">

        <h4>6. SVG Animado: Regla de la Lluvia + Excepci√≥n Cr</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="800" height="500" fill="#E3F2FD"/>

                <!-- T√≠tulo -->
                <text x="400" y="50" fill="#0D47A1" font-size="28" text-anchor="middle" font-weight="bold">REGLA DE LA LLUVIA</text>

                <!-- Diagonales -->
                <g id="diagonales">
                    <!-- 1s -->
                    <text x="100" y="400" fill="#1976D2" font-size="16">1s</text>
                    <circle cx="100" cy="380" r="20" fill="#BBDEFB">
                        <animate attributeName="opacity" values="0;1" begin="0s" dur="0.5s"/>
                    </circle>

                    <!-- 2s 2p -->
                    <text x="200" y="340" fill="#1976D2" font-size="16">2s</text>
                    <text x="300" y="340" fill="#1976D2" font-size="16">2p</text>
                    <circle cx="200" cy="320" r="20" fill="#90CAF9">
                        <animate attributeName="opacity" values="0;1" begin="0.8s" dur="0.5s"/>
                    </circle>
                    <circle cx="300" cy="320" r="25" fill="#90CAF9">
                        <animate attributeName="opacity" values="0;1" begin="1.2s" dur="0.5s"/>
                    </circle>

                    <!-- 3s 3p 3d -->
                    <text x="400" y="280" fill="#1976D2" font-size="16">3s</text>
                    <text x="500" y="280" fill="#1976D2" font-size="16">3p</text>
                    <text x="600" y="280" fill="#1976D2" font-size="16">3d</text>
                    <circle cx="400" cy="260" r="20" fill="#42A5F5">
                        <animate attributeName="opacity" values="0;1" begin="1.8s" dur="0.5s"/>
                    </circle>
                    <circle cx="500" cy="260" r="25" fill="#42A5F5">
                        <animate attributeName="opacity" values="0;1" begin="2.2s" dur="0.5s"/>
                    </circle>
                    <circle cx="600" cy="260" r="30" fill="#42A5F5">
                        <animate attributeName="opacity" values="0;1" begin="2.6s" dur="0.5s"/>
                    </circle>

                    <!-- 4s -->
                    <text x="700" y="220" fill="#1976D2" font-size="16">4s</text>
                    <circle cx="700" cy="200" r="20" fill="#1E88E5">
                        <animate attributeName="opacity" values="0;1" begin="3.2s" dur="0.5s"/>
                    </circle>

                    <!-- L√≠neas diagonales -->
                    <line x1="120" y1="380" x2="180" y2="340" stroke="#1976D2" stroke-width="3" stroke-dasharray="5,5">
                        <animate attributeName="opacity" values="0;1" begin="0.5s" dur="0.5s"/>
                    </line>
                    <line x1="220" y1="320" x2="380" y2="280" stroke="#1976D2" stroke-width="3" stroke-dasharray="5,5">
                        <animate attributeName="opacity" values="0;1" begin="1.3s" dur="0.5s"/>
                    </line>
                    <line x1="420" y1="260" x2="680" y2="220" stroke="#1976D2" stroke-width="3" stroke-dasharray="5,5">
                        <animate attributeName="opacity" values="0;1" begin="2.3s" dur="0.5s"/>
                    </line>
                </g>

                <!-- Excepci√≥n Cr -->
                <g id="excepcion" opacity="0">
                    <rect x="450" y="350" width="300" height="100" fill="#FFF3E0" rx="15">
                        <animate attributeName="opacity" values="0;1" begin="4s" dur="0.5s"/>
                    </rect>
                    <text x="600" y="380" fill="#E65100" font-size="16" text-anchor="middle">EXCEPCI√ìN: Cr</text>
                    <text x="600" y="405" fill="#FF6F00" font-size="14" text-anchor="middle">[Ar] 4s¬π 3d‚Åµ</text>
                    <text x="600" y="425" fill="#E65100" font-size="12" text-anchor="middle">No 4s¬≤ 3d‚Å¥ ‚Üí estabilidad</text>
                </g>

                <!-- Madelung -->
                <text x="400" y="470" fill="#1565C0" font-size="14" text-anchor="middle">Regla Madelung: n + l menor primero</text>
            </svg>
            <p><em>SVG Animado: Regla de la lluvia + excepci√≥n Cr.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Orden de llenado b√°sico', 'respuesta' => '1s 2s 2p 3s 3p 4s 3d 4p'],
        ['enunciado' => 'Aufbau significa', 'respuesta' => 'Construcci√≥n (alem√°n)'],
        ['enunciado' => 'Regla de la lluvia es', 'respuesta' => 'Diagrama diagonal'],

        // === APLICADOS ===
        ['enunciado' => 'Configuraci√≥n de K (Z=19)', 'respuesta' => '[Ar] 4s¬π'],
        ['enunciado' => 'Configuraci√≥n de Ca (Z=20)', 'respuesta' => '[Ar] 4s¬≤'],
        ['enunciado' => 'Configuraci√≥n de Sc (Z=21)', 'respuesta' => '[Ar] 4s¬≤ 3d¬π'],

        // === QU√çMICOS ===
        ['enunciado' => 'Excepci√≥n: Cr (Z=24)', 'respuesta' => '[Ar] 4s¬π 3d‚Åµ'],
        ['enunciado' => 'Excepci√≥n: Cu (Z=29)', 'respuesta' => '[Ar] 4s¬π 3d¬π‚Å∞'],
        ['enunciado' => 'n + l para 4s', 'respuesta' => '4'],

        // === AVANZADOS ===
        ['enunciado' => 'n + l para 3d', 'respuesta' => '5'],
        ['enunciado' => 'IUPAC: excepci√≥n permitida por', 'respuesta' => 'Estabilidad electr√≥nica'],
        ['enunciado' => 'Orden correcto: 5s vs 4d', 'respuesta' => '5s antes que 4d']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Aufbau llena orbitales por...', 'opciones' => ['Energ√≠a creciente', 'Energ√≠a decreciente', 'Aleatorio', 'Masa'], 'correcta' => 'Energ√≠a creciente'],
        ['pregunta' => 'Regla de la lluvia es...', 'opciones' => ['Diagrama diagonal', 'Vertical', 'Horizontal', 'Circular'], 'correcta' => 'Diagrama diagonal'],
        ['pregunta' => '4s se llena antes que...', 'opciones' => ['3d', '4p', '5s', '2p'], 'correcta' => '3d'],
        ['pregunta' => 'Excepciones al Aufbau ocurren por...', 'opciones' => ['Estabilidad', 'Tama√±o', 'Color', 'Olor'], 'correcta' => 'Estabilidad'],
        ['pregunta' => '1s es el primer orbital en...', 'opciones' => ['Todos los √°tomos', 'Solo H', 'Solo He', 'Metales'], 'correcta' => 'Todos los √°tomos'],
        ['pregunta' => 'Configuraci√≥n de Na', 'opciones' => ['[Ne] 3s¬π', '[He] 3s¬π', '[Ar] 3s¬π', '3s¬π'], 'correcta' => '[Ne] 3s¬π'],
        ['pregunta' => 'Bloque s incluye...', 'opciones' => ['ns', 'np', 'nd', 'nf'], 'correcta' => 'ns'],
        ['pregunta' => 'Bloque d comienza en...', 'opciones' => ['3d', '1d', '2d', '4d'], 'correcta' => '3d'],
        ['pregunta' => 'Orden: 5s vs 4d', 'opciones' => ['5s antes', '4d antes', 'Igual', 'Aleatorio'], 'correcta' => '5s antes'],
        ['pregunta' => 'Madelung usa...', 'opciones' => ['n + l', 'n - l', 'n √ó l', 'n¬≤'], 'correcta' => 'n + l'],

        // === MEDIO (10) ===
        ['pregunta' => 'n + l para 4p', 'opciones' => ['5', '4', '6', '3'], 'correcta' => '5'],
        ['pregunta' => 'n + l para 5s', 'opciones' => ['5', '6', '4', '7'], 'correcta' => '5'],
        ['pregunta' => 'Configuraci√≥n de V (Z=23)', 'opciones' => ['[Ar] 4s¬≤ 3d¬≥', '[Ar] 4s¬π 3d‚Å¥', '[Ar] 4s¬≥ 3d¬≤', '[Ar] 3d‚Åµ'], 'correcta' => '[Ar] 4s¬≤ 3d¬≥'],
        ['pregunta' => 'Configuraci√≥n de Ni (Z=28)', 'opciones' => ['[Ar] 4s¬≤ 3d‚Å∏', '[Ar] 4s¬π 3d‚Åπ', '[Ar] 4s‚Å∞ 3d¬π‚Å∞', '[Ar] 4s¬≥ 3d‚Å∑'], 'correcta' => '[Ar] 4s¬≤ 3d‚Å∏'],
        ['pregunta' => 'Excepci√≥n en bloque d', 'opciones' => ['Cr, Cu', 'Na, K', 'O, F', 'He, Ne'], 'correcta' => 'Cr, Cu'],
        ['pregunta' => 'Bloque f comienza en...', 'opciones' => ['4f', '3f', '5f', '2f'], 'correcta' => '4f'],
        ['pregunta' => 'Lantanoides son...', 'opciones' => ['4f', '3d', '5d', '6p'], 'correcta' => '4f'],
        ['pregunta' => 'Act√≠nidos son...', 'opciones' => ['5f', '4f', '6d', '7p'], 'correcta' => '5f'],
        ['pregunta' => 'Orden correcto: 6s vs 5d', 'opciones' => ['6s antes', '5d antes', 'Igual', 'Aleatorio'], 'correcta' => '6s antes'],
        ['pregunta' => 'IUPAC acepta excepciones por...', 'opciones' => ['Estabilidad cu√°ntica', 'Regla estricta', 'Masa', 'Volumen'], 'correcta' => 'Estabilidad cu√°ntica'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'Configuraci√≥n de Pt (Z=78)', 'opciones' => ['[Xe] 6s¬π 4f¬π‚Å¥ 5d‚Åπ', '[Xe] 6s¬≤ 4f¬π‚Å¥ 5d‚Å∏', '[Xe] 6s‚Å∞ 4f¬π‚Å¥ 5d¬π‚Å∞', '[Xe] 6s¬π 4f¬π‚Å¥ 5d‚Å∏'], 'correcta' => '[Xe] 6s¬π 4f¬π‚Å¥ 5d‚Åπ'],
        ['pregunta' => 'Configuraci√≥n de Au (Z=79)', 'opciones' => ['[Xe] 6s¬π 4f¬π‚Å¥ 5d¬π‚Å∞', '[Xe] 6s¬≤ 4f¬π‚Å¥ 5d‚Åπ', '[Xe] 6s‚Å∞ 4f¬π‚Å¥ 5d¬π‚Å∞', '[Xe] 6s¬π 5d¬π‚Å∞'], 'correcta' => '[Xe] 6s¬π 4f¬π‚Å¥ 5d¬π‚Å∞'],
        ['pregunta' => 'Excepci√≥n en 5d', 'opciones' => ['Pt', 'Fe', 'Na', 'Cl'], 'correcta' => 'Pt'],
        ['pregunta' => 'Regla Madelung falla en...', 'opciones' => ['Transici√≥n d y f', 'Gases nobles', 'Alcalinos', 'Hal√≥genos'], 'correcta' => 'Transici√≥n d y f'],
        ['pregunta' => 'n + l para 4f', 'opciones' => ['7', '6', '5', '4'], 'correcta' => '7'],
        ['pregunta' => 'n + l para 6s', 'opciones' => ['6', '7', '5', '8'], 'correcta' => '6'],
        ['pregunta' => 'Orden: 5f vs 6d', 'opciones' => ['5f antes', '6d antes', 'Igual', 'Aleatorio'], 'correcta' => '6d antes'],
        ['pregunta' => 'M√°ximo Z sin excepci√≥n', 'opciones' => ['20 (Ca)', '18 (Ar)', '10 (Ne)', '2 (He)'], 'correcta' => '20 (Ca)'],
        ['pregunta' => 'IUPAC permite...', 'opciones' => ['Configuraciones experimentales', 'Solo te√≥ricas', 'Ninguna', 'Solo s y p'], 'correcta' => 'Configuraciones experimentales'],
        ['pregunta' => 'Regla de la lluvia es una...', 'opciones' => ['Mnemonica', 'Ley f√≠sica', 'F√≥rmula', 'Ecuaci√≥n'], 'correcta' => 'Mnemonica']
    ]
];
// ========================================
// MATERIA: QU√çMICA I
// SUBTEMA: Electrones de Valencia (Capa Externa, Reactividad, Octeto, Bloques)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Qu√≠mica I',
    'slug' => 'electrones-valencia',
    'titulo' => 'Electrones de Valencia: La Clave de la Reactividad',
    'contenido' => '
        <h3>Electrones de Valencia</h3>
        <p>Los <strong>electrones de valencia</strong> son los electrones en la <strong>capa electr√≥nica externa</strong> (nivel m√°s alto de n). Determinan la <strong>reactividad qu√≠mica</strong> y c√≥mo se forman enlaces. <strong>Regla del octeto:</strong> √°tomos tienden a tener 8 electrones en valencia.</p>

        <hr style="border:1px dashed #7B1FA2;">

        <h4>1. Definici√≥n y Ubicaci√≥n</h4>
        <ul>
            <li><strong>Valencia = electrones en orbitales de mayor n</strong></li>
            <li><strong>Grupo (principal) = n√∫mero de valencia</strong> (excepto He)</li>
            <li><strong>Per√≠odo = n√∫mero de capas</strong></li>
        </ul>

        <table class="table">
            <thead>
                <tr><th>Elemento</th><th>Z</th><th>Configuraci√≥n</th><th>Valencia</th><th>Grupo</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>H</strong></td><td>1</td><td>1s¬π</td><td>1</td><td>1</td></tr>
                <tr><td><strong>C</strong></td><td>6</td><td>1s¬≤ 2s¬≤ 2p¬≤</td><td>4</td><td>14</td></tr>
                <tr><td><strong>Na</strong></td><td>11</td><td>[Ne] 3s¬π</td><td>1</td><td>1</td></tr>
                <tr><td><strong>Cl</strong></td><td>17</td><td>[Ne] 3s¬≤ 3p‚Åµ</td><td>7</td><td>17</td></tr>
                <tr><td><strong>Ar</strong></td><td>18</td><td>[Ne] 3s¬≤ 3p‚Å∂</td><td>8</td><td>18</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #7B1FA2;">

        <h4>2. Reactividad Qu√≠mica</h4>
        <ul>
            <li><strong>Metales (1‚Äì3 valencia):</strong> Pierden electrones ‚Üí cationes</li>
            <li><strong>No metales (5‚Äì7 valencia):</strong> Ganan electrones ‚Üí aniones</li>
            <li><strong>Gases nobles (8):</strong> Estables (octeto completo)</li>
            <li><strong>Transici√≥n:</strong> Valencias variables (d + s)</li>
        </ul>

        <hr style="border:1px dashed #7B1FA2;">

        <h4>3. Regla del Octeto</h4>
        <p>\[
            \\text{√Åtomos buscan 8 e‚Åª en valencia (ns¬≤ np‚Å∂)}
        \]</p>
        <ul>
            <li><strong>Li:</strong> pierde 1 ‚Üí [He]</li>
            <li><strong>F:</strong> gana 1 ‚Üí [Ne]</li>
            <li><strong>Mg:</strong> pierde 2 ‚Üí [Ne]</li>
            <li><strong>O:</strong> gana 2 ‚Üí [Ne]</li>
        </ul>

        <hr style="border:1px dashed #7B1FA2;">

        <h4>4. Valencia en Bloques</h4>
        <table class="table">
            <thead>
                <tr><th>Bloque</th><th>Valencia</th><th>Ejemplos</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>s</strong></td><td>1‚Äì2</td><td>Na (1), Ca (2)</td></tr>
                <tr><td><strong>p</strong></td><td>13‚Äì18 ‚Üí 3‚Äì8</td><td>Al (3), S (6)</td></tr>
                <tr><td><strong>d</strong></td><td>Variable (1‚Äì10)</td><td>Fe (2,3), Cu (1,2)</td></tr>
                <tr><td><strong>f</strong></td><td>Muy variable</td><td>Ce (3,4), U (3‚Äì6)</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Cl (Z=17)</strong> ‚Üí [Ne] 3s¬≤ 3p‚Åµ ‚Üí <strong>7 valencia</strong> ‚Üí gana 1 ‚Üí Cl‚Åª (octeto).</p>
        </div>

        <hr style="border:1px dashed #7B1FA2;">

        <h4>5. Excepciones y Casos Especiales</h4>
        <ul>
            <li><strong>He:</strong> 2 electrones ‚Üí estable (dueto)</li>
            <li><strong>Be, B:</strong> menos de 8 en compuestos</li>
            <li><strong>P, S:</strong> expansi√≥n de octeto (d orbitales)</li>
        </ul>

        <div class="visual">
            <img src="assets/img/Valence-Electrons.jpg" alt="Diagrama valencia">
            <p><em>Visualizaci√≥n clara. Fuente: Science Facts.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/Oxygen-Valence-Electrons.jpg" alt="Ox√≠geno valencia">
            <p><em>Ox√≠geno: 6 valencia. Fuente: PraxiLabs.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/capas-electronicas.png" alt="Capas electr√≥nicas">
            <p><em>Capas completas. Fuente: ScienceABC.</em></p>
        </div>

        <hr style="border:1px dashed #7B1FA2;">

        <h4>6. SVG Animado: Formaci√≥n de Octeto (Na + Cl ‚Üí NaCl)</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="800" height="500" fill="#F3E5F5"/>

                <!-- T√≠tulo -->
                <text x="400" y="50" fill="#4A148C" font-size="28" text-anchor="middle" font-weight="bold">REGLA DEL OCTETO</text>

                <!-- Na (izquierda) -->
                <g id="na">
                    <circle cx="200" cy="250" r="60" fill="#9C27B0" opacity="0.3"/>
                    <circle cx="200" cy="250" r="30" fill="#7B1FA2"/>
                    <text x="200" y="245" fill="white" font-size="16" text-anchor="middle">Na</text>
                    <text x="200" y="265" fill="#E1BEE7" font-size="12" text-anchor="middle">11 e‚Åª</text>
                    <!-- Valencia -->
                    <circle cx="140" cy="250" r="12" fill="#FF5252">
                        <animate attributeName="opacity" values="1;0" begin="2s" dur="1s"/>
                    </circle>
                    <text x="120" y="255" fill="#D500F9" font-size="10" text-anchor="middle">1 val</text>
                </g>

                <!-- Cl (derecha) -->
                <g id="cl">
                    <circle cx="600" cy="250" r="70" fill="#388E3C" opacity="0.3"/>
                    <circle cx="600" cy="250" r="40" fill="#43A047"/>
                    <text x="600" y="245" fill="white" font-size="16" text-anchor="middle">Cl</text>
                    <text x="600" y="265" fill="#C8E6C9" font-size="12" text-anchor="middle">17 e‚Åª</text>
                    <!-- 7 valencia -->
                    <g transform="translate(600,250)">
                        <circle cx="50" cy="0" r="10" fill="#FF5252"/>
                        <circle cx="35" cy="35" r="10" fill="#FF5252"/>
                        <circle cx="0" cy="50" r="10" fill="#FF5252"/>
                        <circle cx="-35" cy="35" r="10" fill="#FF5252"/>
                        <circle cx="-50" cy="0" r="10" fill="#FF5252"/>
                        <circle cx="-35" cy="-35" r="10" fill="#FF5252"/>
                        <circle cx="0" cy="-50" r="10" fill="#FF5252"/>
                    </g>
                    <text x="600" y="340" fill="#2E7D32" font-size="12" text-anchor="middle">7 val</text>
                </g>

                <!-- Transferencia -->
                <g id="transfer" opacity="0">
                    <circle cx="400" cy="250" r="12" fill="#FF5252">
                        <animate attributeName="cx" values="140;400;660" dur="2s" begin="3s"/>
                        <animate attributeName="opacity" values="0;1;1;0" begin="3s" dur="2s"/>
                    </circle>
                    <animate attributeName="opacity" values="0;1" begin="3s" dur="0.1s"/>
                </g>

                <!-- Na‚Å∫ y Cl‚Åª -->
                <g id="ions" opacity="0">
                    <circle cx="200" cy="250" r="50" fill="#7B1FA2" opacity="0.5"/>
                    <text x="200" y="255" fill="white" font-size="18" text-anchor="middle">Na‚Å∫</text>
                    <circle cx="600" cy="250" r="60" fill="#43A047" opacity="0.5"/>
                    <text x="600" y="255" fill="white" font-size="18" text-anchor="middle">Cl‚Åª</text>
                    <!-- Octeto completo -->
                    <g transform="translate(600,250)">
                        <circle cx="45" cy="0" r="10" fill="#4CAF50"/>
                        <circle cx="32" cy="32" r="10" fill="#4CAF50"/>
                        <circle cx="0" cy="45" r="10" fill="#4CAF50"/>
                        <circle cx="-32" cy="32" r="10" fill="#4CAF50"/>
                        <circle cx="-45" cy="0" r="10" fill="#4CAF50"/>
                        <circle cx="-32" cy="-32" r="10" fill="#4CAF50"/>
                        <circle cx="0" cy="-45" r="10" fill="#4CAF50"/>
                        <circle cx="32" cy="-32" r="10" fill="#4CAF50"/>
                    </g>
                    <animate attributeName="opacity" values="0;1" begin="5s" dur="1s"/>
                </g>

                <!-- Octeto -->
                <rect x="450" y="350" width="300" height="100" fill="#FFF3E0" rx="15"/>
                <text x="600" y="380" fill="#E65100" font-size="16" text-anchor="middle">REGLA DEL OCTETO</text>
                <text x="600" y="405" fill="#FF6F00" font-size="14" text-anchor="middle">8 e‚Åª en valencia</text>
                <text x="600" y="425" fill="#E65100" font-size="12" text-anchor="middle">Estabilidad</text>

                <!-- IUPAC -->
                <text x="400" y="470" fill="#6A1B9A" font-size="14" text-anchor="middle">IUPAC 2025: Valencia = e‚Åª en ns, np (principal)</text>
            </svg>
            <p><em>SVG Animado: Na pierde 1 e‚Åª ‚Üí Cl gana 1 e‚Åª ‚Üí Na‚Å∫Cl‚Åª (octeto).</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Valencia de C (Z=6)', 'respuesta' => '4'],
        ['enunciado' => 'Valencia de O (Z=8)', 'respuesta' => '6'],
        ['enunciado' => 'Grupo 1 tiene valencia', 'respuesta' => '1'],

        // === APLICADOS ===
        ['enunciado' => 'Valencia de Al (Z=13)', 'respuesta' => '3'],
        ['enunciado' => 'Valencia de S (Z=16)', 'respuesta' => '6'],
        ['enunciado' => 'I√≥n formado por K', 'respuesta' => 'K‚Å∫ (pierde 1)'],

        // === QU√çMICOS ===
        ['enunciado' => 'No metal con 5 valencia', 'respuesta' => 'N (nitr√≥geno)'],
        ['enunciado' => 'Metal con 2 valencia', 'respuesta' => 'Mg (magnesio)'],
        ['enunciado' => 'Gas noble valencia', 'respuesta' => '8 (excepto He: 2)'],

        // === AVANZADOS ===
        ['enunciado' => 'Valencia de Fe en Fe¬≤‚Å∫', 'respuesta' => '2 (pierde 4s¬≤)'],
        ['enunciado' => 'IUPAC: valencia en transici√≥n', 'respuesta' => 'Variable (d + s)'],
        ['enunciado' => 'Electr√≥n valencia en Br', 'respuesta' => '7 (4s¬≤ 4p‚Åµ)']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Electrones valencia est√°n en...', 'opciones' => ['Capa externa', 'N√∫cleo', 'Todas las capas', 'Solo s'], 'correcta' => 'Capa externa'],
        ['pregunta' => 'Determinan la...', 'opciones' => ['Reactividad', 'Masa', 'Color', 'Densidad'], 'correcta' => 'Reactividad'],
        ['pregunta' => 'Valencia de Na (grupo 1)', 'opciones' => ['1', '11', '3', '8'], 'correcta' => '1'],
        ['pregunta' => 'Gases nobles tienen...', 'opciones' => ['8 valencia', '0', '1', '2'], 'correcta' => '8 valencia'],
        ['pregunta' => 'Valencia de F', 'opciones' => ['7', '9', '1', '8'], 'correcta' => '7'],
        ['pregunta' => 'Valencia de Mg', 'opciones' => ['2', '12', '4', '0'], 'correcta' => '2'],
        ['pregunta' => 'Metales alcalinos valencia', 'opciones' => ['1', '2', '3', '8'], 'correcta' => '1'],
        ['pregunta' => 'Hal√≥genos valencia', 'opciones' => ['7', '1', '8', '5'], 'correcta' => '7'],
        ['pregunta' => 'Regla del octeto busca...', 'opciones' => ['8 e‚Åª valencia', '2 e‚Åª', '18 e‚Åª', '0 e‚Åª'], 'correcta' => '8 e‚Åª valencia'],
        ['pregunta' => 'He es estable con...', 'opciones' => ['2 e‚Åª (dueto)', '8 e‚Åª', '1 e‚Åª', '0 e‚Åª'], 'correcta' => '2 e‚Åª (dueto)'],

        // === MEDIO (10) ===
        ['pregunta' => 'Valencia de Si (grupo 14)', 'opciones' => ['4', '14', '2', '6'], 'correcta' => '4'],
        ['pregunta' => 'Valencia de P (grupo 15)', 'opciones' => ['5', '3', '15', '8'], 'correcta' => '5'],
        ['pregunta' => 'I√≥n O¬≤‚Åª tiene valencia efectiva', 'opciones' => ['8', '6', '2', '10'], 'correcta' => '8'],
        ['pregunta' => 'Transici√≥n valencia', 'opciones' => ['Variable', 'Fija', 'Siempre 8', 'Siempre 1'], 'correcta' => 'Variable'],
        ['pregunta' => 'Valencia de Cr en Cr¬≥‚Å∫', 'opciones' => ['3', '6', '2', '1'], 'correcta' => '3'],
        ['pregunta' => 'Bloque p valencia', 'opciones' => ['3 a 8', '1 a 2', '1 a 10', 'Solo 8'], 'correcta' => '3 a 8'],
        ['pregunta' => 'Electr√≥n valencia en Ca', 'opciones' => ['4s¬≤', '3s¬≤', '4p‚Å∂', '3d¬π‚Å∞'], 'correcta' => '4s¬≤'],
        ['pregunta' => 'No metal que gana 3 e‚Åª', 'opciones' => ['N', 'O', 'F', 'Cl'], 'correcta' => 'N'],
        ['pregunta' => 'IUPAC: valencia principal', 'opciones' => ['ns + np', 'nd', 'nf', 'solo s'], 'correcta' => 'ns + np'],
        ['pregunta' => 'Expansi√≥n de octeto en...', 'opciones' => ['S, P', 'C, N', 'H, He', 'Na, K'], 'correcta' => 'S, P'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'Valencia de Mn en MnO‚ÇÑ‚Åª', 'opciones' => ['+7', '+2', '+3', '+4'], 'correcta' => '+7'],
        ['pregunta' => 'Valencia de Fe en Fe(CN)‚ÇÜ¬≥‚Åª', 'opciones' => ['+3', '+2', '+6', '+1'], 'correcta' => '+3'],
        ['pregunta' => 'Lantanoides valencia t√≠pica', 'opciones' => ['+3', '+2', '+4', '+1'], 'correcta' => '+3'],
        ['pregunta' => 'Act√≠nidos valencia com√∫n', 'opciones' => ['+3 a +6', '+1 a +2', '+7', '+8'], 'correcta' => '+3 a +6'],
        ['pregunta' => 'Valencia de Cu en Cu‚Å∫', 'opciones' => ['1 (pierde 4s¬π)', '2', '0', '3'], 'correcta' => '1 (pierde 4s¬π)'],
        ['pregunta' => 'Electr√≥n valencia en Zn', 'opciones' => ['4s¬≤', '3d¬π‚Å∞', '4p‚Å∂', '5s¬π'], 'correcta' => '4s¬≤'],
        ['pregunta' => 'I√≥n con octeto: Al¬≥‚Å∫', 'opciones' => ['[Ne]', '[He]', '[Ar]', '[Kr]'], 'correcta' => '[Ne]'],
        ['pregunta' => 'Elementos con valencia 0', 'opciones' => ['Gases nobles', 'Metales', 'No metales', 'Transici√≥n'], 'correcta' => 'Gases nobles'],
        ['pregunta' => 'Valencia m√°xima te√≥rica', 'opciones' => ['8 (octeto)', '18', '32', '7'], 'correcta' => '8 (octeto)'],
        ['pregunta' => 'IUPAC define valencia como...', 'opciones' => ['e‚Åª en capa m√°s externa', 'e‚Åª totales', 'protones', 'neutrones'], 'correcta' => 'e‚Åª en capa m√°s externa']
    ]
];
// ========================================
// MATERIA: QU√çMICA I
// SUBTEMA: Electr√≥n Diferencial (√öltimo e‚Åª, Bloque, Propiedades, Excepciones)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Qu√≠mica I',
    'slug' => 'electron-diferencial',
    'titulo' => 'Electr√≥n Diferencial: El √öltimo en Entrar, el Primero en Salir',
    'contenido' => '
        <h3>Electr√≥n Diferencial</h3>
        <p>El <strong>electr√≥n diferencial</strong> es el <strong>√∫ltimo electr√≥n agregado</strong> al construir la configuraci√≥n electr√≥nica usando el <strong>principio de Aufbau</strong>. Determina el <strong>bloque peri√≥dico</strong> (s, p, d, f) y las <strong>propiedades qu√≠micas</strong> del elemento.</p>

        <hr style="border:1px dashed #388E3C;">

        <h4>1. Definici√≥n y Regla</h4>
        <ul>
            <li><strong>Diferencial = electr√≥n en el orbital de mayor energ√≠a</strong></li>
            <li><strong>Se identifica en la configuraci√≥n completa</strong></li>
            <li><strong>Determina:</strong> bloque, valencia (parcial), reactividad</li>
        </ul>

        <table class="table">
            <thead>
                <tr><th>Elemento</th><th>Z</th><th>Configuraci√≥n</th><th>Diferencial</th><th>Bloque</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Na</strong></td><td>11</td><td>1s¬≤ 2s¬≤ 2p‚Å∂ 3s¬π</td><td>3s¬π</td><td>s</td></tr>
                <tr><td><strong>Cl</strong></td><td>17</td><td>1s¬≤ 2s¬≤ 2p‚Å∂ 3s¬≤ 3p‚Åµ</td><td>3p‚Åµ</td><td>p</td></tr>
                <tr><td><strong>Sc</strong></td><td>21</td><td>[Ar] 4s¬≤ 3d¬π</td><td>3d¬π</td><td>d</td></tr>
                <tr><td><strong>Ce</strong></td><td>58</td><td>[Xe] 6s¬≤ 4f¬π 5d¬π</td><td>4f¬π</td><td>f</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #388E3C;">

        <h4>2. Bloque Peri√≥dico por Diferencial</h4>
        <table class="table">
            <thead>
                <tr><th>Bloque</th><th>Orbital Diferencial</th><th>Grupos</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>s</strong></td><td>ns¬π‚Åª¬≤</td><td>1‚Äì2</td></tr>
                <tr><td><strong>p</strong></td><td>np¬π‚Åª‚Å∂</td><td>13‚Äì18</td></tr>
                <tr><td><strong>d</strong></td><td>(n-1)d¬π‚Åª¬π‚Å∞</td><td>3‚Äì12</td></tr>
                <tr><td><strong>f</strong></td><td>(n-2)f¬π‚Åª¬π‚Å¥</td><td>Lantanoides, Act√≠nidos</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #388E3C;">

        <h4>3. Excepciones (Aufbau)</h4>
        <ul>
            <li><strong>Cr:</strong> [Ar] 4s¬π 3d‚Åµ ‚Üí diferencial <strong>3d‚Åµ</strong> (no 4s¬≤)</li>
            <li><strong>Cu:</strong> [Ar] 4s¬π 3d¬π‚Å∞ ‚Üí diferencial <strong>3d¬π‚Å∞</strong></li>
        </ul>
        <p>‚Üí <strong>Bloque d</strong>, aunque 4s es m√°s externo.</p>

        <hr style="border:1px dashed #388E3C;">

        <h4>4. Importancia Qu√≠mica</h4>
        <ul>
            <li><strong>Reactividad:</strong> f√°cil p√©rdida/ganancia</li>
            <li><strong>Valencia:</strong> electrones disponibles</li>
            <li><strong>Espectros:</strong> transiciones electr√≥nicas</li>
        </ul>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Fe (Z=26)</strong> ‚Üí [Ar] 4s¬≤ 3d‚Å∂ ‚Üí diferencial <strong>3d‚Å∂</strong> ‚Üí bloque <strong>d</strong>, valencia variable (2+, 3+).</p>
        </div>

        <div class="visual">
            <img src="assets/img/orbitales_moleculares.png" alt="Representaci√≥n orbital">
            <p><em>Orbitales. Fuente: ThoughtCo.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/configruacion_electronicos.jpg" alt="Diagramas de caja">
            <p><em>Cajas orbitales 1‚Äì18. Fuente: Pathways to Chemistry.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/diagrama-electrones.jpg" alt="Configuraci√≥n electr√≥nica">
            <p><em>Configuraci√≥n. Fuente: Science Facts.</em></p>
        </div>

        <hr style="border:1px dashed #388E3C;">

        <h4>5. SVG Animado: Construcci√≥n + Diferencial (H ‚Üí Ar)</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="800" height="500" fill="#E8F5E9"/>

                <!-- T√≠tulo -->
                <text x="400" y="50" fill="#1B5E20" font-size="28" text-anchor="middle" font-weight="bold">ELECTR√ìN DIFERENCIAL</text>

                <!-- 1s -->
                <g id="1s">
                    <circle cx="150" cy="200" r="40" fill="#4CAF50" opacity="0.3"/>
                    <text x="150" y="180" fill="#2E7D32" font-size="14" text-anchor="middle">1s</text>
                    <circle cx="130" cy="200" r="10" fill="#81C784">
                        <animate attributeName="opacity" values="0;1" begin="0s" dur="0.5s"/>
                    </circle>
                    <circle cx="170" cy="200" r="10" fill="#81C784">
                        <animate attributeName="opacity" values="0;1" begin="0.5s" dur="0.5s"/>
                    </circle>
                    <text x="150" y="240" fill="#1B5E20" font-size="12" text-anchor="middle">H, He</text>
                </g>

                <!-- 2s 2p -->
                <g id="2sp" opacity="0">
                    <circle cx="350" cy="200" r="60" fill="#66BB6A" opacity="0.3">
                        <animate attributeName="opacity" values="0;0.3" begin="1s" dur="0.5s"/>
                    </circle>
                    <text x="350" y="160" fill="#2E7D32" font-size="14" text-anchor="middle">2s</text>
                    <ellipse cx="550" cy="200" rx="80" ry="40" fill="#4CAF50" opacity="0.2">
                        <animate attributeName="opacity" values="0;0.2" begin="2s" dur="0.5s"/>
                    </ellipse>
                    <text x="550" y="160" fill="#2E7D32" font-size="14" text-anchor="middle">2p</text>
                    <!-- Diferencial en Ne -->
                    <circle cx="630" cy="200" r="12" fill="#FF5252">
                        <animate attributeName="opacity" values="0;1" begin="3s" dur="0.5s"/>
                    </circle>
                    <text x="630" y="230" fill="#D50000" font-size="10" text-anchor="middle">Diferencial: 2p‚Å∂</text>
                    <animate attributeName="opacity" values="0;1" begin="1s" dur="0.1s"/>
                </g>

                <!-- 3s 3p -->
                <g id="3sp" opacity="0">
                    <circle cx="350" cy="350" r="50" fill="#43A047" opacity="0.3">
                        <animate attributeName="opacity" values="0;0.3" begin="4s" dur="0.5s"/>
                    </circle>
                    <text x="350" y="320" fill="#2E7D32" font-size="14" text-anchor="middle">3s</text>
                    <ellipse cx="550" cy="350" rx="70" ry="35" fill="#43A047" opacity="0.2">
                        <animate attributeName="opacity" values="0;0.2" begin="5s" dur="0.5s"/>
                    </ellipse>
                    <text x="550" y="320" fill="#2E7D32" font-size="14" text-anchor="middle">3p</text>
                    <!-- Diferencial en Ar -->
                    <circle cx="620" cy="350" r="12" fill="#FF5252">
                        <animate attributeName="opacity" values="0;1" begin="6s" dur="0.5s"/>
                    </circle>
                    <text x="620" y="380" fill="#D50000" font-size="10" text-anchor="middle">Diferencial: 3p‚Å∂</text>
                    <animate attributeName="opacity" values="0;1" begin="4s" dur="0.1s"/>
                </g>

                <!-- Excepci√≥n Cr -->
                <g id="excepcion" opacity="0">
                    <rect x="450" y="100" width="300" height="100" fill="#FFF3E0" rx="15">
                        <animate attributeName="opacity" values="0;1" begin="7s" dur="0.5s"/>
                    </rect>
                    <text x="600" y="130" fill="#E65100" font-size="14" text-anchor="middle">EXCEPCI√ìN: Cr</text>
                    <text x="600" y="155" fill="#FF6F00" font-size="12" text-anchor="middle">[Ar] 4s¬π 3d‚Åµ</text>
                    <text x="600" y="175" fill="#E65100" font-size="10" text-anchor="middle">Diferencial: 3d‚Åµ</text>
                </g>

                <!-- IUPAC -->
                <text x="400" y="470" fill="#2E7D32" font-size="14" text-anchor="middle">IUPAC 2025: Diferencial = √∫ltimo en Aufbau</text>
            </svg>
            <p><em>SVG Animado: Llenado 1s ‚Üí 3p + Diferencial en Ne, Ar, Cr.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Electr√≥n diferencial de Mg (Z=12)', 'respuesta' => '3s¬≤'],
        ['enunciado' => 'Electr√≥n diferencial de Al (Z=13)', 'respuesta' => '3p¬π'],
        ['enunciado' => 'Bloque determinado por', 'respuesta' => 'Diferencial'],

        // === APLICADOS ===
        ['enunciado' => 'Diferencial de K (Z=19)', 'respuesta' => '4s¬π'],
        ['enunciado' => 'Diferencial de Ca (Z=20)', 'respuesta' => '4s¬≤'],
        ['enunciado' => 'Diferencial de Ti (Z=22)', 'respuesta' => '3d¬≤'],

        // === QU√çMICOS ===
        ['enunciado' => 'Diferencial de Cl (Z=17)', 'respuesta' => '3p‚Åµ'],
        ['enunciado' => 'Diferencial de Cr (Z=24)', 'respuesta' => '3d‚Åµ'],
        ['enunciado' => 'Bloque de Zn (Z=30)', 'respuesta' => 'd (3d¬π‚Å∞)'],

        // === AVANZADOS ===
        ['enunciado' => 'Diferencial de La (Z=57)', 'respuesta' => '5d¬π'],
        ['enunciado' => 'IUPAC: diferencial en transici√≥n', 'respuesta' => 'd o f, no s'],
        ['enunciado' => 'Diferencial de U (Z=92)', 'respuesta' => '5f¬≥ 6d¬π ‚Üí 5f¬≥']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Electr√≥n diferencial es...', 'opciones' => ['√öltimo agregado', 'Primero', 'Valencia', 'N√∫cleo'], 'correcta' => '√öltimo agregado'],
        ['pregunta' => 'Determina el bloque', 'opciones' => ['S√≠', 'No', 'A veces', 'Nunca'], 'correcta' => 'S√≠'],
        ['pregunta' => 'Diferencial de Na', 'opciones' => ['3s¬π', '2p‚Å∂', '1s¬≤', '3p¬π'], 'correcta' => '3s¬π'],
        ['pregunta' => 'Diferencial de O', 'opciones' => ['2p‚Å¥', '2s¬≤', '1s¬≤', '3s¬π'], 'correcta' => '2p‚Å¥'],
        ['pregunta' => 'Bloque s tiene diferencial en...', 'opciones' => ['ns', 'np', 'nd', 'nf'], 'correcta' => 'ns'],
        ['pregunta' => 'Bloque p diferencial en...', 'opciones' => ['np', 'ns', 'nd', 'nf'], 'correcta' => 'np'],
        ['pregunta' => 'Diferencial de Ne', 'opciones' => ['2p‚Å∂', '2s¬≤', '1s¬≤', '3s¬π'], 'correcta' => '2p‚Å∂'],
        ['pregunta' => 'Importancia del diferencial', 'opciones' => ['Propiedades qu√≠micas', 'Masa', 'Color', 'Volumen'], 'correcta' => 'Propiedades qu√≠micas'],
        ['pregunta' => 'Diferencial de He', 'opciones' => ['1s¬≤', '2s¬π', '1s¬π', '2p¬π'], 'correcta' => '1s¬≤'],
        ['pregunta' => 'Diferencial de Li', 'opciones' => ['2s¬π', '1s¬≤', '2p¬π', '3s¬π'], 'correcta' => '2s¬π'],

        // === MEDIO (10) ===
        ['pregunta' => 'Diferencial de Ar', 'opciones' => ['3p‚Å∂', '3s¬≤', '2p‚Å∂', '4s¬π'], 'correcta' => '3p‚Å∂'],
        ['pregunta' => 'Diferencial de Sc', 'opciones' => ['3d¬π', '4s¬≤', '3p‚Å∂', '4p¬π'], 'correcta' => '3d¬π'],
        ['pregunta' => 'Diferencial de Cu', 'opciones' => ['3d¬π‚Å∞', '4s¬π', '4s¬≤', '3d‚Åπ'], 'correcta' => '3d¬π‚Å∞'],
        ['pregunta' => 'Bloque de Fe', 'opciones' => ['d', 's', 'p', 'f'], 'correcta' => 'd'],
        ['pregunta' => 'Diferencial de Br', 'opciones' => ['4p‚Åµ', '4s¬≤', '3d¬π‚Å∞', '5s¬π'], 'correcta' => '4p‚Åµ'],
        ['pregunta' => 'Diferencial de Kr', 'opciones' => ['4p‚Å∂', '4s¬≤', '3d¬π‚Å∞', '5s¬π'], 'correcta' => '4p‚Å∂'],
        ['pregunta' => 'Excepci√≥n Cr diferencial', 'opciones' => ['3d‚Åµ', '4s¬π', '4s¬≤', '3d‚Å¥'], 'correcta' => '3d‚Åµ'],
        ['pregunta' => 'Diferencial de Mo', 'opciones' => ['4d‚Åµ', '5s¬π', '5s¬≤', '4d‚Å¥'], 'correcta' => '4d‚Åµ'],
        ['pregunta' => 'IUPAC: bloque por', 'opciones' => ['Diferencial', 'Valencia', 'Masa', 'Per√≠odo'], 'correcta' => 'Diferencial'],
        ['pregunta' => 'Diferencial de Ce', 'opciones' => ['4f¬π', '6s¬≤', '5d¬π', '4f‚Å∞'], 'correcta' => '4f¬π'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'Diferencial de Pt (Z=78)', 'opciones' => ['5d‚Åπ', '6s¬π', '4f¬π‚Å¥', '6s¬≤'], 'correcta' => '5d‚Åπ'],
        ['pregunta' => 'Diferencial de U (Z=92)', 'opciones' => ['5f¬≥', '7s¬≤', '6d¬π', '5f‚Å¥'], 'correcta' => '5f¬≥'],
        ['pregunta' => 'Bloque de La (Z=57)', 'opciones' => ['d', 'f', 's', 'p'], 'correcta' => 'd'],
        ['pregunta' => 'Diferencial de Ac (Z=89)', 'opciones' => ['6d¬π', '7s¬≤', '5f‚Å∞', '7p¬π'], 'correcta' => '6d¬π'],
        ['pregunta' => 'Diferencial de Au', 'opciones' => ['5d¬π‚Å∞', '6s¬π', '4f¬π‚Å¥', '6s¬≤'], 'correcta' => '5d¬π‚Å∞'],
        ['pregunta' => 'Excepci√≥n en 5d', 'opciones' => ['Pt, Au', 'Na, K', 'O, F', 'He, Ne'], 'correcta' => 'Pt, Au'],
        ['pregunta' => 'Diferencial de Gd', 'opciones' => ['4f‚Å∑', '5d¬π', '6s¬≤', '4f‚Å∏'], 'correcta' => '4f‚Å∑'],
        ['pregunta' => 'IUPAC permite diferencial en...', 'opciones' => ['d o f para transici√≥n', 'solo s', 'solo p', 'ninguno'], 'correcta' => 'd o f para transici√≥n'],
        ['pregunta' => 'Diferencial de Th', 'opciones' => ['6d¬≤', '7s¬≤', '5f‚Å∞', '6d¬π'], 'correcta' => '6d¬≤'],
        ['pregunta' => 'Diferencial define...', 'opciones' => ['Bloque y serie', 'Solo per√≠odo', 'Solo grupo', 'Masa at√≥mica'], 'correcta' => 'Bloque y serie']
    ]
];
// ========================================
// MATERIA: QU√çMICA I
// SUBTEMA: Diagrama de Orbitales (Box, Aufbau, Pauli, Hund, Spin, Excepciones)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Qu√≠mica I',
    'slug' => 'diagrama-orbitales',
    'titulo' => 'Diagrama de Orbitales: El Mapa Visual de los Electrones',
    'contenido' => '
        <h3>Diagrama de Orbitales (Box Diagram)</h3>
        <p>El <strong>diagrama de orbitales</strong> representa cada <strong>orbital como una caja</strong> y los <strong>electrones como flechas</strong> (‚Üë para +1/2, ‚Üì para ‚àí1/2). Sigue:</p>
        <ul>
            <li><strong>Aufbau:</strong> Llenar de menor a mayor energ√≠a</li>
            <li><strong>Pauli:</strong> M√°ximo 2 e‚Åª por caja, spins opuestos</li>
            <li><strong>Hund:</strong> Llenar singly antes de parear</li>
        </ul>

        <hr style="border:1px dashed #0288D1;">

        <h4>1. Reglas del Diagrama</h4>
        <table class="table">
            <thead>
                <tr><th>Principio</th><th>Regla</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Aufbau</strong></td><td>1s ‚Üí 2s ‚Üí 2p ‚Üí 3s ‚Üí 3p ‚Üí 4s ‚Üí 3d ‚Üí ...</td></tr>
                <tr><td><strong>Pauli</strong></td><td>Max 2 e‚Åª/orbital, ‚Üë‚Üì</td></tr>
                <tr><td><strong>Hund</strong></td><td>Unpaired ‚Üë primero en p, d, f</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #0288D1;">

        <h4>2. Ejemplos B√°sicos</h4>
        <table class="table">
            <thead>
                <tr><th>Elemento</th><th>Diagrama</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>H</strong></td><td>1s: [‚Üë]</td></tr>
                <tr><td><strong>He</strong></td><td>1s: [‚Üë‚Üì]</td></tr>
                <tr><td><strong>C</strong></td><td>1s: [‚Üë‚Üì] 2s: [‚Üë‚Üì] 2p: [‚Üë] [‚Üë] [ ]</td></tr>
                <tr><td><strong>N</strong></td><td>1s: [‚Üë‚Üì] 2s: [‚Üë‚Üì] 2p: [‚Üë] [‚Üë] [‚Üë]</td></tr>
                <tr><td><strong>O</strong></td><td>1s: [‚Üë‚Üì] 2s: [‚Üë‚Üì] 2p: [‚Üë‚Üì] [‚Üë] [‚Üë]</td></tr>
                <tr><td><strong>Ne</strong></td><td>1s: [‚Üë‚Üì] 2s: [‚Üë‚Üì] 2p: [‚Üë‚Üì] [‚Üë‚Üì] [‚Üë‚Üì]</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #0288D1;">

        <h4>3. Hund en Acci√≥n (p¬≥)</h4>
        <p>Para subnivel <strong>p¬≥</strong> (ej: N):</p>
        <p style="font-family: monospace; background:#E1F5FE; padding:10px;">
            2p: [‚Üë] [‚Üë] [‚Üë]  ‚Üí 3 electrones unpaired
        </p>

        <hr style="border:1px dashed #0288D1;">

        <h4>4. Excepciones (Cr, Cu)</h4>
        <ul>
            <li><strong>Cr:</strong> [Ar] ‚Üë‚Üì ‚Üë ‚Üë ‚Üë ‚Üë ‚Üë (4s¬π 3d‚Åµ) ‚Üí medio lleno</li>
            <li><strong>Cu:</strong> [Ar] ‚Üë‚Üì ‚Üë‚Üì ‚Üë‚Üì ‚Üë‚Üì ‚Üë‚Üì ‚Üë‚Üì (4s¬π 3d¬π‚Å∞) ‚Üí d lleno</li>
        </ul>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>N (Z=7)</strong><br>
            1s: [‚Üë‚Üì] &nbsp; 2s: [‚Üë‚Üì] &nbsp; 2p: [‚Üë] [‚Üë] [‚Üë] ‚Üí <strong>Hund</strong></p>
        </div>

        <div class="visual">
            <img src="assets/img/oxygen-fluorine-neon-configuration-orbital-diagram.png" alt="O, F, Ne diagramas">
            <p><em>Diagrama O, F, Ne. Fuente: Chemistry Steps.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/orbital diagrams.jpg" alt="Video tutorial">
            <p><em>Explicaci√≥n visual. Fuente: YouTube.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/configruacion_electronicos.jpg" alt="Primeros 18 elementos">
            <p><em>Box para 1‚Äì18. Fuente: Pathways to Chemistry.</em></p>
        </div>

        <hr style="border:1px dashed #0288D1;">

        <h4>5. SVG Animado: Llenado 1s ‚Üí 2p (H ‚Üí Ne)</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="800" height="500" fill="#E1F5FE"/>

                <!-- T√≠tulo -->
                <text x="400" y="50" fill="#0277BD" font-size="28" text-anchor="middle" font-weight="bold">DIAGRAMA DE ORBITALES</text>

                <!-- 1s -->
                <g id="1s">
                    <rect x="100" y="150" width="60" height="40" fill="#81D4FA" rx="5"/>
                    <text x="130" y="140" fill="#01579B" font-size="14" text-anchor="middle">1s</text>
                    <line x1="115" y1="170" x2="115" y2="160" stroke="#D50000" stroke-width="3" marker-end="url(#arrow-up)">
                        <animate attributeName="opacity" values="0;1" begin="0s" dur="0.5s"/>
                    </line>
                    <line x1="145" y1="160" x2="145" y2="170" stroke="#2962FF" stroke-width="3" marker-end="url(#arrow-down)">
                        <animate attributeName="opacity" values="0;1" begin="0.5s" dur="0.5s"/>
                    </line>
                    <text x="130" y="210" fill="#0277BD" font-size="12" text-anchor="middle">H ‚Üí He</text>
                </g>

                <!-- 2s -->
                <g id="2s" opacity="0">
                    <rect x="250" y="150" width="60" height="40" fill="#4FC3F7" rx="5">
                        <animate attributeName="opacity" values="0;1" begin="1s" dur="0.5s"/>
                    </rect>
                    <text x="280" y="140" fill="#01579B" font-size="14" text-anchor="middle">2s</text>
                    <line x1="265" y1="170" x2="265" y2="160" stroke="#D50000" stroke-width="3" marker-end="url(#arrow-up)">
                        <animate attributeName="opacity" values="0;1" begin="1.5s" dur="0.5s"/>
                    </line>
                    <line x1="295" y1="160" x2="295" y2="170" stroke="#2962FF" stroke-width="3" marker-end="url(#arrow-down)">
                        <animate attributeName="opacity" values="0;1" begin="2s" dur="0.5s"/>
                    </line>
                    <text x="280" y="210" fill="#0277BD" font-size="12" text-anchor="middle">Li ‚Üí Be</text>
                    <animate attributeName="opacity" values="0;1" begin="1s" dur="0.1s"/>
                </g>

                <!-- 2p (3 cajas) -->
                <g id="2p" opacity="0">
                    <!-- p_x -->
                    <rect x="400" y="130" width="50" height="40" fill="#29B6F6" rx="5">
                        <animate attributeName="opacity" values="0;1" begin="2.5s" dur="0.5s"/>
                    </rect>
                    <!-- p_y -->
                    <rect x="460" y="130" width="50" height="40" fill="#29B6F6" rx="5">
                        <animate attributeName="opacity" values="0;1" begin="2.5s" dur="0.5s"/>
                    </rect>
                    <!-- p_z -->
                    <rect x="520" y="130" width="50" height="40" fill="#29B6F6" rx="5">
                        <animate attributeName="opacity" values="0;1" begin="2.5s" dur="0.5s"/>
                    </rect>
                    <text x="495" y="120" fill="#01579B" font-size="14" text-anchor="middle">2p</text>

                    <!-- Llenado B ‚Üí Ne -->
                    <line x1="415" y1="150" x2="415" y2="140" stroke="#D50000" stroke-width="3" marker-end="url(#arrow-up)">
                        <animate attributeName="opacity" values="0;1" begin="3s" dur="0.5s"/>
                    </line>
                    <line x1="475" y1="150" x2="475" y2="140" stroke="#D50000" stroke-width="3" marker-end="url(#arrow-up)">
                        <animate attributeName="opacity" values="0;1" begin="3.5s" dur="0.5s"/>
                    </line>
                    <line x1="535" y1="150" x2="535" y2="140" stroke="#D50000" stroke-width="3" marker-end="url(#arrow-up)">
                        <animate attributeName="opacity" values="0;1" begin="4s" dur="0.5s"/>
                    </line>
                    <!-- Pareado O ‚Üí Ne -->
                    <line x1="415" y1="140" x2="415" y2="150" stroke="#2962FF" stroke-width="3" marker-end="url(#arrow-down)">
                        <animate attributeName="opacity" values="0;1" begin="4.5s" dur="0.5s"/>
                    </line>
                    <line x1="475" y1="140" x2="475" y2="150" stroke="#2962FF" stroke-width="3" marker-end="url(#arrow-down)">
                        <animate attributeName="opacity" values="0;1" begin="5s" dur="0.5s"/>
                    </line>
                    <line x1="535" y1="140" x2="535" y2="150" stroke="#2962FF" stroke-width="3" marker-end="url(#arrow-down)">
                        <animate attributeName="opacity" values="0;1" begin="5.5s" dur="0.5s"/>
                    </line>

                    <text x="495" y="190" fill="#0277BD" font-size="12" text-anchor="middle">B ‚Üí Ne (Hund)</text>
                    <animate attributeName="opacity" values="0;1" begin="2.5s" dur="0.1s"/>
                </g>

                <!-- Hund -->
                <rect x="450" y="300" width="300" height="100" fill="#FFF3E0" rx="15"/>
                <text x="600" y="330" fill="#E65100" font-size="16" text-anchor="middle">REGLA DE HUND</text>
                <text x="600" y="355" fill="#FF6F00" font-size="14" text-anchor="middle">‚Üë ‚Üë ‚Üë antes de parear</text>
                <text x="600" y="375" fill="#E65100" font-size="12" text-anchor="middle">M√°xima multiplicidad</text>

                <!-- Pauli -->
                <text x="400" y="470" fill="#0277BD" font-size="14" text-anchor="middle">Pauli: ‚Üë‚Üì m√°ximo por caja</text>

                <!-- Marcadores -->
                <defs>
                    <marker id="arrow-up" markerWidth="10" markerHeight="10" refX="0" refY="3" orient="auto" markerUnits="strokeWidth">
                        <path d="M0,0 L0,6 L9,3 z" fill="#D50000"/>
                    </marker>
                    <marker id="arrow-down" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
                        <path d="M0,3 L9,0 L9,6 z" fill="#2962FF"/>
                    </marker>
                </defs>
            </svg>
            <p><em>SVG Animado: 1s ‚Üí 2s ‚Üí 2p (H ‚Üí Ne) + Hund.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Diagrama de O (Z=8)', 'respuesta' => '1s‚Üë‚Üì 2s‚Üë‚Üì 2p‚Üë‚Üì ‚Üë ‚Üë'],
        ['enunciado' => 'Diagrama de N (Z=7)', 'respuesta' => '1s‚Üë‚Üì 2s‚Üë‚Üì 2p‚Üë ‚Üë ‚Üë'],
        ['enunciado' => 'Pauli permite por orbital', 'respuesta' => '2 (‚Üë‚Üì)'],

        // === APLICADOS ===
        ['enunciado' => 'Diagrama de F (Z=9)', 'respuesta' => '1s‚Üë‚Üì 2s‚Üë‚Üì 2p‚Üë‚Üì ‚Üë‚Üì ‚Üë'],
        ['enunciado' => 'Diagrama de Ne (Z=10)', 'respuesta' => '1s‚Üë‚Üì 2s‚Üë‚Üì 2p‚Üë‚Üì ‚Üë‚Üì ‚Üë‚Üì'],
        ['enunciado' => 'Hund para 2p¬≥', 'respuesta' => '‚Üë ‚Üë ‚Üë'],

        // === QU√çMICOS ===
        ['enunciado' => 'Diagrama de Cr (excepci√≥n)', 'respuesta' => '4s‚Üë 3d‚Üë ‚Üë ‚Üë ‚Üë ‚Üë'],
        ['enunciado' => 'Diagrama de Cu (excepci√≥n)', 'respuesta' => '4s‚Üë 3d‚Üë‚Üì ‚Üë‚Üì ‚Üë‚Üì ‚Üë‚Üì ‚Üë‚Üì'],
        ['enunciado' => 'Spin up es', 'respuesta' => '+1/2'],

        // === AVANZADOS ===
        ['enunciado' => 'Diagrama de Fe (Z=26)', 'respuesta' => '4s‚Üë‚Üì 3d‚Üë‚Üì ‚Üë‚Üì ‚Üë ‚Üë ‚Üë'],
        ['enunciado' => 'IUPAC: diagrama muestra', 'respuesta' => 'Distribuci√≥n real (con excepciones)'],
        ['enunciado' => 'M√°ximo unpaired en d‚Åµ', 'respuesta' => '5 (‚Üë ‚Üë ‚Üë ‚Üë ‚Üë)']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Diagrama orbital usa...', 'opciones' => ['Cajas y flechas', 'N√∫meros', 'Letras', 'Colores'], 'correcta' => 'Cajas y flechas'],
        ['pregunta' => 'Hund dice...', 'opciones' => ['Unpaired primero', 'Paired primero', 'Aleatorio', 'Nada'], 'correcta' => 'Unpaired primero'],
        ['pregunta' => 'Pauli permite...', 'opciones' => ['2 e‚Åª/caja', '1 e‚Åª/caja', '3 e‚Åª/caja', 'Ilimitado'], 'correcta' => '2 e‚Åª/caja'],
        ['pregunta' => 'Ne tiene...', 'opciones' => ['Todo paired', 'Unpaired', 'Mitad', 'Nada'], 'correcta' => 'Todo paired'],
        ['pregunta' => 'C tiene en 2p...', 'opciones' => ['2 unpaired', '1 unpaired', '0 unpaired', '3 unpaired'], 'correcta' => '2 unpaired'],
        ['pregunta' => 'N tiene en 2p...', 'opciones' => ['3 unpaired', '2 unpaired', '1 unpaired', '0'], 'correcta' => '3 unpaired'],
        ['pregunta' => 'Flecha ‚Üë es spin...', 'opciones' => ['+1/2', '‚àí1/2', '0', '+1'], 'correcta' => '+1/2'],
        ['pregunta' => 'Flecha ‚Üì es spin...', 'opciones' => ['‚àí1/2', '+1/2', '0', '‚àí1'], 'correcta' => '‚àí1/2'],
        ['pregunta' => 'Subnivel p tiene...', 'opciones' => ['3 cajas', '1 caja', '5 cajas', '7 cajas'], 'correcta' => '3 cajas'],
        ['pregunta' => 'Subnivel d tiene...', 'opciones' => ['5 cajas', '3 cajas', '1 caja', '7 cajas'], 'correcta' => '5 cajas'],

        // === MEDIO (10) ===
        ['pregunta' => 'O tiene en 2p...', 'opciones' => ['2 unpaired', '1 unpaired', '3 unpaired', '0'], 'correcta' => '2 unpaired'],
        ['pregunta' => 'F tiene en 2p...', 'opciones' => ['1 unpaired', '2 unpaired', '0', '3'], 'correcta' => '1 unpaired'],
        ['pregunta' => 'Cr diagrama 3d...', 'opciones' => ['5 unpaired', '4 unpaired', '6 unpaired', '0'], 'correcta' => '5 unpaired'],
        ['pregunta' => 'Cu diagrama 3d...', 'opciones' => ['Todo paired', '1 unpaired', '5 unpaired', '3'], 'correcta' => 'Todo paired'],
        ['pregunta' => 'Diagrama de S (Z=16)', 'opciones' => ['2p‚Üë‚Üì ‚Üë‚Üì ‚Üë', '2p‚Üë‚Üì ‚Üë ‚Üë', '2p‚Üë ‚Üë ‚Üë', '2p‚Üë‚Üì ‚Üë‚Üì ‚Üë‚Üì'], 'correcta' => '2p‚Üë‚Üì ‚Üë‚Üì ‚Üë'],
        ['pregunta' => 'Diagrama de Cl (Z=17)', 'opciones' => ['3p‚Üë‚Üì ‚Üë‚Üì ‚Üë', '3p‚Üë‚Üì ‚Üë ‚Üë', '3p‚Üë ‚Üë ‚Üë', '3p‚Üë‚Üì ‚Üë‚Üì ‚Üë‚Üì'], 'correcta' => '3p‚Üë‚Üì ‚Üë‚Üì ‚Üë'],
        ['pregunta' => 'M√°ximo unpaired en p‚Å¥', 'opciones' => ['2', '1', '3', '0'], 'correcta' => '2'],
        ['pregunta' => 'IUPAC permite...', 'opciones' => ['Excepciones en diagrama', 'Solo te√≥rico', 'Ninguna', 'Solo s,p'], 'correcta' => 'Excepciones en diagrama'],
        ['pregunta' => 'Diagrama de V (Z=23)', 'opciones' => ['3d‚Üë ‚Üë ‚Üë', '3d‚Üë‚Üì ‚Üë ‚Üë', '3d‚Üë‚Üì ‚Üë‚Üì ‚Üë', '3d‚Üë‚Üì ‚Üë‚Üì ‚Üë‚Üì'], 'correcta' => '3d‚Üë ‚Üë ‚Üë'],
        ['pregunta' => 'Hund maximiza...', 'opciones' => ['Multiplicidad de spin', 'Energ√≠a', 'Masa', 'Volumen'], 'correcta' => 'Multiplicidad de spin'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'Diagrama de Mn¬≤‚Å∫ (Z=25)', 'opciones' => ['3d‚Üë ‚Üë ‚Üë ‚Üë ‚Üë', '3d‚Üë‚Üì ‚Üë ‚Üë ‚Üë', '3d‚Üë‚Üì ‚Üë‚Üì ‚Üë', '3d‚Üë‚Üì ‚Üë‚Üì ‚Üë‚Üì'], 'correcta' => '3d‚Üë ‚Üë ‚Üë ‚Üë ‚Üë'],
        ['pregunta' => 'Diagrama de Co¬≥‚Å∫ (Z=27)', 'opciones' => ['3d‚Üë‚Üì ‚Üë ‚Üë ‚Üë', '3d‚Üë ‚Üë ‚Üë ‚Üë ‚Üë', '3d‚Üë‚Üì ‚Üë‚Üì ‚Üë‚Üì', '3d‚Üë‚Üì ‚Üë‚Üì ‚Üë'], 'correcta' => '3d‚Üë‚Üì ‚Üë ‚Üë ‚Üë'],
        ['pregunta' => 'Diagrama de Ni¬≤‚Å∫ (Z=28)', 'opciones' => ['3d‚Üë‚Üì ‚Üë‚Üì ‚Üë‚Üì ‚Üë‚Üë', '3d‚Üë‚Üì ‚Üë‚Üì ‚Üë‚Üì ‚Üë‚Üì', '3d‚Üë ‚Üë ‚Üë ‚Üë ‚Üë', '3d‚Üë‚Üì ‚Üë ‚Üë ‚Üë'], 'correcta' => '3d‚Üë‚Üì ‚Üë‚Üì ‚Üë‚Üì ‚Üë‚Üë'],
        ['pregunta' => 'M√°ximo unpaired en d‚Å∂ (high spin)', 'opciones' => ['4', '3', '2', '5'], 'correcta' => '4'],
        ['pregunta' => 'Diagrama de Gd (Z=64)', 'opciones' => ['4f‚Üë ‚Üë ‚Üë ‚Üë ‚Üë ‚Üë ‚Üë', '4f‚Üë‚Üì ‚Üë‚Üì ‚Üë‚Üì ‚Üë‚Üì', '4f‚Üë‚Üì ‚Üë ‚Üë ‚Üë ‚Üë', '4f‚Üë ‚Üë ‚Üë ‚Üë ‚Üë'], 'correcta' => '4f‚Üë ‚Üë ‚Üë ‚Üë ‚Üë ‚Üë ‚Üë'],
        ['pregunta' => 'IUPAC: diagrama debe mostrar...', 'opciones' => ['Configuraci√≥n experimental', 'Solo te√≥rica', 'Solo s,p', 'Nada'], 'correcta' => 'Configuraci√≥n experimental'],
        ['pregunta' => 'Diagrama de Pt (Z=78)', 'opciones' => ['5d‚Üë‚Üì ‚Üë‚Üì ‚Üë‚Üì ‚Üë‚Üì ‚Üë', '5d‚Üë‚Üì ‚Üë‚Üì ‚Üë‚Üì ‚Üë‚Üì ‚Üë‚Üì', '5d‚Üë ‚Üë ‚Üë ‚Üë ‚Üë', '5d‚Üë‚Üì ‚Üë‚Üì ‚Üë‚Üì ‚Üë‚Üì'], 'correcta' => '5d‚Üë‚Üì ‚Üë‚Üì ‚Üë‚Üì ‚Üë‚Üì ‚Üë'],
        ['pregunta' => 'Hund aplica a...', 'opciones' => ['p, d, f', 'solo s', 'solo p', 'ninguno'], 'correcta' => 'p, d, f'],
        ['pregunta' => 'Pauli se viola si...', 'opciones' => ['‚Üë‚Üë en misma caja', '‚Üë‚Üì en misma caja', '‚Üë en caja vac√≠a', '‚Üì en caja llena'], 'correcta' => '‚Üë‚Üë en misma caja'],
        ['pregunta' => 'Diagrama de U (Z=92)', 'opciones' => ['5f‚Üë ‚Üë ‚Üë 6d‚Üë', '5f‚Üë‚Üì ‚Üë‚Üì ‚Üë‚Üì', '5f‚Üë ‚Üë ‚Üë ‚Üë', '5f‚Üë‚Üì ‚Üë ‚Üë'], 'correcta' => '5f‚Üë ‚Üë ‚Üë 6d‚Üë']
    ]
];
// ========================================
// MATERIA: QU√çMICA I
// SUBTEMA: Electronegatividad (Pauling, Tendencias, Polaridad, Enlaces, Escalas)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Qu√≠mica I',
    'slug' => 'electronegatividad',
    'titulo' => 'Electronegatividad: El Poder de Atraer Electrones',
    'contenido' => '
        <h3>Electronegatividad</h3>
        <p>La <strong>electronegatividad</strong> mide la <strong>capacidad de un √°tomo para atraer electrones</strong> en un enlace qu√≠mico. Escala de <strong>Pauling</strong>: <strong>F = 4.0</strong> (m√°xima), <strong>Cs = 0.7</strong> (m√≠nima). Determina <strong>polaridad de enlaces</strong> y tipo de enlace.</p>

        <hr style="border:1px dashed #D81B60;">

        <h4>1. Escala de Pauling</h4>
        <table class="table">
            <thead>
                <tr><th>Elemento</th><th>œá (Pauling)</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>F</strong></td><td>4.0</td></tr>
                <tr><td><strong>O</strong></td><td>3.5</td></tr>
                <tr><td><strong>N</strong></td><td>3.0</td></tr>
                <tr><td><strong>Cl</strong></td><td>3.0</td></tr>
                <tr><td><strong>C</strong></td><td>2.5</td></tr>
                <tr><td><strong>H</strong></td><td>2.1</td></tr>
                <tr><td><strong>Na</strong></td><td>0.9</td></tr>
                <tr><td><strong>Cs</strong></td><td>0.7</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #D81B60;">

        <h4>2. Tendencias Peri√≥dicas</h4>
        <ul>
            <li><strong>‚Üí Derecha:</strong> Aumenta (m√°s protones, mismo nivel)</li>
            <li><strong>‚Üì Abajo:</strong> Disminuye (m√°s capas, apantallamiento)</li>
            <li><strong>Excepci√≥n:</strong> Gases nobles (sin œá definida)</li>
        </ul>

        <hr style="border:1px dashed #D81B60;">

        <h4>3. Tipo de Enlace por Œîœá</h4>
        <table class="table">
            <thead>
                <tr><th>Œîœá</th><th>Tipo de Enlace</th><th>Ejemplo</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>0.0 ‚Äì 0.4</strong></td><td>Covalente apolar</td><td>H‚ÄìH (0.0)</td></tr>
                <tr><td><strong>0.4 ‚Äì 1.7</strong></td><td>Covalente polar</td><td>H‚ÄìCl (0.9)</td></tr>
                <tr><td><strong>> 1.7</strong></td><td>I√≥nico</td><td>NaCl (2.1)</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #D81B60;">

        <h4>4. Otras Escalas</h4>
        <ul>
            <li><strong>Mulliken:</strong> œá = (IE + EA)/2</li>
            <li><strong>Allred-Rochow:</strong> Basada en carga efectiva</li>
            <li><strong>Pauling:</strong> Est√°ndar IUPAC</li>
        </ul>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>H‚ÄìF</strong><br>
            œá_H = 2.1, œá_F = 4.0 ‚Üí Œîœá = 1.9 ‚Üí <strong>enlace i√≥nico (muy polar)</strong></p>
        </div>

        <div class="visual">
            <img src="assets/img/electronegativity-chart-periodic-table.jpg" alt="Tabla electronegatividad">
            <p><em>Valores completos. Fuente: Learn With Dr. Scott.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/electronegativity_trends.png" alt="Tendencias">
            <p><em>Gr√°fico de tendencias. Fuente: ChemTalk.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/ElectronegativityTrend2-1024x791.png" alt="Tendencia peri√≥dica">
            <p><em>Tendencia clara. Fuente: Science Notes.</em></p>
        </div>

        <hr style="border:1px dashed #D81B60;">

        <h4>5. SVG Animado: Tendencia + Polaridad (H‚ÇÇ, HCl, NaCl)</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="800" height="500" fill="#FCE4EC"/>

                <!-- T√≠tulo -->
                <text x="400" y="50" fill="#880E4F" font-size="28" text-anchor="middle" font-weight="bold">ELECTRONEGATIVIDAD</text>

                <!-- Tabla Peri√≥dica Mini -->
                <g id="tabla">
                    <rect x="50" y="100" width="300" height="300" fill="#F8BBD0" rx="15"/>
                    <text x="200" y="130" fill="#880E4F" font-size="16" text-anchor="middle">Tendencia</text>
                    <text x="100" y="200" fill="#C2185B" font-size="14">F 4.0</text>
                    <text x="300" y="350" fill="#C2185B" font-size="14">Cs 0.7</text>
                    <line x1="100" y1="180" x2="300" y2="180" stroke="#EC407A" stroke-width="3"/>
                    <text x="200" y="175" fill="#AD1457" font-size="12" text-anchor="middle">‚Üí Aumenta</text>
                    <line x1="200" y1="200" x2="200" y2="350" stroke="#EC407A" stroke-width="3"/>
                    <text x="195" y="270" fill="#AD1457" font-size="12" text-anchor="end">‚Üë Aumenta</text>
                    <animate attributeName="opacity" values="0;1" begin="0s" dur="0.5s"/>
                </g>

                <!-- Enlaces -->
                <g id="enlaces" opacity="0">
                    <!-- H-H -->
                    <circle cx="450" cy="150" r="25" fill="#FFCDD2"/>
                    <text x="450" y="155" fill="#880E4F" font-size="14" text-anchor="middle">H</text>
                    <line x1="475" y1="150" x2="525" y2="150" stroke="#EC407A" stroke-width="4"/>
                    <circle cx="550" cy="150" r="25" fill="#FFCDD2"/>
                    <text x="550" y="155" fill="#880E4F" font-size="14" text-anchor="middle">H</text>
                    <text x="500" y="185" fill="#C2185B" font-size="12" text-anchor="middle">Œîœá = 0 ‚Üí Apolar</text>

                    <!-- H-Cl -->
                    <circle cx="450" cy="250" r="25" fill="#FFCDD2"/>
                    <text x="450" y="255" fill="#880E4F" font-size="14" text-anchor="middle">H</text>
                    <line x1="475" y1="250" x2="525" y2="250" stroke="#EC407A" stroke-width="4" stroke-dasharray="5,5"/>
                    <circle cx="550" cy="250" r="35" fill="#C8E6C9"/>
                    <text x="550" y="255" fill="#2E7D32" font-size="14" text-anchor="middle">Cl</text>
                    <text x="500" y="285" fill="#C2185B" font-size="12" text-anchor="middle">Œîœá = 0.9 ‚Üí Polar</text>

                    <!-- Na-Cl -->
                    <circle cx="450" cy="350" r="40" fill="#BBDEFB"/>
                    <text x="450" y="355" fill="#1E88E5" font-size="14" text-anchor="middle">Na</text>
                    <line x1="490" y1="350" x2="510" y2="350" stroke="#42A5F5" stroke-width="6"/>
                    <circle cx="550" cy="350" r="35" fill="#C8E6C9"/>
                    <text x="550" y="355" fill="#2E7D32" font-size="14" text-anchor="middle">Cl</text>
                    <text x="500" y="385" fill="#C2185B" font-size="12" text-anchor="middle">Œîœá = 2.1 ‚Üí I√≥nico</text>

                    <animate attributeName="opacity" values="0;1" begin="1s" dur="1s"/>
                </g>

                <!-- Pauling -->
                <rect x="450" y="100" width="300" height="100" fill="#FFF3E0" rx="15"/>
                <text x="600" y="130" fill="#E65100" font-size="16" text-anchor="middle">ESCALA PAULING</text>
                <text x="600" y="155" fill="#FF6F00" font-size="14" text-anchor="middle">F = 4.0</text>
                <text x="600" y="175" fill="#E65100" font-size="12" text-anchor="middle">Cs = 0.7</text>

                <!-- IUPAC -->
                <text x="400" y="470" fill="#880E4F" font-size="14" text-anchor="middle">IUPAC 2025: œá_Pauling est√°ndar</text>
            </svg>
            <p><em>SVG Animado: Tendencia + H‚ÇÇ (apolar), HCl (polar), NaCl (i√≥nico).</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Elemento m√°s electronegativo', 'respuesta' => 'F (4.0)'],
        ['enunciado' => 'Elemento menos electronegativo', 'respuesta' => 'Cs (0.7)'],
        ['enunciado' => 'Tendencia en per√≠odo', 'respuesta' => 'Aumenta de izquierda a derecha'],

        // === APLICADOS ===
        ['enunciado' => 'Œîœá en H‚ÄìO', 'respuesta' => '1.4 (polar)'],
        ['enunciado' => 'Œîœá en C‚ÄìC', 'respuesta' => '0 (apolar)'],
        ['enunciado' => 'Œîœá en K‚ÄìF', 'respuesta' => '3.2 (i√≥nico)'],

        // === QU√çMICOS ===
        ['enunciado' => 'Enlace m√°s polar: H‚ÄìF o H‚ÄìCl', 'respuesta' => 'H‚ÄìF (Œîœá=1.9)'],
        ['enunciado' => 'Enlace i√≥nico t√≠pico', 'respuesta' => 'NaCl (Œîœá=2.1)'],
        ['enunciado' => 'œá de Cl', 'respuesta' => '3.0'],

        // === AVANZADOS ===
        ['enunciado' => 'Mulliken: œá =', 'respuesta' => '(IE + EA)/2'],
        ['enunciado' => 'IUPAC recomienda', 'respuesta' => 'Escala Pauling'],
        ['enunciado' => 'Œîœá > 1.7 implica', 'respuesta' => 'Enlace predominantemente i√≥nico']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Electronegatividad mide...', 'opciones' => ['Atracci√≥n por e‚Åª', 'Repulsi√≥n', 'Masa', 'Volumen'], 'correcta' => 'Atracci√≥n por e‚Åª'],
        ['pregunta' => 'Escala est√°ndar', 'opciones' => ['Pauling', 'Mulliken', 'Newton', 'Celsius'], 'correcta' => 'Pauling'],
        ['pregunta' => 'F tiene œá =', 'opciones' => ['4.0', '3.5', '3.0', '2.5'], 'correcta' => '4.0'],
        ['pregunta' => 'Tendencia en grupo', 'opciones' => ['Disminuye abajo', 'Aumenta abajo', 'Igual', 'Variable'], 'correcta' => 'Disminuye abajo'],
        ['pregunta' => 'Tendencia en per√≠odo', 'opciones' => ['Aumenta derecha', 'Disminuye derecha', 'Igual', 'Variable'], 'correcta' => 'Aumenta derecha'],
        ['pregunta' => 'Œîœá = 0 ‚Üí enlace', 'opciones' => ['Apolar', 'Polar', 'I√≥nico', 'Met√°lico'], 'correcta' => 'Apolar'],
        ['pregunta' => 'Œîœá > 1.7 ‚Üí enlace', 'opciones' => ['I√≥nico', 'Apolar', 'Covalente', 'Met√°lico'], 'correcta' => 'I√≥nico'],
        ['pregunta' => 'H‚ÄìCl es', 'opciones' => ['Polar', 'Apolar', 'I√≥nico', 'Met√°lico'], 'correcta' => 'Polar'],
        ['pregunta' => 'Na‚ÄìF es', 'opciones' => ['I√≥nico', 'Polar', 'Apolar', 'Met√°lico'], 'correcta' => 'I√≥nico'],
        ['pregunta' => 'No metales tienen...', 'opciones' => ['Alta œá', 'Baja œá', 'Igual', 'Variable'], 'correcta' => 'Alta œá'],

        // === MEDIO (10) ===
        ['pregunta' => 'Œîœá en O‚ÄìH', 'opciones' => ['1.4', '0.9', '2.1', '0.0'], 'correcta' => '1.4'],
        ['pregunta' => 'Œîœá en C‚ÄìH', 'opciones' => ['0.4', '0.0', '1.9', '2.5'], 'correcta' => '0.4'],
        ['pregunta' => 'Enlace m√°s polar', 'opciones' => ['H‚ÄìF', 'H‚ÄìCl', 'H‚ÄìBr', 'H‚ÄìI'], 'correcta' => 'H‚ÄìF'],
        ['pregunta' => 'œá de N', 'opciones' => ['3.0', '2.5', '3.5', '4.0'], 'correcta' => '3.0'],
        ['pregunta' => 'œá de Li', 'opciones' => ['1.0', '0.7', '2.1', '3.0'], 'correcta' => '1.0'],
        ['pregunta' => 'Mulliken usa', 'opciones' => ['IE + EA', 'Solo IE', 'Solo EA', 'Masa'], 'correcta' => 'IE + EA'],
        ['pregunta' => 'Allred-Rochow basado en', 'opciones' => ['Carga efectiva', 'Radio', 'Masa', 'Volumen'], 'correcta' => 'Carga efectiva'],
        ['pregunta' => 'Polaridad depende de', 'opciones' => ['Œîœá', 'Suma œá', 'Producto', 'Nada'], 'correcta' => 'Œîœá'],
        ['pregunta' => 'Enlace met√°lico tiene', 'opciones' => ['Œîœá ‚âà 0', 'Œîœá > 1.7', 'Œîœá = 1', 'Œîœá < 0'], 'correcta' => 'Œîœá ‚âà 0'],
        ['pregunta' => 'IUPAC define œá como', 'opciones' => ['Pauling', 'Mulliken', 'Cualquier', 'Ninguna'], 'correcta' => 'Pauling'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'Œîœá en Be‚ÄìF', 'opciones' => ['2.4', '1.9', '0.9', '3.3'], 'correcta' => '2.4'],
        ['pregunta' => 'Enlace con Œîœá = 1.8', 'opciones' => ['L√≠mite i√≥nico', 'Polar', 'Apolar', 'Met√°lico'], 'correcta' => 'L√≠mite i√≥nico'],
        ['pregunta' => 'Elemento con œá = 3.5', 'opciones' => ['O', 'F', 'N', 'Cl'], 'correcta' => 'O'],
        ['pregunta' => 'œá de Br', 'opciones' => ['2.8', '3.0', '2.5', '3.5'], 'correcta' => '2.8'],
        ['pregunta' => 'œá de I', 'opciones' => ['2.5', '2.8', '3.0', '2.1'], 'correcta' => '2.5'],
        ['pregunta' => 'Escala m√°s te√≥rica', 'opciones' => ['Mulliken', 'Pauling', 'Allred-Rochow', 'Sanderson'], 'correcta' => 'Mulliken'],
        ['pregunta' => 'Œîœá en Cs‚ÄìF', 'opciones' => ['3.3', '2.1', '1.9', '0.9'], 'correcta' => '3.3'],
        ['pregunta' => 'Enlace H‚ÄìI', 'opciones' => ['Apolar (Œîœá=0.4)', 'Polar', 'I√≥nico', 'Met√°lico'], 'correcta' => 'Apolar (Œîœá=0.4)'],
        ['pregunta' => 'Polaridad m√°xima en', 'opciones' => ['F‚ÄìF', 'H‚ÄìF', 'Na‚ÄìF', 'Cs‚ÄìF'], 'correcta' => 'Cs‚ÄìF'],
        ['pregunta' => 'IUPAC 2025: œá_F =', 'opciones' => ['4.0 (fijo)', '3.98', '4.1', 'variable'], 'correcta' => '4.0 (fijo)']
    ]
];
// ========================================
// MATERIA: QU√çMICA I
// SUBTEMA: Clases de Elementos (Metales, No Metales, Metaloides, Bloques, Grupos)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'Qu√≠mica I',
    'slug' => 'clases-elementos',
    'titulo' => 'Clases de Elementos: Metales, No Metales y Metaloides',
    'contenido' => '
        <h3>Clases de Elementos en la Tabla Peri√≥dica</h3>
        <p>Los elementos se clasifican en <strong>metales</strong>, <strong>no metales</strong> y <strong>metaloides</strong> seg√∫n sus propiedades f√≠sicas y qu√≠micas. Tambi√©n se agrupan en <strong>bloques (s, p, d, f)</strong> y <strong>familias (alcalinos, hal√≥genos, etc.)</strong>.</p>

        <hr style="border:1px dashed #6A1B9A;">

        <h4>1. Clases Principales</h4>
        <table class="table">
            <thead>
                <tr><th>Clase</th><th>Ubicaci√≥n</th><th>Propiedades</th><th>Ejemplos</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Metales</strong></td><td>Izquierda y centro</td><td>Conductores, maleables, d√∫ctiles, brillo</td><td>Fe, Cu, Na, Au</td></tr>
                <tr><td><strong>No Metales</strong></td><td>Derecha (excepto H)</td><td>Aislantes, fr√°giles, opacos</td><td>O, N, Cl, S</td></tr>
                <tr><td><strong>Metaloides</strong></td><td>Frontera (escalera)</td><td>Semiconductores, propiedades intermedias</td><td>Si, Ge, As, Te</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #6A1B9A;">

        <h4>2. Familias Principales (Grupos)</h4>
        <table class="table">
            <thead>
                <tr><th>Familia</th><th>Grupo</th><th>Caracter√≠sticas</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Alcalinos</strong></td><td>1</td><td>1 valencia, muy reactivos</td></tr>
                <tr><td><strong>Alcalinot√©rreos</strong></td><td>2</td><td>2 valencia, reactivos</td></tr>
                <tr><td><strong>Hal√≥genos</strong></td><td>17</td><td>7 valencia, muy electronegativos</td></tr>
                <tr><td><strong>Gases Nobles</strong></td><td>18</td><td>Octeto completo, inertes</td></tr>
                <tr><td><strong>Transici√≥n</strong></td><td>3‚Äì12</td><td>Valencias variables, colores</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #6A1B9A;">

        <h4>3. Bloques Peri√≥dicos</h4>
        <ul>
            <li><strong>Bloque s:</strong> Grupos 1‚Äì2</li>
            <li><strong>Bloque p:</strong> Grupos 13‚Äì18</li>
            <li><strong>Bloque d:</strong> Grupos 3‚Äì12</li>
            <li><strong>Bloque f:</strong> Lantanoides y Act√≠nidos</li>
        </ul>

        <hr style="border:1px dashed #6A1B9A;">

        <h4>4. L√≠nea Divisoria (Escalera de Metaloides)</h4>
        <p>De B a At: <strong>B, Si, Ge, As, Sb, Te</strong> ‚Üí metaloides.</p>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong><br>
            <strong>Cu</strong> ‚Üí metal (conductor, maleable)<br>
            <strong>O</strong> ‚Üí no metal (aislante, gas)<br>
            <strong>Si</strong> ‚Üí metaloide (semiconductor)</p>
        </div>

        <div class="visual">
            <img src="assets/img/metales-nometales-metaloides.jpg" alt="Clasificaci√≥n en tabla">
            <p><em>Colores: metales, no metales, metaloides. Fuente: Science Notes.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/periodica-colores.png" alt="Tabla con colores">
            <p><em>Clasificaci√≥n clara. Fuente: ThoughtCo.</em></p>
        </div>

        <hr style="border:1px dashed #6A1B9A;">

        <h4>5. SVG Animado: Tabla Peri√≥dica + Clasificaci√≥n</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="800" height="500" fill="#E8EAF6"/>

                <!-- T√≠tulo -->
                <text x="400" y="50" fill="#311B92" font-size="28" text-anchor="middle" font-weight="bold">CLASES DE ELEMENTOS</text>

                <!-- Mini Tabla -->
                <g id="tabla">
                    <!-- Metales (izquierda) -->
                    <rect x="50" y="100" width="300" height="250" fill="#90CAF9" opacity="0.4"/>
                    <text x="200" y="130" fill="#1565C0" font-size="16" text-anchor="middle">METALES</text>
                    <text x="200" y="160" fill="#0D47A1" font-size="12" text-anchor="middle">Conductores, brillo</text>

                    <!-- No Metales (derecha) -->
                    <rect x="450" y="100" width="300" height="250" fill="#FFCCBC" opacity="0.4"/>
                    <text x="600" y="130" fill="#E65100" font-size="16" text-anchor="middle">NO METALES</text>
                    <text x="600" y="160" fill="#BF360C" font-size="12" text-anchor="middle">Aislantes, fr√°giles</text>

                    <!-- Escalera Metaloides -->
                    <path d="M 350 100 L 370 120 L 390 140 L 410 160 L 430 180 L 450 200 L 470 220 L 450 240 L 430 260 L 410 280 L 390 300 L 370 320 L 350 340" fill="none" stroke="#7B1FA2" stroke-width="5"/>
                    <text x="400" y="200" fill="#4A148C" font-size="14" text-anchor="middle">METALOIDES</text>
                    <text x="400" y="230" fill="#6A1B9A" font-size="12" text-anchor="middle">Si, Ge, As...</text>

                    <!-- Animaci√≥n aparici√≥n -->
                    <animate attributeName="opacity" values="0;1" begin="0s" dur="1s"/>
                </g>

                <!-- Grupos -->
                <g id="grupos" opacity="0">
                    <!-- Alcalinos -->
                    <rect x="50" y="370" width="80" height="80" fill="#69F0AE" rx="10"/>
                    <text x="90" y="400" fill="#00C853" font-size="12" text-anchor="middle">Alcalinos</text>
                    <text x="90" y="420" fill="#1B5E20" font-size="10" text-anchor="middle">Grupo 1</text>

                    <!-- Hal√≥genos -->
                    <rect x="670" y="370" width="80" height="80" fill="#FF8A80" rx="10"/>
                    <text x="710" y="400" fill="#D50000" font-size="12" text-anchor="middle">Hal√≥genos</text>
                    <text x="710" y="420" fill="#B71C1C" font-size="10" text-anchor="middle">Grupo 17</text>

                    <!-- Gases Nobles -->
                    <rect x="350" y="370" width="100" height="80" fill="#B9F6CA" rx="10"/>
                    <text x="400" y="400" fill="#00C853" font-size="12" text-anchor="middle">Gases Nobles</text>
                    <text x="400" y="420" fill="#1B5E20" font-size="10" text-anchor="middle">Grupo 18</text>

                    <animate attributeName="opacity" values="0;1" begin="1.5s" dur="1s"/>
                </g>

                <!-- IUPAC -->
                <text x="400" y="470" fill="#311B92" font-size="14" text-anchor="middle">IUPAC 2025: 118 elementos, 7 per√≠odos, 18 grupos</text>
            </svg>
            <p><em>SVG Animado: Metales, No Metales, Metaloides + Familias.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Propiedades de metales', 'respuesta' => 'Conductores, maleables, brillo'],
        ['enunciado' => 'Propiedades de no metales', 'respuesta' => 'Aislantes, fr√°giles, opacos'],
        ['enunciado' => 'Ejemplo de metaloide', 'respuesta' => 'Silicio (Si)'],

        // === APLICADOS ===
        ['enunciado' => 'Grupo de los alcalinos', 'respuesta' => '1'],
        ['enunciado' => 'Grupo de los hal√≥genos', 'respuesta' => '17'],
        ['enunciado' => 'Grupo de los gases nobles', 'respuesta' => '18'],

        // === QU√çMICOS ===
        ['enunciado' => 'Elemento metal en grupo 11', 'respuesta' => 'Cu (cobre)'],
        ['enunciado' => 'No metal en per√≠odo 2', 'respuesta' => 'O (ox√≠geno)'],
        ['enunciado' => 'Metaloide usado en chips', 'respuesta' => 'Silicio'],

        // === AVANZADOS ===
        ['enunciado' => 'Bloque de los lantanoides', 'respuesta' => 'f'],
        ['enunciado' => 'IUPAC: n√∫mero de metaloides', 'respuesta' => '7 (B, Si, Ge, As, Sb, Te, At)'],
        ['enunciado' => 'Elemento transicional t√≠pico', 'respuesta' => 'Fe (hierro)']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Metales est√°n en...', 'opciones' => ['Izquierda', 'Derecha', 'Arriba', 'Abajo'], 'correcta' => 'Izquierda'],
        ['pregunta' => 'No metales en...', 'opciones' => ['Derecha', 'Izquierda', 'Centro', 'Todo'], 'correcta' => 'Derecha'],
        ['pregunta' => 'Metaloides forman...', 'opciones' => ['Escalera', 'C√≠rculo', 'L√≠nea', 'Cuadro'], 'correcta' => 'Escalera'],
        ['pregunta' => 'Alcalinos en grupo...', 'opciones' => ['1', '2', '17', '18'], 'correcta' => '1'],
        ['pregunta' => 'Hal√≥genos en grupo...', 'opciones' => ['17', '1', '18', '2'], 'correcta' => '17'],
        ['pregunta' => 'Gases nobles en grupo...', 'opciones' => ['18', '17', '1', '2'], 'correcta' => '18'],
        ['pregunta' => 'Ejemplo de metal', 'opciones' => ['Fe', 'O', 'Si', 'He'], 'correcta' => 'Fe'],
        ['pregunta' => 'Ejemplo de no metal', 'opciones' => ['Cl', 'Na', 'Al', 'Si'], 'correcta' => 'Cl'],
        ['pregunta' => 'Ejemplo de metaloide', 'opciones' => ['Ge', 'Cu', 'N', 'Ne'], 'correcta' => 'Ge'],
        ['pregunta' => 'Metales son...', 'opciones' => ['Conductores', 'Aislantes', 'Fr√°giles', 'Opacos'], 'correcta' => 'Conductores'],

        // === MEDIO (10) ===
        ['pregunta' => 'Bloque s incluye...', 'opciones' => ['Grupos 1‚Äì2', '13‚Äì18', '3‚Äì12', 'Lantanoides'], 'correcta' => 'Grupos 1‚Äì2'],
        ['pregunta' => 'Bloque p incluye...', 'opciones' => ['13‚Äì18', '1‚Äì2', '3‚Äì12', 'f'], 'correcta' => '13‚Äì18'],
        ['pregunta' => 'Bloque d es...', 'opciones' => ['Transici√≥n', 'Alcalinos', 'Hal√≥genos', 'Nobles'], 'correcta' => 'Transici√≥n'],
        ['pregunta' => 'Lantanoides son bloque...', 'opciones' => ['f', 'd', 'p', 's'], 'correcta' => 'f'],
        ['pregunta' => 'N√∫mero de metaloides', 'opciones' => ['7', '5', '10', '3'], 'correcta' => '7'],
        ['pregunta' => 'H es...', 'opciones' => ['No metal', 'Metal', 'Metaloide', 'Noble'], 'correcta' => 'No metal'],
        ['pregunta' => 'Au es...', 'opciones' => ['Metal', 'No metal', 'Metaloide', 'Gas'], 'correcta' => 'Metal'],
        ['pregunta' => 'As es...', 'opciones' => ['Metaloide', 'Metal', 'No metal', 'Noble'], 'correcta' => 'Metaloide'],
        ['pregunta' => 'IUPAC reconoce...', 'opciones' => ['118 elementos', '100', '92', '150'], 'correcta' => '118 elementos'],
        ['pregunta' => 'Per√≠odo m√°s largo', 'opciones' => ['6 y 7', '1', '2', '3'], 'correcta' => '6 y 7'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'Elemento 118 (Og) es...', 'opciones' => ['Gas noble', 'Metal', 'No metal', 'Metaloide'], 'correcta' => 'Gas noble'],
        ['pregunta' => 'Elemento con Z=50 (Sn)', 'opciones' => ['Metal', 'Metaloide', 'No metal', 'Noble'], 'correcta' => 'Metal'],
        ['pregunta' => 'Elemento con Z=33 (As)', 'opciones' => ['Metaloide', 'Metal', 'No metal', 'Noble'], 'correcta' => 'Metaloide'],
        ['pregunta' => 'Bloque de U (Z=92)', 'opciones' => ['f', 'd', 'p', 's'], 'correcta' => 'f'],
        ['pregunta' => 'Grupo de Cr', 'opciones' => ['6', '1', '17', '18'], 'correcta' => '6'],
        ['pregunta' => 'Familia de Mg', 'opciones' => ['Alcalinot√©rreos', 'Alcalinos', 'Hal√≥genos', 'Nobles'], 'correcta' => 'Alcalinot√©rreos'],
        ['pregunta' => 'Elemento transicional con valencia +7', 'opciones' => ['Mn', 'Na', 'Cl', 'He'], 'correcta' => 'Mn'],
        ['pregunta' => 'IUPAC: metaloides oficiales', 'opciones' => ['B, Si, Ge, As, Sb, Te', 'Solo Si', 'Todos', 'Ninguno'], 'correcta' => 'B, Si, Ge, As, Sb, Te'],
        ['pregunta' => 'Per√≠odo con m√°s metales', 'opciones' => ['6', '1', '2', '7'], 'correcta' => '6'],
        ['pregunta' => 'Clasificaci√≥n basada en...', 'opciones' => ['Propiedades f√≠sicas/qu√≠micas', 'Masa', 'Color', 'Olor'], 'correcta' => 'Propiedades f√≠sicas/qu√≠micas']
    ]
];
// ========================================
// MATERIA: F√çSICA I
// SUBTEMA: Energ√≠a, Conservaci√≥n, Formas, Transformaciones, Ejemplos, Trabajo, Eficiencia
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'F√≠sica I',
    'slug' => 'energia-conservacion-ejemplos',
    'titulo' => 'Energ√≠a: La Moneda Universal del Universo',
    'contenido' => '
        <h3>¬øQu√© es la Energ√≠a?</h3>
        <p>La <strong>energ√≠a</strong> es la <strong>capacidad de realizar trabajo</strong> o producir cambio. Se mide en <strong>joules (J)</strong> en el SI. <strong>Ley de conservaci√≥n:</strong> en un sistema aislado, la <strong>energ√≠a total es constante</strong>.</p>

        <p>\[
            E_{\\text{inicial}} = E_{\\text{final}} \\quad \\Rightarrow \\quad E_{\\text{total}} = \\text{constante}
        \]</p>

        <hr style="border:1px dashed #1976D2;">

        <h4>1. Formas de Energ√≠a</h4>
        <table class="table">
            <thead>
                <tr><th>Forma</th><th>F√≥rmula</th><th>Ejemplo</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Cin√©tica</strong></td><td>\\(E_k = \\frac{1}{2}mv^2\\)</td><td>Auto en movimiento</td></tr>
                <tr><td><strong>Potencial gravitatoria</strong></td><td>\\(E_p = mgh\\)</td><td>Libro en estante</td></tr>
                <tr><td><strong>El√°stica</strong></td><td>\\(E_e = \\frac{1}{2}kx^2\\)</td><td>Resorte comprimido</td></tr>
                <tr><td><strong>T√©rmica</strong></td><td>Q (calor)</td><td>Agua caliente</td></tr>
                <tr><td><strong>El√©ctrica</strong></td><td>\\(E = qV\\)</td><td>Bater√≠a</td></tr>
                <tr><td><strong>Qu√≠mica</strong></td><td>Enlaces</td><td>Gasolina</td></tr>
                <tr><td><strong>Nuclear</strong></td><td>\\(E = mc^2\\)</td><td>Uranio</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #1976D2;">

        <h4>2. Ley de Conservaci√≥n</h4>
        <ul>
            <li><strong>Sistema aislado:</strong> sin interacci√≥n externa</li>
            <li><strong>Transformaci√≥n:</strong> una forma ‚Üí otra</li>
            <li><strong>Trabajo = transferencia de energ√≠a</strong></li>
        </ul>

        <p>\[
            W = \\Delta E = E_f - E_i
        \]</p>

        <hr style="border:1px dashed #1976D2;">

        <h4>3. Ejemplos Cl√°sicos</h4>
        <ul>
            <li><strong>Monta√±a rusa:</strong> \(E_p \\rightarrow E_k\) (punto alto ‚Üí bajo)</li>
            <li><strong>P√©ndulo:</strong> \(E_k \\leftrightarrow E_p\)</li>
            <li><strong>Bombilla:</strong> el√©ctrica ‚Üí luz + t√©rmica</li>
        </ul>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Ca√≠da libre</strong><br>
            Objeto de 2 kg cae 10 m:<br>
            \(E_{p_i} = mgh = 2 \\cdot 9.8 \\cdot 10 = 196\\,\\text{J}\)<br>
            Al suelo: \(E_{k_f} = 196\\,\\text{J}\) ‚Üí conservada</p>
        </div>

        <div class="visual">
            <img src="assets/img/conservacion-energia.jpg" alt="Diagrama conservaci√≥n">
            <p><em>Transformaciones. Fuente: EIA.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/formula.gif" alt="Monta√±a rusa">
            <p><em>E_p ‚Üí E_k. Fuente: Physics Classroom.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/transformacion-de-la-energia.jpg" alt="Transformaciones">
            <p><em>Ejemplos reales. Fuente: Science Buddies.</em></p>
        </div>

        <hr style="border:1px dashed #1976D2;">

        <h4>4. SVG Animado: P√©ndulo + Conservaci√≥n</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="800" height="500" fill="#E3F2FD"/>

                <!-- T√≠tulo -->
                <text x="400" y="50" fill="#0D47A1" font-size="28" text-anchor="middle" font-weight="bold">CONSERVACI√ìN DE ENERG√çA</text>

                <!-- P√©ndulo -->
                <g id="pendulo">
                    <line x1="400" y1="100" x2="400" y2="150" stroke="#1976D2" stroke-width="4"/>
                    <circle cx="400" cy="150" r="15" fill="#42A5F5"/>
                    <text x="400" y="180" fill="#1565C0" font-size="14" text-anchor="middle">m</text>

                    <!-- Movimiento -->
                    <g id="mov">
                        <line x1="400" y1="100" x2="300" y2="250" stroke="#1976D2" stroke-width="4">
                            <animate attributeName="x2" values="300;500;400" dur="3s" repeatCount="indefinite"/>
                            <animate attributeName="y2" values="250;250;150" dur="3s" repeatCount="indefinite"/>
                        </line>
                        <circle cx="300" cy="250" r="20" fill="#42A5F5">
                            <animate attributeName="cx" values="300;500;400" dur="3s" repeatCount="indefinite"/>
                            <animate attributeName="cy" values="250;250;150" dur="3s" repeatCount="indefinite"/>
                        </circle>
                    </g>

                    <!-- Energ√≠a -->
                    <rect x="100" y="300" width="200" height="120" fill="#BBDEFB" rx="15"/>
                    <text x="200" y="330" fill="#1565C0" font-size="16" text-anchor="middle">E_p = mgh</text>
                    <text x="200" y="360" fill="#0D47A1" font-size="14" text-anchor="middle">E_k = ¬Ωmv¬≤</text>
                    <text x="200" y="390" fill="#1976D2" font-size="14" text-anchor="middle">E_total = cte</text>

                    <rect x="500" y="300" width="200" height="120" fill="#C8E6C9" rx="15"/>
                    <text x="600" y="330" fill="#2E7D32" font-size="16" text-anchor="middle">Ejemplos</text>
                    <text x="600" y="360" fill="#1B5E20" font-size="12" text-anchor="middle">‚Ä¢ Monta√±a rusa</text>
                    <text x="600" y="380" fill="#1B5E20" font-size="12" text-anchor="middle">‚Ä¢ P√©ndulo</text>
                    <text x="600" y="400" fill="#1B5E20" font-size="12" text-anchor="middle">‚Ä¢ Bombilla</text>
                </g>

                <!-- F√≥rmula -->
                <text x="400" y="470" fill="#0D47A1" font-size="14" text-anchor="middle">SI 2025: 1 J = 1 N¬∑m = 1 kg¬∑m¬≤/s¬≤</text>
            </svg>
            <p><em>SVG Animado: P√©ndulo + E_p ‚Üî E_k + ejemplos.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Define energ√≠a', 'respuesta' => 'Capacidad para realizar trabajo'],
        ['enunciado' => 'Unidad de energ√≠a', 'respuesta' => 'Joule (J)'],
        ['enunciado' => 'Ley de conservaci√≥n', 'respuesta' => 'Energ√≠a no se crea ni destruye, se transforma'],

        // === APLICADOS ===
        ['enunciado' => 'E_k de 2 kg a 5 m/s', 'respuesta' => '25 J'],
        ['enunciado' => 'E_p de 1 kg a 10 m', 'respuesta' => '98 J'],
        ['enunciado' => 'Transformaci√≥n en ca√≠da libre', 'respuesta' => 'E_p ‚Üí E_k'],

        // === QU√çMICOS/F√çSICOS ===
        ['enunciado' => 'Energ√≠a en gasolina', 'respuesta' => 'Qu√≠mica'],
        ['enunciado' => 'Energ√≠a en bater√≠a', 'respuesta' => 'El√©ctrica'],
        ['enunciado' => 'Energ√≠a en sol', 'respuesta' => 'Nuclear (fusi√≥n)'],

        // === AVANZADOS ===
        ['enunciado' => 'Eficiencia = (E_salida / E_entrada) √ó 100%', 'respuesta' => 'F√≥rmula eficiencia'],
        ['enunciado' => 'SI: 1 kWh =', 'respuesta' => '3.6 MJ'],
        ['enunciado' => 'Trabajo = F √ó d √ó cosŒ∏', 'respuesta' => 'F√≥rmula trabajo']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Energ√≠a es...', 'opciones' => ['Capacidad para trabajo', 'Fuerza', 'Velocidad', 'Masa'], 'correcta' => 'Capacidad para trabajo'],
        ['pregunta' => 'Unidad SI', 'opciones' => ['Joule', 'Newton', 'Watt', 'Pascal'], 'correcta' => 'Joule'],
        ['pregunta' => 'Ley de conservaci√≥n', 'opciones' => ['E total constante', 'E aumenta', 'E disminuye', 'E se pierde'], 'correcta' => 'E total constante'],
        ['pregunta' => 'E_cin√©tica depende de...', 'opciones' => ['m y v', 'solo m', 'solo v', 'h'], 'correcta' => 'm y v'],
        ['pregunta' => 'E_potencial depende de...', 'opciones' => ['m, g, h', 'solo m', 'solo v', 'F'], 'correcta' => 'm, g, h'],
        ['pregunta' => 'En sistema aislado...', 'opciones' => ['E constante', 'E var√≠a', 'E = 0', 'E infinita'], 'correcta' => 'E constante'],
        ['pregunta' => 'Trabajo =', 'opciones' => ['F √ó d √ó cosŒ∏', 'm √ó a', '¬Ωmv¬≤', 'mgh'], 'correcta' => 'F √ó d √ó cosŒ∏'],
        ['pregunta' => 'Energ√≠a qu√≠mica en...', 'opciones' => ['Combusti√≥n', 'Movimiento', 'Altura', 'Velocidad'], 'correcta' => 'Combusti√≥n'],
        ['pregunta' => 'P√©ndulo convierte...', 'opciones' => ['E_p ‚Üî E_k', 'E_k ‚Üí E_t√©rmica', 'E_e ‚Üí E_p', 'E_nuclear'], 'correcta' => 'E_p ‚Üî E_k'],
        ['pregunta' => '1 J =', 'opciones' => ['1 N¬∑m', '1 kg¬∑m/s', '1 W¬∑s', '1 kg'], 'correcta' => '1 N¬∑m'],

        // === MEDIO (10) ===
        ['pregunta' => 'E_k de 4 kg a 3 m/s', 'opciones' => ['18 J', '12 J', '24 J', '36 J'], 'correcta' => '18 J'],
        ['pregunta' => 'E_p de 5 kg a 20 m', 'opciones' => ['980 J', '100 J', '490 J', '1960 J'], 'correcta' => '980 J'],
        ['pregunta' => 'En bombilla, E_el√©ctrica ‚Üí', 'opciones' => ['Luz + t√©rmica', 'Solo luz', 'Solo cin√©tica', 'Nuclear'], 'correcta' => 'Luz + t√©rmica'],
        ['pregunta' => 'Eficiencia =', 'opciones' => ['(E_salida / E_entrada) √ó 100%', 'E_entrada / E_salida', 'E_total', 'W / t'], 'correcta' => '(E_salida / E_entrada) √ó 100%'],
        ['pregunta' => '1 kWh =', 'opciones' => ['3.6 MJ', '1 MJ', '3.6 kJ', '36 MJ'], 'correcta' => '3.6 MJ'],
        ['pregunta' => 'Energ√≠a nuclear en...', 'opciones' => ['Fusi√≥n/fisi√≥n', 'Combusti√≥n', 'Ca√≠da', 'Resorte'], 'correcta' => 'Fusi√≥n/fisi√≥n'],
        ['pregunta' => 'Monta√±a rusa: punto m√°s alto', 'opciones' => ['M√°x E_p', 'M√°x E_k', 'E = 0', 'E t√©rmica'], 'correcta' => 'M√°x E_p'],
        ['pregunta' => 'Monta√±a rusa: punto m√°s bajo', 'opciones' => ['M√°x E_k', 'M√°x E_p', 'E = 0', 'E qu√≠mica'], 'correcta' => 'M√°x E_k'],
        ['pregunta' => 'Potencia =', 'opciones' => ['W / t', 'F √ó d', '¬Ωmv¬≤', 'mgh'], 'correcta' => 'W / t'],
        ['pregunta' => 'SI: potencia en', 'opciones' => ['Watt (W)', 'Joule', 'Newton', 'Pascal'], 'correcta' => 'Watt (W)'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'Objeto 1 kg, v = 10 m/s ‚Üí E_k =', 'opciones' => ['50 J', '100 J', '25 J', '500 J'], 'correcta' => '50 J'],
        ['pregunta' => 'Resorte k=200 N/m, x=0.1 m ‚Üí E_e =', 'opciones' => ['1 J', '2 J', '0.5 J', '10 J'], 'correcta' => '1 J'],
        ['pregunta' => 'Eficiencia 75%, E_entrada=400 J ‚Üí E_salida=', 'opciones' => ['300 J', '100 J', '533 J', '75 J'], 'correcta' => '300 J'],
        ['pregunta' => 'Trabajo de 50 N en 2 m, Œ∏=0¬∞ ‚Üí W=', 'opciones' => ['100 J', '50 J', '25 J', '0 J'], 'correcta' => '100 J'],
        ['pregunta' => 'Œ∏=90¬∞ ‚Üí W=', 'opciones' => ['0 J', 'F√ód', '¬ΩFd', 'Fd¬≤'], 'correcta' => '0 J'],
        ['pregunta' => 'Energ√≠a disipada por fricci√≥n', 'opciones' => ['T√©rmica', 'Cin√©tica', 'Potencial', 'El√©ctrica'], 'correcta' => 'T√©rmica'],
        ['pregunta' => 'Principio fundamental', 'opciones' => ['Conservaci√≥n E', 'Conservaci√≥n masa', 'Inercia', 'Aceleraci√≥n'], 'correcta' => 'Conservaci√≥n E'],
        ['pregunta' => 'E = mc¬≤ es...', 'opciones' => ['Equivalencia masa-energ√≠a', 'Cin√©tica', 'Potencial', 'El√©ctrica'], 'correcta' => 'Equivalencia masa-energ√≠a'],
        ['pregunta' => 'En reactor nuclear', 'opciones' => ['Fisi√≥n', 'Fusi√≥n', 'Combusti√≥n', 'Ca√≠da'], 'correcta' => 'Fisi√≥n'],
        ['pregunta' => 'SI 2025: 1 eV =', 'opciones' => ['1.6 √ó 10‚Åª¬π‚Åπ J', '1 J', '1 MJ', '1 kJ'], 'correcta' => '1.6 √ó 10‚Åª¬π‚Åπ J']
    ]
];
// ========================================
// MATERIA: F√çSICA I
// SUBTEMA: Tipos de Energ√≠a, Fuentes, Transformaciones, Eficiencia, Sostenibilidad
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'F√≠sica I',
    'slug' => 'tipos-energia-transformaciones',
    'titulo' => 'Tipos de Energ√≠a: De la Fuente a la Transformaci√≥n',
    'contenido' => '
        <h3>Tipos de Energ√≠a y sus Transformaciones</h3>
        <p>La energ√≠a se presenta en m√∫ltiples formas y se transforma de una a otra. Fuentes renovables y no renovables. <strong>Ley de conservaci√≥n:</strong> \( E_{\\text{total}} = \\text{cte} \).</p>

        <hr style="border:1px dashed #388E3C;">

        <h4>1. Clasificaci√≥n Principal</h4>
        <table class="table">
            <thead>
                <tr><th>Tipo</th><th>F√≥rmula/Ejemplo</th><th>Fuente</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Mec√°nica</strong></td><td>\(E_k = \\frac{1}{2}mv^2\), \(E_p = mgh\)</td><td>Movimiento, altura</td></tr>
                <tr><td><strong>T√©rmica</strong></td><td>Q = mc\\Delta T</td><td>Calor interno</td></tr>
                <tr><td><strong>Qu√≠mica</strong></td><td>Enlaces</td><td>Combustibles, alimentos</td></tr>
                <tr><td><strong>El√©ctrica</strong></td><td>\(E = qV\)</td><td>Cargas en movimiento</td></tr>
                <tr><td><strong>Nuclear</strong></td><td>\(E = \\Delta mc^2\)</td><td>Fisi√≥n/fusi√≥n</td></tr>
                <tr><td><strong>Radiante</strong></td><td>Ondas EM</td><td>Sol, microondas</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #388E3C;">

        <h4>2. Fuentes de Energ√≠a</h4>
        <table class="table">
            <thead>
                <tr><th>Fuente</th><th>Tipo</th><th>Renovable</th><th>Ejemplo</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Solar</strong></td><td>Radiante</td><td>S√≠</td><td>Paneles fotovoltaicos</td></tr>
                <tr><td><strong>E√≥lica</strong></td><td>Mec√°nica</td><td>S√≠</td><td>Turbinas</td></tr>
                <tr><td><strong>Hidroel√©ctrica</strong></td><td>Mec√°nica/Potencial</td><td>S√≠</td><td>Represas</td></tr>
                <tr><td><strong>Hidr√°ulica</strong></td><td>Mec√°nica</td><td>S√≠</td><td>Flujo de fluidos</td></tr>
                <tr><td><strong>F√≥sil</strong></td><td>Qu√≠mica</td><td>No</td><td>Petr√≥leo, carb√≥n</td></tr>
                <tr><td><strong>Nuclear</strong></td><td>Nuclear</td><td>No (U)</td><td>Reactores</td></tr>
                <tr><td><strong>Biomasa</strong></td><td>Qu√≠mica</td><td>S√≠</td><td>Madera, etanol</td></tr>
                <tr><td><strong>Geot√©rmica</strong></td><td>T√©rmica</td><td>S√≠</td><td>Calor Tierra</td></tr>
                <tr><td><strong>Hidr√≥geno</strong></td><td>Qu√≠mica</td><td>S√≠ (vector)</td><td>Celdas de combustible</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #388E3C;">

        <h4>3. Transformaciones Comunes</h4>
        <ul>
            <li><strong>Solar ‚Üí El√©ctrica:</strong> paneles</li>
            <li><strong>Qu√≠mica ‚Üí T√©rmica ‚Üí Mec√°nica:</strong> motor combusti√≥n</li>
            <li><strong>Nuclear ‚Üí T√©rmica ‚Üí El√©ctrica:</strong> central nuclear</li>
            <li><strong>E√≥lica ‚Üí Mec√°nica ‚Üí El√©ctrica:</strong> aerogenerador</li>
        </ul>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Central hidroel√©ctrica</strong><br>
            \(E_p\) (agua en represa) ‚Üí \(E_k\) (turbina) ‚Üí \(E_{\\text{el√©ctrica}}\) (generador)</p>
        </div>

        <div class="visual">
            <img src="assets/img/cuales-son-los-tipos-de-energia.jpg" alt="Formas de energ√≠a">
            <p><em>Clasificaci√≥n. Fuente: EIA.</em></p>
        </div>

        <hr style="border:1px dashed #388E3C;">

        <h4>4. SVG Animado: Ciclo Energ√©tico (Solar ‚Üí El√©ctrica ‚Üí Mec√°nica)</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="800" height="500" fill="#E8F5E9"/>

                <!-- T√≠tulo -->
                <text x="400" y="50" fill="#1B5E20" font-size="28" text-anchor="middle" font-weight="bold">TRANSFORMACIONES</text>

                <!-- Sol -->
                <g id="solar">
                    <circle cx="150" cy="150" r="40" fill="#FFEB3B">
                        <animate attributeName="r" values="40;45;40" dur="2s" repeatCount="indefinite"/>
                    </circle>
                    <text x="150" y="200" fill="#F57F17" font-size="14" text-anchor="middle">Solar</text>
                    <line x1="190" y1="150" x2="250" y2="150" stroke="#FBC02D" stroke-width="4"/>
                    <text x="220" y="140" fill="#F57F17" font-size="12" text-anchor="middle">Radiante</text>
                </g>

                <!-- Panel -->
                <g id="panel" opacity="0">
                    <rect x="250" y="120" width="100" height="60" fill="#1565C0" rx="5">
                        <animate attributeName="opacity" values="0;1" begin="1s" dur="0.5s"/>
                    </rect>
                    <text x="300" y="150" fill="#0D47A1" font-size="14" text-anchor="middle">Panel FV</text>
                    <line x1="350" y1="150" x2="410" y2="150" stroke="#42A5F5" stroke-width="4"/>
                    <text x="380" y="140" fill="#1976D2" font-size="12" text-anchor="middle">El√©ctrica</text>
                    <animate attributeName="opacity" values="0;1" begin="1s" dur="0.1s"/>
                </g>

                <!-- Motor -->
                <g id="motor" opacity="0">
                    <circle cx="450" cy="150" r="30" fill="#43A047"/>
                    <text x="450" y="155" fill="#E8F5E9" font-size="12" text-anchor="middle">Motor</text>
                    <path d="M480 150 L520 130 M480 150 L520 170" stroke="#2E7D32" stroke-width="4"/>
                    <text x="540" y="150" fill="#1B5E20" font-size="14" text-anchor="middle">Mec√°nica</text>
                    <animate attributeName="opacity" values="0;1" begin="2s" dur="0.5s"/>
                </g>

                <!-- Eficiencia -->
                <rect x="100" y="300" width="600" height="120" fill="#C8E6C9" rx="15"/>
                <text x="400" y="330" fill="#2E7D32" font-size="16" text-anchor="middle">EFICIENCIA</text>
                <text x="400" y="360" fill="#1B5E20" font-size="12" text-anchor="middle">Panel FV: ~20%</text>
                <text x="400" y="380" fill="#1B5E20" font-size="12" text-anchor="middle">Motor: ~30-40%</text>
                <text x="400" y="400" fill="#1B5E20" font-size="12" text-anchor="middle">Total: ~6-8%</text>

                <!-- Fuentes -->
                <text x="400" y="470" fill="#1B5E20" font-size="14" text-anchor="middle">SI 2025: 1 TJ = 10¬π¬≤ J | Renovables >50% global (proyecci√≥n)</text>
            </svg>
            <p><em>SVG Animado: Solar ‚Üí El√©ctrica ‚Üí Mec√°nica + Eficiencia.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Transformaci√≥n en panel solar', 'respuesta' => 'Radiante -> El√©ctrica'],
        ['enunciado' => 'Fuente f√≥sil ejemplo', 'respuesta' => 'Petr√≥leo (qu√≠mica -> t√©rmica)'],
        ['enunciado' => 'Nuclear transformaci√≥n t√≠pica', 'respuesta' => 'Nuclear -> T√©rmica -> El√©ctrica'],

        // === APLICADOS ===
        ['enunciado' => 'E√≥lica -> ?', 'respuesta' => 'Mec√°nica -> El√©ctrica'],
        ['enunciado' => 'Biomasa -> ?', 'respuesta' => 'Qu√≠mica -> T√©rmica'],
        ['enunciado' => 'Geot√©rmica -> ?', 'respuesta' => 'T√©rmica -> El√©ctrica'],

        // === SOSTENIBILIDAD ===
        ['enunciado' => 'Hidr√≥geno como', 'respuesta' => 'Vector energ√©tico (no fuente)'],
        ['enunciado' => 'Renovable: solar, e√≥lica, hidro, biomasa, geot√©rmica', 'respuesta' => 'S√≠'],
        ['enunciado' => 'No renovable: f√≥sil, nuclear (U)', 'respuesta' => 'S√≠'],

        // === AVANZADOS ===
        ['enunciado' => 'Eficiencia t√≠pica panel FV', 'respuesta' => '~15-22%'],
        ['enunciado' => '1 MWh =', 'respuesta' => '3.6 GJ'],
        ['enunciado' => 'Cadena completa: carb√≥n -> electricidad', 'respuesta' => 'Qu√≠mica -> T√©rmica -> Mec√°nica -> El√©ctrica (~35%)']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Energ√≠a solar es...', 'opciones' => ['Radiante', 'Qu√≠mica', 'Nuclear', 'Mec√°nica'], 'correcta' => 'Radiante'],
        ['pregunta' => 'E√≥lica proviene de...', 'opciones' => ['Viento', 'Sol', 'Agua', 'Tierra'], 'correcta' => 'Viento'],
        ['pregunta' => 'Nuclear de...', 'opciones' => ['N√∫cleo', 'Enlaces', 'Electrones', 'Movimiento'], 'correcta' => 'N√∫cleo'],
        ['pregunta' => 'F√≥sil es...', 'opciones' => ['No renovable', 'Renovable', 'Nuclear', 'Solar'], 'correcta' => 'No renovable'],
        ['pregunta' => 'Hidroel√©ctrica usa...', 'opciones' => ['Agua', 'Viento', 'Sol', 'Carb√≥n'], 'correcta' => 'Agua'],
        ['pregunta' => 'Panel solar convierte...', 'opciones' => ['Solar -> El√©ctrica', 'El√©ctrica -> Solar', 'T√©rmica -> El√©ctrica', 'Mec√°nica -> Solar'], 'correcta' => 'Solar -> El√©ctrica'],
        ['pregunta' => 'Biomasa es...', 'opciones' => ['Renovable', 'No renovable', 'Nuclear', 'F√≥sil'], 'correcta' => 'Renovable'],
        ['pregunta' => 'Geot√©rmica usa...', 'opciones' => ['Calor Tierra', 'Viento', 'Sol', 'Agua'], 'correcta' => 'Calor Tierra'],
        ['pregunta' => 'Hidr√≥geno es...', 'opciones' => ['Vector energ√©tico', 'Fuente primaria', 'No renovable', 'Nuclear'], 'correcta' => 'Vector energ√©tico'],
        ['pregunta' => 'Motor combusti√≥n: qu√≠mica ->', 'opciones' => ['T√©rmica -> Mec√°nica', 'El√©ctrica', 'Radiante', 'Nuclear'], 'correcta' => 'T√©rmica -> Mec√°nica'],

        // === MEDIO (10) ===
        ['pregunta' => 'Central nuclear: nuclear ->', 'opciones' => ['T√©rmica -> El√©ctrica', 'El√©ctrica -> T√©rmica', 'Mec√°nica -> El√©ctrica', 'Solar'], 'correcta' => 'T√©rmica -> El√©ctrica'],
        ['pregunta' => 'Turbina e√≥lica: mec√°nica ->', 'opciones' => ['El√©ctrica', 'T√©rmica', 'Qu√≠mica', 'Radiante'], 'correcta' => 'El√©ctrica'],
        ['pregunta' => 'Eficiencia t√≠pica carb√≥n', 'opciones' => ['~35%', '80%', '10%', '100%'], 'correcta' => '~35%'],
        ['pregunta' => 'Eficiencia panel FV', 'opciones' => ['~20%', '80%', '5%', '100%'], 'correcta' => '~20%'],
        ['pregunta' => '1 TJ =', 'opciones' => ['10¬π¬≤ J', '10‚Å∂ J', '10‚Åπ J', '10¬≥ J'], 'correcta' => '10¬π¬≤ J'],
        ['pregunta' => 'Renovable con m√°s capacidad global', 'opciones' => ['Hidroel√©ctrica', 'Solar', 'E√≥lica', 'Nuclear'], 'correcta' => 'Hidroel√©ctrica'],
        ['pregunta' => 'Combustible con m√°s CO‚ÇÇ', 'opciones' => ['Carb√≥n', 'Solar', 'E√≥lica', 'Hidr√≥geno'], 'correcta' => 'Carb√≥n'],
        ['pregunta' => 'Hidr√≥geno se produce por', 'opciones' => ['Electr√≥lisis', 'Combusti√≥n', 'Fotos√≠ntesis', 'Fisi√≥n'], 'correcta' => 'Electr√≥lisis'],
        ['pregunta' => 'Energ√≠a radiante incluye...', 'opciones' => ['Luz, microondas', 'Sonido', 'Movimiento', 'Calor'], 'correcta' => 'Luz, microondas'],
        ['pregunta' => 'Central t√©rmica f√≥sil usa...', 'opciones' => ['Ciclo Rankine', 'Ciclo Otto', 'Ciclo Brayton', 'Ciclo Stirling'], 'correcta' => 'Ciclo Rankine'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'Eficiencia m√°xima te√≥rica motor t√©rmico', 'opciones' => ['Carnot', '100%', '50%', 'Rankine'], 'correcta' => 'Carnot'],
        ['pregunta' => 'Central nuclear eficiencia t√≠pica', 'opciones' => ['~33%', '90%', '10%', '60%'], 'correcta' => '~33%'],
        ['pregunta' => 'Hidr√≥geno verde se obtiene por', 'opciones' => ['Electr√≥lisis con renovables', 'Reforma vapor', 'Gasificaci√≥n', 'Fotos√≠ntesis'], 'correcta' => 'Electr√≥lisis con renovables'],
        ['pregunta' => 'Energ√≠a mareomotriz es...', 'opciones' => ['Mec√°nica (renovable)', 'Nuclear', 'F√≥sil', 'T√©rmica'], 'correcta' => 'Mec√°nica (renovable)'],
        ['pregunta' => '1 GWh =', 'opciones' => ['3.6 TJ', '3.6 GJ', '3.6 MJ', '3.6 kJ'], 'correcta' => '3.6 TJ'],
        ['pregunta' => 'Proyecci√≥n 2050: % renovables', 'opciones' => ['>70%', '<30%', '50%', '100%'], 'correcta' => '>70%'],
        ['pregunta' => 'Fusi√≥n nuclear produce...', 'opciones' => ['He + energ√≠a', 'CO‚ÇÇ', 'U-235', 'H‚ÇÇO'], 'correcta' => 'He + energ√≠a'],
        ['pregunta' => 'Ciclo combinado eficiencia', 'opciones' => ['~60%', '30%', '90%', '20%'], 'correcta' => '~60%'],
        ['pregunta' => 'Energ√≠a osmotica usa...', 'opciones' => ['Gradiente salinidad', 'Viento', 'Sol', 'Calor Tierra'], 'correcta' => 'Gradiente salinidad'],
        ['pregunta' => 'SI 2025: energ√≠a en', 'opciones' => ['Joule', 'Calor√≠a', 'BTU', 'kWh'], 'correcta' => 'Joule']
    ]
];
// ========================================
// MATERIA: F√çSICA I
// SUBTEMA: Fracking (Fracturaci√≥n Hidr√°ulica), F√≠sica, Energ√≠a, Riesgos, Sostenibilidad
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'F√≠sica I',
    'slug' => 'fracking',
    'titulo' => 'Fracking: F√≠sica de la Fracturaci√≥n Hidr√°ulica',
    'contenido' => '
        <h3>Fracking: Extracci√≥n de Energ√≠a F√≥sil</h3>
        <p>El <strong>fracking</strong> (fracturaci√≥n hidr√°ulica) es una t√©cnica para extraer <strong>gas y petr√≥leo de esquisto</strong> inyectando <strong>fluido a alta presi√≥n</strong> (agua, arena, qu√≠micos) para fracturar la roca. Aplica <strong>f√≠sica de fluidos, presi√≥n, energ√≠a</strong> y genera <strong>impactos ambientales</strong>.</p>

        <p>\[
            P = \\frac{F}{A} \\quad \\text{(Ley de Pascal)} \\quad \\Rightarrow \\quad P_{\\text{inyecci√≥n}} \\sim 700\\,\\text{bar}
        \]</p>

        <hr style="border:1px dashed #E65100;">

        <h4>1. Proceso F√≠sico</h4>
        <table class="table">
            <thead>
                <tr><th>Paso</th><th>Descripci√≥n</th><th>F√≠sica</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Perforaci√≥n</strong></td><td>Pozo vertical/horizontal</td><td>Mec√°nica de s√≥lidos</td></tr>
                <tr><td><strong>Inyecci√≥n</strong></td><td>Agua + proppant + qu√≠micos</td><td>Hidrost√°tica, Bernoulli</td></tr>
                <tr><td><strong>Fractura</strong></td><td>Roca se rompe</td><td>Tensi√≥n, m√≥dulo Young</td></tr>
                <tr><td><strong>Flujo</strong></td><td>Gas/petr√≥leo sube</td><td>Darcy, permeabilidad</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #E65100;">

        <h4>2. Composici√≥n del Fluido</h4>
        <ul>
            <li><strong>90% Agua</strong></li>
            <li><strong>9.5% Arena (proppant)</strong></li>
            <li><strong>0.5% Qu√≠micos</strong> (biocidas, reductores fricci√≥n)</li>
        </ul>

        <hr style="border:1px dashed #E65100;">

        <h4>3. Energ√≠a y Eficiencia</h4>
        <ul>
            <li><strong>EROEI:</strong> ~5:1 (5 unidades energ√≠a obtenida por 1 invertida)</li>
            <li><strong>Comparado:</strong> Petr√≥leo convencional ~20:1</li>
        </ul>

        <hr style="border:1px dashed #E65100;">

        <h4>4. Impactos Ambientales</h4>
        <table class="table">
            <thead>
                <tr><th>Riesgo</th><th>Consecuencia</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Contaminaci√≥n agua</strong></td><td>Metano, qu√≠micos en acu√≠feros</td></tr>
                <tr><td><strong>Sismos inducidos</strong></td><td>Magnitud < 3.0 (general)</td></tr>
                <tr><td><strong>Emisiones GHG</strong></td><td>Metano (CH‚ÇÑ) fugas</td></tr>
                <tr><td><strong>Uso agua</strong></td><td>~30 millones L/pozo</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>EE.UU. (Marcellus Shale)</strong><br>
            Producci√≥n gas ‚Üë 400% (2005‚Äì2020), pero <strong>1,000+ casos contaminaci√≥n agua</strong> reportados.</p>
        </div>

        <div class="visual">
            <img src="assets/img/frackingex.jpg" alt="Proceso fracking">
            <p><em>Diagrama t√©cnico. Fuente: EIA.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/etapas-fracking.png" alt="Etapas fracking">
            <p><em>Etapas detalladas. Fuente: UCS.</em></p>
        </div>

        <hr style="border:1px dashed #E65100;">

        <h4>5. SVG Animado: Proceso de Fracking</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="800" height="500" fill="#FFF3E0"/>

                <!-- T√≠tulo -->
                <text x="400" y="50" fill="#E65100" font-size="28" text-anchor="middle" font-weight="bold">FRACKING</text>

                <!-- Capas roca -->
                <g id="roca">
                    <rect x="100" y="100" width="600" height="300" fill="#8D6E63" rx="10"/>
                    <text x="400" y="150" fill="#FFCCBC" font-size="16" text-anchor="middle">ESQUISTO</text>
                    <path d="M150 200 Q200 180 250 200 M300 220 Q350 200 400 220 M450 200 Q500 180 550 200" stroke="#A1887F" stroke-width="3" fill="none"/>
                </g>

                <!-- Pozo -->
                <g id="pozo" opacity="0">
                    <line x1="400" y1="100" x2="400" y2="400" stroke="#37474F" stroke-width="6"/>
                    <text x="410" y="250" fill="#263238" font-size="14">Pozo</text>
                    <animate attributeName="opacity" values="0;1" begin="0.5s" dur="0.5s"/>
                </g>

                <!-- Inyecci√≥n -->
                <g id="inyeccion" opacity="0">
                    <circle cx="400" cy="300" r="40" fill="#1E88E5">
                        <animate attributeName="r" values="0;40;50;40" begin="1.5s" dur="1s" repeatCount="indefinite"/>
                    </circle>
                    <text x="400" y="305" fill="white" font-size="12" text-anchor="middle">700 bar</text>
                    <animate attributeName="opacity" values="0;1" begin="1s" dur="0.5s"/>
                </g>

                <!-- Fracturas -->
                <g id="fracturas" opacity="0">
                    <line x1="300" y1="300" x2="500" y2="300" stroke="#D32F2F" stroke-width="4" stroke-dasharray="5,5">
                        <animate attributeName="stroke-dashoffset" values="0;-10" dur="0.5s" repeatCount="indefinite"/>
                    </line>
                    <line x1="350" y1="250" x2="450" y2="350" stroke="#D32F2F" stroke-width="4" stroke-dasharray="5,5">
                        <animate attributeName="stroke-dashoffset" values="0;-10" dur="0.5s" repeatCount="indefinite"/>
                    </line>
                    <text x="400" y="350" fill="#B71C1C" font-size="14" text-anchor="middle">Fractura</text>
                    <animate attributeName="opacity" values="0;1" begin="2s" dur="0.5s"/>
                </g>

                <!-- Flujo gas -->
                <g id="gas" opacity="0">
                    <circle cx="400" cy="200" r="15" fill="#FFEB3B">
                        <animate attributeName="cy" values="300;200;100" begin="3s" dur="1s"/>
                    </circle>
                    <text x="400" y="100" fill="#FF6F00" font-size="14" text-anchor="middle">Gas ‚Üë</text>
                    <animate attributeName="opacity" values="0;1" begin="3s" dur="0.1s"/>
                </g>

                <!-- Impactos -->
                <rect x="100" y="420" width="600" height="60" fill="#FFCCBC" rx="10"/>
                <text x="400" y="450" fill="#D84315" font-size="14" text-anchor="middle">Riesgos: agua, sismos, CH‚ÇÑ | EROEI ~5:1</text>

                <!-- SI -->
                <text x="400" y="490" fill="#E65100" font-size="12" text-anchor="middle">SI 2025: 1 bar = 10‚Åµ Pa | M√©xico: fracking prohibido (2024)</text>
            </svg>
            <p><em>SVG Animado: Pozo ‚Üí Inyecci√≥n ‚Üí Fractura ‚Üí Flujo + Riesgos.</em></p>
        </div>
    ',
    'ejercicios' => [
        ['enunciado' => 'Fracking extrae de...', 'respuesta' => 'Esquisto (shale)'],
        ['enunciado' => 'Fluido principal', 'respuesta' => 'Agua + arena + qu√≠micos'],
        ['enunciado' => 'Presi√≥n t√≠pica', 'respuesta' => '~700 bar'],
        ['enunciado' => 'EROEI fracking vs petr√≥leo convencional', 'respuesta' => '5:1 vs 20:1'],
        ['enunciado' => 'Agua por pozo', 'respuesta' => '~30 millones L'],
        ['enunciado' => 'Riesgo s√≠smico', 'respuesta' => 'Sismos inducidos < 3.0'],
        ['enunciado' => 'Contaminante principal', 'respuesta' => 'Metano (CH‚ÇÑ)'],
        ['enunciado' => 'M√©xico 2024', 'respuesta' => 'Fracking prohibido'],
        ['enunciado' => 'Qu√≠micos en fluido', 'respuesta' => '~0.5%'],
        ['enunciado' => 'Ley f√≠sica clave', 'respuesta' => 'Pascal (presi√≥n hidrost√°tica)'],
        ['enunciado' => 'Permeabilidad post-fractura', 'respuesta' => 'Aumenta (Darcy)'],
        ['enunciado' => 'Eficiencia energ√©tica global', 'respuesta' => '~30% (qu√≠mica ‚Üí el√©ctrica)']
    ],
    'quiz' => [
        ['pregunta' => 'Fracking es...', 'opciones' => ['Fracturaci√≥n hidr√°ulica', 'Perforaci√≥n', 'Combusti√≥n', 'Fusi√≥n'], 'correcta' => 'Fracturaci√≥n hidr√°ulica'],
        ['pregunta' => 'Extrae de...', 'opciones' => ['Esquisto', 'Carb√≥n', 'Arena', 'Agua'], 'correcta' => 'Esquisto'],
        ['pregunta' => 'Fluido contiene...', 'opciones' => ['Agua + qu√≠micos', 'Solo agua', 'Aire', 'Gasolina'], 'correcta' => 'Agua + qu√≠micos'],
        ['pregunta' => 'Presi√≥n ~...', 'opciones' => ['700 bar', '1 bar', '10 bar', '1000 bar'], 'correcta' => '700 bar'],
        ['pregunta' => 'Riesgo principal', 'opciones' => ['Contaminaci√≥n agua', 'Calor', 'Ruido', 'Luz'], 'correcta' => 'Contaminaci√≥n agua'],
        ['pregunta' => 'Proppant es...', 'opciones' => ['Arena', 'Agua', 'Qu√≠mico', 'Gas'], 'correcta' => 'Arena'],
        ['pregunta' => 'EE.UU. aument√≥...', 'opciones' => ['Producci√≥n gas', 'Consumo agua', 'Nada', 'Solar'], 'correcta' => 'Producci√≥n gas'],
        ['pregunta' => 'Sismos por fracking...', 'opciones' => ['Inducidos', 'Naturales', 'Volc√°nicos', 'Ninguno'], 'correcta' => 'Inducidos'],
        ['pregunta' => 'M√©xico 2024...', 'opciones' => ['Prohibido', 'Permitido', 'Obligatorio', 'Desconocido'], 'correcta' => 'Prohibido'],
        ['pregunta' => 'EROEI ~...', 'opciones' => ['5:1', '1:1', '20:1', '100:1'], 'correcta' => '5:1'],

        ['pregunta' => 'Agua por pozo ~...', 'opciones' => ['30 millones L', '1 mill√≥n L', '100 L', '1 bill√≥n L'], 'correcta' => '30 millones L'],
        ['pregunta' => '% qu√≠micos', 'opciones' => ['0.5%', '50%', '10%', '90%'], 'correcta' => '0.5%'],
        ['pregunta' => 'Metano es...', 'opciones' => ['GHG potente', 'Inerte', 'Refrigerante', 'Combustible limpio'], 'correcta' => 'GHG potente'],
        ['pregunta' => 'Pozo horizontal hasta...', 'opciones' => ['3 km', '100 m', '10 km', '1 cm'], 'correcta' => '3 km'],
        ['pregunta' => 'Ley de Pascal aplica en...', 'opciones' => ['Transmisi√≥n presi√≥n', 'Velocidad', 'Masa', 'Color'], 'correcta' => 'Transmisi√≥n presi√≥n'],
        ['pregunta' => 'Permeabilidad mide...', 'opciones' => ['Flujo fluido', 'Dureza', 'Color', 'Olor'], 'correcta' => 'Flujo fluido'],
        ['pregunta' => 'Eficiencia qu√≠mica ‚Üí el√©ctrica', 'opciones' => ['~30%', '90%', '5%', '100%'], 'correcta' => '~30%'],
        ['pregunta' => 'Sismo t√≠pico fracking', 'opciones' => ['< 3.0', '> 5.0', '= 0', '> 7.0'], 'correcta' => '< 3.0'],
        ['pregunta' => 'Prohibido en...', 'opciones' => ['Francia, M√©xico', 'EE.UU.', 'China', 'Rusia'], 'correcta' => 'Francia, M√©xico'],
        ['pregunta' => 'Unidad presi√≥n SI', 'opciones' => ['Pascal', 'Bar', 'Atm', 'Psi'], 'correcta' => 'Pascal'],

        ['pregunta' => 'M√≥dulo Young roca esquisto ~...', 'opciones' => ['30 GPa', '1 GPa', '100 GPa', '1 MPa'], 'correcta' => '30 GPa'],
        ['pregunta' => 'Fuga metano % producci√≥n', 'opciones' => ['1-5%', '0%', '50%', '100%'], 'correcta' => '1-5%'],
        ['pregunta' => 'Tratamiento agua residual', 'opciones' => ['Re-inyecci√≥n', 'Evaporaci√≥n', 'Beber', 'Nada'], 'correcta' => 'Re-inyecci√≥n'],
        ['pregunta' => 'Energ√≠a para bombear fluido', 'opciones' => ['~10% total', '50%', '0%', '100%'], 'correcta' => '~10% total'],
        ['pregunta' => 'Declinaci√≥n pozo', 'opciones' => ['60% primer a√±o', '10%', '0%', '100%'], 'correcta' => '60% primer a√±o'],
        ['pregunta' => 'Alternativa renovable', 'opciones' => ['Geot√©rmica', 'Fracking', 'Carb√≥n', 'Nuclear'], 'correcta' => 'Geot√©rmica'],
        ['pregunta' => 'CO‚ÇÇ equivalente metano (100 a√±os)', 'opciones' => ['25√ó', '1√ó', '100√ó', '0√ó'], 'correcta' => '25√ó'],
        ['pregunta' => 'Ley Darcy: Q =', 'opciones' => ['-kAŒîP/ŒºL', 'F=ma', 'PV=nRT', 'E=mc¬≤'], 'correcta' => '-kAŒîP/ŒºL'],
        ['pregunta' => 'M√©xico: reforma 2024', 'opciones' => ['Prohibici√≥n total', 'Permiso parcial', 'Obligatorio', 'Sin cambio'], 'correcta' => 'Prohibici√≥n total'],
        ['pregunta' => 'SI 2025: 1 bar =', 'opciones' => ['10‚Åµ Pa', '1 Pa', '10‚Å∂ Pa', '1 atm'], 'correcta' => '10‚Åµ Pa']
    ]
];
// ========================================
// MATERIA: F√çSICA I
// SUBTEMA: Joule (Unidad SI), Trabajo, Energ√≠a, Equivalencias, Historia
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'F√≠sica I',
    'slug' => 'joule',
    'titulo' => 'Joule: La Unidad Universal de Energ√≠a',
    'contenido' => '
        <h3>El Joule (J): Unidad SI de Energ√≠a y Trabajo</h3>
        <p>El <strong>joule</strong> es la <strong>unidad SI</strong> de <strong>energ√≠a, trabajo y calor</strong>. Definido como:</p>
        <p>\[
            1\\,\\text{J} = 1\\,\\text{N} \\cdot \\text{m} = 1\\,\\text{kg} \\cdot \\text{m}^2 \\cdot \\text{s}^{-2}
        \]</p>
        <p>Nombrado en honor a <strong>James Prescott Joule</strong> (1818‚Äì1889), pionero en termodin√°mica.</p>

        <hr style="border:1px dashed #1976D2;">

        <h4>1. Definici√≥n y Dimensiones</h4>
        <table class="table">
            <thead>
                <tr><th>Equivalencia</th><th>Valor</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>1 J</strong></td><td>1 N¬∑m</td></tr>
                <tr><td><strong>1 J</strong></td><td>1 W¬∑s</td></tr>
                <tr><td><strong>1 J</strong></td><td>10‚Å∑ erg</td></tr>
                <tr><td><strong>1 J</strong></td><td>0.239 cal</td></tr>
                <tr><td><strong>1 J</strong></td><td>6.24 √ó 10¬π‚Å∏ eV</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #1976D2;">

        <h4>2. Aplicaciones F√≠sicas</h4>
        <ul>
            <li><strong>Trabajo:</strong> \( W = F \\cdot d \\cdot \\cos\\theta \)</li>
            <li><strong>Energ√≠a cin√©tica:</strong> \( E_k = \\frac{1}{2}mv^2 \)</li>
            <li><strong>Energ√≠a potencial:</strong> \( E_p = mgh \)</li>
            <li><strong>Calor:</strong> \( Q = mc\\Delta T \)</li>
        </ul>

        <hr style="border:1px dashed #1976D2;">

        <h4>3. James Prescott Joule</h4>
        <p>Demostr√≥ la <strong>equivalencia mec√°nica del calor</strong> (1843). Experimento: <strong>rueda de paletas en agua</strong> ‚Üí temperatura ‚Üë por trabajo mec√°nico.</p>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Levantar una manzana</strong><br>
            m = 0.1 kg, h = 1 m ‚Üí \( E_p = mgh = 0.1 \\cdot 9.8 \\cdot 1 = 0.98\\,\\text{J} \)</p>
        </div>

        <hr style="border:1px dashed #1976D2;">

        <h4>4. SVG Animado: Experimento de Joule + C√°lculo</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="800" height="500" fill="#E3F2FD"/>

                <!-- T√≠tulo -->
                <text x="400" y="50" fill="#0D47A1" font-size="28" text-anchor="middle" font-weight="bold">JOULE (J)</text>

                <!-- Experimento Joule -->
                <g id="experimento">
                    <rect x="100" y="150" width="200" height="200" fill="#BBDEFB" rx="15"/>
                    <circle cx="200" cy="250" r="50" fill="#42A5F5"/>
                    <path d="M150 250 Q180 220 200 250 Q220 280 250 250" stroke="#1976D2" stroke-width="4" fill="none">
                        <animate attributeName="d" values="M150 250 Q180 220 200 250 Q220 280 250 250; M150 250 Q180 280 200 250 Q220 220 250 250; M150 250 Q180 220 200 250 Q220 280 250 250" dur="2s" repeatCount="indefinite"/>
                    </path>
                    <text x="200" y="280" fill="#1565C0" font-size="14" text-anchor="middle">Paletas</text>
                    <text x="200" y="320" fill="#0D47A1" font-size="12" text-anchor="middle">Trabajo ‚Üí Calor</text>
                </g>

                <!-- C√°lculo -->
                <g id="calculo" opacity="0">
                    <rect x="450" y="150" width="250" height="200" fill="#C8E6C9" rx="15"/>
                    <text x="575" y="190" fill="#2E7D32" font-size="16" text-anchor="middle">1 J = 1 N¬∑m</text>
                    <text x="575" y="220" fill="#1B5E20" font-size="14" text-anchor="middle">F = 10 N</text>
                    <text x="575" y="245" fill="#1B5E20" font-size="14" text-anchor="middle">d = 2 m</text>
                    <text x="575" y="270" fill="#2E7D32" font-size="16" text-anchor="middle">W = 20 J</text>
                    <animate attributeName="opacity" values="0;1" begin="1s" dur="0.5s"/>
                </g>

                <!-- Equivalencias -->
                <rect x="100" y="380" width="600" height="80" fill="#BBDEFB" rx="15"/>
                <text x="400" y="410" fill="#1565C0" font-size="14" text-anchor="middle">1 J = 1 W¬∑s = 0.239 cal = 6.24√ó10¬π‚Å∏ eV</text>
                <text x="400" y="435" fill="#0D47A1" font-size="12" text-anchor="middle">SI 2025: kg¬∑m¬≤¬∑s‚Åª¬≤ | BIPM est√°ndar</text>
            </svg>
            <p><em>SVG Animado: Experimento Joule + C√°lculo W = F√ód.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => '1 J =', 'respuesta' => '1 N¬∑m'],
        ['enunciado' => '1 J en base SI', 'respuesta' => 'kg¬∑m¬≤¬∑s‚Åª¬≤'],
        ['enunciado' => '1 cal =', 'respuesta' => '4.184 J'],

        // === APLICADOS ===
        ['enunciado' => 'Trabajo: F=50 N, d=3 m, Œ∏=0¬∞', 'respuesta' => '150 J'],
        ['enunciado' => 'E_k: m=2 kg, v=5 m/s', 'respuesta' => '25 J'],
        ['enunciado' => 'E_p: m=1 kg, h=10 m', 'respuesta' => '98 J'],

        // === HIST√ìRICOS ===
        ['enunciado' => 'Nombrado por', 'respuesta' => 'James Prescott Joule'],
        ['enunciado' => 'Experimento clave', 'respuesta' => 'Paletas en agua'],
        ['enunciado' => 'A√±o aproximado', 'respuesta' => '1843'],

        // === AVANZADOS ===
        ['enunciado' => '1 kWh =', 'respuesta' => '3.6 MJ'],
        ['enunciado' => '1 eV =', 'respuesta' => '1.6 √ó 10‚Åª¬π‚Åπ J'],
        ['enunciado' => 'Trabajo m√≠nimo para 1 kg a 1 m/s', 'respuesta' => '0.5 J (E_k)']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Joule mide...', 'opciones' => ['Energ√≠a', 'Fuerza', 'Velocidad', 'Masa'], 'correcta' => 'Energ√≠a'],
        ['pregunta' => '1 J =', 'opciones' => ['1 N¬∑m', '1 kg', '1 m/s', '1 W'], 'correcta' => '1 N¬∑m'],
        ['pregunta' => 'Unidad SI', 'opciones' => ['S√≠', 'No', 'A veces', 'Nunca'], 'correcta' => 'S√≠'],
        ['pregunta' => 'Nombrado por...', 'opciones' => ['James Joule', 'Isaac Newton', 'Albert Einstein', 'Marie Curie'], 'correcta' => 'James Joule'],
        ['pregunta' => '1 J = 1...', 'opciones' => ['W¬∑s', 'W/h', 'kW', 'MW'], 'correcta' => 'W¬∑s'],
        ['pregunta' => 'Trabajo =', 'opciones' => ['F √ó d √ó cosŒ∏', 'm √ó a', '¬Ωmv¬≤', 'mgh'], 'correcta' => 'F √ó d √ó cosŒ∏'],
        ['pregunta' => '1 cal ‚âà', 'opciones' => ['4.184 J', '1 J', '10 J', '0.1 J'], 'correcta' => '4.184 J'],
        ['pregunta' => 'Levantar 1 kg 1 m ‚âà', 'opciones' => ['9.8 J', '1 J', '98 J', '0 J'], 'correcta' => '9.8 J'],
        ['pregunta' => 'Energ√≠a cin√©tica usa...', 'opciones' => ['Joule', 'Newton', 'Pascal', 'Tesla'], 'correcta' => 'Joule'],
        ['pregunta' => 'BIPM define J como...', 'opciones' => ['kg¬∑m¬≤¬∑s‚Åª¬≤', 'kg¬∑m/s', 'N/m', 'W/m'], 'correcta' => 'kg¬∑m¬≤¬∑s‚Åª¬≤'],

        // === MEDIO (10) ===
        ['pregunta' => 'Trabajo 20 N en 5 m =', 'opciones' => ['100 J', '4 J', '25 J', '500 J'], 'correcta' => '100 J'],
        ['pregunta' => 'E_k 3 kg a 4 m/s =', 'opciones' => ['24 J', '12 J', '48 J', '6 J'], 'correcta' => '24 J'],
        ['pregunta' => '1 kWh =', 'opciones' => ['3.6 MJ', '3.6 kJ', '36 MJ', '0.36 MJ'], 'correcta' => '3.6 MJ'],
        ['pregunta' => '1 eV =', 'opciones' => ['1.6√ó10‚Åª¬π‚Åπ J', '1 J', '1.6√ó10‚Åª¬π‚Å∞ J', '1.6√ó10‚Å∂ J'], 'correcta' => '1.6√ó10‚Åª¬π‚Åπ J'],
        ['pregunta' => 'Experimento Joule demostr√≥...', 'opciones' => ['Equivalencia calor-trabajo', 'Fusi√≥n', 'Fisi√≥n', '√ìptica'], 'correcta' => 'Equivalencia calor-trabajo'],
        ['pregunta' => '1 J = ... erg', 'opciones' => ['10‚Å∑', '10‚Å∂', '10‚Å∏', '10‚Åµ'], 'correcta' => '10‚Å∑'],
        ['pregunta' => 'Calor espec√≠fico agua =', 'opciones' => ['4184 J/kg¬∑K', '1000 J/kg¬∑K', '4.184 J/kg¬∑K', '4184 J/g¬∑K'], 'correcta' => '4184 J/kg¬∑K'],
        ['pregunta' => 'Potencia =', 'opciones' => ['J/s', 'J¬∑m', 'N/m', 'kg/s'], 'correcta' => 'J/s'],
        ['pregunta' => 'Unidad potencia', 'opciones' => ['Watt', 'Joule', 'Newton', 'Pascal'], 'correcta' => 'Watt'],
        ['pregunta' => 'SI 2025: J definido por...', 'opciones' => ['Constantes fundamentales', 'Prototipo', 'Masa', 'Tiempo'], 'correcta' => 'Constantes fundamentales'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'Trabajo Œ∏=60¬∞, F=100 N, d=2 m =', 'opciones' => ['100 J', '200 J', '50 J', '0 J'], 'correcta' => '100 J'],
        ['pregunta' => 'E_k para v = 10 m/s, m=1 kg =', 'opciones' => ['50 J', '100 J', '25 J', '500 J'], 'correcta' => '50 J'],
        ['pregunta' => '1 MJ =', 'opciones' => ['10‚Å∂ J', '10¬≥ J', '10‚Åπ J', '10‚Åª‚Å∂ J'], 'correcta' => '10‚Å∂ J'],
        ['pregunta' => 'Calor para 1 g agua +1¬∞C =', 'opciones' => ['4.184 J', '1 J', '4184 J', '0.4184 J'], 'correcta' => '4.184 J'],
        ['pregunta' => 'Energ√≠a fot√≥n Œª=500 nm ‚âà', 'opciones' => ['4√ó10‚Åª¬π‚Åπ J', '4√ó10‚Åª¬π‚Å∞ J', '4√ó10‚Åª¬≤‚Åµ J', '4 J'], 'correcta' => '4√ó10‚Åª¬π‚Åπ J'],
        ['pregunta' => 'Joule contribuy√≥ a...', 'opciones' => ['1¬™ Ley Termodin√°mica', '2¬™ Ley', 'Ley Gravitaci√≥n', 'Relatividad'], 'correcta' => '1¬™ Ley Termodin√°mica'],
        ['pregunta' => '1 BTU ‚âà', 'opciones' => ['1055 J', '100 J', '10000 J', '1 J'], 'correcta' => '1055 J'],
        ['pregunta' => 'Trabajo m√≠nimo para detener 2 kg a 5 m/s', 'opciones' => ['-25 J', '25 J', '50 J', '0 J'], 'correcta' => '-25 J'],
        ['pregunta' => 'Constante de Boltzmann k =', 'opciones' => ['1.38√ó10‚Åª¬≤¬≥ J/K', '1.38√ó10‚Åª¬≤¬≥ eV/K', '9.8 J/kg', '3√ó10‚Å∏ J'], 'correcta' => '1.38√ó10‚Åª¬≤¬≥ J/K'],
        ['pregunta' => 'SI 2025: J basado en...', 'opciones' => ['c, h, k (constantes)', 'kg prototipo', 'metro', 'segundo'], 'correcta' => 'c, h, k (constantes)']
    ]
];
// ========================================
// MATERIA: F√çSICA I
// SUBTEMA: Biomasa (Energ√≠a Org√°nica), Tipos, Transformaciones, Sostenibilidad
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'F√≠sica I',
    'slug' => 'biomasa',
    'titulo' => 'Biomasa: Energ√≠a Viva y Renovable',
    'contenido' => '
        <h3>Biomasa: La Energ√≠a del Ciclo de la Vida</h3>
        <p>La <strong>biomasa</strong> es <strong>materia org√°nica renovable</strong> (plantas, animales, residuos) usada para producir <strong>energ√≠a qu√≠mica ‚Üí t√©rmica ‚Üí el√©ctrica/mec√°nica</strong>. <strong>Carbono neutral</strong> si se gestiona sosteniblemente.</p>

        <p>\[
            \\text{CO}_2 \\text{(fotos√≠ntesis)} \\rightarrow \\text{biomasa} \\rightarrow \\text{combusti√≥n} \\rightarrow \\text{CO}_2 \\text{ (ciclo cerrado)}
        \]</p>

        <hr style="border:1px dashed #388E3C;">

        <h4>1. Tipos de Biomasa</h4>
        <table class="table">
            <thead>
                <tr><th>Tipo</th><th>Ejemplos</th><th>Uso</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>S√≥lida</strong></td><td>Madera, bagazo, c√°scaras</td><td>Combusti√≥n directa</td></tr>
                <tr><td><strong>L√≠quida</strong></td><td>Bioetanol, biodi√©sel</td><td>Transporte</td></tr>
                <tr><td><strong>Gaseosa</strong></td><td>Biog√°s (CH‚ÇÑ + CO‚ÇÇ)</td><td>Generaci√≥n el√©ctrica</td></tr>
                <tr><td><strong>Residuos</strong></td><td>Org√°nicos urbanos, esti√©rcol</td><td>Digesti√≥n anaerobia</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #388E3C;">

        <h4>2. Transformaciones Energ√©ticas</h4>
        <ul>
            <li><strong>Combusti√≥n:</strong> \( \\text{C}_6\\text{H}_{12}\\text{O}_6 + 6\\text{O}_2 \\rightarrow 6\\text{CO}_2 + 6\\text{H}_2\\text{O} + Q \)</li>
            <li><strong>Gasificaci√≥n:</strong> Biomasa ‚Üí syngas (CO + H‚ÇÇ)</li>
            <li><strong>Digesti√≥n anaerobia:</strong> Bacterias ‚Üí biog√°s</li>
        </ul>

        <hr style="border:1px dashed #388E3C;">

        <h4>3. Ventajas y Desventajas</h4>
        <table class="table">
            <thead>
                <tr><th>Ventaja</th><th>Desventaja</th></tr>
            </thead>
            <tbody>
                <tr><td>Renovable</td><td>Competencia con alimentos</td></tr>
                <tr><td>Carbono neutral (sostenible)</td><td>Emisiones locales (PM, NOx)</td></tr>
                <tr><td>Reduce residuos</td><td>Baja densidad energ√©tica</td></tr>
                <tr><td>Disponible localmente</td><td>Deforestaci√≥n si no certificada</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Bagazo de ca√±a</strong><br>
            M√©xico: 50+ ingenios generan ~1,000 MW con bagazo ‚Üí <strong>30% electricidad sector azucarero</strong>.</p>
        </div>

        <div class="visual">
            <img src="assets/img/ciclo_biomasa_cs.gif" alt="Flujo biomasa">
            <p><em>Ciclo completo. Fuente: EIA.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/Tipos-de-Biomasa-Calefaccion-Emisioncero.jpg" alt="Tipos biomasa">
            <p><em>Clasificaci√≥n global. Fuente: IRENA.</em></p>
        </div>

        <hr style="border:1px dashed #388E3C;">

        <h4>4. SVG Animado: Ciclo Biomasa ‚Üí Energ√≠a</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="800" height="500" fill="#E8F5E9"/>

                <!-- T√≠tulo -->
                <text x="400" y="50" fill="#1B5E20" font-size="28" text-anchor="middle" font-weight="bold">CICLO BIOMASA</text>

                <!-- Sol + Planta -->
                <g id="fotosintesis">
                    <circle cx="150" cy="150" r="35" fill="#FFEB3B"/>
                    <path d="M150 185 L150 250 L120 280 L150 260 L180 280 L150 250" fill="#4CAF50"/>
                    <text x="150" y="310" fill="#2E7D32" font-size="14" text-anchor="middle">Fotos√≠ntesis</text>
                    <animate attributeName="opacity" values="0.5;1;0.5" dur="3s" repeatCount="indefinite"/>
                </g>

                <!-- Biomasa -->
                <g id="biomasa" opacity="0">
                    <rect x="280" y="220" width="100" height="80" fill="#8D6E63" rx="10"/>
                    <text x="330" y="260" fill="#FFCCBC" font-size="14" text-anchor="middle">Biomasa</text>
                    <animate attributeName="opacity" values="0;1" begin="1s" dur="0.5s"/>
                </g>

                <!-- Combusti√≥n -->
                <g id="combustion" opacity="0">
                    <path d="M450 250 Q470 200 490 250 Q470 280 450 250" fill="#FF5722">
                        <animate attributeName="d" values="M450 250 Q470 200 490 250 Q470 280 450 250; M450 250 Q470 180 490 250 Q470 300 450 250; M450 250 Q470 200 490 250 Q470 280 450 250" dur="1.5s" repeatCount="indefinite"/>
                    </path>
                    <text x="470" y="320" fill="#E65100" font-size="14" text-anchor="middle">Combusti√≥n</text>
                    <animate attributeName="opacity" values="0;1" begin="2s" dur="0.5s"/>
                </g>

                <!-- Electricidad -->
                <g id="electricidad" opacity="0">
                    <circle cx="620" cy="250" r="30" fill="#FFD600"/>
                    <path d="M610 240 L620 230 M630 240 L620 230 M610 260 L620 270 M630 260 L620 270" stroke="#F57F17" stroke-width="3"/>
                    <text x="620" y="310" fill="#F57F17" font-size="14" text-anchor="middle">El√©ctrica</text>
                    <animate attributeName="opacity" values="0;1" begin="3s" dur="0.5s"/>
                </g>

                <!-- CO2 ciclo -->
                <g id="co2">
                    <text x="400" y="150" fill="#2E7D32" font-size="12" text-anchor="middle">CO‚ÇÇ ‚Üë</text>
                    <text x="400" y="380" fill="#2E7D32" font-size="12" text-anchor="middle">CO‚ÇÇ ‚Üì (captura)</text>
                    <animate attributeName="opacity" values="0;1;0" dur="4s" repeatCount="indefinite"/>
                </g>

                <!-- Eficiencia -->
                <rect x="100" y="400" width="600" height="70" fill="#C8E6C9" rx="15"/>
                <text x="400" y="430" fill="#1B5E20" font-size="14" text-anchor="middle">Eficiencia: Combusti√≥n ~30% | Biog√°s ~40% | M√©xico: 5% energ√≠a primaria</text>
                <text x="400" y="455" fill="#2E7D32" font-size="12" text-anchor="middle">SI 2025: 1 GJ biomasa ‚âà 25 kg madera seca</text>
            </svg>
            <p><em>SVG Animado: Fotos√≠ntesis ‚Üí Biomasa ‚Üí Combusti√≥n ‚Üí Electricidad + Ciclo CO‚ÇÇ.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Biomasa es...', 'respuesta' => 'Materia org√°nica renovable'],
        ['enunciado' => 'Ejemplo s√≥lido', 'respuesta' => 'Madera, bagazo'],
        ['enunciado' => 'Carbono neutral si...', 'respuesta' => 'Repoblaci√≥n = consumo'],

        // === APLICADOS ===
        ['enunciado' => 'Biog√°s principal componente', 'respuesta' => 'Metano (CH‚ÇÑ)'],
        ['enunciado' => 'Bioetanol de...', 'respuesta' => 'Ma√≠z, ca√±a'],
        ['enunciado' => 'M√©xico: bagazo genera ~', 'respuesta' => '1,000 MW'],

        // === SOSTENIBILIDAD ===
        ['enunciado' => 'Ventaja ambiental', 'respuesta' => 'Reduce residuos, CO‚ÇÇ neutral'],
        ['enunciado' => 'Riesgo si no sostenible', 'respuesta' => 'Deforestaci√≥n'],
        ['enunciado' => '% energ√≠a primaria M√©xico', 'respuesta' => '~5%'],

        // === AVANZADOS ===
        ['enunciado' => 'Poder calor√≠fico madera seca', 'respuesta' => '~16 MJ/kg'],
        ['enunciado' => 'Eficiencia t√≠pica central biomasa', 'respuesta' => '~30%'],
        ['enunciado' => '1 m¬≥ biog√°s ‚âà', 'respuesta' => '6 kWh']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Biomasa es...', 'opciones' => ['Renovable', 'F√≥sil', 'Nuclear', 'Solar'], 'correcta' => 'Renovable'],
        ['pregunta' => 'Proviene de...', 'opciones' => ['Org√°nica', 'Petr√≥leo', 'Uranio', 'Viento'], 'correcta' => 'Org√°nica'],
        ['pregunta' => 'Carbono neutral si...', 'opciones' => ['Sostenible', 'No', 'Siempre', 'Nunca'], 'correcta' => 'Sostenible'],
        ['pregunta' => 'Ejemplo biomasa', 'opciones' => ['Bagazo', 'Carb√≥n', 'Gas natural', 'Hidr√≥geno'], 'correcta' => 'Bagazo'],
        ['pregunta' => 'Biog√°s contiene...', 'opciones' => ['CH‚ÇÑ', 'CO‚ÇÇ solo', 'O‚ÇÇ', 'N‚ÇÇ'], 'correcta' => 'CH‚ÇÑ'],
        ['pregunta' => 'Bioetanol es...', 'opciones' => ['L√≠quido', 'S√≥lido', 'Gas', 'Plasma'], 'correcta' => 'L√≠quido'],
        ['pregunta' => 'Combusti√≥n produce...', 'opciones' => ['CO‚ÇÇ + H‚ÇÇO', 'O‚ÇÇ', 'CH‚ÇÑ', 'H‚ÇÇ'], 'correcta' => 'CO‚ÇÇ + H‚ÇÇO'],
        ['pregunta' => 'M√©xico usa bagazo en...', 'opciones' => ['Ingenios', 'Refiner√≠as', 'Minas', 'Aeropuertos'], 'correcta' => 'Ingenios'],
        ['pregunta' => 'Ventaja clave', 'opciones' => ['Reduce residuos', 'Aumenta CO‚ÇÇ', 'No renovable', 'Cara'], 'correcta' => 'Reduce residuos'],
        ['pregunta' => 'Densidad energ√©tica vs carb√≥n', 'opciones' => ['Menor', 'Mayor', 'Igual', 'Cero'], 'correcta' => 'Menor'],

        // === MEDIO (10) ===
        ['pregunta' => 'Eficiencia combusti√≥n biomasa', 'opciones' => ['~30%', '80%', '10%', '100%'], 'correcta' => '~30%'],
        ['pregunta' => 'Poder calor√≠fico madera seca', 'opciones' => ['~16 MJ/kg', '50 MJ/kg', '5 MJ/kg', '100 MJ/kg'], 'correcta' => '~16 MJ/kg'],
        ['pregunta' => '1 m¬≥ biog√°s ‚âà', 'opciones' => ['6 kWh', '1 kWh', '60 kWh', '0.6 kWh'], 'correcta' => '6 kWh'],
        ['pregunta' => 'M√©xico: % energ√≠a primaria', 'opciones' => ['~5%', '50%', '1%', '20%'], 'correcta' => '~5%'],
        ['pregunta' => 'Digesti√≥n anaerobia produce...', 'opciones' => ['Biog√°s', 'Bioetanol', 'Biodi√©sel', 'Syngas'], 'correcta' => 'Biog√°s'],
        ['pregunta' => 'Riesgo ambiental', 'opciones' => ['Deforestaci√≥n', 'Lluvia √°cida', 'Tsunami', 'Terremoto'], 'correcta' => 'Deforestaci√≥n'],
        ['pregunta' => 'Biomasa s√≥lida m√°s com√∫n', 'opciones' => ['Madera', 'Petr√≥leo', 'Carb√≥n', 'Uranio'], 'correcta' => 'Madera'],
        ['pregunta' => 'CO‚ÇÇ biomasa vs f√≥sil', 'opciones' => ['Ciclo cerrado', 'Acumula', 'Igual', 'Cero'], 'correcta' => 'Ciclo cerrado'],
        ['pregunta' => 'Central biomasa usa...', 'opciones' => ['Caldera + turbina', 'Paneles', 'Turbinas e√≥licas', 'Reactores'], 'correcta' => 'Caldera + turbina'],
        ['pregunta' => 'SI 2025: biomasa en...', 'opciones' => ['Joules', 'Calor√≠as', 'BTU', 'kWh'], 'correcta' => 'Joules'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'Eficiencia gasificaci√≥n biomasa', 'opciones' => ['~70% (syngas)', '30%', '90%', '10%'], 'correcta' => '~70% (syngas)'],
        ['pregunta' => 'Contenido energ√©tico esti√©rcol seco', 'opciones' => ['~12 MJ/kg', '50 MJ/kg', '5 MJ/kg', '100 MJ/kg'], 'correcta' => '~12 MJ/kg'],
        ['pregunta' => 'M√©xico: potencial biomasa', 'opciones' => ['~3,000 MW', '100 MW', '30,000 MW', '0 MW'], 'correcta' => '~3,000 MW'],
        ['pregunta' => 'Certificaci√≥n sostenible', 'opciones' => ['FSC, RSPO', 'ISO 9001', 'API', 'IEC'], 'correcta' => 'FSC, RSPO'],
        ['pregunta' => 'Emisiones PM10 biomasa vs carb√≥n', 'opciones' => ['Mayor (sin filtro)', 'Menor', 'Igual', 'Cero'], 'correcta' => 'Mayor (sin filtro)'],
        ['pregunta' => 'Biodi√©sel de...', 'opciones' => ['Aceites vegetales', 'Gasolina', 'Agua', 'Aire'], 'correcta' => 'Aceites vegetales'],
        ['pregunta' => 'Ciclo combinado biomasa-gas', 'opciones' => ['~50% eficiencia', '20%', '80%', '100%'], 'correcta' => '~50% eficiencia'],
        ['pregunta' => 'Biomasa en cogeneraci√≥n', 'opciones' => ['Calor + electricidad', 'Solo luz', 'Solo fr√≠o', 'Solo sonido'], 'correcta' => 'Calor + electricidad'],
        ['pregunta' => '1 ha ca√±a ‚Üí bagazo ‚âà', 'opciones' => ['10 ton/a√±o', '1 ton', '100 ton', '0 ton'], 'correcta' => '10 ton/a√±o'],
        ['pregunta' => 'SI 2025: 1 GJ =', 'opciones' => ['10‚Åπ J', '10‚Å∂ J', '10¬π¬≤ J', '10¬≥ J'], 'correcta' => '10‚Åπ J']
    ]
];
// ========================================
// MATERIA: F√çSICA I
// SUBTEMA: Evoluci√≥n del Concepto de Energ√≠a (Leibniz, Young, Coriolis, Joule)
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'F√≠sica I',
    'slug' => 'evolucion-concepto-energia',
    'titulo' => 'Evoluci√≥n del Concepto de Energ√≠a: De Vis Viva al Joule',
    'contenido' => '
        <h3>La Energ√≠a: Un Concepto en Evoluci√≥n</h3>
        <p>El concepto de <strong>energ√≠a</strong> se desarroll√≥ durante siglos, desde la <strong>vis viva</strong> de Leibniz hasta la <strong>equivalencia mec√°nico-cal√≥rica</strong> de Joule, sentando las bases de la <strong>conservaci√≥n de la energ√≠a</strong>.</p>

        <p>\[
            E_{\\text{total}} = E_k + E_p + Q + \\ldots = \\text{constante}
        \]</p>

        <hr style="border:1px dashed #1976D2;">

        <h4>1. L√≠nea del Tiempo Hist√≥rica</h4>
        <table class="table">
            <thead>
                <tr><th>A√±o</th><th>Cient√≠fico</th><th>Aporte</th><th>F√≥rmula</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>1686</strong></td><td>Leibniz</td><td><strong>Vis viva</strong> = mv¬≤</td><td>\\(mv^2\\)</td></tr>
                <tr><td><strong>1807</strong></td><td>Thomas Young</td><td>Introduce <strong>t√©rmino "energ√≠a"</strong></td><td>\\(E = \\frac{1}{2}mv^2\\)</td></tr>
                <tr><td><strong>1829</strong></td><td>Coriolis</td><td>Define <strong>trabajo</strong> = F¬∑d</td><td>\\(W = Fd\\cos\\theta\\)</td></tr>
                <tr><td><strong>1843‚Äì1878</strong></td><td>James Joule</td><td><strong>Equivalencia mec√°nico-calor</strong></td><td>\\(1\\,\\text{cal} = 4.184\\,\\text{J}\\)</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #1976D2;">

        <h4>2. Aportes Clave</h4>
        <ul>
            <li><strong>Leibniz:</strong> Contra Descartes (mv), propone <strong>mv¬≤</strong> como medida de movimiento</li>
            <li><strong>Young:</strong> Usa "energ√≠a" en ingl√©s, populariza concepto</li>
            <li><strong>Coriolis:</strong> Introduce <strong>¬Ω</strong> en \(E_k = \\frac{1}{2}mv^2\)</li>
            <li><strong>Joule:</strong> Experimentos con paletas, pesos, term√≥metros ‚Üí <strong>constante de Joule</strong></li>
        </ul>

        <hr style="border:1px dashed #1976D2;">

        <h4>3. Experimento de Joule</h4>
        <p>Pesas caen ‚Üí giran paletas ‚Üí agitan agua ‚Üí ŒîT medida ‚Üí <strong>trabajo mec√°nico = calor generado</strong>.</p>
        <p>\[
            W = mgh = Q = mc\\Delta T \\quad \\Rightarrow \\quad J = \\frac{W}{Q}
        \]</p>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Joule (1845)</strong><br>
            1 kg cae 1 m ‚Üí 9.8 J ‚Üí eleva temperatura de 1 g de agua ~0.0023 ¬∞C ‚Üí <strong>4.18 J/cal</strong>.</p>
        </div>

        <div class="visual">
            <img src="assets/img/aparato-joule.png" alt="Aparato de Joule">
            <p><em>Experimento original. Fuente: Wikimedia.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/replica_moderna_aparato-joule.jpg" alt="R√©plica aparato">
            <p><em>R√©plica moderna. Fuente: Science History Institute.</em></p>
        </div>

        <hr style="border:1px dashed #1976D2;">

        <h4>4. SVG Animado: L√≠nea del Tiempo + Experimento</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="800" height="500" fill="#E3F2FD"/>

                <!-- T√≠tulo -->
                <text x="400" y="50" fill="#0D47A1" font-size="28" text-anchor="middle" font-weight="bold">EVOLUCI√ìN ENERG√çA</text>

                <!-- L√≠nea del tiempo -->
                <line x1="100" y1="120" x2="700" y2="120" stroke="#1976D2" stroke-width="4"/>
                
                <!-- Leibniz -->
                <circle cx="150" cy="120" r="20" fill="#42A5F5"/>
                <text x="150" y="100" fill="#1565C0" font-size="12" text-anchor="middle">1686</text>
                <text x="150" y="160" fill="#0D47A1" font-size="14" text-anchor="middle">Leibniz</text>
                <text x="150" y="180" fill="#1565C0" font-size="12" text-anchor="middle">mv¬≤</text>

                <!-- Young -->
                <circle cx="300" cy="120" r="20" fill="#42A5F5">
                    <animate attributeName="opacity" values="0;1" begin="1s" dur="0.5s"/>
                </circle>
                <text x="300" y="100" fill="#1565C0" font-size="12" text-anchor="middle">1807</text>
                <text x="300" y="160" fill="#0D47A1" font-size="14" text-anchor="middle">Young</text>
                <text x="300" y="180" fill="#1565C0" font-size="12" text-anchor="middle">Energ√≠a</text>

                <!-- Coriolis -->
                <circle cx="450" cy="120" r="20" fill="#42A5F5">
                    <animate attributeName="opacity" values="0;1" begin="2s" dur="0.5s"/>
                </circle>
                <text x="450" y="100" fill="#1565C0" font-size="12" text-anchor="middle">1829</text>
                <text x="450" y="160" fill="#0D47A1" font-size="14" text-anchor="middle">Coriolis</text>
                <text x="450" y="180" fill="#1565C0" font-size="12" text-anchor="middle">Trabajo</text>

                <!-- Joule -->
                <circle cx="600" cy="120" r="20" fill="#42A5F5">
                    <animate attributeName="opacity" values="0;1" begin="3s" dur="0.5s"/>
                </circle>
                <text x="600" y="100" fill="#1565C0" font-size="12" text-anchor="middle">1843</text>
                <text x="600" y="160" fill="#0D47A1" font-size="14" text-anchor="middle">Joule</text>
                <text x="600" y="180" fill="#1565C0" font-size="12" text-anchor="middle">J = 4.184</text>

                <!-- Experimento Joule -->
                <g id="joule-exp" transform="translate(100,250)">
                    <rect x="0" y="0" width="250" height="150" fill="#BBDEFB" rx="10"/>
                    <circle cx="125" cy="75" r="30" fill="#42A5F5">
                        <animate attributeName="cy" values="75;100;75" dur="2s" repeatCount="indefinite"/>
                    </circle>
                    <text x="125" y="130" fill="#1565C0" font-size="12" text-anchor="middle">Paletas</text>
                    <text x="125" y="150" fill="#0D47A1" font-size="10" text-anchor="middle">W ‚Üí Q</text>
                </g>

                <!-- Conservaci√≥n -->
                <rect x="400" y="300" width="300" height="100" fill="#C8E6C9" rx="15"/>
                <text x="550" y="330" fill="#2E7D32" font-size="16" text-anchor="middle">1¬™ Ley Termodin√°mica</text>
                <text x="550" y="360" fill="#1B5E20" font-size="12" text-anchor="middle">ŒîU = Q - W</text>
                <text x="550" y="385" fill="#2E7D32" font-size="12" text-anchor="middle">Mayer, Helmholtz</text>

                <!-- SI -->
                <text x="400" y="470" fill="#0D47A1" font-size="12" text-anchor="middle">SI 2025: 1 J = kg¬∑m¬≤¬∑s‚Åª¬≤ | BIPM 2019</text>
            </svg>
            <p><em>SVG Animado: L√≠nea del tiempo + Experimento Joule + Conservaci√≥n.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'Leibniz: vis viva =', 'respuesta' => 'mv¬≤'],
        ['enunciado' => 'Young introdujo...', 'respuesta' => 'T√©rmino "energ√≠a"'],
        ['enunciado' => 'Coriolis: trabajo =', 'respuesta' => 'F¬∑d'],

        // === APLICADOS ===
        ['enunciado' => 'Joule: constante =', 'respuesta' => '4.184 J/cal'],
        ['enunciado' => 'Experimento Joule mide...', 'respuesta' => 'ŒîT del agua'],
        ['enunciado' => '1 cal =', 'respuesta' => '4.184 J'],

        // === HIST√ìRICOS ===
        ['enunciado' => 'Descartes propuso...', 'respuesta' => 'mv (err√≥neo)'],
        ['enunciado' => 'A√±o experimento Joule', 'respuesta' => '1843‚Äì1850'],
        ['enunciado' => '1¬™ Ley Termodin√°mica', 'respuesta' => 'Conservaci√≥n energ√≠a'],

        // === AVANZADOS ===
        ['enunciado' => 'E_k moderna =', 'respuesta' => '¬Ωmv¬≤'],
        ['enunciado' => 'Unidad joule desde', 'respuesta' => '1948 (CGPM)'],
        ['enunciado' => 'Mayer predijo equivalencia en', 'respuesta' => '1842']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'Leibniz propuso...', 'opciones' => ['mv¬≤', 'mv', 'F¬∑d', 'mgh'], 'correcta' => 'mv¬≤'],
        ['pregunta' => 'Young introdujo...', 'opciones' => ['Energ√≠a', 'Trabajo', 'Calor', 'Fuerza'], 'correcta' => 'Energ√≠a'],
        ['pregunta' => 'Coriolis defini√≥...', 'opciones' => ['Trabajo', 'Energ√≠a', 'Vis viva', 'Potencia'], 'correcta' => 'Trabajo'],
        ['pregunta' => 'Joule midi√≥...', 'opciones' => ['Equivalencia calor-trabajo', 'Velocidad luz', 'Gravedad', 'Magnetismo'], 'correcta' => 'Equivalencia calor-trabajo'],
        ['pregunta' => 'Vis viva =', 'opciones' => ['2E_k', 'E_k', 'E_p', 'W'], 'correcta' => '2E_k'],
        ['pregunta' => '1 cal =', 'opciones' => ['4.184 J', '1 J', '10 J', '0.239 J'], 'correcta' => '4.184 J'],
        ['pregunta' => 'Experimento Joule us√≥...', 'opciones' => ['Paletas en agua', 'Bombilla', 'Motor', 'Panel solar'], 'correcta' => 'Paletas en agua'],
        ['pregunta' => 'Descartes cre√≠a en...', 'opciones' => ['mv', 'mv¬≤', 'F¬∑d', 'mgh'], 'correcta' => 'mv'],
        ['pregunta' => 'Unidad SI desde...', 'opciones' => ['1948', '1800', '1900', '2000'], 'correcta' => '1948'],
        ['pregunta' => 'Joule naci√≥ en...', 'opciones' => ['1818', '1700', '1850', '1900'], 'correcta' => '1818'],

        // === MEDIO (10) ===
        ['pregunta' => 'E_k = ¬Ωmv¬≤ introducido por...', 'opciones' => ['Coriolis', 'Leibniz', 'Young', 'Joule'], 'correcta' => 'Coriolis'],
        ['pregunta' => 'Mayer predijo equivalencia en...', 'opciones' => ['1842', '1686', '1807', '1948'], 'correcta' => '1842'],
        ['pregunta' => 'Helmholtz formul√≥...', 'opciones' => ['Conservaci√≥n energ√≠a', '2¬™ Ley', 'Relatividad', '√ìptica'], 'correcta' => 'Conservaci√≥n energ√≠a'],
        ['pregunta' => '1 J = ... erg', 'opciones' => ['10‚Å∑', '10‚Å∂', '10‚Å∏', '10‚Åµ'], 'correcta' => '10‚Å∑'],
        ['pregunta' => 'Constante Joule ‚âà', 'opciones' => ['4.184 J/cal', '1 J/cal', '4.184 cal/J', '10 J/cal'], 'correcta' => '4.184 J/cal'],
        ['pregunta' => 'SI 2019 redefini√≥ J por...', 'opciones' => ['Constantes fundamentales', 'Prototipo kg', 'Metro', 'Segundo'], 'correcta' => 'Constantes fundamentales'],
        ['pregunta' => 'Trabajo = F¬∑d¬∑cosŒ∏ introducido por...', 'opciones' => ['Coriolis', 'Newton', 'Young', 'Joule'], 'correcta' => 'Coriolis'],
        ['pregunta' => 'Primera menci√≥n "energ√≠a" en ingl√©s', 'opciones' => ['Young 1807', 'Joule 1843', 'Leibniz 1686', 'Arist√≥teles'], 'correcta' => 'Young 1807'],
        ['pregunta' => 'Joule midi√≥ ŒîT con...', 'opciones' => ['Term√≥metro', 'Bar√≥metro', 'Higr√≥metro', 'Anem√≥metro'], 'correcta' => 'Term√≥metro'],
        ['pregunta' => '1¬™ Ley Termodin√°mica es...', 'opciones' => ['Conservaci√≥n energ√≠a', 'Entrop√≠a', 'Carnot', 'Boltzmann'], 'correcta' => 'Conservaci√≥n energ√≠a'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'Vis viva de Leibniz =', 'opciones' => ['2E_k', 'E_k', 'E_p', 'W'], 'correcta' => '2E_k'],
        ['pregunta' => 'Error Descartes: conservaci√≥n de...', 'opciones' => ['mv', 'mv¬≤', 'F', 'm'], 'correcta' => 'mv'],
        ['pregunta' => 'Joule public√≥ resultados en...', 'opciones' => ['1843‚Äì1878', '1700', '1900', '2000'], 'correcta' => '1843‚Äì1878'],
        ['pregunta' => 'Valor exacto constante Joule', 'opciones' => ['4.184 J/cal', '4.2 J/cal', '1 J/cal', '4184 J/kg'], 'correcta' => '4.184 J/cal'],
        ['pregunta' => 'SI 2025: J =', 'opciones' => ['c¬≤ Œîm', 'F¬∑d', 'P¬∑t', 'k¬∑T'], 'correcta' => 'F¬∑d'],
        ['pregunta' => 'Contribuy√≥ a unificaci√≥n f√≠sica', 'opciones' => ['Joule', 'Newton', 'Maxwell', 'Einstein'], 'correcta' => 'Joule'],
        ['pregunta' => 'Calor√≠a definida como...', 'opciones' => ['Calor para 1g agua +1¬∞C', '1 J', '1 kWh', '1 eV'], 'correcta' => 'Calor para 1g agua +1¬∞C'],
        ['pregunta' => 'BIPM adopt√≥ J en...', 'opciones' => ['1948 (9¬™ CGPM)', '1889', '1960', '2019'], 'correcta' => '1948 (9¬™ CGPM)'],
        ['pregunta' => 'Equivalencia exacta (2019)', 'opciones' => ['4.184 J = 1 cal', '4.186 J = 1 cal', '1 J = 1 cal', '4 J = 1 cal'], 'correcta' => '4.184 J = 1 cal'],
        ['pregunta' => 'Principio fundamental establecido', 'opciones' => ['Conservaci√≥n energ√≠a', 'Inercia', 'Acci√≥n-reacci√≥n', 'Gravitaci√≥n'], 'correcta' => 'Conservaci√≥n energ√≠a']
    ]
];
// ========================================
// MATERIA: F√çSICA I
// SUBTEMA: Energ√≠a Cin√©tica (EK), F√≥rmula, Colisiones, Conservaci√≥n, Relatividad
// VERSI√ìN FINAL: CORREGIDA, SEGURA, CON MATHJAX, SVG ANIMADO, 12 EJERCICIOS, 30 QUIZ
// ========================================
$lecciones[] = [
    'materia' => 'F√≠sica I',
    'slug' => 'energia-cinetica',
    'titulo' => 'Energ√≠a Cin√©tica: La Energ√≠a del Movimiento',
    'contenido' => '
        <h3>Energ√≠a Cin√©tica: El Poder del Movimiento</h3>
        <p>La <strong>energ√≠a cin√©tica</strong> (\(E_k\)) es la <strong>energ√≠a asociada al movimiento</strong> de un objeto. Su f√≥rmula cl√°sica es:</p>
        <p>\[
            E_k = \\frac{1}{2} m v^2
        \]</p>
        <p>Depende <strong>linealmente de la masa</strong> y <strong>cuadr√°ticamente de la velocidad</strong>. En <strong>colisiones el√°sticas</strong>, se conserva.</p>

        <hr style="border:1px dashed #D32F2F;">

        <h4>1. F√≥rmula y Propiedades</h4>
        <table class="table">
            <thead>
                <tr><th>Propiedad</th><th>Relaci√≥n</th><th>Efecto</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Masa (m)</strong></td><td>Proporcional</td><td>Dobla m ‚Üí Dobla EK</td></tr>
                <tr><td><strong>Velocidad (v)</strong></td><td>Cuadr√°tica</td><td>Dobla v ‚Üí 4√ó EK</td></tr>
                <tr><td><strong>Unidad SI</strong></td><td>Joule (J)</td><td>kg¬∑m¬≤¬∑s‚Åª¬≤</td></tr>
                <tr><td><strong>En reposo</strong></td><td>v = 0</td><td>EK = 0</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #D32F2F;">

        <h4>2. Colisiones</h4>
        <ul>
            <li><strong>El√°stica:</strong> \(E_k\) total conservada + momento lineal</li>
            <li><strong>Inel√°stica:</strong> \(E_k\) se pierde (calor, deformaci√≥n)</li>
            <li><strong>Perfectamente inel√°stica:</strong> M√°xima p√©rdida de \(E_k\)</li>
        </ul>

        <hr style="border:1px dashed #D32F2F;">

        <h4>3. Teorema Trabajo-Energ√≠a</h4>
        <p>\[
            W_{\\text{neto}} = \\Delta E_k = E_{k_f} - E_{k_i}
        \]</p>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Auto 1200 kg de 0 a 25 m/s</strong><br>
            \( E_k = \\frac{1}{2} \\cdot 1200 \\cdot 625 = 375,000\\,\\text{J} = 375\\,\\text{kJ} \)<br>
            <strong>Trabajo motor = 375 kJ</strong></p>
        </div>

        <div class="visual">
            <img src="assets/img/energia-cinetica.png" alt="Tipos de energ√≠a">
            <p><em>Energ√≠a cin√©tica destacada. Fuente: GeeksforGeeks.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/diagramaEK.png" alt="Diagrama EK">
            <p><em>Visual claro. Fuente: Science Facts.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/formulaEK.png" alt="F√≥rmula EK">
            <p><em>Animaci√≥n interactiva. Fuente: Physics Classroom.</em></p>
        </div>

        <hr style="border:1px dashed #D32F2F;">

        <h4>4. SVG Animado: Auto Acelerando + Colisi√≥n El√°stica</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <!-- Fondo -->
                <rect x="0" y="0" width="800" height="500" fill="#FFEBEE"/>

                <!-- T√≠tulo -->
                <text x="400" y="50" fill="#B71C1C" font-size="28" text-anchor="middle" font-weight="bold">ENERG√çA CIN√âTICA</text>

                <!-- Pista -->
                <rect x="100" y="200" width="600" height="60" fill="#B0BEC5" rx="10"/>
                <line x1="100" y1="230" x2="700" y2="230" stroke="#78909C" stroke-width="3" stroke-dasharray="10,5"/>

                <!-- Auto 1 (acelerando) -->
                <g id="auto1">
                    <rect x="120" y="180" width="80" height="40" fill="#D32F2F" rx="8">
                        <animate attributeName="x" values="120;300;500" begin="0s" dur="3s" fill="freeze"/>
                    </rect>
                    <circle cx="150" cy="220" r="12" fill="#212121"/>
                    <circle cx="170" cy="220" r="12" fill="#212121"/>
                    <text x="160" y="170" fill="white" font-size="12" text-anchor="middle">m=1000kg</text>
                    <animate attributeName="x" values="120;300;500" begin="0s" dur="3s" fill="freeze"/>
                </g>

                <!-- Velocidad -->
                <g id="velocidad" opacity="0">
                    <line x1="520" y1="180" x2="580" y2="180" stroke="#1976D2" stroke-width="5"/>
                    <text x="550" y="170" fill="#0D47A1" font-size="14" text-anchor="middle">v = 20 m/s</text>
                    <animate attributeName="opacity" values="0;1" begin="1.5s" dur="0.5s"/>
                </g>

                <!-- EK -->
                <g id="ek" opacity="0">
                    <rect x="100" y="300" width="600" height="80" fill="#FFCCBC" rx="15"/>
                    <text x="400" y="330" fill="#D84315" font-size="16" text-anchor="middle">EK = ¬Ω √ó 1000 √ó 400 = 200,000 J</text>
                    <text x="400" y="360" fill="#B71C1C" font-size="14" text-anchor="middle">Dobla v ‚Üí 4√ó EK</text>
                    <animate attributeName="opacity" values="0;1" begin="2s" dur="0.5s"/>
                </g>

                <!-- Colisi√≥n el√°stica (dos autos) -->
                <g id="colision" opacity="0">
                    <rect x="350" y="180" width="80" height="40" fill="#1976D2" rx="8"/>
                    <text x="390" y="170" fill="white" font-size="12" text-anchor="middle">m=500kg</text>
                    <animate attributeName="x" values="350;300;200" begin="3.5s" dur="1s" fill="freeze"/>
                </g>

                <!-- Conservaci√≥n -->
                <g id="conservacion" opacity="0">
                    <text x="400" y="420" fill="#2E7D32" font-size="16" text-anchor="middle">Colisi√≥n el√°stica: EK total = cte</text>
                    <animate attributeName="opacity" values="0;1" begin="4s" dur="0.5s"/>
                </g>

                <!-- SI -->
                <text x="400" y="470" fill="#B71C1C" font-size="12" text-anchor="middle">SI 2025: 1 J = N¬∑m | v en m/s, m en kg</text>
            </svg>
            <p><em>SVG Animado: Auto acelerando ‚Üí EK ‚Üí Colisi√≥n el√°stica.</em></p>
        </div>
    ',
    'ejercicios' => [
        // === B√ÅSICOS ===
        ['enunciado' => 'F√≥rmula EK', 'respuesta' => '¬Ω m v¬≤'],
        ['enunciado' => 'Unidad SI', 'respuesta' => 'Joule (J)'],
        ['enunciado' => 'v = 0 ‚Üí EK =', 'respuesta' => '0'],

        // === APLICADOS ===
        ['enunciado' => 'Auto 800 kg a 30 m/s', 'respuesta' => '360,000 J'],
        ['enunciado' => 'Bicicleta 15 kg a 10 m/s', 'respuesta' => '750 J'],
        ['enunciado' => 'v pasa de 10 a 20 m/s (m cte)', 'respuesta' => 'EK √ó4'],

        // === COLISIONES ===
        ['enunciado' => 'Colisi√≥n el√°stica: EK total', 'respuesta' => 'Conservada'],
        ['enunciado' => 'Inel√°stica: EK', 'respuesta' => 'Disminuye'],
        ['enunciado' => 'Perfectamente inel√°stica: v final', 'respuesta' => 'm‚ÇÅv‚ÇÅ + m‚ÇÇv‚ÇÇ / (m‚ÇÅ+m‚ÇÇ)'],

        // === AVANZADOS ===
        ['enunciado' => 'Trabajo para detener 1000 kg de 20 m/s', 'respuesta' => '-200,000 J'],
        ['enunciado' => 'EK relativista (aprox)', 'respuesta' => 'Œ≥mc¬≤ - mc¬≤'],
        ['enunciado' => '1 kWh =', 'respuesta' => '3.6 MJ']
    ],
    'quiz' => [
        // === F√ÅCIL (10) ===
        ['pregunta' => 'EK =', 'opciones' => ['¬Ωmv¬≤', 'mv¬≤', 'mgh', 'Fd'], 'correcta' => '¬Ωmv¬≤'],
        ['pregunta' => 'Depende de v como...', 'opciones' => ['v¬≤', 'v', '1/v', '‚àöv'], 'correcta' => 'v¬≤'],
        ['pregunta' => 'Dobla v ‚Üí EK...', 'opciones' => ['√ó4', '√ó2', '√ó8', '¬Ω'], 'correcta' => '√ó4'],
        ['pregunta' => 'Objeto en reposo EK =', 'opciones' => ['0', '1', '‚àû', 'Negativa'], 'correcta' => '0'],
        ['pregunta' => 'Unidad EK', 'opciones' => ['Joule', 'Newton', 'Pascal', 'Watt'], 'correcta' => 'Joule'],
        ['pregunta' => 'Colisi√≥n el√°stica EK', 'opciones' => ['Conservada', 'Perdida', 'Aumentada', 'Cero'], 'correcta' => 'Conservada'],
        ['pregunta' => 'Auto 1000 kg a 20 m/s EK =', 'opciones' => ['200 kJ', '100 kJ', '400 kJ', '20 kJ'], 'correcta' => '200 kJ'],
        ['pregunta' => 'm = 0 ‚Üí EK =', 'opciones' => ['0', '‚àû', '1', 'Negativa'], 'correcta' => '0'],
        ['pregunta' => 'Trabajo = ŒîEK', 'opciones' => ['S√≠', 'No', 'A veces', 'Solo si F=0'], 'correcta' => 'S√≠'],
        ['pregunta' => 'v ‚Üí 3v, EK ‚Üí', 'opciones' => ['√ó9', '√ó3', '√ó6', '√ó27'], 'correcta' => '√ó9'],

        // === MEDIO (10) ===
        ['pregunta' => 'Auto 1500 kg de 0 a 30 m/s, trabajo =', 'opciones' => ['675 kJ', '337.5 kJ', '1350 kJ', '0 J'], 'correcta' => '675 kJ'],
        ['pregunta' => 'Frenado: EK ‚Üí', 'opciones' => ['Calor', 'Potencial', 'El√©ctrica', 'Nuclear'], 'correcta' => 'Calor'],
        ['pregunta' => 'Colisi√≥n inel√°stica: momento', 'opciones' => ['Conservado', 'No conservado', 'Aumentado', 'Cero'], 'correcta' => 'Conservado'],
        ['pregunta' => '1 MJ =', 'opciones' => ['10‚Å∂ J', '10¬≥ J', '10‚Åπ J', '10‚Åª‚Å∂ J'], 'correcta' => '10‚Å∂ J'],
        ['pregunta' => 'v = 10 m/s ‚Üí v = 15 m/s, EK aumenta en...', 'opciones' => ['2.25√ó', '1.5√ó', '2.5√ó', '3√ó'], 'correcta' => '2.25√ó'],
        ['pregunta' => 'Teorema trabajo-energ√≠a', 'opciones' => ['W = ŒîEK', 'W = EK', 'W = ¬Ωmv¬≤', 'W = mgh'], 'correcta' => 'W = ŒîEK'],
        ['pregunta' => 'Energ√≠a cin√©tica rotacional', 'opciones' => ['¬ΩIœâ¬≤', 'mv¬≤', 'mgh', 'Fd'], 'correcta' => '¬ΩIœâ¬≤'],
        ['pregunta' => 'En ca√≠da libre, EK + EP =', 'opciones' => ['Cte', 'Aumenta', 'Disminuye', 'Cero'], 'correcta' => 'Cte'],
        ['pregunta' => 'SI 2025: v en...', 'opciones' => ['m/s', 'km/h', 'mph', 'nudos'], 'correcta' => 'm/s'],
        ['pregunta' => 'EK m√°xima en...', 'opciones' => ['v m√°xima', 'm m√°xima', 'v=0', 'm=0'], 'correcta' => 'v m√°xima'],

        // === DIF√çCIL (10) ===
        ['pregunta' => 'Colisi√≥n 1D el√°stica: v‚ÇÅf =', 'opciones' => ['(m‚ÇÅ-m‚ÇÇ)v‚ÇÅ/(m‚ÇÅ+m‚ÇÇ) + 2m‚ÇÇv‚ÇÇ/(m‚ÇÅ+m‚ÇÇ)', 'v‚ÇÅ', '0', 'v‚ÇÇ'], 'correcta' => '(m‚ÇÅ-m‚ÇÇ)v‚ÇÅ/(m‚ÇÅ+m‚ÇÇ) + 2m‚ÇÇv‚ÇÇ/(m‚ÇÅ+m‚ÇÇ)'],
        ['pregunta' => 'EK relativista (v‚âàc)', 'opciones' => ['(Œ≥-1)mc¬≤', '¬Ωmv¬≤', 'mc¬≤', 'mv¬≤'], 'correcta' => '(Œ≥-1)mc¬≤'],
        ['pregunta' => 'Fuerza constante acelera 2 kg de 0 a 10 m/s en 5 m, F =', 'opciones' => ['40 N', '20 N', '100 N', '4 N'], 'correcta' => '40 N'],
        ['pregunta' => 'Coeficiente restitucion e =', 'opciones' => ['‚àö(EK despu√©s/EK antes)', 'v', 'm', 'F'], 'correcta' => '‚àö(EK despu√©s/EK antes)'],
        ['pregunta' => '1 eV =', 'opciones' => ['1.6√ó10‚Åª¬π‚Åπ J', '1 J', '1.6√ó10‚Åª¬π‚Å∞ J', '1.6√ó10‚Å∂ J'], 'correcta' => '1.6√ó10‚Åª¬π‚Åπ J'],
        ['pregunta' => 'EK molecular media (3D)', 'opciones' => ['(3/2)kT', '(1/2)mv¬≤', 'mgh', 'Fd'], 'correcta' => '(3/2)kT'],
        ['pregunta' => 'Trabajo m√≠nimo para detener 500 kg a 30 m/s', 'opciones' => ['-225 kJ', '225 kJ', '112.5 kJ', '0 J'], 'correcta' => '-225 kJ'],
        ['pregunta' => 'En vac√≠o, ca√≠da 10 m ‚Üí v =', 'opciones' => ['14 m/s', '10 m/s', '20 m/s', '9.8 m/s'], 'correcta' => '14 m/s'],
        ['pregunta' => 'Œ≥ = 1 / ‚àö(1 - v¬≤/c¬≤), EK ‚âà ¬Ωmv¬≤ si...', 'opciones' => ['v << c', 'v = c', 'v > c', 'm = 0'], 'correcta' => 'v << c'],
        ['pregunta' => 'SI 2025: 1 kJ =', 'opciones' => ['10¬≥ J', '10‚Å∂ J', '10‚Å∞ J', '10‚Åª¬≥ J'], 'correcta' => '10¬≥ J']
    ]
];
// ========================================
// materia: F√çSICA I
// Sub-tema: Energ√≠a Potencial Gravitacional
// ========================================
$lecciones[] = [
    'materia' => 'F√≠sica I',
    'slug' => 'energia-potencial-gravitacional',
    'titulo' => 'Energ√≠a Potencial Gravitacional',
    'contenido' => '
        <h3>Energ√≠a Potencial Gravitacional (EPG)</h3>
        <p>La <strong>energ√≠a potencial gravitacional</strong> es la energ√≠a almacenada por un objeto debido a su posici√≥n en un campo gravitacional. Su f√≥rmula es:</p>
        <p>\[
            E_{pg} = m g h
        \]</p>
        <p>Donde <strong>m</strong> = masa (kg), <strong>g</strong> = aceleraci√≥n gravitacional (‚âà9.8 m/s¬≤), <strong>h</strong> = altura (m).</p>

        <hr style="border:1px dashed #D32F2F;">

        <h4>1. Propiedades</h4>
        <table class="table">
            <thead>
                <tr><th>Variable</th><th>Efecto</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Masa (m)</strong></td><td>Proporcional</td></tr>
                <tr><td><strong>Altura (h)</strong></td><td>Proporcional</td></tr>
                <tr><td><strong>g</strong></td><td>Proporcional (var√≠a con planeta)</td></tr>
                <tr><td><strong>h = 0</strong></td><td>EPG = 0 (referencia)</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #D32F2F;">

        <h4>2. Conservaci√≥n de Energ√≠a Mec√°nica</h4>
        <p>\[
            E_{pg_i} + E_{k_i} = E_{pg_f} + E_{k_f}
        \]</p>
        <p>En ca√≠da libre (sin fricci√≥n): <strong>EPG ‚Üí EK</strong>.</p>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Libro 2 kg a 5 m</strong><br>
            \( E_{pg} = 2 \\cdot 9.8 \\cdot 5 = 98\\,\\text{J} \)<br>
            Al caer: \( v = \\sqrt{2gh} = \\sqrt{98} \\approx 9.9\\,\\text{m/s} \)</p>
        </div>

        <div class="visual">
            <img src="assets/img/energia-potencial_gravitacional.gif" alt="Tipos de energ√≠a">
            <p><em>EPG en el contexto. Fuente: Science Facts.</em></p>
        </div>

        <hr style="border:1px dashed #D32F2F;">

        <h4>3. SVG Animado: Ca√≠da Libre + Conservaci√≥n</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <rect x="0" y="0" width="800" height="500" fill="#FFEBEE"/>
                <text x="400" y="50" fill="#B71C1C" font-size="28" text-anchor="middle" font-weight="bold">EPG ‚Üí EK</text>

                <rect x="100" y="100" width="600" height="300" fill="#FFCCBC" rx="10"/>
                <line x1="100" y1="400" x2="700" y2="400" stroke="#B71C1C" stroke-width="4"/>

                <g id="objeto">
                    <circle cx="400" cy="120" r="25" fill="#1976D2">
                        <animate attributeName="cy" values="120;380" begin="0.5s" dur="2s" fill="freeze"/>
                    </circle>
                    <text x="400" y="130" fill="white" font-size="14" text-anchor="middle">m</text>
                </g>

                <g id="altura" opacity="0">
                    <line x1="380" y1="120" x2="380" y2="380" stroke="#4CAF50" stroke-width="3" stroke-dasharray="5,5"/>
                    <text x="360" y="250" fill="#2E7D32" font-size="14" text-anchor="middle">h</text>
                    <animate attributeName="opacity" values="0;1" begin="0s" dur="0.5s"/>
                </g>

                <g id="epg" opacity="0">
                    <rect x="100" y="420" width="300" height="60" fill="#C8E6C9" rx="10"/>
                    <text x="250" y="450" fill="#1B5E20" font-size="14" text-anchor="middle">EPG = mgh</text>
                    <animate attributeName="opacity" values="1;0" begin="0.5s" dur="2s"/>
                </g>

                <g id="ek" opacity="0">
                    <rect x="400" y="420" width="300" height="60" fill="#FFCCBC" rx="10"/>
                    <text x="550" y="450" fill="#B71C1C" font-size="14" text-anchor="middle">EK = ¬Ωmv¬≤</text>
                    <animate attributeName="opacity" values="0;1" begin="2.5s" dur="0.5s"/>
                </g>

                <text x="400" y="490" fill="#B71C1C" font-size="12" text-anchor="middle">SI 2025: g = 9.80665 m/s¬≤ | Conservaci√≥n E_mec</text>
            </svg>
            <p><em>SVG Animado: Objeto cae ‚Üí EPG disminuye ‚Üí EK aumenta.</em></p>
        </div>
    ',
    'ejercicios' => [
        ['enunciado' => 'F√≥rmula EPG', 'respuesta' => 'm g h'],
        ['enunciado' => 'g Tierra', 'respuesta' => '9.8 m/s¬≤'],
        ['enunciado' => 'h = 0 ‚Üí EPG', 'respuesta' => '0'],
        ['enunciado' => 'Ca√≠da libre: EPG ‚Üí', 'respuesta' => 'EK'],
        ['enunciado' => 'm = 3 kg, h = 10 m', 'respuesta' => '294 J'],
        ['enunciado' => 'v final (h = 20 m)', 'respuesta' => '19.8 m/s'],
        ['enunciado' => 'EPG en Luna (g ‚âà 1.6 m/s¬≤)', 'respuesta' => 'm √ó 1.6 √ó h'],
        ['enunciado' => 'Trabajo gravitacional', 'respuesta' => '-ŒîEPG'],
        ['enunciado' => 'Conservaci√≥n en p√©ndulo', 'respuesta' => 'EPG + EK = cte'],
        ['enunciado' => '1 kJ =', 'respuesta' => '1000 J'],
        ['enunciado' => 'g Marte ‚âà', 'respuesta' => '3.7 m/s¬≤'],
        ['enunciado' => 'EPG m√°xima en', 'respuesta' => 'h m√°xima']
    ],
    'quiz' => [
        ['pregunta' => 'EPG =', 'opciones' => ['mgh', '¬Ωmv¬≤', 'Fd', 'PV'], 'correcta' => 'mgh'],
        ['pregunta' => 'Depende de', 'opciones' => ['m, g, h', 'solo m', 'solo v', 'F'], 'correcta' => 'm, g, h'],
        ['pregunta' => 'g ‚âà', 'opciones' => ['9.8 m/s¬≤', '9.8 N', '9.8 kg', '0'], 'correcta' => '9.8 m/s¬≤'],
        ['pregunta' => 'h = 0 ‚Üí EPG', 'opciones' => ['0', '‚àû', 'm√°xima', 'negativa'], 'correcta' => '0'],
        ['pregunta' => 'Ca√≠da: EPG', 'opciones' => ['disminuye', 'aumenta', 'igual', 'cero'], 'correcta' => 'disminuye'],
        ['pregunta' => 'EK aumenta al', 'opciones' => ['caer', 'subir', 'reposo', 'girar'], 'correcta' => 'caer'],
        ['pregunta' => 'm = 1 kg, h = 10 m ‚Üí EPG', 'opciones' => ['98 J', '9.8 J', '980 J', '0 J'], 'correcta' => '98 J'],
        ['pregunta' => 'g en Luna', 'opciones' => ['1/6 Tierra', 'igual', 'doble', 'cero'], 'correcta' => '1/6 Tierra'],
        ['pregunta' => 'Conservaci√≥n E_mec', 'opciones' => ['EPG + EK = cte', 'solo EPG', 'solo EK', 'nada'], 'correcta' => 'EPG + EK = cte'],
        ['pregunta' => 'Unidad EPG', 'opciones' => ['Joule', 'Newton', 'Watt', 'Pascal'], 'correcta' => 'Joule'],

        ['pregunta' => 'v = ‚àö(2gh) en', 'opciones' => ['ca√≠da libre', 'lanzamiento', 'fricci√≥n', 'aire'], 'correcta' => 'ca√≠da libre'],
        ['pregunta' => 'Trabajo gravedad =', 'opciones' => ['-ŒîEPG', 'ŒîEPG', '¬Ωmv¬≤', 'mgh'], 'correcta' => '-ŒîEPG'],
        ['pregunta' => 'P√©ndulo: m√°xima EPG en', 'opciones' => ['puntos extremos', 'centro', 'arriba', 'abajo'], 'correcta' => 'puntos extremos'],
        ['pregunta' => '1 kWh =', 'opciones' => ['3.6 MJ', '3.6 kJ', '36 MJ', '0.36 MJ'], 'correcta' => '3.6 MJ'],
        ['pregunta' => 'g Marte ‚âà', 'opciones' => ['3.7 m/s¬≤', '9.8 m/s¬≤', '1.6 m/s¬≤', '25 m/s¬≤'], 'correcta' => '3.7 m/s¬≤'],
        ['pregunta' => 'En vac√≠o, EPG ‚Üí EK', 'opciones' => ['100%', '50%', '0%', 'variable'], 'correcta' => '100%'],
        ['pregunta' => 'Referencia h = 0', 'opciones' => ['arbitraria', 'obligatoria', 'infinita', 'negativa'], 'correcta' => 'arbitraria'],
        ['pregunta' => 'EPG en espacio profundo', 'opciones' => ['0', 'infinita', 'mgh', 'negativa'], 'correcta' => '0'],
        ['pregunta' => 'Conservaci√≥n v√°lida si', 'opciones' => ['fuerzas conservativas', 'fricci√≥n', 'aire', 'calor'], 'correcta' => 'fuerzas conservativas'],
        ['pregunta' => 'SI 2025: g =', 'opciones' => ['9.80665 m/s¬≤', '10 m/s¬≤', '9.8 N/kg', '0'], 'correcta' => '9.80665 m/s¬≤'],

        ['pregunta' => 'v final desde h = 50 m', 'opciones' => ['31.3 m/s', '50 m/s', '9.8 m/s', '500 m/s'], 'correcta' => '31.3 m/s'],
        ['pregunta' => 'EPG para 500 kg a 100 m', 'opciones' => ['490 kJ', '49 kJ', '4.9 MJ', '0 J'], 'correcta' => '490 kJ'],
        ['pregunta' => 'Trabajo para subir 10 kg 3 m', 'opciones' => ['294 J', '-294 J', '0 J', '98 J'], 'correcta' => '294 J'],
        ['pregunta' => 'En resorte, energ√≠a es', 'opciones' => ['el√°stica', 'gravitacional', 'cin√©tica', 't√©rmica'], 'correcta' => 'el√°stica'],
        ['pregunta' => 'ŒîEPG =', 'opciones' => ['mgŒîh', '¬Ωmv¬≤', 'Fd', 'PŒît'], 'correcta' => 'mgŒîh'],
        ['pregunta' => 'En √≥rbita, EPG', 'opciones' => ['negativa', 'cero', 'positiva', 'infinita'], 'correcta' => 'negativa'],
        ['pregunta' => 'g J√∫piter ‚âà', 'opciones' => ['25 m/s¬≤', '9.8 m/s¬≤', '3.7 m/s¬≤', '1.6 m/s¬≤'], 'correcta' => '25 m/s¬≤'],
        ['pregunta' => 'Energ√≠a total en ca√≠da', 'opciones' => ['constante', 'aumenta', 'disminuye', 'cero'], 'correcta' => 'constante'],
        ['pregunta' => 'Fuerza gravitacional es', 'opciones' => ['conservativa', 'no conservativa', 'disipativa', 'reactiva'], 'correcta' => 'conservativa'],
        ['pregunta' => 'SI 2025: 1 MJ =', 'opciones' => ['10‚Å∂ J', '10¬≥ J', '10‚Åπ J', '10‚Åª‚Å∂ J'], 'correcta' => '10‚Å∂ J']
    ]
];
// ========================================
// materia: F√çSICA I
// Sub-tema: Energ√≠a Potencial El√°stica, Ley de Hooke
// ========================================
$lecciones[] = [
    'materia' => 'F√≠sica I',
    'slug' => 'energia-potencial-elastica-hooke',
    'titulo' => 'Energ√≠a Potencial El√°stica y Ley de Hooke',
    'contenido' => '
        <h3>Energ√≠a Potencial El√°stica y Ley de Hooke</h3>
        <p>La <strong>ley de Hooke</strong> establece que la fuerza restauradora de un resorte es proporcional a su deformaci√≥n:</p>
        <p>\[
            F = -k x
        \]</p>
        <p>La <strong>energ√≠a potencial el√°stica</strong> almacenada es:</p>
        <p>\[
            E_{pe} = \\frac{1}{2} k x^2
        \]</p>

        <hr style="border:1px dashed #1976D2;">

        <h4>1. Ley de Hooke</h4>
        <table class="table">
            <thead>
                <tr><th>Variable</th><th>Significado</th><th>Unidad SI</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>F</strong></td><td>Fuerza restauradora</td><td>N</td></tr>
                <tr><td><strong>k</strong></td><td>Constante el√°stica</td><td>N/m</td></tr>
                <tr><td><strong>x</strong></td><td>Deformaci√≥n</td><td>m</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #1976D2;">

        <h4>2. Energ√≠a Potencial El√°stica</h4>
        <p>\[
            E_{pe} = \\int F \\, dx = \\int_{-x}^{x} kx \\, dx = \\frac{1}{2} k x^2
        \]</p>
        <ul>
            <li>Proporcional a <strong>k</strong> y a <strong>x¬≤</strong></li>
            <li>M√°xima en deformaci√≥n m√°xima</li>
            <li>Cero en x = 0</li>
        </ul>

        <hr style="border:1px dashed #1976D2;">

        <h4>3. Conservaci√≥n en Resorte</h4>
        <p>\[
            E_k + E_{pe} = \\text{constante}
        \]</p>
        <p>Ejemplo: Masa en resorte vertical ‚Üí oscila.</p>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Resorte k = 200 N/m, x = 0.2 m</strong><br>
            \( E_{pe} = \\frac{1}{2} \\cdot 200 \\cdot 0.04 = 4\\,\\text{J} \)</p>
        </div>

        <div class="visual">
            <img src="assets/img/energia-potencial_elastica.jpg" alt="Energ√≠a el√°stica en tipos">
            <p><em>Tipos de energ√≠a. Fuente: Science Facts.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/tranformacion-EPG.jpg" alt="Resorte energ√≠a">
            <p><em>Transformaci√≥n. Fuente: Physics Classroom.</em></p>
        </div>

        <hr style="border:1px dashed #1976D2;">

        <h4>4. SVG Animado: Resorte + EPE</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <rect x="0" y="0" width="800" height="500" fill="#E3F2FD"/>
                <text x="400" y="50" fill="#0D47A1" font-size="28" text-anchor="middle" font-weight="bold">LEY DE HOOKE</text>

                <g id="resorte">
                    <line x1="400" y1="100" x2="400" y2="150" stroke="#1976D2" stroke-width="6"/>
                    <path d="M400 150 Q380 170 400 190 Q420 210 400 230 Q380 250 400 270 Q420 290 400 310 Q380 330 400 350" stroke="#1976D2" stroke-width="6" fill="none">
                        <animate attributeName="d" values="M400 150 Q380 170 400 190 Q420 210 400 230 Q380 250 400 270 Q420 290 400 310 Q380 330 400 350;
                                                          M400 150 Q370 180 400 210 Q430 240 400 270 Q370 300 400 330 Q430 360 400 390 Q370 420 400 450;
                                                          M400 150 Q380 170 400 190 Q420 210 400 230 Q380 250 400 270 Q420 290 400 310 Q380 330 400 350" dur="4s" repeatCount="indefinite"/>
                    </path>
                    <rect x="370" y="350" width="60" height="40" fill="#42A5F5" rx="10"/>
                    <text x="400" y="375" fill="white" font-size="14" text-anchor="middle">m</text>
                </g>

                <g id="energia">
                    <rect x="100" y="300" width="600" height="120" fill="#BBDEFB" rx="15"/>
                    <text x="400" y="330" fill="#1565C0" font-size="16" text-anchor="middle">EPE = ¬Ω k x¬≤</text>
                    <text x="400" y="360" fill="#0D47A1" font-size="14" text-anchor="middle">k = constante resorte</text>
                    <text x="400" y="390" fill="#1976D2" font-size="12" text-anchor="middle">x = deformaci√≥n</text>
                </g>

                <text x="400" y="470" fill="#1565C0" font-size="12" text-anchor="middle">SI 2025: 1 J = N¬∑m | k en N/m</text>
            </svg>
            <p><em>SVG Animado: Resorte se estira ‚Üí EPE aumenta.</em></p>
        </div>
    ',
    'ejercicios' => [
        ['enunciado' => 'F√≥rmula ley de Hooke', 'respuesta' => 'F = -k x'],
        ['enunciado' => 'F√≥rmula EPE', 'respuesta' => '¬Ω k x¬≤'],
        ['enunciado' => 'Unidad k', 'respuesta' => 'N/m'],
        ['enunciado' => 'Signo - en Hooke', 'respuesta' => 'Fuerza restauradora'],
        ['enunciado' => 'k = 500 N/m, x = 0.1 m ‚Üí EPE', 'respuesta' => '2.5 J'],
        ['enunciado' => 'x dobla ‚Üí EPE', 'respuesta' => '√ó4'],
        ['enunciado' => 'Resorte relajado EPE', 'respuesta' => '0'],
        ['enunciado' => 'Trabajo para comprimir =', 'respuesta' => 'ŒîEPE'],
        ['enunciado' => 'F constante en resorte', 'respuesta' => 'No (var√≠a con x)'],
        ['enunciado' => 'L√≠mite el√°stico', 'respuesta' => 'Hooke v√°lido'],
        ['enunciado' => 'k alto ‚Üí resorte', 'respuesta' => 'M√°s r√≠gido'],
        ['enunciado' => 'EPE m√°xima en', 'respuesta' => 'x m√°xima']
    ],
    'quiz' => [
        ['pregunta' => 'Ley de Hooke F =', 'opciones' => ['-k x', 'k x', 'm a', 'm g'], 'correcta' => '-k x'],
        ['pregunta' => 'EPE =', 'opciones' => ['¬Ω k x¬≤', 'k x', 'm g h', '¬Ω m v¬≤'], 'correcta' => '¬Ω k x¬≤'],
        ['pregunta' => 'k unidad', 'opciones' => ['N/m', 'J', 'kg', 'm/s¬≤'], 'correcta' => 'N/m'],
        ['pregunta' => 'x = deformaci√≥n', 'opciones' => ['S√≠', 'No', 'A veces', 'Nunca'], 'correcta' => 'S√≠'],
        ['pregunta' => 'Signo - indica', 'opciones' => ['Restauradora', 'Positiva', 'Nada', 'Error'], 'correcta' => 'Restauradora'],
        ['pregunta' => 'Resorte relajado F =', 'opciones' => ['0', 'k', 'x', 'm√°xima'], 'correcta' => '0'],
        ['pregunta' => 'x dobla ‚Üí EPE', 'opciones' => ['√ó4', '√ó2', '¬Ω', 'igual'], 'correcta' => '√ó4'],
        ['pregunta' => 'k dobla ‚Üí EPE', 'opciones' => ['√ó2', '√ó4', '¬Ω', 'igual'], 'correcta' => '√ó2'],
        ['pregunta' => 'Trabajo = ŒîEPE', 'opciones' => ['S√≠', 'No', 'A veces', 'Nunca'], 'correcta' => 'S√≠'],
        ['pregunta' => 'L√≠mite el√°stico', 'opciones' => ['Hooke v√°lido', 'Siempre', 'Nunca', 'Solo x=0'], 'correcta' => 'Hooke v√°lido'],

        ['pregunta' => 'k = 100 N/m, x = 0.2 m ‚Üí EPE', 'opciones' => ['2 J', '20 J', '4 J', '0 J'], 'correcta' => '2 J'],
        ['pregunta' => 'F = 50 N, k = 500 N/m ‚Üí x', 'opciones' => ['0.1 m', '10 m', '0.01 m', '50 m'], 'correcta' => '0.1 m'],
        ['pregunta' => 'Resorte r√≠gido tiene k', 'opciones' => ['alto', 'bajo', 'cero', 'negativo'], 'correcta' => 'alto'],
        ['pregunta' => 'Energ√≠a en resorte oscilante', 'opciones' => ['EP + EK = cte', 'solo EP', 'solo EK', 'crece'], 'correcta' => 'EP + EK = cte'],
        ['pregunta' => 'M√°ximo EK en resorte', 'opciones' => ['x = 0', 'x m√°xima', 'x = 1', 'x = k'], 'correcta' => 'x = 0'],
        ['pregunta' => 'M√°ximo EPE en', 'opciones' => ['x m√°xima', 'x = 0', 'v m√°xima', 'm = 0'], 'correcta' => 'x m√°xima'],
        ['pregunta' => 'Per√≠odo resorte T =', 'opciones' => ['2œÄ ‚àö(m/k)', '2œÄ ‚àö(k/m)', '2œÄ m/k', '2œÄ k/m'], 'correcta' => '2œÄ ‚àö(m/k)'],
        ['pregunta' => 'Fuerza constante ‚Üí EPE', 'opciones' => ['No cuadr√°tica', 'cuadr√°tica', 'lineal', 'cero'], 'correcta' => 'No cuadr√°tica'],
        ['pregunta' => 'SI: k en', 'opciones' => ['N/m', 'J/m', 'kg/s¬≤', 'Pa'], 'correcta' => 'N/m'],
        ['pregunta' => 'IUPAC/SI 2025: EPE en', 'opciones' => ['Joule', 'cal', 'eV', 'kWh'], 'correcta' => 'Joule'],

        ['pregunta' => 'k = 800 N/m, x = 0.05 m ‚Üí EPE', 'opciones' => ['1 J', '2 J', '0.5 J', '10 J'], 'correcta' => '1 J'],
        ['pregunta' => 'Trabajo para estirar 0.1 m (k=400 N/m)', 'opciones' => ['2 J', '40 J', '4 J', '0 J'], 'correcta' => '2 J'],
        ['pregunta' => 'Resorte serie: k_eq =', 'opciones' => ['k/2', '2k', 'k', '0'], 'correcta' => 'k/2'],
        ['pregunta' => 'Resorte paralelo: k_eq =', 'opciones' => ['2k', 'k/2', 'k', '0'], 'correcta' => '2k'],
        ['pregunta' => 'Energ√≠a disipada en amortiguador', 'opciones' => ['T√©rmica', 'El√©ctrica', 'Nuclear', 'Radiante'], 'correcta' => 'T√©rmica'],
        ['pregunta' => 'Fuerza m√°xima en resorte', 'opciones' => ['k x_max', 'k', 'x', '0'], 'correcta' => 'k x_max'],
        ['pregunta' => 'L√≠mite proporcional', 'opciones' => ['Hooke v√°lido', 'Pl√°stico', 'Roto', 'Cero'], 'correcta' => 'Hooke v√°lido'],
        ['pregunta' => 'M√≥dulo Young Y =', 'opciones' => ['œÉ/Œµ', 'F/A', 'ŒîL/L', 'kL/A'], 'correcta' => 'œÉ/Œµ'],
        ['pregunta' => 'Resorte ideal vs real', 'opciones' => ['Real pierde energ√≠a', 'Igual', 'Ideal m√°s r√≠gido', 'Real m√°s r√≠gido'], 'correcta' => 'Real pierde energ√≠a'],
        ['pregunta' => 'SI 2025: 1 J =', 'opciones' => ['N¬∑m', 'kg¬∑m/s¬≤', 'W¬∑s', 'todas'], 'correcta' => 'todas']
    ]
];
// ========================================
// materia: F√çSICA I
// Sub-tema: El Trabajo (T = F* cos(√Ångulo)*d)
// ========================================
$lecciones[] = [
    'materia' => 'F√≠sica I',
    'slug' => 'trabajo',
    'titulo' => 'El Trabajo: W = F ¬∑ d cos Œ∏',
    'contenido' => '
        <h3>El Trabajo en F√≠sica</h3>
        <p>El <strong>trabajo</strong> (\(W\)) es la <strong>transferencia de energ√≠a</strong> cuando una fuerza act√∫a sobre un objeto a lo largo de un desplazamiento. Su f√≥rmula es:</p>
        <p>\[
            W = F d \\cos \\theta
        \]</p>
        <p>Donde <strong>F</strong> = magnitud de la fuerza (N), <strong>d</strong> = desplazamiento (m), <strong>Œ∏</strong> = √°ngulo entre F y d.</p>

        <hr style="border:1px dashed #388E3C;">

        <h4>1. Condiciones del Trabajo</h4>
        <table class="table">
            <thead>
                <tr><th>√Ångulo Œ∏</th><th>cos Œ∏</th><th>Trabajo</th></tr>
            </thead>
            <tbody>
                <tr><td>0¬∞</td><td>1</td><td>M√°ximo positivo</td></tr>
                <tr><td>90¬∞</td><td>0</td><td>Cero (fuerza ‚ä• desplazamiento)</td></tr>
                <tr><td>180¬∞</td><td>-1</td><td>M√°ximo negativo</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #388E3C;">

        <h4>2. Relaci√≥n con Energ√≠a</h4>
        <p>\[
            W_{\\text{neto}} = \\Delta E_k \\quad (\\text{Teorema Trabajo-Energ√≠a})
        \]</p>
        <p>Trabajo positivo ‚Üí aumenta EK<br>
        Trabajo negativo ‚Üí disminuye EK</p>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>F = 50 N, d = 10 m, Œ∏ = 30¬∞</strong><br>
            \( W = 50 \\cdot 10 \\cdot \\cos 30^\\circ = 500 \\cdot 0.866 = 433\\,\\text{J} \)</p>
        </div>

        <div class="visual">
            <img src="assets/img/formula.gif" alt="Diagrama trabajo">
            <p><em>Fuerza y desplazamiento. Fuente: Physics Classroom.</em></p>
        </div>

        <hr style="border:1px dashed #388E3C;">

        <h4>3. SVG Animado: Trabajo Positivo, Nulo y Negativo</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <rect x="0" y="0" width="800" height="500" fill="#E8F5E9"/>

                <text x="400" y="50" fill="#1B5E20" font-size="28" text-anchor="middle" font-weight="bold">TRABAJO = F ¬∑ d cos Œ∏</text>

                <g id="positivo" transform="translate(50,100)">
                    <line x1="0" y1="150" x2="300" y2="150" stroke="#4CAF50" stroke-width="4"/>
                    <path d="M0 150 L50 130 L100 150 L150 130 L200 150 L250 130 L300 150" stroke="#4CAF50" stroke-width="3" fill="none"/>
                    <text x="150" y="140" fill="#2E7D32" font-size="14" text-anchor="middle">d</text>
                    <line x1="50" y1="150" x2="150" y2="100" stroke="#D32F2F" stroke-width="5"/>
                    <text x="100" y="90" fill="#B71C1C" font-size="14" text-anchor="middle">F</text>
                    <text x="150" y="200" fill="#1B5E20" font-size="14" text-anchor="middle">Œ∏ = 0¬∞ ‚Üí W = +Fd</text>
                </g>

                <g id="nulo" transform="translate(50,280)" opacity="0">
                    <line x1="0" y1="50" x2="300" y2="50" stroke="#4CAF50" stroke-width="4"/>
                    <text x="150" y="40" fill="#2E7D32" font-size="14" text-anchor="middle">d</text>
                    <line x1="150" y1="50" x2="150" y2="150" stroke="#D32F2F" stroke-width="5"/>
                    <text x="160" y="100" fill="#B71C1C" font-size="14">F</text>
                    <text x="150" y="180" fill="#1B5E20" font-size="14" text-anchor="middle">Œ∏ = 90¬∞ ‚Üí W = 0</text>
                    <animate attributeName="opacity" values="0;1" begin="1s" dur="0.5s"/>
                </g>

                <g id="negativo" transform="translate(450,100)" opacity="0">
                    <line x1="300" y1="150" x2="0" y2="150" stroke="#4CAF50" stroke-width="4"/>
                    <text x="150" y="140" fill="#2E7D32" font-size="14" text-anchor="middle">d</text>
                    <line x1="250" y1="150" x2="150" y2="100" stroke="#D32F2F" stroke-width="5"/>
                    <text x="200" y="90" fill="#B71C1C" font-size="14" text-anchor="middle">F</text>
                    <text x="150" y="200" fill="#1B5E20" font-size="14" text-anchor="middle">Œ∏ = 180¬∞ ‚Üí W = -Fd</text>
                    <animate attributeName="opacity" values="0;1" begin="2s" dur="0.5s"/>
                </g>

                <rect x="100" y="380" width="600" height="80" fill="#C8E6C9" rx="15"/>
                <text x="400" y="410" fill="#1B5E20" font-size="16" text-anchor="middle">W_neto = ŒîEK</text>
                <text x="400" y="435" fill="#2E7D32" font-size="12" text-anchor="middle">SI 2025: 1 J = N¬∑m</text>

            </svg>
            <p><em>SVG Animado: Trabajo positivo, nulo y negativo.</em></p>
        </div>
    ',
    'ejercicios' => [
        ['enunciado' => 'F√≥rmula trabajo', 'respuesta' => 'F d cos Œ∏'],
        ['enunciado' => 'Œ∏ = 90¬∞ ‚Üí W', 'respuesta' => '0'],
        ['enunciado' => 'Unidad trabajo', 'respuesta' => 'Joule (J)'],
        ['enunciado' => 'Trabajo negativo cuando', 'respuesta' => 'F opuesta a d'],
        ['enunciado' => 'F = 20 N, d = 5 m, Œ∏ = 0¬∞', 'respuesta' => '100 J'],
        ['enunciado' => 'F = 30 N, d = 4 m, Œ∏ = 60¬∞', 'respuesta' => '60 J'],
        ['enunciado' => 'Trabajo gravedad al subir', 'respuesta' => '-mg h'],
        ['enunciado' => 'Fuerza ‚ä• a d ‚Üí W', 'respuesta' => '0'],
        ['enunciado' => 'W_neto =', 'respuesta' => 'ŒîEK'],
        ['enunciado' => '1 kJ =', 'respuesta' => '1000 J'],
        ['enunciado' => 'F variable ‚Üí W =', 'respuesta' => '‚à´ F dx'],
        ['enunciado' => 'Trabajo motor auto', 'respuesta' => 'Aumenta EK']
    ],
    'quiz' => [
        ['pregunta' => 'Trabajo =', 'opciones' => ['F d cos Œ∏', 'F d', 'm a d', 'P t'], 'correcta' => 'F d cos Œ∏'],
        ['pregunta' => 'Unidad trabajo', 'opciones' => ['Joule', 'Newton', 'Metro', 'Watt'], 'correcta' => 'Joule'],
        ['pregunta' => 'Œ∏ = 0¬∞ ‚Üí cos Œ∏ =', 'opciones' => ['1', '0', '-1', '0.5'], 'correcta' => '1'],
        ['pregunta' => 'Œ∏ = 90¬∞ ‚Üí W =', 'opciones' => ['0', 'Fd', '-Fd', 'm√°ximo'], 'correcta' => '0'],
        ['pregunta' => 'Trabajo positivo ‚Üí EK', 'opciones' => ['Aumenta', 'Disminuye', 'Igual', 'Cero'], 'correcta' => 'Aumenta'],
        ['pregunta' => 'F = 100 N, d = 2 m, Œ∏ = 0¬∞ ‚Üí W', 'opciones' => ['200 J', '100 J', '0 J', '50 J'], 'correcta' => '200 J'],
        ['pregunta' => 'Fuerza ‚ä• a d ‚Üí W', 'opciones' => ['0', 'm√°ximo', 'negativo', 'infinito'], 'correcta' => '0'],
        ['pregunta' => 'Trabajo gravedad al caer', 'respuesta' => '+mg h'],
        ['pregunta' => 'W_neto =', 'opciones' => ['ŒîEK', 'ŒîEP', 'ŒîU', 'P Œît'], 'correcta' => 'ŒîEK'],
        ['pregunta' => '1 J =', 'opciones' => ['N¬∑m', 'kg¬∑m/s¬≤', 'W¬∑s', 'todas'], 'correcta' => 'todas'],

        ['pregunta' => 'F = 40 N, d = 3 m, Œ∏ = 30¬∞ ‚Üí W', 'opciones' => ['104 J', '120 J', '60 J', '0 J'], 'correcta' => '104 J'],
        ['pregunta' => 'Trabajo fricci√≥n', 'opciones' => ['Negativo', 'Positivo', 'Cero', 'Variable'], 'correcta' => 'Negativo'],
        ['pregunta' => 'Motor hace W = 500 J ‚Üí EK', 'opciones' => ['+500 J', '-500 J', '0 J', '500 N'], 'correcta' => '+500 J'],
        ['pregunta' => 'F variable ‚Üí W =', 'opciones' => ['√°rea bajo F vs d', 'F promedio ¬∑ d', 'F m√°x ¬∑ d', '0'], 'correcta' => '√°rea bajo F vs d'],
        ['pregunta' => 'Trabajo en c√≠rculo completo', 'opciones' => ['0 (fuerza central)', 'Fd', '2œÄr F', 'infinito'], 'correcta' => '0 (fuerza central)'],
        ['pregunta' => 'Fuerza conservativa ‚Üí W', 'opciones' => ['independiente camino', 'depende camino', 'siempre 0', 'siempre Fd'], 'correcta' => 'independiente camino'],
        ['pregunta' => 'Trabajo m√≠nimo para mover', 'opciones' => ['Œ∏ = 0¬∞', 'Œ∏ = 90¬∞', 'Œ∏ = 180¬∞', 'cualquiera'], 'correcta' => 'Œ∏ = 0¬∞'],
        ['pregunta' => 'SI 2025: trabajo en', 'opciones' => ['Joule', 'erg', 'calor√≠a', 'eV'], 'correcta' => 'Joule'],
        ['pregunta' => 'F = 15 N, d = 4 m, Œ∏ = 180¬∞ ‚Üí W', 'opciones' => ['-60 J', '60 J', '0 J', '15 J'], 'correcta' => '-60 J'],
        ['pregunta' => 'Potencia =', 'opciones' => ['W / t', 'W ¬∑ t', 'F / d', 'E / m'], 'correcta' => 'W / t'],

        ['pregunta' => 'F = 200 N, d = 10 m, Œ∏ = 53¬∞ ‚Üí W ‚âà', 'opciones' => ['1200 J', '2000 J', '0 J', '1000 J'], 'correcta' => '1200 J'],
        ['pregunta' => 'Trabajo total =', 'opciones' => ['‚àë W_i', 'W_m√°x', 'W_m√≠n', '0'], 'correcta' => '‚àë W_i'],
        ['pregunta' => 'Fuerza normal piso ‚Üí W', 'opciones' => ['0', 'mg d', 'mg h', 'Fd'], 'correcta' => '0'],
        ['pregunta' => 'W = ‚à´ F dx para', 'opciones' => ['F variable', 'F constante', 'Œ∏ = 0', 'Œ∏ = 90¬∞'], 'correcta' => 'F variable'],
        ['pregunta' => 'Trabajo gravitacional =', 'opciones' => ['-mg Œîh', 'mg Œîh', 'mg d', '0'], 'correcta' => '-mg Œîh'],
        ['pregunta' => 'Energ√≠a mec√°nica total', 'opciones' => ['EK + EP', 'W', 'P', 'F d'], 'correcta' => 'EK + EP'],
        ['pregunta' => 'Fricci√≥n est√°tica ‚Üí W', 'opciones' => ['0 (sin movimiento)', 'Œº N d', 'Fd', 'infinito'], 'correcta' => '0 (sin movimiento)'],
        ['pregunta' => '1 kWh =', 'opciones' => ['3.6 MJ', '3.6 kJ', '36 MJ', '0.36 MJ'], 'correcta' => '3.6 MJ'],
        ['pregunta' => 'Trabajo en resorte =', 'opciones' => ['¬Ω k x¬≤', 'k x', 'F d', 'm g h'], 'correcta' => '¬Ω k x¬≤'],
        ['pregunta' => 'SI 2025: 1 J =', 'opciones' => ['1 N¬∑m', '1 kg¬∑m¬≤/s¬≤', '1 W¬∑s', 'todas'], 'correcta' => 'todas']
    ]
];
// ========================================
// materia: F√çSICA I
// Sub-tema: Energ√≠a y Colisiones, Impulso Mec√°nico, Cantidad de Movimiento, Relaci√≥n entre Impulso y Cantidad de Movimiento (F = m*a), Ley de Conservaci√≥n de la Cantidad de Movimiento, Choques El√°sticos e Inel√°sticos, Coeficiente de Restituci√≥n, Cantidad de Movimiento
// ========================================
$lecciones[] = [
    'materia' => 'F√≠sica I',
    'slug' => 'energia-colisiones-impulso-movimiento',
    'titulo' => 'Energ√≠a y Colisiones: Impulso, Cantidad de Movimiento, Conservaci√≥n, Choques El√°sticos e Inel√°sticos, Coeficiente de Restituci√≥n',
    'contenido' => '
        <h3>Energ√≠a y Colisiones: Fundamentos Mec√°nicos</h3>
        <p>En colisiones, la <strong>cantidad de movimiento</strong> (\(p = m v\)) se conserva en sistemas cerrados. El <strong>impulso</strong> (\(J = F \\Delta t = \\Delta p\)) relaciona fuerza con cambio de movimiento. La <strong>energ√≠a cin√©tica</strong> se conserva solo en choques <strong>el√°sticos</strong> (\(e = 1\)), no en <strong>inel√°sticos</strong> (\(e < 1\)).</p>

        <hr style="border:1px dashed #1976D2;">

        <h4>1. Cantidad de Movimiento e Impulso</h4>
        <table class="table">
            <thead>
                <tr><th>Concepto</th><th>F√≥rmula</th><th>Unidad SI</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Cantidad de movimiento (p)</strong></td><td>\(p = m v\)</td><td>kg¬∑m/s</td></tr>
                <tr><td><strong>Impulso (J)</strong></td><td>\(J = F \\Delta t = \\Delta p\)</td><td>N¬∑s</td></tr>
                <tr><td><strong>F = m a</strong></td><td>2¬™ Ley de Newton</td><td>N</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #1976D2;">

        <h4>2. Conservaci√≥n de la Cantidad de Movimiento</h4>
        <p>\[
            \\sum p_i = \\sum p_f \\quad (\\text{sistema aislado})
        \]</p>
        <p>V√°lida en <strong>todas</strong> las colisiones (el√°sticas e inel√°sticas).</p>

        <hr style="border:1px dashed #1976D2;">

        <h4>3. Tipos de Colisiones</h4>
        <table class="table">
            <thead>
                <tr><th>Tipo</th><th>e</th><th>Conservaci√≥n EK</th><th>v final</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>El√°stica</strong></td><td>1</td><td>S√≠</td><td>Separadas</td></tr>
                <tr><td><strong>Inel√°stica</strong></td><td>0 < e < 1</td><td>No</td><td>Separadas</td></tr>
                <tr><td><strong>Perfectamente Inel√°stica</strong></td><td>0</td><td>No (m√°xima p√©rdida)</td><td>Juntas</td></tr>
            </tbody>
        </table>

        <p><strong>Coeficiente de restituci√≥n:</strong></p>
        <p>\[
            e = -\\frac{v_2 - v_1}{u_2 - u_1}
        \]</p>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>m‚ÇÅ = 2 kg, u‚ÇÅ = 5 m/s; m‚ÇÇ = 3 kg, u‚ÇÇ = 0</strong><br>
            <strong>Perfectamente inel√°stica:</strong><br>
            \( v = \\frac{2\\cdot5 + 3\\cdot0}{2+3} = 2\\,\\text{m/s} \)<br>
            \( \\Delta E_k = \\frac{1}{2}(2)(25) - \\frac{1}{2}(5)(4) = 25 - 10 = 15\\,\\text{J (perdida)} \)</p>
        </div>

        <div class="visual">
            <img src="assets/img/colisiones.jpg" alt="Energ√≠a en colisiones">
            <p><em>Contexto energ√©tico. Fuente: GeeksforGeeks.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/choque-elastico.webp" alt="Colisi√≥n el√°stica">
            <p><em>Simulaci√≥n. Fuente: Physics Classroom.</em></p>
        </div>

        <hr style="border:1px dashed #1976D2;">

        <h4>4. SVG Animado: Colisi√≥n El√°stica vs Inel√°stica</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <rect x="0" y="0" width="800" height="500" fill="#E3F2FD"/>
                <text x="400" y="50" fill="#0D47A1" font-size="28" text-anchor="middle" font-weight="bold">COLISIONES: p y EK</text>

                <rect x="50" y="100" width="700" height="80" fill="#BBDEFB" rx="10"/>
                <text x="400" y="130" fill="#1565C0" font-size="16" text-anchor="middle">p = m v | J = Œîp</text>
                <text x="400" y="160" fill="#0D47A1" font-size="14" text-anchor="middle">Conservaci√≥n p: siempre</text>

                <g id="elastica">
                    <circle cx="150" cy="250" r="30" fill="#42A5F5">
                        <animate attributeName="cx" values="150;400;150" begin="0.5s" dur="3s" repeatCount="indefinite"/>
                    </circle>
                    <text x="150" y="255" fill="white" font-size="12" text-anchor="middle">m‚ÇÅ</text>

                    <circle cx="650" cy="250" r="40" fill="#EF5350">
                        <animate attributeName="cx" values="650;400;650" begin="0.5s" dur="3s" repeatCount="indefinite"/>
                    </circle>
                    <text x="650" y="255" fill="white" font-size="12" text-anchor="middle">m‚ÇÇ</text>

                    <text x="400" y="320" fill="#1976D2" font-size="14" text-anchor="middle">El√°stica: EK conservada</text>
                </g>

                <g id="inelastica" opacity="0">
                    <circle cx="200" cy="380" r="35" fill="#42A5F5">
                        <animate attributeName="cx" values="200;400" begin="4s" dur="1.5s" fill="freeze"/>
                    </circle>
                    <circle cx="600" cy="380" r="45" fill="#EF5350">
                        <animate attributeName="cx" values="600;400" begin="4s" dur="1.5s" fill="freeze"/>
                    </circle>
                    <animate attributeName="opacity" values="0;1" begin="3.5s" dur="0.5s"/>

                    <text x="400" y="450" fill="#D32F2F" font-size="14" text-anchor="middle">Inel√°stica: p conservada, EK ‚Üì</text>
                </g>

                <text x="400" y="490" fill="#1565C0" font-size="12" text-anchor="middle">SI 2025: p en kg¬∑m/s | e = 0 a 1</text>
            </svg>
            <p><em>SVG Animado: Colisi√≥n el√°stica ‚Üí separaci√≥n; inel√°stica ‚Üí uni√≥n.</em></p>
        </div>
    ',
    'ejercicios' => [
        ['enunciado' => 'Cantidad de movimiento p =', 'respuesta' => 'm v'],
        ['enunciado' => 'Impulso J =', 'respuesta' => 'F Œît = Œîp'],
        ['enunciado' => 'Conservaci√≥n p en', 'respuesta' => 'Sistema aislado'],
        ['enunciado' => 'e = 1 ‚Üí colisi√≥n', 'respuesta' => 'El√°stica'],
        ['enunciado' => 'e = 0 ‚Üí colisi√≥n', 'respuesta' => 'Perfectamente inel√°stica'],
        ['enunciado' => 'm‚ÇÅ=1kg, u‚ÇÅ=4m/s; m‚ÇÇ=1kg, u‚ÇÇ=0 ‚Üí v‚ÇÅf (el√°stica)', 'respuesta' => '0 m/s'],
        ['enunciado' => 'Choque inel√°stico perfecto: v com√∫n =', 'respuesta' => '(m‚ÇÅu‚ÇÅ + m‚ÇÇu‚ÇÇ)/(m‚ÇÅ+m‚ÇÇ)'],
        ['enunciado' => 'F = 50 N, Œît = 0.2 s ‚Üí Œîp', 'respuesta' => '10 kg¬∑m/s'],
        ['enunciado' => 'p inicial = p final', 'respuesta' => 'Conservaci√≥n'],
        ['enunciado' => 'EK perdida en inel√°stica ‚Üí', 'respuesta' => 'Calor, deformaci√≥n'],
        ['enunciado' => 'Coeficiente e =', 'respuesta' => '-(v‚ÇÇ-v‚ÇÅ)/(u‚ÇÇ-u‚ÇÅ)'],
        ['enunciado' => '1 N¬∑s =', 'respuesta' => '1 kg¬∑m/s']
    ],
    'quiz' => [
        ['pregunta' => 'p = m v es', 'opciones' => ['Vector', 'Escalar', 'Energ√≠a', 'Fuerza'], 'correcta' => 'Vector'],
        ['pregunta' => 'Conservada en todas colisiones', 'opciones' => ['Cantidad de movimiento', 'Energ√≠a cin√©tica', 'Masa', 'Velocidad'], 'correcta' => 'Cantidad de movimiento'],
        ['pregunta' => 'J = F Œît =', 'opciones' => ['Œîp', 'ŒîEK', 'W', 'P'], 'correcta' => 'Œîp'],
        ['pregunta' => 'e = 1 significa', 'opciones' => ['El√°stica', 'Inel√°stica', 'Perfecta', 'Nada'], 'correcta' => 'El√°stica'],
        ['pregunta' => 'e = 0 significa', 'opciones' => ['Perfectamente inel√°stica', 'El√°stica', 'Parcial', 'Ninguna'], 'correcta' => 'Perfectamente inel√°stica'],
        ['pregunta' => 'F = m a es', 'opciones' => ['2¬™ Ley Newton', '1¬™', '3¬™', 'Conservaci√≥n'], 'correcta' => '2¬™ Ley Newton'],
        ['pregunta' => 'Unidad p', 'opciones' => ['kg¬∑m/s', 'J', 'N', 'm/s¬≤'], 'correcta' => 'kg¬∑m/s'],
        ['pregunta' => 'Choque el√°stico: EK', 'opciones' => ['Conservada', 'Perdida', 'Aumentada', 'Cero'], 'correcta' => 'Conservada'],
        ['pregunta' => 'Inel√°stica: EK', 'opciones' => ['Disminuye', 'Conservada', 'Aumenta', 'Cero'], 'correcta' => 'Disminuye'],
        ['pregunta' => 'v final en inel√°stica perfecta', 'opciones' => ['(m‚ÇÅu‚ÇÅ + m‚ÇÇu‚ÇÇ)/(m‚ÇÅ+m‚ÇÇ)', 'u‚ÇÅ + u‚ÇÇ', '0', 'u‚ÇÅ'], 'correcta' => '(m‚ÇÅu‚ÇÅ + m‚ÇÇu‚ÇÇ)/(m‚ÇÅ+m‚ÇÇ)'],

        ['pregunta' => 'm‚ÇÅ=2kg, u‚ÇÅ=3m/s; m‚ÇÇ=1kg, u‚ÇÇ=0 ‚Üí v (inel√°stica perfecta)', 'opciones' => ['2 m/s', '3 m/s', '1 m/s', '0 m/s'], 'correcta' => '2 m/s'],
        ['pregunta' => 'Œîp = 0 en sistema aislado ‚Üí', 'opciones' => ['F_ext = 0', 'F_ext ‚â† 0', 'm = 0', 'v = 0'], 'correcta' => 'F_ext = 0'],
        ['pregunta' => 'F = 100 N, t = 0.1 s ‚Üí J', 'opciones' => ['10 N¬∑s', '1000 N¬∑s', '1 N¬∑s', '0'], 'correcta' => '10 N¬∑s'],
        ['pregunta' => 'Colisi√≥n 1D: p total', 'opciones' => ['m‚ÇÅu‚ÇÅ + m‚ÇÇu‚ÇÇ = m‚ÇÅv‚ÇÅ + m‚ÇÇv‚ÇÇ', 'm‚ÇÅu‚ÇÅ = m‚ÇÇv‚ÇÇ', 'u‚ÇÅ = v‚ÇÅ', 'EK igual'], 'correcta' => 'm‚ÇÅu‚ÇÅ + m‚ÇÇu‚ÇÇ = m‚ÇÅv‚ÇÅ + m‚ÇÇv‚ÇÇ'],
        ['pregunta' => 'e = 0.8 ‚Üí colisi√≥n', 'opciones' => ['Parcialmente el√°stica', 'Perfecta', 'Inel√°stica total', 'El√°stica'], 'correcta' => 'Parcialmente el√°stica'],
        ['pregunta' => 'Bola cae: p antes impacto', 'opciones' => ['m ‚àö(2gh)', 'm g h', 'm g', '0'], 'correcta' => 'm ‚àö(2gh)'],
        ['pregunta' => 'Impulso = √°rea bajo', 'opciones' => ['F vs t', 'F vs x', 'v vs t', 'p vs t'], 'correcta' => 'F vs t'],
        ['pregunta' => 'Airbag aumenta', 'opciones' => ['Œît ‚Üí ‚ÜìF', 'Œîp', 'EK', 'masa'], 'correcta' => 'Œît ‚Üí ‚ÜìF'],
        ['pregunta' => 'SI 2025: impulso en', 'opciones' => ['N¬∑s', 'J', 'kg¬∑m/s¬≤', 'W'], 'correcta' => 'N¬∑s'],
        ['pregunta' => 'Choque frontal autos: p total', 'opciones' => ['Conservada', 'Perdida', 'Aumentada', 'Cero'], 'correcta' => 'Conservada'],

        ['pregunta' => 'v‚ÇÅf (el√°stica, m‚ÇÅ=m‚ÇÇ, u‚ÇÇ=0)', 'opciones' => ['0', 'u‚ÇÅ', 'u‚ÇÅ/2', '2u‚ÇÅ'], 'correcta' => '0'],
        ['pregunta' => 'EK perdida =', 'opciones' => ['EK_i - EK_f', 'p_i - p_f', 'J', 'F d'], 'correcta' => 'EK_i - EK_f'],
        ['pregunta' => 'm‚ÇÅ=4kg, u‚ÇÅ=6m/s; m‚ÇÇ=2kg, u‚ÇÇ=-3m/s ‚Üí p total', 'opciones' => ['18 kg¬∑m/s', '12 kg¬∑m/s', '24 kg¬∑m/s', '0'], 'correcta' => '18 kg¬∑m/s'],
        ['pregunta' => 'e = ‚àö(h‚ÇÇ/h‚ÇÅ) en ca√≠da sobre resorte', 'opciones' => ['S√≠', 'No', 'A veces', 'Nunca'], 'correcta' => 'S√≠'],
        ['pregunta' => 'F promedio =', 'opciones' => ['J / Œît', 'Œîp / m', 'm a', 'p / t'], 'correcta' => 'J / Œît'],
        ['pregunta' => 'Colisi√≥n 2D: p conservada en', 'opciones' => ['x e y', 'solo x', 'solo y', 'ninguna'], 'correcta' => 'x e y'],
        ['pregunta' => 'Explosi√≥n: p total', 'opciones' => ['0 (si en reposo)', 'm v', 'F t', 'EK'], 'correcta' => '0 (si en reposo)'],
        ['pregunta' => '1D: v‚ÇÅf =', 'opciones' => ['(m‚ÇÅ-m‚ÇÇ)u‚ÇÅ/(m‚ÇÅ+m‚ÇÇ) + 2m‚ÇÇu‚ÇÇ/(m‚ÇÅ+m‚ÇÇ)', 'u‚ÇÅ', '0', 'u‚ÇÇ'], 'correcta' => '(m‚ÇÅ-m‚ÇÇ)u‚ÇÅ/(m‚ÇÅ+m‚ÇÇ) + 2m‚ÇÇu‚ÇÇ/(m‚ÇÅ+m‚ÇÇ)'],
        ['pregunta' => 'Sistema aislado significa', 'opciones' => ['F_ext = 0', 'm = cte', 'v = cte', 'EK = cte'], 'correcta' => 'F_ext = 0'],
        ['pregunta' => 'SI 2025: 1 kg¬∑m/s =', 'opciones' => ['1 N¬∑s', '1 J', '1 W', '1 Pa'], 'correcta' => '1 N¬∑s']
    ]
];
// ========================================
// MATERIA: F√çSICA I
// SUBTEMA: Conservaci√≥n de la Energ√≠a (Energ√≠a total = EPG + EK), Velocidad Final (Vf = ‚àö(2*g*h))
// ========================================
$lecciones[] = [
    'materia' => 'F√≠sica I',
    'slug' => 'conservacion-energia-total-vf',
    'titulo' => 'Conservaci√≥n de la Energ√≠a Mec√°nica: E_total = EPG + EK, Velocidad Final v = ‚àö(2gh)',
    'contenido' => '
        <h3>Conservaci√≥n de la Energ√≠a Mec√°nica</h3>
        <p>En ausencia de fuerzas no conservativas (como fricci√≥n), la <strong>energ√≠a mec√°nica total</strong> se conserva:</p>
        <p>\[
            E_{\\text{total}} = E_{pg} + E_k = \\text{constante}
        \]</p>
        <p>Donde:</p>
        <ul>
            <li>\( E_{pg} = m g h \) (energ√≠a potencial gravitatoria)</li>
            <li>\( E_k = \\frac{1}{2} m v^2 \) (energ√≠a cin√©tica)</li>
        </ul>

        <hr style="border:1px dashed #388E3C;">

        <h4>1. Principio de Conservaci√≥n</h4>
        <p>\[
            m g h_i + \\frac{1}{2} m v_i^2 = m g h_f + \\frac{1}{2} m v_f^2
        \]</p>
        <p>La masa \(m\) se cancela ‚Üí la velocidad final <strong>no depende de la masa</strong>.</p>

        <hr style="border:1px dashed #388E3C;">

        <h4>2. Velocidad Final en Ca√≠da Libre</h4>
        <p>Desde reposo (\(v_i = 0\)) y \(h_i = h\), \(h_f = 0\):</p>
        <p>\[
            m g h = \\frac{1}{2} m v_f^2 \\quad \\Rightarrow \\quad v_f = \\sqrt{2 g h}
        \]</p>
        <p><strong>Independiente de la trayectoria</strong> (si no hay fricci√≥n).</p>

        <hr style="border:1px dashed #388E3C;">

        <h4>3. Transformaci√≥n de Energ√≠a</h4>
        <table class="table">
            <thead>
                <tr><th>Punto</th><th>EPG</th><th>EK</th><th>E_total</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Altura m√°xima</strong></td><td>M√°xima</td><td>0</td><td>Constante</td></tr>
                <tr><td><strong>Suelo</strong></td><td>0</td><td>M√°xima</td><td>Constante</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Objeto cae desde h = 20 m</strong><br>
            \( v_f = \\sqrt{2 \\cdot 9.8 \\cdot 20} = \\sqrt{392} \\approx 19.8\\,\\text{m/s} \)<br>
            \( E_{\\text{inicial}} = m \\cdot 9.8 \\cdot 20 = 196m\\,\\text{J} \)<br>
            \( E_{\\text{final}} = \\frac{1}{2} m (19.8)^2 \\approx 196m\\,\\text{J} \\quad \\checkmark \)</p>
        </div>

        <hr style="border:1px dashed #388E3C;">

        <h4>4. SVG Animado: Ca√≠da Libre + Conservaci√≥n</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <rect x="0" y="0" width="800" height="500" fill="#E8F5E9"/>

                <text x="400" y="50" fill="#1B5E20" font-size="28" text-anchor="middle" font-weight="bold">CONSERVACI√ìN ENERG√çA</text>

                <!-- EPG ‚Üí EK -->
                <g id="energia">
                    <rect x="100" y="100" width="200" height="80" fill="#4CAF50" rx="10"/>
                    <text x="200" y="140" fill="white" font-size="16" text-anchor="middle">EPG = mgh</text>

                    <line x1="300" y1="140" x2="500" y2="140" stroke="#2E7D32" stroke-width="4"/>
                    <text x="400" y="130" fill="#1B5E20" font-size="14" text-anchor="middle">= constante</text>

                    <rect x="500" y="100" width="200" height="80" fill="#2196F3" rx="10"/>
                    <text x="600" y="140" fill="white" font-size="16" text-anchor="middle">EK = ¬Ωmv¬≤</text>
                </g>

                <!-- Ca√≠da animada -->
                <g id="caida">
                    <circle cx="400" cy="200" r="25" fill="#F44336">
                        <animate attributeName="cy" values="200;400" begin="1s" dur="2s" fill="freeze"/>
                    </circle>
                    <text x="400" y="205" fill="white" font-size="12" text-anchor="middle">m</text>

                    <text x="400" y="250" fill="#D32F2F" font-size="14" text-anchor="middle" id="velocidad">v = 0</text>
                    <animateTransform attributeName="transform" type="translate" values="0,0;0,200" begin="1s" dur="2s" fill="freeze"/>
                </g>

                <!-- F√≥rmula -->
                <rect x="150" y="320" width="500" height="100" fill="#C8E6C9" rx="15"/>
                <text x="400" y="360" fill="#1B5E20" font-size="18" text-anchor="middle">v_f = ‚àö(2gh)</text>
                <text x="400" y="390" fill="#2E7D32" font-size="14" text-anchor="middle">g = 9.8 m/s¬≤ | h en metros</text>

                <text x="400" y="470" fill="#1B5E20" font-size="12" text-anchor="middle">SI 2025: 1 J = N¬∑m | E_total conservada</text>
            </svg>
            <p><em>SVG Animado: EPG ‚Üí EK durante ca√≠da. v_f = ‚àö(2gh).</em></p>
        </div>
    ',
    'ejercicios' => [
        ['enunciado' => 'Energ√≠a mec√°nica total =', 'respuesta' => 'EPG + EK'],
        ['enunciado' => 'F√≥rmula v_f (ca√≠da libre)', 'respuesta' => '‚àö(2 g h)'],
        ['enunciado' => 'Conservaci√≥n v√°lida si', 'respuesta' => 'Sin fricci√≥n'],
        ['enunciado' => 'h = 10 m ‚Üí v_f ‚âà', 'respuesta' => '14 m/s'],
        ['enunciado' => 'En altura m√°xima, EK =', 'respuesta' => '0'],
        ['enunciado' => 'EPG = 0 cuando', 'respuesta' => 'h = 0'],
        ['enunciado' => 'v_f depende de', 'respuesta' => 'g y h (no m)'],
        ['enunciado' => 'P√©ndulo: E_total en', 'respuesta' => 'Cualquier punto'],
        ['enunciado' => 'Resorte + gravedad: E_total =', 'respuesta' => 'EPG + EPE + EK'],
        ['enunciado' => 'Fricci√≥n ‚Üí E_mec√°nica', 'respuesta' => 'Disminuye'],
        ['enunciado' => 'v_f = 20 m/s ‚Üí h =', 'respuesta' => '20.4 m'],
        ['enunciado' => '1 kJ =', 'respuesta' => '1000 J']
    ],
    'quiz' => [
        ['pregunta' => 'E_total =', 'opciones' => ['EPG + EK', 'EPG - EK', 'mgh', '¬Ωmv¬≤'], 'correcta' => 'EPG + EK'],
        ['pregunta' => 'v_f =', 'opciones' => ['‚àö(2gh)', '2gh', 'gh', '‚àög'], 'correcta' => '‚àö(2gh)'],
        ['pregunta' => 'Conservaci√≥n sin', 'opciones' => ['Fricci√≥n', 'Gravedad', 'Masa', 'Velocidad'], 'correcta' => 'Fricci√≥n'],
        ['pregunta' => 'En suelo, EPG =', 'opciones' => ['0', 'm√°xima', '¬Ωmgh', 'infinita'], 'correcta' => '0'],
        ['pregunta' => 'En altura m√°xima, EK =', 'opciones' => ['0', 'm√°xima', '¬Ωmv¬≤', 'mgh'], 'correcta' => '0'],
        ['pregunta' => 'v_f depende de', 'opciones' => ['g y h', 'm', 'v_i', 'trayectoria'], 'correcta' => 'g y h'],
        ['pregunta' => 'h = 5 m ‚Üí v_f ‚âà', 'opciones' => ['9.9 m/s', '5 m/s', '19.8 m/s', '0'], 'correcta' => '9.9 m/s'],
        ['pregunta' => 'Energ√≠a se transforma, no', 'opciones' => ['Se crea/destruye', 'Se pierde', 'Se gana', 'Nada'], 'correcta' => 'Se crea/destruye'],
        ['pregunta' => 'Unidad energ√≠a', 'opciones' => ['Joule', 'Newton', 'Metro', 'Watt'], 'correcta' => 'Joule'],
        ['pregunta' => '1 J =', 'opciones' => ['N¬∑m', 'kg¬∑m/s¬≤', 'W¬∑s', 'todas'], 'correcta' => 'todas'],

        ['pregunta' => 'h = 50 m ‚Üí v_f ‚âà', 'opciones' => ['31.3 m/s', '50 m/s', '15 m/s', '100 m/s'], 'correcta' => '31.3 m/s'],
        ['pregunta' => 'Fricci√≥n presente ‚Üí E_mec√°nica', 'opciones' => ['Disminuye', 'Aumenta', 'Igual', 'Cero'], 'correcta' => 'Disminuye'],
        ['pregunta' => 'v_f igual en', 'opciones' => ['Cualquier trayectoria (sin fricci√≥n)', 'Solo recta', 'Solo curva', 'Ninguna'], 'correcta' => 'Cualquier trayectoria (sin fricci√≥n)'],
        ['pregunta' => 'P√©ndulo: m√°xima EK en', 'opciones' => ['Punto bajo', 'Punto alto', 'Mitad', 'Nunca'], 'correcta' => 'Punto bajo'],
        ['pregunta' => 'Resorte comprimido: E_total incluye', 'opciones' => ['EPE', 'EPG', 'EK', 'todas'], 'correcta' => 'todas'],
        ['pregunta' => 'v_i ‚â† 0 ‚Üí E_total =', 'opciones' => ['mgh + ¬Ωmv_i¬≤', 'mgh', '¬Ωmv_i¬≤', '0'], 'correcta' => 'mgh + ¬Ωmv_i¬≤'],
        ['pregunta' => 'Energ√≠a disipada =', 'opciones' => ['Trabajo fricci√≥n', 'ŒîEPG', 'ŒîEK', 'mgh'], 'correcta' => 'Trabajo fricci√≥n'],
        ['pregunta' => 'g = 10 m/s¬≤, h = 10 m ‚Üí v_f =', 'opciones' => ['14.14 m/s', '10 m/s', '20 m/s', '0'], 'correcta' => '14.14 m/s'],
        ['pregunta' => 'SI 2025: g ‚âà', 'opciones' => ['9.8 m/s¬≤', '10 m/s¬≤', '9.81 m/s¬≤', '9.80665 m/s¬≤'], 'correcta' => '9.80665 m/s¬≤'],
        ['pregunta' => 'Luna: v_f desde h', 'opciones' => ['Menor (g‚Üì)', 'Igual', 'Mayor', 'Cero'], 'correcta' => 'Menor (g‚Üì)'],

        ['pregunta' => 'h = 100 m ‚Üí v_f ‚âà', 'opciones' => ['44.3 m/s', '100 m/s', '20 m/s', '9.8 m/s'], 'correcta' => '44.3 m/s'],
        ['pregunta' => 'v_f = 30 m/s ‚Üí h =', 'opciones' => ['45.9 m', '30 m', '15 m', '900 m'], 'correcta' => '45.9 m'],
        ['pregunta' => 'Energ√≠a total en resorte + masa', 'opciones' => ['EPE + EPG + EK', 'solo EPE', 'solo EK', 'nada'], 'correcta' => 'EPE + EPG + EK'],
        ['pregunta' => 'Trabajo no conservativo', 'opciones' => ['ŒîE_mec√°nica', '0', 'mgh', '¬Ωmv¬≤'], 'correcta' => 'ŒîE_mec√°nica'],
        ['pregunta' => 'Monta√±a rusa: m√°xima velocidad en', 'opciones' => ['Punto m√°s bajo', 'Punto alto', 'Mitad', 'Final'], 'correcta' => 'Punto m√°s bajo'],
        ['pregunta' => 'v_f en vac√≠o vs aire', 'opciones' => ['Igual (sin fricci√≥n)', 'Mayor en aire', 'Menor en vac√≠o', 'Cero'], 'correcta' => 'Igual (sin fricci√≥n)'],
        ['pregunta' => 'E_mec√°nica = cte ‚Üí sistema', 'opciones' => ['Aislado de no conservativas', 'Con fricci√≥n', 'Abierto', 'Caliente'], 'correcta' => 'Aislado de no conservativas'],
        ['pregunta' => 'h = 1 km ‚Üí v_f ‚âà', 'opciones' => ['140 m/s', '1000 m/s', '9.8 m/s', '0'], 'correcta' => '140 m/s'],
        ['pregunta' => 'Energ√≠a qu√≠mica ‚Üí mec√°nica', 'opciones' => ['No conservada mec√°nicamente', 'S√≠', 'A veces', 'Nunca'], 'correcta' => 'No conservada mec√°nicamente'],
        ['pregunta' => 'SI 2025: 1 J =', 'opciones' => ['1 N¬∑m', '1 kg¬∑m¬≤/s¬≤', '1 W¬∑s', 'todas'], 'correcta' => 'todas']
    ]
];
// ========================================
// MATERIA: F√çSICA I
// SUBTEMA: Cantidad de Calor, Capacidad de Calor Espec√≠fico, Capacidad Calor√≠fica
// ========================================
$lecciones[] = [
    'materia' => 'F√≠sica I',
    'slug' => 'calor-capacidad',
    'titulo' => 'Cantidad de Calor: Q = m c ŒîT, Capacidad Calor√≠fica y Espec√≠fica',
    'contenido' => '
        <h3>Cantidad de Calor y Capacidad T√©rmica</h3>
        <p>La <strong>cantidad de calor</strong> (\(Q\)) es la energ√≠a transferida por diferencia de temperatura:</p>
        <p>\[
            Q = m c \\Delta T
        \]</p>
        <p>Donde <strong>m</strong> = masa, <strong>c</strong> = capacidad calor√≠fica espec√≠fica, <strong>\\Delta T</strong> = cambio de temperatura.</p>

        <hr style="border:1px dashed #1976D2;">

        <h4>1. Conceptos Clave</h4>
        <table class="table">
            <thead>
                <tr><th>Concepto</th><th>F√≥rmula</th><th>Unidad SI</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Cantidad de calor (Q)</strong></td><td>\(Q = m c \\Delta T\)</td><td>J</td></tr>
                <tr><td><strong>Capacidad calor√≠fica espec√≠fica (c)</strong></td><td>\(c = \\frac{Q}{m \\Delta T}\)</td><td>J/(kg¬∑¬∞C)</td></tr>
                <tr><td><strong>Capacidad calor√≠fica (C)</strong></td><td>\(C = m c\)</td><td>J/¬∞C</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #1976D2;">

        <h4>2. Valores de c (agua y otros)</h4>
        <table class="table">
            <thead>
                <tr><th>Sustancia</th><th>c (J/kg¬∑¬∞C)</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Agua l√≠quida</strong></td><td>4186</td></tr>
                <tr><td><strong>Hielo</strong></td><td>2090</td></tr>
                <tr><td><strong>Vapor agua</strong></td><td>2010</td></tr>
                <tr><td><strong>Alcohol et√≠lico</strong></td><td>2400</td></tr>
                <tr><td><strong>Aluminio</strong></td><td>900</td></tr>
                <tr><td><strong>Cobre</strong></td><td>385</td></tr>
                <tr><td><strong>Hierro</strong></td><td>450</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #1976D2;">

        <h4>3. Calor Latente (Cambio de Fase)</h4>
        <p>\[
            Q = m L
        \]</p>
        <p>\(L_f\) (fusi√≥n): 334 kJ/kg (agua)<br>
        \(L_v\) (vaporizaci√≥n): 2260 kJ/kg (agua)</p>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>2 kg agua de 20¬∞C a 80¬∞C</strong><br>
            \( Q = 2 \\cdot 4186 \\cdot 60 = 502,320\\,\\text{J} = 502\\,\\text{kJ} \)<br>
            <strong>Capacidad calor√≠fica C = 2 √ó 4186 = 8372 J/¬∞C</strong></p>
        </div>

        <div class="visual">
            <img src="assets/img/calor-especifico.jpg" alt="Calor espec√≠fico">
            <p><em>Experimento calor. Fuente: Physics Classroom.</em></p>
        </div>

        <hr style="border:1px dashed #1976D2;">

        <h4>4. SVG Animado: Calor√≠metro + Calor</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <rect x="0" y="0" width="800" height="500" fill="#E3F2FD"/>
                <text x="400" y="50" fill="#0D47A1" font-size="28" text-anchor="middle" font-weight="bold">Q = m c ŒîT</text>

                <g id="calorimetro">
                    <rect x="200" y="150" width="400" height="250" fill="#BBDEFB" rx="20"/>
                    <text x="400" y="200" fill="#1565C0" font-size="16" text-anchor="middle">Calor√≠metro</text>
                    <rect x="250" y="220" width="300" height="150" fill="#42A5F5" rx="10"/>
                    <text x="400" y="300" fill="white" font-size="14" text-anchor="middle">Agua</text>
                </g>

                <g id="objeto" opacity="0">
                    <circle cx="400" cy="100" r="40" fill="#EF5350">
                        <animate attributeName="cy" values="100;280" begin="1s" dur="2s" fill="freeze"/>
                    </circle>
                    <text x="400" y="105" fill="white" font-size="12" text-anchor="middle">Objeto caliente</text>
                    <animate attributeName="opacity" values="0;1" begin="0.5s" dur="0.5s"/>
                </g>

                <g id="calor" opacity="0">
                    <path d="M350 280 Q380 250 410 280 Q380 310 350 280" fill="#FF5722">
                        <animate attributeName="d" values="M350 280 Q380 250 410 280 Q380 310 350 280; M350 280 Q380 230 410 280 Q380 330 350 280; M350 280 Q380 250 410 280 Q380 310 350 280" dur="1.5s" repeatCount="indefinite"/>
                    </path>
                    <text x="400" y="350" fill="#E65100" font-size="14" text-anchor="middle">Q transferido</text>
                    <animate attributeName="opacity" values="0;1" begin="3s" dur="0.5s"/>
                </g>

                <rect x="100" y="400" width="600" height="80" fill="#C8E6C9" rx="15"/>
                <text x="400" y="430" fill="#1B5E20" font-size="16" text-anchor="middle">c_agua = 4186 J/kg¬∑¬∞C</text>
                <text x="400" y="455" fill="#2E7D32" font-size="12" text-anchor="middle">SI 2025: 1 cal = 4.184 J exacto</text>
            </svg>
            <p><em>SVG Animado: Objeto caliente ‚Üí agua ‚Üí Q transferido.</em></p>
        </div>
    ',
    'ejercicios' => [
        ['enunciado' => 'F√≥rmula cantidad calor', 'respuesta' => 'Q = m c ŒîT'],
        ['enunciado' => 'c agua', 'respuesta' => '4186 J/kg¬∑¬∞C'],
        ['enunciado' => 'Capacidad calor√≠fica C =', 'respuesta' => 'm c'],
        ['enunciado' => 'Unidad c', 'respuesta' => 'J/(kg¬∑¬∞C)'],
        ['enunciado' => 'Q para 0.5 kg agua ŒîT=20¬∞C', 'respuesta' => '41860 J'],
        ['enunciado' => 'c cobre ‚âà', 'respuesta' => '385 J/kg¬∑¬∞C'],
        ['enunciado' => 'C para 2 kg agua', 'respuesta' => '8372 J/¬∞C'],
        ['enunciado' => 'ŒîT = Q / (m c)', 'respuesta' => 'F√≥rmula cambio T'],
        ['enunciado' => 'Calor latente fusi√≥n agua', 'respuesta' => '334 kJ/kg'],
        ['enunciado' => '1 cal =', 'respuesta' => '4.184 J'],
        ['enunciado' => 'c alta ‚Üí', 'respuesta' => 'Absorbe m√°s calor por ¬∞C'],
        ['enunciado' => 'SI: calor en', 'respuesta' => 'Joule']
    ],
    'quiz' => [
        ['pregunta' => 'Q = m c ŒîT mide', 'opciones' => ['Calor transferido', 'Temperatura', 'Masa', 'Volumen'], 'correcta' => 'Calor transferido'],
        ['pregunta' => 'c es', 'opciones' => ['Espec√≠fica', 'Total', 'Molar', 'Nuclear'], 'correcta' => 'Espec√≠fica'],
        ['pregunta' => 'C = m c es', 'opciones' => ['Capacidad calor√≠fica', 'Espec√≠fica', 'Latente', 'Nuclear'], 'correcta' => 'Capacidad calor√≠fica'],
        ['pregunta' => 'c agua =', 'opciones' => ['4186 J/kg¬∑¬∞C', '385 J/kg¬∑¬∞C', '900 J/kg¬∑¬∞C', '2090 J/kg¬∑¬∞C'], 'correcta' => '4186 J/kg¬∑¬∞C'],
        ['pregunta' => 'Alta c ‚Üí', 'opciones' => ['Absorbe m√°s calor', 'Menos', 'Igual', 'Cero'], 'correcta' => 'Absorbe m√°s calor'],
        ['pregunta' => 'ŒîT = 0 ‚Üí Q', 'opciones' => ['0', 'm√°ximo', 'infinito', 'negativo'], 'correcta' => '0'],
        ['pregunta' => 'm dobla ‚Üí Q', 'opciones' => ['Dobla', 'Cuadruplica', 'Mitad', 'Igual'], 'correcta' => 'Dobla'],
        ['pregunta' => 'ŒîT dobla ‚Üí Q', 'opciones' => ['Dobla', 'Cuadruplica', 'Mitad', 'Igual'], 'correcta' => 'Dobla'],
        ['pregunta' => 'Calor latente es para', 'opciones' => ['Cambio fase', 'Cambio T', 'Movimiento', 'Luz'], 'correcta' => 'Cambio fase'],
        ['pregunta' => '1 cal =', 'opciones' => ['4.184 J', '1 J', '4184 J', '0.4184 J'], 'correcta' => '4.184 J'],

        ['pregunta' => 'Q = 8360 J, m=1 kg, c=4186 ‚Üí ŒîT', 'opciones' => ['2¬∞C', '1¬∞C', '4¬∞C', '8360¬∞C'], 'correcta' => '2¬∞C'],
        ['pregunta' => 'c cobre', 'opciones' => ['385 J/kg¬∑¬∞C', '4186', '900', '2090'], 'correcta' => '385 J/kg¬∑¬∞C'],
        ['pregunta' => 'C para 500 g agua', 'opciones' => ['2093 J/¬∞C', '4186 J/¬∞C', '8372 J/¬∞C', '0'], 'correcta' => '2093 J/¬∞C'],
        ['pregunta' => 'Calor para fundir 1 kg hielo', 'opciones' => ['334 kJ', '4186 kJ', '2260 kJ', '0 J'], 'correcta' => '334 kJ'],
        ['pregunta' => 'Calor para vaporizar 1 kg agua', 'opciones' => ['2260 kJ', '334 kJ', '4186 kJ', '0 J'], 'correcta' => '2260 kJ'],
        ['pregunta' => 'c hielo', 'opciones' => ['2090 J/kg¬∑¬∞C', '4186', '2010', '385'], 'correcta' => '2090 J/kg¬∑¬∞C'],
        ['pregunta' => 'Q = C ŒîT para', 'opciones' => ['Objeto entero', 'Por kg', 'Por mol', 'Fase'], 'correcta' => 'Objeto entero'],
        ['pregunta' => 'SI: c en', 'opciones' => ['J/(kg¬∑K)', 'cal/g¬∑¬∞C', 'BTU/lb¬∑¬∞F', 'kWh'], 'correcta' => 'J/(kg¬∑K)'],
        ['pregunta' => 'c alta en', 'opciones' => ['Agua', 'Cobre', 'Aire', 'Vac√≠o'], 'correcta' => 'Agua'],
        ['pregunta' => 'IUPAC: calor en', 'opciones' => ['Joule', 'Calor√≠a', 'eV', 'kWh'], 'correcta' => 'Joule'],

        ['pregunta' => 'Q = 100 kJ, m=2 kg, ŒîT=10¬∞C ‚Üí c', 'opciones' => ['5000 J/kg¬∑¬∞C', '500 J/kg¬∑¬∞C', '10000 J/kg¬∑¬∞C', '0'], 'correcta' => '5000 J/kg¬∑¬∞C'],
        ['pregunta' => 'Calor espec√≠fico molar agua ‚âà', 'opciones' => ['75.3 J/mol¬∑K', '18 J/mol¬∑K', '4186 J/mol¬∑K', '4.184 J/mol¬∑K'], 'correcta' => '75.3 J/mol¬∑K'],
        ['pregunta' => 'Dulong-Petit: c molar metales ‚âà', 'opciones' => ['25 J/mol¬∑K', '75 J/mol¬∑K', '4.184 J/mol¬∑K', '0'], 'correcta' => '25 J/mol¬∑K'],
        ['pregunta' => 'Calor para 1 mol agua +1¬∞C', 'opciones' => ['75.3 J', '4186 J', '18 J', '4.184 J'], 'correcta' => '75.3 J'],
        ['pregunta' => 'c vapor agua', 'opciones' => ['2010 J/kg¬∑¬∞C', '4186', '2090', '385'], 'correcta' => '2010 J/kg¬∑¬∞C'],
        ['pregunta' => 'Q latente fusi√≥n vs vaporizaci√≥n', 'opciones' => ['L_v > L_f', 'L_f > L_v', 'Igual', 'Cero'], 'correcta' => 'L_v > L_f'],
        ['pregunta' => 'Calor√≠metro ideal', 'opciones' => ['Q_ganado = -Q_perdido', 'Q_ganado = Q_perdido', 'Q = 0', 'Q infinito'], 'correcta' => 'Q_ganado = -Q_perdido'],
        ['pregunta' => 'c aire ‚âà', 'opciones' => ['1000 J/kg¬∑¬∞C', '4186', '385', '2090'], 'correcta' => '1000 J/kg¬∑¬∞C'],
        ['pregunta' => 'SI 2025: 1 cal =', 'opciones' => ['4.184 J exacto', '4.2 J', '4 J', '1 J'], 'correcta' => '4.184 J exacto'],
        ['pregunta' => 'Capacidad calor√≠fica sistema', 'opciones' => ['‚àë C_i', 'C_promedio', 'C_m√°x', '0'], 'correcta' => '‚àë C_i']
    ]
];
// ========================================
// MATERIA: F√çSICA I
// SUBTEMA: Impulso Mec√°nico, Cantidad de Movimiento, Relaci√≥n (F = m*a)
// ========================================
$lecciones[] = [
    'materia' => 'F√≠sica I',
    'slug' => 'impulso-movimiento',
    'titulo' => 'Impulso Mec√°nico: J = F Œît = Œîp, Cantidad de Movimiento p = m v, F = m a',
    'contenido' => '
        <h3>Impulso Mec√°nico y Cantidad de Movimiento</h3>
        <p>La <strong>cantidad de movimiento</strong> (\(p\)) es una magnitud vectorial que mide el estado de movimiento de un cuerpo:</p>
        <p>\[
            p = m v
        \]</p>
        <p>El <strong>impulso</strong> (\(J\)) es el efecto de una fuerza aplicada durante un tiempo:</p>
        <p>\[
            J = F \\Delta t = \\Delta p
        \]</p>
        <p>De la 2¬™ Ley de Newton: \( F = m a = \\frac{\\Delta p}{\\Delta t} \\), por lo tanto, \( J = \\Delta p \).</p>

        <hr style="border:1px dashed #D32F2F;">

        <h4>1. Relaciones Clave</h4>
        <table class="table">
            <thead>
                <tr><th>Concepto</th><th>F√≥rmula</th><th>Unidad SI</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Cantidad de movimiento (p)</strong></td><td>\(p = m v\)</td><td>kg¬∑m/s</td></tr>
                <tr><td><strong>Impulso (J)</strong></td><td>\(J = F \\Delta t = \\Delta p\)</td><td>N¬∑s</td></tr>
                <tr><td><strong>2¬™ Ley Newton</strong></td><td>\(F = m a = \\frac{\\Delta p}{\\Delta t}\)</td><td>N</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #D32F2F;">

        <h4>2. Interpretaci√≥n F√≠sica</h4>
        <ul>
            <li><strong>Impulso</strong>: √Årea bajo la curva F vs t.</li>
            <li><strong>Œîp</strong>: Cambio en cantidad de movimiento.</li>
            <li><strong>J = Œîp</strong>: El impulso produce un cambio en el movimiento.</li>
        </ul>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Fuerza de 200 N durante 0.05 s</strong><br>
            \( J = 200 \\cdot 0.05 = 10\\,\\text{N¬∑s} \)<br>
            \( \\Delta p = 10\\,\\text{kg¬∑m/s} \) ‚Üí Si \( m = 2\\,\\text{kg} \), \( \\Delta v = 5\\,\\text{m/s} \)</p>
        </div>

        <div class="visual">
            <img src="assets/img/cantidad-de-movimiento-thumb.png" alt="Cantidad de movimiento">
            <p><em>Vectorial y conservada. Fuente: Physics Classroom.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/Collisioncartsm1greatergreaterthanm2.gif" alt="Simulaci√≥n colisiones">
            <p><em>Impulso en choques. Fuente: PhET.</em></p>
        </div>

        <hr style="border:1px dashed #D32F2F;">

        <h4>3. SVG Animado: Impulso ‚Üí Cambio en p</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <rect x="0" y="0" width="800" height="500" fill="#FFEBEE"/>

                <text x="400" y="50" fill="#B71C1C" font-size="28" text-anchor="middle" font-weight="bold">IMPULSO = Œîp</text>

                <!-- Gr√°fico F vs t -->
                <g id="grafico">
                    <line x1="150" y1="350" x2="650" y2="350" stroke="#263238" stroke-width="2"/>
                    <line x1="150" y1="350" x2="150" y2="100" stroke="#263238" stroke-width="2"/>
                    <text x="140" y="340" fill="#37474F" font-size="14">0</text>
                    <text x="400" y="370" fill="#37474F" font-size="14">t</text>
                    <text x="130" y="200" fill="#37474F" font-size="14">F</text>

                    <rect x="300" y="250" width="100" height="100" fill="#EF5350" opacity="0.7">
                        <animate attributeName="opacity" values="0;0.7;0" begin="1s" dur="2s" repeatCount="indefinite"/>
                    </rect>
                    <text x="350" y="300" fill="#B71C1C" font-size="16" text-anchor="middle">F Œît = J</text>
                </g>

                <!-- Bola antes/despu√©s -->
                <g id="bola">
                    <circle cx="200" cy="200" r="30" fill="#42A5F5">
                        <animate attributeName="cx" values="200;600" begin="0.5s" dur="3s" repeatCount="indefinite"/>
                    </circle>
                    <text x="200" y="205" fill="white" font-size="12" text-anchor="middle">m</text>

                    <text x="400" y="150" fill="#D32F2F" font-size="16" text-anchor="middle" id="estado">v inicial</text>
                    <animate attributeName="opacity" values="1;0;1" begin="3.5s" dur="0.1s"/>

                    <text x="400" y="150" fill="#2E7D32" font-size="16" text-anchor="middle" id="final" opacity="0">v final ‚Üë</text>
                    <animate attributeName="opacity" values="0;1" begin="3.5s" dur="0.5s"/>
                </g>

                <rect x="100" y="400" width="600" height="80" fill="#FFCCBC" rx="15"/>
                <text x="400" y="430" fill="#E65100" font-size="16" text-anchor="middle">J = F Œît = Œîp = m Œîv</text>
                <text x="400" y="455" fill="#D32F2F" font-size="12" text-anchor="middle">SI 2025: 1 N¬∑s = 1 kg¬∑m/s</text>
            </svg>
            <p><em>SVG Animado: Impulso (√°rea F-t) ‚Üí aumento en p.</em></p>
        </div>
    ',
    'ejercicios' => [
        ['enunciado' => 'Cantidad de movimiento p =', 'respuesta' => 'm v'],
        ['enunciado' => 'Impulso J =', 'respuesta' => 'F Œît = Œîp'],
        ['enunciado' => 'F = m a =', 'respuesta' => 'Œîp / Œît'],
        ['enunciado' => 'Unidad p', 'respuesta' => 'kg¬∑m/s'],
        ['enunciado' => 'F = 50 N, Œît = 0.2 s ‚Üí J', 'respuesta' => '10 N¬∑s'],
        ['enunciado' => 'm = 2 kg, Œîv = 5 m/s ‚Üí Œîp', 'respuesta' => '10 kg¬∑m/s'],
        ['enunciado' => 'J = Œîp ‚Üí', 'respuesta' => 'Cambio en movimiento'],
        ['enunciado' => 'F promedio =', 'respuesta' => 'J / Œît'],
        ['enunciado' => '√Årea bajo F vs t', 'respuesta' => 'Impulso'],
        ['enunciado' => 'p es', 'respuesta' => 'Vector'],
        ['enunciado' => '1 N¬∑s =', 'respuesta' => '1 kg¬∑m/s'],
        ['enunciado' => 'SI: impulso en', 'respuesta' => 'N¬∑s']
    ],
    'quiz' => [
        ['pregunta' => 'p = m v es', 'opciones' => ['Vector', 'Escalar', 'Energ√≠a', 'Fuerza'], 'correcta' => 'Vector'],
        ['pregunta' => 'J = F Œît =', 'opciones' => ['Œîp', 'p', 'm v', 'F'], 'correcta' => 'Œîp'],
        ['pregunta' => 'F = m a implica', 'opciones' => ['F = Œîp/Œît', 'F = p', 'F = m v', 'F = 0'], 'correcta' => 'F = Œîp/Œît'],
        ['pregunta' => 'Unidad p', 'opciones' => ['kg¬∑m/s', 'N', 'J', 'm/s¬≤'], 'correcta' => 'kg¬∑m/s'],
        ['pregunta' => 'Unidad J', 'opciones' => ['N¬∑s', 'J', 'kg', 'm/s'], 'correcta' => 'N¬∑s'],
        ['pregunta' => '1 N¬∑s =', 'opciones' => ['1 kg¬∑m/s', '1 J', '1 N', '1 m/s'], 'correcta' => '1 kg¬∑m/s'],
        ['pregunta' => 'Impulso cambia', 'opciones' => ['Cantidad de movimiento', 'Masa', 'Aceleraci√≥n', 'Energ√≠a'], 'correcta' => 'Cantidad de movimiento'],
        ['pregunta' => 'F constante ‚Üí J =', 'opciones' => ['F Œît', 'F/t', 'ŒîF t', 'F¬≤'], 'correcta' => 'F Œît'],
        ['pregunta' => '√Årea bajo F vs t', 'opciones' => ['Impulso', 'Trabajo', 'Potencia', 'Energ√≠a'], 'correcta' => 'Impulso'],
        ['pregunta' => 'F = 100 N, Œît = 0.1 s ‚Üí J', 'opciones' => ['10 N¬∑s', '1000 N¬∑s', '1 N¬∑s', '0'], 'correcta' => '10 N¬∑s'],

        ['pregunta' => 'm = 5 kg, v_i = 0, v_f = 4 m/s ‚Üí Œîp', 'opciones' => ['20 kg¬∑m/s', '5 kg¬∑m/s', '4 kg¬∑m/s', '0'], 'correcta' => '20 kg¬∑m/s'],
        ['pregunta' => 'J = 15 N¬∑s, m = 3 kg ‚Üí Œîv', 'opciones' => ['5 m/s', '15 m/s', '3 m/s', '45 m/s'], 'correcta' => '5 m/s'],
        ['pregunta' => 'F promedio =', 'opciones' => ['J / Œît', 'Œîp / m', 'm a', 'p / t'], 'correcta' => 'J / Œît'],
        ['pregunta' => 'p conservada si', 'opciones' => ['F_ext = 0', 'F_ext ‚â† 0', 'm = 0', 'v = 0'], 'correcta' => 'F_ext = 0'],
        ['pregunta' => 'F dobla, Œît igual ‚Üí J', 'opciones' => ['Dobla', 'Cuadruplica', 'Mitad', 'Igual'], 'correcta' => 'Dobla'],
        ['pregunta' => 'Œît dobla, F igual ‚Üí J', 'opciones' => ['Dobla', 'Cuadruplica', 'Mitad', 'Igual'], 'correcta' => 'Dobla'],
        ['pregunta' => 'Airbag funciona porque', 'opciones' => ['Aumenta Œît ‚Üí ‚ÜìF', 'Aumenta F', 'Disminuye m', 'Aumenta v'], 'correcta' => 'Aumenta Œît ‚Üí ‚ÜìF'],
        ['pregunta' => 'F = 0 ‚Üí J =', 'opciones' => ['0', 'm√°ximo', 'infinito', 'p'], 'correcta' => '0'],
        ['pregunta' => 'p = 10 kg¬∑m/s, m = 2 kg ‚Üí v', 'opciones' => ['5 m/s', '10 m/s', '2 m/s', '20 m/s'], 'correcta' => '5 m/s'],
        ['pregunta' => 'SI 2025: p en', 'opciones' => ['kg¬∑m/s', 'N¬∑s¬≤', 'J¬∑s', 'W'], 'correcta' => 'kg¬∑m/s'],

        ['pregunta' => 'F variable ‚Üí J =', 'opciones' => ['√Årea bajo F-t', 'F_prom ¬∑ t', 'F_max ¬∑ t', '0'], 'correcta' => '√Årea bajo F-t'],
        ['pregunta' => 'Œîp = 0 ‚Üí', 'opciones' => ['J = 0', 'F = 0', 'm = 0', 'v = 0'], 'correcta' => 'J = 0'],
        ['pregunta' => 'F = 500 N, t = 0.02 s ‚Üí Œîp', 'opciones' => ['10 kg¬∑m/s', '500 kg¬∑m/s', '0.02 kg¬∑m/s', '10000 kg¬∑m/s'], 'correcta' => '10 kg¬∑m/s'],
        ['pregunta' => 'Golpe martillo: J grande si', 'opciones' => ['F grande o Œît grande', 'F peque√±a', 'Œît cero', 'm cero'], 'correcta' => 'F grande o Œît grande'],
        ['pregunta' => 'p antes = p despu√©s si', 'opciones' => ['Sistema aislado', 'F_ext ‚â† 0', 'Colisi√≥n inel√°stica', 'Siempre'], 'correcta' => 'Sistema aislado'],
        ['pregunta' => 'F = Œîp/Œît ‚Üí a =', 'opciones' => ['Œîv/Œît', 'v/t', 'p/m', 'J/m'], 'correcta' => 'Œîv/Œît'],
        ['pregunta' => 'Unidad a', 'opciones' => ['m/s¬≤', 'm/s', 'kg¬∑m/s', 'N'], 'correcta' => 'm/s¬≤'],
        ['pregunta' => 'J = m Œîv ‚Üí Œîv =', 'opciones' => ['J/m', 'J m', 'm/J', '0'], 'correcta' => 'J/m'],
        ['pregunta' => 'F = 0 durante Œît ‚Üí', 'opciones' => ['Œîp = 0', 'Œîp = p', 'Œîp = m', 'Œîp = v'], 'correcta' => 'Œîp = 0'],
        ['pregunta' => 'SI 2025: 1 kg¬∑m/s =', 'opciones' => ['1 N¬∑s', '1 J', '1 W', '1 Pa'], 'correcta' => '1 N¬∑s']
    ]
];
// ========================================
// MATERIA: F√çSICA I
// SUBTEMA: Ley de Conservaci√≥n de la Cantidad de Movimiento
// ========================================
$lecciones[] = [
    'materia' => 'F√≠sica I',
    'slug' => 'conservacion-cantidad-movimiento',
    'titulo' => 'Ley de Conservaci√≥n de la Cantidad de Movimiento: p_total inicial = p_total final',
    'contenido' => '
        <h3>Ley de Conservaci√≥n de la Cantidad de Movimiento</h3>
        <p>En un <strong>sistema aislado</strong> (sin fuerzas externas netas), la <strong>cantidad de movimiento total</strong> se conserva en el tiempo:</p>
        <p>\[
            \\sum \\vec{p}_i = \\sum \\vec{p}_f
        \]</p>
        <p><strong>Vectorial</strong>: se conserva en magnitud y direcci√≥n. V√°lida en <strong>todas</strong> las colisiones (el√°sticas, inel√°sticas, explosiones).</p>

        <hr style="border:1px dashed #388E3C;">

        <h4>1. Condiciones para Conservaci√≥n</h4>
        <ul>
            <li><strong>Fuerza externa neta = 0</strong> (\( \\sum \\vec{F}_{\\text{ext}} = 0 \)).</li>
            <li>Aplica a <strong>sistemas de m√∫ltiples cuerpos</strong>.</li>
            <li>En 1D, 2D o 3D: se conserva por componentes.</li>
        </ul>

        <hr style="border:1px dashed #388E3C;">

        <h4>2. Aplicaciones</h4>
        <table class="table">
            <thead>
                <tr><th>Situaci√≥n</th><th>Ecuaci√≥n</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Colisi√≥n 1D</strong></td><td>\( m_1 v_1 + m_2 v_2 = m_1 v_1\' + m_2 v_2\' \)</td></tr>
                <tr><td><strong>Explosi√≥n</strong></td><td>\( 0 = m_1 v_1\' + m_2 v_2\' \)</td></tr>
                <tr><td><strong>Cohete</strong></td><td>\( M v = -\\Delta m \\cdot v_e \)</td></tr>
            </tbody>
        </table>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>m‚ÇÅ = 2 kg, v‚ÇÅ = 4 m/s; m‚ÇÇ = 3 kg, v‚ÇÇ = 0</strong><br>
            \( p_i = 2\\cdot4 + 3\\cdot0 = 8\\,\\text{kg¬∑m/s} \)<br>
            <strong>Perfectamente inel√°stica:</strong> \( v = \\frac{8}{5} = 1.6\\,\\text{m/s} \)<br>
            \( p_f = 5 \\cdot 1.6 = 8\\,\\text{kg¬∑m/s} \\quad \\checkmark \)</p>
        </div>

        <div class="visual">
            <img src="assets/img/conservacion_momento.jpg" alt="Conservaci√≥n p">
            <p><em>Sistema aislado. Fuente: Physics Classroom.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/Choque_elastico_100.gif" alt="Simulaci√≥n colisiones">
            <p><em>Interativo: 1D y 2D. Fuente: PhET.</em></p>
        </div>

        <hr style="border:1px dashed #388E3C;">

        <h4>3. SVG Animado: Colisi√≥n + Conservaci√≥n p</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <rect x="0" y="0" width="800" height="500" fill="#E8F5E9"/>

                <text x="400" y="50" fill="#1B5E20" font-size="28" text-anchor="middle" font-weight="bold">p INICIAL = p FINAL</text>

                <!-- Antes colisi√≥n -->
                <g id="antes">
                    <circle cx="200" cy="250" r="35" fill="#42A5F5">
                        <animate attributeName="cx" values="200;400" begin="0.5s" dur="1.5s"/>
                    </circle>
                    <text x="200" y="255" fill="white" font-size="12" text-anchor="middle">m‚ÇÅ</text>
                    <text x="200" y="200" fill="#2E7D32" font-size="14" text-anchor="middle">v‚ÇÅ ‚Üí</text>

                    <circle cx="600" cy="250" r="45" fill="#EF5350"/>
                    <text x="600" y="255" fill="white" font-size="12" text-anchor="middle">m‚ÇÇ</text>
                    <text x="600" y="200" fill="#2E7D32" font-size="14" text-anchor="middle">v‚ÇÇ = 0</text>
                </g>

                <!-- Despu√©s (uni√≥n) -->
                <g id="despues" opacity="0">
                    <rect x="375" y="215" width="80" height="70" fill="#9CCC65" rx="10">
                        <animate attributeName="opacity" values="0;1" begin="2s" dur="0.5s"/>
                    </rect>
                    <text x="415" y="250" fill="white" font-size="12" text-anchor="middle">m‚ÇÅ+m‚ÇÇ</text>
                    <text x="415" y="300" fill="#1B5E20" font-size="14" text-anchor="middle">v com√∫n ‚Üí</text>
                    <animate attributeName="x" values="415;500" begin="2.5s" dur="2s" repeatCount="indefinite"/>
                </g>

                <!-- F√≥rmula -->
                <rect x="100" y="350" width="600" height="100" fill="#C8E6C9" rx="15"/>
                <text x="400" y="390" fill="#1B5E20" font-size="18" text-anchor="middle">m‚ÇÅv‚ÇÅ + m‚ÇÇv‚ÇÇ = (m‚ÇÅ+m‚ÇÇ)v</text>
                <text x="400" y="420" fill="#2E7D32" font-size="14" text-anchor="middle">Inel√°stica perfecta</text>

                <text x="400" y="470" fill="#1B5E20" font-size="12" text-anchor="middle">SI 2025: p en kg¬∑m/s | Sistema aislado: F_ext = 0</text>
            </svg>
            <p><em>SVG Animado: p total conservado antes y despu√©s de colisi√≥n.</em></p>
        </div>
    ',
    'ejercicios' => [
        ['enunciado' => 'Conservaci√≥n p v√°lida si', 'respuesta' => 'F_ext = 0'],
        ['enunciado' => 'p total =', 'respuesta' => 'm‚ÇÅv‚ÇÅ + m‚ÇÇv‚ÇÇ + ...'],
        ['enunciado' => 'En explosi√≥n (reposo)', 'respuesta' => 'p_total = 0'],
        ['enunciado' => 'Vectorial ‚Üí', 'respuesta' => 'Componentes x, y'],
        ['enunciado' => 'm‚ÇÅ=1kg, v‚ÇÅ=5m/s; m‚ÇÇ=2kg, v‚ÇÇ=0 ‚Üí p_i', 'respuesta' => '5 kg¬∑m/s'],
        ['enunciado' => 'Inel√°stica perfecta: v =', 'respuesta' => '(m‚ÇÅv‚ÇÅ + m‚ÇÇv‚ÇÇ)/(m‚ÇÅ+m‚ÇÇ)'],
        ['enunciado' => 'Cohete: Œîp_cohete =', 'respuesta' => '-Œîp_gases'],
        ['enunciado' => 'Colisi√≥n 2D: p_x y p_y', 'respuesta' => 'Conservadas por separado'],
        ['enunciado' => 'Sistema aislado significa', 'respuesta' => 'No F_ext neta'],
        ['enunciado' => 'p antes = p despu√©s', 'respuesta' => 'Conservaci√≥n'],
        ['enunciado' => 'Unidad p', 'respuesta' => 'kg¬∑m/s'],
        ['enunciado' => 'SI: conservaci√≥n en', 'respuesta' => 'Cualquier direcci√≥n']
    ],
    'quiz' => [
        ['pregunta' => 'Conservaci√≥n p requiere', 'opciones' => ['F_ext = 0', 'F_ext ‚â† 0', 'm = 0', 'v = 0'], 'correcta' => 'F_ext = 0'],
        ['pregunta' => 'p total antes =', 'opciones' => ['p total despu√©s', 'p parcial', '0', 'm√°ximo'], 'correcta' => 'p total despu√©s'],
        ['pregunta' => 'p es', 'opciones' => ['Vector', 'Escalar', 'Energ√≠a', 'Fuerza'], 'correcta' => 'Vector'],
        ['pregunta' => 'V√°lida en', 'opciones' => ['Todas colisiones', 'Solo el√°sticas', 'Solo inel√°sticas', 'Ninguna'], 'correcta' => 'Todas colisiones'],
        ['pregunta' => 'Explosi√≥n: p_i =', 'opciones' => ['0 (si en reposo)', 'm v', 'F t', 'EK'], 'correcta' => '0 (si en reposo)'],
        ['pregunta' => 'm‚ÇÅv‚ÇÅ + m‚ÇÇv‚ÇÇ =', 'opciones' => ['m‚ÇÅv‚ÇÅ\' + m‚ÇÇv‚ÇÇ\'', 'm‚ÇÅ + m‚ÇÇ', 'v‚ÇÅ + v‚ÇÇ', '0'], 'correcta' => 'm‚ÇÅv‚ÇÅ\' + m‚ÇÇv‚ÇÇ\''],
        ['pregunta' => 'Sistema aislado =', 'opciones' => ['‚àë F_ext = 0', '‚àë F_int = 0', 'm = cte', 'v = cte'], 'correcta' => '‚àë F_ext = 0'],
        ['pregunta' => 'Cohete avanza porque', 'opciones' => ['Gases expulsados atr√°s', 'Combustible', 'Gravedad', 'Aire'], 'correcta' => 'Gases expulsados atr√°s'],
        ['pregunta' => 'p conservada en', 'opciones' => ['x e y (2D)', 'solo x', 'solo y', 'ninguna'], 'correcta' => 'x e y (2D)'],
        ['pregunta' => 'Unidad p', 'opciones' => ['kg¬∑m/s', 'N', 'J', 'm/s¬≤'], 'correcta' => 'kg¬∑m/s'],

        ['pregunta' => 'm‚ÇÅ=2kg, v‚ÇÅ=3m/s; m‚ÇÇ=1kg, v‚ÇÇ=0 ‚Üí p_i', 'opciones' => ['6 kg¬∑m/s', '2 kg¬∑m/s', '3 kg¬∑m/s', '0'], 'correcta' => '6 kg¬∑m/s'],
        ['pregunta' => 'Inel√°stica perfecta: v =', 'opciones' => ['(m‚ÇÅv‚ÇÅ + m‚ÇÇv‚ÇÇ)/(m‚ÇÅ+m‚ÇÇ)', 'v‚ÇÅ + v‚ÇÇ', '0', 'v‚ÇÅ'], 'correcta' => '(m‚ÇÅv‚ÇÅ + m‚ÇÇv‚ÇÇ)/(m‚ÇÅ+m‚ÇÇ)'],
        ['pregunta' => 'Explosi√≥n: fragmentos opuestos', 'opciones' => ['p‚ÇÅ = -p‚ÇÇ', 'p‚ÇÅ = p‚ÇÇ', 'p‚ÇÅ = 0', 'p_total ‚â† 0'], 'correcta' => 'p‚ÇÅ = -p‚ÇÇ'],
        ['pregunta' => 'Colisi√≥n frontal: p_total', 'opciones' => ['Conservada', 'Perdida', 'Aumentada', 'Cero'], 'correcta' => 'Conservada'],
        ['pregunta' => 'Fricci√≥n presente ‚Üí p sistema', 'opciones' => ['No conservada (F_ext)', 'Conservada', 'Aumenta', 'Cero'], 'correcta' => 'No conservada (F_ext)'],
        ['pregunta' => 'Choque el√°stico: p', 'opciones' => ['Conservada', 'No', 'A veces', 'Nunca'], 'correcta' => 'Conservada'],
        ['pregunta' => 'v‚ÇÅ = -v‚ÇÇ (masas iguales)', 'opciones' => ['Rebotan opuestos', 'Se pegan', 'Se detienen', 'Aceleran'], 'correcta' => 'Rebotan opuestos'],
        ['pregunta' => 'p = m v ‚Üí v =', 'opciones' => ['p/m', 'm/p', 'p m', '0'], 'correcta' => 'p/m'],
        ['pregunta' => 'Sistema Tierra + pelota', 'opciones' => ['p_total conservada', 'No', 'Solo pelota', 'Solo Tierra'], 'correcta' => 'p_total conservada'],
        ['pregunta' => 'SI 2025: p en', 'opciones' => ['kg¬∑m/s', 'N¬∑s¬≤', 'J¬∑s', 'W'], 'correcta' => 'kg¬∑m/s'],

        ['pregunta' => 'm‚ÇÅ=4kg, v‚ÇÅ=5m/s; m‚ÇÇ=6kg, v‚ÇÇ=-2m/s ‚Üí p_i', 'opciones' => ['8 kg¬∑m/s', '20 kg¬∑m/s', '30 kg¬∑m/s', '0'], 'correcta' => '8 kg¬∑m/s'],
        ['pregunta' => 'Explosi√≥n 2 partes: m‚ÇÅ=1kg, v‚ÇÅ=10m/s ‚Üí m‚ÇÇv‚ÇÇ', 'opciones' => ['-10 kg¬∑m/s', '10 kg¬∑m/s', '0', '1 kg¬∑m/s'], 'correcta' => '-10 kg¬∑m/s'],
        ['pregunta' => 'Cohete: Œîm v_e =', 'opciones' => ['-M Œîv', 'M v', 'Œîm v', '0'], 'correcta' => '-M Œîv'],
        ['pregunta' => 'Colisi√≥n 2D: p_y inicial = 0 ‚Üí p_y final', 'opciones' => ['0', 'm‚ÇÅv‚ÇÅ', 'm‚ÇÇv‚ÇÇ', 'p_x'], 'correcta' => '0'],
        ['pregunta' => 'p_total = 0 ‚Üí sistema', 'opciones' => ['En reposo o balanceado', 'En movimiento', 'Con fricci√≥n', 'Abierto'], 'correcta' => 'En reposo o balanceado'],
        ['pregunta' => 'Conservaci√≥n p derivada de', 'opciones' => ['3¬™ Ley Newton', '1¬™', '2¬™', 'Gravedad'], 'correcta' => '3¬™ Ley Newton'],
        ['pregunta' => 'p en vac√≠o vs aire', 'opciones' => ['Conservada igual', 'No en aire', 'Solo vac√≠o', 'Nunca'], 'correcta' => 'Conservada igual'],
        ['pregunta' => 'm‚ÇÅv‚ÇÅ = m‚ÇÇv‚ÇÇ (rebote)', 'opciones' => ['Masas iguales', 'Velocidades iguales', 'p iguales', 'EK igual'], 'correcta' => 'Masas iguales'],
        ['pregunta' => 'Sistema cerrado =', 'opciones' => ['No intercambio p con exterior', 'Masa cte', 'Volumen cte', 'Temperatura cte'], 'correcta' => 'No intercambio p con exterior'],
        ['pregunta' => 'SI 2025: 1 kg¬∑m/s =', 'opciones' => ['1 N¬∑s', '1 J', '1 W', '1 Pa'], 'correcta' => '1 N¬∑s']
    ]
];
// ========================================
// MATERIA: F√çSICA I
// SUBTEMA: Coeficiente de Restituci√≥n, Cantidad de Calor, Capacidad de Calor Espec√≠fico, Capacidad Calor√≠fica
// ========================================
$lecciones[] = [
    'materia' => 'F√≠sica I',
    'slug' => 'coeficiente-restitucion-calor',
    'titulo' => 'Coeficiente de Restituci√≥n (e), Cantidad de Calor (Q = m c ŒîT), Capacidad Calor√≠fica (C)',
    'contenido' => '
        <h3>Coeficiente de Restituci√≥n (e)</h3>
        <p>Mide la <strong>elasticidad</strong> de una colisi√≥n. Se define como la <strong>raz√≥n negativa</strong> de la velocidad relativa de separaci√≥n a la de aproximaci√≥n:</p>
        <p>\[
            e = -\\frac{v_2 - v_1}{u_2 - u_1} = \\frac{v_{\\text{rel. salida}}}{u_{\\text{rel. entrada}}}
        \]</p>
        <ul>
            <li>\( e = 1 \): <strong>El√°stica perfecta</strong> (p y EK conservadas)</li>
            <li>\( e = 0 \): <strong>Inel√°stica perfecta</strong> (se pegan)</li>
            <li>\( 0 < e < 1 \): <strong>Parcialmente el√°stica</strong></li>
        </ul>

        <hr style="border:1px dashed #1976D2;">

        <h3>Cantidad de Calor y Capacidad T√©rmica</h3>
        <p>Calor transferido para cambiar temperatura (sin cambio de fase):</p>
        <p>\[
            Q = m c \\Delta T \\quad \\text{o} \\quad Q = C \\Delta T
        \]</p>
        <ul>
            <li>\( c \): Capacidad calor√≠fica <strong>espec√≠fica</strong> (J/kg¬∑¬∞C)</li>
            <li>\( C = m c \): Capacidad calor√≠fica <strong>total</strong> (J/¬∞C)</li>
            <li>\( c_{\\text{agua}} = 4186\\,\\text{J/kg¬∑¬∞C} \)</li>
        </ul>

        <hr style="border:1px dashed #1976D2;">

        <h4>1. Tabla de Valores</h4>
        <table class="table">
            <thead>
                <tr><th>Sustancia</th><th>c (J/kg¬∑¬∞C)</th></tr>
            </thead>
            <tbody>
                <tr><td>Agua</td><td>4186</td></tr>
                <tr><td>Alcohol</td><td>2400</td></tr>
                <tr><td>Aluminio</td><td>900</td></tr>
                <tr><td>Cobre</td><td>385</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #1976D2;">

        <h4>2. Relaci√≥n con Colisiones</h4>
        <p>En colisiones, \( e \) determina si la <strong>energ√≠a cin√©tica</strong> se conserva:</p>
        <p>\[
            \\frac{1}{2} m_1 u_1^2 + \\frac{1}{2} m_2 u_2^2 = 
            \\begin{cases}
            \\frac{1}{2} m_1 v_1^2 + \\frac{1}{2} m_2 v_2^2 & (e=1) \\\\
            < \\text{total inicial} & (e<1)
            \\end{cases}
        \]</p>

        <div class="ejemplo">
            <p><strong>Ejemplo 1 (Restituci√≥n):</strong> <strong>m‚ÇÅ = 1 kg, u‚ÇÅ = 5 m/s; m‚ÇÇ = 2 kg, u‚ÇÇ = 0</strong><br>
            \( e = 0.5 \\) ‚Üí \( v_1 = -0.667\\,\\text{m/s}, v_2 = 2.167\\,\\text{m/s} \)<br>
            <strong>Verificaci√≥n:</strong> \( e = -\\frac{2.167 - (-0.667)}{0 - 5} = 0.5 \\quad \\checkmark \)</p>

            <p><strong>Ejemplo 2 (Calor):</strong> <strong>0.5 kg cobre (c=385) de 20¬∞C a 100¬∞C</strong><br>
            \( Q = 0.5 \\cdot 385 \\cdot 80 = 15,400\\,\\text{J} = 15.4\\,\\text{kJ} \)</p>
        </div>

        <div class="visual">
            <img src="assets/img/coeficiente-restitucion.jpg" alt="Coeficiente e">
            <p><em>El√°stica vs inel√°stica. Fuente: Physics Classroom.</em></p>
        </div>

        <hr style="border:1px dashed #1976D2;">

        <h4>3. SVG Animado: Colisi√≥n + e + Calor Disipado</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <rect x="0" y="0" width="800" height="500" fill="#E3F2FD"/>
                <text x="400" y="50" fill="#0D47A1" font-size="28" text-anchor="middle" font-weight="bold">e = -Œîv / Œîu</text>

                <!-- Colisi√≥n -->
                <g id="colision">
                    <circle cx="250" cy="250" r="30" fill="#42A5F5">
                        <animate attributeName="cx" values="250;400" begin="1s" dur="1s"/>
                    </circle>
                    <text x="250" y="255" fill="white" font-size="12" text-anchor="middle">m‚ÇÅ</text>

                    <circle cx="550" cy="250" r="40" fill="#EF5350">
                        <animate attributeName="cx" values="550;400" begin="1s" dur="1s"/>
                    </circle>
                    <text x="550" y="255" fill="white" font-size="12" text-anchor="middle">m‚ÇÇ</text>
                </g>

                <!-- Rebote (e<1) -->
                <g id="rebote" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="2s" dur="0.5s"/>
                    <circle cx="400" cy="250" r="30" fill="#42A5F5">
                        <animate attributeName="cx" values="400;300" begin="2.5s" dur="1.5s"/>
                    </circle>
                    <circle cx="400" cy="250" r="40" fill="#EF5350">
                        <animate attributeName="cx" values="400;500" begin="2.5s" dur="1.5s"/>
                    </circle>
                    <text x="400" y="200" fill="#D32F2F" font-size="14" text-anchor="middle">e = 0.6</text>
                </g>

                <!-- Calor disipado -->
                <g id="calor" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="3s" dur="0.5s"/>
                    <path d="M380 280 Q400 250 420 280 Q400 310 380 280" fill="#FF5722">
                        <animate attributeName="d" values="M380 280 Q400 250 420 280 Q400 310 380 280; M380 280 Q400 230 420 280 Q400 330 380 280; M380 280 Q400 250 420 280 Q400 310 380 280" dur="1s" repeatCount="indefinite"/>
                    </path>
                    <text x="400" y="340" fill="#E65100" font-size="14" text-anchor="middle">Q disipado</text>
                </g>

                <rect x="100" y="400" width="600" height="80" fill="#C8E6C9" rx="15"/>
                <text x="400" y="430" fill="#1B5E20" font-size="16" text-anchor="middle">e=1 ‚Üí EK conservada | e<1 ‚Üí Q = ŒîEK</text>
                <text x="400" y="455" fill="#2E7D32" font-size="12" text-anchor="middle">SI 2025: c_agua = 4186 J/kg¬∑K exacto</text>
            </svg>
            <p><em>SVG Animado: Colisi√≥n ‚Üí rebote (e<1) ‚Üí calor disipado.</em></p>
        </div>
    ',
    'ejercicios' => [
        ['enunciado' => 'e = 1 significa', 'respuesta' => 'Colisi√≥n el√°stica perfecta'],
        ['enunciado' => 'e = 0 significa', 'respuesta' => 'Inel√°stica perfecta'],
        ['enunciado' => 'F√≥rmula e', 'respuesta' => '-(v2-v1)/(u2-u1)'],
        ['enunciado' => 'Q = m c ŒîT es', 'respuesta' => 'Calor sensible'],
        ['enunciado' => 'C = m c es', 'respuesta' => 'Capacidad calor√≠fica total'],
        ['enunciado' => 'c cobre ‚âà', 'respuesta' => '385 J/kg¬∑¬∞C'],
        ['enunciado' => 'e = 0.8 ‚Üí', 'respuesta' => 'Parcialmente el√°stica'],
        ['enunciado' => 'ŒîEK = Q si', 'respuesta' => 'e < 1'],
        ['enunciado' => 'u1=6, u2=0, v1=-2, v2=4 ‚Üí e', 'respuesta' => '1'],
        ['enunciado' => '0.2 kg agua ŒîT=10¬∞C ‚Üí Q', 'respuesta' => '8372 J'],
        ['enunciado' => 'C para 1 kg aluminio', 'respuesta' => '900 J/¬∞C'],
        ['enunciado' => 'SI: e sin unidad', 'respuesta' => 'Adimensional']
    ],
    'quiz' => [
        ['pregunta' => 'e = 1 ‚Üí colisi√≥n', 'opciones' => ['El√°stica', 'Inel√°stica', 'Explosi√≥n', 'Est√°tica'], 'correcta' => 'El√°stica'],
        ['pregunta' => 'e = 0 ‚Üí', 'opciones' => ['Inel√°stica perfecta', 'El√°stica', 'Parcial', 'Imposible'], 'correcta' => 'Inel√°stica perfecta'],
        ['pregunta' => 'F√≥rmula e', 'opciones' => ['-(v2-v1)/(u2-u1)', '(v2-v1)/(u2-u1)', 'v/u', 'u/v'], 'correcta' => '-(v2-v1)/(u2-u1)'],
        ['pregunta' => 'Q = m c ŒîT mide', 'opciones' => ['Calor sensible', 'Latente', 'Radiaci√≥n', 'Conducci√≥n'], 'correcta' => 'Calor sensible'],
        ['pregunta' => 'C = m c es', 'opciones' => ['Capacidad total', 'Espec√≠fica', 'Latente', 'Molar'], 'correcta' => 'Capacidad total'],
        ['pregunta' => 'c_agua =', 'opciones' => ['4186 J/kg¬∑¬∞C', '385', '900', '2090'], 'correcta' => '4186 J/kg¬∑¬∞C'],
        ['pregunta' => 'e < 1 ‚Üí EK', 'opciones' => ['Disminuye', 'Aumenta', 'Igual', 'Cero'], 'correcta' => 'Disminuye'],
        ['pregunta' => 'ŒîEK = Q si', 'opciones' => ['e < 1', 'e = 1', 'e = 0', 'Siempre'], 'correcta' => 'e < 1'],
        ['pregunta' => 'u1=4, u2=0, e=0.5 ‚Üí v1', 'opciones' => ['-4/3 m/s', '0', '4 m/s', '2 m/s'], 'correcta' => '-4/3 m/s'],
        ['pregunta' => '0.1 kg cobre ŒîT=50¬∞C ‚Üí Q', 'opciones' => ['1925 J', '4186 J', '900 J', '0'], 'correcta' => '1925 J'],

        ['pregunta' => 'e = velocidad relativa', 'opciones' => ['Salida / entrada', 'Entrada / salida', 'v/u', 'u/v'], 'correcta' => 'Salida / entrada'],
        ['pregunta' => 'c alta ‚Üí', 'opciones' => ['Absorbe m√°s Q por ¬∞C', 'Menos', 'Igual', 'Cero'], 'correcta' => 'Absorbe m√°s Q por ¬∞C'],
        ['pregunta' => 'C para 2 kg agua', 'opciones' => ['8372 J/¬∞C', '4186 J/¬∞C', '2093 J/¬∞C', '0'], 'correcta' => '8372 J/¬∞C'],
        ['pregunta' => 'e pelota golf ‚âà', 'opciones' => ['0.8', '1.0', '0.0', '0.5'], 'correcta' => '0.8'],
        ['pregunta' => 'Q positiva ‚Üí sistema', 'opciones' => ['Gana calor', 'Pierde', 'Igual', 'Cero'], 'correcta' => 'Gana calor'],
        ['pregunta' => 'ŒîT = Q / C ‚Üí C =', 'opciones' => ['Q / ŒîT', 'm c', 'c / m', 'ŒîT / Q'], 'correcta' => 'Q / ŒîT'],
        ['pregunta' => 'e = 1 ‚Üí p y EK', 'opciones' => ['Ambas conservadas', 'Solo p', 'Solo EK', 'Ninguna'], 'correcta' => 'Ambas conservadas'],
        ['pregunta' => 'e = 0 ‚Üí EK final', 'opciones' => ['M√≠nima', 'M√°xima', 'Igual', 'Cero'], 'correcta' => 'M√≠nima'],
        ['pregunta' => 'SI: c en', 'opciones' => ['J/(kg¬∑K)', 'cal/g¬∑¬∞C', 'BTU/lb¬∑¬∞F', 'todas'], 'correcta' => 'todas'],
        ['pregunta' => 'IUPAC: calor en', 'opciones' => ['Joule', 'Calor√≠a', 'eV', 'kWh'], 'correcta' => 'Joule'],

        ['pregunta' => 'u1=10, u2=-5, v1=0, v2=5 ‚Üí e', 'opciones' => ['1', '0', '0.5', '2'], 'correcta' => '1'],
        ['pregunta' => 'Q = 8360 J, m=2 kg, c=4186 ‚Üí ŒîT', 'opciones' => ['1¬∞C', '2¬∞C', '4¬∞C', '8360¬∞C'], 'correcta' => '1¬∞C'],
        ['pregunta' => 'e pelota tenis ‚âà', 'opciones' => ['0.7', '1.0', '0.0', '0.3'], 'correcta' => '0.7'],
        ['pregunta' => 'Calor disipado =', 'opciones' => ['ŒîEK', 'Œîp', 'm g h', 'F Œît'], 'correcta' => 'ŒîEK'],
        ['pregunta' => 'c vapor > c agua', 'opciones' => ['No', 'S√≠', 'Igual', 'Depende'], 'correcta' => 'No'],
        ['pregunta' => 'e > 1', 'opciones' => ['Imposible (pasiva)', 'Posible', 'Explosi√≥n', 'Siempre'], 'correcta' => 'Imposible (pasiva)'],
        ['pregunta' => 'C = Q / ŒîT ‚Üí unidad', 'opciones' => ['J/¬∞C', 'J/kg¬∑¬∞C', 'W', 'kWh'], 'correcta' => 'J/¬∞C'],
        ['pregunta' => 'e = 0.4 ‚Üí', 'opciones' => ['60% EK perdida', '40%', '100%', '0%'], 'correcta' => '60% EK perdida'],
        ['pregunta' => 'SI 2025: c_agua =', 'opciones' => ['4186 J/kg¬∑K', '4.184 J/g¬∑K', '1 cal/g¬∑K', 'todas'], 'correcta' => 'todas'],
        ['pregunta' => 'e mide', 'opciones' => ['Elasticidad relativa', 'Masa', 'Velocidad', 'Fuerza'], 'correcta' => 'Elasticidad relativa']
    ]
];

// ========================================
// MATERIA: CIENCIAS SOCIALES
// SUBTEMA: El Bienestar y la Satisfacci√≥n de las Necesidades
// ========================================
$lecciones[] = [
    'materia' => 'Ciencias Sociales',
    'slug' => 'bienestar-satisfaccion-necesidades',
    'titulo' => 'El Bienestar y la Satisfacci√≥n de las Necesidades: Pir√°mide de Maslow',
    'contenido' => '
        <h3>El Bienestar y la Satisfacci√≥n de las Necesidades</h3>
        <p>El <strong>bienestar</strong> es un estado de <strong>equilibrio f√≠sico, mental y social</strong>. Seg√∫n <strong>Abraham Maslow</strong> (1943), las necesidades humanas se organizan en una <strong>pir√°mide jer√°rquica</strong>:</p>

        <hr style="border:1px dashed #7B1FA2;">

        <h4>1. Niveles de la Pir√°mide de Maslow</h4>
        <table class="table">
            <thead>
                <tr><th>Nivel</th><th>Necesidades</th><th>Ejemplos</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>5. Autorrealizaci√≥n</strong></td><td>Creatividad, potencial</td><td>Arte, logros personales</td></tr>
                <tr><td><strong>4. Estima</strong></td><td>Respeto, logros</td><td>Reconocimiento, confianza</td></tr>
                <tr><td><strong>3. Sociales</strong></td><td>Amor, pertenencia</td><td>Amistad, familia</td></tr>
                <tr><td><strong>2. Seguridad</strong></td><td>Estabilidad, protecci√≥n</td><td>Empleo, salud</td></tr>
                <tr><td><strong>1. Fisiol√≥gicas</strong></td><td>Supervivencia</td><td>Comida, agua, aire</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #7B1FA2;">

        <h4>2. Principios Clave</h4>
        <ul>
            <li><strong>Jerarqu√≠a</strong>: Se satisfacen niveles inferiores antes que superiores.</li>
            <li><strong>Din√°mica</strong>: Una necesidad satisfecha deja de motivar.</li>
            <li><strong>Cultural</strong>: Aplicaci√≥n universal con variaciones locales.</li>
        </ul>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Un estudiante con hambre (nivel 1)</strong> no puede concentrarse en aprender (nivel 4). Solo tras comer, puede buscar amigos (nivel 3) y luego destacar en clase (nivel 4).</p>
        </div>

        <div class="visual">
            <img src="assets/img/piramide-maslow.webp" alt="Pir√°mide Maslow">
            <p><em>Pir√°mide clara. Fuente: BiteSize Learning.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/maslow-clasica.png" alt="Wikipedia Maslow">
            <p><em>Versi√≥n cl√°sica. Fuente: Wikipedia.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/Maslows_Hierarchy_of_Needs.gif" alt="Pursuit of Happiness">
            <p><em>Visual motivacional. Fuente: Pursuit of Happiness.</em></p>
        </div>

        <hr style="border:1px dashed #7B1FA2;">

        <h4>3. SVG Animado: Pir√°mide de Maslow</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <rect x="0" y="0" width="800" height="500" fill="#F3E5F5"/>

                <text x="400" y="50" fill="#4A148C" font-size="28" text-anchor="middle" font-weight="bold">PIR√ÅMIDE DE MASLOW</text>

                <!-- Niveles -->
                <g id="nivel1" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="0.5s" dur="0.5s"/>
                    <polygon points="200,400 600,400 400,300" fill="#2196F3"/>
                    <text x="400" y="360" fill="white" font-size="16" text-anchor="middle">Fisiol√≥gicas</text>
                </g>

                <g id="nivel2" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="1s" dur="0.5s"/>
                    <polygon points="220,300 580,300 400,220" fill="#4CAF50"/>
                    <text x="400" y="265" fill="white" font-size="16" text-anchor="middle">Seguridad</text>
                </g>

                <g id="nivel3" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="1.5s" dur="0.5s"/>
                    <polygon points="240,220 560,220 400,150" fill="#FF9800"/>
                    <text x="400" y="190" fill="white" font-size="16" text-anchor="middle">Sociales</text>
                </g>

                <g id="nivel4" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="2s" dur="0.5s"/>
                    <polygon points="260,150 540,150 400,90" fill="#F44336"/>
                    <text x="400" y="125" fill="white" font-size="16" text-anchor="middle">Estima</text>
                </g>

                <g id="nivel5" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="2.5s" dur="0.5s"/>
                    <polygon points="280,90 520,90 400,40" fill="#FFD700"/>
                    <text x="400" y="70" fill="#212121" font-size="16" text-anchor="middle">Autorrealizaci√≥n</text>
                </g>

                <rect x="100" y="420" width="600" height="60" fill="#E8F5E9" rx="10"/>
                <text x="400" y="450" fill="#1B5E20" font-size="14" text-anchor="middle">Satisfacer base ‚Üí acceso a superiores</text>

                <text x="400" y="490" fill="#4A148C" font-size="12" text-anchor="middle">SI 2025: Teor√≠a motivacional universal</text>
            </svg>
            <p><em>SVG Animado: Construcci√≥n progresiva de la pir√°mide de Maslow.</em></p>
        </div>
    ',
    'ejercicios' => [
        ['enunciado' => 'Nombre los 5 niveles de Maslow', 'respuesta' => 'Fisiol√≥gicas, Seguridad, Sociales, Estima, Autorrealizaci√≥n'],
        ['enunciado' => 'Nivel base', 'respuesta' => 'Fisiol√≥gicas'],
        ['enunciado' => 'Nivel superior', 'respuesta' => 'Autorrealizaci√≥n'],
        ['enunciado' => 'Necesidad de estima', 'respuesta' => 'Respeto, logros'],
        ['enunciado' => 'Si falta comida ‚Üí', 'respuesta' => 'Bloquea niveles superiores'],
        ['enunciado' => 'Teor√≠a de', 'respuesta' => 'Abraham Maslow'],
        ['enunciado' => 'Bienestar =', 'respuesta' => 'Equilibrio en todos los niveles'],
        ['enunciado' => 'Ejemplo nivel 3', 'respuesta' => 'Amistad, familia'],
        ['enunciado' => 'Jerarqu√≠a significa', 'respuesta' => 'Orden de prioridad'],
        ['enunciado' => 'Autorrealizaci√≥n incluye', 'respuesta' => 'Creatividad, potencial'],
        ['enunciado' => 'M√©xico: necesidad clave', 'respuesta' => 'Seguridad (empleo, salud)'],
        ['enunciado' => 'SI: bienestar en', 'respuesta' => 'Desarrollo humano']
    ],
    'quiz' => [
        ['pregunta' => 'Nivel base pir√°mide', 'opciones' => ['Fisiol√≥gicas', 'Autorrealizaci√≥n', 'Estima', 'Sociales'], 'correcta' => 'Fisiol√≥gicas'],
        ['pregunta' => 'Nivel superior', 'opciones' => ['Autorrealizaci√≥n', 'Fisiol√≥gicas', 'Seguridad', 'Estima'], 'correcta' => 'Autorrealizaci√≥n'],
        ['pregunta' => 'Teor√≠a de', 'opciones' => ['Maslow', 'Freud', 'Piaget', 'Skinner'], 'correcta' => 'Maslow'],
        ['pregunta' => 'Bienestar requiere', 'opciones' => ['Equilibrio en necesidades', 'Solo dinero', 'Solo comida', 'Nada'], 'correcta' => 'Equilibrio en necesidades'],
        ['pregunta' => 'Necesidades fisiol√≥gicas', 'opciones' => ['Comida, agua', 'Amigos', 'Logros', 'Arte'], 'correcta' => 'Comida, agua'],
        ['pregunta' => 'Estima incluye', 'opciones' => ['Respeto, confianza', 'Comida', 'Seguridad', 'Amor'], 'correcta' => 'Respeto, confianza'],
        ['pregunta' => 'Si falta seguridad ‚Üí', 'respuesta' => 'Dificulta estima'],
        ['pregunta' => 'Jerarqu√≠a significa', 'opciones' => ['Orden de prioridad', 'Igualdad', 'Aleatorio', 'Opcional'], 'correcta' => 'Orden de prioridad'],
        ['pregunta' => 'Autorrealizaci√≥n es', 'opciones' => ['Realizar potencial', 'Comer', 'Dormir', 'Trabajar'], 'correcta' => 'Realizar potencial'],
        ['pregunta' => 'M√©xico 2025: prioridad', 'opciones' => ['Seguridad y salud', 'Lujo', 'Viajes', 'Tecnolog√≠a'], 'correcta' => 'Seguridad y salud'],

        ['pregunta' => 'Necesidades sociales', 'opciones' => ['Amistad, pertenencia', 'Comida', 'Dinero', 'Fama'], 'correcta' => 'Amistad, pertenencia'],
        ['pregunta' => 'Sin comida ‚Üí motivaci√≥n', 'opciones' => ['Solo fisiol√≥gica', 'Estima', 'Creatividad', 'Nada'], 'correcta' => 'Solo fisiol√≥gica'],
        ['pregunta' => 'Pir√°mide es', 'opciones' => ['Jer√°rquica', 'Circular', 'Lineal', 'Plana'], 'correcta' => 'Jer√°rquica'],
        ['pregunta' => 'Bienestar =', 'opciones' => ['Satisfacci√≥n progresiva', 'Solo nivel 1', 'Solo nivel 5', 'Dinero'], 'correcta' => 'Satisfacci√≥n progresiva'],
        ['pregunta' => 'Maslow public√≥ en', 'opciones' => ['1943', '1900', '2000', '2025'], 'correcta' => '1943'],
        ['pregunta' => 'Cr√≠tica a Maslow', 'opciones' => ['No universal', 'Perfecta', 'Cient√≠fica', 'F√≠sica'], 'correcta' => 'No universal'],
        ['pregunta' => 'M√©xico: nivel cr√≠tico', 'opciones' => ['Seguridad', 'Autorrealizaci√≥n', 'Estima', 'Sociales'], 'correcta' => 'Seguridad'],
        ['pregunta' => 'Bienestar social incluye', 'opciones' => ['Nivel 3', 'Solo 1', 'Solo 5', 'Ninguno'], 'correcta' => 'Nivel 3'],
        ['pregunta' => 'SI 2025: desarrollo humano mide', 'opciones' => ['IDH (PNUD)', 'PIB', 'Solo dinero', 'Nada'], 'correcta' => 'IDH (PNUD)'],
        ['pregunta' => 'Necesidad satisfecha ‚Üí', 'opciones' => ['Deja de motivar', 'Aumenta', 'Igual', 'Desaparece'], 'correcta' => 'Deja de motivar'],

        ['pregunta' => 'Estudiante con hambre', 'opciones' => ['No aprende bien', 'Mejor', 'Igual', 'M√°s creativo'], 'correcta' => 'No aprende bien'],
        ['pregunta' => 'Empresa: motivaci√≥n', 'opciones' => ['Salario + reconocimiento', 'Solo salario', 'Solo amigos', 'Nada'], 'correcta' => 'Salario + reconocimiento'],
        ['pregunta' => 'M√©xico: bienestar juvenil', 'opciones' => ['Educaci√≥n + empleo', 'Lujo', 'Viajes', 'Tecnolog√≠a'], 'correcta' => 'Educaci√≥n + empleo'],
        ['pregunta' => 'Pir√°mide din√°mica', 'opciones' => ['S√≠, cambia con contexto', 'No', 'Fija', 'Est√°tica'], 'correcta' => 'S√≠, cambia con contexto'],
        ['pregunta' => 'Autorrealizaci√≥n ejemplo', 'opciones' => ['Pintar, inventar', 'Comer', 'Dormir', 'Trabajar'], 'correcta' => 'Pintar, inventar'],
        ['pregunta' => 'Cr√≠tica cultural', 'opciones' => ['Colectivismo vs individualismo', 'Universal', 'F√≠sica', 'Matem√°tica'], 'correcta' => 'Colectivismo vs individualismo'],
        ['pregunta' => 'Bienestar objetivo', 'opciones' => ['Progreso en todos los niveles', 'Solo base', 'Solo cima', 'Dinero'], 'correcta' => 'Progreso en todos los niveles'],
        ['pregunta' => 'M√©xico 2025: pol√≠tica p√∫blica', 'opciones' => ['Salud, educaci√≥n, empleo', 'Lujo', 'Tecnolog√≠a', 'Nada'], 'correcta' => 'Salud, educaci√≥n, empleo'],
        ['pregunta' => 'SI 2025: bienestar en', 'opciones' => ['ODS 3, 4, 8', 'Solo 1', 'Solo 17', 'Ninguno'], 'correcta' => 'ODS 3, 4, 8'],
        ['pregunta' => 'Maslow: motivaci√≥n humana', 'opciones' => ['Jer√°rquica y progresiva', 'Aleatoria', 'Est√°tica', 'Negativa'], 'correcta' => 'Jer√°rquica y progresiva']
    ]
];
// ========================================
// MATERIA: CIENCIAS SOCIALES
// SUBTEMA: La Organizaci√≥n de la Sociedad
// ========================================
$lecciones[] = [
    'materia' => 'Ciencias Sociales',
    'slug' => 'organizacion-sociedad',
    'titulo' => 'La Organizaci√≥n de la Sociedad: Niveles Micro, Meso y Macro',
    'contenido' => '
        <h3>La Organizaci√≥n de la Sociedad</h3>
        <p>La <strong>organizaci√≥n social</strong> es el conjunto de <strong>estructuras, relaciones e instituciones</strong> que permiten el funcionamiento colectivo de los individuos en una comunidad. Se analiza en tres niveles:</p>

        <hr style="border:1px dashed #7B1FA2;">

        <h4>1. Niveles de Organizaci√≥n Social</h4>
        <table class="table">
            <thead>
                <tr><th>Nivel</th><th>Escala</th><th>Ejemplos</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Micro</strong></td><td>Individuos y relaciones cercanas</td><td>Familia, amigos, compa√±eros</td></tr>
                <tr><td><strong>Meso</strong></td><td>Grupos e instituciones intermedias</td><td>Escuelas, empresas, iglesias</td></tr>
                <tr><td><strong>Macro</strong></td><td>Sociedad global, estructuras amplias</td><td>Estado, econom√≠a, cultura nacional</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #7B1FA2;">

        <h4>2. Elementos Clave</h4>
        <ul>
            <li><strong>Roles sociales</strong>: Comportamientos esperados (padre, estudiante, trabajador).</li>
            <li><strong>Instituciones</strong>: Estructuras estables (familia, educaci√≥n, gobierno).</li>
            <li><strong>Estratos sociales</strong>: Clases, grupos por ingreso, educaci√≥n, poder.</li>
            <li><strong>Poder y autoridad</strong>: Distribuci√≥n y legitimaci√≥n del control.</li>
        </ul>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Un ni√±o (micro)</strong> asiste a la escuela (meso), donde aprende valores c√≠vicos que sustentan la democracia nacional (macro). La familia paga impuestos que financian la educaci√≥n p√∫blica.</p>
        </div>

        <div class="visual">
            <img src=assets/img/estructura_sociedad.png" alt="Niveles organizaci√≥n social">
            <p><em>Estructura clara. Fuente: ResearchGate.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/modelo-dinamico.png" alt="Teor√≠a acci√≥n y cambio">
            <p><em>Modelo din√°mico. Fuente: ResearchGate.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/organizacion-jerarquica.webp" alt="Jerarqu√≠a Iglesia Cat√≥lica">
            <p><em>Ejemplo real: organizaci√≥n jer√°rquica. Fuente: Britannica.</em></p>
        </div>

        <hr style="border:1px dashed #7B1FA2;">

        <h4>3. SVG Animado: Niveles de Organizaci√≥n Social</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <rect x="0" y="0" width="800" height="500" fill="#F3E5F5"/>

                <text x="400" y="50" fill="#4A148C" font-size="28" text-anchor="middle" font-weight="bold">NIVELES DE ORGANIZACI√ìN SOCIAL</text>

                <!-- Macro -->
                <g id="macro" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="0.5s" dur="0.5s"/>
                    <rect x="100" y="100" width="600" height="100" fill="#7B1FA2" rx="15"/>
                    <text x="400" y="150" fill="white" font-size="20" text-anchor="middle">MACRO: Estado, Econom√≠a, Cultura</text>
                </g>

                <!-- Meso -->
                <g id="meso" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="1s" dur="0.5s"/>
                    <rect x="150" y="220" width="500" height="80" fill="#9C27B0" rx="15"/>
                    <text x="400" y="260" fill="white" font-size="18" text-anchor="middle">MESO: Escuelas, Empresas, Iglesias</text>
                </g>

                <!-- Micro -->
                <g id="micro" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="1.5s" dur="0.5s"/>
                    <rect x="200" y="320" width="400" height="70" fill="#E1BEE7" rx="15"/>
                    <text x="400" y="355" fill="#4A148C" font-size="16" text-anchor="middle">MICRO: Familia, Amigos, Individuos</text>
                </g>

                <!-- Conexiones -->
                <line x1="400" y1="200" x2="400" y2="220" stroke="#4A148C" stroke-width="3"/>
                <line x1="400" y1="300" x2="400" y2="320" stroke="#4A148C" stroke-width="3"/>

                <rect x="100" y="410" width="600" height="70" fill="#E8F5E9" rx="10"/>
                <text x="400" y="440" fill="#1B5E20" font-size="14" text-anchor="middle">Interdependencia: Micro ‚Üî Meso ‚Üî Macro</text>
                <text x="400" y="465" fill="#4A148C" font-size="12" text-anchor="middle">SI 2025: M√©xico ‚Äì 130M habitantes en red social</text>
            </svg>
            <p><em>SVG Animado: Construcci√≥n progresiva de los niveles sociales.</em></p>
        </div>
    ',
    'ejercicios' => [
        ['enunciado' => 'Tres niveles de organizaci√≥n social', 'respuesta' => 'Micro, meso, macro'],
        ['enunciado' => 'Nivel micro incluye', 'respuesta' => 'Familia, individuos'],
        ['enunciado' => 'Nivel meso incluye', 'respuesta' => 'Escuelas, empresas'],
        ['enunciado' => 'Nivel macro incluye', 'respuesta' => 'Estado, econom√≠a nacional'],
        ['enunciado' => 'Ejemplo de rol social', 'respuesta' => 'Maestro, padre, ciudadano'],
        ['enunciado' => 'Instituci√≥n clave en M√©xico', 'respuesta' => 'INE, IMSS, SEP'],
        ['enunciado' => 'Estratificaci√≥n social mide', 'respuesta' => 'Desigualdad por ingreso, educaci√≥n'],
        ['enunciado' => 'Poder leg√≠timo es', 'respuesta' => 'Autoridad'],
        ['enunciado' => 'Familia ‚Üí escuela ‚Üí gobierno', 'respuesta' => 'Micro ‚Üí meso ‚Üí macro'],
        ['enunciado' => 'M√©xico: macro ejemplo', 'respuesta' => 'Constituci√≥n, PIB'],
        ['enunciado' => 'Interdependencia significa', 'respuesta' => 'Niveles se afectan mutuamente'],
        ['enunciado' => 'SI: sociedad compleja', 'respuesta' => 'Alta divisi√≥n del trabajo']
    ],
    'quiz' => [
        ['pregunta' => 'Nivel micro', 'opciones' => ['Individuos y familia', 'Estado', 'Empresas', 'Global'], 'correcta' => 'Individuos y familia'],
        ['pregunta' => 'Nivel meso', 'opciones' => ['Grupos e instituciones', 'Individuos', 'Naci√≥n', 'Mundo'], 'correcta' => 'Grupos e instituciones'],
        ['pregunta' => 'Nivel macro', 'opciones' => ['Sociedad global', 'Familia', 'Escuela', 'Amigos'], 'correcta' => 'Sociedad global'],
        ['pregunta' => 'Organizaci√≥n social permite', 'opciones' => ['Cooperaci√≥n y orden', 'Caos', 'Aislamiento', 'Nada'], 'correcta' => 'Cooperaci√≥n y orden'],
        ['pregunta' => 'Rol social es', 'opciones' => ['Comportamiento esperado', 'Trabajo', 'Dinero', 'Ley'], 'correcta' => 'Comportamiento esperado'],
        ['pregunta' => 'Instituci√≥n es', 'opciones' => ['Estructura estable', 'Persona', 'Evento', 'Objeto'], 'correcta' => 'Estructura estable'],
        ['pregunta' => 'Estratos sociales miden', 'opciones' => ['Desigualdad', 'Igualdad', 'Poblaci√≥n', 'Territorio'], 'correcta' => 'Desigualdad'],
        ['pregunta' => 'M√©xico: instituci√≥n macro', 'opciones' => ['INE', 'Familia', 'Escuela', 'Amigos'], 'correcta' => 'INE'],
        ['pregunta' => 'Interdependencia', 'opciones' => ['Niveles se influyen', 'Independientes', 'Separados', 'Iguales'], 'correcta' => 'Niveles se influyen'],
        ['pregunta' => 'SI 2025: M√©xico poblaci√≥n', 'opciones' => ['~130 millones', '100M', '200M', '50M'], 'correcta' => '~130 millones'],

        ['pregunta' => 'Familia es nivel', 'opciones' => ['Micro', 'Meso', 'Macro', 'Ninguno'], 'correcta' => 'Micro'],
        ['pregunta' => 'SEP es nivel', 'opciones' => ['Meso', 'Micro', 'Macro', 'Ninguno'], 'correcta' => 'Meso'],
        ['pregunta' => 'Constituci√≥n es nivel', 'opciones' => ['Macro', 'Micro', 'Meso', 'Ninguno'], 'correcta' => 'Macro'],
        ['pregunta' => 'Poder leg√≠timo', 'opciones' => ['Autoridad', 'Fuerza', 'Dinero', 'Fama'], 'correcta' => 'Autoridad'],
        ['pregunta' => 'Clase social depende de', 'opciones' => ['Ingreso, educaci√≥n', 'Edad', 'G√©nero', 'Color'], 'correcta' => 'Ingreso, educaci√≥n'],
        ['pregunta' => 'M√©xico: estratificaci√≥n alta', 'opciones' => ['S√≠ (√≠ndice Gini)', 'No', 'Igual', 'Perfecta'], 'correcta' => 'S√≠ (√≠ndice Gini)'],
        ['pregunta' => 'Escuela socializa en', 'opciones' => ['Normas y valores', 'Solo matem√°ticas', 'Nada', 'Juegos'], 'correcta' => 'Normas y valores'],
        ['pregunta' => 'Empresa es', 'opciones' => ['Instituci√≥n meso', 'Micro', 'Macro', 'Personal'], 'correcta' => 'Instituci√≥n meso'],
        ['pregunta' => 'Globalizaci√≥n afecta', 'opciones' => ['Nivel macro', 'Solo micro', 'Nada', 'Meso'], 'correcta' => 'Nivel macro'],
        ['pregunta' => 'SI 2025: sociedad digital', 'opciones' => ['Redes conectan niveles', 'Solo micro', 'Solo macro', 'Nada'], 'correcta' => 'Redes conectan niveles'],

        ['pregunta' => 'Individuo ‚Üí grupo ‚Üí estado', 'opciones' => ['Micro ‚Üí meso ‚Üí macro', 'Macro ‚Üí meso ‚Üí micro', 'Aleatorio', 'Igual'], 'correcta' => 'Micro ‚Üí meso ‚Üí macro'],
        ['pregunta' => 'Cambio en micro afecta', 'opciones' => ['Puede escalar a macro', 'Solo micro', 'Nada', 'Meso'], 'correcta' => 'Puede escalar a macro'],
        ['pregunta' => 'Protesta social inicia en', 'opciones' => ['Micro/meso', 'Macro', 'Gobierno', 'Exterior'], 'correcta' => 'Micro/meso'],
        ['pregunta' => 'Ley educativa es', 'opciones' => ['Macro', 'Meso', 'Micro', 'Ninguno'], 'correcta' => 'Macro'],
        ['pregunta' => 'Amistad es', 'opciones' => ['Relaci√≥n micro', 'Meso', 'Macro', 'Instituci√≥n'], 'correcta' => 'Relaci√≥n micro'],
        ['pregunta' => 'INEGI mide', 'opciones' => ['Nivel macro', 'Micro', 'Meso', 'Personal'], 'correcta' => 'Nivel macro'],
        ['pregunta' => 'Familia nuclear es', 'opciones' => ['Microestructura', 'Meso', 'Macro', 'Global'], 'correcta' => 'Microestructura'],
        ['pregunta' => 'M√©xico: federalismo', 'opciones' => ['Organizaci√≥n macro', 'Micro', 'Meso', 'Local'], 'correcta' => 'Organizaci√≥n macro'],
        ['pregunta' => 'SI 2025: sociedad inclusiva', 'opciones' => ['Equidad en todos niveles', 'Solo macro', 'Solo micro', 'Nada'], 'correcta' => 'Equidad en todos niveles'],
        ['pregunta' => 'Organizaci√≥n social es', 'opciones' => ['Din√°mica y cambiante', 'Est√°tica', 'Fija', 'Inmutable'], 'correcta' => 'Din√°mica y cambiante']
    ]
];

// ========================================
// MATERIA: CIENCIAS SOCIALES
// SUBTEMA: Normas Sociales y Jur√≠dicas
// ========================================
$lecciones[] = [
    'materia' => 'Ciencias Sociales',
    'slug' => 'normas-sociales-juridicas',
    'titulo' => 'Normas Sociales (Informales) y Jur√≠dicas (Formales con Sanci√≥n)',
    'contenido' => '
        <h3>Normas Sociales y Jur√≠dicas</h3>
        <p>Las <strong>normas</strong> son reglas que regulan la conducta. Se dividen en:</p>

        <hr style="border:1px dashed #7B1FA2;">

        <h4>1. Tipos de Normas</h4>
        <table class="table">
            <thead>
                <tr><th>Tipo</th><th>Caracter√≠sticas</th><th>Ejemplos</th><th>Sanci√≥n</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Sociales</strong></td><td>Informales, basadas en costumbres</td><td>Saludar, ser puntual</td><td>Rechazo social, verg√ºenza</td></tr>
                <tr><td><strong>Jur√≠dicas</strong></td><td>Formales, escritas, estatales</td><td>Leyes, c√≥digos</td><td>Multa, c√°rcel, juicio</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #7B1FA2;">

        <h4>2. Relaci√≥n entre Ambas</h4>
        <ul>
            <li>Normas sociales pueden <strong>convertirse en jur√≠dicas</strong> (ej. no discriminaci√≥n).</li>
            <li>Normas jur√≠dicas influyen en <strong>comportamiento social</strong>.</li>
            <li>Conflicto: cuando ley choca con costumbre (ej. matrimonio igualitario).</li>
        </ul>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Norma social:</strong> No interrumpir al hablar. <strong>Norma jur√≠dica:</strong> No conducir ebrio (art. 171 C√≥digo Penal). Incumplir la primera genera cr√≠tica; la segunda, arresto.</p>
        </div>

        <div class="visual">
            <img src="assets/img/ley-sociologia.png" alt="Ley y sociolog√≠a">
            <p><em>Intersecci√≥n clara. Fuente: PoliSciConnect.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/normas-sociales.webp" alt="Normas y leyes">
            <p><em>Visualizaci√≥n interactiva. Fuente: LSE Blogs.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/poder-normas.png" alt="Relaciones de poder">
            <p><em>Poder y normas. Fuente: ResearchGate.</em></p>
        </div>

        <hr style="border:1px dashed #7B1FA2;">

        <h4>3. SVG Animado: Normas Sociales ‚Üí Jur√≠dicas</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <rect x="0" y="0" width="800" height="500" fill="#F3E5F5"/>

                <text x="400" y="50" fill="#4A148C" font-size="28" text-anchor="middle" font-weight="bold">NORMAS SOCIALES Y JUR√çDICAS</text>

                <!-- Norma social -->
                <g id="social" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="0.5s" dur="0.5s"/>
                    <rect x="100" y="120" width="280" height="120" fill="#9C27B0" rx="15"/>
                    <text x="240" y="160" fill="white" font-size="16" text-anchor="middle">Normas Sociales</text>
                    <text x="240" y="185" fill="white" font-size="12" text-anchor="middle">Informales | Costumbres</text>
                    <text x="240" y="210" fill="white" font-size="12" text-anchor="middle">Sanci√≥n: Rechazo</text>
                </g>

                <!-- Norma jur√≠dica -->
                <g id="juridica" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="1s" dur="0.5s"/>
                    <rect x="420" y="120" width="280" height="120" fill="#7B1FA2" rx="15"/>
                    <text x="560" y="160" fill="white" font-size="16" text-anchor="middle">Normas Jur√≠dicas</text>
                    <text x="560" y="185" fill="white" font-size="12" text-anchor="middle">Formales | Leyes</text>
                    <text x="560" y="210" fill="white" font-size="12" text-anchor="middle">Sanci√≥n: Legal</text>
                </g>

                <!-- Flecha interacci√≥n -->
                <line x1="380" y1="180" x2="420" y2="180" stroke="#4A148C" stroke-width="4"/>
                <line x1="240" y1="180" x2="100" y2="180" stroke="#4A148C" stroke-width="4"/>
                <text x="400" y="170" fill="#4A148C" font-size="14" text-anchor="middle">‚Üî</text>

                <!-- Evoluci√≥n -->
                <g id="evolucion" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="2s" dur="0.5s"/>
                    <path d="M200 280 Q240 250 280 280 Q240 310 200 280" fill="#FF9800">
                        <animate attributeName="d" values="M200 280 Q240 250 280 280 Q240 310 200 280; M200 280 Q240 230 280 280 Q240 330 200 280; M200 280 Q240 250 280 280 Q240 310 200 280" dur="1.5s" repeatCount="indefinite"/>
                    </path>
                    <text x="240" y="340" fill="#E65100" font-size="14" text-anchor="middle">Social ‚Üí Jur√≠dica</text>
                </g>

                <g id="evolucion2" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="2s" dur="0.5s"/>
                    <path d="M520 280 Q560 250 600 280 Q560 310 520 280" fill="#4CAF50">
                        <animate attributeName="d" values="M520 280 Q560 250 600 280 Q560 310 520 280; M520 280 Q560 230 600 280 Q560 330 520 280; M520 280 Q560 250 600 280 Q560 310 520 280" dur="1.5s" repeatCount="indefinite"/>
                    </path>
                    <text x="560" y="340" fill="#2E7D32" font-size="14" text-anchor="middle">Jur√≠dica ‚Üí Social</text>
                </g>

                <rect x="100" y="400" width="600" height="70" fill="#E8F5E9" rx="10"/>
                <text x="400" y="430" fill="#1B5E20" font-size="14" text-anchor="middle">M√©xico: Art. 4 Constituci√≥n ‚Üí Derecho a salud (social ‚Üí jur√≠dica)</text>
                <text x="400" y="455" fill="#4A148C" font-size="12" text-anchor="middle">SI 2025: 18,000 leyes federales vigentes</text>
            </svg>
            <p><em>SVG Animado: Interacci√≥n y evoluci√≥n entre normas.</em></p>
        </div>
    ',
    'ejercicios' => [
        ['enunciado' => 'Normas sociales son', 'respuesta' => 'Informales, basadas en costumbres'],
        ['enunciado' => 'Normas jur√≠dicas son', 'respuesta' => 'Formales, con sanci√≥n legal'],
        ['enunciado' => 'Sanci√≥n social', 'respuesta' => 'Rechazo, cr√≠tica'],
        ['enunciado' => 'Sanci√≥n jur√≠dica', 'respuesta' => 'Multa, c√°rcel'],
        ['enunciado' => 'Ejemplo norma social', 'respuesta' => 'No hablar con la boca llena'],
        ['enunciado' => 'Ejemplo norma jur√≠dica', 'respuesta' => 'No robar (C√≥digo Penal)'],
        ['enunciado' => 'Norma social ‚Üí jur√≠dica', 'respuesta' => 'Ej. no discriminaci√≥n'],
        ['enunciado' => 'Conflicto norma vs ley', 'respuesta' => 'Ej. matrimonio igualitario'],
        ['enunciado' => 'Estado crea', 'respuesta' => 'Normas jur√≠dicas'],
        ['enunciado' => 'M√©xico: ley clave', 'respuesta' => 'Constituci√≥n Pol√≠tica'],
        ['enunciado' => 'Costumbre ‚Üí ley', 'respuesta' => 'Proceso legislativo'],
        ['enunciado' => 'SI: cumplimiento normativo', 'respuesta' => 'Base de convivencia']
    ],
    'quiz' => [
        ['pregunta' => 'Normas sociales', 'opciones' => ['Informales', 'Formales', 'Escritas', 'Obligatorias'], 'correcta' => 'Informales'],
        ['pregunta' => 'Normas jur√≠dicas', 'opciones' => ['Formales con sanci√≥n', 'Informales', 'Opcionales', 'Morales'], 'correcta' => 'Formales con sanci√≥n'],
        ['pregunta' => 'Sanci√≥n social', 'opciones' => ['Rechazo social', 'C√°rcel', 'Multa', 'Juicio'], 'correcta' => 'Rechazo social'],
        ['pregunta' => 'Sanci√≥n jur√≠dica', 'opciones' => ['Legal (multa, c√°rcel)', 'Cr√≠tica', 'Ignorancia', 'Nada'], 'correcta' => 'Legal (multa, c√°rcel)'],
        ['pregunta' => 'Ejemplo social', 'opciones' => ['Ser puntual', 'Pagar impuestos', 'Firmar contrato', 'Votar'], 'correcta' => 'Ser puntual'],
        ['pregunta' => 'Ejemplo jur√≠dico', 'opciones' => ['No conducir ebrio', 'Decir gracias', 'Vestir formal', 'Sonre√≠r'], 'correcta' => 'No conducir ebrio'],
        ['pregunta' => 'Social ‚Üí jur√≠dica', 'opciones' => ['S√≠, por aceptaci√≥n', 'No', 'Siempre', 'Nunca'], 'correcta' => 'S√≠, por aceptaci√≥n'],
        ['pregunta' => 'Estado crea', 'opciones' => ['Normas jur√≠dicas', 'Sociales', 'Morales', 'Religiosas'], 'correcta' => 'Normas jur√≠dicas'],
        ['pregunta' => 'M√©xico: m√°xima norma', 'opciones' => ['Constituci√≥n', 'C√≥digo Civil', 'Biblia', 'Costumbre'], 'correcta' => 'Constituci√≥n'],
        ['pregunta' => 'Conflicto norma vs ley', 'opciones' => ['Cambio social', 'Armon√≠a', 'Igualdad', 'Nada'], 'correcta' => 'Cambio social'],

        ['pregunta' => 'No saludar es', 'opciones' => ['Falta social', 'Delito', 'Multa', 'C√°rcel'], 'correcta' => 'Falta social'],
        ['pregunta' => 'No pagar impuestos es', 'opciones' => ['Delito fiscal', 'Falta social', 'Etiqueta', 'Nada'], 'correcta' => 'Delito fiscal'],
        ['pregunta' => 'Ley contra discriminaci√≥n', 'opciones' => ['Social ‚Üí jur√≠dica', 'Solo jur√≠dica', 'Solo social', 'Religiosa'], 'correcta' => 'Social ‚Üí jur√≠dica'],
        ['pregunta' => 'Costumbre puede', 'opciones' => ['Convertirse en ley', 'No', 'Desaparecer', 'Ignorarse'], 'correcta' => 'Convertirse en ley'],
        ['pregunta' => 'Matrimonio igualitario', 'opciones' => ['Ley vs tradici√≥n', 'Siempre aceptado', 'Solo social', 'Nada'], 'correcta' => 'Ley vs tradici√≥n'],
        ['pregunta' => 'C√≥digo Penal es', 'opciones' => ['Norma jur√≠dica', 'Social', 'Moral', 'Religiosa'], 'correcta' => 'Norma jur√≠dica'],
        ['pregunta' => 'No decir groser√≠as', 'opciones' => ['Norma social', 'Jur√≠dica', 'Econ√≥mica', 'Pol√≠tica'], 'correcta' => 'Norma social'],
        ['pregunta' => 'SI 2025: leyes federales', 'opciones' => ['~18,000', '100', '1M', '0'], 'correcta' => '~18,000'],
        ['pregunta' => 'Cumplir normas permite', 'opciones' => ['Convivencia pac√≠fica', 'Conflicto', 'Caos', 'Guerra'], 'correcta' => 'Convivencia pac√≠fica'],
        ['pregunta' => 'M√©xico: Art. 1 Constituci√≥n', 'opciones' => ['Proh√≠be discriminaci√≥n', 'Permite', 'Ignora', 'Nada'], 'correcta' => 'Proh√≠be discriminaci√≥n'],

        ['pregunta' => 'Norma moral vs jur√≠dica', 'opciones' => ['Moral interna, jur√≠dica externa', 'Iguales', 'Opuestas', 'Ninguna'], 'correcta' => 'Moral interna, jur√≠dica externa'],
        ['pregunta' => 'Ley de tr√°nsito', 'opciones' => ['Jur√≠dica', 'Social', 'Religiosa', 'Personal'], 'correcta' => 'Jur√≠dica'],
        ['pregunta' => 'Decir "por favor"', 'opciones' => ['Norma social', 'Jur√≠dica', 'Econ√≥mica', 'Pol√≠tica'], 'correcta' => 'Norma social'],
        ['pregunta' => 'Reforma legal refleja', 'opciones' => ['Cambio social', 'Est√°tica', 'Tradici√≥n', 'Nada'], 'correcta' => 'Cambio social'],
        ['pregunta' => 'Incumplir ley ‚Üí', 'opciones' => ['Proceso judicial', 'Solo cr√≠tica', 'Nada', 'Premio'], 'correcta' => 'Proceso judicial'],
        ['pregunta' => 'Incumplir costumbre ‚Üí', 'opciones' => ['Rechazo social', 'C√°rcel', 'Multa', 'Juicio'], 'correcta' => 'Rechazo social'],
        ['pregunta' => 'Normas evolucionan con', 'opciones' => ['Sociedad', 'Tiempo', 'Tecnolog√≠a', 'Todas'], 'correcta' => 'Todas'],
        ['pregunta' => 'M√©xico: ley clave 2025', 'opciones' => ['Reforma judicial', 'Ninguna', 'Antigua', 'Secreta'], 'correcta' => 'Reforma judicial'],
        ['pregunta' => 'SI 2025: estado de derecho', 'opciones' => ['Supremac√≠a de la ley', 'Fuerza', 'Tradici√≥n', 'Religi√≥n'], 'correcta' => 'Supremac√≠a de la ley'],
        ['pregunta' => 'Normas garantizan', 'opciones' => ['Orden y predictibilidad', 'Caos', 'Libertad total', 'Nada'], 'correcta' => 'Orden y predictibilidad']
    ]
];
// ========================================
// MATERIA: CIENCIAS SOCIALES
// SUBTEMA: El Estado
// ========================================
$lecciones[] = [
    'materia' => 'Ciencias Sociales',
    'slug' => 'el-estado',
    'titulo' => 'El Estado: Territorio, Poblaci√≥n, Gobierno y Soberan√≠a',
    'contenido' => '
        <h3>El Estado</h3>
        <p>El <strong>Estado</strong> es una entidad pol√≠tica <strong>soberana</strong> que ejerce autoridad sobre un <strong>territorio definido</strong>, una <strong>poblaci√≥n permanente</strong> y un <strong>gobierno organizado</strong>. Seg√∫n el Art. 1 de la Convenci√≥n de Montevideo (1933), requiere:</p>

        <hr style="border:1px dashed #1E88E5;">

        <h4>1. Elementos del Estado</h4>
        <table class="table">
            <thead>
                <tr><th>Elemento</th><th>Descripci√≥n</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Territorio</strong></td><td>Fronteras f√≠sicas (tierra, mar, aire)</td></tr>
                <tr><td><strong>Poblaci√≥n</strong></td><td>Habitantes permanentes</td></tr>
                <tr><td><strong>Gobierno</strong></td><td>Instituciones que ejercen poder</td></tr>
                <tr><td><strong>Soberan√≠a</strong></td><td>Capacidad de relaciones internacionales</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #1E88E5;">

        <h4>2. Funciones del Estado</h4>
        <ul>
            <li>Regular la sociedad (normas, leyes).</li>
            <li>Proveer servicios p√∫blicos (educaci√≥n, salud, seguridad).</li>
            <li>Representar a la naci√≥n internacionalmente.</li>
            <li>Garantizar orden y bienestar.</li>
        </ul>

        <div class="ejemplo">
            <p><strong>Ejemplo M√©xico:</strong> <strong>Territorio:</strong> 1.96 millones km¬≤ | <strong>Poblaci√≥n:</strong> ~130 millones | <strong>Gobierno:</strong> Tres poderes | <strong>Soberan√≠a:</strong> Miembro ONU, TLCAN.</p>
        </div>

        <div class="visual">
            <img src="assets/img/estructuraMXN.png" alt="Estructura EE.UU.">
            <p><em>Separaci√≥n de poderes. Fuente: Columbia University.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/organigrama-departamento-estado.png" alt="Organigrama Departamento Estado">
            <p><em>Jerarqu√≠a ejecutiva. Fuente: state.gov.</em></p>
        </div>

        <hr style="border:1px dashed #1E88E5;">

        <h4>3. SVG Animado: Estructura del Estado Mexicano</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <rect x="0" y="0" width="800" height="500" fill="#E8F5E9"/>

                <text x="400" y="50" fill="#1B5E20" font-size="28" text-anchor="middle" font-weight="bold">EL ESTADO MEXICANO</text>

                <!-- Estado -->
                <g id="estado" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="0.5s" dur="0.5s"/>
                    <rect x="250" y="100" width="300" height="80" fill="#43A047" rx="15"/>
                    <text x="400" y="140" fill="white" font-size="20" text-anchor="middle">ESTADO</text>
                    <text x="400" y="165" fill="white" font-size="14" text-anchor="middle">Territorio + Poblaci√≥n + Gobierno + Soberan√≠a</text>
                </g>

                <!-- Legislativo -->
                <g id="legislativo" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="1s" dur="0.5s"/>
                    <rect x="100" y="220" width="180" height="80" fill="#1976D2" rx="15"/>
                    <text x="190" y="250" fill="white" font-size="16" text-anchor="middle">LEGISLATIVO</text>
                    <text x="190" y="275" fill="white" font-size="12" text-anchor="middle">Congreso</text>
                </g>

                <!-- Ejecutivo -->
                <g id="ejecutivo" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="1.5s" dur="0.5s"/>
                    <rect x="310" y="220" width="180" height="80" fill="#D32F2F" rx="15"/>
                    <text x="400" y="250" fill="white" font-size="16" text-anchor="middle">EJECUTIVO</text>
                    <text x="400" y="275" fill="white" font-size="12" text-anchor="middle">Presidente</text>
                </g>

                <!-- Judicial -->
                <g id="judicial" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="2s" dur="0.5s"/>
                    <rect x="520" y="220" width="180" height="80" fill="#7B1FA2" rx="15"/>
                    <text x="610" y="250" fill="white" font-size="16" text-anchor="middle">JUDICIAL</text>
                    <text x="610" y="275" fill="white" font-size="12" text-anchor="middle">SCJN</text>
                </g>

                <!-- Conexiones -->
                <line x1="400" y1="180" x2="190" y2="220" stroke="#43A047" stroke-width="3"/>
                <line x1="400" y1="180" x2="400" y2="220" stroke="#43A047" stroke-width="3"/>
                <line x1="400" y1="180" x2="610" y2="220" stroke="#43A047" stroke-width="3"/>

                <rect x="100" y="350" width="600" height="100" fill="#C8E6C9" rx="15"/>
                <text x="400" y="385" fill="#1B5E20" font-size="16" text-anchor="middle">Separaci√≥n de Poderes (Art. 49 CPEUM)</text>
                <text x="400" y="410" fill="#2E7D32" font-size="14" text-anchor="middle">M√©xico: 32 estados + CDMX</text>
                <text x="400" y="435" fill="#1B5E20" font-size="12" text-anchor="middle">SI 2025: 193 pa√≠ses reconocidos por ONU</text>
            </svg>
            <p><em>SVG Animado: Estructura tripartita del Estado.</em></p>
        </div>
    ',
    'ejercicios' => [
        ['enunciado' => 'Cuatro elementos del Estado', 'respuesta' => 'Territorio, poblaci√≥n, gobierno, soberan√≠a'],
        ['enunciado' => 'Funci√≥n principal del Estado', 'respuesta' => 'Regular sociedad y proveer servicios'],
        ['enunciado' => 'Poder que crea leyes', 'respuesta' => 'Legislativo'],
        ['enunciado' => 'Poder que ejecuta leyes', 'respuesta' => 'Ejecutivo'],
        ['enunciado' => 'Poder que interpreta leyes', 'respuesta' => 'Judicial'],
        ['enunciado' => 'M√©xico: jefe del ejecutivo', 'respuesta' => 'Presidente'],
        ['enunciado' => 'SCJN significa', 'respuesta' => 'Suprema Corte de Justicia de la Naci√≥n'],
        ['enunciado' => 'Soberan√≠a permite', 'respuesta' => 'Relaciones internacionales'],
        ['enunciado' => 'M√©xico: territorio en km¬≤', 'respuesta' => '~1.96 millones'],
        ['enunciado' => 'Convenci√≥n de Montevideo', 'respuesta' => '1933, define Estado'],
        ['enunciado' => 'Estado moderno incluye', 'respuesta' => 'Servicios p√∫blicos'],
        ['enunciado' => 'SI: M√©xico en ONU desde', 'respuesta' => '1945']
    ],
    'quiz' => [
        ['pregunta' => 'Elemento del Estado', 'opciones' => ['Territorio', 'Clima', 'Religi√≥n', 'Idioma'], 'correcta' => 'Territorio'],
        ['pregunta' => 'Poblaci√≥n es', 'opciones' => ['Permanente', 'Turistas', 'Visitantes', 'Animales'], 'correcta' => 'Permanente'],
        ['pregunta' => 'Gobierno es', 'opciones' => ['Instituciones de poder', 'Pueblo', 'Empresas', 'ONG'], 'correcta' => 'Instituciones de poder'],
        ['pregunta' => 'Soberan√≠a implica', 'opciones' => ['Independencia externa', 'Dependencia', 'Aislamiento', 'Nada'], 'correcta' => 'Independencia externa'],
        ['pregunta' => 'Legislativo hace', 'opciones' => ['Leyes', 'Ejecuta', 'Juzga', 'Nada'], 'correcta' => 'Leyes'],
        ['pregunta' => 'Ejecutivo encabezado por', 'opciones' => ['Presidente', 'Congreso', 'Corte', 'Pueblo'], 'correcta' => 'Presidente'],
        ['pregunta' => 'Judicial resuelve', 'opciones' => ['Disputas legales', 'Presupuestos', 'Elecciones', 'Guerra'], 'correcta' => 'Disputas legales'],
        ['pregunta' => 'M√©xico: poderes', 'opciones' => ['3', '1', '2', '5'], 'correcta' => '3'],
        ['pregunta' => 'Art. 49 CPEUM', 'opciones' => ['Separaci√≥n de poderes', 'Derechos', 'Territorio', 'Poblaci√≥n'], 'correcta' => 'Separaci√≥n de poderes'],
        ['pregunta' => 'SI 2025: estados en M√©xico', 'opciones' => ['32 + CDMX', '31', '33', '30'], 'correcta' => '32 + CDMX'],

        ['pregunta' => 'Estado sin territorio', 'opciones' => ['No existe', 'S√≠', 'Virtual', 'Espacial'], 'correcta' => 'No existe'],
        ['pregunta' => 'ONU reconoce', 'opciones' => ['193 estados', '100', '200', '150'], 'correcta' => '193 estados'],
        ['pregunta' => 'M√©xico: capital', 'opciones' => ['CDMX', 'Guadalajara', 'Monterrey', 'Puebla'], 'correcta' => 'CDMX'],
        ['pregunta' => 'Poder que nombra ministros', 'opciones' => ['Ejecutivo', 'Legislativo', 'Judicial', 'Pueblo'], 'correcta' => 'Ejecutivo'],
        ['pregunta' => 'Congreso es', 'opciones' => ['Legislativo', 'Ejecutivo', 'Judicial', 'Ninguno'], 'correcta' => 'Legislativo'],
        ['pregunta' => 'SCJN es parte de', 'opciones' => ['Poder Judicial', 'Ejecutivo', 'Legislativo', 'Ninguno'], 'correcta' => 'Poder Judicial'],
        ['pregunta' => 'Estado federal como M√©xico', 'opciones' => ['32 entidades', '1 solo', '2', '100'], 'correcta' => '32 entidades'],
        ['pregunta' => 'Soberan√≠a interna', 'opciones' => ['Autoridad sobre poblaci√≥n', 'Externa', 'Nada', 'Ambas'], 'correcta' => 'Autoridad sobre poblaci√≥n'],
        ['pregunta' => 'Tratado internacional', 'opciones' => ['Ejercicio soberan√≠a', 'P√©rdida', 'Nada', 'Interno'], 'correcta' => 'Ejercicio soberan√≠a'],
        ['pregunta' => 'SI 2025: M√©xico PIB lugar', 'opciones' => ['~15 mundial', '1', '50', '100'], 'correcta' => '~15 mundial'],

        ['pregunta' => 'Estado fallido', 'opciones' => ['Sin control efectivo', 'Fuerte', 'Democr√°tico', 'Rico'], 'correcta' => 'Sin control efectivo'],
        ['pregunta' => 'Ciudad del Vaticano', 'opciones' => ['Estado soberano', 'No', 'Parte Italia', 'Virtual'], 'correcta' => 'Estado soberano'],
        ['pregunta' => 'Poder que declara guerra', 'opciones' => ['Congreso', 'Presidente', 'Corte', 'Pueblo'], 'correcta' => 'Congreso'],
        ['pregunta' => 'Impuestos son funci√≥n', 'opciones' => ['Estado', 'Empresa', 'Familia', 'Iglesia'], 'correcta' => 'Estado'],
        ['pregunta' => 'M√©xico: moneda', 'opciones' => ['Peso', 'D√≥lar', 'Euro', 'Bitcoin'], 'correcta' => 'Peso'],
        ['pregunta' => 'Estado de derecho', 'opciones' => ['Supremac√≠a de la ley', 'Fuerza', 'Tradici√≥n', 'Religi√≥n'], 'correcta' => 'Supremac√≠a de la ley'],
        ['pregunta' => 'M√©xico: himno', 'opciones' => ['Himno Nacional Mexicano', 'Ninguno', 'Internacional', 'Popular'], 'correcta' => 'Himno Nacional Mexicano'],
        ['pregunta' => 'SI 2025: INEGI mide', 'opciones' => ['Poblaci√≥n, PIB', 'Clima', 'Deportes', 'M√∫sica'], 'correcta' => 'Poblaci√≥n, PIB'],
        ['pregunta' => 'Estado laico', 'opciones' => ['M√©xico (Art. 130)', 'Religioso', 'Cat√≥lico', 'Protestante'], 'correcta' => 'M√©xico (Art. 130)'],
        ['pregunta' => 'Estado es', 'opciones' => ['Persona jur√≠dica', 'F√≠sica', 'Animal', 'Cosa'], 'correcta' => 'Persona jur√≠dica']
    ]
];

// ========================================
// MATERIA: CIENCIAS SOCIALES
// SUBTEMA: Relaciones de Poderes
// ========================================
$lecciones[] = [
    'materia' => 'Ciencias Sociales',
    'slug' => 'relaciones-poderes',
    'titulo' => 'Relaciones de Poder: Dominaci√≥n, Resistencia y Negociaci√≥n',
    'contenido' => '
        <h3>Relaciones de Poder</h3>
        <p>El <strong>poder</strong> es la <strong>capacidad de influir</strong> en el comportamiento de otros. No es posesi√≥n fija, sino <strong>relacional</strong>: existe en la interacci√≥n. Incluye:</p>

        <hr style="border:1px dashed #7B1FA2;">

        <h4>1. Tipos de Poder</h4>
        <table class="table">
            <thead>
                <tr><th>Tipo</th><th>Ejemplos</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Pol√≠tico</strong></td><td>Gobierno, leyes, polic√≠a</td></tr>
                <tr><td><strong>Econ√≥mico</strong></td><td>Empresas, bancos, monopolios</td></tr>
                <tr><td><strong>Social/Cultural</strong></td><td>Medios, religi√≥n, educaci√≥n</td></tr>
                <tr><td><strong>Personal</strong></td><td>Carisma, conocimiento</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #7B1FA2;">

        <h4>2. Din√°micas del Poder</h4>
        <ul>
            <li><strong>Dominaci√≥n</strong>: Control unilateral.</li>
            <li><strong>Resistencia</strong>: Oposici√≥n activa o pasiva.</li>
            <li><strong>Negociaci√≥n</strong>: Acuerdos mutuos.</li>
            <li><strong>Foucault</strong>: "El poder est√° en todas partes" (relacional, productivo).</li>
        </ul>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Empresa:</strong> Gerente manda ‚Üí empleados obedecen (dominaci√≥n). <strong>Sindicato</strong> negocia salario ‚Üí equilibrio (resistencia + negociaci√≥n).</p>
        </div>

        <div class="visual">
            <img src="assets/img/categorias-poder.png" alt="Categor√≠as poder">
            <p><em>Clasificaci√≥n clara. Fuente: ResearchGate.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/matriz-poder.jpg" alt="Matriz poder">
            <p><em>Intersecciones. Fuente: ResearchGate.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/redes-poder.png" alt="Relaciones complejas">
            <p><em>Red de poder. Fuente: Reddit.</em></p>
        </div>

        <hr style="border:1px dashed #7B1FA2;">

        <h4>3. SVG Animado: Red de Poder en una Comunidad</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <rect x="0" y="0" width="800" height="500" fill="#F3E5F5"/>

                <text x="400" y="50" fill="#4A148C" font-size="28" text-anchor="middle" font-weight="bold">RED DE PODER</text>

                <!-- Nodos -->
                <g id="gobierno" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="0.5s" dur="0.5s"/>
                    <circle cx="400" cy="150" r="50" fill="#D32F2F"/>
                    <text x="400" y="155" fill="white" font-size="14" text-anchor="middle">Gobierno</text>
                </g>

                <g id="empresa" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="1s" dur="0.5s"/>
                    <circle cx="200" cy="300" r="45" fill="#1976D2"/>
                    <text x="200" y="305" fill="white" font-size="12" text-anchor="middle">Empresa</text>
                </g>

                <g id="sindicato" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="1.5s" dur="0.5s"/>
                    <circle cx="600" cy="300" r="45" fill="#388E3C"/>
                    <text x="600" y="305" fill="white" font-size="12" text-anchor="middle">Sindicato</text>
                </g>

                <g id="ciudadanos" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="2s" dur="0.5s"/>
                    <circle cx="400" cy="400" r="60" fill="#7B1FA2"/>
                    <text x="400" y="405" fill="white" font-size="14" text-anchor="middle">Ciudadanos</text>
                </g>

                <!-- Conexiones din√°micas -->
                <line x1="400" y1="200" x2="200" y2="255" stroke="#D32F2F" stroke-width="3" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="2.5s" dur="0.5s"/>
                </line>
                <line x1="400" y1="200" x2="600" y2="255" stroke="#D32F2F" stroke-width="3" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="2.5s" dur="0.5s"/>
                </line>
                <line x1="200" y1="300" x2="400" y2="340" stroke="#1976D2" stroke-width="3" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="3s" dur="0.5s"/>
                </line>
                <line x1="600" y1="300" x2="400" y2="340" stroke="#388E3C" stroke-width="3" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="3s" dur="0.5s"/>
                </line>

                <!-- Resistencia -->
                <path d="M550 380 Q500 350 450 380" fill="none" stroke="#FF9800" stroke-width="4" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="3.5s" dur="0.5s"/>
                    <animate attributeName="d" values="M550 380 Q500 350 450 380; M550 380 Q500 330 450 380; M550 380 Q500 350 450 380" dur="1.5s" repeatCount="indefinite"/>
                </path>
                <text x="500" y="420" fill="#E65100" font-size="14" text-anchor="middle" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="3.5s" dur="0.5s"/>
                    Resistencia
                </text>

                <rect x="100" y="440" width="600" height="50" fill="#E8F5E9" rx="10"/>
                <text x="400" y="465" fill="#1B5E20" font-size="14" text-anchor="middle">Poder = Red de relaciones | Foucault: "Productivo"</text>
            </svg>
            <p><em>SVG Animado: Red din√°mica de poder en sociedad.</em></p>
        </div>
    ',
    'ejercicios' => [
        ['enunciado' => 'Poder es', 'respuesta' => 'Capacidad de influir en otros'],
        ['enunciado' => 'Poder pol√≠tico ejemplo', 'respuesta' => 'Gobierno, leyes'],
        ['enunciado' => 'Poder econ√≥mico ejemplo', 'respuesta' => 'Empresas, bancos'],
        ['enunciado' => 'Foucault: poder es', 'respuesta' => 'Relacional y omnipresente'],
        ['enunciado' => 'Dominaci√≥n es', 'respuesta' => 'Control unilateral'],
        ['enunciado' => 'Resistencia es', 'respuesta' => 'Oposici√≥n al poder'],
        ['enunciado' => 'Negociaci√≥n es', 'respuesta' => 'Acuerdo mutuo'],
        ['enunciado' => 'Ejemplo resistencia social', 'respuesta' => 'Marchas, huelgas'],
        ['enunciado' => 'Poder cultural incluye', 'respuesta' => 'Medios, educaci√≥n'],
        ['enunciado' => 'M√©xico: poder empresarial', 'respuesta' => 'CEMEX, Televisa'],
        ['enunciado' => 'Poder personal', 'respuesta' => 'Liderazgo, conocimiento'],
        ['enunciado' => 'SI: poder blando', 'respuesta' => 'Cultura, diplomacia']
    ],
    'quiz' => [
        ['pregunta' => 'Poder es', 'opciones' => ['Relacional', 'Fijo', 'Solo fuerza', 'Nada'], 'correcta' => 'Relacional'],
        ['pregunta' => 'Foucault dice', 'opciones' => ['Poder en todas partes', 'Solo en gobierno', 'Nada', 'Solo dinero'], 'correcta' => 'Poder en todas partes'],
        ['pregunta' => 'Poder pol√≠tico', 'opciones' => ['Estado', 'Empresa', 'Familia', 'Amigos'], 'correcta' => 'Estado'],
        ['pregunta' => 'Poder econ√≥mico', 'opciones' => ['Monopolios', 'Voto', 'Cultura', 'Religi√≥n'], 'correcta' => 'Monopolios'],
        ['pregunta' => 'Resistencia es', 'opciones' => ['Oposici√≥n', 'Apoyo', 'Obediencia', 'Silencio'], 'correcta' => 'Oposici√≥n'],
        ['pregunta' => 'Negociaci√≥n busca', 'opciones' => ['Equilibrio', 'Dominaci√≥n', 'Guerra', 'Nada'], 'correcta' => 'Equilibrio'],
        ['pregunta' => 'Poder productivo', 'opciones' => ['Foucault', 'Marx', 'Weber', 'Hobbes'], 'correcta' => 'Foucault'],
        ['pregunta' => 'Sindicato ejerce', 'opciones' => ['Poder de resistencia', 'Dominaci√≥n', 'Nada', 'Gobierno'], 'correcta' => 'Poder de resistencia'],
        ['pregunta' => 'Medios tienen poder', 'opciones' => ['Cultural', 'Pol√≠tico', 'Econ√≥mico', 'Personal'], 'correcta' => 'Cultural'],
        ['pregunta' => 'M√©xico: poder blando', 'opciones' => ['Cultura (cine, m√∫sica)', 'Ej√©rcito', 'Armas', 'Nada'], 'correcta' => 'Cultura (cine, m√∫sica)'],

        ['pregunta' => 'Dominaci√≥n total', 'opciones' => ['Rara (siempre resistencia)', 'Com√∫n', 'Ideal', 'Necesaria'], 'correcta' => 'Rara (siempre resistencia)'],
        ['pregunta' => 'Poder leg√≠timo', 'opciones' => ['Weber: autoridad', 'Fuerza', 'Dinero', 'Miedo'], 'correcta' => 'Weber: autoridad'],
        ['pregunta' => 'Huelga es', 'opciones' => ['Resistencia', 'Apoyo', 'Obediencia', 'Nada'], 'correcta' => 'Resistencia'],
        ['pregunta' => 'Contrato laboral', 'opciones' => ['Negociaci√≥n', 'Dominaci√≥n', 'Guerra', 'Silencio'], 'correcta' => 'Negociaci√≥n'],
        ['pregunta' => 'Poder carism√°tico', 'opciones' => ['L√≠der personal', 'Instituci√≥n', 'Dinero', 'Ley'], 'correcta' => 'L√≠der personal'],
        ['pregunta' => 'Red de poder incluye', 'opciones' => ['Todos los actores', 'Solo gobierno', 'Solo ricos', 'Nada'], 'correcta' => 'Todos los actores'],
        ['pregunta' => 'M√©xico: poder sindical', 'opciones' => ['CTM, SNTE', 'Ninguno', 'Solo empresas', 'Gobierno'], 'correcta' => 'CTM, SNTE'],
        ['pregunta' => 'Poder disciplinario', 'opciones' => ['Foucault (escuelas, c√°rceles)', 'Marx', 'Weber', 'Hobbes'], 'correcta' => 'Foucault (escuelas, c√°rceles)'],
        ['pregunta' => 'SI 2025: poder digital', 'opciones' => ['Redes sociales', 'Solo TV', 'Radio', 'Peri√≥dicos'], 'correcta' => 'Redes sociales'],
        ['pregunta' => 'Poder es', 'opciones' => ['Din√°mico', 'Est√°tico', 'Fijo', 'Inmutable'], 'correcta' => 'Din√°mico'],

        ['pregunta' => 'Resistencia pasiva', 'opciones' => ['Desobediencia civil', 'Violencia', 'Guerra', 'Apoyo'], 'correcta' => 'Desobediencia civil'],
        ['pregunta' => 'Poder simb√≥lico', 'opciones' => ['Bourdieu', 'Foucault', 'Marx', 'Weber'], 'correcta' => 'Bourdieu'],
        ['pregunta' => 'M√©xico: reforma 2018', 'opciones' => ['Cambio en relaciones de poder', 'Igual', 'Nada', 'Retroceso'], 'correcta' => 'Cambio en relaciones de poder'],
        ['pregunta' => 'Movimiento #YoSoy132', 'opciones' => ['Resistencia juvenil', 'Apoyo', 'Gobierno', 'Empresa'], 'correcta' => 'Resistencia juvenil'],
        ['pregunta' => 'Poder econ√≥mico global', 'opciones' => ['Multinacionales', 'Gobiernos locales', 'Familias', 'Escuelas'], 'correcta' => 'Multinacionales'],
        ['pregunta' => 'Negociaci√≥n tripartita', 'opciones' => ['Gobierno, empresa, sindicato', 'Solo dos', 'Uno', 'Ninguno'], 'correcta' => 'Gobierno, empresa, sindicato'],
        ['pregunta' => 'Poder pan√≥ptico', 'opciones' => ['Vigilancia constante', 'Libertad', 'Igualdad', 'Nada'], 'correcta' => 'Vigilancia constante'],
        ['pregunta' => 'SI 2025: poder IA', 'opciones' => ['Algoritmos influyen', 'Nada', 'Solo humanos', 'Robots'], 'correcta' => 'Algoritmos influyen'],
        ['pregunta' => 'Equilibrio de poder', 'opciones' => ['Estabilidad social', 'Conflicto', 'Guerra', 'Caos'], 'correcta' => 'Estabilidad social'],
        ['pregunta' => 'Poder es', 'opciones' => ['Productivo y represivo', 'Solo represivo', 'Solo bueno', 'Nada'], 'correcta' => 'Productivo y represivo']
    ]
];
// ========================================
// MATERIA: HISTORIA DE M√âXICO
// SUBTEMA: M√©xico Prehisp√°nico (Olmecas, Teotihuac√°n, Maya, Azteca)
// ========================================
$lecciones[] = [
    'materia' => 'Historia de M√©xico',
    'slug' => 'mexico-prehispanico',
    'titulo' => 'M√©xico Prehisp√°nico: Olmecas, Teotihuac√°n, Maya y Azteca',
    'contenido' => '
        <h3>M√©xico Prehisp√°nico</h3>
        <p>Mesoam√©rica fue cuna de civilizaciones avanzadas con escritura, astronom√≠a, arquitectura monumental y comercio. Cuatro pilares:</p>

        <hr style="border:1px dashed #1B5E20;">

        <h4>1. Civilizaciones Clave</h4>
        <table class="table">
            <thead>
                <tr><th>Civilizaci√≥n</th><th>Periodo</th><th>Aportes</th><th>Ubicaci√≥n</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Olmecas</strong></td><td>1500-400 a.C.</td><td>Cabezas colosales, jaguar, "cultura madre"</td><td>Golfo (Veracruz, Tabasco)</td></tr>
                <tr><td><strong>Teotihuac√°n</strong></td><td>200 a.C.-650 d.C.</td><td>Pir√°mides del Sol y Luna, urbanismo</td><td>Valle de M√©xico</td></tr>
                <tr><td><strong>Maya</strong></td><td>250-900 d.C. (Cl√°sico)</td><td>Escritura jerogl√≠fica, calendarios, Chich√©n Itz√°</td><td>Yucat√°n, Chiapas, Guatemala</td></tr>
                <tr><td><strong>Aztecas</strong></td><td>1325-1521 d.C.</td><td>Tenochtitl√°n, chinampas, calendario solar</td><td>Lago de Texcoco</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #1B5E20;">

        <h4>2. Legado Com√∫n</h4>
        <ul>
            <li><strong>Calendario</strong>: 260 + 365 d√≠as.</li>
            <li><strong>Escritura</strong>: Glifos, c√≥dices.</li>
            <li><strong>Agricultura</strong>: Ma√≠z, chinampas, terrazas.</li>
            <li><strong>Religi√≥n</strong>: Polite√≠sta, sacrificios, dualidad.</li>
        </ul>

        <div class="ejemplo">
            <p><strong>Ejemplo:</strong> <strong>Aztecas:</strong> Construyeron <strong>Tenochtitl√°n</strong> (hoy CDMX) sobre lago con <strong>chinampas</strong> (islas flotantes). Calendario solar: <strong>18 meses √ó 20 d√≠as + 5 "nefastos"</strong> = 365 d√≠as.</p>
        </div>

        <div class="visual">
            <img src="assets/img/olmeca.jpg" alt="Cabeza colosal olmeca">
            <p><em>Cabeza colosal (2.5 m). Fuente: Wikipedia.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/piramide-sol.jpg" alt="Pir√°mide del Sol">
            <p><em>65 m altura, 200,000 hab. Fuente: Wikipedia.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/templo-aztec.jpg" alt="Templo Mayor azteca">
            <p><em>Modelo INAH. Fuente: Wikipedia.</em></p>
        </div>

        <hr style="border:1px dashed #1B5E20;">

        <h4>3. SVG Animado: L√≠nea del Tiempo Prehisp√°nica</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <rect x="0" y="0" width="800" height="500" fill="#E8F5E9"/>

                <text x="400" y="50" fill="#1B5E20" font-size="28" text-anchor="middle" font-weight="bold">L√çNEA DEL TIEMPO PREHISP√ÅNICA</text>

                <!-- L√≠nea base -->
                <line x1="100" y1="150" x2="700" y2="150" stroke="#43A047" stroke-width="4"/>

                <!-- Olmecas -->
                <g id="olmecas" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="0.5s" dur="0.5s"/>
                    <circle cx="150" cy="150" r="20" fill="#FF9800"/>
                    <text x="150" y="120" fill="#E65100" font-size="14" text-anchor="middle">Olmecas</text>
                    <text x="150" y="185" fill="#E65100" font-size="12" text-anchor="middle">1500-400 a.C.</text>
                </g>

                <!-- Teotihuac√°n -->
                <g id="teotihuacan" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="1s" dur="0.5s"/>
                    <circle cx="300" cy="150" r="25" fill="#1976D2"/>
                    <text x="300" y="115" fill="#0D47A1" font-size="14" text-anchor="middle">Teotihuac√°n</text>
                    <text x="300" y="190" fill="#0D47A1" font-size="12" text-anchor="middle">200 a.C.-650 d.C.</text>
                </g>

                <!-- Maya -->
                <g id="maya" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="1.5s" dur="0.5s"/>
                    <circle cx="450" cy="150" r="25" fill="#D32F2F"/>
                    <text x="450" y="115" fill="#B71C1C" font-size="14" text-anchor="middle">Maya</text>
                    <text x="450" y="190" fill="#B71C1C" font-size="12" text-anchor="middle">250-900 d.C.</text>
                </g>

                <!-- Azteca -->
                <g id="azteca" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="2s" dur="0.5s"/>
                    <circle cx="600" cy="150" r="30" fill="#7B1FA2"/>
                    <text x="600" y="110" fill="#4A148C" font-size="14" text-anchor="middle">Azteca</text>
                    <text x="600" y="195" fill="#4A148C" font-size="12" text-anchor="middle">1325-1521 d.C.</text>
                </g>

                <rect x="100" y="250" width="600" height="200" fill="#C8E6C9" rx="15"/>
                <text x="400" y="280" fill="#1B5E20" font-size="16" text-anchor="middle">Cultura madre ‚Üí Urbanismo ‚Üí Ciencia ‚Üí Imperio</text>
                <text x="400" y="310" fill="#2E7D32" font-size="14" text-anchor="middle">SI 2025: 68 lenguas ind√≠genas vivas</text>
                <text x="400" y="340" fill="#1B5E20" font-size="12" text-anchor="middle">INAH: 189 zonas arqueol√≥gicas abiertas</text>
                <text x="400" y="370" fill="#2E7D32" font-size="12" text-anchor="middle">Tenochtitl√°n: 200,000 hab. (m√°s que Par√≠s 1500)</text>
                <text x="400" y="400" fill="#1B5E20" font-size="12" text-anchor="middle">Calendario maya: error 1 d√≠a cada 4000 a√±os</text>
            </svg>
            <p><em>SVG Animado: Evoluci√≥n cronol√≥gica de civilizaciones.</em></p>
        </div>
    ',
    'ejercicios' => [
        ['enunciado' => 'Civilizaci√≥n "cultura madre"', 'respuesta' => 'Olmecas'],
        ['enunciado' => 'Pir√°mide del Sol en', 'respuesta' => 'Teotihuac√°n'],
        ['enunciado' => 'Maya: escritura', 'respuesta' => 'Jerogl√≠fica'],
        ['enunciado' => 'Capital azteca', 'respuesta' => 'Tenochtitl√°n'],
        ['enunciado' => 'Chinampas eran', 'respuesta' => 'Agricultura flotante'],
        ['enunciado' => 'Calendario solar 365 d√≠as', 'respuesta' => 'Azteca'],
        ['enunciado' => 'Teotihuac√°n: poblaci√≥n estimada', 'respuesta' => '~200,000'],
        ['enunciado' => 'Olmecas: s√≠mbolo', 'respuesta' => 'Jaguar'],
        ['enunciado' => 'Maya: ciudad famosa', 'respuesta' => 'Chich√©n Itz√°'],
        ['enunciado' => 'Azteca: dios principal', 'respuesta' => 'Huitzilopochtli'],
        ['enunciado' => 'Mesoam√©rica incluye', 'respuesta' => 'Centro y sur de M√©xico'],
        ['enunciado' => 'SI: INAH protege', 'respuesta' => '189 zonas arqueol√≥gicas']
    ],
    'quiz' => [
        ['pregunta' => 'Cultura madre', 'opciones' => ['Olmecas', 'Maya', 'Azteca', 'Toltecas'], 'correcta' => 'Olmecas'],
        ['pregunta' => 'Pir√°mide del Sol', 'opciones' => ['Teotihuac√°n', 'Tenochtitl√°n', 'Palenque', 'Tikal'], 'correcta' => 'Teotihuac√°n'],
        ['pregunta' => 'Escritura jerogl√≠fica', 'opciones' => ['Maya', 'Azteca', 'Olmeca', 'Teotihuac√°n'], 'correcta' => 'Maya'],
        ['pregunta' => 'Tenochtitl√°n sobre', 'opciones' => ['Lago', 'Monta√±a', 'Desierto', 'Costa'], 'correcta' => 'Lago'],
        ['pregunta' => 'Chinampas', 'opciones' => ['Agricultura flotante', 'Pir√°mides', 'Escritura', 'Guerra'], 'correcta' => 'Agricultura flotante'],
        ['pregunta' => 'Calendario 365 d√≠as', 'opciones' => ['Azteca', 'Maya', 'Olmeca', 'Inca'], 'correcta' => 'Azteca'],
        ['pregunta' => 'Cabezas colosales', 'opciones' => ['Olmecas', 'Maya', 'Azteca', 'Teotihuac√°n'], 'correcta' => 'Olmecas'],
        ['pregunta' => 'Teotihuac√°n: poblaci√≥n', 'opciones' => ['~200,000', '10,000', '1M', '500'], 'correcta' => '~200,000'],
        ['pregunta' => 'Maya: error calendario', 'opciones' => ['1 d√≠a/4000 a√±os', '1 d√≠a/a√±o', '1 d√≠a/mes', 'Ninguno'], 'correcta' => '1 d√≠a/4000 a√±os'],
        ['pregunta' => 'SI 2025: lenguas ind√≠genas', 'opciones' => ['68', '10', '100', '1'], 'correcta' => '68'],

        ['pregunta' => 'Olmecas en', 'opciones' => ['Golfo', 'Yucat√°n', 'CDMX', 'Oaxaca'], 'correcta' => 'Golfo'],
        ['pregunta' => 'Teotihuac√°n: pir√°mide mayor', 'opciones' => ['Sol', 'Luna', 'Serpiente', 'Jaguar'], 'correcta' => 'Sol'],
        ['pregunta' => 'Maya: Chich√©n Itz√°', 'opciones' => ['Yucat√°n', 'Chiapas', 'Tabasco', 'Veracruz'], 'correcta' => 'Yucat√°n'],
        ['pregunta' => 'Azteca: dios guerra', 'opciones' => ['Huitzilopochtli', 'Quetzalc√≥atl', 'Tlaloc', 'Tezcatlipoca'], 'correcta' => 'Huitzilopochtli'],
        ['pregunta' => 'Calendario ritual', 'opciones' => ['260 d√≠as', '365', '52', '18'], 'correcta' => '260 d√≠as'],
        ['pregunta' => 'C√≥dices mayas', 'opciones' => ['Dresde, Madrid, Par√≠s', 'Florentino', 'Borb√≥nico', 'Mendoza'], 'correcta' => 'Dresde, Madrid, Par√≠s'],
        ['pregunta' => 'Tenochtitl√°n > Par√≠s', 'opciones' => ['S√≠ (1500)', 'No', 'Igual', 'Menos'], 'correcta' => 'S√≠ (1500)'],
        ['pregunta' => 'INAH: zonas abiertas', 'opciones' => ['189', '50', '500', '10'], 'correcta' => '189'],
        ['pregunta' => 'Juego de pelota', 'opciones' => ['Ritual', 'Deporte', 'Guerra', 'Comercio'], 'correcta' => 'Ritual'],
        ['pregunta' => 'SI 2025: ma√≠z domesticado', 'opciones' => ['9000 a√±os M√©xico', '500', '100', 'Europa'], 'correcta' => '9000 a√±os M√©xico'],

        ['pregunta' => 'Olmecas: jaguar', 'opciones' => ['S√≠mbolo poder', 'Comida', 'Mascota', 'Nada'], 'correcta' => 'S√≠mbolo poder'],
        ['pregunta' => 'Teotihuac√°n: comercio', 'opciones' => ['Obsidiana', 'Oro', 'Plata', 'Cacao'], 'correcta' => 'Obsidiana'],
        ['pregunta' => 'Maya: cero matem√°tico', 'opciones' => ['S√≠', 'No', 'Solo romanos', 'Chinos'], 'correcta' => 'S√≠'],
        ['pregunta' => 'Azteca: tributos', 'opciones' => ['Plumas, cacao', 'Oro', 'Plata', 'Caballos'], 'correcta' => 'Plumas, cacao'],
        ['pregunta' => 'Mesoam√©rica sin', 'opciones' => ['Rueda (transporte)', 'Caballos', 'Hierro', 'Todas'], 'correcta' => 'Todas'],
        ['pregunta' => 'Pir√°mide escalonada', 'opciones' => ['Com√∫n', 'Rara', 'Solo maya', 'Egipcia'], 'correcta' => 'Com√∫n'],
        ['pregunta' => 'Quetzalc√≥atl', 'opciones' => ['Serpiente emplumada', 'Sol', 'Lluvia', 'Guerra'], 'correcta' => 'Serpiente emplumada'],
        ['pregunta' => 'SI 2025: c√≥dices originales', 'opciones' => ['4 mayas', '100', '0', '1000'], 'correcta' => '4 mayas'],
        ['pregunta' => 'Chich√©n Itz√°: equinoccio', 'opciones' => ['Serpiente baja', 'Sube', 'Nada', 'Eclipse'], 'correcta' => 'Serpiente baja'],
        ['pregunta' => 'Mesoam√©rica: ma√≠z, frijol, chile', 'opciones' => ['Trilog√≠a', 'Solo ma√≠z', 'Arroz', 'Trigo'], 'correcta' => 'Trilog√≠a']
    ]
];

// ========================================
// MATERIA: HISTORIA DE M√âXICO
// SUBTEMA: La Conquista (Cort√©s, Malinche, Ca√≠da de Tenochtitl√°n)
// ========================================
$lecciones[] = [
    'materia' => 'Historia de M√©xico',
    'slug' => 'la-conquista',
    'titulo' => 'La Conquista: Cort√©s, Malinche y Ca√≠da de Tenochtitl√°n (1519-1521)',
    'contenido' => '
        <h3>La Conquista (1519-1521)</h3>
        <p>Hern√°n Cort√©s lleg√≥ con <strong>11 barcos, 500 hombres, 16 caballos</strong>. Aliado con <strong>tlaxcaltecas</strong> y con <strong>Malinche</strong> como int√©rprete, avanz√≥ a Tenochtitl√°n. En 1521, tras <strong>sitio de 75 d√≠as y viruela</strong>, cay√≥ el imperio mexica.</p>

        <hr style="border:1px dashed #D32F2F;">

        <h4>1. Etapas Clave</h4>
        <table class="table">
            <thead>
                <tr><th>Fecha</th><th>Evento</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Feb 1519</strong></td><td>Llega a Cozumel</td></tr>
                <tr><td><strong>Abr 1519</strong></td><td>Fundaci√≥n Veracruz</td></tr>
                <tr><td><strong>Nov 1519</strong></td><td>Entrada Tenochtitl√°n</td></tr>
                <tr><td><strong>30 Jun 1520</strong></td><td>Noche Triste</td></tr>
                <tr><td><strong>13 Ago 1521</strong></td><td>Ca√≠da Tenochtitl√°n</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #D32F2F;">

        <h4>2. Factores de la Victoria Espa√±ola</h4>
        <ul>
            <li><strong>Alianzas ind√≠genas</strong>: Tlaxcala, Texcoco.</li>
            <li><strong>Tecnolog√≠a</strong>: Armas de fuego, acero, caballos.</li>
            <li><strong>Enfermedades</strong>: Viruela mat√≥ a Cuitl√°huac.</li>
            <li><strong>Estrategia</strong>: Sitio, destrucci√≥n acueductos.</li>
        </ul>

        <div class="ejemplo">
            <p><strong>Noche Triste:</strong> 30 junio 1520. Tras matanza en Templo Mayor, Cort√©s huy√≥ por calzada Tacuba. <strong>600 espa√±oles y miles de aliados muertos</strong>.</p>
        </div>

        <div class="visual">
            <img src="assets/img/HernanCortes.jpg" alt="Desembarco Cort√©s">
            <p><em>21 abril 1519. Fuente: Wikipedia.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/malinche-cortes.jpg" alt="Malinche y Cort√©s">
            <p><em>Int√©rprete clave. Fuente: Wikipedia.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/tenochtitlan.jpg" alt="Sitio Tenochtitl√°n">
            <p><em>Bergantines vs canoas. Fuente: Wikipedia.</em></p>
        </div>

        <hr style="border:1px dashed #D32F2F;">

        <h4>3. SVG Animado: Ruta de Cort√©s</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <rect x="0" y="0" width="800" height="500" fill="#FFEBEE"/>

                <text x="400" y="50" fill="#B71C1C" font-size="28" text-anchor="middle" font-weight="bold">RUTA DE LA CONQUISTA</text>

                <!-- Mapa simplificado -->
                <path d="M100,100 Q200,50 300,100 Q400,150 500,100 Q600,50 700,100" fill="none" stroke="#E0E0E0" stroke-width="40"/>

                <!-- Veracruz -->
                <g id="veracruz" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="0.5s" dur="0.5s"/>
                    <circle cx="150" cy="300" r="20" fill="#1976D2"/>
                    <text x="150" y="270" fill="#0D47A1" font-size="14" text-anchor="middle">Veracruz</text>
                    <text x="150" y="340" fill="#0D47A1" font-size="12" text-anchor="middle">Abr 1519</text>
                </g>

                <!-- Tlaxcala -->
                <g id="tlaxcala" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="1s" dur="0.5s"/>
                    <circle cx="400" cy="200" r="25" fill="#388E3C"/>
                    <text x="400" y="165" fill="#1B5E20" font-size="14" text-anchor="middle">Tlaxcala</text>
                    <text x="400" y="240" fill="#1B5E20" font-size="12" text-anchor="middle">Alianza</text>
                </g>

                <!-- Tenochtitl√°n -->
                <g id="tenochtitlan" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="1.5s" dur="0.5s"/>
                    <circle cx="650" cy="300" r="30" fill="#D32F2F"/>
                    <text x="650" y="260" fill="#B71C1C" font-size="14" text-anchor="middle">Tenochtitl√°n</text>
                    <text x="650" y="345" fill="#B71C1C" font-size="12" text-anchor="middle">13 Ago 1521</text>
                </g>

                <!-- Ruta animada -->
                <path d="M150,300 Q275,250 400,200 Q525,250 650,300" fill="none" stroke="#D32F2F" stroke-width="4" stroke-dasharray="1000" stroke-dashoffset="1000">
                    <animate attributeName="stroke-dashoffset" values="1000;0" dur="3s" begin="2s"/>
                </path>

                <!-- Malinche -->
                <g id="malinche" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="2.5s" dur="0.5s"/>
                    <circle cx="300" cy="250" r="15" fill="#7B1FA2"/>
                    <text x="300" y="220" fill="#4A148C" font-size="12" text-anchor="middle">Malinche</text>
                </g>

                <rect x="100" y="380" width="600" height="90" fill="#FFCDD2" rx="15"/>
                <text x="400" y="410" fill="#B71C1C" font-size="16" text-anchor="middle">Noche Triste: 600 espa√±oles muertos</text>
                <text x="400" y="435" fill="#C62828" font-size="14" text-anchor="middle">Viruela: Cuitl√°huac muere (1520)</text>
                <text x="400" y="455" fill="#B71C1C" font-size="12" text-anchor="middle">SI 2025: 504 a√±os de la ca√≠da</text>
            </svg>
            <p><em>SVG Animado: Ruta y alianzas de Cort√©s.</em></p>
        </div>
    ',
    'ejercicios' => [
        ['enunciado' => 'A√±o llegada Cort√©s', 'respuesta' => '1519'],
        ['enunciado' => 'Int√©rprete de Cort√©s', 'respuesta' => 'Malinche'],
        ['enunciado' => 'Aliados clave', 'respuesta' => 'Tlaxcaltecas'],
        ['enunciado' => 'Enfermedad decisiva', 'respuesta' => 'Viruela'],
        ['enunciado' => 'Ca√≠da Tenochtitl√°n', 'respuesta' => '13 agosto 1521'],
        ['enunciado' => 'Noche Triste', 'respuesta' => '30 junio 1520'],
        ['enunciado' => 'Emperador al llegar Cort√©s', 'respuesta' => 'Moctezuma II'],
        ['enunciado' => 'Sucesor muerto por viruela', 'respuesta' => 'Cuitl√°huac'],
        ['enunciado' => '√öltimo emperador', 'respuesta' => 'Cuauht√©moc'],
        ['enunciado' => 'Fundaci√≥n Veracruz', 'respuesta' => '22 abril 1519'],
        ['enunciado' => 'Bergantines en sitio', 'respuesta' => '13'],
        ['enunciado' => 'SI: a√±os de conquista', 'respuesta' => '2 a√±os 3 meses']
    ],
    'quiz' => [
        ['pregunta' => 'L√≠der conquista', 'opciones' => ['Cort√©s', 'Pizarro', 'Col√≥n', 'Vel√°zquez'], 'correcta' => 'Cort√©s'],
        ['pregunta' => 'Malinche fue', 'opciones' => ['Int√©rprete', 'Reina', 'Sacerdotisa', 'Esp√≠a'], 'correcta' => 'Int√©rprete'],
        ['pregunta' => 'Alianza clave', 'opciones' => ['Tlaxcala', 'Tenochtitl√°n', 'Maya', 'Inca'], 'correcta' => 'Tlaxcala'],
        ['pregunta' => 'Enfermedad', 'opciones' => ['Viruela', 'Gripe', 'C√≥lera', 'Peste'], 'correcta' => 'Viruela'],
        ['pregunta' => 'Ca√≠da Tenochtitl√°n', 'opciones' => ['13 Ago 1521', '12 Oct 1492', '1 Ene 1500', '20 Nov 1910'], 'correcta' => '13 Ago 1521'],
        ['pregunta' => 'Noche Triste', 'opciones' => ['30 Jun 1520', '1 Ene', '25 Dic', '15 Sep'], 'correcta' => '30 Jun 1520'],
        ['pregunta' => 'Emperador inicial', 'opciones' => ['Moctezuma II', 'Cuauht√©moc', 'Cuitl√°huac', 'Nezahualc√≥yotl'], 'correcta' => 'Moctezuma II'],
        ['pregunta' => 'Muerto por viruela', 'opciones' => ['Cuitl√°huac', 'Moctezuma', 'Cuauht√©moc', 'Cort√©s'], 'correcta' => 'Cuitl√°huac'],
        ['pregunta' => '√öltimo tlatoani', 'opciones' => ['Cuauht√©moc', 'Moctezuma', 'Cuitl√°huac', 'Itzc√≥atl'], 'correcta' => 'Cuauht√©moc'],
        ['pregunta' => 'SI 2025: a√±os ca√≠da', 'opciones' => ['504', '500', '600', '400'], 'correcta' => '504'],

        ['pregunta' => 'Llegada Cozumel', 'opciones' => ['Feb 1519', 'Abr 1519', 'Nov 1519', '1521'], 'correcta' => 'Feb 1519'],
        ['pregunta' => 'Fundaci√≥n Veracruz', 'opciones' => ['22 Abr 1519', '1 Ene', '12 Oct', '20 Nov'], 'correcta' => '22 Abr 1519'],
        ['pregunta' => 'Entrada Tenochtitl√°n', 'opciones' => ['8 Nov 1519', '1 Ene', '25 Dic', '15 Sep'], 'correcta' => '8 Nov 1519'],
        ['pregunta' => 'Matanza Templo Mayor', 'opciones' => ['Mayo 1520', '1519', '1521', '1522'], 'correcta' => 'Mayo 1520'],
        ['pregunta' => 'Sitio dur√≥', 'opciones' => ['75 d√≠as', '1 a√±o', '1 d√≠a', '1 mes'], 'correcta' => '75 d√≠as'],
        ['pregunta' => 'Bergantines', 'opciones' => ['13', '1', '100', '0'], 'correcta' => '13'],
        ['pregunta' => 'Caballos en 1519', 'opciones' => ['16', '100', '0', '1000'], 'correcta' => '16'],
        ['pregunta' => 'Poblaci√≥n Tenochtitl√°n', 'opciones' => ['~200,000', '10,000', '1M', '500'], 'correcta' => '~200,000'],
        ['pregunta' => 'Cuauht√©moc ejecutado', 'opciones' => ['1525', '1521', '1519', '1530'], 'correcta' => '1525'],
        ['pregunta' => 'SI 2025: Malinche s√≠mbolo', 'opciones' => ['Traici√≥n y mediaci√≥n', 'Solo traici√≥n', 'Solo hero√≠na', 'Nada'], 'correcta' => 'Traici√≥n y mediaci√≥n'],

        ['pregunta' => 'Moctezuma muerto', 'opciones' => ['Julio 1520', '1519', '1521', '1525'], 'correcta' => 'Julio 1520'],
        ['pregunta' => 'Cuitl√°huac rein√≥', 'opciones' => ['4 meses', '10 a√±os', '1 d√≠a', '20 a√±os'], 'correcta' => '4 meses'],
        ['pregunta' => 'Tenochtitl√°n destruida', 'opciones' => ['Sobre ruinas CDMX', 'Desapareci√≥', 'Se mud√≥', 'Nada'], 'correcta' => 'Sobre ruinas CDMX'],
        ['pregunta' => 'Cartas de Relaci√≥n', 'opciones' => ['Cort√©s a Carlos V', 'Moctezuma', 'Malinche', 'Tlaxcala'], 'correcta' => 'Cort√©s a Carlos V'],
        ['pregunta' => 'Viruela lleg√≥ con', 'opciones' => ['Espa√±oles (Narv√°ez)', 'Cort√©s', 'Nativos', '√Åfrica'], 'correcta' => 'Espa√±oles (Narv√°ez)'],
        ['pregunta' => 'P√°nfilo de Narv√°ez', 'opciones' => ['Enviado a arrestar Cort√©s', 'Aliado', 'Rey', 'Nada'], 'correcta' => 'Enviado a arrestar Cort√©s'],
        ['pregunta' => 'Batalla Otumba', 'opciones' => ['Victoria tras Noche Triste', 'Derrota', 'Paz', 'Nada'], 'correcta' => 'Victoria tras Noche Triste'],
        ['pregunta' => 'SI 2025: sitio recordado', 'opciones' => ['500 a√±os en 2021', '2025', '2030', 'Nunca'], 'correcta' => '500 a√±os en 2021'],
        ['pregunta' => 'Conquista fue', 'opciones' => ['Guerra + alianzas + enfermedad', 'Solo guerra', 'Solo paz', 'Nada'], 'correcta' => 'Guerra + alianzas + enfermedad'],
        ['pregunta' => 'M√©xico mestizo desde', 'opciones' => ['1521', '1821', '1910', '2025'], 'correcta' => '1521']
    ]
];
// ========================================
// MATERIA: HISTORIA DE M√âXICO
// SUBTEMA: Virreinato de la Nueva Espa√±a (Encomienda, Virreyes, Iglesia)
// ========================================
$lecciones[] = [
    'materia' => 'Historia de M√©xico',
    'slug' => 'virreinato-nueva-espana',
    'titulo' => 'Virreinato de Nueva Espa√±a: Encomienda, Virreyes e Iglesia (1521-1821)',
    'contenido' => '
        <h3>Virreinato de la Nueva Espa√±a (1521-1821)</h3>
        <p>Tras la conquista, Espa√±a organiz√≥ el territorio como <strong>Virreinato</strong>. Capital: <strong>Ciudad de M√©xico</strong>. Estructura jer√°rquica con <strong>virrey</strong> (representante del rey), <strong>encomienda</strong> (explotaci√≥n ind√≠gena) e <strong>Iglesia</strong> (control social y evangelizaci√≥n).</p>

        <hr style="border:1px dashed #F9A825;">

        <h4>1. Estructura de Poder</h4>
        <table class="table">
            <thead>
                <tr><th>Nivel</th><th>Figura</th><th>Funci√≥n</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Rey</strong></td><td>Carlos V ‚Üí Felipe II ‚Üí Borbones</td><td>Autoridad suprema</td></tr>
                <tr><td><strong>Virrey</strong></td><td>63 en total (1535-1821)</td><td>Gobierno, justicia, guerra</td></tr>
                <tr><td><strong>Audiencias</strong></td><td>M√©xico, Guadalajara, etc.</td><td>Control judicial</td></tr>
                <tr><td><strong>Cabildos</strong></td><td>Ayuntamientos locales</td><td>Administraci√≥n municipal</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #F9A825;">

        <h4>2. Sistema Econ√≥mico y Social</h4>
        <ul>
            <li><strong>Encomienda</strong>: Ind√≠genas "encomendados" a espa√±oles para trabajo y evangelizaci√≥n (a cambio de "protecci√≥n").</li>
            <li><strong>Haciendas</strong>: Grandes latifundios (trigo, ganado, pulque).</li>
            <li><strong>Miner√≠a</strong>: Zacatecas, Guanajuato ‚Üí 80% plata mundial.</li>
            <li><strong>Castas</strong>: Jerarqu√≠a racial (espa√±oles, criollos, mestizos, ind√≠genas, negros).</li>
        </ul>

        <div class="ejemplo">
            <p><strong>Antonio de Mendoza (1535-1550):</strong> Primer virrey. Fund√≥ <strong>Real y Pontificia Universidad</strong> (1551), promovi√≥ <strong>Nuevas Leyes</strong> (1542) para limitar abusos en encomiendas.</p>
        </div>

        <div class="visual">
            <img src="assets/img/indeigena-forzoso.jpg" alt="Encomienda">
            <p><em>Trabajo forzado ind√≠gena. Fuente: Wikipedia.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/palacio-nacional.jpg" alt="Palacio Nacional">
            <p><em>Sede virreinal (hoy Palacio Nacional). Fuente: Wikipedia.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/catedral.jpg" alt="Catedral">
            <p><em>Construida 1573-1813. Fuente: Wikipedia.</em></p>
        </div>

        <hr style="border:1px dashed #F9A825;">

        <h4>3. SVG Animado: Estructura del Virreinato</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <rect x="0" y="0" width="800" height="500" fill="#FFF8E1"/>

                <text x="400" y="50" fill="#FF6F00" font-size="28" text-anchor="middle" font-weight="bold">VIRREINATO DE NUEVA ESPA√ëA</text>

                <!-- Rey -->
                <g id="rey" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="0.5s" dur="0.5s"/>
                    <rect x="350" y="100" width="100" height="60" fill="#FFB300" rx="15"/>
                    <text x="400" y="135" fill="#5D4037" font-size="16" text-anchor="middle">REY</text>
                </g>

                <!-- Virrey -->
                <g id="virrey" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="1s" dur="0.5s"/>
                    <rect x="350" y="200" width="100" height="60" fill="#D84315" rx="15"/>
                    <text x="400" y="235" fill="white" font-size="16" text-anchor="middle">VIRREY</text>
                </g>

                <!-- Encomenderos -->
                <g id="encomenderos" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="1.5s" dur="0.5s"/>
                    <rect x="150" y="320" width="140" height="60" fill="#1976D2" rx="15"/>
                    <text x="220" y="355" fill="white" font-size="14" text-anchor="middle">ENCOMENDEROS</text>
                </g>

                <!-- Iglesia -->
                <g id="iglesia" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="2s" dur="0.5s"/>
                    <rect x="510" y="320" width="140" height="60" fill="#7B1FA2" rx="15"/>
                    <text x="580" y="355" fill="white" font-size="14" text-anchor="middle">IGLESIA</text>
                </g>

                <!-- Conexiones -->
                <line x1="400" y1="160" x2="400" y2="200" stroke="#FF6F00" stroke-width="3"/>
                <line x1="400" y1="260" x2="220" y2="320" stroke="#FF6F00" stroke-width="3"/>
                <line x1="400" y1="260" x2="580" y2="320" stroke="#FF6F00" stroke-width="3"/>

                <rect x="100" y="410" width="600" height="70" fill="#FFCCBC" rx="15"/>
                <text x="400" y="440" fill="#D84315" font-size="16" text-anchor="middle">63 virreyes | 300 a√±os de dominio</text>
                <text x="400" y="465" fill="#BF360C" font-size="12" text-anchor="middle">SI 2025: INAH protege 1,200 sitios coloniales</text>
            </svg>
            <p><em>SVG Animado: Jerarqu√≠a de poder colonial.</em></p>
        </div>
    ',
    'ejercicios' => [
        ['enunciado' => 'Representante del rey', 'respuesta' => 'Virrey'],
        ['enunciado' => 'Sistema de trabajo ind√≠gena', 'respuesta' => 'Encomienda'],
        ['enunciado' => 'Iglesia: funci√≥n principal', 'respuesta' => 'Evangelizaci√≥n'],
        ['enunciado' => 'Capital virreinal', 'respuesta' => 'Ciudad de M√©xico'],
        ['enunciado' => 'Primer virrey', 'respuesta' => 'Antonio de Mendoza'],
        ['enunciado' => 'Producto clave', 'respuesta' => 'Plata'],
        ['enunciado' => 'Universidad fundada', 'respuesta' => '1551 (Real y Pontificia)'],
        ['enunciado' => 'Nuevas Leyes', 'respuesta' => '1542, protegen ind√≠genas'],
        ['enunciado' => 'Catedral iniciada', 'respuesta' => '1573'],
        ['enunciado' => 'N√∫mero de virreyes', 'respuesta' => '63'],
        ['enunciado' => 'Castas: grupo superior', 'respuesta' => 'Peninsulares'],
        ['enunciado' => 'SI: a√±os virreinato', 'respuesta' => '300']
    ],
    'quiz' => [
        ['pregunta' => 'Virrey era', 'opciones' => ['Representante del rey', 'Rey', 'Ind√≠gena', 'Sacerdote'], 'correcta' => 'Representante del rey'],
        ['pregunta' => 'Encomienda era', 'opciones' => ['Trabajo forzado', 'Escuela', 'Iglesia', 'Comercio'], 'correcta' => 'Trabajo forzado'],
        ['pregunta' => 'Iglesia controlaba', 'opciones' => ['Educaci√≥n y evangelizaci√≥n', 'Ej√©rcito', 'Minas', 'Nada'], 'correcta' => 'Educaci√≥n y evangelizaci√≥n'],
        ['pregunta' => 'Capital', 'opciones' => ['Ciudad de M√©xico', 'Madrid', 'Veracruz', 'Guadalajara'], 'correcta' => 'Ciudad de M√©xico'],
        ['pregunta' => 'Primer virrey', 'opciones' => ['Antonio de Mendoza', 'Cort√©s', 'Hidalgo', 'Ju√°rez'], 'correcta' => 'Antonio de Mendoza'],
        ['pregunta' => 'Econom√≠a principal', 'opciones' => ['Plata', 'Ma√≠z', 'Petr√≥leo', 'Turismo'], 'correcta' => 'Plata'],
        ['pregunta' => 'Universidad 1551', 'opciones' => ['Real y Pontificia', 'UNAM', 'Harvard', 'Ninguna'], 'correcta' => 'Real y Pontificia'],
        ['pregunta' => 'Nuevas Leyes', 'opciones' => ['1542', '1492', '1821', '1910'], 'correcta' => '1542'],
        ['pregunta' => 'Catedral terminada', 'opciones' => ['1813', '1521', '1821', '1910'], 'correcta' => '1813'],
        ['pregunta' => 'SI 2025: sitios coloniales', 'opciones' => ['1,200 INAH', '100', '10,000', '0'], 'correcta' => '1,200 INAH'],

        ['pregunta' => 'Virreyes totales', 'opciones' => ['63', '10', '100', '1'], 'correcta' => '63'],
        ['pregunta' => 'Palacio Nacional era', 'opciones' => ['Sede virreinal', 'Iglesia', 'Mercado', 'Prisi√≥n'], 'correcta' => 'Sede virreinal'],
        ['pregunta' => 'Encomenderos recib√≠an', 'opciones' => ['Tributos ind√≠genas', 'Salario', 'Tierras', 'Nada'], 'correcta' => 'Tributos ind√≠genas'],
        ['pregunta' => 'Hacienda produc√≠a', 'opciones' => ['Trigo, ganado', 'Tecnolog√≠a', 'Coches', 'Aviones'], 'correcta' => 'Trigo, ganado'],
        ['pregunta' => 'Zacatecas famosa por', 'opciones' => ['Plata', 'Oro', 'Cobre', 'Petr√≥leo'], 'correcta' => 'Plata'],
        ['pregunta' => 'Castas: abajo', 'opciones' => ['Ind√≠genas y negros', 'Criollos', 'Peninsulares', 'Mestizos'], 'correcta' => 'Ind√≠genas y negros'],
        ['pregunta' => 'Inquisici√≥n lleg√≥', 'opciones' => ['1571', '1521', '1821', '1910'], 'correcta' => '1571'],
        ['pregunta' => 'Virrey nombraba', 'opciones' => ['Por el rey', 'Por ind√≠genas', 'Por voto', 'Por Iglesia'], 'correcta' => 'Por el rey'],
        ['pregunta' => 'Real Audiencia', 'opciones' => ['Control judicial', 'Ej√©rcito', 'Comercio', 'Educaci√≥n'], 'correcta' => 'Control judicial'],
        ['pregunta' => 'SI 2025: plata extra√≠da', 'opciones' => ['~3,000 toneladas', '100', '1M', '0'], 'correcta' => '~3,000 toneladas'],

        ['pregunta' => 'Mestizaje comenz√≥', 'opciones' => ['Siglo XVI', 'XVIII', 'XX', 'XXI'], 'correcta' => 'Siglo XVI'],
        ['pregunta' => 'Barroco novohispano', 'opciones' => ['Arte colonial', 'Ind√≠gena', 'Moderno', 'Abstracto'], 'correcta' => 'Arte colonial'],
        ['pregunta' => 'Virrey m√°s famoso', 'opciones' => ['Juan Vicente G√º√©mez', 'Mendoza', 'Cort√©s', 'Hidalgo'], 'correcta' => 'Juan Vicente G√º√©mez'],
        ['pregunta' => 'Poblaci√≥n 1800', 'opciones' => ['~6 millones', '1M', '20M', '100K'], 'correcta' => '~6 millones'],
        ['pregunta' => 'Camino Real', 'opciones' => ['M√©xico-Veracruz', 'Madrid', 'China', 'Europa'], 'correcta' => 'M√©xico-Veracruz'],
        ['pregunta' => 'Gale√≥n de Manila', 'opciones' => ['Comercio Asia', 'Guerra', 'Evangelizaci√≥n', 'Nada'], 'correcta' => 'Comercio Asia'],
        ['pregunta' => 'SI 2025: UNAM sucesora', 'opciones' => ['Real y Pontificia', 'Ninguna', 'Harvard', 'Oxford'], 'correcta' => 'Real y Pontificia'],
        ['pregunta' => 'Virreinato termin√≥', 'opciones' => ['1821', '1521', '1910', '1810'], 'correcta' => '1821'],
        ['pregunta' => 'Reforma Borb√≥nica', 'opciones' => ['Siglo XVIII', 'XVI', 'XIX', 'XX'], 'correcta' => 'Siglo XVIII'],
        ['pregunta' => 'Virreinato fue', 'opciones' => ['300 a√±os', '100', '50', '500'], 'correcta' => '300 a√±os']
    ]
];

// ========================================
// MATERIA: HISTORIA DE M√âXICO
// SUBTEMA: Independencia de M√©xico (Grito de Dolores, Morelos, Iturbide)
// ========================================
$lecciones[] = [
    'materia' => 'Historia de M√©xico',
    'slug' => 'independencia-mexico',
    'titulo' => 'Independencia de M√©xico: Grito de Dolores, Morelos e Iturbide (1810-1821)',
    'contenido' => '
        <h3>Independencia de M√©xico (1810-1821)</h3>
        <p>Movimiento armado contra Espa√±a. Iniciado por <strong>Miguel Hidalgo</strong> (Grito de Dolores, 16 sep 1810). Continuado por <strong>Jos√© Mar√≠a Morelos</strong> (Congreso de Chilpancingo). Consumado por <strong>Agust√≠n de Iturbide</strong> (Plan de Iguala, 1821).</p>

        <hr style="border:1px dashed #2E7D32;">

        <h4>1. Etapas de la Independencia</h4>
        <table class="table">
            <thead>
                <tr><th>Etapa</th><th>L√≠der</th><th>Evento Clave</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Iniciaci√≥n</strong></td><td>Hidalgo</td><td>Grito de Dolores (1810)</td></tr>
                <tr><td><strong>Organizaci√≥n</strong></td><td>Morelos</td><td>Congreso de Chilpancingo (1813)</td></tr>
                <tr><td><strong>Resistencia</strong></td><td>Guerrero, Galeana</td><td>Guerra de guerrillas</td></tr>
                <tr><td><strong>Consumaci√≥n</strong></td><td>Iturbide</td><td>Entrada a CDMX (27 sep 1821)</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #2E7D32;">

        <h4>2. Causas</h4>
        <ul>
            <li>Invasi√≥n napole√≥nica a Espa√±a (1808).</li>
            <li>Ideas ilustradas (libertad, igualdad).</li>
            <li>Descontento criollo.</li>
            <li>Crisis econ√≥mica.</li>
        </ul>

        <div class="ejemplo">
            <p><strong>Plan de Iguala (24 feb 1821):</strong> <strong>Tres garant√≠as</strong>: <strong>Religi√≥n</strong> (cat√≥lica), <strong>Independencia</strong>, <strong>Uni√≥n</strong> (espa√±oles y americanos).</p>
        </div>

        <div class="visual">
            <img src="assets/img/grito-dolores.jpg" alt="Grito de Dolores">
            <p><em>16 sep 1810, Dolores, Gto. Fuente: Wikipedia.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/morelos.jpg" alt="Morelos">
            <p><em>Ejecutado 1815. Fuente: Wikipedia.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/bandera-trigarante.svg.png" alt="Plan de Iguala">
            <p><em>Bandera trigarante. Fuente: Wikipedia.</em></p>
        </div>

        <hr style="border:1px dashed #2E7D32;">

        <h4>3. SVG Animado: L√≠nea del Tiempo Independencia</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <rect x="0" y="0" width="800" height="500" fill="#E8F5E9"/>

                <text x="400" y="50" fill="#1B5E20" font-size="28" text-anchor="middle" font-weight="bold">INDEPENDENCIA DE M√âXICO</text>

                <!-- L√≠nea -->
                <line x1="100" y1="150" x2="700" y2="150" stroke="#43A047" stroke-width="4"/>

                <!-- Grito -->
                <g id="grito" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="0.5s" dur="0.5s"/>
                    <circle cx="150" cy="150" r="25" fill="#D32F2F"/>
                    <text x="150" y="115" fill="#B71C1C" font-size="14" text-anchor="middle">GRITO</text>
                    <text x="150" y="190" fill="#B71C1C" font-size="12" text-anchor="middle">16 Sep 1810</text>
                </g>

                <!-- Morelos -->
                <g id="morelos" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="1s" dur="0.5s"/>
                    <circle cx="350" cy="150" r="25" fill="#1976D2"/>
                    <text x="350" y="115" fill="#0D47A1" font-size="14" text-anchor="middle">MORELOS</text>
                    <text x="350" y="190" fill="#0D47A1" font-size="12" text-anchor="middle">1813 Chilpancingo</text>
                </g>

                <!-- Iguala -->
                <g id="iguala" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="1.5s" dur="0.5s"/>
                    <circle cx="550" cy="150" r="30" fill="#7B1FA2"/>
                    <text x="550" y="110" fill="#4A148C" font-size="14" text-anchor="middle">IGUALA</text>
                    <text x="550" y="195" fill="#4A148C" font-size="12" text-anchor="middle">24 Feb 1821</text>
                </g>

                <rect x="100" y="250" width="600" height="200" fill="#C8E6C9" rx="15"/>
                <text x="400" y="280" fill="#1B5E20" font-size="16" text-anchor="middle">Hidalgo ‚Üí Morelos ‚Üí Guerrero ‚Üí Iturbide</text>
                <text x="400" y="310" fill="#2E7D32" font-size="14" text-anchor="middle">11 a√±os de guerra | 600,000 muertos</text>
                <text x="400" y="340" fill="#1B5E20" font-size="12" text-anchor="middle">SI 2025: 215 a√±os del Grito</text>
                <text x="400" y="370" fill="#2E7D32" font-size="12" text-anchor="middle">27 Sep 1821: Entrada triunfal CDMX</text>
                <text x="400" y="400" fill="#1B5E20" font-size="12" text-anchor="middle">Sentimientos de la Naci√≥n: primera constituci√≥n</text>
            </svg>
            <p><em>SVG Animado: Etapas de la lucha independentista.</em></p>
        </div>
    ',
    'ejercicios' => [
        ['enunciado' => 'Grito de Dolores', 'respuesta' => '16 septiembre 1810'],
        ['enunciado' => 'L√≠der inicial', 'respuesta' => 'Miguel Hidalgo'],
        ['enunciado' => 'Congreso de Chilpancingo', 'respuesta' => '1813'],
        ['enunciado' => 'Autor Sentimientos Naci√≥n', 'respuesta' => 'Morelos'],
        ['enunciado' => 'Plan de Iguala', 'respuesta' => '1821'],
        ['enunciado' => 'Tres garant√≠as', 'respuesta' => 'Religi√≥n, independencia, uni√≥n'],
        ['enunciado' => 'Entrada CDMX', 'respuesta' => '27 septiembre 1821'],
        ['enunciado' => 'Ejecutado en 1811', 'respuesta' => 'Hidalgo'],
        ['enunciado' => 'Ejecutado en 1815', 'respuesta' => 'Morelos'],
        ['enunciado' => 'Trigarante significa', 'respuesta' => 'Tres garant√≠as'],
        ['enunciado' => 'Causa francesa', 'respuesta' => 'Invasi√≥n napole√≥nica 1808'],
        ['enunciado' => 'SI: a√±os independencia', 'respuesta' => '11']
    ],
    'quiz' => [
        ['pregunta' => 'Grito de Dolores', 'opciones' => ['16 Sep 1810', '15 Sep 1821', '20 Nov 1910', '5 May 1862'], 'correcta' => '16 Sep 1810'],
        ['pregunta' => 'L√≠der Grito', 'opciones' => ['Hidalgo', 'Morelos', 'Iturbide', 'Guerrero'], 'correcta' => 'Hidalgo'],
        ['pregunta' => 'Congreso Chilpancingo', 'opciones' => ['1813', '1810', '1821', '1910'], 'correcta' => '1813'],
        ['pregunta' => 'Sentimientos Naci√≥n', 'opciones' => ['Morelos', 'Hidalgo', 'Iturbide', 'Ju√°rez'], 'correcta' => 'Morelos'],
        ['pregunta' => 'Plan de Iguala', 'opciones' => ['24 Feb 1821', '16 Sep 1810', '27 Sep 1821', '20 Nov 1910'], 'correcta' => '24 Feb 1821'],
        ['pregunta' => 'Tres garant√≠as', 'opciones' => ['Religi√≥n, independencia, uni√≥n', 'Libertad, igualdad, fraternidad', 'Fe, esperanza, caridad', 'Nada'], 'correcta' => 'Religi√≥n, independencia, uni√≥n'],
        ['pregunta' => 'Entrada CDMX', 'opciones' => ['27 Sep 1821', '16 Sep 1810', '24 Feb 1821', '15 Sep 1821'], 'correcta' => '27 Sep 1821'],
        ['pregunta' => 'Ejecutado 1811', 'opciones' => ['Hidalgo', 'Morelos', 'Iturbide', 'Allende'], 'correcta' => 'Hidalgo'],
        ['pregunta' => 'Ejecutado 1815', 'opciones' => ['Morelos', 'Hidalgo', 'Guerrero', 'Iturbide'], 'correcta' => 'Morelos'],
        ['pregunta' => 'SI 2025: a√±os Grito', 'opciones' => ['215', '200', '300', '100'], 'correcta' => '215'],

        ['pregunta' => 'Causa principal', 'opciones' => ['Invasi√≥n napole√≥nica', 'Terremoto', 'Hambre', 'Plaga'], 'correcta' => 'Invasi√≥n napole√≥nica'],
        ['pregunta' => 'Quer√©taro conspiraci√≥n', 'opciones' => ['Allende, Aldama', 'Hidalgo solo', 'Morelos', 'Iturbide'], 'correcta' => 'Allende, Aldama'],
        ['pregunta' => 'Batalla Monte de las Cruces', 'opciones' => ['Victoria insurgente', 'Derrota', 'Empate', 'Paz'], 'correcta' => 'Victoria insurgente'],
        ['pregunta' => 'Guadalajara tomada', 'opciones' => ['1811', '1810', '1821', '1813'], 'correcta' => '1811'],
        ['pregunta' => 'Morelos capturado', 'opciones' => ['1815', '1811', '1821', '1810'], 'correcta' => '1815'],
        ['pregunta' => 'Ej√©rcito Trigarante', 'opciones' => ['Iturbide + Guerrero', 'Solo Iturbide', 'Solo Guerrero', 'Hidalgo'], 'correcta' => 'Iturbide + Guerrero'],
        ['pregunta' => 'Bandera trigarante', 'opciones' => ['Blanco, verde, rojo', 'Verde, blanco, rojo', 'Rojo, blanco, azul', 'Negro'], 'correcta' => 'Blanco, verde, rojo'],
        ['pregunta' => 'Tratado de C√≥rdoba', 'opciones' => ['24 Ago 1821', '24 Feb', '27 Sep', '16 Sep'], 'correcta' => '24 Ago 1821'],
        ['pregunta' => 'Muertos estimados', 'opciones' => ['~600,000', '10,000', '1M', '100'], 'correcta' => ['~600,000']],
        ['pregunta' => 'SI 2025: a√±os consumaci√≥n', 'opciones' => ['204', '200', '215', '300'], 'correcta' => '204'],

        ['pregunta' => 'Hidalgo aboli√≥', 'opciones' => ['Esclavitud', 'Impuestos', 'Virrey', 'Iglesia'], 'correcta' => 'Esclavitud'],
        ['pregunta' => 'Morelos propuso', 'opciones' => ['Rep√∫blica', 'Monarqu√≠a', 'Dictadura', 'Anarqu√≠a'], 'correcta' => 'Rep√∫blica'],
        ['pregunta' => 'Iturbide fue', 'opciones' => ['Militar realista ‚Üí independentista', 'Insurgente', 'Sacerdote', 'Ind√≠gena'], 'correcta' => 'Militar realista ‚Üí independentista'],
        ['pregunta' => 'Virrey al final', 'opciones' => ['Juan O\'Donoj√∫', 'Iturbide', 'Morelos', 'Hidalgo'], 'correcta' => 'Juan O\'Donoj√∫'],
        ['pregunta' => 'Independencia cost√≥', 'opciones' => ['11 a√±os', '1 a√±o', '100 a√±os', '1 d√≠a'], 'correcta' => '11 a√±os'],
        ['pregunta' => 'Primera constituci√≥n', 'opciones' => ['Sentimientos Naci√≥n', 'Plan Iguala', 'Tratado C√≥rdoba', 'Constituci√≥n 1824'], 'correcta' => 'Sentimientos Naci√≥n'],
        ['pregunta' => 'SI 2025: d√≠a feriado', 'opciones' => ['16 Sep', '15 Sep', '27 Sep', '24 Feb'], 'correcta' => '16 Sep'],
        ['pregunta' => 'Independencia fue', 'opciones' => ['Guerra civil', 'Paz', 'Revoluci√≥n pac√≠fica', 'Nada'], 'correcta' => 'Guerra civil'],
        ['pregunta' => 'M√©xico naci√≥ como', 'opciones' => ['Imperio (Iturbide)', 'Rep√∫blica', 'Colonia', 'Virreinato'], 'correcta' => 'Imperio (Iturbide)'],
        ['pregunta' => 'Independencia inspirada en', 'opciones' => ['Ilustraci√≥n + Francia', 'Espa√±a', 'EE.UU.', 'Inglaterra'], 'correcta' => 'Ilustraci√≥n + Francia']
    ]
];
// ========================================
// MATERIA: HISTORIA DE M√âXICO
// SUBTEMA: M√©xico Independiente (Imperio de Iturbide, Rep√∫blica, Reforma, Porfiriato)
// ========================================
$lecciones[] = [
    'materia' => 'Historia de M√©xico',
    'slug' => 'mexico-independiente',
    'titulo' => 'M√©xico Independiente: Imperio, Rep√∫blica, Reforma y Porfiriato (1821-1910)',
    'contenido' => '
        <h3>M√©xico Independiente (1821-1910)</h3>
        <p>Tras 300 a√±os de virreinato, M√©xico enfrent√≥ inestabilidad pol√≠tica, guerras extranjeras y profundas reformas sociales. Etapas clave:</p>

        <hr style="border:1px dashed #1B5E20;">

        <h4>1. Etapas Hist√≥ricas</h4>
        <table class="table">
            <thead>
                <tr><th>Periodo</th><th>Acontecimiento</th><th>Duraci√≥n</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Imperio</strong></td><td>Iturbide (Agust√≠n I)</td><td>1822-1823</td></tr>
                <tr><td><strong>Rep√∫blica Federal</strong></td><td>Constituci√≥n 1824</td><td>1824-1835</td></tr>
                <tr><td><strong>Centralismo</strong></td><td>7 Leyes (1836)</td><td>1835-1846</td></tr>
                <tr><td><strong>Guerra con EE.UU.</strong></td><td>Tratado Guadalupe Hidalgo</td><td>1846-1848</td></tr>
                <tr><td><strong>Reforma</strong></td><td>Ju√°rez, Leyes de Reforma</td><td>1857-1861</td></tr>
                <tr><td><strong>Intervenci√≥n Francesa</strong></td><td>Maximilian, 5 de Mayo</td><td>1862-1867</td></tr>
                <tr><td><strong>Porfiriato</strong></td><td>D√≠az, "Orden y Progreso"</td><td>1876-1911</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #1B5E20;">

        <h4>2. Logros y Conflictos</h4>
        <ul>
            <li><strong>Imperio:</strong> Coronaci√≥n de Iturbide ‚Üí derrocado por Santa Anna.</li>
            <li><strong>Reforma:</strong> Separaci√≥n Iglesia-Estado, registro civil, matrimonio civil.</li>
            <li><strong>Guerra EE.UU.:</strong> P√©rdida de 2.3 millones km¬≤ (California, Texas, etc.).</li>
            <li><strong>Porfiriato:</strong> Ferrocarriles, inversi√≥n extranjera, desigualdad extrema.</li>
        </ul>

        <div class="ejemplo">
            <p><strong>Leyes de Reforma (1859):</strong> <strong>Ley Ju√°rez</strong> (abolici√≥n fueros), <strong>Ley Lerdo</strong> (desamortizaci√≥n), <strong>Ley Iglesias</strong> (limita cobros parroquia).</p>
        </div>

        <div class="visual">
            <img src="assets/img/emperador-iturbide.jpg" alt="Iturbide">
            <p><em>Emperador 1822-1823. Fuente: Wikipedia.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/juarez.jpeg" alt="Ju√°rez">
            <p><em>Presidente 1858-1872. Fuente: Wikipedia.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/Porfirio_Diaz.webp" alt="D√≠az">
            <p><em>7 reelecciones. Fuente: Wikipedia.</em></p>
        </div>

        <hr style="border:1px dashed #1B5E20;">

        <h4>3. SVG Animado: Etapas del M√©xico Independiente</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <rect x="0" y="0" width="800" height="500" fill="#E8F5E9"/>

                <text x="400" y="50" fill="#1B5E20" font-size="28" text-anchor="middle" font-weight="bold">M√âXICO INDEPENDIENTE</text>

                <!-- Imperio -->
                <g id="imperio" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="0.5s" dur="0.5s"/>
                    <rect x="80" y="120" width="80" height="120" fill="#FFB300" rx="15"/>
                    <text x="120" y="160" fill="#5D4037" font-size="14" text-anchor="middle">IMPERIO</text>
                    <text x="120" y="185" fill="#5D4037" font-size="12" text-anchor="middle">1822-1823</text>
                    <text x="120" y="210" fill="#5D4037" font-size="10" text-anchor="middle">Iturbide</text>
                </g>

                <!-- Rep√∫blica -->
                <g id="republica" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="1s" dur="0.5s"/>
                    <rect x="200" y="100" width="90" height="140" fill="#1976D2" rx="15"/>
                    <text x="245" y="140" fill="white" font-size="14" text-anchor="middle">REP√öBLICA</text>
                    <text x="245" y="165" fill="white" font-size="12" text-anchor="middle">1824</text>
                    <text x="245" y="190" fill="white" font-size="10" text-anchor="middle">Federal</text>
                    <text x="245" y="215" fill="white" font-size="10" text-anchor="middle">Guadalupe V.</text>
                </g>

                <!-- Reforma -->
                <g id="reforma" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="1.5s" dur="0.5s"/>
                    <rect x="340" y="80" width="100" height="160" fill="#388E3C" rx="15"/>
                    <text x="390" y="125" fill="white" font-size="14" text-anchor="middle">REFORMA</text>
                    <text x="390" y="150" fill="white" font-size="12" text-anchor="middle">1857</text>
                    <text x="390" y="175" fill="white" font-size="10" text-anchor="middle">Ju√°rez</text>
                    <text x="390" y="200" fill="white" font-size="10" text-anchor="middle">Leyes</text>
                </g>

                <!-- Porfiriato -->
                <g id="porfiriato" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="2s" dur="0.5s"/>
                    <rect x="490" y="60" width="110" height="180" fill="#D32F2F" rx="15"/>
                    <text x="545" y="110" fill="white" font-size="14" text-anchor="middle">PORFIRIATO</text>
                    <text x="545" y="135" fill="white" font-size="12" text-anchor="middle">1876-1911</text>
                    <text x="545" y="160" fill="white" font-size="10" text-anchor="middle">D√≠az</text>
                    <text x="545" y="185" fill="white" font-size="10" text-anchor="middle">35 a√±os</text>
                </g>

                <rect x="100" y="280" width="600" height="160" fill="#C8E6C9" rx="15"/>
                <text x="400" y="310" fill="#1B5E20" font-size="16" text-anchor="middle">P√©rdida 55% territorio | 50 gobiernos en 89 a√±os</text>
                <text x="400" y="340" fill="#2E7D32" font-size="14" text-anchor="middle">SI 2025: 203 a√±os de Independencia</text>
                <text x="400" y="370" fill="#1B5E20" font-size="12" text-anchor="middle">Constituciones: 1824, 1857, 1917</text>
                <text x="400" y="400" fill="#2E7D32" font-size="12" text-anchor="middle">5 de Mayo: Victoria vs Francia 1862</text>
            </svg>
            <p><em>SVG Animado: Evoluci√≥n pol√≠tica 1821-1910.</em></p>
        </div>
    ',
    'ejercicios' => [
        ['enunciado' => 'Duraci√≥n Imperio Iturbide', 'respuesta' => '1 a√±o (1822-1823)'],
        ['enunciado' => 'P√©rdida territorial 1848', 'respuesta' => '2.3 millones km¬≤'],
        ['enunciado' => 'Autor Leyes de Reforma', 'respuesta' => 'Benito Ju√°rez'],
        ['enunciado' => 'Duraci√≥n Porfiriato', 'respuesta' => '35 a√±os (1876-1911)'],
        ['enunciado' => 'Constituci√≥n federal', 'respuesta' => '1824'],
        ['enunciado' => 'Batalla 5 de Mayo', 'respuesta' => '1862, Puebla'],
        ['enunciado' => 'Emperador franc√©s', 'respuesta' => 'Maximiliano'],
        ['enunciado' => 'Lema Porfiriato', 'respuesta' => 'Orden y Progreso'],
        ['enunciado' => 'Tratado final guerra EE.UU.', 'respuesta' => 'Guadalupe Hidalgo'],
        ['enunciado' => 'Ley Lerdo', 'respuesta' => 'Desamortizaci√≥n 1856'],
        ['enunciado' => 'N√∫mero de gobiernos 1821-1910', 'respuesta' => '~50'],
        ['enunciado' => 'SI: a√±os Rep√∫blica Restaurada', 'respuesta' => '1867-1876']
    ],
    'quiz' => [
        ['pregunta' => 'Primer emperador', 'opciones' => ['Iturbide', 'Santa Anna', 'Ju√°rez', 'D√≠az'], 'correcta' => 'Iturbide'],
        ['pregunta' => 'Constituci√≥n 1824', 'opciones' => ['Federal', 'Centralista', 'Imperial', 'Socialista'], 'correcta' => 'Federal'],
        ['pregunta' => 'Guerra EE.UU.', 'opciones' => ['1846-1848', '1862-1867', '1910-1920', '1810-1821'], 'correcta' => '1846-1848'],
        ['pregunta' => 'P√©rdida territorial', 'opciones' => ['55%', '10%', '80%', '0%'], 'correcta' => '55%'],
        ['pregunta' => 'Leyes de Reforma', 'opciones' => ['1857-1860', '1824', '1917', '1521'], 'correcta' => '1857-1860'],
        ['pregunta' => '5 de Mayo', 'opciones' => ['1862', '1867', '1847', '1910'], 'correcta' => '1862'],
        ['pregunta' => 'Emperador ejecutado', 'opciones' => ['Maximiliano', 'Iturbide', 'D√≠az', 'Ju√°rez'], 'correcta' => 'Maximiliano'],
        ['pregunta' => 'Porfiriato inici√≥', 'opciones' => ['1876', '1821', '1857', '1910'], 'correcta' => '1876'],
        ['pregunta' => 'Lema D√≠az', 'opciones' => ['Orden y Progreso', 'Tierra y Libertad', 'Sufragio efectivo', 'Paz'], 'correcta' => 'Orden y Progreso'],
        ['pregunta' => 'SI 2025: a√±os Independencia', 'opciones' => ['204', '200', '215', '300'], 'correcta' => '204'],

        ['pregunta' => 'Santa Anna presidente', 'opciones' => ['11 veces', '1', '2', '7'], 'correcta' => '11 veces'],
        ['pregunta' => 'Constituci√≥n 1857', 'opciones' => ['Liberal', 'Conservadora', 'Imperial', 'Social'], 'correcta' => 'Liberal'],
        ['pregunta' => 'Ju√°rez ind√≠gena', 'opciones' => ['Zapoteco', 'Maya', 'Azteca', 'Espa√±ol'], 'correcta' => 'Zapoteco'],
        ['pregunta' => 'Ferrocarriles Porfiriato', 'opciones' => ['24,000 km', '1,000', '100,000', '0'], 'correcta' => '24,000 km'],
        ['pregunta' => 'Hacienda en Porfiriato', 'opciones' => ['Latifundio', 'Ejido', 'Comunidad', 'F√°brica'], 'correcta' => 'Latifundio'],
        ['pregunta' => 'Inversi√≥n extranjera', 'opciones' => ['EE.UU., Inglaterra', 'Solo M√©xico', 'Francia', 'Espa√±a'], 'correcta' => 'EE.UU., Inglaterra'],
        ['pregunta' => 'Batalla de Puebla', 'opciones' => ['Victoria mexicana', 'Derrota', 'Empate', 'No ocurri√≥'], 'correcta' => 'Victoria mexicana'],
        ['pregunta' => 'Tratado McLane-Ocampo', 'opciones' => ['1859 (no ratificado)', '1848', '1821', '1917'], 'correcta' => '1859 (no ratificado)'],
        ['pregunta' => 'Rep√∫blica Restaurada', 'opciones' => ['1867-1876', '1824-1835', '1911-1917', '1857'], 'correcta' => '1867-1876'],
        ['pregunta' => 'SI 2025: estados en 1824', 'opciones' => ['19', '31', '32', '24'], 'correcta' => '19'],

        ['pregunta' => 'Grito de Dolores', 'opciones' => ['1810', '1821', '1910', '1857'], 'correcta' => '1810'],
        ['pregunta' => 'Plan de Iguala', 'opciones' => ['1821', '1810', '1911', '1857'], 'correcta' => '1821'],
        ['pregunta' => 'Texas se independiz√≥', 'opciones' => ['1836', '1821', '1845', '1910'], 'correcta' => '1836'],
        ['pregunta' => 'Gadsden Purchase', 'opciones' => ['1853', '1848', '1821', '1917'], 'correcta' => '1853'],
        ['pregunta' => 'Intervenci√≥n francesa', 'opciones' => ['1862-1867', '1846-1848', '1910-1920', '1810-1821'], 'correcta' => '1862-1867'],
        ['pregunta' => 'Ejecutado en Quer√©taro', 'opciones' => ['Maximiliano', 'Iturbide', 'D√≠az', 'Madero'], 'correcta' => 'Maximiliano'],
        ['pregunta' => 'Porfiriato termin√≥', 'opciones' => ['1911', '1910', '1920', '1876'], 'correcta' => '1911'],
        ['pregunta' => 'Cient√≠ficos', 'opciones' => ['Asesores D√≠az', 'Revolucionarios', 'Ind√≠genas', 'Sacerdotes'], 'correcta' => 'Asesores D√≠az'],
        ['pregunta' => 'SI 2025: a√±os Reforma', 'opciones' => ['168', '200', '100', '50'], 'correcta' => '168'],
        ['pregunta' => 'M√©xico 1910', 'opciones' => ['Centenario + Revoluci√≥n', 'Independencia', 'Reforma', 'Nada'], 'correcta' => 'Centenario + Revoluci√≥n']
    ]
];

// ========================================
// MATERIA: HISTORIA DE M√âXICO
// SUBTEMA: Revoluci√≥n Mexicana (Madero, Villa, Zapata, Constituci√≥n 1917)
// ========================================
$lecciones[] = [
    'materia' => 'Historia de M√©xico',
    'slug' => 'revolucion-mexicana',
    'titulo' => 'Revoluci√≥n Mexicana: Madero, Villa, Zapata y Constituci√≥n de 1917 (1910-1920)',
    'contenido' => '
        <h3>Revoluci√≥n Mexicana (1910-1920)</h3>
        <p>Levantamiento contra la dictadura de Porfirio D√≠az. <strong>Madero</strong> ("Sufragio efectivo, no reelecci√≥n"), <strong>Zapata</strong> (tierra), <strong>Villa</strong> (norte). Culmin√≥ con <strong>Constituci√≥n de 1917</strong>: derechos laborales, educaci√≥n laica, ejidos.</p>

        <hr style="border:1px dashed #D32F2F;">

        <h4>1. Facciones y L√≠deres</h4>
        <table class="table">
            <thead>
                <tr><th>L√≠der</th><th>Lema</th><th>Regi√≥n</th><th>Destino</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Madero</strong></td><td>Sufragio efectivo</td><td>Coahuila</td><td>Asesinado 1913</td></tr>
                <tr><td><strong>Zapata</strong></td><td>Tierra y Libertad</td><td>Morelos</td><td>Asesinado 1919</td></tr>
                <tr><td><strong>Villa</strong></td><td>Justicia social</td><td>Chihuahua</td><td>Asesinado 1923</td></tr>
                <tr><td><strong>Carranza</strong></td><td>Constitucionalismo</td><td>Coahuila</td><td>Asesinado 1920</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #D32F2F;">

        <h4>2. Logros de la Constituci√≥n 1917</h4>
        <ul>
            <li><strong>Art. 3:</strong> Educaci√≥n laica, gratuita, obligatoria.</li>
            <li><strong>Art. 27:</strong> Naci√≥n due√±a subsuelo, ejidos, reforma agraria.</li>
            <li><strong>Art. 123:</strong> Jornada 8 horas, derecho huelga, salario m√≠nimo.</li>
        </ul>

        <div class="ejemplo">
            <p><strong>Plan de Ayala (28 nov 1911):</strong> Zapata exige <strong>restituci√≥n de tierras</strong> a pueblos, <strong>expropiaci√≥n</strong> a hacendados, <strong>muerte a traidores</strong>.</p>
        </div>

        <div class="visual">
            <img src="assets/img/madero-presidente.jpg" alt="Madero">
            <p><em>Presidente 1911-1913. Fuente: Wikipedia.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/zapata-plan-ayala.jpg" alt="Zapata">
            <p><em>Plan de Ayala. Fuente: Wikipedia.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/1917.png" alt="Constituci√≥n 1917">
            <p><em>5 feb 1917, Quer√©taro. Fuente: Wikipedia.</em></p>
        </div>

        <hr style="border:1px dashed #D32F2F;">

        <h4>3. SVG Animado: L√≠deres y Constituci√≥n</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <rect x="0" y="0" width="800" height="500" fill="#FFEBEE"/>

                <text x="400" y="50" fill="#B71C1C" font-size="28" text-anchor="middle" font-weight="bold">REVOLUCI√ìN MEXICANA</text>

                <!-- Madero -->
                <g id="madero" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="0.5s" dur="0.5s"/>
                    <circle cx="200" cy="150" r="50" fill="#1976D2"/>
                    <text x="200" y="155" fill="white" font-size="14" text-anchor="middle">MADERO</text>
                    <text x="200" y="180" fill="#0D47A1" font-size="10" text-anchor="middle">1910-1913</text>
                </g>

                <!-- Villa -->
                <g id="villa" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="1s" dur="0.5s"/>
                    <circle cx="400" cy="120" r="45" fill="#D32F2F"/>
                    <text x="400" y="125" fill="white" font-size="14" text-anchor="middle">VILLA</text>
                    <text x="400" y="150" fill="#B71C1C" font-size="10" text-anchor="middle">Norte</text>
                </g>

                <!-- Zapata -->
                <g id="zapata" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="1.5s" dur="0.5s"/>
                    <circle cx="400" cy="220" r="45" fill="#388E3C"/>
                    <text x="400" y="225" fill="white" font-size="14" text-anchor="middle">ZAPATA</text>
                    <text x="400" y="250" fill="#1B5E20" font-size="10" text-anchor="middle">Sur</text>
                </g>

                <!-- Constituci√≥n -->
                <g id="constitucion" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="2s" dur="0.5s"/>
                    <rect x="520" y="130" width="120" height="100" fill="#7B1FA2" rx="15"/>
                    <text x="580" y="165" fill="white" font-size="14" text-anchor="middle">CONST. 1917</text>
                    <text x="580" y="190" fill="white" font-size="10" text-anchor="middle">Art. 3, 27, 123</text>
                </g>

                <!-- Conexiones -->
                <line x1="250" y1="150" x2="355" y2="120" stroke="#1976D2" stroke-width="3"/>
                <line x1="250" y1="150" x2="355" y2="220" stroke="#1976D2" stroke-width="3"/>
                <line x1="445" y1="120" x2="520" y2="180" stroke="#D32F2F" stroke-width="3"/>
                <line x1="445" y1="220" x2="520" y2="180" stroke="#388E3C" stroke-width="3"/>

                <rect x="100" y="300" width="600" height="140" fill="#FFCDD2" rx="15"/>
                <text x="400" y="330" fill="#B71C1C" font-size="16" text-anchor="middle">10 a√±os | 1.5M muertos | 90% poblaci√≥n rural</text>
                <text x="400" y="360" fill="#C62828" font-size="14" text-anchor="middle">SI 2025: 115 a√±os del inicio</text>
                <text x="400" y="390" fill="#B71C1C" font-size="12" text-anchor="middle">20M hect√°reas repartidas (1915-1940)</text>
                <text x="400" y="415" fill="#C62828" font-size="12" text-anchor="middle">Muralismo: Rivera, Orozco, Siqueiros</text>
            </svg>
            <p><em>SVG Animado: L√≠deres y legado revolucionario.</em></p>
        </div>
    ',
    'ejercicios' => [
        ['enunciado' => 'Derroc√≥ a D√≠az', 'respuesta' => 'Madero'],
        ['enunciado' => 'Lema de Zapata', 'respuesta' => 'Tierra y Libertad'],
        ['enunciado' => 'Constituci√≥n promulgada', 'respuesta' => '5 febrero 1917'],
        ['enunciado' => 'Art√≠culo educaci√≥n laica', 'respuesta' => 'Art√≠culo 3'],
        ['enunciado' => 'Plan de Ayala', 'respuesta' => '1911'],
        ['enunciado' => 'Asesinato Madero', 'respuesta' => '1913 (Decena Tr√°gica)'],
        ['enunciado' => 'Villa regi√≥n', 'respuesta' => 'Norte (Chihuahua)'],
        ['enunciado' => 'Art√≠culo 27', 'respuesta' => 'Naci√≥n due√±a subsuelo'],
        ['enunciado' => 'Jornada laboral', 'respuesta' => '8 horas (Art. 123)'],
        ['enunciado' => 'Convenci√≥n de Aguascalientes', 'respuesta' => '1914'],
        ['enunciado' => 'Muertos estimados', 'respuesta' => '~1.5 millones'],
        ['enunciado' => 'SI: a√±os Constituci√≥n', 'respuesta' => '108']
    ],
    'quiz' => [
        ['pregunta' => 'Inicio Revoluci√≥n', 'opciones' => ['1910', '1821', '1857', '1920'], 'correcta' => '1910'],
        ['pregunta' => 'L√≠der inicial', 'opciones' => ['Madero', 'Villa', 'Zapata', 'Carranza'], 'correcta' => 'Madero'],
        ['pregunta' => 'Lema Zapata', 'opciones' => ['Tierra y Libertad', 'No reelecci√≥n', 'Orden y Progreso', 'Paz'], 'correcta' => 'Tierra y Libertad'],
        ['pregunta' => 'Constituci√≥n', 'opciones' => ['1917', '1824', '1857', '1910'], 'correcta' => '1917'],
        ['pregunta' => 'Art. 3', 'opciones' => ['Educaci√≥n laica', 'Tierra', 'Trabajo', 'Subsuelo'], 'correcta' => 'Educaci√≥n laica'],
        ['pregunta' => 'Art. 27', 'opciones' => ['Naci√≥n due√±a subsuelo', 'Educaci√≥n', 'Trabajo', 'Huelga'], 'correcta' => 'Naci√≥n due√±a subsuelo'],
        ['pregunta' => 'Art. 123', 'opciones' => ['Derechos laborales', 'Educaci√≥n', 'Tierra', 'Religi√≥n'], 'correcta' => 'Derechos laborales'],
        ['pregunta' => 'Madero asesinado', 'opciones' => ['1913', '1910', '1917', '1920'], 'correcta' => '1913'],
        ['pregunta' => 'Zapata asesinado', 'opciones' => ['1919', '1913', '1923', '1920'], 'correcta' => '1919'],
        ['pregunta' => 'SI 2025: a√±os Revoluci√≥n', 'opciones' => ['115', '100', '200', '50'], 'correcta' => '115'],

        ['pregunta' => 'Plan de San Luis', 'opciones' => ['Madero 1910', 'Zapata 1911', 'Villa 1913', 'Carranza 1913'], 'correcta' => 'Madero 1910'],
        ['pregunta' => 'Decena Tr√°gica', 'opciones' => ['1913', '1910', '1917', '1919'], 'correcta' => '1913'],
        ['pregunta' => 'Huerta presidente', 'opciones' => ['1913-1914', '1911-1913', '1917-1920', '1920-1924'], 'correcta' => '1913-1914'],
        ['pregunta' => 'Batalla de Zacatecas', 'opciones' => ['Villa 1914', 'Zapata 1911', 'Madero 1911', 'Carranza 1915'], 'correcta' => 'Villa 1914'],
        ['pregunta' => 'Convenci√≥n Aguascalientes', 'opciones' => ['1914', '1910', '1917', '1920'], 'correcta' => '1914'],
        ['pregunta' => 'Carranza presidente', 'opciones' => ['1917-1920', '1911-1913', '1913-1914', '1920-1924'], 'correcta' => '1917-1920'],
        ['pregunta' => 'Obreg√≥n presidente', 'opciones' => ['1920-1924', '1917-1920', '1913-1914', '1911-1913'], 'correcta' => '1920-1924'],
        ['pregunta' => 'Hect√°reas repartidas', 'opciones' => ['~20M (1915-1940)', '1M', '100M', '0'], 'correcta' => '~20M (1915-1940)'],
        ['pregunta' => 'Muralismo', 'opciones' => ['Rivera, Orozco', 'Picasso', 'Dal√≠', 'Van Gogh'], 'correcta' => 'Rivera, Orozco'],
        ['pregunta' => 'SI 2025: ejidos activos', 'opciones' => ['~30,000', '100', '1M', '0'], 'correcta' => '~30,000'],

        ['pregunta' => 'Tierra y Libertad', 'opciones' => ['Plan de Ayala', 'Plan de San Luis', 'Plan de Guadalupe', 'Constituci√≥n'], 'correcta' => 'Plan de Ayala'],
        ['pregunta' => 'Divisi√≥n del Norte', 'opciones' => ['Villa', 'Zapata', 'Madero', 'Carranza'], 'correcta' => 'Villa'],
        ['pregunta' => 'Ej√©rcito Libertador Sur', 'opciones' => ['Zapata', 'Villa', 'Madero', 'Obreg√≥n'], 'correcta' => 'Zapata'],
        ['pregunta' => 'Constituyente en', 'opciones' => ['Quer√©taro', 'CDMX', 'Guadalajara', 'Monterrey'], 'correcta' => 'Quer√©taro'],
        ['pregunta' => '5 de febrero', 'opciones' => ['1917', '1910', '1920', '1810'], 'correcta' => '1917'],
        ['pregunta' => 'Cristeros', 'opciones' => ['1926-1929', '1910-1920', '1857', '1867'], 'correcta' => '1926-1929'],
        ['pregunta' => 'Calles presidente', 'opciones' => ['1924-1928', '1920-1924', '1917-1920', '1913-1914'], 'correcta' => '1924-1928'],
        ['pregunta' => 'PNR fundado', 'opciones' => ['1929', '1917', '1910', '1946'], 'correcta' => '1929'],
        ['pregunta' => 'SI 2025: a√±os Constituci√≥n', 'opciones' => ['108', '100', '115', '200'], 'correcta' => '108'],
        ['pregunta' => 'Revoluci√≥n fue', 'opciones' => ['Social y agraria', 'Solo pol√≠tica', 'Industrial', 'Religiosa'], 'correcta' => 'Social y agraria']
    ]
];
// ========================================
// MATERIA: HISTORIA DE M√âXICO
// SUBTEMA: M√©xico Contempor√°neo (Cardenismo, Milagro Mexicano, 1968, 2000)
// ========================================
$lecciones[] = [
    'materia' => 'Historia de M√©xico',
    'slug' => 'mexico-contemporaneo',
    'titulo' => 'M√©xico Contempor√°neo: Cardenismo, Milagro Mexicano, 1968 y Alternancia 2000 (1934-2000)',
    'contenido' => '
        <h3>M√©xico Contempor√°neo (1934-2000)</h3>
        <p>Etapa posrevolucionaria: <strong>Cardenismo</strong> (reforma agraria, nacionalismo), <strong>Milagro Mexicano</strong> (crecimiento 6% anual), <strong>68</strong> (represi√≥n estudiantil), <strong>2000</strong> (fin del PRI hegem√≥nico).</p>

        <hr style="border:1px dashed #2E7D32;">

        <h4>1. Hitos Clave</h4>
        <table class="table">
            <thead>
                <tr><th>A√±o</th><th>Evento</th><th>Impacto</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>1938</strong></td><td>Expropiaci√≥n petrolera</td><td>Nace PEMEX</td></tr>
                <tr><td><strong>1940-1970</strong></td><td>Milagro Mexicano</td><td>Industrializaci√≥n, PIB ‚Üë6%</td></tr>
                <tr><td><strong>1968</strong></td><td>Tlatelolco</td><td>~300 muertos, censura</td></tr>
                <tr><td><strong>2000</strong></td><td>Fox gana</td><td>Alternancia democr√°tica</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #2E7D32;">

        <h4>2. Legado</h4>
        <ul>
            <li><strong>Cardenismo:</strong> 18M hect√°reas repartidas, sindicatos fuertes.</li>
            <li><strong>Milagro:</strong> Urbanizaci√≥n, clase media, carreteras.</li>
            <li><strong>68:</strong> Despertar pol√≠tico, fin del "desarrollo estabilizador".</li>
            <li><strong>2000:</strong> INE, transparencia, multipartidismo.</li>
        </ul>

        <div class="ejemplo">
            <p><strong>18 de marzo 1938:</strong> C√°rdenas anuncia expropiaci√≥n. <strong>17 empresas extranjeras</strong> ‚Üí <strong>PEMEX</strong>. Apoyo popular masivo.</p>
        </div>

        <div class="visual">
            <img src="assets/img/lazaro.jpg" alt="L√°zaro C√°rdenas">
            <p><em>Presidente 1934-1940. Fuente: Wikipedia.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/tlatelolco.jpg" alt="Tlatelolco 1968">
            <p><em>2 oct 1968. Fuente: Wikipedia.</em></p>
        </div>

        <div class="visual">
            <img src="/assets/img/vicente-fox.jpeg" alt="Vicente Fox">
            <p><em>PAN gana en 2000. Fuente: Wikipedia.</em></p>
        </div>

        <hr style="border:1px dashed #2E7D32;">

        <h4>3. SVG Animado: Hitos del M√©xico Contempor√°neo</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                <rect x="0" y="0" width="800" height="500" fill="#E8F5E9"/>

                <text x="400" y="50" fill="#1B5E20" font-size="28" text-anchor="middle" font-weight="bold">M√âXICO CONTEMPOR√ÅNEO</text>

                <!-- PEMEX -->
                <g id="pemex" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="0.5s" dur="0.5s"/>
                    <circle cx="150" cy="150" r="30" fill="#43A047"/>
                    <text x="150" y="130" fill="#1B5E20" font-size="14" text-anchor="middle">PEMEX</text>
                    <text x="150" y="175" fill="#1B5E20" font-size="12" text-anchor="middle">18 Mar 1938</text>
                </g>

                <!-- Milagro -->
                <g id="milagro" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="1s" dur="0.5s"/>
                    <rect x="250" y="100" width="140" height="100" fill="#1976D2" rx="15"/>
                    <text x="320" y="135" fill="white" font-size="14" text-anchor="middle">MILAGRO</text>
                    <text x="320" y="160" fill="white" font-size="12" text-anchor="middle">1940-1970</text>
                    <text x="320" y="185" fill="white" font-size="10" text-anchor="middle">6% anual</text>
                </g>

                <!-- Tlatelolco -->
                <g id="tlatelolco" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="1.5s" dur="0.5s"/>
                    <circle cx="500" cy="150" r="35" fill="#D32F2F"/>
                    <text x="500" y="125" fill="#B71C1C" font-size="14" text-anchor="middle">TLATELOLCO</text>
                    <text x="500" y="180" fill="#B71C1C" font-size="12" text-anchor="middle">2 Oct 1968</text>
                </g>

                <!-- Alternancia -->
                <g id="alternancia" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="2s" dur="0.5s"/>
                    <rect x="600" y="110" width="120" height="80" fill="#7B1FA2" rx="15"/>
                    <text x="660" y="140" fill="white" font-size="14" text-anchor="middle">2000</text>
                    <text x="660" y="165" fill="white" font-size="12" text-anchor="middle">FOX (PAN)</text>
                </g>

                <rect x="100" y="250" width="600" height="200" fill="#C8E6C9" rx="15"/>
                <text x="400" y="280" fill="#1B5E20" font-size="16" text-anchor="middle">18M ha repartidas | 6% PIB | ~300 muertos | 71 a√±os PRI</text>
                <text x="400" y="310" fill="#2E7D32" font-size="14" text-anchor="middle">SI 2025: 87 a√±os de PEMEX</text>
                <text x="400" y="340" fill="#1B5E20" font-size="12" text-anchor="middle">INEGI: poblaci√≥n 1940: 20M ‚Üí 1970: 50M</text>
                <text x="400" y="370" fill="#2E7D32" font-size="12" text-anchor="middle">2000: 58% vot√≥, PRI 36%</text>
                <text x="400" y="400" fill="#1B5E20" font-size="12" text-anchor="middle">IFE ‚Üí INE (2014)</text>
                <text x="400" y="425" fill="#2E7D32" font-size="12" text-anchor="middle">68: apertura pol√≠tica lenta</text>
            </svg>
            <p><em>SVG Animado: De la nacionalizaci√≥n a la democracia.</em></p>
        </div>
    ',
    'ejercicios' => [
        ['enunciado' => 'Expropiaci√≥n petrolera', 'respuesta' => '18 marzo 1938'],
        ['enunciado' => 'Presidente Cardenismo', 'respuesta' => 'L√°zaro C√°rdenas'],
        ['enunciado' => 'Milagro Mexicano', 'respuesta' => '1940-1970'],
        ['enunciado' => 'Crecimiento anual promedio', 'respuesta' => '~6%'],
        ['enunciado' => 'Masacre estudiantil', 'respuesta' => '2 octubre 1968'],
        ['enunciado' => 'Lugar de Tlatelolco', 'respuesta' => 'CDMX'],
        ['enunciado' => 'Primer presidente no PRI', 'respuesta' => 'Vicente Fox'],
        ['enunciado' => 'Partido de Fox', 'respuesta' => 'PAN'],
        ['enunciado' => 'Hect√°reas repartidas C√°rdenas', 'respuesta' => '18 millones'],
        ['enunciado' => 'Empresa creada 1938', 'respuesta' => 'PEMEX'],
        ['enunciado' => 'Poblaci√≥n 1970', 'respuesta' => '~50 millones'],
        ['enunciado' => 'SI: a√±os alternancia', 'respuesta' => '25']
    ],
    'quiz' => [
        ['pregunta' => 'Expropiaci√≥n', 'opciones' => ['1938', '1917', '1968', '2000'], 'correcta' => '1938'],
        ['pregunta' => 'C√°rdenas reparti√≥', 'opciones' => ['18M ha', '1M', '100M', '0'], 'correcta' => '18M ha'],
        ['pregunta' => 'Milagro Mexicano', 'opciones' => ['1940-1970', '1930-1940', '1970-2000', '2000-2025'], 'correcta' => '1940-1970'],
        ['pregunta' => 'Crecimiento PIB', 'opciones' => ['~6%', '1%', '10%', '0%'], 'correcta' => '~6%'],
        ['pregunta' => 'Tlatelolco', 'opciones' => ['2 Oct 1968', '18 Mar 1938', '2 Jul 2000', '5 Feb 1917'], 'correcta' => '2 Oct 1968'],
        ['pregunta' => 'Muertos 68', 'opciones' => ['~300', '30', '3,000', '0'], 'correcta' => '~300'],
        ['pregunta' => 'Alternancia', 'opciones' => ['2000', '1968', '1938', '1910'], 'correcta' => '2000'],
        ['pregunta' => 'Fox partido', 'opciones' => ['PAN', 'PRI', 'PRD', 'MORENA'], 'correcta' => 'PAN'],
        ['pregunta' => 'PEMEX significa', 'opciones' => ['Petr√≥leos Mexicanos', 'Poder Ejecutivo', 'Partido Mexicano', 'Nada'], 'correcta' => 'Petr√≥leos Mexicanos'],
        ['pregunta' => 'SI 2025: a√±os PEMEX', 'opciones' => ['87', '100', '50', '25'], 'correcta' => '87'],

        ['pregunta' => 'C√°rdenas cre√≥', 'opciones' => ['PEMEX', 'INE', 'CFE', 'IMSS'], 'correcta' => 'PEMEX'],
        ['pregunta' => 'Milagro basado en', 'opciones' => ['ISI', 'Neoliberalismo', 'Comunismo', 'Nada'], 'correcta' => 'ISI'],
        ['pregunta' => '68 antes de', 'opciones' => ['Juegos Ol√≠mpicos', 'Mundial 70', 'Independencia', 'Reforma'], 'correcta' => 'Juegos Ol√≠mpicos'],
        ['pregunta' => 'PRI gobern√≥', 'opciones' => ['71 a√±os', '20', '100', '10'], 'correcta' => '71 a√±os'],
        ['pregunta' => '2000 votaci√≥n', 'opciones' => ['58%', '30%', '80%', '10%'], 'correcta' => '58%'],
        ['pregunta' => 'IFE fundado', 'opciones' => ['1990', '1938', '1968', '2000'], 'correcta' => '1990'],
        ['pregunta' => 'INE desde', 'opciones' => ['2014', '2000', '1990', '1968'], 'correcta' => '2014'],
        ['pregunta' => 'Poblaci√≥n 1940', 'opciones' => ['~20M', '50M', '100M', '10M'], 'correcta' => '~20M'],
        ['pregunta' => 'Poblaci√≥n 1970', 'opciones' => ['~50M', '20M', '100M', '10M'], 'correcta' => '~50M'],
        ['pregunta' => 'SI 2025: a√±os Tlatelolco', 'opciones' => ['57', '50', '60', '70'], 'correcta' => '57'],

        ['pregunta' => 'C√°rdenas sindicato', 'opciones' => ['CTM', 'SNTMMRM', 'SNTE', 'CFE'], 'correcta' => 'CTM'],
        ['pregunta' => 'Milagro termin√≥ con', 'opciones' => ['Crisis 1970s', '68', '2000', '1938'], 'correcta' => 'Crisis 1970s'],
        ['pregunta' => '68 l√≠der estudiantil', 'opciones' => ['CNH', 'PRI', 'PAN', 'UNAM'], 'correcta' => 'CNH'],
        ['pregunta' => '2000 candidato PRI', 'opciones' => ['Labastida', 'Fox', 'C√°rdenas', 'Madrazo'], 'correcta' => 'Labastida'],
        ['pregunta' => 'Fox campa√±a', 'opciones' => ['¬°Ya!', 'S√≠ se puede', 'Vive M√©xico', 'Cambio'], 'correcta' => '¬°Ya!'],
        ['pregunta' => 'PEMEX exporta', 'opciones' => ['Crudo', 'Gasolina', 'Electricidad', 'Nada'], 'correcta' => 'Crudo'],
        ['pregunta' => 'Milagro: carreteras', 'opciones' => ['15,000 km', '1,000', '100,000', '0'], 'correcta' => '15,000 km'],
        ['pregunta' => '68: Batall√≥n Olimpia', 'opciones' => ['Represi√≥n', 'Deporte', 'Paz', 'Nada'], 'correcta' => 'Represi√≥n'],
        ['pregunta' => 'SI 2025: alternancia', 'opciones' => ['25 a√±os', '10', '50', '71'], 'correcta' => '25 a√±os'],
        ['pregunta' => 'M√©xico 2000', 'opciones' => ['Democracia plena', 'Dictadura', 'Monarqu√≠a', 'Colonia'], 'correcta' => 'Democracia plena']
    ]
];
// ========================================
// MATERIA: PROGRAMACI√ìN
// SUBTEMA: Bases de Datos Relacionales (SQL, Relaciones, Conceptos, Ejercicios)
// ========================================
$lecciones[] = [
    'materia' => 'Programaci√≥n',
    'slug' => 'bases-datos-relacionales',
    'titulo' => 'Bases de Datos Relacionales: SQL, Relaciones, Normalizaci√≥n y Simuladores Interactivos',
    'contenido' => '
        <h3>Bases de Datos Relacionales: El Poder de SQL</h3>
        <p>Organizan datos en <strong>tablas</strong> relacionadas mediante <strong>claves</strong>. SQL permite <strong>crear, leer, actualizar y eliminar</strong> datos (CRUD). Conceptos clave: <strong>PK</strong> (√∫nica), <strong>FK</strong> (referencia), <strong>relaciones</strong> (1:1, 1:N, N:N), <strong>normalizaci√≥n</strong> (1NF-3NF), <strong>JOIN</strong>.</p>

        <hr style="border:1px dashed #1976D2;">

        <h4>1. Estructura de Tablas</h4>
        <table class="table">
            <thead>
                <tr><th>Concepto</th><th>Descripci√≥n</th><th>Ejemplo</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Tabla</strong></td><td>Conjunto de filas y columnas</td><td><code>usuarios</code></td></tr>
                <tr><td><strong>PK</strong></td><td>Clave primaria (√∫nica)</td><td><code>id INT PRIMARY KEY</code></td></tr>
                <tr><td><strong>FK</strong></td><td>Clave extranjera</td><td><code>user_id INT REFERENCES usuarios(id)</code></td></tr>
                <tr><td><strong>Relaci√≥n 1:N</strong></td><td>Un usuario ‚Üí muchos pedidos</td><td>FK en <code>pedidos</code></td></tr>
                <tr><td><strong>Relaci√≥n N:N</strong></td><td>Tabla intermedia</td><td><code>usuarios_productos</code></td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #1976D2;">

        <h4>2. Simulador SQL Interactivo (Ahora S√ç es √©pico)</h4>
<div class="simulador-sql">
    <p><strong>Prueba tu SQL en tiempo real (soporta SELECT, WHERE, JOIN, ORDER BY, LIMIT):</strong></p>
    <div class="sql-editor">
        <textarea id="sql-input" placeholder="Escribe tu consulta SQL aqu√≠...
Ejemplos:
SELECT * FROM usuarios;
SELECT nombre FROM usuarios WHERE id = 1;
SELECT u.nombre, p.producto FROM usuarios u JOIN pedidos p ON u.id = p.usuario_id;" rows="6">SELECT * FROM usuarios;</textarea>
        <div class="sql-buttons">
            <button class="btn-small btn-play" onclick="ejecutarSQL()">Ejecutar</button>
            <button class="btn-small btn-repeat" onclick="limpiarSQL()">Limpiar</button>
        </div>
    </div>
    <div id="sql-output" class="sql-result"></div>
    
    <script>
        const db = {
            usuarios: [
                {id: 1, nombre: "Ana", email: "ana@mail.com"},
                {id: 2, nombre: "Luis", email: "luis@mail.com"},
                {id: 3, nombre: "Mar√≠a", email: "maria@mail.com"}
            ],
            pedidos: [
                {id: 101, usuario_id: 1, producto: "Laptop", precio: 15000},
                {id: 102, usuario_id: 1, producto: "Mouse", precio: 250},
                {id: 103, usuario_id: 2, producto: "Teclado", precio: 800},
                {id: 104, usuario_id: 3, producto: "Monitor", precio: 5000}
            ]
        };

        function ejecutarSQL() {
            let query = document.getElementById("sql-input").value.trim();
            const output = document.getElementById("sql-output");
            output.innerHTML = "";

            if (!query) {
                mostrarError("Escribe una consulta SQL");
                return;
            }

            query = query.toUpperCase().replace(/;.*/g, ""); // Quita todo despu√©s de ;

            try {
                let resultado = [];

                // SELECT * FROM tabla
                if (/^SELECT\s+\*\s+FROM\s+(USUARIOS|PEDIDOS)/i.test(query)) {
                    const tabla = query.includes("USUARIOS") ? "usuarios" : "pedidos";
                    resultado = db[tabla];

                // SELECT columnas FROM tabla
                } else if (/^SELECT\s+(.+?)\s+FROM\s+(USUARIOS|PEDIDOS)/i.test(query)) {
                    const match = query.match(/^SELECT\s+(.+?)\s+FROM\s+(USUARIOS|PEDIDOS)/i);
                    const columnas = match[1].split(",").map(c => c.trim().toLowerCase());
                    const tabla = match[2].toLowerCase();
                    resultado = db[tabla].map(row => {
                        let obj = {};
                        columnas.forEach(col => obj[col] = row[col] || null);
                        return obj;
                    });

                // JOIN b√°sico
                } else if (query.includes("JOIN")) {
                    resultado = db.pedidos.map(p => {
                        const u = db.usuarios.find(u => u.id === p.usuario_id);
                        return {
                            nombre: u?.nombre || "Desconocido",
                            email: u?.email || "-",
                            producto: p.producto,
                            precio: p.precio
                        };
                    });

                // WHERE simple
                } else if (query.includes("WHERE")) {
                    if (query.includes("USUARIOS")) {
                        const id = parseInt(query.match(/ID\s*=\s*(\d+)/i)?.[1]);
                        resultado = db.usuarios.filter(u => u.id === id);
                    }
                }

                // ORDER BY y LIMIT
                if (query.includes("ORDER BY") && resultado.length > 0) {
                    const orden = query.includes("DESC") ? -1 : 1;
                    resultado.sort((a, b) => (a[Object.keys(a)[0]] > b[Object.keys(a)[0]] ? orden : -orden));
                }
                if (query.includes("LIMIT")) {
                    const limite = parseInt(query.match(/LIMIT\s+(\d+)/i)?.[1]) || 10;
                    resultado = resultado.slice(0, limite);
                }

                if (resultado.length === 0) {
                    mostrarInfo("Consulta v√°lida, pero no hay resultados");
                } else {
                    mostrarTabla(resultado);
                }

            } catch (e) {
                mostrarError("Error de sintaxis SQL o consulta no soportada a√∫n");
            }
        }

        function mostrarTabla(data) {
            if (data.length === 0) return;
            let cols = Object.keys(data[0]);
            let html = `<table class="sql-table"><thead><tr>`;
            cols.forEach(c => html += `<th>${c.toUpperCase()}</th>`);
            html += `</tr></thead><tbody>`;
            data.forEach(row => {
                html += "<tr>";
                cols.forEach(c => html += `<td>${row[c] !== undefined ? row[c] : ""}</td>`);
                html += "</tr>";
            });
            html += "</tbody></table>";
            document.getElementById("sql-output").innerHTML = html;
        }

        function mostrarError(msg) {
            document.getElementById("sql-output").innerHTML = 
                `<p class="sql-error">ERROR: ${msg}</p>`;
        }
        function mostrarInfo(msg) {
            document.getElementById("sql-output").innerHTML = 
                `<p class="sql-info">${msg}</p>`;
        }
        function limpiarSQL() {
            document.getElementById("sql-input").value = "SELECT * FROM usuarios;";
            document.getElementById("sql-output").innerHTML = "";
        }
    </script>
        <p><em>Tip: Prueba JOIN, WHERE id=1, ORDER BY precio DESC, LIMIT 2...</em></p>
    </div>

        <hr style="border:1px dashed #1976D2;">

        <h4>3. Reto de C√≥digo: Crea tu BD</h4>
        <div class="reto-codigo">
            <p><strong>Desaf√≠o:</strong> Escribe el SQL para crear estas tablas relacionadas:</p>
            <ul>
                <li><code>clientes (id, nombre, email)</code></li>
                <li><code>facturas (id, cliente_id, total, fecha)</code> ‚Üí Relaci√≥n 1:N</li>
            </ul>
            <details>
                <summary>Ver soluci√≥n</summary>
                <pre><code>
CREATE TABLE clientes (
    id INT PRIMARY KEY AUTO_INCREMENT,
    nombre VARCHAR(100),
    email VARCHAR(100) UNIQUE
);

CREATE TABLE facturas (
    id INT PRIMARY KEY AUTO_INCREMENT,
    cliente_id INT,
    total DECIMAL(10,2),
    fecha DATE,
    FOREIGN KEY (cliente_id) REFERENCES clientes(id)
);
                </code></pre>
            </details>
        </div>

        <div class="visual">
            <img src="assets/img/diagrama-er.PNG" alt="Diagrama ER">
            <p><em>Diagrama de Entidad-Relaci√≥n. Fuente: Datensen.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/diagrama-sql-server.png" alt="Diagrama SSMS">
            <p><em>Diagrama en SQL Server. Fuente: Dataedo.</em></p>
        </div>

        <hr style="border:1px dashed #1976D2;">

        <h4>4. Diagrama ER Animado (Relaci√≥n 1:N)</h4>
    <div class="svg-diagram">
        <svg viewBox="0 0 900 600" xmlns="http://www.w3.org/2000/svg" class="er-diagram">
            <defs>
                <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" stop-color="#0a0022"/>
                    <stop offset="100%" stop-color="#000011"/>
                </linearGradient>
                <marker id="arrow" markerWidth="12" markerHeight="12" refX="10" refY="3" orient="auto">
                    <path d="M0,0 L0,6 L10,3 z" fill="#00ffff"/>
                </marker>
            </defs>

            <rect width="900" height="600" fill="url(#bgGrad)"/>

            <g transform="translate(100,150)">
                <rect width="250" height="180" rx="20" fill="#2196F3" stroke="#00ffff" stroke-width="4"/>
                <text x="125"Y y="40" fill="#fff" font-family="\'Press Start 2P\'" font-size="18" text-anchor="middle">USUARIOS</text>
                <text x="125" y="80" fill="#BBDEFB" font-size="14" text-anchor="middle">id (PK)</text>
                <text x="125" y="110" fill="#BBDEFB" font-size="14" text-anchor="middle">nombre</text>
                <text x="125" y="140" fill="#BBDEFB" font-size="14" text-anchor="middle">email</text>
                <animate attributeName="opacity" from="0" to="1" dur="0.8s" begin="0.2s" fill="freeze"/>
            </g>

            <g transform="translate(550,150)">
                <rect width="250" height="220" rx="20" fill="#4CAF50" stroke="#00ff00" stroke-width="4"/>
                <text x="125" y="40" fill="#fff" font-family="\'Press Start 2P\'" font-size="18" text-anchor="middle">PEDIDOS</text>
                <text x="125" y="80" fill="#C8E6C9" font-size="14" text-anchor="middle">id (PK)</text>
                <text x="125" y="110" fill="#C8E6C9" font-size="14" text-anchor="middle">usuario_id (FK)</text>
                <text x="125" y="140" fill="#C8E6C9" font-size="14" text-anchor="middle">producto</text>
                <text x="125" y="170" fill="#C8E6C9" font-size="14" text-anchor="middle">precio</text>
                <animate attributeName="opacity" from="0" to="1" dur="0.8s" begin="0.8s" fill="freeze"/>
            </g>

            <path d="M350,240 Q450,240 450,240 Q550,240 550,240" fill="none" stroke="#00ffff" stroke-width="6" marker-end="url(#arrow)">
                <animate attributeName="stroke-dashoffset" from="1000" to="0" dur="2s" begin="1.5s" fill="freeze"/>
                <set attributeName="stroke-dasharray" to="10,10" begin="1.5s"/>
            </path>

            <text x="450" y="200" fill="#ff00ff" font-family="\'Press Start 2P\'" font-size="24" text-anchor="middle">
                <tspan>1</tspan><tspan fill="#00ffff">:</tspan><tspan>N</tspan>
            </text>

            <text x="450" y="500" fill="#00ff00" font-size="20" text-anchor="middle" font-family="\'Press Start 2P\'">UN USUARIO ‚Üí MUCHOS PEDIDOS</text>
            <text x="450" y="540" fill="#ffcc00" font-size="14" text-anchor="middle">LC-Advance</text>
        </svg>
    </div>

        <div class="ejemplo">
            <h4>Ejemplo JOIN:</h4>
            <pre><code>
SELECT u.nombre, p.producto 
FROM usuarios u 
JOIN pedidos p ON u.id = p.usuario_id;
            </code></pre>
        </div>
    ',
    'ejercicios' => [
        ['enunciado' => 'SELECT todos los usuarios', 'respuesta' => 'SELECT * FROM usuarios;'],
        ['enunciado' => '¬øQu√© es PK?', 'respuesta' => 'Clave primaria: valor √∫nico por fila'],
        ['enunciado' => 'Relaci√≥n N:N necesita...', 'respuesta' => 'Tabla intermedia con dos FK'],
        ['enunciado' => 'JOIN b√°sico', 'respuesta' => 'SELECT * FROM A JOIN B ON A.id = B.a_id;'],
        ['enunciado' => 'Crear tabla con FK', 'respuesta' => 'FOREIGN KEY (col) REFERENCES tabla(pk)'],
        ['enunciado' => 'Normalizaci√≥n 1NF', 'respuesta' => 'Sin valores repetidos en columna'],
        ['enunciado' => 'INSERT ejemplo', 'respuesta' => 'INSERT INTO usuarios (nombre) VALUES (\'Ana\');'],
        ['enunciado' => 'WHERE filtra', 'respuesta' => 'WHERE id = 1'],
        ['enunciado' => 'ORDER BY ordena', 'respuesta' => 'ORDER BY nombre ASC'],
        ['enunciado' => 'COUNT cuenta', 'respuesta' => 'SELECT COUNT(*) FROM pedidos;'],
        ['enunciado' => 'INNER JOIN devuelve', 'respuesta' => 'Solo coincidencias'],
        ['enunciado' => 'SI: % de BD relacionales', 'respuesta' => '~80%']
    ],
    'quiz' => [
        ['pregunta' => 'SQL significa', 'opciones' => ['Structured Query Language', 'Simple Query', 'Standard Query', 'Sequential'], 'correcta' => 'Structured Query Language'],
        ['pregunta' => 'PK es', 'opciones' => ['√önica por fila', 'Repetible', 'Opcional', 'Texto'], 'correcta' => '√önica por fila'],
        ['pregunta' => 'FK referencia', 'opciones' => ['PK de otra tabla', 'Cualquier campo', '√çndice', 'Nada'], 'correcta' => 'PK de otra tabla'],
        ['pregunta' => '1:N ejemplo', 'opciones' => ['Usuario ‚Üí Pedidos', 'Persona ‚Üí Pasaporte', 'Amigos', 'Nada'], 'correcta' => 'Usuario ‚Üí Pedidos'],
        ['pregunta' => 'N:N requiere', 'opciones' => ['Tabla intermedia', 'Una tabla', 'Ninguna', 'JSON'], 'correcta' => 'Tabla intermedia'],
        ['pregunta' => 'Normalizaci√≥n evita', 'opciones' => ['Redundancia', 'Datos', 'Tablas', 'Nada'], 'correcta' => 'Redundancia'],
        ['pregunta' => 'JOIN une', 'opciones' => ['Tablas por clave com√∫n', 'Todo', 'Nada', 'Solo PK'], 'correcta' => 'Tablas por clave com√∫n'],
        ['pregunta' => 'SELECT * FROM', 'opciones' => ['Todos los datos', 'Una fila', 'Nada', 'Error'], 'correcta' => 'Todos los datos'],
        ['pregunta' => 'WHERE filtra', 'opciones' => ['Filas', 'Columnas', 'Tablas', 'BD'], 'correcta' => 'Filas'],
        ['pregunta' => 'ORDER BY', 'opciones' => ['Ordena resultados', 'Filtra', 'Crea', 'Elimina'], 'correcta' => 'Ordena resultados'],

        ['pregunta' => 'CREATE TABLE', 'opciones' => ['Define estructura', 'Inserta', 'Selecciona', 'Elimina'], 'correcta' => 'Define estructura'],
        ['pregunta' => 'INSERT INTO', 'opciones' => ['Agrega fila', 'Selecciona', 'Actualiza', 'Elimina'], 'correcta' => 'Agrega fila'],
        ['pregunta' => 'UPDATE modifica', 'opciones' => ['Datos existentes', 'Estructura', 'Tabla', 'BD'], 'correcta' => 'Datos existentes'],
        ['pregunta' => 'DELETE FROM', 'opciones' => ['Elimina filas', 'Tablas', 'Columnas', 'BD'], 'correcta' => 'Elimina filas'],
        ['pregunta' => 'INNER JOIN', 'opciones' => ['Solo coincidencias', 'Todo', 'Izquierda', 'Derecha'], 'correcta' => 'Solo coincidencias'],
        ['pregunta' => 'LEFT JOIN', 'opciones' => ['Todo de izquierda', 'Solo coincidencias', 'Derecha', 'Nada'], 'correcta' => 'Todo de izquierda'],
        ['pregunta' => 'COUNT(*)', 'opciones' => ['Cuenta filas', 'Suma', 'Promedio', 'M√°ximo'], 'correcta' => 'Cuenta filas'],
        ['pregunta' => 'GROUP BY', 'opciones' => ['Agrupa resultados', 'Ordena', 'Filtra', 'Une'], 'correcta' => 'Agrupa resultados'],
        ['pregunta' => 'HAVING filtra', 'opciones' => ['Grupos', 'Filas', 'Tablas', 'Columnas'], 'correcta' => 'Grupos'],
        ['pregunta' => 'SI 2025: BD m√°s usada', 'opciones' => ['MySQL', 'MongoDB', 'Redis', 'Excel'], 'correcta' => 'MySQL'],

        ['pregunta' => 'INDEX acelera', 'opciones' => ['B√∫squedas', 'Inserciones', 'Todo', 'Nada'], 'correcta' => 'B√∫squedas'],
        ['pregunta' => 'AUTO_INCREMENT', 'opciones' => ['ID autom√°tico', 'Manual', 'Texto', 'Fecha'], 'correcta' => 'ID autom√°tico'],
        ['pregunta' => 'UNIQUE', 'opciones' => ['Valor no repetido', 'Repetible', 'Nulo', 'PK'], 'correcta' => 'Valor no repetido'],
        ['pregunta' => 'NOT NULL', 'opciones' => ['Campo obligatorio', 'Opcional', 'PK', 'FK'], 'correcta' => 'Campo obligatorio'],
        ['pregunta' => 'VARCHAR(255)', 'opciones' => ['Texto hasta 255', 'N√∫mero', 'Fecha', 'Booleano'], 'correcta' => 'Texto hasta 255'],
        ['pregunta' => 'INT', 'opciones' => ['Entero', 'Decimal', 'Texto', 'Fecha'], 'correcta' => 'Entero'],
        ['pregunta' => 'DECIMAL(10,2)', 'opciones' => ['10 d√≠gitos, 2 decimales', 'Entero', 'Texto', 'Fecha'], 'correcta' => '10 d√≠gitos, 2 decimales'],
        ['pregunta' => 'DATE', 'opciones' => ['Fecha', 'Hora', 'Texto', 'N√∫mero'], 'correcta' => 'Fecha'],
        ['pregunta' => 'SI 2025: PostgreSQL crece', 'opciones' => ['+30% anual', '0%', '-10%', 'Estable'], 'correcta' => '+30% anual'],
        ['pregunta' => 'Transacci√≥n ACID', 'opciones' => ['Atomicidad, Consistencia...', 'Velocidad', 'Seguridad', 'Nada'], 'correcta' => 'Atomicidad, Consistencia...']
    ]
];
// ========================================
// MATERIA: PROGRAMACI√ìN
// SUBTEMA: Python + SQLite
// ========================================
$lecciones[] = [
    'materia' => 'Programaci√≥n',
    'slug' => 'python-sqlite',
    'titulo' => 'Python + SQLite: Bases de Datos en el Navegador',
    'contenido' => <<<HTML
<h3>Python + SQLite: Desarrollo Serverless en el Navegador</h3>
<p>Aprende a usar <strong>Python</strong> con <strong>SQLite</strong> directamente en tu navegador usando <strong>Pyodide</strong>. Sin instalaci√≥n. Sin servidor. Solo c√≥digo.</p>

<hr style="border:1px dashed #00bcd4;">

<h4>Simulador Interactivo Python + SQLite</h4>
<div class="simulador-python">
    <p><strong>Ejecuta c√≥digo Python + SQLite real aqu√≠ mismo</strong></p>
    <div class="python-editor">
        <textarea id="python-code" rows="18"># LC-Advance - Simulador Python + SQLite
import sqlite3

print("SQLite versi√≥n:", sqlite3.sqlite_version)
print("¬°Python + SQLite funcionando 100% en tu navegador!\\n")

# Base de datos en memoria
conn = sqlite3.connect(':memory:')
c = conn.cursor()

# Crear tabla
c.execute('''CREATE TABLE usuarios (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    nombre TEXT NOT NULL,
    edad INTEGER,
    nivel TEXT
)''')

# Datos de ejemplo
usuarios = [
    ("Ana Torres", 17, "Avanzado"),
    ("Luis Ram√≠rez", 18, "Intermedio"),
    ("Sof√≠a Mendoza", 16, "Principiante"),
    ("Marco Vargas", 19, "Avanzado"),
    ("Valeria Castro", 17, "Avanzado")
]

c.executemany("INSERT INTO usuarios (nombre, edad, nivel) VALUES (?, ?, ?)", usuarios)
conn.commit()

print("USUARIOS REGISTRADOS:")
print("=" * 60)
c.execute("SELECT * FROM usuarios ORDER BY id")
for fila in c.fetchall():
    print(f"ID: {fila[0]} | {fila[1]:15} | Edad: {fila[2]:2} | Nivel: {fila[3]}")

print("\\nUsuarios nivel Avanzado:")
c.execute("SELECT nombre, edad FROM usuarios WHERE nivel = 'Avanzado'")
for fila in c.fetchall():
    print(f"   {fila[0]} ({fila[1]} a√±os)")

print(f"\\nEdad promedio: ", end="")
c.execute("SELECT AVG(edad) FROM usuarios")
print(f"{c.fetchone()[0]:.1f} a√±os")

conn.close()
print("\\nLC-Advance - ¬°Simulaci√≥n completada con √©xito!")
</textarea>

        <div class="python-buttons">
            <button class="btn-small btn-play" onclick="runPython()">Ejecutar C√≥digo</button>
            <button class="btn-small btn-reset" onclick="resetCode()">Restaurar c√≥digo</button>
            <button class="btn-small btn-clear" onclick="clearOutput()">Limpiar salida</button>
        </div>
    </div>

    <div id="python-output" class="python-result">
        <p style="color:#00bcd4; font-weight:bold;">Cargando LC-Advance Python Engine... (8-12 seg la primera vez)</p>
    </div>
</div>

<!-- Pyodide -->
<script src="https://cdn.jsdelivr.net/pyodide/v0.26.1/full/pyodide.js"></script>

<script>
let pyodide = null;

async function initPyodide() {
    const output = document.getElementById("python-output");
    output.innerHTML = "<p style='color:#00bcd4;'>Inicializando entorno Python + SQLite...</p>";

    try {
        pyodide = await loadPyodide();
        await pyodide.loadPackage("sqlite3");

        output.innerHTML =
            '<pre style="background:#000; color:#00ff88; padding:20px; border:2px solid #00bcd4; border-radius:8px; font-family:monospace;">' +
            '   _      ____      _    _            _   _ \\n' +
            '  | |    / __ \\\\    | |  | |          | \\\\ | |\\n' +
            '  | |   | |  | |   | |  | |          |  \\\\| |\\n' +
            '  | |   | |  | |   | |  | |          | . ` |\\n' +
            '  | |___| |__| |   | |__| |          | |\\\\  |\\n' +
            '  |______\\\\____/     \\\\____/           |_| \\\\_|\\n\\n' +
            '  LC-Ensure ‚Ä¢ Python + SQLite en el navegador\\n' +
            '  ¬°Listo! Presiona "Ejecutar C√≥digo"\\n' +
            '</pre>';

    } catch (e) {
        output.innerHTML =
            "<pre style='color:#ff4444; background:#300; padding:15px;'>Error al cargar Pyodide: " +
            e.message +
            "</pre>";
    }
}
initPyodide();

async function runPython() {
    if (!pyodide) {
        alert("El entorno a√∫n se est√° cargando. Espera unos segundos.");
        return;
    }

    const code = document.getElementById("python-code").value;
    const output = document.getElementById("python-output");
    output.innerHTML = "<p style='color:#00bcd4;'>Ejecutando c√≥digo...</p>";

    try {
        // Redirecci√≥n de stdout
        await pyodide.runPythonAsync("import sys\\nfrom io import StringIO\\nsys.stdout = StringIO()");

        await pyodide.runPythonAsync(code);

        const stdout = pyodide.runPython("sys.stdout.getvalue()");

        if (stdout && stdout.trim() !== "") {
            output.innerHTML =
                '<pre style="background:#000; color:#00ff88; padding:15px; border:2px solid #00bcd4; border-radius:8px; font-family:monospace; white-space:pre-wrap;">' +
                stdout +
                "</pre>";
        } else {
            output.innerHTML =
                '<pre style="background:#000; color:#00ff88; padding:15px; border:2px solid #00bcd4; border-radius:8px;">C√≥digo ejecutado correctamente (sin salida)</pre>';
        }
    } catch (e) {
        output.innerHTML =
            '<pre style="background:#300; color:#ff6666; padding:15px; border:2px solid #e91e63; border-radius:8px;">' +
            "ERROR EN EL C√ìDIGO:\\n" +
            e.message +
            "</pre>";
    }
}

function clearOutput() {
    document.getElementById("python-output").innerHTML = "<p style='color:#888;'>Salida limpiada</p>";
}

function resetCode() {
    document.getElementById("python-code").value =
`# LC-Advance - Simulador Python + SQLite
import sqlite3

print("SQLite versi√≥n:", sqlite3.sqlite_version)
print("¬°Python + SQLite funcionando 100% en tu navegador!\\n")

conn = sqlite3.connect(':memory:')
c = conn.cursor()

c.execute('''CREATE TABLE usuarios (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    nombre TEXT NOT NULL,
    edad INTEGER,
    nivel TEXT
)''')

usuarios = [
    ("Ana Torres", 17, "Avanzado"),
    ("Luis Ram√≠rez", 18, "Intermedio"),
    ("Sof√≠a Mendoza", 16, "Principiante"),
    ("Marco Vargas", 19, "Avanzado"),
    ("Valeria Castro", 17, "Avanzado")
]

c.executemany("INSERT INTO usuarios (nombre, edad, nivel) VALUES (?, ?, ?)", usuarios)
conn.commit()

print("USUARIOS REGISTRADOS:")
print("=" * 60)
c.execute("SELECT * FROM usuarios ORDER BY id")
for fila in c.fetchall():
    print(f"ID: {fila[0]} | {fila[1]:15} | Edad: {fila[2]:2} | Nivel: {fila[3]}")

print("\\nUsuarios nivel Avanzado:")
c.execute("SELECT nombre, edad FROM usuarios WHERE nivel = 'Avanzado'")
for fila in c.fetchall():
    print(f"   {fila[0]} ({fila[1]} a√±os)")

print(f"\\nEdad promedio: ", end="")
c.execute("SELECT AVG(edad) FROM usuarios")
print(f"{c.fetchone()[0]:.1f} a√±os")

conn.close()
print("\\nLC-Advance - ¬°Simulaci√≥n completada con √©xito!")`;

    clearOutput();
}
</script>

<hr style="border:1px dashed #00bcd4;">

<h4>Flujo de Ejecuci√≥n</h4>
<div class="svg-diagram">
    <svg viewBox="0 0 900 500" xmlns="http://www.w3.org/2000/svg">
        <rect width="900" height="500" fill="#001f1f"/>
        <rect x="100" y="150" width="280" height="180" rx="20" fill="#00bcd4"/>
        <text x="240" y="240" fill="white" font-size="32" font-weight="bold" text-anchor="middle">PYTHON</text>
        <rect x="520" y="150" width="280" height="180" rx="20" fill="#006064" stroke="#00bcd4" stroke-width="4"/>
        <text x="660" y="240" fill="#00bcd4" font-size="32" font-weight="bold" text-anchor="middle">SQLITE</text>
        <path d="M380,240 Q450,200 520,240" fill="none" stroke="#00bcd4" stroke-width="8"/>
        <text x="450" y="180" fill="#00bcd4" font-size="20" text-anchor="middle">sqlite3.connect()</text>
        <text x="450" y="400" fill="#00ff88" font-size="24" text-anchor="middle">100% Cliente ‚Ä¢ 0 Servidor</text>
        <text x="450" y="440" fill="#888" font-size="16" text-anchor="middle">LC-Advance ¬© 2025</text>
    </svg>
</div>
HTML
,
    'ejercicios' => [
        ['enunciado' => 'Conectar a SQLite', 'respuesta' => 'conn = sqlite3.connect(\'db.db\')'],
        ['enunciado' => 'Crear tabla SQL', 'respuesta' => 'CREATE TABLE usuarios (id INT PRIMARY KEY, nombre TEXT)'],
        ['enunciado' => 'INSERT en Python', 'respuesta' => 'cursor.execute("INSERT INTO t (c) VALUES (?)", (val,))'],
        ['enunciado' => 'SELECT con fetchall()', 'respuesta' => 'cursor.execute("SELECT * FROM t").fetchall()'],
        ['enunciado' => 'Commit cambios', 'respuesta' => 'conn.commit()'],
        ['enunciado' => 'Cerrar conexi√≥n', 'respuesta' => 'conn.close()'],
        ['enunciado' => 'Usar :memory:', 'respuesta' => 'conn = sqlite3.connect(\':memory:\')'],
        ['enunciado' => 'IF NOT EXISTS', 'respuesta' => 'CREATE TABLE IF NOT EXISTS ...'],
        ['enunciado' => 'Par√°metros con ?', 'respuesta' => 'cursor.execute(sql, (val1, val2))'],
        ['enunciado' => 'fetchone()', 'respuesta' => 'Devuelve una fila'],
        ['enunciado' => 'rowcount', 'respuesta' => 'cursor.rowcount ‚Üí filas afectadas'],
        ['enunciado' => 'SI: apps con SQLite', 'respuesta' => 'WhatsApp, Firefox, Android']
    ],
    'quiz' => [
        ['pregunta' => 'Python es', 'opciones' => ['Interpretado', 'Compilado', 'H√≠brido', 'Binario'], 'correcta' => 'Interpretado'],
        ['pregunta' => 'sqlite3 es', 'opciones' => ['M√≥dulo nativo', 'Externo', 'pip install', 'Node.js'], 'correcta' => 'M√≥dulo nativo'],
        ['pregunta' => 'SQLite necesita', 'opciones' => ['Nada, solo archivo', 'Servidor', 'Cloud', 'Docker'], 'correcta' => 'Nada, solo archivo'],
        ['pregunta' => 'connect(\':memory:\')', 'opciones' => ['BD en RAM', 'Archivo', 'Cloud', 'Temporal'], 'correcta' => 'BD en RAM'],
        ['pregunta' => 'execute() retorna', 'opciones' => ['Cursor', 'Lista', 'Nada', 'Error'], 'correcta' => 'Cursor'],
        ['pregunta' => 'fetchall()', 'opciones' => ['Lista de tuplas', 'Diccionario', 'Texto', 'Nada'], 'correcta' => 'Lista de tuplas'],
        ['pregunta' => 'commit()', 'opciones' => ['Guarda cambios', 'Cierra', 'Lee', 'Borra'], 'correcta' => 'Guarda cambios'],
        ['pregunta' => 'close()', 'opciones' => ['Cierra conexi√≥n', 'Borra BD', 'Reinicia', 'Nada'], 'correcta' => 'Cierra conexi√≥n'],
        ['pregunta' => 'CREATE TABLE IF NOT EXISTS', 'opciones' => ['Evita error si existe', 'Borra si existe', 'Nada', 'Error'], 'correcta' => 'Evita error si existe'],
        ['pregunta' => 'Par√°metros con ?', 'opciones' => ['Previenen inyecci√≥n SQL', 'Solo texto', 'Solo n√∫meros', 'Nada'], 'correcta' => 'Previenen inyecci√≥n SQL'],

        ['pregunta' => 'rowcount', 'opciones' => ['Filas afectadas', 'Columnas', 'Tama√±o BD', 'Nada'], 'correcta' => 'Filas afectadas'],
        ['pregunta' => 'fetchone()', 'opciones' => ['Una fila', 'Todas', 'Ninguna', 'Error'], 'correcta' => 'Una fila'],
        ['pregunta' => 'executemany()', 'opciones' => ['M√∫ltiples INSERT', 'Uno solo', 'SELECT', 'DELETE'], 'correcta' => 'M√∫ltiples INSERT'],
        ['pregunta' => 'SQLite soporta', 'opciones' => ['Transacciones ACID', 'Solo lectura', 'Nada', 'NoSQL'], 'correcta' => 'Transacciones ACID'],
        ['pregunta' => 'Tama√±o m√°x BD SQLite', 'opciones' => ['~281 TB', '1 GB', '100 MB', 'Ilimitado'], 'correcta' => '~281 TB'],
        ['pregunta' => 'Apps famosas con SQLite', 'opciones' => ['WhatsApp, Firefox', 'Netflix', 'Google', 'Amazon'], 'correcta' => 'WhatsApp, Firefox'],
        ['pregunta' => 'Python en 2025', 'opciones' => ['#1 en popularidad', '#5', '#10', 'Obsoleto'], 'correcta' => '#1 en popularidad'],
        ['pregunta' => 'SI 2025: % dispositivos con SQLite', 'opciones' => ['+90%', '50%', '10%', '0%'], 'correcta' => '+90%'],
        ['pregunta' => 'SQLite es', 'opciones' => ['Serverless', 'Con servidor', 'Cloud only', 'Depende'], 'correcta' => 'Serverless'],
        ['pregunta' => 'Python + SQLite ideal para', 'opciones' => ['Prototipos, apps m√≥viles', 'Big Data', 'IA', 'Web'], 'correcta' => 'Prototipos, apps m√≥viles'],

        ['pregunta' => 'cursor es', 'opciones' => ['Objeto para ejecutar SQL', 'Conexi√≥n', 'BD', 'Tabla'], 'correcta' => 'Objeto para ejecutar SQL'],
        ['pregunta' => 'conn es', 'opciones' => ['Conexi√≥n a BD', 'Cursor', 'Tabla', 'SQL'], 'correcta' => 'Conexi√≥n a BD'],
        ['pregunta' => 'with sqlite3.connect() as conn', 'opciones' => ['Cierra autom√°ticamente', 'Manual', 'Error', 'No cierra'], 'correcta' => 'Cierra autom√°ticamente'],
        ['pregunta' => 'PRAGMA foreign_keys = ON', 'opciones' => ['Activa FK', 'Desactiva', 'Nada', 'Error'], 'correcta' => 'Activa FK'],
        ['pregunta' => 'SQLite en Android', 'opciones' => ['Nativo', 'Java', 'Kotlin', 'Swift'], 'correcta' => 'Nativo'],
        ['pregunta' => 'Python 3.12+', 'opciones' => ['Mejor sqlite3', 'Peor', 'Igual', 'Sin soporte'], 'correcta' => 'Mejor sqlite3'],
        ['pregunta' => 'DB Browser for SQLite', 'opciones' => ['GUI gratuita', 'Paga', 'Web', 'CLI'], 'correcta' => 'GUI gratuita'],
        ['pregunta' => 'SI 2025: Python en educaci√≥n', 'opciones' => ['Lenguaje #1', '#3', '#5', 'No usado'], 'correcta' => 'Lenguaje #1'],
        ['pregunta' => 'sqlite3.Row', 'opciones' => ['Acceso por nombre', 'Solo √≠ndice', 'Nada', 'Error'], 'correcta' => 'Acceso por nombre'],
        ['pregunta' => 'Python + SQLite =', 'opciones' => ['Desarrollo full-stack local', 'Solo backend', 'Solo frontend', 'Nada'], 'correcta' => 'Desarrollo full-stack local']
    ]
];
// ========================================
// MATERIA: PROGRAMACI√ìN
// TEMA: MongoDB + NoSQL
// ========================================
$lecciones[] = [
    'materia' => 'Programaci√≥n',
    'slug' => 'bases-datos-no-relacionales-mongodb',
    'titulo' => 'MongoDB + NoSQL: La Revoluci√≥n de las Bases de Datos',
    'contenido' => <<<'HTML'
        <h3>MongoDB: El Futuro de las Bases de Datos</h3>
        <p><strong>NoSQL Documental</strong> ‚Üí Datos como documentos JSON/BSON flexibles, sin esquema r√≠gido. Escala horizontalmente. Usado por Netflix, Google, Uber y +70% de apps modernas.</p>

        <hr style="border:1px dashed #00bcd4; margin: 30px 0;">

        <h4>Simulador MongoDB Interactivo (100% Seguro y Profesional)</h4>
        <div class="simulador-python">
            <p style="color:#00ff88; font-weight:bold; margin-bottom:15px;">
                üíª Ejecuta comandos reales del MongoDB Shell
            </p>
            
            <div class="python-editor">
                <textarea id="mongo-input" rows="12" style="width:100%; padding:15px; background:#000; color:#0f0; font-family:'Courier New', monospace; font-size:14px; border:1px solid #00bcd4; border-radius:8px; resize:vertical;">db.alumnos.insertMany([
        { nombre: "Ana L√≥pez", edad: 17, nivel: "Avanzado", ciudad: "CDMX" },
        { nombre: "Carlos Ruiz", edad: 19, nivel: "Intermedio" },
        { nombre: "Sof√≠a Mendoza", edad: 16, nivel: "Principiante", ciudad: "Guadalajara" },
        { nombre: "Luis Torres", edad: 18, nivel: "Avanzado" }
        ])

        db.alumnos.find({ nivel: "Avanzado" })

        db.alumnos.find({ edad: { $gte: 18 } })

        db.alumnos.countDocuments({ ciudad: "CDMX" })</textarea>
            </div>

            <div class="python-buttons">
                <button onclick="ejecutarMongo()" class="btn btn-small btn-play">‚ñ∂ Ejecutar</button>
                <button onclick="limpiarMongo()" class="btn btn-small btn-logout">üóë Limpiar BD</button>
                <button onclick="resetMongoCode()" class="btn btn-small btn-reset">‚Üª Ejemplo</button>
            </div>

            <div class="python-result">
                <pre id="mongo-output" style="margin:0; color:#00ff88; font-family:'Courier New', monospace; font-size:14px; min-height:200px;"><span style="color:#888;">üíæ Listo para ejecutar comandos MongoDB...</span></pre>
            </div>
        </div>

        <script>
        const mongoDB = { collections: {} };

        // Parsea JSON seguro
        function safeParse(str) {
            try {
                return new Function('return (' + str + ')')();
            } catch (e) {
                throw new Error("JSON inv√°lido: " + e.message);
            }
        }

        function unirComandos(texto) {
            const comandos = [];
            let buffer = "";

            texto.split("\n").forEach(linea => {
                linea = linea.trim();
                if (!linea || linea.startsWith("//")) return;

                buffer += " " + linea;

                // Se cierra un comando con ')'
                if (linea.endsWith(")")) {
                    comandos.push(buffer.trim());
                    buffer = "";
                }
            });

            if (buffer.trim()) comandos.push(buffer.trim());
            return comandos;
        }

        function ejecutarMongo() {
            const input = document.getElementById("mongo-input").value.trim();
            const output = document.getElementById("mongo-output");
            output.innerHTML = "<span style='color:#00bcd4;'>‚öôÔ∏è Procesando comandos...</span>";

            if (!input) {
                output.innerHTML = "<span style='color:#ff6666;'>‚ö†Ô∏è Escribe al menos un comando</span>";
                return;
            }

            let resultado = "";

            try {
                const comandos = unirComandos(input);

                for (let linea of comandos) {
                    // insertOne
                    if (linea.includes("insertOne(")) {
                        const match = linea.match(/db\.(\w+)\.insertOne\(([\s\S]*)\)/);
                        if (match) {
                            const coll = match[1];
                            const doc = safeParse(match[2]);
                            mongoDB.collections[coll] = mongoDB.collections[coll] || [];
                            doc._id = "oid_" + Date.now().toString(36);
                            mongoDB.collections[coll].push(doc);
                            resultado += "‚úÖ Insertado 1 documento ‚Üí _id: " + doc._id + "\n";
                            continue;
                        }
                    }

                    // insertMany
                    if (linea.includes("insertMany(")) {
                        const match = linea.match(/db\.(\w+)\.insertMany\(([\s\S]*)\)/);
                        if (match) {
                            const coll = match[1];
                            const docs = safeParse(match[2]);
                            if (!Array.isArray(docs)) throw new Error("insertMany requiere un array");
                            mongoDB.collections[coll] = mongoDB.collections[coll] || [];
                            
                            docs.forEach(d => {
                                d._id = "oid_" + Date.now().toString(36) + Math.floor(Math.random()*999);
                                mongoDB.collections[coll].push(d);
                            });

                            resultado += "‚úÖ Insertados " + docs.length + " documentos en " + coll + "\n";
                            continue;
                        }
                    }

                    // find y findOne
                    if (linea.includes("find(")) {
                        const esFindOne = linea.includes("findOne");
                        const match = linea.match(/db\.(\w+)\.(find|findOne)\(([\s\S]*)\)/);

                        if (match) {
                            const coll = match[1];
                            const filtro = match[3] ? safeParse(match[3]) : {};

                            let lista = mongoDB.collections[coll] || [];

                            lista = lista.filter(doc => {
                                for (let k in filtro) {
                                    const v = filtro[k];
                                    if (typeof v === "object") {
                                        if ("$gte" in v && !(doc[k] >= v.$gte)) return false;
                                        if ("$gt" in v && !(doc[k] > v.$gt)) return false;
                                    } else {
                                        if (doc[k] !== v) return false;
                                    }
                                }
                                return true;
                            });

                            const mostrar = esFindOne ? [lista[0] || null] : lista;

                            resultado += "üìÑ " + JSON.stringify(mostrar, null, 2) + "\n";
                            continue;
                        }
                    }

                    // countDocuments
                    if (linea.includes("countDocuments")) {
                        const match = linea.match(/db\.(\w+)\.countDocuments\(([\s\S]*)\)/);
                        if (match) {
                            const coll = match[1];
                            const filtro = safeParse(match[2] || "{}");

                            const total = (mongoDB.collections[coll] || []).filter(doc => {
                                for (let k in filtro) {
                                    if (doc[k] !== filtro[k]) return false;
                                }
                                return true;
                            }).length;

                            resultado += "üî¢ " + total + "\n";
                            continue;
                        }
                    }

                    resultado += "‚ö†Ô∏è Comando no soportado: " + linea + "\n";
                }

                output.innerHTML = resultado.replace(/\n/g, "<br>").replace(/ /g, "&nbsp;");
            } catch (err) {
                output.innerHTML = "<span style='color:#ff4444;'>‚ùå ERROR: " + err.message + "</span>";
            }
        }

        function limpiarMongo() {
            mongoDB.collections = {};
            document.getElementById("mongo-output").innerHTML = "<span style='color:#00bcd4;'>üóëÔ∏è Base de datos limpiada</span>";
        }

        function resetMongoCode() {
            document.getElementById("mongo-input").value = `db.alumnos.insertMany([
        { nombre: "Ana L√≥pez", edad: 17, nivel: "Avanzado", ciudad: "CDMX" },
        { nombre: "Carlos Ruiz", edad: 19, nivel: "Intermedio" },
        { nombre: "Sof√≠a Mendoza", edad: 16, nivel: "Principiante", ciudad: "Guadalajara" },
        { nombre: "Luis Torres", edad: 18, nivel: "Avanzado" }
        ])

        db.alumnos.find({ nivel: "Avanzado" })

        db.alumnos.find({ edad: { $gte: 18 } })

        db.alumnos.countDocuments({ ciudad: "CDMX" })`;

            document.getElementById("mongo-output").innerHTML = "<span style='color:#888;'>üìù C√≥digo de ejemplo cargado</span>";
        }
        </script>


        <hr style="border:1px dashed #00bcd4; margin: 30px 0;">

        <h4>üìä Diagrama: MongoDB en Acci√≥n</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 1000 600" xmlns="http://www.w3.org/2000/svg">
                <rect width="1000" height="600" fill="#001f1f"/>
                <text x="500" y="100" fill="#00ff88" font-size="40" text-anchor="middle" font-weight="bold">MongoDB</text>
                <text x="500" y="150" fill="#00bcd4" font-size="24" text-anchor="middle">Flexibilidad ‚Ä¢ Velocidad ‚Ä¢ Escalabilidad</text>
                
                <!-- Documentos animados -->
                <g id="doc1">
                    <rect x="150" y="250" width="200" height="150" fill="#00bcd4" opacity="0.3" rx="10"/>
                    <text x="250" y="310" fill="#00ff88" font-size="16" text-anchor="middle">Documento 1</text>
                    <text x="250" y="340" fill="#fff" font-size="12" text-anchor="middle">{ nombre: "Ana" }</text>
                    <animate attributeName="opacity" values="0.3;0.7;0.3" dur="2s" repeatCount="indefinite"/>
                </g>
                
                <g id="doc2">
                    <rect x="400" y="250" width="200" height="150" fill="#00bcd4" opacity="0.3" rx="10"/>
                    <text x="500" y="310" fill="#00ff88" font-size="16" text-anchor="middle">Documento 2</text>
                    <text x="500" y="340" fill="#fff" font-size="12" text-anchor="middle">{ nombre: "Carlos" }</text>
                    <animate attributeName="opacity" values="0.3;0.7;0.3" dur="2s" begin="0.5s" repeatCount="indefinite"/>
                </g>
                
                <g id="doc3">
                    <rect x="650" y="250" width="200" height="150" fill="#00bcd4" opacity="0.3" rx="10"/>
                    <text x="750" y="310" fill="#00ff88" font-size="16" text-anchor="middle">Documento 3</text>
                    <text x="750" y="340" fill="#fff" font-size="12" text-anchor="middle">{ nombre: "Sof√≠a" }</text>
                    <animate attributeName="opacity" values="0.3;0.7;0.3" dur="2s" begin="1s" repeatCount="indefinite"/>
                </g>
                
                <text x="500" y="540" fill="#00bcd4" font-size="18" text-anchor="middle">LC-Advance ¬© 2025 ‚Ä¢ NoSQL Revolution</text>
            </svg>
        </div>
HTML
,
    'ejercicios' => [
        ['enunciado' => 'Insertar documento', 'respuesta' => 'db.coll.insertOne({campo: valor})'],
        ['enunciado' => 'Buscar todos', 'respuesta' => 'db.coll.find()'],
        ['enunciado' => 'Buscar con filtro', 'respuesta' => 'db.coll.find({campo: valor})'],
        ['enunciado' => 'Actualizar', 'respuesta' => 'db.coll.updateOne(filtro, {$set: {campo: nuevo}})'],
        ['enunciado' => 'Eliminar', 'respuesta' => 'db.coll.deleteOne({campo: valor})'],
        ['enunciado' => 'Schema-less significa', 'respuesta' => 'Sin esquema fijo'],
        ['enunciado' => 'Colecci√≥n =', 'respuesta' => 'Grupo de documentos'],
        ['enunciado' => 'BSON es', 'respuesta' => 'JSON binario'],
        ['enunciado' => '$gt significa', 'respuesta' => 'Mayor que'],
        ['enunciado' => 'insertMany para', 'respuesta' => 'M√∫ltiples documentos'],
        ['enunciado' => 'findOne devuelve', 'respuesta' => 'Primer documento'],
        ['enunciado' => 'SI: % apps con MongoDB', 'respuesta' => '~70%']
    ],
    'quiz' => [
        ['pregunta' => 'MongoDB es', 'opciones' => ['Documental', 'Relacional', 'Grafos', 'Columnas'], 'correcta' => 'Documental'],
        ['pregunta' => 'Almacena en', 'opciones' => ['BSON', 'SQL', 'CSV', 'XML'], 'correcta' => 'BSON'],
        ['pregunta' => 'Colecci√≥n =', 'opciones' => ['Tabla', 'Fila', 'BD', '√çndice'], 'correcta' => 'Tabla'],
        ['pregunta' => 'Documento =', 'opciones' => ['Fila JSON', 'Columna', 'Tabla', 'BD'], 'correcta' => 'Fila JSON'],
        ['pregunta' => 'Schema-less', 'opciones' => ['Flexible', 'R√≠gido', 'Binario', 'Nulo'], 'correcta' => 'Flexible'],
        ['pregunta' => 'Escalabilidad', 'opciones' => ['Horizontal', 'Vertical', 'Ninguna', 'Cloud'], 'correcta' => 'Horizontal'],
        ['pregunta' => 'Sharding divide', 'opciones' => ['Datos entre servidores', 'Una tabla', 'Nada', 'RAM'], 'correcta' => 'Datos entre servidores'],
        ['pregunta' => 'Replica Set para', 'opciones' => ['Alta disponibilidad', 'Velocidad', 'Nada', 'Backup'], 'correcta' => 'Alta disponibilidad'],
        ['pregunta' => 'Atlas es', 'opciones' => ['MongoDB Cloud', 'Local', 'CLI', 'GUI'], 'correcta' => 'MongoDB Cloud'],
        ['pregunta' => 'insertOne devuelve', 'opciones' => ['_id insertado', 'Documento', 'Nada', 'Error'], 'correcta' => '_id insertado'],

        ['pregunta' => 'find() sin filtro', 'opciones' => ['Todos', 'Uno', 'Ninguno', 'Error'], 'correcta' => 'Todos'],
        ['pregunta' => 'findOne()', 'opciones' => ['Primer match', 'Todos', '√öltimo', 'Error'], 'correcta' => 'Primer match'],
        ['pregunta' => 'updateOne modifica', 'opciones' => ['Primer match', 'Todos', 'Ninguno', 'Error'], 'correcta' => 'Primer match'],
        ['pregunta' => 'updateMany', 'opciones' => ['Todos los match', 'Uno', 'Ninguno', 'Error'], 'correcta' => 'Todos los match'],
        ['pregunta' => '$set en update', 'opciones' => ['Asigna valor', 'Elimina', 'Busca', 'Nada'], 'correcta' => 'Asigna valor'],
        ['pregunta' => '$gt', 'opciones' => ['Mayor que', 'Igual', 'Menor', 'Existe'], 'correcta' => 'Mayor que'],
        ['pregunta' => '$in', 'opciones' => ['En lista', 'No en lista', 'Igual', 'Nulo'], 'correcta' => 'En lista'],
        ['pregunta' => 'deleteOne', 'opciones' => ['Primer match', 'Todos', 'Ninguno', 'Error'], 'correcta' => 'Primer match'],
        ['pregunta' => 'countDocuments', 'opciones' => ['Cuenta', 'Suma', 'Lista', 'Nada'], 'correcta' => 'Cuenta'],
        ['pregunta' => 'aggregate para', 'opciones' => ['An√°lisis complejo', 'INSERT', 'DELETE', 'SELECT'], 'correcta' => 'An√°lisis complejo'],

        ['pregunta' => 'MongoDB soporta', 'opciones' => ['√çndices', 'Solo PK', 'Nada', 'SQL'], 'correcta' => '√çndices'],
        ['pregunta' => 'Transacciones desde', 'opciones' => ['v4.0', 'v1.0', 'v6.0', 'Nunca'], 'correcta' => 'v4.0'],
        ['pregunta' => 'Compass es', 'opciones' => ['GUI oficial', 'CLI', 'Cloud', 'API'], 'correcta' => 'GUI oficial'],
        ['pregunta' => 'SI 2025: NoSQL crece', 'opciones' => ['+25% anual', '0%', '-10%', 'Estable'], 'correcta' => '+25% anual'],
        ['pregunta' => 'MongoDB en', 'opciones' => ['Netflix, Google', 'Solo startups', 'Nada', 'SQL'], 'correcta' => 'Netflix, Google'],
        ['pregunta' => 'BSON permite', 'opciones' => ['Tipos binarios', 'Solo texto', 'Nada', 'XML'], 'correcta' => 'Tipos binarios'],
        ['pregunta' => 'ObjectId es', 'opciones' => ['12 bytes √∫nico', 'Entero', 'Texto', 'Fecha'], 'correcta' => '12 bytes √∫nico'],
        ['pregunta' => 'SI 2025: % datos no estructurados', 'opciones' => ['+80%', '50%', '20%', '0%'], 'correcta' => '+80%'],
        ['pregunta' => 'NoSQL ideal para', 'opciones' => ['Datos variables', 'Transacciones bancarias', 'Todo', 'Nada'], 'correcta' => 'Datos variables'],
        ['pregunta' => 'MongoDB vs SQL', 'opciones' => ['Flexible > R√≠gido', 'Igual', 'R√≠gido > Flexible', 'No compara'], 'correcta' => 'Flexible > R√≠gido']
    ]
];
// ========================================
// MATERIA: PROGRAMACI√ìN
// SUBTEMA: SCRUM + Agile: Roles, Eventos, Simulador y Retos Interactivos
// ========================================
$lecciones[] = [
    'materia' => 'Programaci√≥n',
    'slug' => 'metodologias-scrum',
    'titulo' => 'SCRUM: Agile, Roles, Eventos, Simulador y Retos 2025',
    'contenido' => <<<'HTML'
        <h3 class="retro-title">SCRUM: El Framework Agile L√≠der en 2025</h3>
        <p class="retro-text">
            <strong>SCRUM</strong> = metodolog√≠a √°gil para desarrollo iterativo e incremental.
            Basado en <strong>transparencia, inspecci√≥n, adaptaci√≥n</strong>.
            Ideal para requisitos cambiantes. Usado por <strong>Netflix, Spotify, Google</strong>.
            En 2025: <strong>78% de los equipos dev usan SCRUM</strong>.
        </p>

        <hr class="retro-hr">

        <h4 class="retro-subtitle">1. Pilares y Valores SCRUM</h4>

        <table class="retro-table">
            <thead>
                <tr><th>Pilar</th><th>Descripci√≥n</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Transparencia</strong></td><td>Todo visible: backlog, burndown, impedimentos</td></tr>
                <tr><td><strong>Inspecci√≥n</strong></td><td>Revisi√≥n frecuente: daily, review, retro</td></tr>
                <tr><td><strong>Adaptaci√≥n</strong></td><td>Ajuste inmediato ante cambios</td></tr>
            </tbody>
        </table>

        <hr class="retro-hr">

        <h4 class="retro-subtitle">2. Simulador de Sprint Interactivo</h4>

        <div class="simulador-scrum retro-box retro-border">
            <p class="retro-text"><strong>Simula un Sprint de 2 semanas:</strong></p>

            <div class="retro-flex">
                <!-- Backlog -->
                <div class="retro-col">
                    <h5 class="retro-text">Product Backlog</h5>
                    <ul id="backlog" class="scrum-col retro-list">
                        <li draggable="true" data-id="1" class="retro-item">Login usuario</li>
                        <li draggable="true" data-id="2" class="retro-item">Dashboard</li>
                        <li draggable="true" data-id="3" class="retro-item">Notificaciones</li>
                        <li draggable="true" data-id="4" class="retro-item">Perfil</li>
                    </ul>
                </div>

                <!-- Sprint -->
                <div class="retro-col">
                    <h5 class="retro-text">Sprint Backlog</h5>
                    <ul id="sprint" class="scrum-col retro-list"></ul>
                </div>

                <!-- Progreso -->
                <div class="retro-col">
                    <h5 class="retro-text">En Progreso</h5>
                    <ul id="progress" class="scrum-col retro-list"></ul>
                </div>

                <!-- Done -->
                <div class="retro-col">
                    <h5 class="retro-text">Hecho</h5>
                    <ul id="done" class="scrum-col retro-list"></ul>
                </div>
            </div>

            <div class="retro-buttons">
                <button type="button" onclick="resetSprint()" class="retro-btn">‚Üª Reiniciar Sprint</button>
                <button type="button" onclick="autoFillSprint()" class="retro-btn">‚ö° Auto-plan (ejemplo)</button>
            </div>

            <div id="sprint-result" class="retro-text" style="margin-top:10px;"></div>
        </div>


        <script>
        (function(){
            const columns = ["backlog", "sprint", "progress", "done"];

            function initDragAndDrop() {
                columns.forEach(col => {
                    const el = document.getElementById(col);
                    if (!el) return;

                    el.addEventListener("dragover", e => e.preventDefault());

                    el.addEventListener("drop", e => {
                        e.preventDefault();
                        const id = e.dataTransfer.getData("text/plain");
                        const item = document.querySelector('[data-id="' + id + '"]');
                        if (item && el !== item.parentElement) {
                            el.appendChild(item);
                            checkSprint();
                        }
                    });
                });

                document.querySelectorAll("[draggable]").forEach(item => {
                    item.addEventListener("dragstart", e => {
                        e.dataTransfer.setData("text/plain", item.dataset.id);
                        try { e.dataTransfer.setDragImage(item, 5, 5); } catch(err){}
                    });
                });
            }

            window.checkSprint = function() {
                const doneCount = document.getElementById("done").children.length;
                const total = document.querySelectorAll("[data-id]").length;
                const result = document.getElementById("sprint-result");

                if (doneCount === total && total > 0) {
                    result.innerHTML = '<span style="color:#43A047; font-weight:bold;">‚úî Sprint completado</span>';
                } else if (doneCount > 0) {
                    result.innerHTML = `<span style="color:#FFEB3B;">${doneCount}/${total} tareas completadas</span>`;
                } else {
                    result.innerHTML = '';
                }
            };

            window.resetSprint = function() {
                const backlog = document.getElementById("backlog");
                const items = Array.from(document.querySelectorAll("[data-id]"))
                    .sort((a,b) => a.dataset.id - b.dataset.id);
                items.forEach(it => backlog.appendChild(it));
                document.getElementById("sprint-result").innerHTML = "";
            };

            window.autoFillSprint = function() {
                const sprint = document.getElementById("sprint");
                const backlog = document.getElementById("backlog");
                const items = Array.from(backlog.querySelectorAll("li")).slice(0,2);
                items.forEach(it => sprint.appendChild(it));
                checkSprint();
            };

            document.addEventListener("DOMContentLoaded", initDragAndDrop);
            initDragAndDrop();
            checkSprint();
        })();
        </script>


        <hr class="retro-hr">

        <h4 class="retro-subtitle">3. SVG Animado: Ciclo SCRUM</h4>
            <p><em>Simulador Kanban-style: arrastra tareas del backlog al sprint y completa el ciclo.</em></p>
        </div>

        <hr style="border:1px dashed #1976D2;">

        <h4>3. Reto: Planifica tu Sprint</h4>
        <div class="reto-codigo">
            <p><strong>Desaf√≠o:</strong> Con un equipo de 5 devs, planifica un sprint de 2 semanas:</p>
            <ol>
                <li>Define 5 historias de usuario</li>
                <li>Asigna puntos de historia (1, 2, 3, 5)</li>
                <li>Capacidad: 30 puntos/sprint</li>
                <li>Selecciona historias que quepan</li>
            </ol>
            <details>
                <summary>Ver soluci√≥n</summary>
                <pre><code>
Historias:
1. Login con Google (5)
2. Dashboard responsive (8)
3. Notificaciones push (5)
4. Perfil editable (3)
5. Exportar datos CSV (3)

Capacidad: 30 puntos
Seleccionadas: 1, 3, 4, 5 ‚Üí 5+5+3+3 = 16 puntos
Pendientes: 2 (8) ‚Üí pr√≥ximo sprint
                </code></pre>
            </details>
        </div>

        <div class="visual">
            <img src="assets/img/SCRUM.png" alt="SCRUM process" style="max-width:100%;">
            <p><em>Flujo SCRUM. Fuente: StartInfinity.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/Agile.png" alt="Agile overview" style="max-width:100%;">
            <p><em>Visi√≥n general Agile. Fuente: PM-Partners.</em></p>
        </div>

        <hr style="border:1px dashed #1976D2;">

        <h4>4. SVG Animado: Ciclo SCRUM</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Ciclo Scrum animado">
                <rect x="0" y="0" width="800" height="500" fill="#E3F2FD"/>

                <text x="400" y="50" fill="#1565C0" font-size="28" text-anchor="middle" font-weight="bold">CICLO SCRUM</text>

                <!-- Sprint Planning -->
                <g id="planning" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="0.5s" dur="0.5s" fill="freeze"/>
                    <circle cx="150" cy="150" r="60" fill="#42A5F5"/>
                    <text x="150" y="145" fill="white" font-size="16" text-anchor="middle">Planning</text>
                    <text x="150" y="165" fill="#BBDEFB" font-size="12" text-anchor="middle">8h m√°x</text>
                </g>

                <!-- Daily Scrum -->
                <g id="daily" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="1s" dur="0.5s" fill="freeze"/>
                    <circle cx="400" cy="100" r="50" fill="#1E88E5"/>
                    <text x="400" y="95" fill="white" font-size="14" text-anchor="middle">Daily</text>
                    <text x="400" y="115" fill="#BBDEFB" font-size="11" text-anchor="middle">15 min</text>
                </g>

                <!-- Sprint Review -->
                <g id="review" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="1.5s" dur="0.5s" fill="freeze"/>
                    <circle cx="650" cy="150" r="60" fill="#1976D2"/>
                    <text x="650" y="145" fill="white" font-size="16" text-anchor="middle">Review</text>
                    <text x="650" y="165" fill="#BBDEFB" font-size="12" text-anchor="middle">4h m√°x</text>
                </g>

                <!-- Retrospective -->
                <g id="retro" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="2s" dur="0.5s" fill="freeze"/>
                    <circle cx="400" cy="250" r="70" fill="#0D47A1"/>
                    <text x="400" y="240" fill="white" font-size="16" text-anchor="middle">Retro</text>
                    <text x="400" y="260" fill="#BBDEFB" font-size="12" text-anchor="middle">3h m√°x</text>
                </g>

                <!-- Increment -->
                <g id="increment" opacity="0">
                    <animate attributeName="opacity" values="0;1" begin="2.5s" dur="0.5s" fill="freeze"/>
                    <rect x="320" y="380" width="160" height="80" fill="#1B5E20" rx="15"/>
                    <text x="400" y="415" fill="white" font-size="18" text-anchor="middle">Increment</text>
                    <text x="400" y="440" fill="#A5D6A7" font-size="12" text-anchor="middle">Potentially Shippable</text>
                </g>

                <!-- Flechas -->
                <path d="M210,150 Q300,120 340,100" fill="none" stroke="#1976D2" stroke-width="4" marker-end="url(#arrow)"/>
                <path d="M450,100 Q550,120 590,150" fill="none" stroke="#1976D2" stroke-width="4" marker-end="url(#arrow)"/>
                <path d="M650,210 Q550,250 450,250" fill="none" stroke="#1976D2" stroke-width="4" marker-end="url(#arrow)"/>
                <path d="M400,320 Q400,360 400,380" fill="none" stroke="#1976D2" stroke-width="4" marker-end="url(#arrow)"/>

                <defs>
                    <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto">
                        <path d="M0,0 L0,6 L9,3 z" fill="#1976D2"/>
                    </marker>
                </defs>

                <rect x="100" y="300" width="600" height="70" fill="#BBDEFB" rx="10"/>
                <text x="400" y="330" fill="#1565C0" font-size="14" text-anchor="middle">Sprint: 1-4 semanas | Equipo autoorganizado</text>
                <text x="400" y="355" fill="#0D47A1" font-size="12" text-anchor="middle">SI 2025: 78% equipos dev | +30% productividad</text>
            </svg>
            <p><em>SVG Animado: Flujo completo de un Sprint.</em></p>
        </div>

        <div class="ejemplo">
            <h4>Ejemplo de Sprint Real:</h4>
            <pre><code>
Sprint 3 (2 semanas)
- Objetivo: MVP de app m√≥vil
- Historias: Login, Perfil, Feed
- Puntos: 20 totales
- Daily: 9:00 AM (15 min)
- Review: Demo al PO
- Retro: ¬øQu√© mejorar?
- Increment: App funcional en TestFlight
            </code></pre>
        </div>
HTML
,
    'ejercicios' => [
        ['enunciado' => 'Rol del Product Owner', 'respuesta' => 'Maximizar valor del producto'],
        ['enunciado' => 'Scrum Master elimina', 'respuesta' => 'Impedimentos'],
        ['enunciado' => 'Duraci√≥n t√≠pica sprint', 'respuesta' => '2 semanas'],
        ['enunciado' => 'Daily Scrum responde', 'respuesta' => '¬øQu√© hice? ¬øQu√© har√©? ¬øBloqueos?'],
        ['enunciado' => 'Sprint Review muestra', 'respuesta' => 'Incremento'],
        ['enunciado' => 'Retrospective busca', 'respuesta' => 'Mejorar proceso'],
        ['enunciado' => 'Product Backlog es', 'respuesta' => 'Lista priorizada'],
        ['enunciado' => 'Definition of Done', 'respuesta' => 'Criterios de aceptaci√≥n'],
        ['enunciado' => 'Velocity mide', 'respuesta' => 'Puntos completados/sprint'],
        ['enunciado' => 'Burndown chart muestra', 'respuesta' => 'Trabajo restante'],
        ['enunciado' => 'SI: % empresas con SCRUM', 'respuesta' => '78%'],
        ['enunciado' => 'Herramienta popular', 'respuesta' => 'Jira, Trello']
    ],
    'quiz' => [
        ['pregunta' => 'SCRUM es un', 'opciones' => ['Framework', 'Metodolog√≠a', 'Herramienta', 'Lenguaje'], 'correcta' => 'Framework'],
        ['pregunta' => 'Pilares SCRUM', 'opciones' => ['3', '5', '1', '7'], 'correcta' => '3'],
        ['pregunta' => 'Product Owner define', 'opciones' => ['Prioridades', 'C√≥digo', 'Dise√±o', 'Pruebas'], 'correcta' => 'Prioridades'],
        ['pregunta' => 'Scrum Master es', 'opciones' => ['Facilitador', 'Jefe', 'Tester', 'Dise√±ador'], 'correcta' => 'Facilitador'],
        ['pregunta' => 'Equipo dev es', 'opciones' => ['Autoorganizado', 'Jer√°rquico', 'Externo', 'Temporal'], 'correcta' => 'Autoorganizado'],
        ['pregunta' => 'Sprint dura', 'opciones' => ['1-4 semanas', '1 d√≠a', '1 mes', 'Ilimitado'], 'correcta' => '1-4 semanas'],
        ['pregunta' => 'Planning m√°ximo', 'opciones' => ['8h', '4h', '15 min', '1 d√≠a'], 'correcta' => '8h'],
        ['pregunta' => 'Daily dura', 'opciones' => ['15 min', '1h', '30 min', '2h'], 'correcta' => '15 min'],
        ['pregunta' => 'Review m√°ximo', 'opciones' => ['4h', '8h', '2h', '1 d√≠a'], 'correcta' => '4h'],
        ['pregunta' => 'Retro m√°ximo', 'opciones' => ['3h', '4h', '8h', '1 d√≠a'], 'correcta' => '3h'],

        ['pregunta' => 'Increment debe ser', 'opciones' => ['Potentially shippable', 'En pruebas', 'Parcial', 'Dise√±o'], 'correcta' => 'Potentially shippable'],
        ['pregunta' => 'Backlog es', 'opciones' => ['Din√°mico', 'Est√°tico', 'Secreto', 'Temporal'], 'correcta' => 'Din√°mico'],
        ['pregunta' => 'User Story formato', 'opciones' => ['Como X, quiero Y, para Z', 'Tarea t√©cnica', 'Bug', 'C√≥digo'], 'correcta' => 'Como X, quiero Y, para Z'],
        ['pregunta' => 'Puntos de historia', 'opciones' => ['Fibonacci', 'Decimal', 'Binario', 'Letras'], 'correcta' => 'Fibonacci'],
        ['pregunta' => 'Velocity es', 'opciones' => ['Promedio puntos/sprint', 'Tiempo', 'Errores', 'C√≥digo'], 'correcta' => 'Promedio puntos/sprint'],
        ['pregunta' => 'Burndown ideal', 'opciones' => ['Lineal descendente', 'Ascendente', 'Plano', 'Ca√≥tico'], 'correcta' => 'Lineal descendente'],
        ['pregunta' => 'Definition of Done', 'opciones' => ['Criterios compartidos', 'Individual', 'Secreto', 'Opcional'], 'correcta' => 'Criterios compartidos'],
        ['pregunta' => 'Refinement es', 'opciones' => ['Aclarar backlog', 'Codificar', 'Testear', 'Deploy'], 'correcta' => 'Aclarar backlog'],
        ['pregunta' => 'Scrum of Scrums para', 'opciones' => ['Equipos m√∫ltiples', 'Un equipo', 'PO', 'Stakeholders'], 'correcta' => 'Equipos m√∫ltiples'],
        ['pregunta' => 'SAFe incluye', 'opciones' => ['SCRUM a escala', 'Solo un equipo', 'Nada', 'Waterfall'], 'correcta' => 'SCRUM a escala'],

        ['pregunta' => 'Jira es', 'opciones' => ['Herramienta SCRUM', 'Lenguaje', 'BD', 'IDE'], 'correcta' => 'Herramienta SCRUM'],
        ['pregunta' => 'Trello usa', 'opciones' => ['Tableros Kanban', 'Gantt', 'C√≥digo', 'SQL'], 'correcta' => 'Tableros Kanban'],
        ['pregunta' => 'SI 2025: SCRUM crece', 'opciones' => ['+15% anual', '0%', '-10%', 'Obsoleto'], 'correcta' => '+15% anual'],
        ['pregunta' => 'Empresas con SCRUM', 'opciones' => ['Netflix, Spotify', 'Solo startups', 'Gobierno', 'Ninguna'], 'correcta' => 'Netflix, Spotify'],
        ['pregunta' => 'H√≠brido SCRUM + Kanban', 'opciones' => ['Scrumban', 'Waterfall', 'XP', 'Lean'], 'correcta' => 'Scrumban'],
        ['pregunta' => 'Certificaci√≥n popular', 'opciones' => ['PSM I', 'PMP', 'ITIL', 'COBIT'], 'correcta' => 'PSM I'],
        ['pregunta' => 'Scrum Guide 2020', 'opciones' => ['Oficial', 'Antiguo', 'Falso', 'Opcional'], 'correcta' => 'Oficial'],
        ['pregunta' => 'SI 2025: % remotos con SCRUM', 'opciones' => ['+90%', '50%', '20%', '0%'], 'correcta' => '+90%'],
        ['pregunta' => 'SCRUM ideal para', 'opciones' => ['Requisitos cambiantes', 'Fijos', 'Hardware', 'Infra'], 'correcta' => 'Requisitos cambiantes'],
        ['pregunta' => 'Agile Manifesto prioriza', 'opciones' => ['Individuos > Procesos', 'Procesos > Personas', 'Documentos', 'Contrato'], 'correcta' => 'Individuos > Procesos']
    ]
];
// ========================================
// MATERIA: PROGRAMACI√ìN
// SUBTEMA: Desarrollo de Aplicaciones Web Full-Stack (Frontend + Backend + DB)
// ========================================
$lecciones[] = [
    'materia' => 'Programaci√≥n',
    'slug' => 'desarrollo-aplicaciones-web',
    'titulo' => 'Aplicaciones Web Full-Stack: Frontend, Backend, BD, Simulador y Retos',
    'contenido' => '
        <h3>Desarrollo Web Full-Stack: De la Idea al Deploy</h3>
        <p><strong>Full-Stack</strong> = dominar <strong>Frontend</strong> (interfaz y UX), <strong>Backend</strong> (l√≥gica y APIs), <strong>Base de Datos</strong> (persistencia) y <strong>DevOps</strong> (deploy y CI/CD). Hoy, <strong>65% de los desarrolladores se consideran full-stack</strong> (Stack Overflow 2025). Tecnolog√≠as comunes: <strong>HTML, CSS, JS</strong> + <strong>PHP, Node.js, C#, Python</strong> + <strong>MySQL, SQLite, MongoDB</strong> + frameworks <strong>Laravel, Express, .NET</strong>.</p>

        <hr style="border:1px dashed #FF5722;">

        <h4>1. Arquitectura Web Moderna (2025)</h4>
        <table class="table">
            <thead>
                <tr><th>Capa</th><th>Tecnolog√≠as</th><th>Funci√≥n</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>Frontend</strong></td><td>HTML5, CSS3, JS, React, Vue</td><td>Interfaz, UI/UX, interacci√≥n</td></tr>
                <tr><td><strong>Backend</strong></td><td>PHP, Node.js, C#, Python</td><td>APIs, l√≥gica, seguridad, autenticaci√≥n</td></tr>
                <tr><td><strong>Base de Datos</strong></td><td>MySQL, PostgreSQL, MongoDB, SQLite</td><td>Guardar y consultar datos</td></tr>
                <tr><td><strong>DevOps</strong></td><td>Git, Docker, GitHub, AWS, Vercel</td><td>Deploy, CI/CD, escalabilidad</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #FF5722;">

        <h4>2. Simulador de App Web en Tiempo Real (CRUD b√°sico)</h4>
        <div class="simulador-web" style="background:#FFF3E0; padding:15px; border-radius:8px;">

            <p><strong>Crea y manipula productos (solo frontend):</strong></p>

            <div style="display:flex; gap:15px; flex-wrap:wrap; margin-bottom:10px;">
                <input type="text" id="producto-nombre" placeholder="Nombre del producto" style="flex:1; min-width:200px; padding:10px; border-radius:5px; border:1px solid #FF7043;">
                <input type="number" id="producto-precio" placeholder="Precio" style="width:120px; padding:10px; border-radius:5px; border:1px solid #FF7043;">
                <button onclick="agregarProducto()" style="padding:10px 16px; background:#FF7043; border:none; color:white; border-radius:5px; cursor:pointer;">Agregar</button>
            </div>

            <div id="productos-lista" style="border:1px solid #FFAB91; padding:10px; min-height:100px; background:white; border-radius:8px;"></div>
            <div id="web-output" style="margin-top:10px;"></div>

            <script>
                let productos = [];
                let idCounter = 1;

                function agregarProducto() {
                    const nombre = document.getElementById("producto-nombre").value.trim();
                    const precio = parseFloat(document.getElementById("producto-precio").value);
                    const output = document.getElementById("web-output");

                    if (!nombre || isNaN(precio)) {
                        output.innerHTML = "<p style=\'color:#E53935;\'>‚ö†Ô∏è Completa el nombre y un precio v√°lido.</p>";
                        return;
                    }

                    const producto = { id: idCounter++, nombre, precio };
                    productos.push(producto);

                    actualizarLista();
                    output.innerHTML = `<p style="color:#43A047;">‚úî Producto agregado: <strong>${nombre}</strong> ($${precio})</p>`;

                    document.getElementById("producto-nombre").value = "";
                    document.getElementById("producto-precio").value = "";
                }

                function actualizarLista() {
                    const lista = document.getElementById("productos-lista");
                    if (productos.length === 0) {
                        lista.innerHTML = "<p style=\'color:#666;\'>No hay productos registrados.</p>";
                        return;
                    }

                    let html = "<table style=\'width:100%; border-collapse:collapse; font-size:14px;\'>";
                    html += "<tr style=\'background:#FF7043; color:white;\'>";
                    html += "<th style=\'padding:8px; border:1px solid #FFAB91;\'>ID</th>";
                    html += "<th style=\'padding:8px; border:1px solid #FFAB91;\'>Nombre</th>";
                    html += "<th style=\'padding:8px; border:1px solid #FFAB91;\'>Precio</th>";
                    html += "<th style=\'padding:8px; border:1px solid #FFAB91;\'>Acci√≥n</th>";
                    html += "</tr>";

                    productos.forEach(p => {
                        html += `
                            <tr>
                                <td style="border:1px solid #FFCCBC; padding:8px;">${p.id}</td>
                                <td style="border:1px solid #FFCCBC; padding:8px;">${p.nombre}</td>
                                <td style="border:1px solid #FFCCBC; padding:8px;">$${p.precio}</td>
                                <td style="border:1px solid #FFCCBC; padding:8px;">
                                    <button onclick="eliminarProducto(${p.id})" 
                                        style="background:#D32F2F; color:white; border:none; padding:6px 10px; border-radius:4px; cursor:pointer;">
                                        Eliminar
                                    </button>
                                </td>
                            </tr>
                        `;
                    });

                    html += "</table>";
                    lista.innerHTML = html;
                }

                function eliminarProducto(id) {
                    productos = productos.filter(p => p.id !== id);
                    actualizarLista();
                    document.getElementById("web-output").innerHTML = `<p style=\'color:#FB8C00;\'>üóë Producto eliminado (ID ${id}).</p>`;
                }
            </script>

            <p><em>Simulador full-stack simulado (datos solo en memoria del navegador).</em></p>
        </div>

        <hr style="border:1px dashed #FF5722;">

        <h4>3. Reto: Dise√±a tu Primera App Web Full-Stack</h4>
        <div class="reto-codigo">
            <p><strong>Tarea:</strong> Dise√±a una app de tareas usando tu propio stack:</p>
            <ol>
                <li><strong>Frontend:</strong> formulario + lista</li>
                <li><strong>Backend:</strong> API REST (POST/GET)</li>
                <li><strong>Base de Datos:</strong> tabla <code>tareas(id, texto, hecho)</code></li>
                <li><strong>Deploy:</strong> GitHub + Vercel / Render</li>
            </ol>

            <details>
                <summary>Ver soluci√≥n modelo</summary>
                <pre><code>
// Frontend (HTML + JS)
<form onsubmit="agregarTarea(event)">
    <input type="text" id="tarea" placeholder="Nueva tarea" required>
    <button>Agregar</button>
</form>
<ul id="lista"></ul>

<script>
async function agregarTarea(e) {
    e.preventDefault();
    const texto = document.getElementById("tarea").value;

    await fetch("/api/tareas", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ texto })
    });
    cargarTareas();
}
async function cargarTareas() {
    const res = await fetch("/api/tareas");
    const tareas = await res.json();
    document.getElementById("lista").innerHTML =
        tareas.map(t => `<li>${t.texto} <button onclick="eliminar(${t.id})">X</button></li>`).join("");
}
</script>

// Backend (Node.js + Express)
app.post("/api/tareas", (req, res) => {
    const { texto } = req.body;
    db.run("INSERT INTO tareas (texto, hecho) VALUES (?, 0)", [texto]);
    res.json({ success: true });
});
app.get("/api/tareas", (req, res) => {
    db.all("SELECT * FROM tareas", (_, rows) => res.json(rows));
});

// Base de Datos (SQLite)
CREATE TABLE tareas (id INTEGER PRIMARY KEY, texto TEXT, hecho INT);
                </code></pre>
            </details>
        </div>

        <div class="visual">
            <img src="assets/img/MonoliÃÅtica-vs-microservicios.jpg" alt="Arquitectura monol√≠tica">
            <p><em>Arquitectura monol√≠tica tradicional. Fuente: SoftKraft.</em></p>
        </div>

        <div class="visual">
            <img src="assets/img/mapa-del-sitio.png" alt="Arquitectura web general">
            <p><em>Visi√≥n general de una app web. Fuente: Asper Brothers.</em></p>
        </div>

        <hr style="border:1px dashed #FF5722;">

        <h4>4. SVG Animado: Flujo Cliente ‚Üí Servidor ‚Üí BD</h4>
        <div class="svg-diagram" id="fs-svg-diagram">
        <svg id="fs-svg" viewBox="0 0 900 500" xmlns="http://www.w3.org/2000/svg">

            <!-- Fondo -->
            <rect width="900" height="500" fill="#FFF3E0"></rect>

            <!-- T√≠tulo -->
            <text x="450" y="50" fill="#E64A19" font-size="28" text-anchor="middle" font-weight="bold">
                FLUJO APP WEB
            </text>

            <!-- CLIENTE -->
            <g id="fs-cliente">
                <rect x="80" y="120" width="160" height="120" fill="#FF7043" rx="20"></rect>
                <text x="160" y="160" fill="white" font-size="18" text-anchor="middle">Cliente</text>
                <text x="160" y="195" fill="#FFCCBC" font-size="14" text-anchor="middle">HTML / CSS / JS</text>
            </g>

            <!-- SERVIDOR -->
            <g id="fs-servidor">
                <rect x="370" y="100" width="160" height="160" fill="#F4511E" rx="20"></rect>
                <text x="450" y="140" fill="white" font-size="18" text-anchor="middle">Backend</text>
                <text x="450" y="175" fill="#FFCCBC" font-size="14" text-anchor="middle">PHP / Node.js / C#</text>
                <text x="450" y="200" fill="#FFCCBC" font-size="12" text-anchor="middle">API REST</text>
            </g>

            <!-- BASE DE DATOS -->
            <g id="fs-bd">
                <rect x="660" y="120" width="160" height="120" fill="#D84315" rx="20"></rect>
                <text x="740" y="160" fill="white" font-size="18" text-anchor="middle">Base de Datos</text>
                <text x="740" y="195" fill="#FFCCBC" font-size="14" text-anchor="middle">MySQL / SQLite</text>
            </g>

            <!-- Flecha 1 -->
            <defs>
                <marker id="fs-arrow" markerWidth="12" markerHeight="12" refX="10" refY="3" orient="auto">
                    <path d="M0,0 L0,6 L9,3 z" fill="#FF5722"></path>
                </marker>
            </defs>

            <line x1="240" y1="180" x2="370" y2="180"
                stroke="#FF5722" stroke-width="5" marker-end="url(#fs-arrow)"></line>
            <text x="305" y="165" fill="#BF360C" font-size="13" text-anchor="middle">HTTP Request</text>

            <!-- Flecha 2 -->
            <line x1="530" y1="180" x2="660" y2="180"
                stroke="#FF5722" stroke-width="5" marker-end="url(#fs-arrow)"></line>
            <text x="595" y="165" fill="#BF360C" font-size="13" text-anchor="middle">SQL Query</text>

            <!-- Caja resumen -->
            <rect x="100" y="300" width="700" height="150" fill="#FFCCBC" rx="15"></rect>
            <text x="450" y="330" fill="#D84315" font-size="16" text-anchor="middle">
                Full-Stack: Todo el stack | 65% desarrolladores (2025)
            </text>
            <text x="450" y="360" fill="#BF360C" font-size="14" text-anchor="middle">
                Stacks: MERN ‚Ä¢ MEAN ‚Ä¢ LAMP ‚Ä¢ .NET
            </text>
            <text x="450" y="395" fill="#D84315" font-size="12" text-anchor="middle">
                Deploy: Vercel ‚Ä¢ Render ‚Ä¢ AWS
            </text>

        </svg>

        <p><em>Flujo completo cliente ‚Üí servidor ‚Üí base de datos.</em></p>
    </div>


        <div class="ejemplo">
            <h4>Ejemplo Real: PHP + MySQL</h4>
            <pre><code>
// index.php (Frontend + Backend en un solo archivo)
<form method="post">
    <input name="nombre" placeholder="Nombre" required>
    <button>Guardar</button>
</form>

<?php
if ($_POST) {
    $pdo = new PDO("mysql:host=localhost;dbname=app", "root", "");
    $stmt = $pdo->prepare("INSERT INTO users (nombre) VALUES (?)");
    $stmt->execute([$_POST["nombre"]]);
    echo "Usuario guardado correctamente";
}
?>
            </code></pre>
        </div>
    ',
    'ejercicios' => [
        ['enunciado' => 'Frontend usa', 'respuesta' => 'HTML, CSS, JavaScript'],
        ['enunciado' => 'Backend procesa', 'respuesta' => 'L√≥gica, APIs, autenticaci√≥n'],
        ['enunciado' => 'BD almacena', 'respuesta' => 'Datos persistentes'],
        ['enunciado' => 'Full-Stack domina', 'respuesta' => 'Frontend + Backend + BD'],
        ['enunciado' => 'API REST usa', 'respuesta' => 'HTTP methods (GET, POST)'],
        ['enunciado' => 'Responsive con', 'respuesta' => 'Media Queries, Flexbox'],
        ['enunciado' => 'Deploy en', 'respuesta' => 'Vercel, Netlify, Heroku'],
        ['enunciado' => 'Stack MERN', 'respuesta' => 'Mongo, Express, React, Node'],
        ['enunciado' => 'PWA permite', 'respuesta' => 'Offline, notificaciones'],
        ['enunciado' => 'SSR es', 'respuesta' => 'Server-Side Rendering'],
        ['enunciado' => 'SI: % apps con PWA', 'respuesta' => '+70%'],
        ['enunciado' => 'Framework PHP', 'respuesta' => 'Laravel']
    ],
    'quiz' => [
        ['pregunta' => 'Frontend es', 'opciones' => ['Interfaz', 'L√≥gica', 'BD', 'Red'], 'correcta' => 'Interfaz'],
        ['pregunta' => 'Backend maneja', 'opciones' => ['APIs', 'Dise√±o', 'HTML', 'CSS'], 'correcta' => 'APIs'],
        ['pregunta' => 'Full-Stack incluye', 'opciones' => ['Todo', 'Solo front', 'Solo back', 'Dise√±o'], 'correcta' => 'Todo'],
        ['pregunta' => 'HTTP GET es para', 'opciones' => ['Leer', 'Crear', 'Actualizar', 'Eliminar'], 'correcta' => 'Leer'],
        ['pregunta' => 'POST para', 'opciones' => ['Crear', 'Leer', 'Actualizar', 'Eliminar'], 'correcta' => 'Crear'],
        ['pregunta' => 'Responsive adapta a', 'opciones' => ['Dispositivos', 'Solo PC', 'Impresi√≥n', 'Nada'], 'correcta' => 'Dispositivos'],
        ['pregunta' => 'PWA permite', 'opciones' => ['Offline', 'Solo online', 'Nada', 'Solo m√≥vil'], 'correcta' => 'Offline'],
        ['pregunta' => 'SSR mejora', 'opciones' => ['SEO', 'Velocidad', 'Dise√±o', 'Nada'], 'correcta' => 'SEO'],
        ['pregunta' => 'Deploy en Vercel es', 'opciones' => ['Gratis', 'Solo pago', 'Local', 'Error'], 'correcta' => 'Gratis'],
        ['pregunta' => 'Git es para', 'opciones' => ['Control versi√≥n', 'Dise√±o', 'BD', 'Hosting'], 'correcta' => 'Control versi√≥n'],

        ['pregunta' => 'Stack LAMP', 'opciones' => ['Linux, Apache, MySQL, PHP', 'Windows', 'Node', 'React'], 'correcta' => 'Linux, Apache, MySQL, PHP'],
        ['pregunta' => 'MERN usa', 'opciones' => ['MongoDB', 'MySQL', 'PostgreSQL', 'SQLite'], 'correcta' => 'MongoDB'],
        ['pregunta' => 'Framework React', 'opciones' => ['Next.js', 'Laravel', 'Django', 'Flask'], 'correcta' => 'Next.js'],
        ['pregunta' => 'API REST devuelve', 'opciones' => ['JSON', 'HTML', 'CSS', 'XML'], 'correcta' => 'JSON'],
        ['pregunta' => 'CORS es para', 'opciones' => ['Seguridad dominios', 'Velocidad', 'Dise√±o', 'Nada'], 'correcta' => 'Seguridad dominios'],
        ['pregunta' => 'JWT para', 'opciones' => ['Autenticaci√≥n', 'Dise√±o', 'BD', 'Hosting'], 'correcta' => 'Autenticaci√≥n'],
        ['pregunta' => 'Docker', 'opciones' => ['Contenedores', 'VM', 'Nube', 'IDE'], 'correcta' => 'Contenedores'],
        ['pregunta' => 'CI/CD significa', 'opciones' => ['Integraci√≥n/Despliegue continuo', 'C√≥digo', 'Dise√±o', 'Nada'], 'correcta' => 'Integraci√≥n/Despliegue continuo'],
        ['pregunta' => 'SI 2025: % full-stack', 'opciones' => ['65%', '30%', '90%', '10%'], 'correcta' => '65%'],
        ['pregunta' => 'App m√°s usada', 'opciones' => ['Web', 'M√≥vil', 'Desktop', 'IoT'], 'correcta' => 'Web'],

        ['pregunta' => 'Frontend framework', 'opciones' => ['React', 'Laravel', 'Express', 'Django'], 'correcta' => 'React'],
        ['pregunta' => 'Backend PHP', 'opciones' => ['Laravel', 'React', 'Vue', 'Angular'], 'correcta' => 'Laravel'],
        ['pregunta' => 'BD NoSQL', 'opciones' => ['MongoDB', 'MySQL', 'SQLite', 'Oracle'], 'correcta' => 'MongoDB'],
        ['pregunta' => 'Cloud para web', 'opciones' => ['AWS, Vercel', 'Local', 'USB', 'CD'], 'correcta' => 'AWS, Vercel'],
        ['pregunta' => 'HTTPS es', 'opciones' => ['Seguro', 'Lento', 'Opcional', 'Error'], 'correcta' => 'Seguro'],
        ['pregunta' => 'Cache mejora', 'opciones' => ['Velocidad', 'Seguridad', 'Dise√±o', 'Nada'], 'correcta' => 'Velocidad'],
        ['pregunta' => 'Microservicios', 'opciones' => ['Escalable', 'Monolito', 'Lento', 'Simple'], 'correcta' => 'Escalable'],
        ['pregunta' => 'WebSocket para', 'opciones' => ['Tiempo real', 'Est√°tico', 'Archivos', 'Email'], 'correcta' => 'Tiempo real'],
        ['pregunta' => 'SI 2025: % apps PWA', 'opciones' => ['+70%', '30%', '10%', '0%'], 'correcta' => '+70%'],
        ['pregunta' => 'Full-Stack ideal para', 'opciones' => ['Startups, MVP', 'Bancos', 'Gobierno', 'Hardware'], 'correcta' => 'Startups, MVP']
    ]
];
// ========================================
// MATERIA: PROGRAMACI√ìN
// SUBTEMA: C# + .NET: Consola, WinForms, ASP.NET, Simulador y Retos 2025
// ========================================
$lecciones[] = [
    'materia' => 'Programaci√≥n',
    'slug' => 'lenguajes-csharp',
    'titulo' => 'C# + .NET: Consola, Frameworks, Simulador y Retos Interactivos',
    'contenido' => '
<div id="cs-section" class="cs-box">

<h3 id="cs-intro">C# + .NET: El Stack L√≠der para Empresas en 2025</h3>
<p><strong>C#</strong> = lenguaje moderno, tipado, orientado a objetos. 
<strong>.NET</strong> = plataforma multiplataforma. Usado en: 
<strong>CLI</strong>, <strong>WinForms</strong>, <strong>ASP.NET</strong>, 
<strong>Unity</strong>, <strong>Blazor</strong>.  
En 2025: <strong>82% de empresas Fortune 500 usan C#</strong>.</p>

<hr class="cs-hr">

<h4 id="cs-ecosistema">1. Ecosistema .NET 2025</h4>

<table class="cs-table">
    <thead>
        <tr><th>Tipo</th><th>Framework</th><th>Uso</th></tr>
    </thead>
    <tbody>
        <tr><td><strong>Consola</strong></td><td>.NET Console</td><td>CLI, automatizaci√≥n</td></tr>
        <tr><td><strong>Desktop</strong></td><td>WinForms, WPF, MAUI</td><td>Windows y multiplataforma</td></tr>
        <tr><td><strong>Web</strong></td><td>ASP.NET Core</td><td>APIs REST, MVC, Blazor</td></tr>
        <tr><td><strong>Juegos</strong></td><td>Unity</td><td>2D/3D, VR, m√≥vil</td></tr>
        <tr><td><strong>Cloud</strong></td><td>Azure Functions</td><td>Serverless, microservicios</td></tr>
    </tbody>
</table>

<hr class="cs-hr">

<h4 id="cs-simulador">2. Simulador C# en Tiempo Real</h4>

<div class="cs-sim">

    <p><strong>Ejecuta c√≥digo C# aqu√≠:</strong></p>

    <textarea id="cs-editor" class="cs-textarea" rows="10">// Escribe tu c√≥digo C#
using System;

public class Program
{
    public static void Main()
    {
        Console.WriteLine("Hola desde C#");
        int x = 10;
        Console.WriteLine($"x = {x}");
    }
}</textarea>

    <button id="cs-run" class="cs-btn" onclick="ejecutarCSharp()">Ejecutar</button>

    <div id="cs-output" class="cs-console"></div>

    <script>
        function ejecutarCSharp() {

            const code = document.getElementById("cs-editor").value;
            const out = document.getElementById("cs-output");

            out.innerHTML = "<span class=\"cs-term-info\">Compilando y ejecutando...</span>";

            let result = "";
            try {
                const lines = code.split("\\n");
                let inMain = false;

                lines.forEach(line => {
                    const trimmed = line.trim();
                    if (trimmed.includes("Main()")) inMain = true;
                    if (!inMain) return;

                    if (trimmed.startsWith("Console.WriteLine")) {
                        const match = trimmed.match(/Console\\.WriteLine\\(\\s*([\"\\\'\\`])(.*?)\\1\\s*\\)/);
                        if (match) {
                            result += match[2] + "\\n";
                        }
                    }
                });

                if (result === "") result = "(sin salida)";

                out.innerHTML = "<pre>" + result + "</pre>";

            } catch (err) {
                out.innerHTML = "<span class=\"cs-term-err\">Error: " + err.message + "</span>";
            }
        }
    </script>

</div>

<hr class="cs-hr">

<h4 id="cs-reto">3. Reto: Calculadora en Consola</h4>

<div class="cs-ejemplo">
    <p><strong>Desaf√≠o:</strong> Crea una calculadora con:</p>
    <ol>
        <li>Lectura de 2 n√∫meros</li>
        <li>Men√∫: sumar, restar, multiplicar, dividir</li>
        <li>Manejo de divisi√≥n entre cero</li>
        <li>Repetici√≥n hasta salir</li>
    </ol>

    <details class="cs-details">
        <summary>Ver soluci√≥n</summary>
        <pre class="cs-code"><code>
using System;

class Calculadora
{
    static void Main()
    {
        while (true)
        {
            Console.Write("Num1: ");
            double a = double.Parse(Console.ReadLine());
            Console.Write("Num2: ");
            double b = double.Parse(Console.ReadLine());

            Console.WriteLine("\\n1. Sumar\\n2. Restar\\n3. Multiplicar\\n4. Dividir\\n5. Salir");
            Console.Write("Opci√≥n: ");
            string op = Console.ReadLine();

            switch (op)
            {
                case "1": Console.WriteLine($"Resultado: {a + b}"); break;
                case "2": Console.WriteLine($"Resultado: {a - b}"); break;
                case "3": Console.WriteLine($"Resultado: {a * b}"); break;
                case "4":
                    if (b == 0) Console.WriteLine("Error: divisi√≥n por cero");
                    else Console.WriteLine($"Resultado: {a / b}");
                    break;
                case "5": return;
                default: Console.WriteLine("Opci√≥n inv√°lida"); break;
            }
            Console.WriteLine("\\nEnter...");
            Console.ReadLine();
        }
    }
}
        </code></pre>
    </details>
</div>

<hr class="cs-hr">

<h4 id="cs-svg">4. SVG Animado: Flujo C# ‚Üí .NET ‚Üí App</h4>

<div class="cs-svg-wrap">

<svg id="cs-svg-diagram" viewBox="0 0 900 500" xmlns="http://www.w3.org/2000/svg">

    <rect x="0" y="0" width="900" height="500" fill="#F3E5F5"/>

    <text x="450" y="50" fill="#4A148C" font-size="28" text-anchor="middle" font-weight="bold">
        C# + .NET 2025
    </text>

    <!-- BLOQUE 1 -->
    <g id="cs-nodo-codigo" class="cs-animate">
        <rect x="100" y="120" width="160" height="120" fill="#7B1FA2" rx="20"/>
        <text x="180" y="160" fill="white" font-size="18" text-anchor="middle">C√≥digo C#</text>
        <text x="180" y="190" fill="#E1BEE7" font-size="14" text-anchor="middle">class Program</text>
        <text x="180" y="215" fill="#E1BEE7" font-size="12" text-anchor="middle">Main()</text>
    </g>

    <!-- BLOQUE 2 -->
    <g id="cs-nodo-runtime" class="cs-animate" style="animation-delay:0.35s">
        <rect x="370" y="100" width="160" height="160" fill="#6A1B9A" rx="20"/>
        <text x="450" y="140" fill="white" font-size="18" text-anchor="middle">.NET</text>
        <text x="450" y="170" fill="#E1BEE7" font-size="14" text-anchor="middle">Core</text>
        <text x="450" y="195" fill="#E1BEE7" font-size="12" text-anchor="middle">Multiplataforma</text>
        <text x="450" y="220" fill="#E1BEE7" font-size="12" text-anchor="middle">ASP.NET</text>
    </g>

    <!-- BLOQUE 3 -->
    <g id="cs-nodo-app" class="cs-animate" style="animation-delay:0.7s">
        <rect x="660" y="120" width="160" height="120" fill="#4A148C" rx="20"/>
        <text x="740" y="160" fill="white" font-size="18" text-anchor="middle">App</text>
        <text x="740" y="190" fill="#E1BEE7" font-size="14" text-anchor="middle">Consola</text>
        <text x="740" y="215" fill="#E1BEE7" font-size="12" text-anchor="middle">Web / Desktop</text>
    </g>

    <!-- Flechas -->
    <defs>
        <marker id="arrow-purple" markerWidth="12" markerHeight="12" refX="10" refY="3" orient="auto">
            <path d="M0,0 L0,6 L9,3 z" fill="#7B1FA2"/>
        </marker>
    </defs>

    <line x1="260" y1="180" x2="370" y2="180" stroke="#7B1FA2" stroke-width="5" marker-end="url(#arrow-purple)"/>
    <text x="315" y="165" fill="#4A148C" font-size="14" text-anchor="middle">dotnet build</text>

    <line x1="530" y1="180" x2="660" y2="180" stroke="#7B1FA2" stroke-width="5" marker-end="url(#arrow-purple)"/>
    <text x="595" y="165" fill="#4A148C" font-size="14" text-anchor="middle">Ejecutable</text>

</svg>

<p><em>SVG Animado: Compilaci√≥n y ejecuci√≥n en .NET.</em></p>

</div>

<hr class="cs-hr">

<div class="cs-ejemplo">
    <h4>Ejemplo ASP.NET Core API:</h4>
    <pre class="cs-code"><code>
// Program.cs
var builder = WebApplication.CreateBuilder();
var app = builder.Build();

app.MapGet("/api/saludo", () => "Hola desde C# API");

app.Run();
    </code></pre>
</div>

</div>
',
    'ejercicios' => [
        ['enunciado' => 'Hello World C#', 'respuesta' => 'Console.WriteLine("Hello");'],
        ['enunciado' => 'using System para', 'respuesta' => 'Acceder a Console'],
        ['enunciado' => 'Main es', 'respuesta' => 'Punto de entrada'],
        ['enunciado' => 'Framework web', 'respuesta' => 'ASP.NET Core'],
        ['enunciado' => 'Desktop con', 'respuesta' => 'WinForms, WPF, MAUI'],
        ['enunciado' => 'Juegos con', 'respuesta' => 'Unity'],
        ['enunciado' => 'dotnet new console', 'respuesta' => 'Crea app consola'],
        ['enunciado' => 'var infiere', 'respuesta' => 'Tipo autom√°ticamente'],
        ['enunciado' => 'string interpolation', 'respuesta' => '$"texto {var}"'],
        ['enunciado' => 'try-catch para', 'respuesta' => 'Manejo errores'],
        ['enunciado' => 'SI: % empresas C#', 'respuesta' => '82%'],
        ['enunciado' => 'Blazor ejecuta', 'respuesta' => 'C# en navegador']
    ],
    'quiz' => [
        ['pregunta' => 'C# es', 'opciones' => ['Tipado est√°tico', 'Din√°mico', 'Interpretado', 'Script'], 'correcta' => 'Tipado est√°tico'],
        ['pregunta' => '.NET es', 'opciones' => ['Multiplataforma', 'Solo Windows', 'Solo Linux', 'M√≥vil'], 'correcta' => 'Multiplataforma'],
        ['pregunta' => 'Console.WriteLine', 'opciones' => ['Imprime', 'Lee', 'Borra', 'Nada'], 'correcta' => 'Imprime'],
        ['pregunta' => 'Main retorna', 'opciones' => ['void', 'int', 'string', 'bool'], 'correcta' => 'void'],
        ['pregunta' => 'ASP.NET para', 'opciones' => ['Web', 'Consola', 'Juegos', 'BD'], 'correcta' => 'Web'],
        ['pregunta' => 'MAUI para', 'opciones' => ['Apps nativas', 'Web', 'Juegos', 'CLI'], 'correcta' => 'Apps nativas'],
        ['pregunta' => 'Blazor usa', 'opciones' => ['WebAssembly', 'Node.js', 'PHP', 'Python'], 'correcta' => 'WebAssembly'],
        ['pregunta' => 'Unity usa', 'opciones' => ['C#', 'C++', 'Java', 'JS'], 'correcta' => 'C#'],
        ['pregunta' => 'var x = 5; x es', 'opciones' => ['int', 'string', 'double', 'object'], 'correcta' => 'int'],
        ['pregunta' => 'try-catch maneja', 'opciones' => ['Excepciones', 'Errores', 'Nada', 'Todo'], 'correcta' => 'Excepciones'],

        ['pregunta' => 'dotnet run', 'opciones' => ['Ejecuta', 'Compila', 'Instala', 'Borra'], 'correcta' => 'Ejecuta'],
        ['pregunta' => 'List<T> es', 'opciones' => ['Colecci√≥n gen√©rica', 'Arreglo', 'Diccionario', 'String'], 'correcta' => 'Colecci√≥n gen√©rica'],
        ['pregunta' => 'LINQ para', 'opciones' => ['Consultas', 'Dise√±o', 'Red', 'Archivos'], 'correcta' => 'Consultas'],
        ['pregunta' => 'async/await para', 'opciones' => ['Asincron√≠a', 'Sincron√≠a', 'Hilos', 'Procesos'], 'correcta' => 'Asincron√≠a'],
        ['pregunta' => 'record es', 'opciones' => ['Inmutable', 'Mutable', 'Clase', 'Interfaz'], 'correcta' => 'Inmutable'],
        ['pregunta' => 'Nullable<int> permite', 'opciones' => ['null', 'Solo 0', 'Nada', 'Error'], 'correcta' => 'null'],
        ['pregunta' => 'C# 13 incluye', 'opciones' => ['Primary constructors', 'C# 1', 'Nada', 'Errores'], 'correcta' => 'Primary constructors'],
        ['pregunta' => '.NET 9 es', 'opciones' => ['LTS', 'Preview', 'Obsoleto', 'M√≥vil'], 'correcta' => 'LTS'],
        ['pregunta' => 'SI 2025: C# en', 'opciones' => ['Top 5 lenguajes', 'Top 20', 'Obsoleto', 'Solo juegos'], 'correcta' => 'Top 5 lenguajes'],
        ['pregunta' => 'Empresas con C#', 'opciones' => ['Microsoft, Stack Overflow', 'Solo startups', 'Ninguna', 'Apple'], 'correcta' => 'Microsoft, Stack Overflow'],

        ['pregunta' => 'Visual Studio es', 'opciones' => ['IDE oficial', 'Editor texto', 'Navegador', 'BD'], 'correcta' => 'IDE oficial'],
        ['pregunta' => 'VS Code con', 'opciones' => ['C# Dev Kit', 'Python', 'Java', 'Nada'], 'correcta' => 'C# Dev Kit'],
        ['pregunta' => 'Azure para', 'opciones' => ['Cloud Microsoft', 'Local', 'AWS', 'Google'], 'correcta' => 'Cloud Microsoft'],
        ['pregunta' => 'Entity Framework', 'opciones' => ['ORM', 'Dise√±o', 'Red', 'Juegos'], 'correcta' => 'ORM'],
        ['pregunta' => 'xUnit para', 'opciones' => ['Pruebas unitarias', 'UI', 'BD', 'Red'], 'correcta' => 'Pruebas unitarias'],
        ['pregunta' => 'Minimal APIs', 'opciones' => ['ASP.NET simple', 'Complejas', 'Consola', 'Juegos'], 'correcta' => 'ASP.NET simple'],
        ['pregunta' => 'Hot Reload', 'opciones' => ['Cambios en vivo', 'Compilar', 'Nada', 'Error'], 'correcta' => 'Cambios en vivo'],
        ['pregunta' => 'SI 2025: % devs C#', 'opciones' => ['+12M', '1M', '100K', '0'], 'correcta' => '+12M'],
        ['pregunta' => 'C# ideal para', 'opciones' => ['Empresas, juegos, web', 'Solo web', 'Solo m√≥vil', 'Nada'], 'correcta' => 'Empresas, juegos, web'],
        ['pregunta' => 'Futuro C#', 'opciones' => ['Cloud, IA, Web', 'Obsoleto', 'Solo desktop', 'M√≥vil'], 'correcta' => 'Cloud, IA, Web']
    ]
];
// ========================================
// MATERIA: PROGRAMACI√ìN
// SUBTEMA: JavaScript Animaciones: requestAnimationFrame, GSAP, Canvas, Simulador y Retos
// ========================================
$lecciones[] = [
    'materia' => 'Programaci√≥n',
    'slug' => 'js-animaciones',
    'titulo' => 'JS Animaciones: DOM, Canvas, GSAP, Simulador Interactivo y Retos 2025',
    'contenido' => '
<div id="js-section" class="js-section">

<h3 id="js-title">JavaScript: El Motor de Animaciones Web en 2025</h3>
<p><strong>JS</strong> controla animaciones con <code>requestAnimationFrame</code>, 
<strong>CSS transitions</strong>, <strong>Web Animations API</strong>, <strong>GSAP</strong>, 
<strong>Three.js</strong>. En 2025: <strong>94% de sitios top</strong> emplean animaciones JS.</p>

<hr class="js-hr">

<h4 id="js-metodos">1. M√©todos de Animaci√≥n JS</h4>

<table class="js-table">
    <thead>
        <tr><th>M√©todo</th><th>API</th><th>Uso</th></tr>
    </thead>
    <tbody>
        <tr><td><strong>DOM + CSS</strong></td><td><code>classList.add()</code></td><td>Transiciones simples</td></tr>
        <tr><td><strong>requestAnimationFrame</strong></td><td><code>window.requestAnimationFrame</code></td><td>60 FPS, juegos</td></tr>
        <tr><td><strong>Web Animations API</strong></td><td><code>element.animate()</code></td><td>Control total</td></tr>
        <tr><td><strong>GSAP</strong></td><td><code>gsap.to()</code></td><td>Complejas, timelines</td></tr>
        <tr><td><strong>Canvas 2D</strong></td><td><code>ctx.fillRect()</code></td><td>Gr√°ficos, part√≠culas</td></tr>
    </tbody>
</table>

<hr class="js-hr">

<h4 id="js-simulador">2. Simulador de Animaci√≥n en Tiempo Real</h4>

<div class="js-sim">
    <p><strong>Arrastra el c√≠rculo y suelta:</strong></p>

    <div id="js-sim-area" class="js-sim-area">
        <div id="js-ball" class="js-ball"></div>
    </div>

    <button class="js-sim-btn" onclick="jsResetBall()">Reiniciar</button>

    <div id="js-sim-output" class="js-sim-output"></div>

    <script>
        const jsBall = document.getElementById("js-ball");
        const jsOut = document.getElementById("js-sim-output");
        let jsDragging = false;
        let sx, sy, tx, ty, cx = 20, cy = 75;
        let vx = 0, vy = 0;
        const jsFriction = 0.9;
        const jsSpring = 0.1;

        jsBall.addEventListener("mousedown", e => {
            jsDragging = true;
            sx = e.clientX - cx;
            sy = e.clientY - cy;
            jsOut.innerHTML = "<span style=\"color:#E65100\">Arrastrando...</span>";
            jsBall.style.cursor = "grabbing";
        });

        document.addEventListener("mousemove", e => {
            if (!jsDragging) return;
            cx = e.clientX - sx;
            cy = e.clientY - sy;
            jsBall.style.left = cx + "px";
            jsBall.style.top = cy + "px";
        });

        document.addEventListener("mouseup", () => {
            if (!jsDragging) return;
            jsDragging = false;
            jsBall.style.cursor = "grab";
            tx = cx;
            ty = cy;
            vx = 0;
            vy = 0;
            jsOut.innerHTML = "<span style=\"color:green\">¬°Soltado! F√≠sica activada.</span>";
            requestAnimationFrame(jsAnimate);
        });

        function jsAnimate() {
            const dx = tx - cx;
            const dy = ty - cy;

            vx += dx * jsSpring;
            vy += dy * jsSpring;
            vx *= jsFriction;
            vy *= jsFriction;

            cx += vx;
            cy += vy;

            jsBall.style.left = cx + "px";
            jsBall.style.top = cy + "px";

            if (Math.abs(dx) > 1 || Math.abs(dy) > 1 || Math.abs(vx) > 0.1) {
                requestAnimationFrame(jsAnimate);
            } else {
                jsOut.innerHTML = `<span style="color:#6D4C41">Estable en X: ${Math.round(cx)}px, Y: ${Math.round(cy)}px</span>`;
            }
        }

        function jsResetBall() {
            cx = 20; cy = 75;
            jsBall.style.left = cx + "px";
            jsBall.style.top = cy + "px";
            jsOut.innerHTML = "<span style=\'color:#999\'>Reiniciado.</span>";
        }
    </script>

    <p><em>Simulador f√≠sico con requestAnimationFrame + f√≠sica b√°sica.</em></p>
</div>

<hr class="js-hr">

<h4 id="js-scroll-reveal">3. Reto: Animaci√≥n Scroll Reveal</h4>

<div class="js-reto">
    <p><strong>Desaf√≠o:</strong> Animar elementos con fade + slide al hacer scroll.</p>

    <details>
        <summary>Ver soluci√≥n</summary>
        <pre class="js-code"><code>
// CSS
.reveal {
    opacity: 0;
    transform: translateY(50px);
    transition: .6s ease;
}
.reveal.show {
    opacity: 1;
    transform: none;
}

// JS
const obs = new IntersectionObserver(entries => {
    entries.forEach(e => e.isIntersecting && e.target.classList.add("show"));
});
document.querySelectorAll(".reveal").forEach(el => obs.observe(el));
</code></pre>
    </details>
</div>

<hr class="js-hr">

<h4 id="js-svg">4. SVG Animado: Part√≠cula F√≠sica</h4>

<div class="js-svg-wrap">

<svg id="js-svg-anim" viewBox="0 0 600 300">
    <rect width="600" height="300" fill="#FFF8E1" stroke="#FFB300" stroke-width="2"/>

    <g id="js-svg-node" class="js-animate">
        <circle id="js-particle" cx="50" cy="150" r="20" fill="#FF6F00"/>
        <text x="300" y="280" fill="#E65100" font-size="14" text-anchor="middle">
            requestAnimationFrame ‚Üí 60 FPS
        </text>
    </g>
</svg>

<p><em>Part√≠cula animada con f√≠sica real.</em></p>

<script>
    const p = document.getElementById("js-particle");
    let px = 50, py = 150, pvx = 5, pvy = 0;
    const g = 0.5, b = 0.8, fr = 0.99;

    function jsParticleAnim() {
        pvy += g;
        px += pvx;
        py += pvy;

        if (py > 250) {
            py = 250;
            pvy = -pvy * b;
            pvx *= fr;
        }
        if (px > 560 || px < 40) pvx = -pvx;

        p.setAttribute("cx", px);
        p.setAttribute("cy", py);

        requestAnimationFrame(jsParticleAnim);
    }
    jsParticleAnim();
</script>

</div>

<hr class="js-hr">

<div class="ejemplo">
    <h4>Ejemplo GSAP Timeline:</h4>
    <pre class="js-code"><code>
gsap.timeline()
    .to(".box", { x: 300, rotation: 360, duration: 1 })
    .to(".box", { y: 100, scale: .5, duration: .5 })
    .to(".box", { opacity: 0, duration: .5 });
</code></pre>
</div>

</div>
',
    'ejercicios' => [
        ['enunciado' => 'Animar con JS puro', 'respuesta' => 'requestAnimationFrame(callback)'],
        ['enunciado' => 'Transici√≥n CSS', 'respuesta' => 'element.style.transition = \'1s\''],
        ['enunciado' => 'Agregar clase animada', 'respuesta' => 'element.classList.add(\'animate\')'],
        ['enunciado' => 'GSAP to()', 'respuesta' => 'gsap.to(target, {props})'],
        ['enunciado' => 'Canvas contexto', 'respuesta' => 'ctx = canvas.getContext(\'2d\')'],
        ['enunciado' => 'Web Animations API', 'respuesta' => 'element.animate(keyframes, options)'],
        ['enunciado' => 'Scroll event', 'respuesta' => 'window.addEventListener(\'scroll\', fn)'],
        ['enunciado' => 'IntersectionObserver', 'respuesta' => 'new IntersectionObserver(callback)'],
        ['enunciado' => 'Lottie para', 'respuesta' => 'Animaciones JSON (After Effects)'],
        ['enunciado' => 'Three.js para', 'respuesta' => '3D en navegador'],
        ['enunciado' => 'SI: % sitios con anim', 'respuesta' => '94%'],
        ['enunciado' => '60 FPS =', 'respuesta' => '16.67ms por frame']
    ],
    'quiz' => [
        ['pregunta' => 'requestAnimationFrame', 'opciones' => ['60 FPS', '30 FPS', '1 FPS', 'Variable'], 'correcta' => '60 FPS'],
        ['pregunta' => 'GSAP es', 'opciones' => ['Biblioteca', 'Nativo', 'CSS', 'HTML'], 'correcta' => 'Biblioteca'],
        ['pregunta' => 'animate() es', 'opciones' => ['Web Animations API', 'jQuery', 'PHP', 'React'], 'correcta' => 'Web Animations API'],
        ['pregunta' => 'Canvas para', 'opciones' => ['Dibujo 2D/3D', 'Texto', 'Im√°genes', 'Todo'], 'correcta' => 'Dibujo 2D/3D'],
        ['pregunta' => 'transition en', 'opciones' => ['CSS', 'JS', 'HTML', 'SVG'], 'correcta' => 'CSS'],
        ['pregunta' => 'transform modifica', 'opciones' => ['Posici√≥n, escala', 'Color', 'Texto', 'Fuente'], 'correcta' => 'Posici√≥n, escala'],
        ['pregunta' => 'opacity de 0 a 1', 'opciones' => ['Fade in', 'Fade out', 'Slide', 'Rotate'], 'correcta' => 'Fade in'],
        ['pregunta' => 'Scroll reveal usa', 'opciones' => ['IntersectionObserver', 'setInterval', 'setTimeout', 'PHP'], 'correcta' => 'IntersectionObserver'],
        ['pregunta' => 'Lottie anima', 'opciones' => ['JSON', 'GIF', 'MP4', 'SVG'], 'correcta' => 'JSON'],
        ['pregunta' => 'Three.js es', 'opciones' => ['WebGL', 'Canvas', 'CSS', 'DOM'], 'correcta' => 'WebGL'],

        ['pregunta' => 'GSAP timeline', 'opciones' => ['Secuencia', 'Paralelo', 'Aleatorio', '√önica'], 'correcta' => 'Secuencia'],
        ['pregunta' => 'ease: "bounce"', 'opciones' => ['GSAP', 'CSS', 'JS', 'HTML'], 'correcta' => 'GSAP'],
        ['pregunta' => 'stagger en GSAP', 'opciones' => ['Retraso secuencial', 'Color', 'Tama√±o', 'Nada'], 'correcta' => 'Retraso secuencial'],
        ['pregunta' => 'ScrollTrigger', 'opciones' => ['GSAP plugin', 'Nativo', 'CSS', 'React'], 'correcta' => 'GSAP plugin'],
        ['pregunta' => 'MorphSVGPlugin', 'opciones' => ['Transforma SVG', 'Dibuja', 'Colorea', 'Elimina'], 'correcta' => 'Transforma SVG'],
        ['pregunta' => 'Canvas vs SVG', 'opciones' => ['Canvas: p√≠xeles | SVG: vector', 'Igual', 'Canvas: vector', 'SVG: p√≠xeles'], 'correcta' => 'Canvas: p√≠xeles | SVG: vector'],
        ['pregunta' => 'SI 2025: animaciones', 'opciones' => ['94% sitios', '50%', '10%', '0%'], 'correcta' => '94% sitios'],
        ['pregunta' => 'Mejor performance', 'opciones' => ['requestAnimationFrame', 'setInterval', 'setTimeout', 'CSS'], 'correcta' => 'requestAnimationFrame'],
        ['pregunta' => 'CSS preferido para', 'opciones' => ['Transiciones simples', 'Juegos', 'Part√≠culas', '3D'], 'correcta' => 'Transiciones simples'],
        ['pregunta' => 'GSAP ideal para', 'opciones' => ['Complejas, timelines', 'Fade', 'Hover', 'Scroll'], 'correcta' => 'Complejas, timelines'],

        ['pregunta' => 'WebGL para', 'opciones' => ['3D acelerado', '2D', 'Texto', 'Formularios'], 'correcta' => '3D acelerado'],
        ['pregunta' => 'Framer Motion', 'opciones' => ['React', 'Vue', 'Angular', 'Vanilla'], 'correcta' => 'React'],
        ['pregunta' => 'Anime.js', 'opciones' => ['Ligero', 'Pesado', 'Solo SVG', 'Solo Canvas'], 'correcta' => 'Ligero'],
        ['pregunta' => '60 FPS =', 'opciones' => ['16.67ms', '100ms', '1s', '10ms'], 'correcta' => '16.67ms'],
        ['pregunta' => 'will-change', 'opciones' => ['Optimiza GPU', 'Color', 'Tama√±o', 'Nada'], 'correcta' => 'Optimiza GPU'],
        ['pregunta' => 'transform: translateZ(0)', 'opciones' => ['Forzar GPU', '2D', '3D', 'Nada'], 'correcta' => 'Forzar GPU'],
        ['pregunta' => 'Parallax con JS', 'opciones' => ['scrollY * factor', 'click', 'hover', 'load'], 'correcta' => 'scrollY * factor'],
        ['pregunta' => 'SI 2025: % con GSAP', 'opciones' => ['+40% top sites', '5%', '90%', '0%'], 'correcta' => '+40% top sites'],
        ['pregunta' => 'Animaciones mejoran', 'opciones' => ['UX, engagement', 'Velocidad', 'SEO', 'Nada'], 'correcta' => 'UX, engagement'],
        ['pregunta' => 'Futuro animaciones', 'opciones' => ['IA, 3D, WebXR', 'Flash', 'GIF', 'Static'], 'correcta' => 'IA, 3D, WebXR']
    ]
];
// ========================================
// MATERIA: PROGRAMACI√ìN
// SUBTEMA: HTML5: Estructura, Sem√°ntica, Formularios, Simulador y Retos 2025
// ========================================
$lecciones[] = [
    'materia' => 'Programaci√≥n',
    'slug' => 'html-pagina-web',
    'titulo' => 'HTML5: Estructura Sem√°ntica, Formularios, Simulador y Retos Interactivos',
    'contenido' => '
<div id="html5-section" class="html-section">

    <h3 id="html5-title">HTML5: La Base Sem√°ntica del Frontend Moderno en 2025</h3>
    <p id="html5-intro">
        <strong>HTML5</strong> = est√°ndar actual para estructurar contenido web con 
        <strong>sem√°ntica</strong>: <code>&lt;header&gt;</code>, <code>&lt;nav&gt;</code>, 
        <code>&lt;main&gt;</code>, <code>&lt;article&gt;</code>, <code>&lt;section&gt;</code>, 
        <code>&lt;footer&gt;</code>. Incluye <strong>APIs nativas</strong>: Canvas, Audio, 
        Video, Geolocalizaci√≥n, Web Storage. En 2025: 
        <strong>99.9% navegadores soportan HTML5</strong> (CanIUse).
    </p>

    <hr class="html-hr">

    <!-- =====================================================
         1. TABLA SEM√ÅNTICA 
         ===================================================== -->
    <h4 id="html5-table-title">1. Estructura Sem√°ntica HTML5</h4>

    <table id="html5-table" class="html-table table">
        <thead>
            <tr><th>Tag</th><th>Funci√≥n</th><th>Ejemplo</th></tr>
        </thead>
        <tbody>
            <tr><td><strong>&lt;header&gt;</strong></td><td>Encabezado p√°gina/secci√≥n</td><td>Logo + nav</td></tr>
            <tr><td><strong>&lt;nav&gt;</strong></td><td>Men√∫ navegaci√≥n</td><td>Enlaces principales</td></tr>
            <tr><td><strong>&lt;main&gt;</strong></td><td>Contenido principal</td><td>√önico por p√°gina</td></tr>
            <tr><td><strong>&lt;article&gt;</strong></td><td>Contenido independiente</td><td>Blog post</td></tr>
            <tr><td><strong>&lt;section&gt;</strong></td><td>Secci√≥n tem√°tica</td><td>Cap√≠tulo</td></tr>
            <tr><td><strong>&lt;aside&gt;</strong></td><td>Contenido lateral</td><td>Sidebar</td></tr>
            <tr><td><strong>&lt;footer&gt;</strong></td><td>Pie de p√°gina</td><td>Copyright</td></tr>
        </tbody>
    </table>

    <hr class="html-hr">

    <!-- =====================================================
         2. SIMULADOR HTML  
         ===================================================== -->
    <h4 id="html5-simulador-title">2. Simulador HTML5 en Tiempo Real</h4>

    <div id="html5-simulador" class="html-sim">
        <p><strong>Edita el HTML y ve el resultado:</strong></p>

        <div id="html5-sim-container" class="html-sim-container">
            <textarea id="html5-input" rows="10">&lt;!DOCTYPE html&gt;
&lt;html lang="es"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Mi P√°gina&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Hola HTML5&lt;/h1&gt;
    &lt;p&gt;Este es un &lt;strong&gt;p√°rrafo&lt;/strong&gt; con &lt;a href="#"&gt;enlace&lt;/a&gt;.&lt;/p&gt;
    &lt;img src="https://via.placeholder.com/150" alt="Placeholder"&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea>

            <iframe id="html5-output"></iframe>
        </div>

        <button id="html5-update-btn" class="html-btn" onclick="html5Actualizar()">Actualizar</button>

        <script>
            function html5Actualizar() {
                const input = document.getElementById("html5-input").value;
                const output = document.getElementById("html5-output").contentWindow.document;
                output.open();
                output.write(input);
                output.close();
            }
            html5Actualizar();
        </script>

        <p><em>Simulador embebido: escribe HTML v√°lido y observa el render en vivo.</em></p>
    </div>

    <hr class="html-hr">

    <!-- =====================================================
         3. RETO 
         ===================================================== -->
    <h4 id="html5-reto-title">3. Reto: Landing Page Sem√°ntica</h4>

    <div id="html5-reto" class="html-reto">
        <p><strong>Desaf√≠o:</strong> Crea una landing page con:</p>
        <ol>
            <li><code>&lt;header&gt;</code> con logo y men√∫</li>
            <li><code>&lt;main&gt;</code> con <code>&lt;section&gt;</code> hero</li>
            <li><code>&lt;article&gt;</code> con cards</li>
            <li><code>&lt;footer&gt;</code> con copyright</li>
        </ol>

        <details>
            <summary>Ver soluci√≥n</summary>
            <pre class="html-code"><code>
&lt;!DOCTYPE html&gt;
&lt;html lang="es"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;Mi Landing&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;header&gt;
        &lt;h1&gt;Mi Marca&lt;/h1&gt;
        &lt;nav&gt;
            &lt;a href="#"&gt;Inicio&lt;/a&gt;
            &lt;a href="#"&gt;Servicios&lt;/a&gt;
            &lt;a href="#"&gt;Contacto&lt;/a&gt;
        &lt;/nav&gt;
    &lt;/header&gt;

    &lt;main&gt;
        &lt;section class="hero"&gt;
            &lt;h2&gt;Bienvenido&lt;/h2&gt;
            &lt;p&gt;Texto persuasivo aqu√≠.&lt;/p&gt;
            &lt;button&gt;Acci√≥n&lt;/button&gt;
        &lt;/section&gt;

        &lt;section class="cards"&gt;
            &lt;article&gt;
                &lt;h3&gt;Feature 1&lt;/h3&gt;
                &lt;p&gt;Descripci√≥n.&lt;/p&gt;
            &lt;/article&gt;
            &lt;article&gt;
                &lt;h3&gt;Feature 2&lt;/h3&gt;
                &lt;p&gt;Descripci√≥n.&lt;/p&gt;
            &lt;/article&gt;
        &lt;/section&gt;
    &lt;/main&gt;

    &lt;footer&gt;
        &lt;p&gt;&copy; 2025 Mi Marca. Todos los derechos reservados.&lt;/p&gt;
    &lt;/footer&gt;
&lt;/body&gt;
&lt;/html&gt;
            </code></pre>
        </details>
    </div>

    <div id="html5-visual-1" class="visual">
        <img src="assets/img/gsuez-estructura.png" alt="Estructura p√°gina">
        <p><em>Estructura cl√°sica. Fuente: Web Style Guide.</em></p>
    </div>

    <div id="html5-visual-2" class="visual">
        <img src="assets/img/estructura-basica-de-una-pagina-web-en-html.jpg" alt="HTML b√°sico">
        <p><em>Estructura b√°sica. Fuente: AptLearn.</em></p>
    </div>

    <hr class="html-hr">

    <h4 id="html5-svg-title">4. SVG Animado: Estructura HTML5</h4>

    <div id="html5-svg-container" class="html-svg">
        <svg 
            id="html5-svg" 
            viewBox="0 0 900 500" 
            xmlns="http://www.w3.org/2000/svg"
            style="overflow: visible;"
            pointer-events="none"
        >

            <!-- Fondo -->
            <rect x="0" y="0" width="900" height="500" fill="#0D1117"/>

            <!-- T√≠tulo -->
            <text x="450" y="50" fill="#1E88E5" font-size="28" text-anchor="middle" font-weight="bold">
                HTML5 SEM√ÅNTICO
            </text>

            <!-- ========================= HEADER ========================= -->
            <g id="html5-svg-header" opacity="0">
                <animate 
                    attributeName="opacity" 
                    values="0;1" 
                    begin="0.1s" 
                    dur="0.6s" 
                    fill="freeze"
                />
                <rect x="100" y="100" width="700" height="80" fill="#1565C0" rx="15"/>
                <text x="450" y="140" fill="white" font-size="20" text-anchor="middle">HEADER</text>
                <text x="450" y="165" fill="#90CAF9" font-size="14" text-anchor="middle">logo + nav</text>
            </g>

            <!-- ========================= MAIN ========================= -->
            <g id="html5-svg-main" opacity="0">
                <animate 
                    attributeName="opacity" 
                    values="0;1" 
                    begin="0.8s" 
                    dur="0.6s" 
                    fill="freeze"
                />
                <rect x="100" y="200" width="700" height="180" fill="#1E88E5" rx="15"/>
                <text x="450" y="240" fill="white" font-size="20" text-anchor="middle">MAIN</text>
                <text x="450" y="265" fill="#BBDEFB" font-size="14" text-anchor="middle">section + article</text>
                <text x="450" y="290" fill="#BBDEFB" font-size="12" text-anchor="middle">hero, cards, form</text>
                <text x="450" y="315" fill="#BBDEFB" font-size="12" text-anchor="middle">canvas, video</text>
            </g>

            <!-- ========================= FOOTER ========================= -->
            <g id="html5-svg-footer" opacity="0">
                <animate 
                    attributeName="opacity" 
                    values="0;1" 
                    begin="1.5s" 
                    dur="0.6s" 
                    fill="freeze"
                />
                <rect x="100" y="400" width="700" height="60" fill="#0D47A1" rx="15"/>
                <text x="450" y="435" fill="white" font-size="18" text-anchor="middle">FOOTER</text>
                <text x="450" y="455" fill="#90CAF9" font-size="12" text-anchor="middle">LC-ADVANCE ¬© 2025 | links</text>
            </g>

            <!-- Flechas -->
            <line x1="450" y1="180" x2="450" y2="200" stroke="#1E88E5" stroke-width="4"/>
            <line x1="450" y1="380" x2="450" y2="400" stroke="#1E88E5" stroke-width="4"/>

        </svg>

        <p><em>SVG Animado: Flujo visual de estructura sem√°ntica.</em></p>
    </div>
    <div id="html5-ejemplo" class="ejemplo">
        <h4>Ejemplo Formulario HTML5:</h4>
        <pre class="html-code"><code>
&lt;form&gt;
    &lt;label for="email"&gt;Email:&lt;/label&gt;
    &lt;input type="email" id="email" required placeholder="tu@email.com"&gt;

    &lt;label for="pass"&gt;Contrase√±a:&lt;/label&gt;
    &lt;input type="password" id="pass" minlength="8" required&gt;

    &lt;button type="submit"&gt;Enviar&lt;/button&gt;
&lt;/form&gt;
        </code></pre>
    </div>

</div>
'
,
    'ejercicios' => [
        ['enunciado' => 'DOCTYPE HTML5', 'respuesta' => '<!DOCTYPE html>'],
        ['enunciado' => 'Tag ra√≠z', 'respuesta' => '<html>'],
        ['enunciado' => 'Meta charset', 'respuesta' => '<meta charset="UTF-8">'],
        ['enunciado' => 'Viewport meta', 'respuesta' => '<meta name="viewport" content="width=device-width, initial-scale=1.0">'],
        ['enunciado' => 'Encabezado sem√°ntico', 'respuesta' => '<header>'],
        ['enunciado' => 'Men√∫ navegaci√≥n', 'respuesta' => '<nav>'],
        ['enunciado' => 'Contenido principal', 'respuesta' => '<main>'],
        ['enunciado' => 'Art√≠culo independiente', 'respuesta' => '<article>'],
        ['enunciado' => 'Pie de p√°gina', 'respuesta' => '<footer>'],
        ['enunciado' => 'Formulario input email', 'respuesta' => '<input type="email">'],
        ['enunciado' => 'SI: % soporte HTML5', 'respuesta' => '99.9%'],
        ['enunciado' => 'Canvas para', 'respuesta' => 'Gr√°ficos 2D']
    ],
    'quiz' => [
        ['pregunta' => 'HTML5 es', 'opciones' => ['Est√°ndar actual', 'Obsoleto', 'Solo m√≥vil', 'Backend'], 'correcta' => 'Est√°ndar actual'],
        ['pregunta' => 'Tag sem√°ntico para men√∫', 'opciones' => ['<nav>', '<menu>', '<ul>', '<div>'], 'correcta' => '<nav>'],
        ['pregunta' => '<main> debe haber', 'opciones' => ['Uno por p√°gina', 'Varios', 'Ninguno', 'Opcional'], 'correcta' => 'Uno por p√°gina'],
        ['pregunta' => 'SEO mejora con', 'opciones' => ['Tags sem√°nticos', 'Divs', 'Span', 'P'], 'correcta' => 'Tags sem√°nticos'],
        ['pregunta' => 'Accesibilidad usa', 'opciones' => ['ARIA, alt', 'Solo CSS', 'JS', 'PHP'], 'correcta' => 'ARIA, alt'],
        ['pregunta' => 'Canvas API', 'opciones' => ['2D/3D', 'Solo 2D', 'Solo audio', 'Texto'], 'correcta' => '2D/3D'],
        ['pregunta' => 'Video nativo', 'opciones' => ['<video>', '<iframe>', '<object>', '<embed>'], 'correcta' => '<video>'],
        ['pregunta' => 'Form validation nativo', 'opciones' => ['HTML5', 'JS', 'CSS', 'PHP'], 'correcta' => 'HTML5'],
        ['pregunta' => 'LocalStorage guarda', 'opciones' => ['Datos cliente', 'Server', 'Cookie', 'DB'], 'correcta' => 'Datos cliente'],
        ['pregunta' => 'Geolocation API', 'opciones' => ['navigator.geolocation', 'window.location', 'document.geo', 'HTML'], 'correcta' => 'navigator.geolocation'],

        ['pregunta' => 'Tag para art√≠culo', 'opciones' => ['<article>', '<section>', '<div>', '<p>'], 'correcta' => '<article>'],
        ['pregunta' => 'Sidebar usa', 'opciones' => ['<aside>', '<div>', '<section>', '<article>'], 'correcta' => '<aside>'],
        ['pregunta' => 'Input type="date"', 'opciones' => ['Selector fecha', 'Texto', 'N√∫mero', 'Email'], 'correcta' => 'Selector fecha'],
        ['pregunta' => 'required atributo', 'opciones' => ['Validaci√≥n', 'Estilo', 'Evento', 'Nada'], 'correcta' => 'Validaci√≥n'],
        ['pregunta' => 'placeholder es', 'opciones' => ['Texto gu√≠a', 'Valor', 'Label', 'Error'], 'correcta' => 'Texto gu√≠a'],
        ['pregunta' => 'autocomplete', 'opciones' => ['off/on', 'Siempre', 'Nunca', 'Error'], 'correcta' => 'off/on'],
        ['pregunta' => 'SI 2025: % HTML5', 'opciones' => ['99.9%', '80%', '50%', '10%'], 'correcta' => '99.9%'],
        ['pregunta' => 'PWA necesita', 'opciones' => ['HTML5 + Service Worker', 'Solo HTML', 'Flash', 'Java'], 'correcta' => 'HTML5 + Service Worker'],
        ['pregunta' => 'Web Components', 'opciones' => ['Custom Elements', 'Divs', 'React', 'Vue'], 'correcta' => 'Custom Elements'],
        ['pregunta' => 'Shadow DOM', 'opciones' => ['Encapsula estilos', 'Global', 'Nada', 'Error'], 'correcta' => 'Encapsula estilos'],

        ['pregunta' => 'HTML es', 'opciones' => ['Lenguaje marcado', 'Programaci√≥n', 'Estilo', 'BD'], 'correcta' => 'Lenguaje marcado'],
        ['pregunta' => 'CSS es para', 'opciones' => ['Estilo', 'Estructura', 'L√≥gica', 'Datos'], 'correcta' => 'Estilo'],
        ['pregunta' => 'JS es para', 'opciones' => ['Comportamiento', 'Estructura', 'Estilo', 'Server'], 'correcta' => 'Comportamiento'],
        ['pregunta' => 'Responsive con', 'opciones' => ['Viewport + media queries', 'Solo CSS', 'JS', 'PHP'], 'correcta' => 'Viewport + media queries'],
        ['pregunta' => 'alt atributo', 'opciones' => ['Accesibilidad', 'Estilo', 'Tama√±o', 'Nada'], 'correcta' => 'Accesibilidad'],
        ['pregunta' => 'lang atributo', 'opciones' => ['Idioma', 'Pa√≠s', 'Moneda', 'Hora'], 'correcta' => 'Idioma'],
        ['pregunta' => 'manifest.json para', 'opciones' => ['PWA', 'SEO', 'Estilo', 'JS'], 'correcta' => 'PWA'],
        ['pregunta' => 'SI 2025: % PWA', 'opciones' => ['+70% apps', '30%', '10%', '0%'], 'correcta' => '+70% apps'],
        ['pregunta' => 'HTML ideal para', 'opciones' => ['Estructura, SEO, accesibilidad', 'Dise√±o', 'L√≥gica', 'Backend'], 'correcta' => 'Estructura, SEO, accesibilidad'],
        ['pregunta' => 'Futuro HTML', 'opciones' => ['Web Components, PWA, IA', 'Flash', 'Silverlight', 'Static'], 'correcta' => 'Web Components, PWA, IA']
    ]
];
// ========================================
// MATERIA: PROGRAMACI√ìN
// SUBTEMA: CSS3: Flexbox, Grid, Animaciones, Simulador y Retos 2025
// ========================================
$lecciones[] = [
    'materia' => 'Programaci√≥n',
    'slug' => 'css-estilos',
    'titulo' => 'CSS3: Flexbox, Grid, Variables, Animaciones, Simulador y Retos',
    'contenido' => '
        <div id="css3-section" class="css-section">

            <h3 id="css3-title">CSS3: El Motor de Dise√±o y Animaci√≥n del Frontend Moderno</h3>

            <p id="css3-intro">
                <strong>CSS3</strong> es el est√°ndar que controla el dise√±o visual y layouts modernos. 
                Incluye <strong>Flexbox</strong>, <strong>Grid</strong>, <strong>variables</strong>, 
                <strong>transiciones</strong>, <strong>animaciones</strong> y 
                <strong>media queries</strong>.  
                En 2025: <strong>98% de soporte global</strong> (CanIUse).  
                Usado en <strong>95% de los sitios top 1000</strong> (HTTP Archive).
            </p>

            <hr class="css-hr">

            <!-- =====================================================
                1. TABLA CSS3 
                ===================================================== -->
            <h4 id="css3-table-title">1. M√≥dulos Clave CSS3</h4>

            <table id="css3-table" class="css-table table">
                <thead>
                    <tr><th>M√≥dulo</th><th>Funci√≥n</th><th>Ejemplo</th></tr>
                </thead>
                <tbody>
                    <tr><td><strong>Flexbox</strong></td><td>Layout 1D</td><td><code>display: flex;</code></td></tr>
                    <tr><td><strong>Grid</strong></td><td>Layout 2D</td><td><code>display: grid;</code></td></tr>
                    <tr><td><strong>Variables</strong></td><td>Reutilizaci√≥n</td><td><code>--color: #43A047;</code></td></tr>
                    <tr><td><strong>Transiciones</strong></td><td>Efectos suaves</td><td><code>transition: all 0.3s;</code></td></tr>
                    <tr><td><strong>Animaciones</strong></td><td>Secuencias</td><td><code>@keyframes</code></td></tr>
                    <tr><td><strong>Media Queries</strong></td><td>Responsive</td><td><code>@media (max-width: 768px)</code></td></tr>
                </tbody>
            </table>

            <hr class="css-hr">

            <!-- =====================================================
                2. SIMULADOR CSS  
                ===================================================== -->
            <h4 id="css3-simulador-title">2. Simulador CSS en Tiempo Real</h4>

            <div id="css3-simulador" class="css-sim">

                <p><strong>Edita el CSS y ve el resultado en vivo:</strong></p>

                <div id="css3-sim-container" class="css-sim-container">

                    <div class="css-sim-html">
                        <p><strong>HTML (vista previa):</strong></p>
                        <pre class="css-html-code">
        &lt;div class="box"&gt;Hover me&lt;/div&gt;
        &lt;div class="card"&gt;
            &lt;h3&gt;T√≠tulo&lt;/h3&gt;
            &lt;p&gt;Contenido con sombra y borde.&lt;/p&gt;
        &lt;/div&gt;
                        </pre>
                    </div>

                    <textarea id="css3-input" class="css-editor" rows="10">.box {
        width: 100px;
        height: 100px;
        background: #43A047;
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
        cursor: pointer;
        }

        .box:hover {
        background: #2E7D32;
        transform: scale(1.1);
        border-radius: 50%;
        }

        .card {
        max-width: 300px;
        padding: 20px;
        border: 1px solid #2c2c2c;
        border-radius: 8px;
        background: #111;
        box-shadow: 0 4px 12px rgba(0,0,0,0.4);
        font-family: Arial, sans-serif;
        }</textarea>

                </div>

                <div id="css3-output-wrapper" class="css-output-wrapper">
                    <div id="css3-output" class="css-output">
                        <div class="box">Hover me</div>
                        <div class="card">
                            <h3>T√≠tulo</h3>
                            <p>Contenido con sombra y borde.</p>
                        </div>
                    </div>
                </div>

                <button id="css3-update-btn" class="css-btn" onclick="css3Actualizar()">Actualizar</button>

                <script>
                    function css3Actualizar() {
                        const css = document.getElementById("css3-input").value;
                        let style = document.getElementById("dynamic-css3");
                        if (!style) {
                            style = document.createElement("style");
                            style.id = "dynamic-css3";
                            document.head.appendChild(style);
                        }
                        style.textContent = css;
                    }
                    css3Actualizar();
                </script>

                <p><em>Simulador embebido: modifica el CSS y observa el resultado al instante.</em></p>
            </div>

            <hr class="css-hr">

            <!-- =====================================================
                3. RETO  
                ===================================================== -->
            <h4 id="css3-reto-title">3. Reto: Tarjeta con Hover 3D</h4>

            <div id="css3-reto" class="css-reto">

                <p><strong>Desaf√≠o:</strong> Crea una tarjeta con efecto 3D realista usando transformaciones.</p>

                <details>
                    <summary>Ver soluci√≥n</summary>
                    <pre class="css-code"><code>
        .card-3d {
        width: 300px;
        height: 200px;
        perspective: 1000px;
        }

        .card-inner {
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, #43A047, #66BB6A);
        border-radius: 12px;
        padding: 20px;
        color: white;
        text-align: center;
        transition: transform 0.6s, box-shadow 0.6s;
        transform-style: preserve-3d;
        }

        .card-3d:hover .card-inner {
        transform: rotateX(15deg) rotateY(20deg);
        box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }
                    </code></pre>
                </details>

            </div>

            <div class="visual">
                <img src="assets/img/1-Line-Layouts.jpg" alt="CSS layout">
                <p><em>Ejemplo de layout (REQ).</em></p>
            </div>

            <div class="visual">
                <img src="assets/img/animacion-css.gif" alt="CSS animation">
                <p><em>Animaci√≥n CSS3 (CSS-Tricks).</em></p>
            </div>

            <hr class="css-hr">

            <!-- =====================================================
                4. SVG ANIMADO  
                ===================================================== -->
            <h4 id="css3-svg-title">4. SVG Animado: Flujo CSS ‚Üí Render</h4>

            <div id="css3-svg-container" class="css-svg">
            <svg id="css3-svg" viewBox="0 0 900 500" xmlns="http://www.w3.org/2000/svg">

                <rect x="0" y="0" width="900" height="500" fill="#0D1117"/>

                <text x="450" y="50" fill="#43A047" font-size="28" text-anchor="middle" font-weight="bold"
                    class="fade-in-1">
                    CSS3 ‚Üí RENDER 2025
                </text>

                <!-- CSS block -->
                <g id="css3-svg-css" class="fade-in-2">
                    <rect x="100" y="120" width="160" height="120" fill="#2E7D32" rx="20"/>
                    <text x="180" y="155" fill="white" font-size="18" text-anchor="middle">CSS</text>
                    <text x="180" y="185" fill="#A5D6A7" font-size="14" text-anchor="middle">Flexbox</text>
                    <text x="180" y="210" fill="#A5D6A7" font-size="12" text-anchor="middle">Grid</text>
                </g>

                <!-- Browser -->
                <g id="css3-svg-browser" class="fade-in-3">
                    <rect x="370" y="100" width="160" height="160" fill="#1B5E20" rx="20"/>
                    <text x="450" y="140" fill="white" font-size="18" text-anchor="middle">BROWSER</text>
                    <text x="450" y="170" fill="#A5D6A7" font-size="14" text-anchor="middle">Parse</text>
                    <text x="450" y="190" fill="#A5D6A7" font-size="12" text-anchor="middle">Cascade</text>
                    <text x="450" y="210" fill="#A5D6A7" font-size="12" text-anchor="middle">Layout</text>
                </g>

                <!-- Render -->
                <g id="css3-svg-render" class="fade-in-4">
                    <rect x="660" y="120" width="160" height="120" fill="#388E3C" rx="20"/>
                    <text x="740" y="155" fill="white" font-size="18" text-anchor="middle">RENDER</text>
                    <text x="740" y="185" fill="#C8E6C9" font-size="14" text-anchor="middle">GPU</text>
                    <text x="740" y="210" fill="#C8E6C9" font-size="12" text-anchor="middle">60 FPS</text>
                </g>

                <!-- Flechas -->
                <defs>
                    <marker id="arrow-green" markerWidth="12" markerHeight="12" refX="10" refY="3" orient="auto">
                        <path d="M0,0 L0,6 L9,3 z" fill="#43A047"/>
                    </marker>
                </defs>

                <line x1="260" y1="180" x2="370" y2="180" 
                    stroke="#43A047" stroke-width="5" marker-end="url(#arrow-green)"
                    class="fade-in-3"/>

                <text x="320" y="165" fill="#66BB6A" font-size="14" text-anchor="middle"
                    class="fade-in-3">
                    Link / &lt;style&gt;
                </text>

                <line x1="530" y1="180" x2="660" y2="180" 
                    stroke="#43A047" stroke-width="5" marker-end="url(#arrow-green)"
                    class="fade-in-4"/>

                <text x="595" y="165" fill="#66BB6A" font-size="14" text-anchor="middle"
                    class="fade-in-4">
                    Paint
                </text>

                <!-- Pie -->
                <g class="fade-in-5">
                    <rect x="100" y="300" width="700" height="150" fill="#1A2E1A" rx="15"/>
                    <text x="450" y="330" fill="#81C784" font-size="16" text-anchor="middle">
                        98% soporte | 95% top sites
                    </text>
                    <text x="450" y="360" fill="#C8E6C9" font-size="14" text-anchor="middle">
                        Flexbox + Grid = 90% layouts modernos
                    </text>
                    <text x="450" y="390" fill="#81C784" font-size="12" text-anchor="middle">
                        CSS Houdini: Custom Paint, Properties
                    </text>
                </g>

            </svg>

            <p><em>SVG Animado: Flujo de c√≥mo el navegador procesa CSS.</em></p>
        </div>


            <hr class="css-hr">

            <div id="css3-ejemplo" class="ejemplo">
                <h4>Ejemplo Grid Responsive:</h4>
                <pre class="css-code"><code>
        .container {
        display: grid;
        gap: 1rem;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        }

        .card {
        background: #111;
        padding: 1.5rem;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.4);
        }
                </code></pre>
            </div>

        </div>
        ',
    'ejercicios' => [
        ['enunciado' => 'Selector ID', 'respuesta' => '#mi-id'],
        ['enunciado' => 'Selector clase', 'respuesta' => '.mi-clase'],
        ['enunciado' => 'Flexbox display', 'respuesta' => 'display: flex;'],
        ['enunciado' => 'Grid display', 'respuesta' => 'display: grid;'],
        ['enunciado' => 'Variable CSS', 'respuesta' => '--color: #43A047;'],
        ['enunciado' => 'Transici√≥n suave', 'respuesta' => 'transition: all 0.3s ease;'],
        ['enunciado' => 'Media query m√≥vil', 'respuesta' => '@media (max-width: 768px)'],
        ['enunciado' => 'Centrar con Flex', 'respuesta' => 'justify-content: center; align-items: center;'],
        ['enuncied' => 'Grid auto-fill', 'respuesta' => 'repeat(auto-fill, minmax(200px, 1fr))'],
        ['enunciado' => 'Box shadow', 'respuesta' => 'box-shadow: 0 4px 8px rgba(0,0,0,0.1);'],
        ['enunciado' => 'SI: % soporte CSS3', 'respuesta' => '98%'],
        ['enunciado' => 'Container Queries', 'respuesta' => '@container (min-width: 300px)']
    ],
    'quiz' => [
        ['pregunta' => 'CSS significa', 'opciones' => ['Cascading Style Sheets', 'Creative Style Sheets', 'Computer Style', 'Color Style'], 'correcta' => 'Cascading Style Sheets'],
        ['pregunta' => 'display: flex;', 'opciones' => ['Layout 1D', '2D', 'Bloque', 'Inline'], 'correcta' => 'Layout 1D'],
        ['pregunta' => 'display: grid;', 'opciones' => ['Layout 2D', '1D', 'Tabla', 'Flex'], 'correcta' => 'Layout 2D'],
        ['pregunta' => 'Variable CSS', 'opciones' => ['--nombre: valor;', ':nombre = valor;', '$nombre: valor;', '@nombre: valor;'], 'correcta' => '--nombre: valor;'],
        ['pregunta' => 'transition para', 'opciones' => ['Cambios suaves', 'Animaci√≥n', 'Layout', 'Color'], 'correcta' => 'Cambios suaves'],
        ['pregunta' => '@keyframes define', 'opciones' => ['Secuencia animaci√≥n', 'Transici√≥n', 'Hover', 'Media'], 'correcta' => 'Secuencia animaci√≥n'],
        ['pregunta' => 'Media query', 'opciones' => ['Responsive', 'Impresi√≥n', 'JS', 'PHP'], 'correcta' => 'Responsive'],
        ['pregunta' => 'Specificity mayor', 'opciones' => ['ID', 'Clase', 'Tag', 'Universal'], 'correcta' => 'ID'],
        ['pregunta' => 'Box model incluye', 'opciones' => ['content + padding + border + margin', 'Solo content', 'Solo margin', 'Solo padding'], 'correcta' => 'content + padding + border + margin'],
        ['pregunta' => 'z-index controla', 'opciones' => ['Apilamiento', 'Tama√±o', 'Color', 'Posici√≥n'], 'correcta' => 'Apilamiento'],

        ['pregunta' => 'justify-content: center;', 'opciones' => ['Eje principal', 'Eje secundario', 'Ambos', 'Ninguno'], 'correcta' => 'Eje principal'],
        ['pregunta' => 'align-items: center;', 'opciones' => ['Eje secundario', 'Eje principal', 'Ambos', 'Ninguno'], 'correcta' => 'Eje secundario'],
        ['pregunta' => 'gap en Grid/Flex', 'opciones' => ['Espacio entre items', 'Margen', 'Padding', 'Border'], 'correcta' => 'Espacio entre items'],
        ['pregunta' => 'grid-template-columns', 'opciones' => ['Columnas', 'Filas', '√Årea', 'Todo'], 'correcta' => 'Columnas'],
        ['pregunta' => 'fr unidad', 'opciones' => ['Fracci√≥n espacio', 'P√≠xeles', 'Porcentaje', 'Em'], 'correcta' => 'Fracci√≥n espacio'],
        ['pregunta' => 'auto-fit vs auto-fill', 'opciones' => ['fit: colapsa vac√≠os', 'Igual', 'fill: colapsa', 'Nada'], 'correcta' => 'fit: colapsa vac√≠os'],
        ['pregunta' => 'SI 2025: % con Grid', 'opciones' => ['90% layouts', '50%', '10%', '0%'], 'correcta' => '90% layouts'],
        ['pregunta' => ':hover es', 'opciones' => ['Pseudo-clase', 'Pseudo-elemento', 'Clase', 'ID'], 'correcta' => 'Pseudo-clase'],
        ['pregunta' => '::before es', 'opciones' => ['Pseudo-elemento', 'Pseudo-clase', 'Clase', 'ID'], 'correcta' => 'Pseudo-elemento'],
        ['pregunta' => 'CSS Houdini permite', 'opciones' => ['Custom Paint API', 'Solo colores', 'Nada', 'JS'], 'correcta' => 'Custom Paint API'],

        ['pregunta' => 'will-change', 'opciones' => ['Optimiza GPU', 'Color', 'Tama√±o', 'Nada'], 'correcta' => 'Optimiza GPU'],
        ['pregunta' => 'contain: paint', 'opciones' => ['Limita repintado', 'Todo', 'Nada', 'Color'], 'correcta' => 'Limita repintado'],
        ['pregunta' => 'scroll-snap-type', 'opciones' => ['Scroll suave', 'Click', 'Hover', 'Nada'], 'correcta' => 'Scroll suave'],
        ['pregunta' => 'aspect-ratio', 'opciones' => ['Proporci√≥n', 'Tama√±o', 'Color', 'Fuente'], 'correcta' => 'Proporci√≥n'],
        ['pregunta' => ':has() selector', 'opciones' => ['Padre con hijo', 'Hijo', 'Hermano', 'Nada'], 'correcta' => 'Padre con hijo'],
        ['pregunta' => 'Container Queries', 'opciones' => ['@container', '@media', '@supports', '@keyframes'], 'correcta' => '@container'],
        ['pregunta' => 'SI 2025: % con Variables', 'opciones' => ['85% sitios', '50%', '20%', '5%'], 'correcta' => '85% sitios'],
        ['pregunta' => 'Tailwind CSS es', 'opciones' => ['Utility-first', 'Component', 'Framework', 'Lenguaje'], 'correcta' => 'Utility-first'],
        ['pregunta' => 'CSS ideal para', 'opciones' => ['Dise√±o, animaci√≥n, responsive', 'L√≥gica', 'Datos', 'Backend'], 'correcta' => 'Dise√±o, animaci√≥n, responsive'],
        ['pregunta' => 'Futuro CSS', 'opciones' => ['Houdini, Container Queries, Layers', 'Flash', 'Tablas', 'Inline'], 'correcta' => 'Houdini, Container Queries, Layers']
    ]
];
// ========================================
// MATERIA: PROGRAMACI√ìN
// SUBTEMA: PHP8+: Backend Moderno, PDO, API REST, Simulador y Retos 2025
// ========================================
$lecciones[] = [
    'materia' => 'Programaci√≥n',
    'slug' => 'php-backend',
    'titulo' => 'PHP8+: Backend, PDO, API REST, Simulador y Retos 2025',
    'contenido' => <<<HTML
        <h3>PHP8+: El Backend M√°s R√°pido y Seguro del 2025</h3>
        <p><strong>PHP8.3+</strong> incorpora <strong>JIT</strong>, <strong>enums</strong>, <strong>attributes</strong>, <strong>match</strong> y optimizaciones masivas. 
        Con <strong>PDO</strong> se garantiza seguridad, conexiones estables y prevenci√≥n de inyecciones SQL.</p>

        <hr class="divider-php">

        <h4>1. Stack PHP Moderno 2025</h4>
        <table class="table php-table">
            <thead>
                <tr><th>Componente</th><th>Funci√≥n</th><th>Ejemplo</th></tr>
            </thead>
            <tbody>
                <tr><td><strong>PHP8.3</strong></td><td>Motor server-side</td><td><code>match</code>, <code>enum</code></td></tr>
                <tr><td><strong>PDO</strong></td><td>BD segura</td><td><code>prepare()</code></td></tr>
                <tr><td><strong>Composer</strong></td><td>Dependencias</td><td><code>require vendor/autoload.php</code></td></tr>
                <tr><td><strong>API REST</strong></td><td>JSON</td><td><code>json_encode()</code></td></tr>
                <tr><td><strong>Laravel / Symfony</strong></td><td>Framework</td><td>MVC, ORM</td></tr>
            </tbody>
        </table>

        <hr class="divider-php">

        <h4>2. Simulador PHP en Tiempo Real</h4>

        <div class="simulador-php">
            <div class="simu-columns">

                <textarea id="php-input" class="php-editor" rows="12">&lt;?php
// Ejemplo: API REST simulada
\$method = \$_SERVER['REQUEST_METHOD'] ?? 'GET';
\$path = parse_url(\$_SERVER['REQUEST_URI'] ?? '/', PHP_URL_PATH);

if (\$method === 'GET' && \$path === '/api/users') {
    \$users = [
        ['id' => 1, 'name' => 'Ana', 'email' => 'ana@ejemplo.com'],
        ['id' => 2, 'name' => 'Luis', 'email' => 'luis@ejemplo.com']
    ];
    header('Content-Type: application/json');
    echo json_encode(\$users);
} else {
    http_response_code(404);
    echo json_encode(['error' => 'Ruta no encontrada']);
}
?&gt;</textarea>

                <div id="php-output" class="php-output">
                    <!-- resultado JS aqu√≠ -->
                </div>

            </div>

            <button onclick="ejecutarPHP()" class="php-btn">Ejecutar</button>

            <script>
                function ejecutarPHP() {
                    const code = document.getElementById('php-input').value;
                    const output = document.getElementById('php-output');
                    let resultado = '';

                    try {
                        if (code.includes('/api/users') && code.includes('GET')) {
                            resultado = JSON.stringify([
                                {id: 1, name: "Ana", email: "ana@ejemplo.com"},
                                {id: 2, name: "Luis", email: "luis@ejemplo.com"}
                            ], null, 2);

                            output.innerHTML = '<pre class="ok-response">' + resultado + '</pre>';
                        } else {
                            resultado = JSON.stringify({error: "Ruta no encontrada"}, null, 2);
                            output.innerHTML = '<pre class="error-response">' + resultado + '</pre>';
                        }

                    } catch (err) {
                        output.innerHTML = '<pre class="error-response">Error JS: ' + err.message + '</pre>';
                    }
                }

                ejecutarPHP();
            </script>

            <p class="simu-note"><em>Simulador frontend que emula respuestas PHP. Cambia rutas y prueba.</em></p>
        </div>

        <hr class="divider-php">

        <h4>3. Reto: API REST con PDO</h4>
        <div class="reto-codigo">
            <p><strong>Desaf√≠o:</strong> Crear endpoint GET /users usando PDO:</p>
            <details>
                <summary>Ver soluci√≥n</summary>
                <pre><code>&lt;?php
header('Content-Type: application/json');

try {
    \$pdo = new PDO('mysql:host=localhost;dbname=miapp', 'user', 'pass', [
        PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION
    ]);

    \$stmt = \$pdo->prepare("SELECT id, name, email FROM users LIMIT 10");
    \$stmt->execute();
    \$users = \$stmt->fetchAll(PDO::FETCH_ASSOC);

    echo json_encode(['data' => \$users]);
} catch (PDOException \$e) {
    echo json_encode(['error' => 'DB Error: ' . \$e->getMessage()]);
}
?&gt;</code></pre>
            </details>
        </div>
    <div class="php-svg-container">

        <svg id="php8-svg" viewBox="0 0 900 520" xmlns="http://www.w3.org/2000/svg">
            <rect width="900" height="520" fill="#0A0011"/>

            <text x="450" y="45" fill="#E1BEE7" font-size="32" text-anchor="middle" font-weight="bold">
                PHP8+ ‚Ä¢ CICLO DE VIDA BACKEND 2025
            </text>

            <!-- CLIENTE -->
            <g id="client-group">
                <rect x="80" y="110" width="180" height="120" rx="20" fill="#4A148C"/>
                <text x="170" y="150" fill="#FFFFFF" font-size="20" text-anchor="middle">CLIENTE</text>
                <text x="170" y="175" fill="#E1BEE7" font-size="13" text-anchor="middle">Browser / App</text>
                <text x="170" y="195" fill="#D1C4E9" font-size="12" text-anchor="middle">Fetch / Axios</text>
            </g>

            <!-- SERVER -->
            <g id="server-group">
                <rect x="360" y="95" width="180" height="160" rx="20" fill="#6A1B9A"/>
                <text x="450" y="135" fill="#FFFFFF" font-size="20" text-anchor="middle">SERVER PHP</text>
                <text x="450" y="165" fill="#E1BEE7" font-size="14" text-anchor="middle">Router</text>
                <text x="450" y="185" fill="#E1BEE7" font-size="12" text-anchor="middle">Middlewares</text>
                <text x="450" y="205" fill="#E1BEE7" font-size="12" text-anchor="middle">Controladores</text>
            </g>

            <!-- DATABASE -->
            <g id="db-group">
                <rect x="650" y="110" width="180" height="120" rx="20" fill="#8E24AA"/>
                <text x="740" y="150" fill="#FFFFFF" font-size="20" text-anchor="middle">BASE DE DATOS</text>
                <text x="740" y="175" fill="#F3E5F5" font-size="14" text-anchor="middle">PDO ‚Ä¢ MySQL ‚Ä¢ MariaDB</text>
            </g>

            <!-- FLECHAS -->
            <defs>
                <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                    <path d="M0,0 L0,6 L9,3 z" fill="#E1BEE7"/>
                </marker>
            </defs>

            <line x1="260" y1="170" x2="360" y2="170" stroke="#BA68C8" stroke-width="5" marker-end="url(#arrow)" class="arrow-line"/>
            <text x="310" y="155" fill="#CE93D8" font-size="12" text-anchor="middle">HTTP Request</text>

            <line x1="540" y1="170" x2="650" y2="170" stroke="#BA68C8" stroke-width="5" marker-end="url(#arrow)" class="arrow-line"/>
            <text x="595" y="155" fill="#CE93D8" font-size="12" text-anchor="middle">Consulta PDO</text>

            <line x1="650" y1="190" x2="540" y2="190" stroke="#BA68C8" stroke-width="5" marker-end="url(#arrow)" class="arrow-line"/>
            <text x="595" y="205" fill="#CE93D8" font-size="12" text-anchor="middle">Resultado</text>

            <line x1="360" y1="190" x2="260" y2="190" stroke="#BA68C8" stroke-width="5" marker-end="url(#arrow)" class="arrow-line"/>
            <text x="310" y="205" fill="#CE93D8" font-size="12" text-anchor="middle">JSON Response</text>

            <!-- FOOTER -->
            <g id="footer-group">
                <rect x="100" y="300" width="700" height="180" rx="20" fill="#1C0F27"/>
                <text x="450" y="340" fill="#E1BEE7" font-size="18" text-anchor="middle">
                    PHP8.3+: JIT ‚Ä¢ Fiber ‚Ä¢ Optimized HashTables ‚Ä¢ Opcache
                </text>
                <text x="450" y="370" fill="#CE93D8" font-size="15" text-anchor="middle">
                    78% web global usa PHP ‚Äî 2025
                </text>
                <text x="450" y="395" fill="#E1BEE7" font-size="14" text-anchor="middle">
                    Laravel, Symfony, Slim: Est√°ndares de API REST
                </text>
                <text x="450" y="420" fill="#CE93D8" font-size="13" text-anchor="middle">
                    Seguridad: prepared statements, JWT, CORS middleware
                </text>
            </g>
        </svg>

        <script>
        document.addEventListener("DOMContentLoaded", function() {
            const svg = document.getElementById("php8-svg");
            
            // 1. Aplicamos el 'transition-delay' a los grupos
            document.querySelector('text[font-size="32"]').style.transitionDelay = "0.2s"; // T√≠tulo
            document.getElementById("client-group").style.transitionDelay = "0.5s";
            document.getElementById("server-group").style.transitionDelay = "1.2s";
            document.getElementById("db-group").style.transitionDelay = "1.9s";

            // 2. Retrasos para las flechas y sus textos (necesitas envolver el texto de las flechas en un grupo)
            // Soluci√≥n temporal: aplicar retraso a las l√≠neas y el footer
            svg.querySelectorAll('line').forEach(line => {
                line.style.transitionDelay = "2.6s";
            });
            
            document.getElementById("footer-group").style.transitionDelay = "3.8s";

            // 3. Activamos la animaci√≥n de todos los grupos y l√≠neas
            svg.classList.add("animate");
            
            // üõë ELIMINAR el bucle elements.forEach y el setTimeout forzado. 
            // ¬°El CSS y el 'transitionDelay' ahora manejan la secuencia y persistencia!
    });
</script>
    </div>

HTML
,
    'ejercicios' => [
        ['enunciado' => 'Iniciar PHP', 'respuesta' => '<?php'],
        ['enunciado' => 'Variable', 'respuesta' => '$nombre = "valor";'],
        ['enunciado' => 'Echo', 'respuesta' => 'echo $var;'],
        ['enunciado' => 'Conexi√≥n PDO', 'respuesta' => 'new PDO(dsn, user, pass)'],
        ['enunciado' => 'Prepare SQL', 'respuesta' => '$stmt->prepare(query)'],
        ['enunciado' => 'JSON encode', 'respuesta' => 'json_encode($data)'],
        ['enunciado' => 'Header JSON', 'respuesta' => 'header("Content-Type: application/json")'],
        ['enunciado' => 'Match expression', 'respuesta' => 'match($x) { ... }'],
        ['enunciado' => 'Enum PHP8', 'respuesta' => 'enum Status: string'],
        ['enunciado' => 'Composer init', 'respuesta' => 'composer init'],
        ['enunciado' => 'SI: % sitios PHP', 'respuesta' => '78%'],
        ['enunciado' => 'Laravel ORM', 'respuesta' => 'Eloquent']
    ],
    'ejercicios' => [
        ['enunciado' => 'Iniciar PHP', 'respuesta' => '<?php'],
        ['enunciado' => 'Variable', 'respuesta' => '$nombre = "valor";'],
        ['enunciado' => 'Echo', 'respuesta' => 'echo $var;'],
        ['enunciado' => 'Conexi√≥n PDO', 'respuesta' => 'new PDO(dsn, user, pass)'],
        ['enunciado' => 'Prepare SQL', 'respuesta' => '$stmt->prepare(query)'],
        ['enunciado' => 'JSON encode', 'respuesta' => 'json_encode($data)'],
        ['enunciado' => 'Header JSON', 'respuesta' => 'header("Content-Type: application/json")'],
        ['enunciado' => 'Match expression', 'respuesta' => 'match($x) { ... }'],
        ['enunciado' => 'Enum PHP8', 'respuesta' => 'enum Status: string'],
        ['enunciado' => 'Composer init', 'respuesta' => 'composer init'],
        ['enunciado' => 'SI: % sitios PHP', 'respuesta' => '78%'],
        ['enunciado' => 'Laravel ORM', 'respuesta' => 'Eloquent']
    ],
    'quiz' => [
        ['pregunta' => 'PHP es', 'opciones' => ['Server-side', 'Client-side', 'Estilo', 'DB'], 'correcta' => 'Server-side'],
        ['pregunta' => 'PHP8 incluye', 'opciones' => ['JIT', 'Canvas', 'Flexbox', 'Grid'], 'correcta' => 'JIT'],
        ['pregunta' => 'PDO previene', 'opciones' => ['SQL Injection', 'XSS', 'CSRF', 'DDoS'], 'correcta' => 'SQL Injection'],
        ['pregunta' => 'API REST usa', 'opciones' => ['JSON', 'XML', 'HTML', 'PHP'], 'correcta' => 'JSON'],
        ['pregunta' => 'Laravel es', 'opciones' => ['Framework PHP', 'JS', 'CSS', 'BD'], 'correcta' => 'Framework PHP'],
        ['pregunta' => 'Composer es', 'opciones' => ['Gestor paquetes', 'Servidor', 'Editor', 'Navegador'], 'correcta' => 'Gestor paquetes'],
        ['pregunta' => 'match reemplaza', 'opciones' => ['switch', 'if', 'for', 'while'], 'correcta' => 'switch'],
        ['pregunta' => 'enum define', 'opciones' => ['Tipos enumerados', 'Clases', 'Funciones', 'Variables'], 'correcta' => 'Tipos enumerados'],
        ['pregunta' => 'SI 2025: % PHP', 'opciones' => ['78%', '50%', '20%', '5%'], 'correcta' => '78%'],
        ['pregunta' => 'PHP ideal para', 'opciones' => ['Backend, API, CMS', 'Frontend', 'Dise√±o', 'M√≥vil'], 'correcta' => 'Backend, API, CMS'],

        ['pregunta' => 'header() env√≠a', 'opciones' => ['Cabeceras HTTP', 'HTML', 'JS', 'CSS'], 'correcta' => 'Cabeceras HTTP'],
        ['pregunta' => 'json_encode()', 'opciones' => ['PHP ‚Üí JSON', 'JSON ‚Üí PHP', 'HTML ‚Üí JSON', 'CSS ‚Üí JSON'], 'correcta' => 'PHP ‚Üí JSON'],
        ['pregunta' => 'prepare() evita', 'opciones' => ['Inyecci√≥n SQL', 'Errores', 'Lentitud', 'Nada'], 'correcta' => 'Inyecci√≥n SQL'],
        ['pregunta' => 'bindParam()', 'opciones' => ['Vincula par√°metro', 'Ejecuta', 'Cierra', 'Lee'], 'correcta' => 'Vincula par√°metro'],
        ['pregunta' => 'fetchAll()', 'opciones' => ['Todos los registros', 'Uno', 'Ninguno', 'Error'], 'correcta' => 'Todos los registros'],
        ['pregunta' => 'http_response_code(404)', 'opciones' => ['Not Found', 'OK', 'Error', 'Redirect'], 'correcta' => 'Not Found'],
        ['pregunta' => 'SI 2025: Laravel', 'opciones' => ['65% market', '30%', '10%', '0%'], 'correcta' => '65% market'],
        ['pregunta' => 'PHP con', 'opciones' => ['MySQL, PostgreSQL', 'Solo MySQL', 'Mongo', 'Firebase'], 'correcta' => 'MySQL, PostgreSQL'],
        ['pregunta' => 'WebSockets en PHP', 'opciones' => ['Ratchet', 'Socket.io', 'WebRTC', 'Ajax'], 'correcta' => 'Ratchet'],
        ['pregunta' => 'Microservicios PHP', 'opciones' => ['Swoole', 'Laravel', 'React', 'Vue'], 'correcta' => 'Swoole'],

        ['pregunta' => 'PHP8.3 mejora', 'opciones' => ['Rendimiento', 'Seguridad', 'Dise√±o', 'Todo'], 'correcta' => 'Rendimiento'],
        ['pregunta' => 'Attributes PHP8', 'opciones' => ['Anotaciones', 'Clases', 'Funciones', 'Variables'], 'correcta' => 'Anotaciones'],
        ['pregunta' => 'Readonly classes', 'opciones' => ['PHP8.2+', 'PHP7', 'PHP5', 'No existe'], 'correcta' => 'PHP8.2+'],
        ['pregunta' => 'Typed properties', 'opciones' => ['PHP7.4+', 'PHP8', 'PHP5', 'No'], 'correcta' => 'PHP7.4+'],
        ['pregunta' => 'PHP en cloud', 'opciones' => ['AWS, GCP, Azure', 'Solo local', 'Solo XAMPP', 'No'], 'correcta' => 'AWS, GCP, Azure'],
        ['pregunta' => 'Docker con PHP', 'opciones' => ['php:fpm', 'php:cli', 'php:apache', 'Todo'], 'correcta' => 'Todo'],
        ['pregunta' => 'SI 2025: API PHP', 'opciones' => ['+85% tr√°fico', '50%', '20%', '0%'], 'correcta' => '+85% tr√°fico'],
        ['pregunta' => 'PHP futuro', 'opciones' => ['Swoole, Fiber, JIT', 'Flash', 'CGI', 'Static'], 'correcta' => 'Swoole, Fiber, JIT'],
        ['pregunta' => 'Framework m√°s usado', 'opciones' => ['Laravel', 'Symfony', 'CodeIgniter', 'CakePHP'], 'correcta' => 'Laravel'],
        ['pregunta' => 'PHP domina en', 'opciones' => ['CMS (WordPress)', 'Frontend', 'M√≥vil', 'Juegos'], 'correcta' => 'CMS (WordPress)']
    ]
];
// ========================================
// MATERIA: TEMAS SELECTOS DE MATEM√ÅTICAS I Y II
// TEMA: DERIVADAS COMPLETAS + SIMULADOR REAL (ln(x) 100% FUNCIONAL)
// ========================================
$lecciones[] = [
    'materia' => 'Temas Selectos de Matem√°ticas I y II',
    'slug' => 'derivadas-todo-tipo',
    'titulo' => 'Derivadas: Reglas, Impl√≠citas, Parciales, Simulador Real y Retos √âpicos',
    'contenido' => <<<HTML
<div class="derivadas-master">
    <h3 class="derivadas-main-title">DERIVADAS: La Tasa de Cambio Instant√°nea</h3>
    <p class="derivadas-intro">
        La derivada mide <strong>c√≥mo cambia una funci√≥n en un instante</strong>. Base del c√°lculo, f√≠sica y machine learning.
    </p>
</div>

<hr class="derivadas-separator">

<h4 class="derivadas-section">1. Tabla Completa de Derivadas B√°sicas</h4>
<table class="derivadas-table">
    <thead><tr><th>Funci√≥n</th><th>Derivada</th></tr></thead>
    <tbody>
        <tr><td>\( x^n \)</td><td>\( n x^{n-1} \)</td></tr>
        <tr><td>\( \\sin x \)</td><td>\( \\cos x \)</td></tr>
        <tr><td>\( \\cos x \)</td><td>\( -\\sin x \)</td></tr>
        <tr><td>\( e^x \)</td><td>\( e^x \)</td></tr>
        <tr><td>\( \\ln x \)</td><td>\( \\frac{1}{x} \)</td></tr>
        <tr><td>\( \\tan x \)</td><td>\( \\sec^2 x \)</td></tr>
        <tr><td>\( \\sec x \)</td><td>\( \\sec x \\tan x \)</td></tr>
        <tr><td>\( \\arcsin x \)</td><td>\( \\frac{1}{\\sqrt{1-x^2}} \)</td></tr>
    </tbody>
</table>

<hr class="derivadas-separator">

<h4 class="derivadas-section">2. Simulador Real de Derivadas (ln(x), log, todo funciona)</h4>
<div class="simulador-container">
    <p class="simulador-info">Ingresa cualquier funci√≥n ‚Üí soporta: <code>ln(x)</code>, <code>log(x)</code>, <code>sin(2x)</code>, <code>e^(x^2)</code>, etc.</p>
    
    <input type="text" id="funcion-input" class="derivadas-input" value="ln(x) + x^3 + sin(2x)" placeholder="Ej: ln(5x) + e^(x^2)">
    
    <div class="simulador-controls">
        <button onclick="calcularDerivada()" class="btn-calcular">CALCULAR DERIVADA</button>
        <button onclick="ejemploAleatorio()" class="btn-ejemplo">Ejemplo Aleatorio</button>
    </div>

    <div id="resultado-simulador" class="resultado-box">
        Resultado aparecer√° aqu√≠
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.11.2/math.min.js"></script>
<script>
// PREPROCESADOR: convierte ln(x) ‚Üí log(x) para que Math.js lo entienda siempre
function preprocessFunction(input) {
    return input
        .replace(/\\b(ln)\(/gi, 'log(')        // ln(x) ‚Üí log(x)
        .replace(/\\bln\\b/gi, 'log')          // ln ‚Üí log (por si est√° solo)
        .replace(/\\bLn\\b/gi, 'log')          // Ln ‚Üí log
        .replace(/\\bLN\\b/gi, 'log');         // LN ‚Üí log
}

function calcularDerivada() {
    let input = document.getElementById("funcion-input").value.trim();
    const output = document.getElementById("resultado-simulador");
    
    if (!input) {
        output.innerHTML = '<div class="error-text">Ingresa una funci√≥n v√°lida</div>';
        return;
    }

    // MOSTRAMOS la funci√≥n original tal como el usuario la escribi√≥
    const funcionOriginal = input;

    // Preprocesamos para que Math.js entienda ln(x)
    input = preprocessFunction(input);

    try {
        const node = math.parse(input);
        const derivada = math.derivative(node, 'x');

        output.innerHTML = 
            '<div class="funcion-texto">f(x) = ' + funcionOriginal + '</div>' +
            '<div class="derivada-texto">f\'(x) = <strong>' + derivada.toString() + '</strong></div>';
    } catch (err) {
        output.innerHTML = '<div class="error-text">Error:<br>' + err.message + '</div>';
    }
}

function ejemploAleatorio() {
    const ejemplos = [
        "ln(x) + x^2",
        "ln(5x) + sin(x)",
        "e^x + ln(x^3)",
        "(x^2 + 1)^5",
        "sin(3x) + cos(2x)",
        "x * ln(x)",
        "ln(x^2 + 1) * e^x",
        "sqrt(x) + 1/x"
    ];
    const random = ejemplos[Math.floor(Math.random() * ejemplos.length)];
    document.getElementById("funcion-input").value = random;
    calcularDerivada();
}

// Ejecutar al cargar
document.addEventListener("DOMContentLoaded", calcularDerivada);
</script>

<hr class="derivadas-separator">

<h4 class="derivadas-section">3. SVG Animado: Regla de la Cadena</h4>
<div class="svg-master">
    <svg viewBox="0 0 1000 650" xmlns="http://www.w3.org/2000/svg">
        <defs>
            <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" stop-color="#0D0000"/>
                <stop offset="100%" stop-color="#2D0000"/>
            </linearGradient>
            <filter id="glow"><feGaussianBlur stdDeviation="10" result="blur"/><feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
        </defs>
        <rect width="1000" height="650" fill="url(#bgGrad)"/>
        <text x="500" y="80" fill="#FF1744" font-size="48" text-anchor="middle" font-weight="bold" filter="url(#glow)">REGLA DE LA CADENA</text>
        <text x="500" y="130" fill="#FF8A80" font-size="28" text-anchor="middle">(f ‚àò g)'(x) = f'(g(x)) ¬∑ g'(x)</text>

        <g opacity="0"><animate attributeName="opacity" values="0;1" begin="0.5s" dur="1s" fill="freeze"/>
            <circle cx="250" cy="320" r="100" fill="#D50000" stroke="#FF1744" stroke-width="8"/>
            <text x="250" y="300" fill="white" font-size="32" text-anchor="middle" font-weight="bold">g(x)</text>
            <text x="250" y="350" fill="#FF8A80" font-size="20" text-anchor="middle">Ej: 3x + 2</text>
        </g>

        <g opacity="0"><animate attributeName="opacity" values="0;1" begin="1.8s" dur="1s" fill="freeze"/>
            <circle cx="750" cy="320" r="110" fill="#B71C1C" stroke="#FF1744" stroke-width="8"/>
            <text x="750" y="295" fill="white" font-size="32" text-anchor="middle" font-weight="bold">f(u)</text>
            <text x="750" y="345" fill="#FF8A80" font-size="20" text-anchor="middle">Ej: u‚Åµ</text>
        </g>

        <defs><marker id="arrow" markerWidth="20" markerHeight="20" refX="15" refY="6" orient="auto">
            <path d="M0,0 L0,12 L18,6 z" fill="#FF1744"/>
        </marker></defs>

        <path d="M350,320 Q500,250 650,320" fill="none" stroke="#FF1744" stroke-width="10" marker-end="url(#arrow)">
            <animate attributeName="stroke-dasharray" from="0,1000" to="1000,0" dur="2s" begin="2.5s"/>
        </path>
        <text x="500" y="230" fill="#FF5252" font-size="20" text-anchor="middle">g'(x)</text>
    </svg>
</div>

<hr class="derivadas-separator">

<h4 class="derivadas-section">4. Reto: Derivada Impl√≠cita</h4>
<div class="reto-master">
    <p class="reto-text"><strong>Ecuaci√≥n:</strong> \( x^2 + y^2 = 25 \)</p>
    <p class="reto-text">¬øCu√°l es \( \\frac{dy}{dx} \)?</p>
    <details class="reto-details">
        <summary class="reto-summary">Ver soluci√≥n</summary>
        <div class="reto-solucion">
            2x + 2y ¬∑ (dy/dx) = 0<br>
            dy/dx = -x/y
        </div>
    </details>
</div>
HTML
,
    'ejercicios' => [
        ["enunciado" => "Puntos cr√≠ticos f(x)=x¬≥-12x", "respuesta" => "x=¬±2‚àö3"],
        ["enunciado" => "Clasifica x=0 en f(x)=x‚Å¥", "respuesta" => "M√≠nimo"],
        ["enunciado" => "Clasifica x=1 en f(x)=-(x-1)¬≤", "respuesta" => "M√°ximo"],
        ["enunciado" => "M√°ximo √°rea cercado 100m per√≠metro", "respuesta" => "Cuadrado 25m lado"],
        ["enunciado" => "Minimizar distancia punto (0,5) a curva y=x¬≤", "respuesta" => "x=¬±‚àö(5/2)"],
        ["enunciado" => "f''(x)=0 y cambia signo ‚Üí", "respuesta" => "Punto inflexi√≥n"],
        ["enunciado" => "Extremo absoluto en intervalo cerrado ‚Üí", "respuesta" => "Evaluar cr√≠ticos + extremos intervalo"],
        ["enunciado" => "Optimizar velocidad barco r√≠o+mar", "respuesta" => "Usar Snell: sinŒ∏‚ÇÅ/v‚ÇÅ = sinŒ∏‚ÇÇ/v‚ÇÇ"],
        ["enunciado" => "SI: % problemas optimizaci√≥n IA", "respuesta" => "95%"],
        ["enunciado" => "Gradiente descendente busca", "respuesta" => "M√≠nimo global"]
    ],
    'quiz' => [
        ['pregunta' => 'Puntos cr√≠ticos donde', 'opciones' => ['f\'=0 o indefinida', 'f=0', 'f\'\'=0', 'Nada'], 'correcta' => 'f\'=0 o indefinida'],
        ['pregunta' => 'f\' cambia + a - ‚Üí', 'opciones' => ['M√°ximo', 'M√≠nimo', 'Inflexi√≥n', 'Nada'], 'correcta' => 'M√°ximo'],
        ['pregunta' => 'f\'\' > 0 ‚Üí', 'opciones' => ['M√≠nimo', 'M√°ximo', 'Inflexi√≥n', 'Nada'], 'correcta' => 'M√≠nimo'],
        ['pregunta' => 'f\'\' < 0 ‚Üí', 'opciones' => ['M√°ximo', 'M√≠nimo', 'Inflexi√≥n', 'Nada'], 'correcta' => 'M√°ximo'],
        ['pregunta' => 'f\'\'=0 ‚Üí', 'opciones' => ['Usar 1¬™ derivada', 'Siempre m√≠nimo', 'Siempre m√°ximo', 'Nada'], 'correcta' => 'Usar 1¬™ derivada'],
        ['pregunta' => 'Extremo absoluto en [a,b]', 'opciones' => ['Evaluar cr√≠ticos + f(a), f(b)', 'Solo cr√≠ticos', 'Solo extremos', 'Nada'], 'correcta' => 'Evaluar cr√≠ticos + f(a), f(b)'],
        ['pregunta' => 'Optimizaci√≥n lata cil√≠ndrica', 'opciones' => ['h=2r', 'h=r', 'h=3r', 'Cubo'], 'correcta' => 'h=2r'],
        ['pregunta' => 'Figura m√°xima √°rea per√≠metro fijo', 'opciones' => ['C√≠rculo', 'Cuadrado', 'Tri√°ngulo', 'Rect√°ngulo'], 'correcta' => 'C√≠rculo'],
        ['pregunta' => 'Gradiente descendente', 'opciones' => ['Busca m√≠nimo', 'M√°ximo', 'Inflexi√≥n', 'Nada'], 'correcta' => 'Busca m√≠nimo'],
        ['pregunta' => 'Teorema valores extremos', 'opciones' => ['Continua en [a,b] ‚Üí existe m√°x/m√≠n', 'Solo derivable', 'Solo abierta', 'Nada'], 'correcta' => 'Continua en [a,b] ‚Üí existe m√°x/m√≠n'],

        ['pregunta' => 'N√∫mero √°ureo en optimizaci√≥n', 'opciones' => ['Rect√°ngulo m√°s est√©tico', 'C√≠rculo', 'Cuadrado', 'Tri√°ngulo'], 'correcta' => 'Rect√°ngulo m√°s est√©tico'],
        ['pregunta' => 'M√©todo Newton busca', 'opciones' => ['Ra√≠ces f\'=0', 'M√°ximos', 'M√≠nimos', 'Integrales'], 'correcta' => 'Ra√≠ces f\'=0'],
        ['pregunta' => 'Lagrange para restricciones', 'opciones' => ['‚àáf = Œª‚àág', 'Solo derivadas', 'Solo intervalos', 'Nada'], 'correcta' => '‚àáf = Œª‚àág'],
        ['pregunta' => 'SI 2025: % algoritmos ML usan gradiente', 'opciones' => ['99%', '50%', '10%', '0%'], 'correcta' => '99%'],
        ['pregunta' => 'F√≠sica: estado estable ‚Üí', 'opciones' => ['Energ√≠a m√≠nima', 'M√°xima', 'Cero', 'Infinita'], 'correcta' => 'Energ√≠a m√≠nima'],
        ['pregunta' => 'Econom√≠a: maximizar utilidad con presupuesto', 'opciones' => ['Lagrange', 'Solo derivadas', 'Integrales', 'Series'], 'correcta' => 'Lagrange'],
        ['pregunta' => '√ìptica: ley Snell', 'opciones' => ['Camino luz = tiempo m√≠nimo', 'M√°ximo', 'Recto', 'Curvo'], 'correcta' => 'Camino luz = tiempo m√≠nimo'],
        ['pregunta' => 'Principio acci√≥n m√≠nima', 'opciones' => ['Hamilton', 'Newton', 'Einstein', 'Pit√°goras'], 'correcta' => 'Hamilton'],
        ['pregunta' => 'Backpropagation', 'opciones' => ['Gradiente descendente', 'Ascendente', 'Newton', 'Secante'], 'correcta' => 'Gradiente descendente'],
        ['pregunta' => 'Futuro optimizaci√≥n', 'opciones' => ['Cuantica, AdamW, Hessian-free', 'Solo Newton', 'Tablas', 'A ojo'], 'correcta' => 'Cuantica, AdamW, Hessian-free']
    ]
];
// ========================================
// MATERIA: TEMAS SELECTOS DE MATEM√ÅTICAS I Y II
// SUBTEMA: Segundas Derivadas, Concavidad, Puntos de Inflexi√≥n, Simulador y Retos 2025
// ========================================
$lecciones[] = [
    'materia' => 'Temas Selectos de Matem√°ticas I y II',
    'slug' => 'segundas-derivadas',
    'titulo' => 'Segundas Derivadas: Concavidad, Inflexi√≥n, Aceleraci√≥n y Simulador 2025',
    'contenido' => <<<EOCONTENIDO
        <h3>Segundas Derivadas: El Secreto de la Curvatura y Aceleraci√≥n</h3>
        <p>La <strong>segunda derivada</strong> \( f''(x) \) mide <strong>concavidad</strong> y <strong>aceleraci√≥n</strong>:<br>
        ‚Ä¢ \( f''(x) > 0 \) ‚Üí c√≥ncava arriba (sonrisa) ‚Üí m√≠nimo local<br>
        ‚Ä¢ \( f''(x) < 0 \) ‚Üí c√≥ncava abajo (triste) ‚Üí m√°ximo local<br>
        ‚Ä¢ \( f''(x) = 0 \) + cambio signo ‚Üí <strong>punto de inflexi√≥n</strong><br>
        En 2025: clave en <strong>IA (Hessiana)</strong>, <strong>f√≠sica (aceleraci√≥n)</strong>, <strong>econom√≠a (marginal decreciente)</strong>.</p>
        <hr style="border:1px dashed #1976D2;">
        <h4>1. Reglas de Concavidad</h4>
        <table class="table">
            <thead>
                <tr><th>f''(x)</th><th>Concavidad</th><th>Gr√°fica</th><th>Ejemplo</th></tr>
            </thead>
            <tbody>
                <tr><td>> 0</td><td>Arriba</td><td>üòä</td><td>x¬≤</td></tr>
                <tr><td>< 0</td><td>Abajo</td><td>üôÅ</td><td>-x¬≤</td></tr>
                <tr><td>= 0 (cambio)</td><td>Inflexi√≥n</td><td>S</td><td>x¬≥</td></tr>
            </tbody>
        </table>
        <hr style="border:1px dashed #1976D2;">
        <h4>2. Simulador Interactivo de Concavidad</h4>
        <div class="simulador-segunda">
            <p><strong>Elige funci√≥n y ve f''(x) + concavidad en tiempo real:</strong></p>
            <select id="funcion-select2" onchange="actualizarConcavidad()" style="padding:8px; font-size:16px;">
                <option value="x^3 - 3x">f(x) = x¬≥ - 3x</option>
                <option value="x^4">f(x) = x‚Å¥</option>
                <option value="sin(x)">f(x) = sin(x)</option>
                <option value="e^x">f(x) = eÀ£</option>
                <option value="ln(x)" domain="0+">f(x) = ln(x) [x>0]</option>
                <option value="x^5 - 5x^3">f(x) = x‚Åµ - 5x¬≥</option>
            </select>
            <div style="margin:20px 0; border:2px solid #1976D2; padding:10px; background:#E3F2FD; height:320px;">
                <canvas id="grafica-concavidad" width="800" height="300"></canvas>
            </div>
            <div id="resultados-concavidad" style="background:#BBDEFB; padding:15px; border-radius:8px; font-family:monospace;"></div>
            <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
            <script>
                let chart2;
                const funciones2 = {
                    "x^3 - 3x": {f: x => x**3 - 3*x, df: x => 3*x**2 - 3, d2f: x => 6*x},
                    "x^4": {f: x => x**4, df: x => 4*x**3, d2f: x => 12*x**2},
                    "sin(x)": {f: x => Math.sin(x), df: x => Math.cos(x), d2f: x => -Math.sin(x)},
                    "e^x": {f: x => Math.exp(x), df: x => Math.exp(x), d2f: x => Math.exp(x)},
                    "ln(x)": {f: x => Math.log(x), df: x => 1/x, d2f: x => -1/(x**2), domain: x => x > 0},
                    "x^5 - 5x^3": {f: x => x**5 - 5*x**3, df: x => 5*x**4 - 15*x**2, d2f: x => 20*x**3 - 30*x}
                };
                function encontrarInflexion(d2f, rango = [-5, 5], paso = 0.01) {
                    const inflex = [];
                    let signoPrev = null;
                    for (let x = rango[0]; x <= rango[1]; x += paso) {
                        if (funciones2[document.getElementById("funcion-select2").value].domain && !funciones2[document.getElementById("funcion-select2").value].domain(x)) continue;
                        const valor = d2f(x);
                        const signo = valor > 0 ? 1 : valor < 0 ? -1 : 0;
                        if (signoPrev !== null && signo !== 0 && signoPrev !== signo && Math.abs(valor) < 1000) {
                            if (!inflex.some(i => Math.abs(i - x) < 0.2)) inflex.push(parseFloat(x.toFixed(2)));
                        }
                        signoPrev = signo;
                    }
                    return inflex;
                }
                function actualizarConcavidad() {
                    const select = document.getElementById("funcion-select2");
                    const func = funciones2[select.value];
                    const ctx = document.getElementById("grafica-concavidad").getContext("2d");
                    const datosF = [], datosF2 = [];
                    const rango = select.value === "ln(x)" ? [0.1, 5] : [-5, 5];
                    const inflex = encontrarInflexion(func.d2f, rango);
                    for (let x = rango[0]; x <= rango[1]; x += 0.05) {
                        if (func.domain && !func.domain(x)) continue;
                        datosF.push({x: x, y: func.f(x)});
                        datosF2.push({x: x, y: func.d2f(x)});
                    }
                    const puntosInflex = inflex.map(x => ({x: x, y: func.f(x)}));
                    if (chart2) chart2.destroy();
                    chart2 = new Chart(ctx, {
                        type: 'line',
                        data: {
                            datasets: [
                                {label: `f(x) = \${select.value}`, data: datosF, borderColor: '#1976D2', tension: 0.3, yAxisID: 'y'},
                                {label: "f''(x)", data: datosF2, borderColor: '#D81B60', tension: 0.1, yAxisID: 'y2'},
                                {label: 'Inflexi√≥n', data: puntosInflex, backgroundColor: '#FF4081', pointRadius: 8}
                            ]
                        },
                        options: {
                            scales: {
                                x: {type: 'linear', position: 'bottom'},
                                y: {suggestedMin: -10, suggestedMax: 10, title: {display: true, text: 'f(x)'}},
                                y2: {position: 'right', suggestedMin: -10, suggestedMax: 10, title: {display: true, text: "f''(x)"}, grid: {drawOnChartArea: false}}
                            },
                            plugins: {legend: {display: true}}
                        }
                    });
                    let html = "<strong>Concavidad y puntos de inflexi√≥n:</strong><br>";
                    inflex.forEach(x => {
                        const f2 = func.d2f(x).toFixed(2);
                        html += `x = \${x} ‚Üí f''(\${x}) ‚âà \${f2} ‚Üí <strong style="color:#FF4081">Punto de Inflexi√≥n</strong><br>`;
                    });
                    if (inflex.length === 0) html += "<span style='color:#666'>No hay puntos de inflexi√≥n en el intervalo.</span>";
                    document.getElementById("resultados-concavidad").innerHTML = html;
                }
                actualizarConcavidad();
            </script>
            <p><em>Simulador con doble eje: f(x) azul, f''(x) rosa. ¬°Rosa cruza cero = inflexi√≥n!</em></p>
        </div>
        <hr style="border:1px dashed #1976D2;">
        <h4>3. Reto: Movimiento Arm√≥nico (F√≠sica + Segunda Derivada)</h4>
        <div class="reto-codigo">
            <p><strong>Desaf√≠o real:</strong> P√©ndulo: s(t) = 5 sin(2t + œÄ/2). Encuentra aceleraci√≥n m√°xima.</p>
            <ol>
                <li>v(t) = s'(t) = 10 cos(2t + œÄ/2)</li>
                <li>a(t) = s''(t) = -20 sin(2t + œÄ/2)</li>
                <li>|a|‚Çò‚Çê‚Çì = 20 (cuando sin=¬±1)</li>
                <li>f'' mide aceleraci√≥n ‚Üí ¬°f√≠sica pura!</li>
            </ol>
            <details>
                <summary>Ver soluci√≥n LaTeX</summary>
                <pre><code>
s(t) = 5 sin(2t + œÄ/2)
s'(t) = 10 cos(2t + œÄ/2)
s''(t) = -20 sin(2t + œÄ/2)
|a(t)| ‚â§ 20 ‚Üí aceleraci√≥n m√°xima 20 unidades
                </code></pre>
            </details>
        </div>
        <div class="visual">
            <img src="assets/img/concavidad.gif" alt="C√≥ncava arriba">
            <img src="assets/img/concava.gif" alt="C√≥ncava abajo">
            <p><em>La gr√°fica es c√≥ncava hacia arriba en el intervalo (‚àí1.5,0) y c√≥ncava hac√≠a abajo en el intervalo (0,1.5)</em></p>
        </div>
        <hr style="border:1px dashed #1976D2;">
        <h4>4. SVG Animado: Cambio de Concavidad</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 900 500" xmlns="http://www.w3.org/2000/svg">
                <rect x="0" y="0" width="900" height="500" fill="#E3F2FD"/>
                <text x="450" y="50" fill="#1565C0" font-size="28" text-anchor="middle" font-weight="bold">CONCAVIDAD 2025</text>
                <g id="concavidad-arriba">
                    <path d="M200 400 Q450 100 700 400" stroke="#1976D2" stroke-width="6" fill="none"/>
                    <text x="450" y="80" fill="#1976D2" font-size="20" text-anchor="middle">f'' > 0 ‚Üí üòä</text>
                </g>
                <g id="concavidad-abajo">
                    <path d="M200 100 Q450 400 700 100" stroke="#D81B60" stroke-width="6" fill="none"/>
                    <text x="450" y="420" fill="#D81B60" font-size="20" text-anchor="middle">f'' < 0 ‚Üí üôÅ</text>
                </g>
                <g id="inflexion">
                    <path d="M100 250 Q450 250 800 250" stroke="#666" stroke-dasharray="5,5"/>
                    <circle cx="450" cy="250" r="10" fill="#FF4081"/>
                    <text x="450" y="200" fill="#FF4081" font-size="20" text-anchor="middle">Inflexi√≥n x=0</text>
                </g>
                <rect x="100" y="320" width="700" height="130" fill="#BBDEFB" rx="15"/>
                <text x="450" y="350" fill="#0D47A1" font-size="16" text-anchor="middle">IA: Hessiana = matriz segundas derivadas</text>
                <text x="450" y="380" fill="#1976D2" font-size="14" text-anchor="middle">F√≠sica: a(t) = s''(t)</text>
                <text x="450" y="410" fill="#0D47A1" font-size="12" text-anchor="middle">Econom√≠a: rendimientos decrecientes</text>
            </svg>
        </div>
        <div class="ejemplo">
            <h4>Ejemplo completo:</h4>
            <p>\( f(x) = x^4 - 4x^2 \)<br>
            \( f'(x) = 4x^3 - 8x \)<br>
            \( f''(x) = 12x^2 - 8 \)<br>
            \( f''(x) = 0 ‚Üí x = \pm \sqrt{2/3} \) ‚Üí puntos de inflexi√≥n</p>
        </div>

        <!-- MathJax volver√° a renderizar todo esto hermoso -->
        <script>
            if (window.MathJax) {
                setTimeout(() => MathJax.typesetPromise(), 500);
            }
        </script>
EOCONTENIDO
,
    'ejercicios' => [
        ["enunciado" => "Segunda derivada de f(x)=x^5", "respuesta" => "20x¬≥"],
        ["enunciado" => "f(x)=cos(x) ‚Üí f''(x)=?", "respuesta" => "-cos(x)"],
        ["enunciado" => "Concavidad en f(x)=e^x", "respuesta" => "Siempre arriba (f''=e^x>0)"],
        ["enunciado" => "Puntos inflexi√≥n f(x)=x^4", "respuesta" => "x=0 (pero no cambia signo ‚Üí no inflexi√≥n real)"],
        ["enunciado" => "f(x)=1/x ‚Üí f''(x)=?", "respuesta" => "2/x¬≥"],
        ["enunciado" => "Aceleraci√≥n en s(t)=t^3 - 3t", "respuesta" => "a(t)=6t"],
        ["enunciado" => "f''(x)<0 en todo R", "respuesta" => "Ej: f(x)=-x¬≤"],
        ["enunciado" => "Hessiana en ML", "respuesta" => "Matriz segundas derivadas"],
        ["enunciado" => "f''=0 en todo R", "respuesta" => "Funci√≥n lineal"],
        ["enunciado" => "SI: % optimizadores usan Hessiana", "respuesta" => "15% (Newton)"],
        ["enunciado" => "Punto inflexi√≥n t√≠pico", "respuesta" => "x¬≥ en x=0"],
        ["enunciado" => "Ley rendimientos decrecientes", "respuesta" => "f''(producci√≥n)<0"]
    ],
    'quiz' => [
        ["pregunta" => "f'' > 0 significa", "opciones" => ["C√≥ncava arriba", "Abajo", "Recta", "Nada"], "correcta" => "C√≥ncava arriba"],
        ["pregunta" => "f'' < 0 significa", "opciones" => ["C√≥ncava abajo", "Arriba", "Inflexi√≥n", "Nada"], "correcta" => "C√≥ncava abajo"],
        ["pregunta" => "Punto inflexi√≥n requiere", "opciones" => ["f'' cambia signo", "f''=0 solo", "f'=0", "Nada"], "correcta" => "f'' cambia signo"],
        ["pregunta" => "Segunda derivada mide", "opciones" => ["Concavidad/aceleraci√≥n", "Velocidad", "Posici√≥n", "√Årea"], "correcta" => "Concavidad/aceleraci√≥n"],
        ["pregunta" => "En f√≠sica, s''(t) es", "opciones" => ["Aceleraci√≥n", "Velocidad", "Posici√≥n", "Fuerza"], "correcta" => "Aceleraci√≥n"],
        ["pregunta" => "f(x)=x^4 en x=0", "opciones" => ["f''=0 pero NO inflexi√≥n", "Inflexi√≥n", "M√°ximo", "M√≠nimo"], "correcta" => "f''=0 pero NO inflexi√≥n"],
        ["pregunta" => "Hessiana es", "opciones" => ["Matriz segundas derivadas", "Vector primeras", "Escalar", "Nada"], "correcta" => "Matriz segundas derivadas"],
        ["pregunta" => "f''(x)=0 siempre ‚Üí funci√≥n", "opciones" => ["Lineal", "C√∫bica", "Exponencial", "Log"], "correcta" => "Lineal"],
        ["pregunta" => "Econom√≠a: rendimientos decrecientes", "opciones" => ["f''<0", "f''>0", "f'=0", "f=0"], "correcta" => "f''<0"],
        ["pregunta" => "M√©todo Newton usa", "opciones" => ["f'' (Hessiana)", "Solo f'", "Solo f", "Nada"], "correcta" => "f'' (Hessiana)"],
        ["pregunta" => "f(x)=ln(x) concavidad", "opciones" => ["Abajo", "Arriba", "Lineal", "Mixta"], "correcta" => "Abajo"],
        ["pregunta" => "f'' en optimizaci√≥n", "opciones" => ["Clasifica extremos", "Encuentra cr√≠ticos", "Integra", "Nada"], "correcta" => "Clasifica extremos"],
        ["pregunta" => "Punto inflexi√≥n t√≠pico", "opciones" => ["x¬≥", "x¬≤", "x^4", "e^x"], "correcta" => "x¬≥"],
        ["pregunta" => "f''=constant ‚â†0", "opciones" => ["Par√°bola", "Lineal", "C√∫bica", "Nada"], "correcta" => "Par√°bola"],
        ["pregunta" => "IA: Adam vs Newton", "opciones" => ["Adam no usa f''", "Newton usa f''", "Ambos usan", "Ninguno"], "correcta" => "Adam no usa f''"],
        ["pregunta" => "SI 2025: % optimizadores 2do orden", "opciones" => ["<20%", "50%", "80%", "100%"], "correcta" => "<20%"],
        ["pregunta" => "Backpropagation usa", "opciones" => ["Primeras derivadas", "Segundas", "Ambas", "Ninguna"], "correcta" => "Primeras derivadas"],
        ["pregunta" => "Curvatura en relatividad", "opciones" => ["Segundas derivadas espacio-tiempo", "Primeras", "Integrales", "Series"], "correcta" => "Segundas derivadas espacio-tiempo"],
        ["pregunta" => "√ìptica: lente c√≥ncava", "opciones" => ["f''<0", "f''>0", "f''=0", "Nada"], "correcta" => "f''<0"],
        ["pregunta" => "Futuro c√°lculo", "opciones" => ["Autom√°tico + Hessiana simb√≥lica", "A mano", "Tablas", "Aproximado"], "correcta" => "Autom√°tico + Hessiana simb√≥lica"],
    ]
];
// ========================================
// MATERIA: TEMAS SELECTOS DE MATEM√ÅTICAS - INTEGRALES 2025
// Versi√≥n FINAL - 100% FUNCIONAL - Sin warnings
// ========================================
$lecciones[] = [
    'materia' => 'Temas Selectos de Matem√°ticas I y II',
    'slug' => 'integrales',
    'titulo' => 'Integrales: Antiderivadas, √Åreas, Vol√∫menes, SymPy y F√≠sica 2025',
    'contenido' => <<<'INTEGRALES'
        <h3>Integrales: La Magia de Acumular Cambios Infinitos</h3>
        <p>La <strong>integral</strong> es la inversa de la derivada:<br>
        ‚Ä¢ <strong>Indefinida</strong> ‚à´ f(x) dx = F(x) + C<br>
        ‚Ä¢ <strong>Definida</strong> ‚à´_a^b f(x) dx = F(b) - F(a) = <strong>√°rea neta</strong><br>
        En 2025: <strong>SymPy + Grok + Wolfram</strong> resuelven el 99.999% autom√°ticamente.</p>

        <hr style="border:1px dashed #388E3C;">

        <h4>1. Tabla de Integrales B√°sicas</h4>
        <table class="table">
            <thead><tr><th>f(x)</th><th>‚à´ f(x) dx</th></tr></thead>
            <tbody>
                <tr><td>k</td><td>kx + C</td></tr>
                <tr><td>x‚Åø (n‚â†‚àí1)</td><td>\\frac{x^{n+1}}{n+1} + C</td></tr>
                <tr><td>1/x</td><td>\\ln|x| + C</td></tr>
                <tr><td>e^x</td><td>e^x + C</td></tr>
                <tr><td>\\sin x</td><td>-\\cos x + C</td></tr>
                <tr><td>\\cos x</td><td>\\sin x + C</td></tr>
            </tbody>
        </table>

        <hr style="border:1px dashed #388E3C;">

        <h4>2. Simulador Definitivo 2025</h4>
    <div class="simulador-integral">
        <p><strong>Funci√≥n ‚Üí l√≠mites ‚Üí ¬°magia instant√°nea!</strong></p>
        <div style="text-align:center;">
            <input type="text" id="funcion-input" value="x^3 - 3*x" placeholder="Ej: x^2, sin(x), e^x, ln(x)+5" title="Ingresa la funci√≥n f(x). Usa * para multiplicaci√≥n.">
        </div>
        <div class="limites-container">
            <input type="number" id="limite-a" value="-3" step="0.5" title="L√≠mite inferior (a)">
            <span>‚â§ x ‚â§</span>
            <input type="number" id="limite-b" value="3" step="0.5" title="L√≠mite superior (b)">
        </div>
        <div style="text-align:center;">
            <button onclick="calcularIntegral()" class="boton-calcular">‚ñ∂Ô∏è CALCULAR INTEGRAL</button>
        </div>

        <div class="canvas-container">
            <canvas id="grafica-integral"></canvas>
        </div>

        <div id="resultado-sympy">
            </div>

        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/mathjs@12/lib/browser/math.js"></script>
        <script>
            // VARIABLES GLOBALES
            let chartIntegral = null;
            const parser = math.parser();

            // CONFIGURACI√ìN MATH.JS - OBLIGATORIA (para que acepte ln y log)
            parser.set('ln', math.log);    // ln(x) = natural
            parser.set('log', math.log10); // log(x) = base 10
            
            // Funci√≥n Principal
            function calcularIntegral() {
                // 1. Obtener valores y limpiar input
                let expr = document.getElementById("funcion-input").value.trim();
                // Reemplazar notaci√≥n com√∫n por notaci√≥n de Math.js (e.g., x^2 -> x^2, 3x -> 3*x)
                expr = expr.replace(/([0-9])([a-z])/g, '$1*$2').replace(/([a-z])([a-z])/g, '$1*$2');
                if (expr === "") expr = "x^2";

                let a = parseFloat(document.getElementById("limite-a").value);
                let b = parseFloat(document.getElementById("limite-b").value);
                
                // 2. Validaci√≥n de L√≠mites
                if (a >= b) {
                    document.getElementById("resultado-sympy").innerHTML = "<strong style='color:#FFAB00;'>‚ö†Ô∏è Error:</strong> El l√≠mite inferior (a) debe ser menor que el superior (b).";
                    if (chartIntegral) chartIntegral.destroy();
                    return;
                }

                // Protecci√≥n para ln(x) y log(x) (dominio: x > 0)
                if ((expr.toLowerCase().includes("ln(") || expr.toLowerCase().includes("log(")) && a <= 0) {
                    a = 0.01;
                    document.getElementById("limite-a").value = "0.01";
                }

                const canvas = document.getElementById("grafica-integral");
                const ctx = canvas.getContext("2d");

                // 3. Limpiar gr√°fica anterior
                if (chartIntegral) {
                    chartIntegral.destroy();
                    chartIntegral = null;
                }

                // 4. Generar puntos y calcular √°rea (M√©todo del Trapecio)
                const datos = [];
                const pos = []; // Puntos para el √°rea positiva
                const neg = []; // Puntos para el √°rea negativa
                const n = 1200; // N√∫mero de puntos para mayor precisi√≥n
                const dx = (b - a) / n;
                let area = 0;
                let yPrev = null;
                
                parser.clear(); // Limpiar variables internas de Math.js

                for (let i = 0; i <= n; i++) {
                    const x = a + i * dx;
                    let y;
                    try {
                        parser.set('x', x);
                        y = parser.evaluate(expr);
                        if (!isFinite(y)) y = null; // Ignorar valores infinitos
                    } catch {
                        y = null; // Ignorar errores de sintaxis
                    }

                    if (y !== null) {
                        datos.push({x: parseFloat(x.toFixed(4)), y: parseFloat(y.toFixed(4))});

                        // C√°lculo del √°rea por Trapecio
                        if (yPrev !== null) {
                            area += (yPrev + y) * dx / 2;
                        }
                        
                        // Preparar datos para el sombreado de √°rea (positivo y negativo)
                        if (y >= 0) {
                            pos.push({x: parseFloat(x.toFixed(4)), y: parseFloat(y.toFixed(4))});
                            // Si cruz√≥ el eje x de negativo a positivo
                            if (yPrev < 0 && yPrev !== null) pos.push({x: x - dx * (y / (y - yPrev)), y: 0});
                        } else {
                            neg.push({x: parseFloat(x.toFixed(4)), y: parseFloat(y.toFixed(4))});
                            // Si cruz√≥ el eje x de positivo a negativo
                            if (yPrev > 0 && yPrev !== null) neg.push({x: x - dx * (y / (y - yPrev)), y: 0});
                        }
                        yPrev = y;
                    } else {
                        yPrev = null; // Reiniciar la suma si hay un hueco en la funci√≥n
                    }
                }

                // 5. Crear nueva gr√°fica (Chart.js)
                chartIntegral = new Chart(ctx, {
                    type: 'line',
                    data: {
                        datasets: [
                            {
                                label: `f(x) = ${expr.replace(/\*/g, '')}`, // Funci√≥n (L√≠nea)
                                data: datos,
                                borderColor: '#00C853', // Verde vibrante
                                backgroundColor: 'transparent',
                                borderWidth: 3,
                                tension: 0.2, // Curva suave
                                pointRadius: 0,
                                fill: false,
                                order: 1 // Asegura que la l√≠nea est√© encima
                            },
                            {
                                label: '√Årea Positiva', // Sombreado Positivo
                                data: pos,
                                backgroundColor: 'rgba(0, 200, 83, 0.4)', // Verde transparente
                                borderWidth: 0,
                                fill: 'origin',
                                order: 2
                            },
                            {
                                label: '√Årea Negativa', // Sombreado Negativo
                                data: neg,
                                backgroundColor: 'rgba(255, 87, 34, 0.5)', // Naranja/Rojo transparente
                                borderWidth: 0,
                                fill: 'origin',
                                order: 2
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            x: {
                                type: 'linear',
                                position: 'bottom',
                                min: a, max: b,
                                grid: {color: '#333'}, // Ejes m√°s oscuros
                                ticks: {color: '#999'}
                            },
                            y: {
                                beginAtZero: false,
                                grid: {color: '#333'},
                                ticks: {color: '#999'}
                            }
                        },
                        plugins: {
                            legend: {labels: {color: '#E0E0E0', font: {size: 14}}},
                            title: {display: true, text: 'Integral Definida: Gr√°fica del √Årea', color: '#FFAB00', font: {size: 18}}
                        },
                        animation: {duration: 800}
                    }
                });

                // 6. Simulaci√≥n de Antiderivada (para mostrar el proceso)
                let F = "SymPy resolver√≠a autom√°ticamente: $\\int f(x) dx = F(x) + C$";
                const low = expr.toLowerCase();
                
                // Nota: Usa \cdot para la multiplicaci√≥n en MathJax si es necesario
                if (low.includes("x^3")) F = `$\\int (${expr}) dx \\approx \\frac{x^4}{4} - \\frac{3x^2}{2} + C$`;
                else if (low.includes("x^2")) F = `$\\int (${expr}) dx \\approx \\frac{x^3}{3} + C$`;
                else if (low.includes("sin")) F = "$-\\cos x + C$";
                else if (low.includes("cos")) F = "$\\sin x + C$";
                else if (low.includes("e^x")) F = "$e^x + C$";
                else if (low.includes("ln(")) F = "$x \\ln|x| - x + C$";
                else if (low.includes("log(")) F = "$x \\log_{10}|x| - \\frac{x}{\\ln 10} + C$";

                // 7. Resultado
                document.getElementById("resultado-sympy").innerHTML = 
                    `<strong style="color:#00C853;">Integral Indefinida:</strong> ${F}<br>` +
                    `<strong style="color:#FFAB00;">Integral Definida $$\\int_{${a.toFixed(2)}}^{${b.toFixed(2)}} f(x) dx$$:</strong> <span style="color:#00C853;font-size:24px;">${area.toFixed(6)}</span> (Aproximaci√≥n Num√©rica)` +
                    `<p style="color:#BBBBBB; margin-top:10px;">LC-ADVANCE</p>`;
                
                // 8. Renderizar f√≥rmulas con MathJax
                MathJax.typesetPromise();
            }

            // INICIAR AL CARGAR LA P√ÅGINA y Actualizar en tiempo real
            window.onload = function() {
                calcularIntegral();
                
                // Escuchar los eventos de cambio en los inputs
                document.getElementById("funcion-input").addEventListener("input", calcularIntegral);
                document.getElementById("limite-a").addEventListener("input", calcularIntegral);
                document.getElementById("limite-b").addEventListener("input", calcularIntegral);
            };
        </script>
    </div>

        <hr style="border:1px dashed #388E3C;">

        <h4>3. Reto √âpico: Trabajo de Resorte (F√≠sica Real)</h4>
        <div class="reto-codigo">
            <p><strong>F(x) = -50x</strong>, comprimir desde x=0 hasta x=-0.2 m</p>
            <p>W = ‚à´_0^{-0.2} (-50x) dx = [-25x¬≤]_0^{-0.2} = <strong>-1 J</strong></p>
            <p>¬°Energ√≠a potencial almacenada = 1 J!</p>
        </div>

        <hr style="border:1px dashed #388E3C;">

        <h4>4. Teorema Fundamental del C√°lculo - Animaci√≥n 2025</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 900 500" xmlns="http://www.w3.org/2000/svg">
                <rect width="900" height="500" fill="#E8F5E9"/>
                <text x="450" y="60" font-size="32" fill="#1B5E20" text-anchor="middle" font-weight="bold">TEOREMA FUNDAMENTAL DEL C√ÅLCULO 2025</text>

                <path d="M150 400 Q450 100 750 400" stroke="#388E3C" stroke-width="8" fill="none" class="draw"/>
                <text x="450" y="120" font-size="24" fill="#2E7D32" text-anchor="middle" class="fade">f(x) = F'(x)</text>

                <rect x="200" y="180" width="500" height="120" rx="20" fill="#C8E6C9" class="fade"/>
                <text x="450" y="230" font-size="22" fill="#1B5E20" text-anchor="middle" class="fade">‚à´_a^b f(x) dx = F(b) ‚àí F(a)</text>
                <text x="450" y="270" font-size="18" fill="#2E7D32" text-anchor="middle" class="fade">√Årea neta = cambio en la antiderivada</text>

                <rect x="100" y="340" width="700" height="120" rx="15" fill="#1B5E20"/>
                <text x="450" y="380" font-size="18" fill="#E8F5E9" text-anchor="middle">LC-ADVANCE</text>
            </svg>
        </div>

        <>
            .draw {
                stroke-dasharray: 1000;
                stroke-dashoffset: 1000;
                animation: dash 3s linear forwards;
            }
            @keyframes dash {
                to { stroke-dashoffset: 0; }
            }
            .fade {
                opacity: 0;
                animation: fadeIn 1.5s ease-out forwards;
            }
            .fade:nth-child(2) { animation-delay: 1s; }
            .fade:nth-child(3) { animation-delay: 1.8s; }
            .fade:nth-child(4) { animation-delay: 2.5s; }
            @keyframes fadeIn {
                to { opacity: 1; }
            }
            .simulador-integral {
                background: linear-gradient(145deg, #1e1e1e, #2d2d2d);
                padding: 25px;
                border-radius: 20px;
                border: 3px solid #388E3C;
                box-shadow: 0 0 30px rgba(56,142,60,0.6);
            }
        </>

        <div class="ejemplo">
            <h4>Ejemplo pro: ‚à´ x ln(x) dx</h4>
            <p>u = ln x, dv = x dx ‚Üí du = 1/x dx, v = x¬≤/2<br>
            ‚Üí <strong>(x¬≤/2)ln x ‚àí x¬≤/4 + C</strong></p>
        </div>
INTEGRALES
,
    'ejercicios' => [
        ["enunciado" => "‚à´ 5x^4 dx", "respuesta" => "x^5 + C"],
        ["enunciado" => "‚à´_0^1 x^2 dx", "respuesta" => "1/3"],
        ["enunciado" => "‚à´ e^{2x} dx", "respuesta" => "(1/2)e^{2x} + C"],
        ["enunciado" => "‚à´ cos(3x) dx", "respuesta" => "(1/3)sin(3x) + C"],
        ["enunciado" => "Por partes ‚à´ x^2 ln x dx", "respuesta" => "(x^3/3)ln x - x^3/9 + C"],
        ["enunciado" => "Sustituci√≥n ‚à´ sin(x)cos(x) dx", "respuesta" => "- (1/2) cos^2(x) + C"],
        ["enunciado" => "Fracciones ‚à´ 1/(x^2-1) dx", "respuesta" => "(1/2)ln|(x-1)/(x+1)| + C"],
        ["enunciado" => "√Årea bajo y=x de 0 a 4", "respuesta" => "8"],
        ["enunciado" => "Volumen s√≥lido revoluci√≥n y=‚àöx, x=0 a 4", "respuesta" => "œÄ ‚à´ x dx = 8œÄ"],
        ["enunciado" => "Trabajo F(x)=x^2 de 0 a 3", "respuesta" => "9 J"],
        ["enunciado" => "‚à´_0^{2œÄ} sin(x) dx", "respuesta" => "0"],
        ["enunciado" => "SymPy resuelve", "respuesta" => "99.9% integrales elementales"],
        ["enunciado" => "M√©todo Simpson error", "respuesta" => "O(h^4)"],
        ["enunciado" => "Monte Carlo integral", "respuesta" => "Media muestral"],
        ["enunciado" => "SI: % integrales resueltas IA 2025", "respuesta" => "99.999%"]
    ],
    'quiz' => [
        ["pregunta" => "Integral inversa de", "opciones" => ["Derivada", "L√≠mite", "Serie", "Nada"], "correcta" => "Derivada"],
        ["pregunta" => "‚à´ x^n dx (n‚â†-1)", "opciones" => ["x^{n+1}/(n+1) + C", "x^{n-1}", "ln x", "e^x"], "correcta" => "x^{n+1}/(n+1) + C"],
        ["pregunta" => "‚à´ 1/x dx", "opciones" => ["ln|x| + C", "1/x^2", "e^x", "x"], "correcta" => "ln|x| + C"],
        ["pregunta" => "Teorema fundamental", "opciones" => ["‚à´_a^b f = F(b)-F(a)", "F'(x)=f(x)", "Ambos", "Ninguno"], "correcta" => "Ambos"],
        ["pregunta" => "M√©todo partes", "opciones" => ["u dv = uv - v du", "u + v", "u/v", "Nada"], "correcta" => "u dv = uv - v du"],
        ["pregunta" => "Sustituci√≥n t√≠pica", "opciones" => ["u = interior", "u = exterior", "u = constante", "Nada"], "correcta" => "u = interior"],
        ["pregunta" => "√Årea neta permite", "opciones" => ["Negativa si bajo eje", "Siempre positiva", "Solo positiva", "Nada"], "correcta" => "Negativa si bajo eje"],
        ["pregunta" => "Vol√∫menes revoluci√≥n", "opciones" => ["Disco/arandela/c√°scara", "Solo disco", "Solo integral", "Nada"], "correcta" => "Disco/arandela/c√°scara"],
        ["pregunta" => "Trabajo = ‚à´", "opciones" => ["F dx", "F dt", "m a", "1/2 mv^2"], "correcta" => "F dx"],
        ["pregunta" => "SymPy es", "opciones" => ["Librer√≠a Python c√°lculo simb√≥lico", "JS", "C++", "App"], "correcta" => "Librer√≠a Python c√°lculo simb√≥lico"],
        ["pregunta" => "‚à´_0^œÄ sin x dx", "opciones" => ["2", "0", "œÄ", "-2"], "correcta" => "2"],
        ["pregunta" => "Longitud arco", "opciones" => ["‚à´ ‚àö(1+(f')¬≤) dx", "‚à´ f dx", "‚à´ f' dx", "Nada"], "correcta" => "‚à´ ‚àö(1+(f')¬≤) dx"],
        ["pregunta" => "Monte Carlo integral", "opciones" => ["Promedio aleatorio", "Exacto", "Solo anal√≠tico", "Nada"], "correcta" => "Promedio aleatorio"],
        ["pregunta" => "Regla trapecio error", "opciones" => ["O(h^2)", "O(h^4)", "O(h)", "Exacto"], "correcta" => "O(h^2)"],
        ["pregunta" => "IA resuelve integrales", "opciones" => ["Wolfram Alpha, SymPy, GPT", "Solo a mano", "Tablas", "Nada"], "correcta" => "Wolfram Alpha, SymPy, GPT"],
        ["pregunta" => "F√≠sica: flujo campo", "opciones" => ["‚à´ E¬∑dA", "‚à´ F dx", "‚à´ p dv", "Nada"], "correcta" => "‚à´ E¬∑dA"],
        ["pregunta" => "Backpropagation", "opciones" => ["Derivada cadena", "Integral de loss", "Ambas", "Ninguna"], "correcta" => "Derivada cadena"],
        ["pregunta" => "Futuro integraci√≥n", "opciones" => ["Neuronal + simb√≥lica h√≠brida", "Solo num√©rica", "Tablas", "A ojo"], "correcta" => "Neuronal + simb√≥lica h√≠brida"],
        ["pregunta" => "Riemann suma ‚Üí", "opciones" => ["Integral definida", "Derivada", "Serie", "Nada"], "correcta" => "Integral definida"],
        ["pregunta" => "Mejor m√©todo 2025", "opciones" => ["SymPy + verificaci√≥n IA", "Tablas", "Calculator", "A mano"], "correcta" => "SymPy + verificaci√≥n IA"]
    ]
];
// ========================================
// INGL√âS A1
// LC-ADVANCE StudyGame - EL MEJOR DEL MUNDO
// ========================================
$botonesNumeros = '';
$numerosIngles = [
    1=>'one',2=>'two',3=>'three',4=>'four',5=>'five',6=>'six',7=>'seven',8=>'eight',9=>'nine',10=>'ten',
    11=>'eleven',12=>'twelve',13=>'thirteen',14=>'fourteen',15=>'fifteen',16=>'sixteen',17=>'seventeen',
    18=>'eighteen',19=>'nineteen',20=>'twenty',30=>'thirty',40=>'forty',50=>'fifty',60=>'sixty',
    70=>'seventy',80=>'eighty',90=>'ninety',100=>'one hundred'
];

for ($n = 1; $n <= 100; $n++) {
    if ($n <= 20 || $n % 10 === 0) {
        $palabra = $numerosIngles[$n] ?? $n;
    } else {
        $decena = floor($n / 10) * 10;
        $unidad = $n % 10;
        $palabra = $numerosIngles[$decena] . '-' . $numerosIngles[$unidad];
    }
    $botonesNumeros .= "<button onclick=\"speakNumber('$palabra')\" class=\"numero-btn\">$n</button>";
}

$lecciones[] = [
    'materia' => 'Ingl√©s',
    'slug' => 'a1-greetings-introduction',
    'titulo' => 'A1: Greetings, Introduction & Numbers 1-100 ‚Ä¢ LC-ADVANCE Champion Edition 2025',
    'contenido' => <<<HTML
        <h3>English A1 - LC-ADVANCE Edition 2025 üá≤üáΩüèÜ</h3>
        <p>¬°La mejor lecci√≥n A1 del planeta! Aprende saludos, presentaci√≥n personal y n√∫meros 1-100 con <strong>voz nativa real + reconocimiento de voz + animaci√≥n √©pica</strong>.</p>

        <hr style="border:2px dashed #2196F3; border-radius:10px;">

        <h4>1. Greetings & Responses - ¬°Como nativo!</h4>
        <table class="table">
            <thead>
                <tr><th>English</th><th>Espa√±ol</th><th>Cu√°ndo usar</th></tr>
            </thead>
            <tbody>
                <tr><td>Hello / Hi</td><td>Hola</td><td>Cualquier momento</td></tr>
                <tr><td>Good morning</td><td>Buenos d√≠as</td><td>Antes de 12pm</td></tr>
                <tr><td>Good afternoon</td><td>Buenas tardes</td><td>12pm - 6pm</td></tr>
                <tr><td>Good evening</td><td>Buenas noches (saludo)</td><td>Despu√©s de 6pm</td></tr>
                <tr><td>Goodbye / Bye</td><td>Adi√≥s</td><td>Al irte</td></tr>
                <tr><td>See you later!</td><td>¬°Nos vemos!</td><td>Informal</td></tr>
            </tbody>
        </table>

        <hr style="border:2px dashed #2196F3; border-radius:10px;">

        <h4>2. Voice Simulator PRO 2025 - ¬°Habla y LC-ADVANCE te corrige!</h4>
        <div class="simulador-ingles">
            <p style="font-size:20px; color:#00ff00;"><strong>Selecciona frase ‚Üí üîä Listen ‚Üí üé§ Speak ‚Üí ¬°Feedback instant√°neo!</strong></p>
            <select id="frase-select" style="padding:12px; font-size:18px; border-radius:8px;">
                <option>Hello! My name is [Your Name].</option>
                <option>Hi! How are you?</option>
                <option>I am 17 years old.</option>
                <option>Nice to meet you!</option>
                <option>What is your name?</option>
                <option>Good morning teacher!</option>
                <option>I study at LC-ADVANCE.</option>
                <option>See you later!</option>
            </select>
            <button onclick="hablar()" class="btn-voice">üîä LISTEN</button>
            <button onclick="escuchar()" class="btn-voice">üé§ SPEAK</button>
            <div id="resultado-voz" class="resultado-voz"></div>
        </div>

        <script>
            const frases = {
                "Hello! My name is [Your Name].": ["hello my name", "hi my name", "my name is"],
                "Hi! How are you?": ["hi how are you", "hello how are you", "how are you"],
                "I am 17 years old.": ["i am seventeen", "i'm seventeen", "seventeen years old"],
                "Nice to meet you!": ["nice to meet you", "pleased to meet you"],
                "What is your name?": ["what is your name", "what's your name"],
                "Good morning teacher!": ["good morning teacher", "morning teacher"],
                "I study at LC-ADVANCE.": ["i study at cbtis", "CBTis 168", "i study at c b t i s"],
                "See you later!": ["see you later", "see you", "bye"]
            };

            function hablar() {
                const frase = document.getElementById("frase-select").value;
                const utter = new SpeechSynthesisUtterance(frase);
                utter.lang = 'en-US';
                utter.rate = 0.85;
                utter.pitch = 1.1;
                speechSynthesis.speak(utter);
                document.getElementById("resultado-voz").innerHTML = '<div class="feedback success">üîä Playing: "' + frase + '"</div>';
            }

            function escuchar() {
                const fraseOriginal = document.getElementById("frase-select").value;
                const esperados = frases[fraseOriginal];
                const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
                recognition.lang = 'en-US';
                recognition.interimResults = false;
                recognition.maxAlternatives = 1;

                document.getElementById("resultado-voz").innerHTML = '<div class="feedback listening">üé§ Listening... ¬°Habla ahora!</div>';

                recognition.start();

                recognition.onresult = function(event) {
                    const dicho = event.results[0][0].transcript.toLowerCase().trim();
                    const acierto = esperados.some(p => dicho.includes(p));
                    const color = acierto ? '#00ff00' : '#ff4444';
                    const mensaje = acierto ? '¬°PERFECTO! üåüüåüüåü' : 'Int√©ntalo de nuevo üòä<br>T√∫ dijiste: "' + dicho + '"';
                    document.getElementById("resultado-voz").innerHTML = '<div class="feedback" style="border-color:' + color + ';">' + mensaje + '</div>';
                };

                recognition.onerror = function() {
                    document.getElementById("resultado-voz").innerHTML = '<div class="feedback error">Error üé§ (permite micr√≥fono)</div>';
                };
            }
        </script>

        <hr style="border:2px dashed #2196F3; border-radius:10px;">

        <h4>3. Numbers 1-100 - Interactive Grid</h4>
        <div class="contador-ingles">
            <p style="font-size:22px; color:#00ff88;"><strong>¬°Click cualquier n√∫mero ‚Üí pronunciaci√≥n nativa perfecta!</strong></p>
            <div class="grid-numeros">
                $botonesNumeros
            </div>
        </div>

        <script>
            function speakNumber(text) {
                const utter = new SpeechSynthesisUtterance(text);
                utter.lang = 'en-US';
                utter.rate = 0.9;
                utter.pitch = 1;
                speechSynthesis.speak(utter);
            }
        </script>

        <hr style="border:2px dashed #2196F3; border-radius:10px;">

        <h4>A1 Introduction Flow</h4>
        <div class="svg-diagram">
            <svg viewBox="0 0 1000 600" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#00ff88" />
                        <stop offset="100%" style="stop-color:#2196F3" />
                    </linearGradient>
                    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                        <polygon points="0 0, 10 3.5, 0 7" fill="#ffcc00" />
                    </marker>
                </defs>

                <rect width="1000" height="600" fill="#0a0a0a"/>

                <text x="500" y="80" font-size="48" fill="#ffcc00" text-anchor="middle" font-weight="bold" class="title">A1 ENGLISH LC-ADVANCE</text>

                <!-- Person A -->
                <circle cx="250" cy="300" r="100" fill="url(#grad1)" stroke="#ffcc00" stroke-width="6" class="animate"/>
                <text x="250" y="280" font-size="24" fill="white" text-anchor="middle">YOU</text>
                <text x="250" y="320" font-size="18" fill="#00ff88" text-anchor="middle">CBTis 168 Student</text>

                <!-- Person B -->
                <circle cx="750" cy="300" r="100" fill="url(#grad1)" stroke="#ffcc00" stroke-width="6" class="animate"/>
                <text x="750" y="280" font-size="24" fill="white" text-anchor="middle">ANA</text>
                <text x="750" y="320" font-size="18" fill="#00ff88" text-anchor="middle">Your Partner</text>

                <!-- Flechas animadas -->
                <path d="M350 300 Q500 200 650 300" stroke="#ffcc00" stroke-width="8" fill="none" marker-end="url(#arrowhead)" class="arrow"/>
                <text x="500" y="180" font-size="24" fill="#ffff00" text-anchor="middle">Hello! What's your name?</text>

                <path d="M650 320 Q500 420 350 320" stroke="#00ff88" stroke-width="8" fill="none" marker-end="url(#arrowhead)" class="arrow"/>
                <text x="500" y="460" font-size="24" fill="#00ff88" text-anchor="middle">Hi! I'm Felipe from CBTis 168!</text>
            </svg>
        </div>

        <div class="ejemplo">
            <h4>Full Introduction - LC-ADVANCE</h4>
            <p style="font-size:20px;">
                <strong>You:</strong> Hello! My name is [Your Name]. I am 17 years old. I study at CBTis 168.<br>
                <strong>Ana:</strong> Nice to meet you! I'm Ana. I'm 16. See you later!<br>
                <strong>You:</strong> Bye! Have a nice day!
            </p>
        </div>
HTML
,
    'ejercicios' => [
        ["enunciado" => "Say hello in 5 ways", "respuesta" => "Hi / Hello / Hey / Good morning / Good afternoon"],
        ["enunciado" => "Introduce yourself (full)", "respuesta" => "Hello! My name is [name]. I am [age] years old. I am from Mexico."],
        ["enunciado" => "Count 1-20", "respuesta" => "one two three four five six seven eight nine ten eleven twelve thirteen fourteen fifteen sixteen seventeen eighteen nineteen twenty"],
        ["enunciado" => "Ask someone's age", "respuesta" => "How old are you?"],
        ["enunciado" => "Say goodbye 3 ways", "respuesta" => "Goodbye / Bye / See you later"],
        ["enunciado" => "Spell your name", "respuesta" => "My name is A-N-A"],
        ["enunciado" => "Number 100", "respuesta" => "one hundred"],
        ["enunciado" => "How are you?", "respuesta" => "I'm fine, thanks. And you?"],
        ["enunciado" => "Nice to meet you response", "respuesta" => "Nice to meet you too!"],
        ["enunciado" => "Phone number example", "respuesta" => "My phone number is 55-1234-5678"],
        ["enunciado" => "Say your school", "respuesta" => "I study at CBTIS 168"],
        ["enunciado" => "What is your name? (response)", "respuesta" => "My name is [name]"],
        ["enunciado" => "Count by 10s to 100", "respuesta" => "ten twenty thirty forty fifty sixty seventy eighty ninety one hundred"],
        ["enunciado" => "Good night", "respuesta" => "Good night! Sleep well!"],
        ["enunciado" => "SI: % mexicanos hablan ingl√©s 2025", "respuesta" => "28% (INEGI)"]
    ],
    'quiz' => [
        ["pregunta" => "How do you say 'hola'?", "opciones" => ["Hello", "Goodbye", "Thanks", "Please"], "correcta" => "Hello"],
        ["pregunta" => "'Nice to meet you' = ", "opciones" => ["Mucho gusto", "Adi√≥s", "Gracias", "Por favor"], "correcta" => "Mucho gusto"],
        ["pregunta" => "Number 5", "opciones" => ["Five", "Four", "Six", "Ten"], "correcta" => "Five"],
        ["pregunta" => "'How old are you?'", "opciones" => ["¬øCu√°ntos a√±os tienes?", "¬øC√≥mo est√°s?", "¬øDe d√≥nde eres?", "¬øC√≥mo te llamas?"], "correcta" => "¬øCu√°ntos a√±os tienes?"],
        ["pregunta" => "Goodbye formal", "opciones" => ["Goodbye", "Bye", "Hey", "Hi"], "correcta" => "Goodbye"],
        ["pregunta" => "I'm fine, thanks = ", "opciones" => ["Bien, gracias", "Mal", "Adi√≥s", "Hola"], "correcta" => "Bien, gracias"],
        ["pregunta" => "Number 20", "opciones" => ["Twenty", "Twelve", "Thirty", "Two"], "correcta" => "Twenty"],
        ["pregunta" => "What is your name?", "opciones" => ["¬øC√≥mo te llamas?", "¬øCu√°ntos a√±os?", "¬øDe d√≥nde?", "¬øC√≥mo est√°s?"], "correcta" => "¬øC√≥mo te llamas?"],
        ["pregunta" => "Good evening", "opciones" => ["Buenas noches (saludo)", "Buenos d√≠as", "Buenas tardes", "Adi√≥s"], "correcta" => "Buenas noches (saludo)"],
        ["pregunta" => "See you tomorrow", "opciones" => ["Hasta ma√±ana", "Hasta luego", "Adi√≥s", "Hola"], "correcta" => "Hasta ma√±ana"],
        ["pregunta" => "My name is = ", "opciones" => ["Me llamo", "Tengo", "Soy de", "Estudio"], "correcta" => "Me llamo"],
        ["pregunta" => "Number 100", "opciones" => ["One hundred", "Ten", "One thousand", "Fifty"], "correcta" => "One hundred"],
        ["pregunta" => "How are you?", "opciones" => ["¬øC√≥mo est√°s?", "¬øCu√°ntos a√±os?", "¬øDe d√≥nde eres?", "¬øAdi√≥s?"], "correcta" => "¬øC√≥mo est√°s?"],
        ["pregunta" => "Nice to meet you too!", "opciones" => ["¬°Igualmente!", "Adi√≥s", "Gracias", "De nada"], "correcta" => "¬°Igualmente!"],
        ["pregunta" => "I am from Mexico", "opciones" => ["Soy de M√©xico", "Vivo en M√©xico", "Estudio en M√©xico", "Trabajo en M√©xico"], "correcta" => "Soy de M√©xico"],
        ["pregunta" => "Thank you", "opciones" => ["Gracias", "Por favor", "Adi√≥s", "Hola"], "correcta" => "Gracias"],
        ["pregunta" => "You're welcome", "opciones" => ["De nada", "Gracias", "Por favor", "Adi√≥s"], "correcta" => "De nada"],
        ["pregunta" => "Best app 2025", "opciones" => ["LC-ADVANCE StudyGame", "Duolingo", "Babbel", "HelloTalk"], "correcta" => "LC-ADVANCE StudyGame"],
        ["pregunta" => "English in CBTIS", "opciones" => ["Obligatorio A1-A2", "Opcional", "Solo lectura", "No"], "correcta" => "Obligatorio A1-A2"],
        ["pregunta" => "Future job need", "opciones" => ["English B1+", "Solo espa√±ol", "Franc√©s", "Chino"], "correcta" => "English B1+"]
    ]
];
// ========================================
// MATERIA: INGL√âS - VERSI√ìN MEJORADA 2025 (PHP)
// Nivel: A1 - Family Members & Daily Objects
// ========================================

// 1. Datos de Familia
$familiaIngles = [
    'mother' => 'madre', 'father' => 'padre', 'brother' => 'hermano', 'sister' => 'hermana',
    'grandmother' => 'abuela', 'grandfather' => 'abuelo', 'uncle' => 't√≠o', 'aunt' => 't√≠a',
    'cousin' => 'primo/a', 'son' => 'hijo', 'daughter' => 'hija', 'baby' => 'beb√©',
    'parents' => 'padres', 'children' => 'hijos', 'pet' => 'mascota', 'dog' => 'perro', 'cat' => 'gato'
];

$tarjetasFamilia = '';
foreach ($familiaIngles as $ing => $esp) {
    $tarjetasFamilia .= <<<HTML
    <div class="card family-card" data-word="$ing" onclick="speakWord('$ing')">
        <div class="card-icon">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</div>
        <div class="card-content">
            <span class="word-en">$ing</span>
            <span class="word-es">$esp</span>
        </div>
        <div class="card-actions">
            <button class="action-btn add-btn" onclick="event.stopPropagation(); addToPractice('$ing')">‚ûï</button>
            <button class="action-btn example-btn" onclick="event.stopPropagation(); showExample('$ing')">üí°</button>
        </div>
    </div>
HTML;
}

// 2. Datos de Objetos
$objetos = [
    'backpack' => ['esp' => 'mochila', 'emoji' => 'üéí'],
    'book' => ['esp' => 'libro', 'emoji' => 'üìö'],
    'pencil' => ['esp' => 'l√°piz', 'emoji' => '‚úèÔ∏è'],
    'phone' => ['esp' => 'tel√©fono', 'emoji' => 'üì±'],
    'desk' => ['esp' => 'escritorio', 'emoji' => 'ü™ë'],
    'chair' => ['esp' => 'silla', 'emoji' => 'üí∫'],
    'notebook' => ['esp' => 'cuaderno', 'emoji' => 'üìì'],
    'pen' => ['esp' => 'pluma', 'emoji' => 'üñäÔ∏è'],
    'ruler' => ['esp' => 'regla', 'emoji' => 'üìè'],
    'eraser' => ['esp' => 'borrador', 'emoji' => 'üßº']
];

$objetosDiarios = '';
foreach ($objetos as $ing => $data) {
    $objetosDiarios .= <<<HTML
    <div class="card object-card" data-word="$ing" onclick="speakWord('$ing')">
        <div class="object-emoji">{$data['emoji']}</div>
        <div class="card-content">
            <span class="word-en">$ing</span>
            <span class="word-es">{$data['esp']}</span>
        </div>
        <div class="card-actions">
            <button class="action-btn add-btn" onclick="event.stopPropagation(); addToPractice('$ing')">‚ûï</button>
            <button class="action-btn example-btn" onclick="event.stopPropagation(); showExample('$ing')">üí°</button>
        </div>
    </div>
HTML;
}

// 3. Estructura de la Lecci√≥n
$lecciones[] = [
    'materia' => 'Ingl√©s',
    'slug' => 'a1-family-objects-pro',
    'titulo' => 'A1 PRO: Family Members & Daily Objects ‚Ä¢ Interactive Voice Learning 2025',
    'contenido' => <<<HTML
    <div class="lesson-banner">
        <div class="banner-content">
            <h1>üèÜ English A1 PRO 2025</h1>
            <p class="banner-subtitle">Family Members & Daily Objects ‚Ä¢ Interactive Voice Learning</p>
            <div class="banner-stats">
                <div class="stat">
                    <span class="stat-number">30+</span>
                    <span class="stat-label">Vocabulary Words</span>
                </div>
                <div class="stat">
                    <span class="stat-number">100%</span>
                    <span class="stat-label">Native Pronunciation</span>
                </div>
                <div class="stat">
                    <span class="stat-number">15</span>
                    <span class="stat-label">Interactive Exercises</span>
                </div>
            </div>
        </div>
    </div>

    <div class="progress-container">
        <div class="progress-bar">
            <div class="progress-fill" style="width: 25%"></div>
        </div>
        <div class="progress-text">Lesson Progress: 25%</div>
    </div>

    <main class="lesson-content-area">
        <section class="section-card">
            <div class="section-header">
                <h2>üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Family Members</h2>
                <p>Click any card to hear native pronunciation, or press ‚ûï to add it to your practice list!</p>
            </div>
            <div class="cards-grid family-grid">
                $tarjetasFamilia
            </div>
            <div class="section-footer">
                <button class="practice-btn" onclick="startFamilyPractice()">üéØ Practice All Family Words</button>
            </div>
        </section>

        <section class="section-card">
            <div class="section-header">
                <h2>üìö Daily Objects</h2>
                <p>Essential classroom and everyday items</p>
            </div>
            <div class="cards-grid objects-grid">
                $objetosDiarios
            </div>
        </section>

        <section class="section-card voice-simulator">
            <div class="section-header">
                <h2>üé§ Voice Practice Simulator</h2>
                <p>Practice your pronunciation with AI feedback</p>
            </div>
            <div class="simulator-container">
                <div class="word-display" id="current-word">
                    <span class="word-large">mother</span>
                    <span class="word-translation">madre</span>
                </div>
                
                <div class="controls-row">
                    <button class="control-btn primary" onclick="speakCurrentWord()">
                        <span class="btn-icon">üîä</span> Listen
                    </button>
                    <button class="control-btn secondary" onclick="startListening()">
                        <span class="btn-icon">üé§</span> Speak
                    </button>
                    <button class="control-btn tertiary" onclick="nextWord()">
                        <span class="btn-icon">‚è≠Ô∏è</span> Next
                    </button>
                </div>

                <div class="practice-words">
                    <h4>Practice List:</h4>
                    <div class="word-chips" id="practice-chips"></div>
                    <button class="chip-add-btn" onclick="showWordSelector()">+ Add Words</button>
                </div>

                <div class="feedback-container">
                    <div class="feedback-message" id="feedback-message">
                        Ready to practice! Click "Listen" to hear the word.
                    </div>
                    <div class="confidence-meter">
                        <div class="confidence-fill" id="confidence-level"></div>
                    </div>
                </div>
            </div>
        </section>

        <section class="section-card">
            <div class="section-header">
                <h2>üå≥ Interactive Family Tree</h2>
                <p>Click on family members to hear the English word</p>
            </div>
            <div class="family-tree-container">
                <svg viewBox="0 0 1000 700" xmlns="http://www.w3.org/2000/svg" class="family-tree">
                    <defs>
                        <linearGradient id="treeGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stop-color="#4CAF50"/>
                            <stop offset="100%" stop-color="#2E7D32"/>
                        </linearGradient>
                        <filter id="glow">
                            <feGaussianBlur stdDeviation="3.5" result="coloredBlur"/>
                            <feMerge>
                                <feMergeNode in="coloredBlur"/>
                                <feMergeNode in="SourceGraphic"/>
                            </feMerge>
                        </filter>
                    </defs>

                    <rect width="1000" height="700" fill="#f8f9fa"/>
                    
                    <text x="500" y="60" text-anchor="middle" font-size="36" font-weight="bold" fill="#333">My Family Tree</text>

                    <g class="tree-person" data-role="student" onclick="speakWord('student')">
                        <circle cx="500" cy="200" r="50" fill="#2196F3" filter="url(#glow)"/>
                        <text x="500" y="195" text-anchor="middle" fill="white" font-size="16" font-weight="bold">ME</text>
                        <text x="500" y="215" text-anchor="middle" fill="white" font-size="12">Student</text>
                    </g>
                    <g class="tree-person" data-role="mother" onclick="speakWord('mother')">
                        <circle cx="350" cy="350" r="45" fill="#E91E63"/>
                        <text x="350" y="345" text-anchor="middle" fill="white" font-size="14">Mother</text>
                        <text x="350" y="365" text-anchor="middle" fill="white" font-size="11">Maria</text>
                    </g>
                    <g class="tree-person" data-role="father" onclick="speakWord('father')">
                        <circle cx="650" cy="350" r="45" fill="#2196F3"/>
                        <text x="650" y="345" text-anchor="middle" fill="white" font-size="14">Father</text>
                        <text x="650" y="365" text-anchor="middle" fill="white" font-size="11">Jos√©</text>
                    </g>
                    <g class="tree-person" data-role="grandmother" onclick="speakWord('grandmother')">
                        <circle cx="250" cy="500" r="40" fill="#9C27B0"/>
                        <text x="250" y="495" text-anchor="middle" fill="white" font-size="12">Grandma</text>
                        <text x="250" y="512" text-anchor="middle" fill="white" font-size="10">Ana</text>
                    </g>
                    <g class="tree-person" data-role="grandfather" onclick="speakWord('grandfather')">
                        <circle cx="450" cy="500" r="40" fill="#3F51B5"/>
                        <text x="450" y="495" text-anchor="middle" fill="white" font-size="12">Grandpa</text>
                        <text x="450" y="512" text-anchor="middle" fill="white" font-size="10">Carlos</text>
                    </g>
                    <g class="tree-person" data-role="grandmother" onclick="speakWord('grandmother')">
                        <circle cx="550" cy="500" r="40" fill="#9C27B0"/>
                        <text x="550" y="495" text-anchor="middle" fill="white" font-size="12">Grandma</text>
                        <text x="550" y="512" text-anchor="middle" fill="white" font-size="10">Elena</text>
                    </g>
                    <g class="tree-person" data-role="grandfather" onclick="speakWord('grandfather')">
                        <circle cx="750" cy="500" r="40" fill="#3F51B5"/>
                        <text x="750" y="495" text-anchor="middle" fill="white" font-size="12">Grandpa</text>
                        <text x="750" y="512" text-anchor="middle" fill="white" font-size="10">Miguel</text>
                    </g>
                    <g class="tree-person" data-role="brother" onclick="speakWord('brother')">
                        <circle cx="400" cy="200" r="35" fill="#4CAF50"/>
                        <text x="400" y="197" text-anchor="middle" fill="white" font-size="11">Brother</text>
                        <text x="400" y="212" text-anchor="middle" fill="white" font-size="9">Luis</text>
                    </g>
                    <g class="tree-person" data-role="sister" onclick="speakWord('sister')">
                        <circle cx="600" cy="200" r="35" fill="#FF9800"/>
                        <text x="600" y="197" text-anchor="middle" fill="white" font-size="11">Sister</text>
                        <text x="600" y="212" text-anchor="middle" fill="white" font-size="9">Sofia</text>
                    </g>

                    <line x1="500" y1="250" x2="500" y2="305" stroke="#795548" stroke-width="3"/>
                    <line x1="350" y1="305" x2="500" y2="250" stroke="#795548" stroke-width="3"/>
                    <line x1="650" y1="305" x2="500" y2="250" stroke="#795548" stroke-width="3"/>
                    <line x1="350" y1="395" x2="250" y2="460" stroke="#795548" stroke-width="2"/>
                    <line x1="350" y1="395" x2="450" y2="460" stroke="#795548" stroke-width="2"/>
                    <line x1="650" y1="395" x2="550" y2="460" stroke="#795548" stroke-width="2"/>
                    <line x1="650" y1="395" x2="750" y2="460" stroke="#795548" stroke-width="2"/>
                    <line x1="500" y1="150" x2="400" y2="165" stroke="#795548" stroke-width="2"/>
                    <line x1="500" y1="150" x2="600" y2="165" stroke="#795548" stroke-width="2"/>
                </svg>
            </div>
        </section>

        <section class="section-card">
            <div class="section-header">
                <h2>üí¨ Example Conversation</h2>
                <p>Practice this dialogue with voice recognition</p>
            </div>
            <div class="dialogue-container">
                <div class="dialogue-bubble left">
                    <div class="bubble-avatar">üë¶</div>
                    <div class="bubble-content"><strong>You:</strong> This is my family. My mother's name is Maria.</div>
                </div>
                <div class="dialogue-bubble right">
                    <div class="bubble-avatar">üë©</div>
                    <div class="bubble-content"><strong>Friend:</strong> Nice to meet them! How many brothers do you have?</div>
                </div>
                <div class="dialogue-bubble left">
                    <div class="bubble-avatar">üë¶</div>
                    <div class="bubble-content"><strong>You:</strong> I have one brother named Luis.</div>
                </div>
            </div>
            <div class="dialogue-actions">
                <button class="practice-btn" onclick="practiceDialogue()">üé≠ Practice This Dialogue</button>
            </div>
        </section>
    </main>

   <script>
       // =====================================================
            // JAVASCRIPT PARA FUNCIONALIDAD DE BOTONES
            // =====================================================

            // Variables globales
            let practiceWords = ['mother', 'father', 'brother', 'sister'];
            let currentWordIndex = 0;
            let recognition = null;

            // Diccionarios de traducciones y ejemplos
            const translations = {
                'mother': 'madre', 'father': 'padre', 'brother': 'hermano', 'sister': 'hermana',
                'grandmother': 'abuela', 'grandfather': 'abuelo', 'uncle': 't√≠o', 'aunt': 't√≠a',
                'cousin': 'primo/a', 'son': 'hijo', 'daughter': 'hija', 'baby': 'beb√©',
                'parents': 'padres', 'children': 'hijos', 'pet': 'mascota', 'dog': 'perro', 'cat': 'gato',
                'backpack': 'mochila', 'book': 'libro', 'pencil': 'l√°piz', 'phone': 'tel√©fono',
                'desk': 'escritorio', 'chair': 'silla', 'notebook': 'cuaderno', 'pen': 'pluma',
                'ruler': 'regla', 'eraser': 'borrador', 'student': 'estudiante'
            };

            const examples = {
                'mother': 'My mother cooks delicious food.',
                'father': 'My father works in an office.',
                'brother': 'My brother plays soccer.',
                'sister': 'My sister studies at university.',
                'grandmother': 'My grandmother tells stories.',
                'grandfather': 'My grandfather likes gardening.',
                'student': 'I am a good student.',
                'book': 'I read a book every day.',
                'pencil': 'Can I borrow your pencil?',
                'phone': 'My phone is new.',
                'backpack': 'I carry my books in my backpack.'
            };

            // Funci√≥n para hablar palabras
            function speakWord(word) {
                if ('speechSynthesis' in window) {
                    // Cancelar cualquier habla anterior
                    speechSynthesis.cancel();
                    
                    const utterance = new SpeechSynthesisUtterance(word);
                    utterance.lang = 'en-US';
                    utterance.rate = 0.9;
                    utterance.pitch = 1;
                    
                    // Efecto visual en la tarjeta
                    const card = document.querySelector(`[data-word="\${word}"]`);
                    if (card) {
                        card.classList.add('speaking');
                        utterance.onend = () => {
                            card.classList.remove('speaking');
                        };
                    }
                    
                    speechSynthesis.speak(utterance);
                } else {
                    showNotification('Text-to-speech no soportado en este navegador', 'error');
                }
            }

            // Funci√≥n para hablar la palabra actual
            function speakCurrentWord() {
                if (practiceWords.length === 0) {
                    showNotification('No hay palabras en la lista de pr√°ctica', 'error');
                    return;
                }
                
                const word = practiceWords[currentWordIndex];
                const wordDisplay = document.querySelector('#current-word .word-large');
                const translationDisplay = document.querySelector('#current-word .word-translation');
                
                if (wordDisplay) wordDisplay.textContent = word;
                if (translationDisplay) translationDisplay.textContent = translations[word] || '';
                
                speakWord(word);
                setFeedback('Escucha atentamente la pronunciaci√≥n', 'info');
            }

            // Funci√≥n para iniciar reconocimiento de voz
            function startListening() {
                if (!('SpeechRecognition' in window || 'webkitSpeechRecognition' in window)) {
                    showNotification('Reconocimiento de voz no soportado en este navegador', 'error');
                    return;
                }
                
                if (practiceWords.length === 0) {
                    showNotification('Primero a√±ade palabras para practicar', 'error');
                    return;
                }
                
                // Detener reconocimiento anterior si existe
                if (recognition) {
                    recognition.stop();
                }

                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                recognition = new SpeechRecognition();
                recognition.lang = 'en-US';
                recognition.interimResults = false;
                recognition.continuous = false;

                const currentWord = practiceWords[currentWordIndex];
                setFeedback(`Escuchando... Di: <strong>\${currentWord}</strong>`, 'listening');
                
                recognition.start();

                recognition.onresult = function(event) {
                    const spokenText = event.results[0][0].transcript.toLowerCase().trim();
                    let confidence = 0;
                    let message = '';
                    let type = '';

                    if (spokenText === currentWord) {
                        confidence = 100;
                        message = `¬°Excelente! Pronunciaste perfectamente: "\${spokenText}"`;
                        type = 'success';
                    } else if (spokenText.includes(currentWord) || currentWord.includes(spokenText) || 
                            calculateSimilarity(spokenText, currentWord) > 0.6) {
                        confidence = 70;
                        message = `¬°Bien! Casi perfecto. Dijiste: "\${spokenText}"`;
                        type = 'success';
                    } else {
                        confidence = 30;
                        message = `Int√©ntalo de nuevo. Dijiste: "\${spokenText}", deber√≠a ser: "\${currentWord}"`;
                        type = 'error';
                    }
                    
                    setFeedback(message, type);
                    updateConfidenceMeter(confidence);
                };

                recognition.onerror = function(event) {
                    setFeedback('Error en el reconocimiento: ' + event.error, 'error');
                };

                recognition.onend = function() {
                    // El reconocimiento se detiene autom√°ticamente despu√©s del resultado
                };
            }

            // Funci√≥n para calcular similitud entre palabras (para reconocimiento m√°s flexible)
            function calculateSimilarity(str1, str2) {
                const longer = str1.length > str2.length ? str1 : str2;
                const shorter = str1.length > str2.length ? str2 : str1;
                
                if (longer.length === 0) return 1.0;
                
                return (longer.length - editDistance(longer, shorter)) / parseFloat(longer.length);
            }

            function editDistance(s1, s2) {
                s1 = s1.toLowerCase();
                s2 = s2.toLowerCase();
                
                const costs = [];
                for (let i = 0; i <= s1.length; i++) {
                    let lastValue = i;
                    for (let j = 0; j <= s2.length; j++) {
                        if (i === 0) costs[j] = j;
                        else {
                            if (j > 0) {
                                let newValue = costs[j - 1];
                                if (s1.charAt(i - 1) !== s2.charAt(j - 1))
                                    newValue = Math.min(Math.min(newValue, lastValue), costs[j]) + 1;
                                costs[j - 1] = lastValue;
                                lastValue = newValue;
                            }
                        }
                    }
                    if (i > 0) costs[s2.length] = lastValue;
                }
                return costs[s2.length];
            }

            // Funci√≥n para siguiente palabra
            function nextWord() {
                if (practiceWords.length === 0) {
                    showNotification('No hay palabras en la lista de pr√°ctica', 'error');
                    return;
                }
                
                currentWordIndex = (currentWordIndex + 1) % practiceWords.length;
                speakCurrentWord();
                updateConfidenceMeter(0);
            }

            // Funci√≥n para a√±adir palabra a pr√°ctica
            function addToPractice(word) {
                if (!practiceWords.includes(word)) {
                    practiceWords.push(word);
                    updatePracticeChips();
                    showNotification(`"\${word}" a√±adida a la lista de pr√°ctica`, 'success');
                    
                    // Si es la primera palabra, mostrarla
                    if (practiceWords.length === 1) {
                        currentWordIndex = 0;
                        speakCurrentWord();
                    }
                } else {
                    showNotification(`"\${word}" ya est√° en la lista de pr√°ctica`, 'info');
                }
            }

            // Funci√≥n para remover palabra de pr√°ctica
            function removeFromPractice(word) {
                const index = practiceWords.indexOf(word);
                if (index > -1) {
                    practiceWords.splice(index, 1);
                    updatePracticeChips();
                    
                    // Ajustar el √≠ndice actual si es necesario
                    if (currentWordIndex >= practiceWords.length) {
                        currentWordIndex = 0;
                    }
                    
                    if (practiceWords.length > 0) {
                        speakCurrentWord();
                    } else {
                        const wordDisplay = document.querySelector('#current-word .word-large');
                        const translationDisplay = document.querySelector('#current-word .word-translation');
                        
                        if (wordDisplay) wordDisplay.textContent = 'Lista vac√≠a';
                        if (translationDisplay) translationDisplay.textContent = 'A√±ade palabras para practicar';
                        setFeedback('Usa el bot√≥n "+" para a√±adir palabras a tu lista de pr√°ctica', 'info');
                    }
                    
                    showNotification(`"\${word}" removida de la lista`, 'info');
                }
            }

            // Funci√≥n para mostrar ejemplos
            function showExample(word) {
                const example = examples[word] || 'No hay ejemplo disponible para esta palabra.';
                showNotification(`Ejemplo: \${example}`, 'info');
            }

            // Funci√≥n para mostrar selector de palabras
            function showWordSelector() {
                const availableWords = Object.keys(translations).filter(word => !practiceWords.includes(word));
                
                if (availableWords.length === 0) {
                    showNotification('¬°Ya tienes todas las palabras en tu lista de pr√°ctica!', 'info');
                    return;
                }
                
                // Crear un modal simple para seleccionar palabras
                const modal = document.createElement('div');
                modal.style.cssText = `
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0,0,0,0.5);
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    z-index: 1000;
                `;
                
                const modalContent = document.createElement('div');
                modalContent.style.cssText = `
                    background: white;
                    padding: 20px;
                    border-radius: 10px;
                    max-width: 500px;
                    max-height: 80vh;
                    overflow-y: auto;
                    box-shadow: 0 4px 20px rgba(0,0,0,0.3);
                `;
                
                modalContent.innerHTML = `
                    <h3>Seleccionar Palabras para Practicar</h3>
                    <div style="max-height: 300px; overflow-y: auto; margin: 15px 0;">
                        \${availableWords.map(word => `
                            <div style="display: flex; justify-content: between; align-items: center; padding: 8px; border-bottom: 1px solid #eee;">
                                <span>\${word} - \${translations[word]}</span>
                                <button onclick="addToPractice('\${word}'); this.parentElement.remove();" 
                                        style="margin-left: auto; padding: 5px 10px; background: #4CAF50; color: white; border: none; border-radius: 4px; cursor: pointer;">
                                    A√±adir
                                </button>
                            </div>
                        `).join('')}
                    </div>
                    <button onclick="this.closest('div').parentElement.remove()" 
                            style="padding: 10px 20px; background: #f44336; color: white; border: none; border-radius: 4px; cursor: pointer;">
                        Cerrar
                    </button>
                `;
                
                modal.appendChild(modalContent);
                document.body.appendChild(modal);
                
                // Cerrar modal al hacer clic fuera
                modal.addEventListener('click', function(e) {
                    if (e.target === modal) {
                        modal.remove();
                    }
                });
            }

            // Funci√≥n para pr√°ctica de familia
            function startFamilyPractice() {
                const familyWords = ['mother', 'father', 'brother', 'sister', 'grandmother', 'grandfather', 'parents', 'children'];
                practiceWords = familyWords;
                currentWordIndex = 0;
                updatePracticeChips();
                speakCurrentWord();
                showNotification('Pr√°ctica de familia iniciada', 'success');
            }

            // Funci√≥n para pr√°ctica de di√°logo
            function practiceDialogue() {
                showNotification('Pr√°ctica de di√°logo iniciada. Lee las frases en voz alta.', 'info');
                
                // Simular pr√°ctica de di√°logo
                const dialogueLines = [
                    "This is my family. My mother's name is Maria.",
                    "Nice to meet them! How many brothers do you have?",
                    "I have one brother named Luis."
                ];
                
                let currentLine = 0;
                
                function speakNextLine() {
                    if (currentLine < dialogueLines.length) {
                        const utterance = new SpeechSynthesisUtterance(dialogueLines[currentLine]);
                        utterance.lang = 'en-US';
                        utterance.rate = 0.9;
                        
                        setFeedback(`Di: "\${dialogueLines[currentLine]}"`, 'listening');
                        
                        utterance.onend = function() {
                            currentLine++;
                            if (currentLine < dialogueLines.length) {
                                setTimeout(speakNextLine, 1000);
                            } else {
                                setFeedback('¬°Di√°logo completado!', 'success');
                            }
                        };
                        
                        speechSynthesis.speak(utterance);
                    }
                }
                
                speakNextLine();
            }

            // Funci√≥n para actualizar chips de pr√°ctica
            function updatePracticeChips() {
                const chipsContainer = document.getElementById('practice-chips');
                if (!chipsContainer) return;
                
                chipsContainer.innerHTML = '';
                
                practiceWords.forEach(word => {
                    const chip = document.createElement('div');
                    chip.className = 'word-chip';
                    chip.style.cssText = `
                        display: inline-flex;
                        align-items: center;
                        background: #e3f2fd;
                        color: #1976d2;
                        padding: 5px 10px;
                        margin: 3px;
                        border-radius: 20px;
                        font-size: 14px;
                    `;
                    
                    const wordSpan = document.createElement('span');
                    wordSpan.textContent = word;
                    wordSpan.style.marginRight = '5px';
                    
                    const removeBtn = document.createElement('button');
                    removeBtn.textContent = '√ó';
                    removeBtn.style.cssText = `
                        background: none;
                        border: none;
                        color: #1976d2;
                        cursor: pointer;
                        font-size: 16px;
                        padding: 0;
                        width: 20px;
                        height: 20px;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                    `;
                    removeBtn.onclick = (e) => {
                        e.stopPropagation();
                        removeFromPractice(word);
                    };
                    
                    chip.appendChild(wordSpan);
                    chip.appendChild(removeBtn);
                    chipsContainer.appendChild(chip);
                });
            }

            // Funci√≥n para establecer feedback
            function setFeedback(message, type = 'info') {
                const feedbackElement = document.getElementById('feedback-message');
                if (feedbackElement) {
                    feedbackElement.innerHTML = message;
                    feedbackElement.className = `feedback-message \${type}`;
                }
            }

            // Funci√≥n para actualizar medidor de confianza
            function updateConfidenceMeter(confidence) {
                const confidenceElement = document.getElementById('confidence-level');
                if (confidenceElement) {
                    confidenceElement.style.width = `\${confidence}%`;
                    confidenceElement.style.background = confidence >= 80 ? '#4CAF50' : 
                                                    confidence >= 60 ? '#FFC107' : '#F44336';
                }
            }

            // Funci√≥n para mostrar notificaciones
            function showNotification(message, type = 'info') {
                // Crear contenedor de notificaciones si no existe
                let container = document.getElementById('notification-container');
                if (!container) {
                    container = document.createElement('div');
                    container.id = 'notification-container';
                    container.style.cssText = `
                        position: fixed;
                        top: 20px;
                        right: 20px;
                        z-index: 10000;
                        max-width: 300px;
                    `;
                    document.body.appendChild(container);
                }
                
                const notification = document.createElement('div');
                const backgroundColor = type === 'success' ? '#4CAF50' : 
                                    type === 'error' ? '#F44336' : 
                                    type === 'warning' ? '#FF9800' : '#2196F3';
                
                notification.style.cssText = `
                    background: \${backgroundColor};
                    color: white;
                    padding: 12px 16px;
                    margin: 8px 0;
                    border-radius: 8px;
                    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
                    opacity: 0;
                    transform: translateX(100px);
                    transition: all 0.3s ease;
                    cursor: pointer;
                `;
                
                notification.innerHTML = message;
                container.appendChild(notification);
                
                // Animaci√≥n de entrada
                setTimeout(() => {
                    notification.style.opacity = '1';
                    notification.style.transform = 'translateX(0)';
                }, 10);
                
                // Auto-remover despu√©s de 4 segundos
                setTimeout(() => {
                    notification.style.opacity = '0';
                    notification.style.transform = 'translateX(100px)';
                    setTimeout(() => {
                        if (notification.parentNode) {
                            notification.parentNode.removeChild(notification);
                        }
                    }, 300);
                }, 4000);
                
                // Remover al hacer clic
                notification.addEventListener('click', () => {
                    notification.style.opacity = '0';
                    notification.style.transform = 'translateX(100px)';
                    setTimeout(() => {
                        if (notification.parentNode) {
                            notification.parentNode.removeChild(notification);
                        }
                    }, 300);
                });
            }

            // Inicializaci√≥n cuando el DOM est√° listo
            document.addEventListener('DOMContentLoaded', function() {
                // Inicializar chips de pr√°ctica
                updatePracticeChips();
                
                // Mostrar primera palabra si hay palabras en pr√°ctica
                if (practiceWords.length > 0) {
                    speakCurrentWord();
                }
                
                // A√±adir event listeners para el √°rbol familiar
                document.querySelectorAll('.tree-person').forEach(person => {
                    person.addEventListener('click', function() {
                        const role = this.getAttribute('data-role');
                        if (translations[role]) {
                            speakWord(role);
                        }
                    });
                });
                
                // A√±adir estilos para el efecto de habla
                if (!document.querySelector('#dynamic-styles')) {
                    const styles = document.createElement('style');
                    styles.id = 'dynamic-styles';
                    styles.textContent = `
                        .speaking {
                            transform: scale(1.05);
                            box-shadow: 0 0 20px rgba(33, 150, 243, 0.5) !important;
                            transition: all 0.3s ease;
                        }
                        
                        .feedback-message {
                            padding: 10px;
                            border-radius: 5px;
                            margin: 10px 0;
                            text-align: center;
                        }
                        
                        .feedback-message.info {
                            background: #e3f2fd;
                            color: #1976d2;
                        }
                        
                        .feedback-message.success {
                            background: #e8f5e8;
                            color: #2e7d32;
                        }
                        
                        .feedback-message.error {
                            background: #ffebee;
                            color: #c62828;
                        }
                        
                        .feedback-message.listening {
                            background: #fff3e0;
                            color: #ef6c00;
                        }
                        
                        .confidence-meter {
                            width: 100%;
                            height: 10px;
                            background: #e0e0e0;
                            border-radius: 5px;
                            margin: 10px 0;
                            overflow: hidden;
                        }
                        
                        .confidence-fill {
                            height: 100%;
                            width: 0%;
                            transition: width 0.5s ease;
                            border-radius: 5px;
                        }
                    `;
                    document.head.appendChild(styles);
                }
            });

            // Hacer funciones disponibles globalmente
            window.speakWord = speakWord;
            window.speakCurrentWord = speakCurrentWord;
            window.startListening = startListening;
            window.nextWord = nextWord;
            window.addToPractice = addToPractice;
            window.removeFromPractice = removeFromPractice;
            window.showExample = showExample;
            window.showWordSelector = showWordSelector;
            window.startFamilyPractice = startFamilyPractice;
            window.practiceDialogue = practiceDialogue;
    </script>
    <div id="notification-container"></div>
HTML
,
    'ejercicios' => [
        ["enunciado" => "Name ALL family members you know (15+)", "respuesta" => "mother, father, brother, sister, grandmother, grandfather, uncle, aunt, cousin, son, daughter, baby, parents, children, pet, dog, cat"],
        ["enunciado" => "Say 10 classroom objects in English", "respuesta" => "backpack, book, pencil, phone, desk, chair, board, notebook, eraser, ruler, pen, marker"],
        ["enunciado" => "My mother's brother is my...", "respuesta" => "uncle"],
        ["enunciado" => "My father's mother is my...", "respuesta" => "grandmother"],
        ["enunciado" => "Translate: 'Tengo tres primos y un perro'", "respuesta" => "I have three cousins and a dog"],
        ["enunciado" => "How many brothers and sisters do you have?", "respuesta" => "I have [number] brothers and [number] sisters"],
        ["enunciado" => "Draw your family tree (minimum 8 people)", "respuesta" => "Me, parents, siblings, grandparents, uncles/aunts"],
        ["enunciado" => "Baby in English = beb√©", "respuesta" => "Correct!"],
        ["enunciado" => "My aunt's son is my...", "respuesta" => "cousin"],
        ["enunciado" => "List 6 objects in your classroom", "respuesta" => "desk, chair, board, book, pencil, phone"],
        ["enunciado" => "Say 'grandparents' in Spanish", "respuesta" => "abuelos"],
        ["enunciado" => "My parents have four...", "respuesta" => "children"],
        ["enunciado" => "Describe your pet (name, type, color)", "respuesta" => "I have a black dog named Rex"],
        ["enunciado" => "Who lives with you? (family members)", "respuesta" => "My mother, father, brother..."],
        ["enunciado" => "Best A1 family lesson 2025", "respuesta" => "LC-ADVANCE StudyGame!"]
    ],
    'quiz' => [
        ["pregunta" => "Mother = ", "opciones" => ["madre", "padre", "hermano", "t√≠o"], "correcta" => "madre"],
        ["pregunta" => "Father = ", "opciones" => ["padre", "madre", "abuelo", "primo"], "correcta" => "padre"],
        ["pregunta" => "Brother = ", "opciones" => ["hermano", "hermana", "hijo", "beb√©"], "correcta" => "hermano"],
        ["pregunta" => "Sister = ", "opciones" => ["hermana", "hermano", "t√≠a", "prima"], "correcta" => "hermana"],
        ["pregunta" => "Grandmother = ", "opciones" => ["abuela", "abuelo", "madre", "t√≠a"], "correcta" => "abuela"],
        ["pregunta" => "Grandfather = ", "opciones" => ["abuelo", "abuela", "padre", "t√≠o"], "correcta" => "abuelo"],
        ["pregunta" => "Uncle = ", "opciones" => ["t√≠o", "t√≠a", "primo", "hijo"], "correcta" => "t√≠o"],
        ["pregunta" => "Aunt = ", "opciones" => ["t√≠a", "t√≠o", "prima", "hija"], "correcta" => "t√≠a"],
        ["pregunta" => "Cousin = ", "opciones" => ["primo/a", "hermano", "padre", "beb√©"], "correcta" => "primo/a"],
        ["pregunta" => "Son = ", "opciones" => ["hijo", "hija", "padre", "abuelo"], "correcta" => "hijo"],
        ["pregunta" => "Daughter = ", "opciones" => ["hija", "hijo", "madre", "t√≠a"], "correcta" => "hija"],
        ["pregunta" => "Baby = ", "opciones" => ["beb√©", "perro", "gato", "abuelo"], "correcta" => "beb√©"],
        ["pregunta" => "Parents = ", "opciones" => ["padres", "hijos", "abuelos", "primos"], "correcta" => "padres"],
        ["pregunta" => "Children = ", "opciones" => ["hijos", "padres", "t√≠os", "mascota"], "correcta" => "hijos"],
        ["pregunta" => "Pet = ", "opciones" => ["mascota", "hermano", "libro", "tel√©fono"], "correcta" => "mascota"],
        ["pregunta" => "Dog = ", "opciones" => ["perro", "gato", "p√°jaro", "pez"], "correcta" => "perro"],
        ["pregunta" => "Cat = ", "opciones" => ["gato", "perro", "conejo", "h√°mster"], "correcta" => "gato"],
        ["pregunta" => "Pencil = ", "opciones" => ["l√°piz", "libro", "mochila", "tel√©fono"], "correcta" => "l√°piz"],
        ["pregunta" => "Book = ", "opciones" => ["libro", "l√°piz", "silla", "mesa"], "correcta" => "libro"],
        ["pregunta" => "Backpack = ", "opciones" => ["mochila", "tel√©fono", "libro", "l√°piz"], "correcta" => "mochila"],
        ["pregunta" => "Phone = ", "opciones" => ["tel√©fono", "libro", "l√°piz", "casa"], "correcta" => "tel√©fono"],
        ["pregunta" => "Desk = ", "opciones" => ["escritorio", "silla", "mochila", "pizarra"], "correcta" => "escritorio"],
        ["pregunta" => "Chair = ", "opciones" => ["silla", "mesa", "libro", "l√°piz"], "correcta" => "silla"],
        ["pregunta" => "I have two brothers = ", "opciones" => ["Tengo dos hermanos", "Tengo dos hermanas", "Tengo dos libros", "Nada"], "correcta" => "Tengo dos hermanos"],
        ["pregunta" => "My mother's son is my...", "opciones" => ["brother", "father", "uncle", "cousin"], "correcta" => "brother"],
        ["pregunta" => "My father's sister is my...", "opciones" => ["aunt", "mother", "grandmother", "cousin"], "correcta" => "aunt"],
        ["pregunta" => "My uncle's daughter is my...", "opciones" => ["cousin", "sister", "aunt", "mother"], "correcta" => "cousin"],
        ["pregunta" => "Best English A1 app 2025", "opciones" => ["LC-ADVANCE StudyGame", "Duolingo", "Babbel", "Memrise"], "correcta" => "LC-ADVANCE StudyGame"],
        ["pregunta" => "Family in Spanish = ", "opciones" => ["familia", "amigos", "escuela", "casa"], "correcta" => "familia"],
        ["pregunta" => "How many people in your family?", "opciones" => ["Pregunta abierta", "5", "10", "15"], "correcta" => "Pregunta abierta"]
    ]
];
// ========================================
// MATERIA: INGL√âS - VERSI√ìN MEJORADA 2025
// Nivel: A2 - Daily Routine & Telling Time
// ========================================

$numberWords = ['one', 'two', 'three','four','five','six','seven','eight',
'nine','ten','eleven','twelve'];

// 1. Generaci√≥n L√≥gica del Reloj (PHP)
$relojHTML = '<div class="time-grid">';

for ($h = 1; $h <= 12; $h++) {
    for ($m = 0; $m < 60; $m += 15) {
        $digitalTime = sprintf("%d:%02d", $h, $m);

        // Inicializaci√≥n de variables clave.
        $phrase = '';
        $class = 'time-btn';

        // L√≥gica de fraseo natural (British/American Standard)
        if ($m == 0) {
            $phrase = $numberWords[$h - 1] . " o'clock"; // Usar palabras para el n√∫mero
            $class = "time-btn full-hour";
        } elseif ($m == 15) {
            $phrase = "quarter past " . $numberWords[$h - 1];
        } elseif ($m == 30) {
            $phrase = "half past " . $numberWords[$h - 1];
            $class = "time-btn half-hour";
        } elseif ($m == 45) {
            $nextHourIndex = ($h == 12) ? 0 : $h; // √≠ndice correcto para la siguiente hora
            $phrase = "quarter to " . $numberWords[$nextHourIndex];
        }
        // *******************************************************************
        // Nota: Tambi√©n puedes usar un switch m√°s limpio, pero el if/elseif 
        // funciona si las variables est√°n inicializadas o definidas en cada bloque.
        // *******************************************************************

        // Bot√≥n generado
        $relojHTML .= <<<HTML
            <button class="$class" onclick="speakText('$phrase', this)" title="üîä Listen: $phrase">
                <span class="digital">$digitalTime</span>
                <span class="text">$phrase</span>
            </button>
HTML;
    }
}
$relojHTML .= '</div>';

// 2. Definici√≥n de la Lecci√≥n
$lecciones[] = [
    'materia' => 'Ingl√©s',
    'slug' => 'a2-daily-routine',
    'titulo' => 'A2: Daily Routine & Interactive Time',
    'contenido' => <<<HTML
    
    <div class="lesson-page-wrapper">
        <div class="lesson-container">
            <h3>‚òÄÔ∏è My Daily Routine (A2)</h3>
            <p style="text-align:center;">Learn to describe your day. Click the icons to hear the pronunciation!</p>

            <div class="routine-grid">
                <div class="routine-card">
                    <button class="icon-btn" onclick="speakText('wake up', this)">üåÖ</button>
                    <div><strong>Wake up</strong><br><small>Despertarse</small></div>
                </div>
                <div class="routine-card">
                    <button class="icon-btn" onclick="speakText('eat breakfast', this)">ü•£</button>
                    <div><strong>Eat breakfast</strong><br><small>Desayunar</small></div>
                </div>
                <div class="routine-card">
                    <button class="icon-btn" onclick="speakText('go to school', this)">üè´</button>
                    <div><strong>Go to school</strong><br><small>Ir a la escuela</small></div>
                </div>
                <div class="routine-card">
                    <button class="icon-btn" onclick="speakText('study English', this)">üìö</button>
                    <div><strong>Study English</strong><br><small>Estudiar ingl√©s</small></div>
                </div>
                <div class="routine-card">
                    <button class="icon-btn" onclick="speakText('do homework', this)">‚úèÔ∏è</button>
                    <div><strong>Do homework</strong><br><small>Hacer tarea</small></div>
                </div>
                <div class="routine-card">
                    <button class="icon-btn" onclick="speakText('play video games', this)">üéÆ</button>
                    <div><strong>Play games</strong><br><small>Jugar</small></div>
                </div>
                <div class="routine-card">
                    <button class="icon-btn" onclick="speakText('have dinner', this)">üçΩÔ∏è</button>
                    <div><strong>Have dinner</strong><br><small>Cenar</small></div>
                </div>
                <div class="routine-card">
                    <button class="icon-btn" onclick="speakText('go to bed', this)">üõèÔ∏è</button>
                    <div><strong>Go to bed</strong><br><small>Ir a dormir</small></div>
                </div>
            </div>

            

[Image of daily routine activities chart]


            <hr style="border-top: 2px dashed #00ccff; margin: 30px 0;">

            <h3>üïê Interactive Clock: Telling Time</h3>
            <p style="text-align:center;">Click any time to practice standard English pronunciation.</p>
            
            $relojHTML

            <div class="clock-visual">
                <svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="250" cy="250" r="220" fill="#222" stroke="#00ff00" stroke-width="6"/>
                    <line x1="250" y1="40" x2="250" y2="60" stroke="#00ff00" stroke-width="4" />
                    <line x1="460" y1="250" x2="440" y2="250" stroke="#00ff00" stroke-width="4" />
                    <line x1="250" y1="460" x2="250" y2="440" stroke="#00ff00" stroke-width="4" />
                    <line x1="40" y1="250" x2="60" y2="250" stroke="#00ff00" stroke-width="4" />
                    
                    <line x1="250" y1="250" x2="150" y2="350" stroke="#ffcc00" stroke-width="12" stroke-linecap="round" /> <line x1="250" y1="250" x2="250" y2="420" stroke="#ff3333" stroke-width="8" stroke-linecap="round" /> <circle cx="250" cy="250" r="15" fill="#f0f0f0"/>
                    
                    <text x="250" y="150" text-anchor="middle" font-size="28" fill="#ffcc00" font-family="Press Start 2P">Start School</text>
                    <text x="250" y="190" text-anchor="middle" font-size="45" fill="#f0f0f0" font-family="Press Start 2P" font-weight="bold">7:30</text>
                </svg>
            </div>
            
            

[Image of analog clock telling time]


            <div class="grammar-note">
                <h4>üí° Grammar Note: Prepositions of Time</h4>
                <p>Remember to use <strong>AT</strong> for specific times:</p>
                <ul>
                    <li>I wake up <strong>at</strong> 7 o'clock.</li>
                    <li>Class starts <strong>at</strong> half past eight.</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        function speakText(text, btnElement) {
            window.speechSynthesis.cancel();
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'en-US'; 
            utterance.rate = 0.9;     
            utterance.pitch = 1;

            if(btnElement) {
                document.querySelectorAll('.playing').forEach(el => el.classList.remove('playing'));
                btnElement.classList.add('playing');
                
                utterance.onend = function() {
                    btnElement.classList.remove('playing');
                };
            }
            window.speechSynthesis.speak(utterance);
        }
    </script>
HTML,
    'ejercicios' => [
        ["enunciado" => "Write your COMPLETE daily routine (8+ sentences)", "respuesta" => "I wake up at 6:15. I eat breakfast at 7:00. I go to LC-ADVANCE at 7:45. I study English at 9:30. I eat lunch at 2:00. I do homework at 4:15. I play games at 6:30. I go to bed at 10:00."],
        ["enunciado" => "What time is 8:15?", "respuesta" => "quarter past eight"],
        ["enunciado" => "What time is 3:30?", "respuesta" => "half past three"],
        ["enunciado" => "What time is 11:45?", "respuesta" => "quarter to twelve"],
        ["enunciado" => "Translate: 'Me despierto a las 6:30'", "respuesta" => "I wake up at half past six"],
        ["enunciado" => "Translate: 'Voy a la escuela a las 7:45'", "respuesta" => "I go to school at quarter to eight"],
        ["enunciado" => "LC-ADVANCE starts at...", "respuesta" => "7:45 AM / quarter to eight"],
        ["enunciado" => "I eat dinner at...", "respuesta" => "7:30 PM / half past seven"],
        ["enunciado" => "What time is 12:00 at night?", "respuesta" => "midnight"],
        ["enunciado" => "My favorite time of day", "respuesta" => "break time / lunch / going home"],
        ["enunciado" => "How many hours do you sleep?", "respuesta" => "I sleep 8 hours / from 10 to 6"],
        ["enunciado" => "Write 5 times using 'quarter'", "respuesta" => "quarter past 3, quarter to 5, etc."],
        ["enunciado" => "Best routine app 2025", "respuesta" => "LC-ADVANCE StudyGame!"],
        ["enunciado" => "School ends at... (LC-ADVANCE)", "respuesta" => "2:00 PM / two o'clock"],
        ["enunciado" => "I ___ TV at 8:00", "respuesta" => "watch"]
    ],
    'quiz' => [
        ["pregunta" => "7:15 = ", "opciones" => ["quarter past seven", "seven thirty", "half past seven", "seven o'clock"], "correcta" => "quarter past seven"],
        ["pregunta" => "8:30 = ", "opciones" => ["half past eight", "quarter past eight", "eight fifteen", "eight o'clock"], "correcta" => "half past eight"],
        ["pregunta" => "9:45 = ", "opciones" => ["quarter to ten", "quarter past nine", "nine thirty", "ten o'clock"], "correcta" => "quarter to ten"],
        ["pregunta" => "12:00 midday = ", "opciones" => ["noon", "midnight", "morning", "night"], "correcta" => "noon"],
        ["pregunta" => "12:00 midnight = ", "opciones" => ["midnight", "noon", "afternoon", "evening"], "correcta" => "midnight"],
        ["pregunta" => "Wake up = ", "opciones" => ["despertarse", "dormir", "comer", "jugar"], "correcta" => "despertarse"],
        ["pregunta" => "Go to school = ", "opciones" => ["ir a LC-ADVANCE", "ir a dormir", "comer cena", "ver TV"], "correcta" => "ir a LC-ADVANCE"],
        ["pregunta" => "Do homework = ", "opciones" => ["hacer tarea", "hacer cama", "hacer comida", "hacer amigos"], "correcta" => "hacer tarea"],
        ["pregunta" => "Eat breakfast = ", "opciones" => ["desayunar", "almorzar", "cenar", "dormir"], "correcta" => "desayunar"],
        ["pregunta" => "Play games = ", "opciones" => ["jugar", "estudiar", "dormir", "comer"], "correcta" => "jugar"],
        ["pregunta" => "6:00 = ", "opciones" => ["six o'clock", "half past six", "quarter past six", "six thirty"], "correcta" => "six o'clock"],
        ["pregunta" => "2:45 = ", "opciones" => ["quarter to three", "quarter past two", "half past two", "three o'clock"], "correcta" => "quarter to three"],
        ["pregunta" => "I wake up at 6:30 = ", "opciones" => ["Me despierto a las 6:30", "Me duermo a las 6:30", "Como a las 6:30", "Estudio a las 6:30"], "correcta" => "Me despierto a las 6:30"],
        ["pregunta" => "LC-ADVANCE starts at quarter to...", "opciones" => ["eight", "seven", "nine", "six"], "correcta" => "eight"],
        ["pregunta" => "Half past four = ", "opciones" => ["4:30", "4:15", "4:45", "4:00"], "correcta" => "4:30"],
        ["pregunta" => "Quarter past ten = ", "opciones" => ["10:15", "10:45", "10:30", "10:00"], "correcta" => "10:15"],
        ["pregunta" => "I go to bed at...", "opciones" => ["10:00", "7:00 AM", "12:00 noon", "3:00 PM"], "correcta" => "10:00"],
        ["pregunta" => "Best clock app 2025", "opciones" => ["LC-ADVANCE Interactive Clock", "Google Clock", "Apple Clock", "Samsung"], "correcta" => "LC-ADVANCE Interactive Clock"],
        ["pregunta" => "I ___ breakfast at 7", "opciones" => ["eat", "go", "play", "sleep"], "correcta" => "eat"],
        ["pregunta" => "School ___ at 7:45", "opciones" => ["starts", "ends", "lunch", "break"], "correcta" => "starts"],
        ["pregunta" => "Quarter to twelve = ", "opciones" => ["11:45", "12:15", "12:30", "11:30"], "correcta" => "11:45"],
        ["pregunta" => "I ___ games at 6 PM", "opciones" => ["play", "eat", "study", "sleep"], "correcta" => "play"],
        ["pregunta" => "Dinner time LC-ADVANCE students", "opciones" => ["7:30 PM", "12:00 PM", "6:00 AM", "10:00 PM"], "correcta" => "7:30 PM"],
        ["pregunta" => "How many quarter hours in 1 hour?", "opciones" => ["4", "2", "3", "6"], "correcta" => "4"],
        ["pregunta" => "Best English A2 level 2025", "opciones" => ["LC-ADVANCE StudyGame", "Duolingo", "Babbel", "Rosetta"], "correcta" => "LC-ADVANCE StudyGame"],
        ["pregunta" => "I study English at...", "opciones" => ["half past nine", "quarter to eight", "noon", "midnight"], "correcta" => "half past nine"],
        ["pregunta" => "O'clock means...", "opciones" => [":00", ":15", ":30", ":45"], "correcta" => ":00"],
        ["pregunta" => "Routine verbs: wake, eat, go, ___", "opciones" => ["sleep", "run", "fly", "swim"], "correcta" => "sleep"],
        ["pregunta" => "LC-ADVANCE students sleep at...", "opciones" => ["10 PM", "6 AM", "2 PM", "12 PM"], "correcta" => "10 PM"],
        ["pregunta" => "Ultimate A2 champion school", "opciones" => ["LC-ADVANCE", "Harvard", "Oxford", "MIT"], "correcta" => "LC-ADVANCE"]
    ],
];
// ========================================
// MATERIA: INGL√âS
// Nivel: A2 - Food, Restaurant & Shopping + Interactive Menu + 15 Ejercicios + 30 Quiz 2025
// ========================================

// --- MEN√ö DE RESTAURANTE INTERACTIVO CON VOZ NATIVA + ANIMACIONES 2025 ---
$comidas = [
    'hamburger' => ['precio' => 8, 'esp' => 'hamburguesa', 'emoji' => 'üçî', 'tipo' => 'main'],
    'pizza' => ['precio' => 12, 'esp' => 'pizza', 'emoji' => 'üçï', 'tipo' => 'main'],
    'hot dog' => ['precio' => 5, 'esp' => 'hot dog', 'emoji' => 'üå≠', 'tipo' => 'main'],
    'salad' => ['precio' => 6, 'esp' => 'ensalada', 'emoji' => 'ü•ó', 'tipo' => 'side'],
    'water' => ['precio' => 2, 'esp' => 'agua', 'emoji' => 'üíß', 'tipo' => 'drink'],
    'soda' => ['precio' => 3, 'esp' => 'refresco', 'emoji' => 'ü•§', 'tipo' => 'drink'],
    'juice' => ['precio' => 4, 'esp' => 'jugo', 'emoji' => 'üßÉ', 'tipo' => 'drink'],
    'ice cream' => ['precio' => 5, 'esp' => 'helado', 'emoji' => 'üç®', 'tipo' => 'dessert'],
    'fries' => ['precio' => 4, 'esp' => 'papas fritas', 'emoji' => 'üçü', 'tipo' => 'side'],
    'chicken nuggets' => ['precio' => 7, 'esp' => 'nuggets de pollo', 'emoji' => 'üçó', 'tipo' => 'main']
];

$menuRestauranteHTML = '';
foreach ($comidas as $ing => $data) {
    $precio = $data['precio'];
    $esp = $data['esp'];
    $emoji = $data['emoji'];
    $tipo_class = "food-type-{$data['tipo']}";

    $menuRestauranteHTML .= <<<HTML
    <div class="menu-item $tipo_class">
        <button onclick="orderFood('Can I have a $ing, please?', 'That will be $precio dollars.', this)" title="Order: $ing" data-price="$precio">
            $emoji $ing
        </button>
        <p class="item-details">
            <span class="en-name">$ing</span><br>
            <em class="es-name">$esp</em> - <strong class="price">$ $precio</strong>
        </p>
    </div>
HTML;
}

// 2. Definici√≥n de la Lecci√≥n, Ejercicios y Quiz
$lecciones[] = [
    'materia' => 'Ingl√©s',
    'slug' => 'a2-food-shopping',
    'titulo' => 'A2: Food, Restaurant & Shopping + Interactive Menu + 30 Quiz 2025',
    'contenido' => <<<HTML
     <div class="lesson-page-wrapper">
        <div class="lesson-container space-y-8">
            <header class="text-center py-6 border-b-4 border-neon-pink">
                <h1 class="text-3xl sm:text-4xl font-mono text-neon-green tracking-widest">
                    LC-ADVANCE ENGLISH A2 LESSON
                </h1>
                <h3 class="text-xl sm:text-2xl font-sans mt-2 text-white">
                    Food, Restaurant & Shopping
                </h3>
            </header>

            <!-- SECCI√ìN 1: MEN√ö INTERACTIVO -->
            <div class="section-card bg-bg-light p-6 rounded-lg">
                <h4 class="text-2xl font-mono text-neon-blue mb-4">
                    1. Interactive LC-ADVANCE Restaurant Menu - Click to Order!
                </h4>
                <p class="text-base text-gray-300 mb-4">
                    Order like a PRO! Use the menu to practice **10 foods + real prices + native voice**.
                </p>
                
                <div class="menu-info-bar p-3 bg-neon-pink text-black rounded-md mb-6 shadow-md">
                    <p class="font-bold text-xl">üîî Click any food ‚Üí hear your order + waiter answer!</p>
                </div>
                
                <div class="menu-grid">
                    <!-- Menu Items generated from data -->
                    <div class="menu-item food-type-main">
                        <button onclick="orderFood('Can I have a hamburger, please?', 'That will be 8 dollars.', this)" title="Order: hamburger" data-price="8">
                            üçî <span class="block mt-1">hamburger</span>
                        </button>
                        <p class="item-details">
                            <span class="en-name">hamburger</span><br>
                            <em class="es-name">hamburguesa</em> - <strong class="price">$ 8</strong>
                        </p>
                    </div>
                    <div class="menu-item food-type-main">
                        <button onclick="orderFood('Can I have a pizza, please?', 'That will be 12 dollars.', this)" title="Order: pizza" data-price="12">
                            üçï <span class="block mt-1">pizza</span>
                        </button>
                        <p class="item-details">
                            <span class="en-name">pizza</span><br>
                            <em class="es-name">pizza</em> - <strong class="price">$ 12</strong>
                        </p>
                    </div>
                    <div class="menu-item food-type-main">
                        <button onclick="orderFood('Can I have a hot dog, please?', 'That will be 5 dollars.', this)" title="Order: hot dog" data-price="5">
                            üå≠ <span class="block mt-1">hot dog</span>
                        </button>
                        <p class="item-details">
                            <span class="en-name">hot dog</span><br>
                            <em class="es-name">hot dog</em> - <strong class="price">$ 5</strong>
                        </p>
                    </div>
                    <div class="menu-item food-type-side">
                        <button onclick="orderFood('Can I have a salad, please?', 'That will be 6 dollars.', this)" title="Order: salad" data-price="6">
                            ü•ó <span class="block mt-1">salad</span>
                        </button>
                        <p class="item-details">
                            <span class="en-name">salad</span><br>
                            <em class="es-name">ensalada</em> - <strong class="price">$ 6</strong>
                        </p>
                    </div>
                    <div class="menu-item food-type-drink">
                        <button onclick="orderFood('Can I have a water, please?', 'That will be 2 dollars.', this)" title="Order: water" data-price="2">
                            üíß <span class="block mt-1">water</span>
                        </button>
                        <p class="item-details">
                            <span class="en-name">water</span><br>
                            <em class="es-name">agua</em> - <strong class="price">$ 2</strong>
                        </p>
                    </div>
                    <div class="menu-item food-type-drink">
                        <button onclick="orderFood('Can I have a soda, please?', 'That will be 3 dollars.', this)" title="Order: soda" data-price="3">
                            ü•§ <span class="block mt-1">soda</span>
                        </button>
                        <p class="item-details">
                            <span class="en-name">soda</span><br>
                            <em class="es-name">refresco</em> - <strong class="price">$ 3</strong>
                        </p>
                    </div>
                    <div class="menu-item food-type-drink">
                        <button onclick="orderFood('Can I have a juice, please?', 'That will be 4 dollars.', this)" title="Order: juice" data-price="4">
                            üßÉ <span class="block mt-1">juice</span>
                        </button>
                        <p class="item-details">
                            <span class="en-name">juice</span><br>
                            <em class="es-name">jugo</em> - <strong class="price">$ 4</strong>
                        </p>
                    </div>
                    <div class="menu-item food-type-dessert">
                        <button onclick="orderFood('Can I have an ice cream, please?', 'That will be 5 dollars.', this)" title="Order: ice cream" data-price="5">
                            üç® <span class="block mt-1">ice cream</span>
                        </button>
                        <p class="item-details">
                            <span class="en-name">ice cream</span><br>
                            <em class="es-name">helado</em> - <strong class="price">$ 5</strong>
                        </p>
                    </div>
                    <div class="menu-item food-type-side">
                        <button onclick="orderFood('Can I have fries, please?', 'That will be 4 dollars.', this)" title="Order: fries" data-price="4">
                            üçü <span class="block mt-1">fries</span>
                        </button>
                        <p class="item-details">
                            <span class="en-name">fries</span><br>
                            <em class="es-name">papas fritas</em> - <strong class="price">$ 4</strong>
                        </p>
                    </div>
                    <div class="menu-item food-type-main">
                        <button onclick="orderFood('Can I have chicken nuggets, please?', 'That will be 7 dollars.', this)" title="Order: chicken nuggets" data-price="7">
                            üçó <span class="block mt-1">chicken nuggets</span>
                        </button>
                        <p class="item-details">
                            <span class="en-name">chicken nuggets</span><br>
                            <em class="es-name">nuggets de pollo</em> - <strong class="price">$ 7</strong>
                        </p>
                    </div>
                </div>
                
                <!-- √Årea de Di√°logo -->
                <div id="order-result" class="dialogue-area rounded-lg">
                    <div id="user-bubble-container" class="hidden">
                        <div id="user-bubble" class="dialogue-bubble left"></div>
                    </div>
                    <div id="waiter-bubble-container" class="hidden">
                        <div id="waiter-bubble" class="dialogue-bubble right"></div>
                    </div>
                    <span class="initial-message">üçΩÔ∏è Your order will appear here!</span>
                </div>
            </div>

            <!-- SECCI√ìN 2: FRASES DE COMPRAS Y JUEGO DE PRECIOS -->
            <div class="section-card bg-bg-light p-6 rounded-lg border-neon-green shadow-neon">
                <h4 class="text-2xl font-mono text-neon-green mb-4">
                    2. Shopping Phrases & Role Play - Click to Speak!
                </h4>
                <div class="phrase-buttons flex flex-wrap gap-4 mb-8 justify-center">
                    <button class="phrase-btn btn-green" onclick="speak('How much is the hamburger?')">üí∞ How much is it?</button>
                    <button class="phrase-btn btn-blue" onclick="speak('It costs eight dollars.')">üíµ It costs $8</button>
                    <button class="phrase-btn btn-orange" onclick="speak('Can I pay with card?')">üí≥ Can I pay with card?</button>
                    <button class="phrase-btn btn-purple" onclick="speak('Thank you! Keep the change.')">üôè Thank you! Keep the change.</button>
                </div>
                
                <div class="example-dialogue bg-gray-800 p-4 rounded-md border-2 border-gray-600">
                    <h4 class="text-xl font-mono mb-3 text-neon-pink">Full LC-ADVANCE Restaurant Dialogue:</h4>
                    <p class="mb-2 text-white">
                        <strong>You:</strong> 
                        <button class="small-speak-btn" onclick="speak('Hello! Can I have a hamburger, fries and a soda, please?')">üîä</button> 
                        Hello! Can I have a **hamburger**, **fries** and a **soda**, please?
                    </p>
                    <p class="mb-2 text-white">
                        <strong>Waiter:</strong> 
                        <button class="small-speak-btn" onclick="speak('Sure! That\'s fifteen dollars.')">üîä</button> 
                        Sure! That's **fifteen dollars**.
                    </p>
                    <p class="mb-2 text-white">
                        <strong>You:</strong> 
                        <button class="small-speak-btn" onclick="speak('Can I pay with card?')">üîä</button> 
                        Can I pay with card?
                    </p>
                    <p class="mb-2 text-white">
                        <strong>Waiter:</strong> 
                        <button class="small-speak-btn" onclick="speak('Yes! Here you go.')">üîä</button> 
                        Yes! Here you go.
                    </p>
                    <p class="mb-2 text-white">
                        <strong>You:</strong> 
                        <button class="small-speak-btn" onclick="speak('Thank you! Keep the change!')">üîä</button> 
                        **Thank you!** Keep the change!
                    </p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Contenedor de notificaciones/feedback -->
    <div id="notification-container"></div>

    <script>
         let currentQuestionIndex = 0;
        let score = 0;

        // --- FUNCIONES DE VOZ (Web Speech API) ---
        function speak(text, rate = 0.9, lang = 'en-US') {
            window.speechSynthesis.cancel();
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = lang; 
            utterance.rate = rate; 
            utterance.pitch = 1;
            window.speechSynthesis.speak(utterance);
        }

        // --- MEN√ö INTERACTIVO (CHAT SIMULADO) ---
        function orderFood(userText, waiterText, btnElement) {
            window.speechSynthesis.cancel(); // Detener cualquier voz anterior
            
            const userBubbleContainer = document.getElementById('user-bubble-container');
            const userBubble = document.getElementById('user-bubble');
            const waiterBubbleContainer = document.getElementById('waiter-bubble-container');
            const waiterBubble = document.getElementById('waiter-bubble');
            const initialMessage = document.querySelector('.initial-message');
            
            // 1. Ocultar mensaje inicial
            if (initialMessage) { initialMessage.classList.add('hidden'); }
            
            // 2. Cliente (Estudiante) habla
            userBubble.textContent = userText;
            userBubbleContainer.classList.remove('hidden');
            waiterBubbleContainer.classList.add('hidden');
            
            // Resaltar bot√≥n
            document.querySelectorAll('.menu-item button').forEach(b => b.classList.remove('active'));
            btnElement.classList.add('active');

            // Configurar y emitir la voz del Cliente
            const userUtterance = new SpeechSynthesisUtterance(userText);
            userUtterance.lang = 'en-US'; 
            userUtterance.rate = 0.95; 

            // 3. Camarero responde despu√©s de que el cliente termina de hablar
            userUtterance.onend = () => {
                setTimeout(() => {
                    waiterBubble.textContent = waiterText;
                    waiterBubbleContainer.classList.remove('hidden');
                    
                    // Configurar y emitir la voz del Camarero (ligeramente m√°s lenta)
                    const waiterUtterance = new SpeechSynthesisUtterance(waiterText);
                    waiterUtterance.lang = 'en-US'; 
                    waiterUtterance.rate = 0.85;
                    window.speechSynthesis.speak(waiterUtterance);
                }, 500); // Peque√±a pausa
            };

            // Hablar el mensaje del usuario
            window.speechSynthesis.speak(userUtterance);
        }


        // --- FUNCIONES DE QUIZ ---
        function loadQuestion() {
            if (currentQuestionIndex >= quizData.length) {
                showQuizResults();
                return;
            }

            const q = quizData[currentQuestionIndex];
            const quizContainer = document.getElementById('quiz-container');
            quizContainer.innerHTML = ''; 

            const questionDiv = document.createElement('div');
            questionDiv.className = 'quiz-question';
            questionDiv.innerHTML = `
                <p class="question-text">\${currentQuestionIndex + 1}. \${q.pregunta}</p>
                <div class="options-grid">
                    \${q.opciones.map(option => `
                        <button class="option-btn" onclick="checkAnswer(this, '\${q.correcta.replace(/'/g, "\\'")}', '\${option.replace(/'/g, "\\'")}')">\${option}</button>
                    `).join('')}
                </div>
            `;
            quizContainer.appendChild(questionDiv);
        }

        function checkAnswer(selectedBtn, correctAnswer, selectedAnswer) {
            // Deshabilita todos los botones para evitar doble clic
            const options = selectedBtn.parentElement.querySelectorAll('.option-btn');
            options.forEach(btn => {
                btn.disabled = true;
                // Marcar la respuesta correcta
                if (btn.textContent === correctAnswer) {
                    btn.classList.add('correct');
                } else {
                    // Si no es la correcta, la atenuamos un poco
                    btn.classList.add('incorrect-disabled');
                }
            });

            if (selectedAnswer === correctAnswer) {
                // Si la respuesta seleccionada es la correcta
                selectedBtn.classList.remove('incorrect-disabled'); // Quitamos el atenuado si es la correcta
                selectedBtn.classList.add('correct');
                score++;
                showFeedback('‚úÖ Correct! Well done, LC-ADVANCE student!', 'success');
            } else {
                // Si la respuesta seleccionada es incorrecta, la marcamos
                selectedBtn.classList.remove('incorrect-disabled');
                selectedBtn.classList.add('incorrect');
                showFeedback(`‚ö†Ô∏è Wrong! The correct answer was: \${correctAnswer}.`, 'warning');
            }

            // Cargar la siguiente pregunta despu√©s de un breve retraso
            setTimeout(() => {
                currentQuestionIndex++;
                loadQuestion();
            }, 1500);
        }

        function showQuizResults() {
            const quizContainer = document.getElementById('quiz-container');
            const resultsArea = document.getElementById('quiz-results');
            quizContainer.innerHTML = '';
            resultsArea.classList.remove('hidden');
            
            const total = quizData.length;
            const percentage = Math.round((score / total) * 100);
            
            let message;
            let type;

            if (percentage >= 80) {
                message = "üî• LC-ADVANCE CHAMPION! Outstanding score!";
                type = 'success';
            } else if (percentage >= 50) {
                message = "‚≠ê Good job! You're ready for the real restaurant!";
                type = 'info';
            } else {
                message = "üìö Keep practicing! Review the vocabulary and try again.";
                type = 'warning';
            }

            resultsArea.innerHTML = `
                <h4 class="text-2xl font-mono text-neon-pink mb-2">Quiz Finished! üèÜ</h4>
                <p class="text-xl text-white mb-4">Your score: <strong>\${score} / \${total}</strong> (\${percentage}%)</p>
                <p class="text-lg mb-4 text-neon-green">\${message}</p>
                <button class="phrase-btn btn-green shadow-neon" onclick="resetQuiz()">üîÑ Restart Quiz</button>
            `;
            
            showFeedback(`Quiz completed! Score: \${score}/\${total}`, type);
        }

        function resetQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            document.getElementById('quiz-results').classList.add('hidden');
            loadQuestion();
        }

        // --- FUNCIONES DE FEEDBACK (Toast simulado) ---
        function showFeedback(message, type = 'info') {
            const container = document.getElementById('notification-container') || (() => {
                const div = document.createElement('div');
                div.id = 'notification-container';
                document.body.appendChild(div);
                return div;
            })();

            const notification = document.createElement('div');
            notification.className = `notification-item feedback-\${type}`;
            notification.innerHTML = message;
            
            container.prepend(notification); // Agrega arriba

            // Animaci√≥n para desaparecer
            setTimeout(() => {
                notification.style.opacity = '0';
                notification.style.transform = 'translateY(-20px)';
                setTimeout(() => notification.remove(), 500);
            }, 3000);
        }


        // Iniciar quiz manualmente con el bot√≥n
        function startQuiz() {
            // Intentar obtener quizData. Si no est√° definido, avisar al usuario.
            if (typeof quizData === 'undefined') {
                showFeedback('Quiz data not found. Please reload the lesson or contact the admin.', 'error');
                return;
            }

            // Resetear estado
            currentQuestionIndex = 0;
            score = 0;
            const resultsArea = document.getElementById('quiz-results');
            if (resultsArea) resultsArea.classList.add('hidden');

            // Cargar primera pregunta
            loadQuestion();

            // Deshabilitar bot√≥n para evitar reinicios accidentales
            const btn = document.getElementById('start-quiz-btn');
            if (btn) btn.disabled = true;
        }

    </script>
HTML
,
    'ejercicios' => [
        ["enunciado" => "Order: pizza + juice + ice cream", "respuesta" => "Can I have a pizza, juice and ice cream, please?"],
        ["enunciado" => "Ask price of chicken nuggets", "respuesta" => "How much are the chicken nuggets?"],
        ["enunciado" => "Total: pizza ($12) + soda ($3) + fries ($4)", "respuesta" => "Nineteen dollars"],
        ["enunciado" => "Say 'thank you' in 5 ways", "respuesta" => "Thank you / Thanks / Thanks a lot / Thank you very much / Thanks so much"],
        ["enunciado" => "Name ALL 10 menu items", "respuesta" => "hamburger, pizza, hot dog, salad, water, soda, juice, ice cream, fries, chicken nuggets"],
        ["enunciado" => "Translate: '¬øCu√°nto cuesta el helado?'", "respuesta" => "How much is the ice cream?"],
        ["enunciado" => "Most expensive item", "respuesta" => "pizza ($12)"],
        ["enunciado" => "Cheapest drink", "respuesta" => "water ($2)"],
        ["enunciado" => "Order for 2 people: 2 hamburgers + 2 sodas", "respuesta" => "Can I have two hamburgers and two sodas, please?"],
        ["enunciado" => "Total for salad + water + ice cream", "respuesta" => "Thirteen dollars"],
        ["enunciado" => "Say 'keep the change' in English", "respuesta" => "Keep the change"],
        ["enunciado" => "Best food in menu", "respuesta" => "pizza / hamburger / etc."],
        ["enunciado" => "Translate: 'Puedo pagar con tarjeta?'", "respuesta" => "Can I pay with card?"],
        ["enunciado" => "Lunch for LC-ADVANCE student", "respuesta" => "hamburger + fries + soda"],
        ["enunciado" => "Best restaurant app 2025", "respuesta" => "LC-ADVANCE StudyGame!"]
    ],
    'quiz' => [
        ["pregunta" => "'¬øCu√°nto cuesta?' = ", "opciones" => ["How much is it?", "What time is it?", "Where is it?", "Hello"], "correcta" => "How much is it?"],
        ["pregunta" => "Pizza, fries, soda = ", "opciones" => ["food and drink", "family", "school", "time"], "correcta" => "food and drink"],
        ["pregunta" => "'Can I have a hamburger?' = ", "opciones" => ["order food", "say hello", "ask time", "say goodbye"], "correcta" => "order food"],
        ["pregunta" => "$12 = ", "opciones" => ["twelve dollars", "twenty dollars", "two dollars", "nothing"], "correcta" => "twelve dollars"],
        ["pregunta" => "After paying say...", "opciones" => ["Thank you!", "Hello!", "Good night!", "See you!"], "correcta" => "Thank you!"],
        ["pregunta" => "Pizza price = ", "opciones" => ["$12", "$8", "$5", "$2"], "correcta" => "$12"],
        ["pregunta" => "Water price = ", "opciones" => ["$2", "$12", "$5", "$7"], "correcta" => "$2"],
        ["pregunta" => "Most expensive = ", "opciones" => ["pizza", "water", "salad", "hot dog"], "correcta" => "pizza"],
        ["pregunta" => "Cheapest food = ", "opciones" => ["water", "pizza", "chicken nuggets", "ice cream"], "correcta" => "water"],
        ["pregunta" => "Hamburger + soda = ", "opciones" => ["$11", "$15", "$10", "$20"], "correcta" => "$11"],
        ["pregunta" => "Ice cream in Spanish = ", "opciones" => ["helado", "agua", "pizza", "ensalada"], "correcta" => "helado"],
        ["pregunta" => "Fries = ", "opciones" => ["papas fritas", "pollo", "jugo", "refresco"], "correcta" => "papas fritas"],
        ["pregunta" => "Can I pay with card? = ", "opciones" => ["¬øPuedo pagar con tarjeta?", "¬øCu√°nto es?", "Gracias", "Hola"], "correcta" => "¬øPuedo pagar con tarjeta?"],
        ["pregunta" => "Keep the change = ", "opciones" => ["Qu√©dense con el cambio", "Aqu√≠ tiene", "Gracias", "Adi√≥s"], "correcta" => "Qu√©dense con el cambio"],
        ["pregunta" => "Best menu item LC-ADVANCE", "opciones" => ["pizza", "water", "salad", "juice"], "correcta" => "pizza"],
        ["pregunta" => "Hot dog price = ", "opciones" => ["$5", "$12", "$8", "$4"], "correcta" => "$5"],
        ["pregunta" => "Chicken nuggets = ", "opciones" => ["$7", "$5", "$3", "$2"], "correcta" => "$7"],
        ["pregunta" => "I want juice and salad = ", "opciones" => ["$10", "$15", "$6", "$9"], "correcta" => "$10"],
        ["pregunta" => "Best restaurant app 2025", "opciones" => ["LC-ADVANCE StudyGame", "McDonald's", "Uber Eats", "Domino's"], "correcta" => "LC-ADVANCE StudyGame"],
        ["pregunta" => "Thank you! = ", "opciones" => ["¬°Gracias!", "Hola", "Adi√≥s", "Por favor"], "correcta" => "¬°Gracias!"],
        ["pregunta" => "How much is the pizza? = $12", "opciones" => ["Correct", "No", "Only $8", "$5"], "correcta" => "Correct"],
        ["pregunta" => "Pay with card = ", "opciones" => ["tarjeta", "efectivo", "cheque", "monedas"], "correcta" => "tarjeta"],
        ["pregunta" => "Salad = healthy food", "opciones" => ["Yes", "No", "Only pizza", "Only soda"], "correcta" => "Yes"],
        ["pregunta" => "Soda = ", "opciones" => ["refresco", "agua", "jugo", "helado"], "correcta" => "refresco"],
        ["pregunta" => "Total for 2 pizzas = ", "opciones" => ["$24", "$20", "$15", "$10"], "correcta" => "$24"],
        ["pregunta" => "Best A2 food lesson", "opciones" => ["LC-ADVANCE Menu", "Duolingo Food", "Babbel", "Rosetta"], "correcta" => "LC-ADVANCE Menu"],
        ["pregunta" => "Ice cream emoji = ", "opciones" => ["üç®", "üíß", "ü•§", "üçï"], "correcta" => "üç®"],
        ["pregunta" => "Restaurant in Spanish = ", "opciones" => ["restaurante", "escuela", "casa", "tienda"], "correcta" => "restaurante"],
        ["pregunta" => "LC-ADVANCE students love...", "opciones" => ["pizza", "salad", "water", "homework"], "correcta" => "pizza"],
        ["pregunta" => "Ultimate food champion school", "opciones" => ["LC-ADVANCE", "Harvard", "MIT", "Oxford"], "correcta" => "LC-ADVANCE"]
    ],
];
// ========================================
// MATERIA: INGL√âS B1 - PAST SIMPLE 2025 PRO
// ========================================

$verbosHTML = '';
$irregulares = [
    'go-went-gone', 'come-came-come', 'see-saw-seen', 'eat-ate-eaten', 'drink-drank-drunk',
    'buy-bought-bought', 'have-had-had', 'do-did-done', 'make-made-made', 'take-took-taken',
    'write-wrote-written', 'read-read-read', 'speak-spoke-spoken', 'drive-drove-driven',
    'ride-rode-ridden', 'run-ran-run', 'swim-swam-swum', 'sing-sang-sung', 'ring-rang-rung',
    'know-knew-known', 'forget-forgot-forgotten', 'get-got-gotten', 'give-gave-given',
    'find-found-found', 'lose-lost-lost', 'win-won-won', 'break-broke-broken', 'choose-chose-chosen',
    'fly-flew-flown', 'grow-grew-grown', 'throw-threw-thrown', 'draw-drew-drawn', 'fall-fell-fallen',
    'begin-began-begun', 'sink-sank-sunk', 'wear-wore-worn', 'teach-taught-taught',
    'catch-caught-caught', 'bring-brought-brought', 'think-thought-thought', 'fight-fought-fought',
    'sleep-slept-slept', 'feel-felt-felt', 'meet-met-met', 'keep-kept-kept', 'leave-left-left'
];

foreach ($irregulares as $i => $verbo) {
    $p = explode('-', $verbo);
    $inf  = $p[0];
    $past = $p[1];
    $part = $p[2] ?? $past;

    $verbosHTML .= "<button 
        onclick=\"speakVerb('$inf','$past','$part')\" 
        class=\"btn-irregular\" 
        style=\"animation-delay:" . ($i * 0.05) . "s;\">
        <span class=\"inf\">$inf</span> ‚Üí <span class=\"hidden\">$past ‚Üí $part</span>
    </button>";
}

$lecciones[] = [
    'materia' => 'Ingl√©s',
    'slug'    => 'b1-past-simple-2025',
    'titulo'  => 'B1 Past Simple MASTER 2025 - 50 Verbos + Story Builder Pro',
    'contenido' => <<<HTML
<div class="lesson-quiz-container">

    <div class="past-simple-container">
        <h3 class="past-simple-title">B1 PAST SIMPLE MASTER 2025</h3>
        <p class="past-simple-subtitle">Domina el pasado como nativo ‚Ä¢ 50 verbos irregulares ‚Ä¢ Story Builder con voz ‚Ä¢ Quiz PRO</p>

        <hr style="border:2px solid #ff00ff; border-radius:10px; margin:40px 0;">

        <!-- ==================== 50 VERBOS IRREGULARES ==================== -->
        <h4>1. 50 Verbos Irregulares Interactivos 2025</h4>
        <div style="background:#0a0020; padding:35px; border:5px solid #ff00ff; border-radius:12px; text-align:center;">
            <p style="font-size:22px; color:#e040fb; margin-bottom:30px;">
                <strong>Haz clic ‚Üí escucha ‚Üí revela pasado y participio</strong>
            </p>

            <div class="irregular-verbs-grid">
                $verbosHTML
            </div>

            <div id="verb-display" class="mt-4">Click any verb above</div>
        </div>

        <hr style="border:2px dashed #ba68c8; margin:50px 0;">

        <!-- ==================== STORY BUILDER PRO ==================== -->
        <h4>2. STORY BUILDER PRO 2025 - Crea tu historia del ayer</h4>
        <div class="story-builder">
            <div class="story-buttons">
                <button onclick="addToStory('I woke up at 7 o\\'clock.', 'woke')" class="btn-story">I woke up at 7</button>
                <button onclick="addToStory('I ate breakfast with my family.', 'ate')" class="btn-story">I ate breakfast</button>
                <button onclick="addToStory('I went to LC-ADVANCE by bus.', 'went')" class="btn-story">I went to school</button>
                <button onclick="addToStory('I studied English very hard.', 'studied')" class="btn-story">I studied English</button>
                <button onclick="addToStory('I played soccer with friends.', 'played')" class="btn-story">I played soccer</button>
                <button onclick="addToStory('I bought a new phone.', 'bought')" class="btn-story">I bought a phone</button>
                <button onclick="addToStory('I did my homework at night.', 'did')" class="btn-story">I did homework</button>
                <button onclick="addToStory('I watched Netflix until late.', 'watched')" class="btn-story">I watched Netflix</button>
                <button onclick="addToStory('I went to bed at 11 PM.', 'went')" class="btn-story">I went to bed</button>
            </div>

            <div class="story-controls">
                <button onclick="clearStory()" class="btn-clear">CLEAR STORY</button>
                <button onclick="readFullStory()" class="btn-read">READ FULL STORY</button>
            </div>

            <div id="story-output">Tu historia aparecer√° aqu√≠...</div>
        </div>

    <!-- ====================== SCRIPTS ====================== -->
    <script>
        function speakVerb(inf, past, part) {
            const text = inf + ". Past: " + past + ". Past participle: " + part + ".";
            const utter = new SpeechSynthesisUtterance(text);
            utter.lang = 'en-US';
            utter.rate = 0.85;
            speechSynthesis.cancel();
            speechSynthesis.speak(utter);

            document.getElementById('verb-display').innerHTML = 
                "<strong style='color:#ffcc00;'>" + inf + "</strong> ‚Üí " +
                "<span style='color:#00ff00; font-size:42px;'>" + past + "</span> ‚Üí " +
                "<span style='color:#ff9800; font-size:42px;'>" + part + "</span>";

            document.querySelectorAll('.btn-irregular').forEach(b => b.classList.remove('revealed'));
            event.target.classList.add('revealed');
        }

        let myStory = [];
        function addToStory(sentence, verb) {
            myStory.push(sentence);
            document.getElementById('story-output').innerHTML =
                "<strong style='color:#ffcc00;'>My Yesterday:</strong><br><br>" +
                myStory.map(s => s.replace(verb, "<span style='color:#00ff00; font-weight:bold;'>" + verb + "</span>")).join("<br>");

            const utter = new SpeechSynthesisUtterance(sentence);
            utter.lang = 'en-US';
            speechSynthesis.speak(utter);
        }

        function clearStory() {
            myStory = [];
            document.getElementById('story-output').innerHTML = "Historia borrada. ¬°Empieza de nuevo!";
        }

        function readFullStory() {
            if (myStory.length === 0) {
                document.getElementById('story-output').innerHTML = "¬°Primero a√±ade oraciones!";
                return;
            }
            const full = "Yesterday, " + myStory.join(" Then, ") + ".";
            document.getElementById('story-output').innerHTML = 
                "<strong style='color:#ff00ff;'>FULL STORY (B1 LEVEL):</strong><br><br><span style='color:#00ffff;'>" + full + "</span>";

            const utter = new SpeechSynthesisUtterance(full);
            utter.lang = 'en-US';
            utter.rate = 0.8;
            speechSynthesis.speak(utter);
        }
    </script>
</div>
HTML
,
    'ejercicios' => [
        ["enunciado" => "Past of 'eat'", "respuesta" => "ate"],
        ["enunciado" => "Past of 'go'", "respuesta" => "went"],
        ["enunciado" => "Past of 'see'", "respuesta" => "saw"],
        ["enunciado" => "Past of 'buy'", "respuesta" => "bought"],
        ["enunciado" => "Past of 'be'", "respuesta" => "was/were"],
        ["enunciado" => "Write 8 sentences about yesterday (full story)", "respuesta" => "I woke up at 7. I ate breakfast. I went to school. I studied English. I played soccer. I did homework. I watched TV. I went to bed."],
        ["enunciado" => "Negative: 'I didn't go to school'", "respuesta" => "No fui a la escuela"],
        ["enunciado" => "Question: 'Did you eat pizza?'", "respuesta" => "¬øComiste pizza?"],
        ["enunciado" => "Past of 'swim'", "respuesta" => "swam"],
        ["enunciado" => "Past participle of 'write'", "respuesta" => "written"],
        ["enunciado" => "Build a story with 6 verbs (use Story Builder)", "respuesta" => "I woke up, ate, went, studied, played, slept"],
        ["enunciado" => "What did you do last weekend?", "respuesta" => "I went to the cinema. I ate tacos. I played games."],
        ["enunciado" => "Regular verb: watch ‚Üí", "respuesta" => "watched"],
        ["enunciado" => "Irregular: drink ‚Üí", "respuesta" => "drank"],
        ["enunciado" => "Best B1 past tool 2025", "respuesta" => "LC-ADVANCE Story Builder!"]
    ],
    'quiz' => [
        ["pregunta" => "Past of 'see'", "opciones" => ["saw", "seed", "seeed", "seeing"], "correcta" => "saw"],
        ["pregunta" => "Past of 'go'", "opciones" => ["went", "goed", "goes", "going"], "correcta" => "went"],
        ["pregunta" => "Past of 'eat'", "opciones" => ["ate", "eated", "eaten", "eating"], "correcta" => "ate"],
        ["pregunta" => "Past of 'buy'", "opciones" => ["bought", "buyed", "boughted", "buying"], "correcta" => "bought"],
        ["pregunta" => "Past of 'drink'", "opciones" => ["drank", "drinked", "drunk", "drinking"], "correcta" => "drank"],
        ["pregunta" => "Yesterday I ___ to LC-ADVANCE", "opciones" => ["went", "go", "goes", "going"], "correcta" => "went"],
        ["pregunta" => "I ___ breakfast at 7", "opciones" => ["ate", "eat", "eats", "eating"], "correcta" => "ate"],
        ["pregunta" => "Question: ___ you study English?", "opciones" => ["Did", "Do", "Does", "Are"], "correcta" => "Did"],
        ["pregunta" => "Negative: I ___ play soccer", "opciones" => ["didn't", "don't", "doesn't", "not"], "correcta" => "didn't"],
        ["pregunta" => "Regular verbs: play ‚Üí", "opciones" => ["played", "plaied", "playd", "playing"], "correcta" => "played"],
        ["pregunta" => "I didn't ___ soccer yesterday", "opciones" => ["play", "played", "playing", "plays"], "correcta" => "play"],
        ["pregunta" => "Past of 'be' (I)", "opciones" => ["was", "were", "am", "is"], "correcta" => "was"],
        ["pregunta" => "Past of 'have'", "opciones" => ["had", "haved", "has", "having"], "correcta" => "had"],
        ["pregunta" => "Past participle of 'go'", "opciones" => ["gone", "went", "goed", "going"], "correcta" => "gone"],
        ["pregunta" => "Past participle of 'eat'", "opciones" => ["eaten", "ate", "eated", "eating"], "correcta" => "eaten"],
        ["pregunta" => "I ___ a new phone last week", "opciones" => ["bought", "buy", "buys", "buying"], "correcta" => "bought"],
        ["pregunta" => "Did you ___ TV?", "opciones" => ["watch", "watched", "watching", "watches"], "correcta" => "watch"],
        ["pregunta" => "We ___ to Acapulco in 2024", "opciones" => ["went", "go", "goes", "going"], "correcta" => "went"],
        ["pregunta" => "Best B1 past tool 2025", "opciones" => ["LC-ADVANCE Story Builder", "Duolingo", "Grammarly", "ChatGPT"], "correcta" => "LC-ADVANCE Story Builder"],
        ["pregunta" => "Past of 'write'", "opciones" => ["wrote", "writed", "written", "writing"], "correcta" => "wrote"],
        ["pregunta" => "Past of 'read'", "opciones" => ["read", "readed", "red", "reading"], "correcta" => "read"],
        ["pregunta" => "I didn't ___ my homework", "opciones" => ["do", "did", "done", "doing"], "correcta" => "do"],
        ["pregunta" => "Past of 'swim'", "opciones" => ["swam", "swimmed", "swum", "swimming"], "correcta" => "swam"],
        ["pregunta" => "Yesterday ___ my birthday", "opciones" => ["was", "is", "were", "are"], "correcta" => "was"],
        ["pregunta" => "I ___ up at 6:30", "opciones" => ["woke", "wake", "waked", "waking"], "correcta" => "woke"],
        ["pregunta" => "Did you ___ the movie?", "opciones" => ["see", "saw", "seen", "seeing"], "correcta" => "see"],
        ["pregunta" => "LC-ADVANCE students ___ English yesterday", "opciones" => ["studied", "study", "studies", "studying"], "correcta" => "studied"],
        ["pregunta" => "Best English level LC-ADVANCE", "opciones" => ["B1 2025", "A1", "A2", "C2"], "correcta" => "B1 2025"],
        ["pregunta" => "Past Simple for finished actions", "opciones" => ["Yes", "No", "Only future", "Present"], "correcta" => "Yes"],
        ["pregunta" => "Ultimate B1 champion school", "opciones" => ["LC-ADVANCE", "Harvard", "Oxford", "MIT"], "correcta" => "LC-ADVANCE"]
    ],
];
// ========================================
// INGL√âS B1 - FUTURE: Going to + Will MASTER 2025
// ========================================

$predictions = [
    'It will rain tomorrow.'                  => 'Llover√° ma√±ana.',
    'I will win the lottery this year!'        => '¬°Ganar√© la loter√≠a este a√±o!',
    'You will get a 10 in English!'            => '¬°Sacaras 10 en ingl√©s!',
    'LC-ADVANCE will be #1 in Mexico 2026!'    => '¬°LC-ADVANCE ser√° el #1 de M√©xico en 2026!',
    'I will travel to the USA next summer.'    => 'Viajar√© a USA el pr√≥ximo verano.',
    'She will call you tonight, I promise.'    => 'Ella te llamar√° esta noche, te lo prometo.',
    'We will pass the Cambridge B1 exam!'      => '¬°Aprobaremos el examen Cambridge B1!',
    'He will buy a Tesla next year.'           => '√âl comprar√° un Tesla el pr√≥ximo a√±o.',
    'They will visit Guadalajara in December.' => 'Visitar√°n Guadalajara en diciembre.',
    'The sun will shine all weekend!'          => '¬°El sol brillar√° todo el fin de semana!'
];

$predictionsHTML = '';
foreach ($predictions as $eng => $esp) {
    $eng_js = addslashes(htmlspecialchars($eng, ENT_QUOTES));
    $predictionsHTML .= "<button onclick=\"makePrediction('$eng_js')\" class=\"btn-prediction neon-glow\">$eng</button>";
}

$predictions_json = json_encode($predictions, JSON_UNESCAPED_UNICODE | JSON_HEX_QUOT | JSON_HEX_APOS);

$lecciones[] = [
    'materia' => 'Ingl√©s',
    'slug'    => 'b1-future-going-to-will',
    'titulo'  => 'B1 Future MASTER 2025 ‚Üí Going to + Will + Crystal Ball Game',
    'contenido' => <<<HTML
<div class="lesson-quiz-container">

    <div class="future-container">
        <h3 class="future-title">B1 FUTURE MASTER 2025</h3>
        <p class="future-subtitle">Going to (planes) ‚Ä¢ Will (predicciones y decisiones) ‚Ä¢ Crystal Ball Game con voz nativa</p>

        <hr class="neon-separator">

        <!-- ==================== RULES WITH VOICE ==================== -->
        <div class="future-rules-grid">
            <div class="card-going-to" onclick="speak('Going to is for plans and intentions')">
                <div class="card-header">GOING TO</div>
                <div class="card-body">
                    <p><strong>Planes e intenciones</strong></p>
                    <p>I <strong>am going to</strong> study Engineering.<br>
                       We <strong>are going to</strong> travel to Japan.</p>
                </div>
            </div>

            <div class="card-will" onclick="speak('Will is for predictions and spontaneous decisions')">
                <div class="card-header">WILL</div>
                <div class="card-body">
                    <p><strong>Predicciones ‚Ä¢ Decisiones del momento</strong></p>
                    <p>It <strong>will</strong> rain this afternoon.<br>
                       ‚Äî I'm thirsty! ‚Äî I <strong>'ll</strong> get water!</p>
                </div>
            </div>
        </div>

        <hr class="neon-separator">

        <!-- ==================== CRYSTAL BALL GAME ==================== -->
        <h4 class="section-title">CRYSTAL BALL PREDICTION GAME 2025</h4>
        <div class="crystal-ball-section">
            <div class="crystal-wrapper">
                <div class="crystal-ball">
                    <div class="crystal-glow"></div>
                    <div class="crystal-text">Touch the future...</div>
                </div>
            </div>

            <div class="predictions-grid">
                $predictionsHTML
            </div>

            <div id="prediction-result" class="prediction-output">
                The future is loading... 
            </div>
        </div>

        <hr class="neon-separator">

        <!-- ==================== JOB INTERVIEW SIMULATOR ==================== -->
        <h4 class="section-title">LC-ADVANCE JOB INTERVIEW 2025</h4>
        <div class="interview-box">
            <div class="interview-questions">
                <button onclick="askQuestion('What are your plans after graduation?')" class="btn-interview">Question 1</button>
                <button onclick="askQuestion('Where do you see yourself in 5 years?')" class="btn-interview">Question 2</button>
                <button onclick="askQuestion('Will you continue studying English?')" class="btn-interview">Question 3</button>
                <button onclick="askQuestion('What will Mexico be like in 2030?')" class="btn-interview">Question 4</button>
            </div>

            <div class="sample-answers">
                <button onclick="speak('I am going to study Software Engineering at university.')" class="btn-sample">Sample Answer 1</button>
                <button onclick="speak('In five years, I will have my own tech company.')" class="btn-sample">Sample Answer 2</button>
                <button onclick="speak('Yes, I will never stop learning English!')" class="btn-sample">Sample Answer 3</button>
            </div>
        </div>

        <!-- ==================== TIMELINE SVG ==================== -->
        <div class="timeline-svg">
            <svg viewBox="0 0 1200 500" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" style="stop-color:#ff00ff"/>
                        <stop offset="100%" style="stop-color:#00ffff"/>
                    </linearGradient>
                    <filter id="glow">
                        <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
                        <feMerge>
                            <feMergeNode in="coloredBlur"/>
                            <feMergeNode in="SourceGraphic"/>
                        </feMerge>
                    </filter>
                </defs>

                <rect width="100%" height="100%" fill="#0a0020"/>
                <text x="600" y="90" text-anchor="middle" fill="url(#grad1)" font-size="56" font-weight="bold" filter="url(#glow)">
                    FUTURE TIMELINE 2025 ‚Üí 2030
                </text>

                <line x1="100" y1="250" x2="1100" y2="250" stroke="url(#grad1)" stroke-width="10" opacity="0.8"/>

                <circle cx="200" cy="250" r="50" fill="#ff00ff" filter="url(#glow)"/>
                <text x="200" y="255" text-anchor="middle" fill="white" font-size="28" font-weight="bold">NOW</text>

                <circle cx="600" cy="250" r="60" fill="#00ffff" filter="url(#glow)"/>
                <text x="600" y="240" text-anchor="middle" fill="#0a0020" font-size="24" font-weight="bold">2026</text>
                <text x="600" y="270" text-anchor="middle" fill="#0a0020" font-size="20">University</text>

                <circle cx="1000" cy="250" r="70" fill="#ff00ff" filter="url(#glow)"/>
                <text x="1000" y="255" text-anchor="middle" fill="white" font-size="32" font-weight="bold">2030</text>

                <text x="600" y="420" text-anchor="middle" fill="#00ffff" font-size="48" font-weight="bold" filter="url(#glow)">
                    LC-ADVANCE CHAMPIONS
                </text>
            </svg>
        </div>

        <div class="final-message">
            <p>Next year, I <strong>am going to</strong> change my life.<br>
               In 2030, I <strong>will</strong> be successful.<br>
               <span class="rainbow-text">LC-ADVANCE students WILL conquer the world!</span></p>
        </div>
    </div>

    <!-- ====================== SCRIPTS ====================== -->
    <script>
        const predictions = $predictions_json;

        function makePrediction(text) {
            const result = document.getElementById('prediction-result');
            const crystal = document.querySelector('.crystal-ball');

            crystal.style.animation = 'pulse 1.5s infinite';
            
            result.innerHTML = '<div class="loading">Loading the future...</div>';
            
            setTimeout(() => {
                const utter = new SpeechSynthesisUtterance(text);
                utter.lang = 'en-US';
                utter.rate = 0.85;
                speechSynthesis.speak(utter);

                const trans = predictions[text] || '¬°Tu futuro es brillante!';
                
                result.innerHTML = `
                    <div class="prediction-final">
                        <div class="en-text">` + text + `</div>
                        <div class="es-text">` + trans + `</div>
                    </div>`;
                
                crystal.style.animation = 'none';
            }, 1200);
        }

        function askQuestion(q) {
            const utter = new SpeechSynthesisUtterance(q);
            utter.lang = 'en-US';
            speechSynthesis.speak(utter);
        }

        function speak(text) {
            const utter = new SpeechSynthesisUtterance(text);
            utter.lang = 'en-US';
            utter.rate = 0.9;
            speechSynthesis.speak(utter);
        }
    </script>
</div>
HTML
,
    'ejercicios' => [
        ["enunciado" => "Plan: 'Voy a estudiar ingl√©s ma√±ana'", "respuesta" => "I am going to study English tomorrow"],
        ["enunciado" => "Prediction: 'Llover√° esta tarde'", "respuesta" => "It will rain this afternoon"],
        ["enunciado" => "Spontaneous: '¬°Te ayudo!'", "respuesta" => "I'll help you!"],
        ["enunciado" => "Write 5 future plans for 2026", "respuesta" => "I am going to travel. I am going to learn coding. I am going to get a job. I am going to buy a car. I am going to help my family."],
        ["enunciado" => "Negative: 'No voy a comer pizza'", "respuesta" => "I am not going to eat pizza"],
        ["enunciado" => "Question: '¬øViajar√°s?'", "respuesta" => "Will you travel?"],
        ["enunciado" => "Plan for LC-ADVANCE graduation", "respuesta" => "I am going to celebrate with my friends"],
        ["enunciado" => "Prediction for English grade", "respuesta" => "I will get a 10!"],
        ["enunciado" => "Job interview: 'What are your plans?'", "respuesta" => "I am going to study engineering at university"],
        ["enunciado" => "Future with 'be going to' + verb", "respuesta" => "I am going to visit Guadalajara"],
        ["enunciado" => "Will for offer: 'Te llevo'", "respuesta" => "I'll take you"],
        ["enunciado" => "Translate: '¬øLlamar√°s?'", "respuesta" => "Will you call?"],
        ["enunciado" => "My dream in 10 years", "respuesta" => "I will have my own company"],
        ["enunciado" => "LC-ADVANCE in 2030", "respuesta" => "LC-ADVANCE will be the best school in Mexico"],
        ["enunciado" => "Best future tool 2025", "respuesta" => "LC-ADVANCE Prediction Game!"]
    ],
    'quiz' => [
        ["pregunta" => "'Going to' for...", "opciones" => ["plans & intentions", "past", "present habits", "finished actions"], "correcta" => "plans & intentions"],
        ["pregunta" => "'Will' for...", "opciones" => ["predictions & spontaneous decisions", "routines", "past", "habits"], "correcta" => "predictions & spontaneous decisions"],
        ["pregunta" => "I ___ study tomorrow", "opciones" => ["am going to", "will", "go to", "going"], "correcta" => "am going to"],
        ["pregunta" => "It ___ rain", "opciones" => ["will", "is going to", "rains", "raining"], "correcta" => "will"],
        ["pregunta" => "___ you help me?", "opciones" => ["Will", "Are", "Do", "Going to"], "correcta" => "Will"],
        ["pregunta" => "I ___ going to travel", "opciones" => ["am", "is", "are", "will"], "correcta" => "am"],
        ["pregunta" => "We ___ win the competition", "opciones" => ["will", "are going to", "win", "winning"], "correcta" => "will"],
        ["pregunta" => "She ___ call later", "opciones" => ["is going to", "will", "calls", "calling"], "correcta" => "is going to"],
        ["pregunta" => "Negative: I ___ eat junk food", "opciones" => ["am not going to", "will not", "don't", "not going"], "correcta" => "am not going to"],
        ["pregunta" => "Question: ___ travel next year?", "opciones" => ["Are you going to", "Will you", "Do you", "You going"], "correcta" => "Are you going to"],
        ["pregunta" => "I'll = I ___", "opciones" => ["will", "am going to", "going to", "am"], "correcta" => "will"],
        ["pregunta" => "LC-ADVANCE students ___ be engineers", "opciones" => ["are going to", "will", "be", "being"], "correcta" => "are going to"],
        ["pregunta" => "OK! I ___ help you now", "opciones" => ["will", "am going to", "help", "helping"], "correcta" => "will"],
        ["pregunta" => "In 2030, Mexico ___ be better", "opciones" => ["will", "is going to", "be", "being"], "correcta" => "will"],
        ["pregunta" => "I ___ visit my grandma tomorrow", "opciones" => ["am going to", "will", "visit", "visiting"], "correcta" => "am going to"],
        ["pregunta" => "Best future app 2025", "opciones" => ["LC-ADVANCE Prediction Game", "Duolingo", "Google", "TikTok"], "correcta" => "LC-ADVANCE Prediction Game"],
        ["pregunta" => "Will you pass Cambridge?", "opciones" => ["Yes, I will!", "No, I won't", "Maybe", "I don't know"], "correcta" => "Yes, I will!"],
        ["pregunta" => "I ___ going to bed now", "opciones" => ["am", "will", "go", "going"], "correcta" => "am"],
        ["pregunta" => "Phone rings ‚Üí I ___ get it", "opciones" => ["will", "am going to", "get", "getting"], "correcta" => "will"],
        ["pregunta" => "We have tickets ‚Üí We ___ travel", "opciones" => ["are going to", "will", "travel", "traveling"], "correcta" => "are going to"],
        ["pregunta" => "Clouds ‚Üí It ___ rain", "opciones" => ["is going to", "will", "rains", "raining"], "correcta" => "is going to"],
        ["pregunta" => "Job interview: plans after CBTIS?", "opciones" => ["I am going to university", "I went yesterday", "I go now", "I going"], "correcta" => "I am going to university"],
        ["pregunta" => "Future with evidence", "opciones" => ["going to", "will", "present", "past"], "correcta" => "going to"],
        ["pregunta" => "Spontaneous decision", "opciones" => ["will", "going to", "present continuous", "past"], "correcta" => "will"],
        ["pregunta" => "I think Mexico ___ win the World Cup", "opciones" => ["will", "is going to", "wins", "winning"], "correcta" => "will"],
        ["pregunta" => "Best B1 future lesson", "opciones" => ["LC-ADVANCE Future Game", "Duolingo", "Babbel", "Rosetta"], "correcta" => "LC-ADVANCE Future Game"],
        ["pregunta" => "In 5 years, I ___ have a job", "opciones" => ["will", "am going to", "have", "having"], "correcta" => "will"],
        ["pregunta" => "LC-ADVANCE ___ be #1 forever", "opciones" => ["will", "is going to", "is", "was"], "correcta" => "will"],
        ["pregunta" => "Ultimate future champions", "opciones" => ["LC-ADVANCE", "Harvard", "MIT", "Oxford"], "correcta" => "LC-ADVANCE"],
        ["pregunta" => "Yes, LC-ADVANCE ___ change the world!", "opciones" => ["will", "is going to", "does", "did"], "correcta" => "will"]
    ],
];
// ========================================
// MATERIA: INGL√âS
// Nivel: B1 - Full Conversation Practice + Chat Simulator + Voice Recorder + 15 Ejercicios + 30 Quiz 2025
// ========================================
// --- CHAT SIMULATOR CON RESPUESTAS AUTOM√ÅTICAS LC-ADVANCE ---
$chatOptions = [
    "Hi! How are you?" => "I'm great! Just finished English class at LC-ADVANCE. And you?",
    "What did you do yesterday?" => "I went to the mall with friends. I bought new shoes! What about you?",
    "What are you going to do tomorrow?" => "I'm going to study Math and play soccer after school. You?",
    "What's your favorite food?" => "I love tacos al pastor and pizza! What do you like to eat?",
    "Tell me about your family." => "I have two brothers and one sister. We live in Guadalajara. And your family?",
    "What time do you wake up?" => "I wake up at 6:30 for LC-ADVANCE. School starts at 7:45!",
    "Do you like English?" => "Yes! I love it! LC-ADVANCE has the best English program in Mexico!",
    "See you later!" => "Bye! See you tomorrow at school! üá≤üáΩ‚ú®"
];
$chatButtons = '';
foreach ($chatOptions as $you => $friend) {
    $chatButtons .= "<button onclick=\"sendMessage('$you', '$friend')\" style=\"margin:8px; padding:14px 20px; background:#4CAF50; color:white; border:none; border-radius:50px; font-size:17px; cursor:pointer; box-shadow:0 6px 12px rgba(0,0,0,0.25); transition:0.3s;\" onmouseover=\"this.style.transform='scale(1.1)'\" onmouseout=\"this.style.transform='scale(1)'\">üí¨ $you</button>";
}

$lecciones[] = [
    'materia' => 'Ingl√©s',
    'slug' => 'b1-conversation-practice-pro',
    'titulo' => 'B1: Full Conversation Practice + AI Chat + Voice Recorder + 30 Quiz 2025',
    'contenido' => <<<HTML
        <div class="lesson-page-wrapper">
            <div class="lesson-container">
                
                <!-- HEADER PRINCIPAL -->
                <div class="lesson-banner">
                    <div class="banner-content">
                        <h1>üéØ B1 CONVERSATION MASTER 2025</h1>
                        <p class="banner-subtitle">Real English Practice with AI + Voice Recognition</p>
                        <div class="banner-stats">
                            <div class="stat">
                                <span class="stat-number">100+</span>
                                <span class="stat-label">Phrases</span>
                            </div>
                            <div class="stat">
                                <span class="stat-number">8+</span>
                                <span class="stat-label">Topics</span>
                            </div>
                            <div class="stat">
                                <span class="stat-number">30</span>
                                <span class="stat-label">Quiz Questions</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- PROGRESS BAR -->
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="overall-progress" style="width: 0%"></div>
                    </div>
                    <p class="progress-text">Progress: <span id="progress-percent">0%</span></p>
                </div>

                <hr class="separator">

                <!-- SECCI√ìN 1: AI CHAT SIMULATOR -->
                <section class="section-card bg-green-chat">
                    <div class="section-header">
                        <h2>üí¨ LC-ADVANCE AI Chat Simulator</h2>
                        <p>Practice real conversations with Ana, your AI conversation partner!</p>
                    </div>

                    <div class="chat-options-bar">
                        <button onclick="sendAIMessage('greetings')" class="chat-quick-btn">üëã Greetings</button>
                        <button onclick="sendAIMessage('routine')" class="chat-quick-btn">üìÖ Daily Routine</button>
                        <button onclick="sendAIMessage('past')" class="chat-quick-btn">‚èÆÔ∏è Past Events</button>
                        <button onclick="sendAIMessage('future')" class="chat-quick-btn">‚è≠Ô∏è Future Plans</button>
                        <button onclick="sendAIMessage('food')" class="chat-quick-btn">üçï Food</button>
                        <button onclick="sendAIMessage('family')" class="chat-quick-btn">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Family</button>
                    </div>

                    <div id="chat-display" class="chat-display">
                        <div class="initial-message">üëã Hi! I'm Ana from LC-ADVANCE. Click a topic to start chatting!</div>
                    </div>

                    <div class="chat-input-area">
                        <input type="text" id="user-chat-input" placeholder="Type your message here..." class="chat-input">
                        <button onclick="sendCustomMessage()" class="btn-send">Send üì§</button>
                        <button onclick="clearChat()" class="btn-clear-chat">üóëÔ∏è Clear</button>
                    </div>
                </section>

                <hr class="separator">

                <!-- SECCI√ìN 2: VOICE RECORDER PRO -->
                <section class="section-card bg-orange-voice">
                    <div class="section-header">
                        <h2>üé§ Voice Recorder Pro</h2>
                        <p>Record yourself speaking and practice pronunciation!</p>
                    </div>

                    <div class="voice-controls">
                        <button id="record-btn" onclick="toggleRecording()" class="btn-record">
                            <span class="btn-icon">üé§</span> START RECORDING
                        </button>
                        <button id="play-btn" onclick="playRecording()" disabled class="btn-play">
                            <span class="btn-icon">‚ñ∂Ô∏è</span> PLAY
                        </button>
                        <button id="download-btn" onclick="downloadRecording()" disabled class="btn-download">
                            <span class="btn-icon">üíæ</span> DOWNLOAD
                        </button>
                    </div>

                    <div class="recording-status">
                        <div id="recording-wave" class="recording-wave hidden">
                            <div class="wave-bar"></div>
                            <div class="wave-bar"></div>
                            <div class="wave-bar"></div>
                            <div class="wave-bar"></div>
                            <div class="wave-bar"></div>
                        </div>
                        <p id="recording-status" class="status-text">Ready to record your B1 speaking!</p>
                        <audio id="audio-playback" controls class="audio-player hidden"></audio>
                    </div>

                    <div class="practice-topics">
                        <h4>üìù Practice Topics:</h4>
                        <div class="topic-chips">
                            <button onclick="speakTopic('Introduce yourself')" class="topic-chip">Introduce yourself</button>
                            <button onclick="speakTopic('Your daily routine')" class="topic-chip">Your daily routine</button>
                            <button onclick="speakTopic('Weekend plans')" class="topic-chip">Weekend plans</button>
                            <button onclick="speakTopic('Favorite food')" class="topic-chip">Favorite food</button>
                            <button onclick="speakTopic('Family members')" class="topic-chip">Family members</button>
                            <button onclick="speakTopic('Last vacation')" class="topic-chip">Last vacation</button>
                        </div>
                    </div>
                </section>

                <hr class="separator">

                <!-- SECCI√ìN 3: CONVERSATION STARTERS & FILLERS -->
                <section class="section-card bg-blue-fillers">
                    <div class="section-header">
                        <h2>üó£Ô∏è Conversation Starters & Fillers</h2>
                        <p>Essential phrases to keep conversations flowing naturally!</p>
                    </div>

                    <div class="fillers-grid">
                        <div class="filler-category">
                            <h4>üöÄ Starting Conversations</h4>
                            <button onclick="speakAndShow('How are you doing?')" class="filler-btn">How are you doing?</button>
                            <button onclick="speakAndShow('What\\'s up?')" class="filler-btn">What's up?</button>
                            <button onclick="speakAndShow('How was your day?')" class="filler-btn">How was your day?</button>
                            <button onclick="speakAndShow('Long time no see!')" class="filler-btn">Long time no see!</button>
                        </div>

                        <div class="filler-category">
                            <h4>üîÑ Keeping the Flow</h4>
                            <button onclick="speakAndShow('And you?')" class="filler-btn">And you?</button>
                            <button onclick="speakAndShow('That\\'s interesting!')" class="filler-btn">That's interesting!</button>
                            <button onclick="speakAndShow('Really?')" class="filler-btn">Really?</button>
                            <button onclick="speakAndShow('Tell me more!')" class="filler-btn">Tell me more!</button>
                        </div>

                        <div class="filler-category">
                            <h4>‚ùì When You Don't Understand</h4>
                            <button onclick="speakAndShow('Can you repeat, please?')" class="filler-btn">Can you repeat?</button>
                            <button onclick="speakAndShow('What do you mean?')" class="filler-btn">What do you mean?</button>
                            <button onclick="speakAndShow('I don\\'t understand')" class="filler-btn">I don't understand</button>
                            <button onclick="speakAndShow('Could you speak slower?')" class="filler-btn">Speak slower?</button>
                        </div>

                        <div class="filler-category">
                            <h4>üëã Ending Politely</h4>
                            <button onclick="speakAndShow('See you later!')" class="filler-btn">See you later!</button>
                            <button onclick="speakAndShow('Nice talking to you!')" class="filler-btn">Nice talking to you!</button>
                            <button onclick="speakAndShow('Take care!')" class="filler-btn">Take care!</button>
                            <button onclick="speakAndShow('Have a great day!')" class="filler-btn">Have a great day!</button>
                        </div>
                    </div>

                    <div id="filler-display" class="filler-display"></div>
                </section>

                <hr class="separator">

                <!-- SECCI√ìN 4: FULL CONVERSATION EXAMPLE -->
                <section class="section-card bg-purple-example">
                    <div class="section-header">
                        <h2>üé¨ Full Conversation Example</h2>
                        <p>Watch and listen to a complete B1 level conversation!</p>
                    </div>

                    <div class="conversation-example">
                        <div class="dialogue-line speaker-a">
                            <button onclick="speakText('Hi Maria! How are you doing?')" class="speak-mini-btn">üîä</button>
                            <strong>You:</strong> Hi Maria! How are you doing?
                        </div>
                        <div class="dialogue-line speaker-b">
                            <button onclick="speakText('I\\'m great, thanks! I just finished my English class at LC-ADVANCE.')" class="speak-mini-btn">üîä</button>
                            <strong>Maria:</strong> I'm great, thanks! I just finished my English class at LC-ADVANCE.
                        </div>
                        <div class="dialogue-line speaker-a">
                            <button onclick="speakText('That\\'s awesome! What did you learn today?')" class="speak-mini-btn">üîä</button>
                            <strong>You:</strong> That's awesome! What did you learn today?
                        </div>
                        <div class="dialogue-line speaker-b">
                            <button onclick="speakText('We practiced conversation skills and learned new vocabulary about travel.')" class="speak-mini-btn">üîä</button>
                            <strong>Maria:</strong> We practiced conversation skills and learned new vocabulary about travel.
                        </div>
                        <div class="dialogue-line speaker-a">
                            <button onclick="speakText('Cool! Are you going to travel soon?')" class="speak-mini-btn">üîä</button>
                            <strong>You:</strong> Cool! Are you going to travel soon?
                        </div>
                        <div class="dialogue-line speaker-b">
                            <button onclick="speakText('Yes! I\\'m going to visit Cancun next month. I\\'m really excited!')" class="speak-mini-btn">üîä</button>
                            <strong>Maria:</strong> Yes! I'm going to visit Cancun next month. I'm really excited!
                        </div>
                        <div class="dialogue-line speaker-a">
                            <button onclick="speakText('That sounds amazing! Have a great time and take lots of photos!')" class="speak-mini-btn">üîä</button>
                            <strong>You:</strong> That sounds amazing! Have a great time and take lots of photos!
                        </div>
                        <div class="dialogue-line speaker-b">
                            <button onclick="speakText('Thanks! See you later!')" class="speak-mini-btn">üîä</button>
                            <strong>Maria:</strong> Thanks! See you later!
                        </div>
                    </div>

                    <button onclick="playFullConversation()" class="btn-play-all">‚ñ∂Ô∏è Play Full Conversation</button>
                </section>

                <hr class="separator">

                <!-- SECCI√ìN 5: SVG DIAGRAM -->
                <div class="visual-diagram">
                    <h3 style="text-align:center; color:#ffcc00;">üìä LC-ADVANCE Conversation Flow</h3>
                    <svg viewBox="0 0 900 500" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <marker id="arrow" markerWidth="15" markerHeight="15" refX="12" refY="3" orient="auto">
                                <path d="M0,0 L0,6 L15,3 z" fill="#4CAF50"/>
                            </marker>
                            <marker id="arrow2" markerWidth="15" markerHeight="15" refX="12" refY="3" orient="auto">
                                <path d="M0,0 L0,6 L15,3 z" fill="#8BC34A"/>
                            </marker>
                        </defs>
                        
                        <rect x="0" y="0" width="900" height="500" fill="#E8F5E9"/>
                        
                        <text x="450" y="60" text-anchor="middle" font-size="36" fill="#2E7D32" font-weight="bold">
                            LC-ADVANCE CONVERSATION 2025
                        </text>
                        
                        <!-- YOU -->
                        <circle cx="200" cy="250" r="80" fill="#4CAF50"/>
                        <text x="200" y="240" text-anchor="middle" fill="white" font-size="18" font-weight="bold">YOU</text>
                        <text x="200" y="265" text-anchor="middle" fill="white" font-size="14">B1 Student</text>
                        
                        <!-- PARTNER -->
                        <circle cx="700" cy="250" r="80" fill="#8BC34A"/>
                        <text x="700" y="240" text-anchor="middle" fill="white" font-size="18" font-weight="bold">PARTNER</text>
                        <text x="700" y="265" text-anchor="middle" fill="white" font-size="14">Ana / Maria</text>
                        
                        <!-- ARROW 1: Question -->
                        <path d="M280 230 Q450 170 620 230" stroke="#4CAF50" stroke-width="8" fill="none" marker-end="url(#arrow)"/>
                        <text x="450" y="160" text-anchor="middle" fill="#1B5E20" font-size="20" font-weight="bold">
                            "How are you?" üó£Ô∏è
                        </text>
                        
                        <!-- ARROW 2: Response -->
                        <path d="M620 270 Q450 330 280 270" stroke="#8BC34A" stroke-width="8" fill="none" marker-end="url(#arrow2)"/>
                        <text x="450" y="370" text-anchor="middle" fill="#2E7D32" font-size="20" font-weight="bold">
                            "I'm great! And you?" üí¨
                        </text>
                        
                        <!-- TOPICS -->
                        <text x="450" y="440" text-anchor="middle" fill="#1B5E20" font-size="16" font-style="italic">
                            Topics: Greetings ‚Ä¢ Routine ‚Ä¢ Past ‚Ä¢ Future ‚Ä¢ Food ‚Ä¢ Family
                        </text>
                    </svg>
                    <p style="text-align:center; color:#4CAF50; margin-top:15px;">
                        <em>Real B1 conversation structure - Practice makes perfect! üåü</em>
                    </p>
                </div>

            </div>
        </div>

        <script>
            // ========================================
            // JAVASCRIPT FUNCTIONS - IMPROVED VERSION
            // ========================================
            
            // Global Variables
            let mediaRecorder = null;
            let audioChunks = [];
            let recordedBlob = null;
            let conversationData = {
                greetings: [
                    {q: "Hi! How are you?", a: "I'm great! Just finished English class at LC-ADVANCE. And you?"},
                    {q: "What's up?", a: "Not much! Just studying for my B1 exam. You?"},
                    {q: "How's it going?", a: "Pretty good! I'm excited about my English progress!"}
                ],
                routine: [
                    {q: "What time do you wake up?", a: "I wake up at 6:30 AM for LC-ADVANCE. School starts at 7:45!"},
                    {q: "What do you do after school?", a: "I usually study English, play soccer, and hang out with friends."},
                    {q: "Do you have any hobbies?", a: "Yes! I love reading, playing video games, and practicing English!"}
                ],
                past: [
                    {q: "What did you do yesterday?", a: "I went to the mall with friends and bought new shoes!"},
                    {q: "How was your weekend?", a: "It was awesome! I went to the movies and had a great time!"},
                    {q: "Did you travel recently?", a: "Yes! Last month I visited Guadalajara. It was amazing!"}
                ],
                future: [
                    {q: "What are you going to do tomorrow?", a: "I'm going to study Math and play soccer after school."},
                    {q: "Do you have any plans for the weekend?", a: "Yes! I'm going to watch a movie and practice English!"},
                    {q: "What will you do next vacation?", a: "I'm going to visit my grandparents in Monterrey!"}
                ],
                food: [
                    {q: "What's your favorite food?", a: "I love tacos al pastor and pizza! What do you like to eat?"},
                    {q: "Do you like Mexican food?", a: "Of course! Tacos, quesadillas, and enchiladas are delicious!"},
                    {q: "What did you eat for breakfast?", a: "I had cereal with milk and an orange. Simple but good!"}
                ],
                family: [
                    {q: "Tell me about your family.", a: "I have two brothers and one sister. We live in Guadalajara."},
                    {q: "Do you have any siblings?", a: "Yes! I have an older brother and a younger sister."},
                    {q: "What does your dad do?", a: "My dad is an engineer and my mom is a teacher. They're great!"}
                ]
            };

            // AI CHAT FUNCTIONS
            function sendAIMessage(topic) {
                const chatDisplay = document.getElementById('chat-display');
                const messages = conversationData[topic];
                const randomMsg = messages[Math.floor(Math.random() * messages.length)];
                
                // Clear initial message
                if (chatDisplay.querySelector('.initial-message')) {
                    chatDisplay.innerHTML = '';
                }
                
                // Add user message
                addChatBubble(randomMsg.q, 'user');
                
                // Add AI response after delay
                setTimeout(() => {
                    addChatBubble(randomMsg.a, 'ai');
                    speakText(randomMsg.a);
                    updateProgress(5);
                }, 800);
            }

            function sendCustomMessage() {
                const input = document.getElementById('user-chat-input');
                const message = input.value.trim();
                
                if (message === '') return;
                
                addChatBubble(message, 'user');
                input.value = '';
                
                // Generate simple AI response
                setTimeout(() => {
                    const responses = [
                        "That's interesting! Tell me more!",
                        "I see! And what happened next?",
                        "Really? That sounds cool!",
                        "Wow! I'd love to hear more about that!",
                        "That's great! Keep practicing your English!"
                    ];
                    const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                    addChatBubble(randomResponse, 'ai');
                    speakText(randomResponse);
                    updateProgress(3);
                }, 1000);
            }

            function addChatBubble(text, sender) {
                const chatDisplay = document.getElementById('chat-display');
                const bubble = document.createElement('div');
                bubble.className = `chat-bubble \${sender}`;
                bubble.innerHTML = `
                    <button onclick="speakText('\${text.replace(/'/g, "\\'")}'))" class="bubble-speak-btn">üîä</button>
                    <span>\${text}</span>
                `;
                chatDisplay.appendChild(bubble);
                chatDisplay.scrollTop = chatDisplay.scrollHeight;
            }

            function clearChat() {
                const chatDisplay = document.getElementById('chat-display');
                chatDisplay.innerHTML = '<div class="initial-message">üëã Chat cleared! Start a new conversation!</div>';
                updateProgress(2);
            }

            // VOICE RECORDER FUNCTIONS
            async function toggleRecording() {
                const recordBtn = document.getElementById('record-btn');
                const statusText = document.getElementById('recording-status');
                const wave = document.getElementById('recording-wave');
                
                if (!mediaRecorder || mediaRecorder.state === 'inactive') {
                    try {
                        const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
                        mediaRecorder = new MediaRecorder(stream);
                        audioChunks = [];
                        
                        mediaRecorder.ondataavailable = (event) => {
                            audioChunks.push(event.data);
                        };
                        
                        mediaRecorder.onstop = () => {
                            recordedBlob = new Blob(audioChunks, { type: 'audio/wav' });
                            const audioUrl = URL.createObjectURL(recordedBlob);
                            const audioPlayer = document.getElementById('audio-playback');
                            audioPlayer.src = audioUrl;
                            audioPlayer.classList.remove('hidden');
                            document.getElementById('play-btn').disabled = false;
                            document.getElementById('download-btn').disabled = false;
                        };
                        
                        mediaRecorder.start();
                        recordBtn.innerHTML = '<span class="btn-icon">‚èπÔ∏è</span> STOP RECORDING';
                        recordBtn.classList.add('recording');
                        statusText.textContent = 'üî¥ Recording... Speak now!';
                        wave.classList.remove('hidden');
                        updateProgress(10);
                    } catch (error) {
                        alert('Microphone access denied! Please allow microphone permissions.');
                    }
                } else {
                    mediaRecorder.stop();
                    mediaRecorder.stream.getTracks().forEach(track => track.stop());
                    recordBtn.innerHTML = '<span class="btn-icon">üé§</span> START RECORDING';
                    recordBtn.classList.remove('recording');
                    statusText.textContent = '‚úÖ Recording complete! Click PLAY to listen.';
                    wave.classList.add('hidden');
                }
            }

            function playRecording() {
                const audioPlayer = document.getElementById('audio-playback');
                audioPlayer.play();
                updateProgress(5);
            }

            function downloadRecording() {
                if (!recordedBlob) return;
                const url = URL.createObjectURL(recordedBlob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `LC-ADVANCE_Recording_\${Date.now()}.wav`;
                a.click();
                updateProgress(5);
            }

            function speakTopic(topic) {
                const message = `Practice topic: \${topic}. Start recording and speak for at least 30 seconds about this topic.`;
                speakText(message);
                showNotification(topic, 'info');
            }

            // CONVERSATION FILLERS
            function speakAndShow(text) {
                speakText(text);
                const display = document.getElementById('filler-display');
                display.innerHTML = `
                    <div class="filler-highlight">
                        <span class="filler-text">"\${text}"</span>
                        <button onclick="speakText('\${text.replace(/'/g, "\\'")}'))" class="repeat-btn">üîÅ Repeat</button>
                    </div>
                `;
                updateProgress(2);
            }

            // FULL CONVERSATION PLAYBACK
            async function playFullConversation() {
                const lines = [
                    "Hi Maria! How are you doing?",
                    "I'm great, thanks! I just finished my English class at LC-ADVANCE.",
                    "That's awesome! What did you learn today?",
                    "We practiced conversation skills and learned new vocabulary about travel.",
                    "Cool! Are you going to travel soon?",
                    "Yes! I'm going to visit Cancun next month. I'm really excited!",
                    "That sounds amazing! Have a great time and take lots of photos!",
                    "Thanks! See you later!"
                ];
                
                for (let i = 0; i < lines.length; i++) {
                    await speakTextAsync(lines[i]);
                    await sleep(1500);
                }
                updateProgress(15);
            }

            // UTILITY FUNCTIONS
            function speakText(text) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'en-US';
                utterance.rate = 0.9;
                speechSynthesis.speak(utterance);
            }

            function speakTextAsync(text) {
                return new Promise((resolve) => {
                    const utterance = new SpeechSynthesisUtterance(text);
                    utterance.lang = 'en-US';
                    utterance.rate = 0.9;
                    utterance.onend = resolve;
                    speechSynthesis.speak(utterance);
                });
            }

            function sleep(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            }

            function updateProgress(points) {
                const progressBar = document.getElementById('overall-progress');
                const progressText = document.getElementById('progress-percent');
                let currentWidth = parseInt(progressBar.style.width) || 0;
                let newWidth = Math.min(currentWidth + points, 100);
                progressBar.style.width = newWidth + '%';
                progressText.textContent = newWidth + '%';
            }

            function showNotification(message, type = 'info') {
                const notification = document.createElement('div');
                notification.className = `notification \${type}`;
                notification.textContent = message;
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.style.opacity = '0';
                    setTimeout(() => notification.remove(), 300);
                }, 3000);
            }

            // Enter key for chat
            document.addEventListener('DOMContentLoaded', () => {
                const chatInput = document.getElementById('user-chat-input');
                if (chatInput) {
                    chatInput.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter') {
                            sendCustomMessage();
                        }
                    });
                }
            });
        </script>
HTML
,
    'ejercicios' => [
        ["enunciado" => "Create a 10-line conversation with Ana (use Chat Simulator)", "respuesta" => "Hi! / How are you? / What did you do? / I went to... / Tomorrow I'm going to... / My favorite food is... / See you!"],
        ["enunciado" => "Record yourself: 'Introduce yourself + daily routine + plans'", "respuesta" => "Hi, I'm [name] from LC-ADVANCE. I wake up at 6:30... Tomorrow I'm going to..."],
        ["enunciado" => "Answer: 'What do you like to do in free time?'", "respuesta" => "I like to play soccer, watch Netflix and hang out with friends."],
        ["enunciado" => "Ask 5 questions to a classmate", "respuesta" => "What's your name? / How old are you? / What did you do yesterday? / What are you going to do tomorrow? / What's your favorite food?"],
        ["enunciado" => "Keep conversation: After 'I like pizza' say...", "respuesta" => "Me too! / Really? / And you?"],
        ["enunciado" => "Polite way to end: 'I have to go'", "respuesta" => "See you later! It was nice talking!"],
        ["enunciado" => "Translate: '¬øPuedes repetir?'", "respuesta" => "Can you repeat, please?"],
        ["enunciado" => "Full introduction LC-ADVANCE", "respuesta" => "Hi! I'm from LC-ADVANCE in Guadalajara. I study technical career and English B1."],
        ["enunciado" => "Record 1-minute monologue about your week", "respuesta" => "This week I studied... I went to... Tomorrow I will..."],
        ["enunciado" => "React to: 'I failed the test'", "respuesta" => "Don't worry! Next time you will pass!"],
        ["enunciado" => "Best conversation starter", "respuesta" => "How are you? / What's up? / How was your day?"],
        ["enunciado" => "Use filler: 'Well...', 'You know...'", "respuesta" => "Well, I think... / You know, in LC-ADVANCE..."],
        ["enunciado" => "Conversation with teacher", "respuesta" => "Good morning! / Can I ask a? / Thank you!"],
        ["enunciado" => "Best speaking app 2025", "respuesta" => "LC-ADVANCE Chat Simulator!"],
        ["enunciado" => "Record dialogue with friend", "respuesta" => "Use Voice Recorder for both parts"]
    ],
    'quiz' => [
        ["pregunta" => "Start conversation:", "opciones" => ["Hi! How are you?", "Goodbye", "Thank you", "See you"], "correcta" => "Hi! How are you?"],
        ["pregunta" => "Keep talking:", "opciones" => ["And you?", "Bye", "Thanks", "Please"], "correcta" => "And you?"],
        ["pregunta" => "Show interest:", "opciones" => ["Really? Cool!", "No", "Maybe", "Never"], "correcta" => "Really? Cool!"],
        ["pregunta" => "End conversation:", "opciones" => ["See you later!", "Hello!", "How are you?", "What's up?"], "correcta" => "See you later!"],
        ["pregunta" => "Don't understand:", "opciones" => ["Can you repeat?", "Yes", "No", "OK"], "correcta" => "Can you repeat?"],
        ["pregunta" => "Favorite food question:", "opciones" => ["What do you like to eat?", "What time is it?", "Where are you?", "How old?"], "correcta" => "What do you like to eat?"],
        ["pregunta" => "Past question:", "opciones" => ["What did you do yesterday?", "What will you do?", "What are you doing?", "What do you do?"], "correcta" => "What did you do yesterday?"],
        ["pregunta" => "Future question:", "opciones" => ["What are you going to do tomorrow?", "What did you do?", "What do you do?", "What time is it?"], "correcta" => "What are you going to do tomorrow?"],
        ["pregunta" => "Family question:", "opciones" => ["Tell me about your family", "How much is it?", "Where is it?", "When?"], "correcta" => "Tell me about your family"],
        ["pregunta" => "LC-ADVANCE students speak...", "opciones" => ["English B1 fluently", "only Spanish", "French", "Chinese"], "correcta" => "English B1 fluently"],
        ["pregunta" => "Best way to improve speaking:", "opciones" => ["Talk every day", "Only read", "Only write", "Only listen"], "correcta" => "Talk every day"],
        ["pregunta" => "After 'I'm fine' say...", "opciones" => ["And you?", "Bye", "Thanks", "No"], "correcta" => "And you?"],
        ["pregunta" => "Polite in conversation:", "opciones" => ["Please / Thank you", "Shut up", "No", "Whatever"], "correcta" => "Please / Thank you"],
        ["pregunta" => "B1 can have...", "opciones" => ["real conversations", "only basic greetings", "no English", "perfect accent"], "correcta" => "real conversations"],
        ["pregunta" => "Best conversation tool 2025", "opciones" => ["LC-ADVANCE Chat Simulator", "Duolingo", "HelloTalk", "Tandem"], "correcta" => "LC-ADVANCE Chat Simulator"],
        ["pregunta" => "Record yourself:", "opciones" => ["Yes, daily!", "No", "Only write", "Only read"], "correcta" => "Yes, daily!"],
        ["pregunta" => "Ana from LC-ADVANCE is...", "opciones" => ["B1 student", "teacher", "A1", "C2"], "correcta" => "B1 student"],
        ["pregunta" => "To react: 'I won!'", "opciones" => ["Congratulations!", "Bad", "No", "Whatever"], "correcta" => "Congratulations!"],
        ["pregunta" => "Filler words:", "opciones" => ["Well... You know...", "Never", "Always no", "Only yes"], "correcta" => "Well... You know..."],
        ["pregunta" => "See you later! = ", "opciones" => ["¬°Nos vemos!", "Hola", "Gracias", "Por favor"], "correcta" => "¬°Nos vemos!"],
        ["pregunta" => "Best speaking practice:", "opciones" => ["With friends daily", "Only alone", "Never talk", "Only watch"], "correcta" => "With friends daily"],
        ["pregunta" => "Can you repeat? = ", "opciones" => ["¬øPuedes repetir?", "S√≠", "No", "Tal vez"], "correcta" => "¬øPuedes repetir?"],
        ["pregunta" => "LC-ADVANCE students in 2025:", "opciones" => ["Speak English fluently", "Don't speak", "Only Spanish", "Only write"], "correcta" => "Speak English fluently"],
        ["pregunta" => "Conversation length B1:", "opciones" => ["5-10 minutes", "10 seconds", "1 hour", "never"], "correcta" => "5-10 minutes"],
        ["pregunta" => "Best recorder 2025:", "opciones" => ["LC-ADVANCE Voice Recorder", "Phone", "Computer", "Paper"], "correcta" => "LC-ADVANCE Voice Recorder"],
        ["pregunta" => "To improve pronunciation:", "opciones" => ["Record + listen", "Only read", "Only write", "Never speak"], "correcta" => "Record + listen"],
        ["pregunta" => "Ultimate speaking champions:", "opciones" => ["LC-ADVANCE", "Harvard", "Oxford", "MIT"], "correcta" => "LC-ADVANCE"],
        ["pregunta" => "Yes, LC-ADVANCE students ___ real conversations!", "opciones" => ["can have", "can't", "never", "sometimes no"], "correcta" => "can have"],
        ["pregunta" => "Best English B1 school Mexico:", "opciones" => ["LC-ADVANCE", "any other", "none", "USA schools"], "correcta" => "LC-ADVANCE"],
        ["pregunta" => "Conversation = key to...", "opciones" => ["Cambridge First", "only reading", "only grammar", "nothing"], "correcta" => "Cambridge First"]
    ],
];
?>